var FH=Object.defineProperty;var Dw=t=>{throw TypeError(t)};var qH=(t,e,r)=>e in t?FH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Vr=(t,e,r)=>qH(t,typeof e!="symbol"?e+"":e,r),zv=(t,e,r)=>e.has(t)||Dw("Cannot "+r);var se=(t,e,r)=>(zv(t,e,"read from private field"),r?r.call(t):e.get(t)),Be=(t,e,r)=>e.has(t)?Dw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),_e=(t,e,r,n)=>(zv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Qe=(t,e,r)=>(zv(t,e,"access private method"),r);var pb=(t,e,r,n)=>({set _(i){_e(t,e,i,r)},get _(){return se(t,e,n)}});var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var tS={exports:{}},jy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KH=Symbol.for("react.transitional.element"),QH=Symbol.for("react.fragment");function rS(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:KH,type:t,key:n,ref:e!==void 0?e:null,props:r}}jy.Fragment=QH;jy.jsx=rS;jy.jsxs=rS;tS.exports=jy;var ve=tS.exports,nS={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6=Symbol.for("react.transitional.element"),YH=Symbol.for("react.portal"),VH=Symbol.for("react.fragment"),GH=Symbol.for("react.strict_mode"),WH=Symbol.for("react.profiler"),XH=Symbol.for("react.consumer"),ZH=Symbol.for("react.context"),JH=Symbol.for("react.forward_ref"),eP=Symbol.for("react.suspense"),tP=Symbol.for("react.memo"),iS=Symbol.for("react.lazy"),Mw=Symbol.iterator;function rP(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var aS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sS=Object.assign,oS={};function Vd(t,e,r){this.props=t,this.context=e,this.refs=oS,this.updater=r||aS}Vd.prototype.isReactComponent={};Vd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fS(){}fS.prototype=Vd.prototype;function k6(t,e,r){this.props=t,this.context=e,this.refs=oS,this.updater=r||aS}var z6=k6.prototype=new fS;z6.constructor=k6;sS(z6,Vd.prototype);z6.isPureReactComponent=!0;var Rw=Array.isArray,Kt={H:null,A:null,T:null,S:null},cS=Object.prototype.hasOwnProperty;function j6(t,e,r,n,i,a){return r=a.ref,{$$typeof:U6,type:t,key:e,ref:r!==void 0?r:null,props:a}}function nP(t,e){return j6(t.type,e,void 0,void 0,void 0,t.props)}function $6(t){return typeof t=="object"&&t!==null&&t.$$typeof===U6}function iP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Lw=/\/+/g;function jv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iP(""+t.key):e.toString(36)}function Hw(){}function aP(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Hw,Hw):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fl(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case U6:case YH:s=!0;break;case iS:return s=t._init,fl(s(t._payload),e,r,n,i)}}if(s)return i=i(t),s=n===""?"."+jv(t,0):n,Rw(i)?(r="",s!=null&&(r=s.replace(Lw,"$&/")+"/"),fl(i,e,r,"",function(c){return c})):i!=null&&($6(i)&&(i=nP(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Lw,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=n===""?".":n+":";if(Rw(t))for(var f=0;f<t.length;f++)n=t[f],a=o+jv(n,f),s+=fl(n,e,r,a,i);else if(f=rP(t),typeof f=="function")for(t=f.call(t),f=0;!(n=t.next()).done;)n=n.value,a=o+jv(n,f++),s+=fl(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return fl(aP(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function bb(t,e,r){if(t==null)return t;var n=[],i=0;return fl(t,n,"","",function(a){return e.call(r,a,i++)}),n}function sP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pw=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function oP(){}je.Children={map:bb,forEach:function(t,e,r){bb(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bb(t,function(){e++}),e},toArray:function(t){return bb(t,function(e){return e})||[]},only:function(t){if(!$6(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Vd;je.Fragment=VH;je.Profiler=WH;je.PureComponent=k6;je.StrictMode=GH;je.Suspense=eP;je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;je.act=function(){throw Error("act(...) is not supported in production builds of React.")};je.cache=function(t){return function(){return t.apply(null,arguments)}};je.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=sS({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!cS.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(n[s]=e[s]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var o=Array(s),f=0;f<s;f++)o[f]=arguments[f+2];n.children=o}return j6(t.type,i,void 0,void 0,a,n)};je.createContext=function(t){return t={$$typeof:ZH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:XH,_context:t},t};je.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)cS.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var o=Array(s),f=0;f<s;f++)o[f]=arguments[f+2];i.children=o}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return j6(t,a,void 0,void 0,null,i)};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:JH,render:t}};je.isValidElement=$6;je.lazy=function(t){return{$$typeof:iS,_payload:{_status:-1,_result:t},_init:sP}};je.memo=function(t,e){return{$$typeof:tP,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Kt.T,r={};Kt.T=r;try{var n=t(),i=Kt.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(oP,Pw)}catch(a){Pw(a)}finally{Kt.T=e}};je.unstable_useCacheRefresh=function(){return Kt.H.useCacheRefresh()};je.use=function(t){return Kt.H.use(t)};je.useActionState=function(t,e,r){return Kt.H.useActionState(t,e,r)};je.useCallback=function(t,e){return Kt.H.useCallback(t,e)};je.useContext=function(t){return Kt.H.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t,e){return Kt.H.useDeferredValue(t,e)};je.useEffect=function(t,e){return Kt.H.useEffect(t,e)};je.useId=function(){return Kt.H.useId()};je.useImperativeHandle=function(t,e,r){return Kt.H.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return Kt.H.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Kt.H.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Kt.H.useMemo(t,e)};je.useOptimistic=function(t,e){return Kt.H.useOptimistic(t,e)};je.useReducer=function(t,e,r){return Kt.H.useReducer(t,e,r)};je.useRef=function(t){return Kt.H.useRef(t)};je.useState=function(t){return Kt.H.useState(t)};je.useSyncExternalStore=function(t,e,r){return Kt.H.useSyncExternalStore(t,e,r)};je.useTransition=function(){return Kt.H.useTransition()};je.version="19.0.0";nS.exports=je;var yr=nS.exports,uS={exports:{}},$y={},lS={exports:{}},dS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(d,g){var x=d.length;d.push(g);e:for(;0<x;){var E=x-1>>>1,h=d[E];if(0<i(h,g))d[E]=g,d[x]=h,x=E;else break e}}function r(d){return d.length===0?null:d[0]}function n(d){if(d.length===0)return null;var g=d[0],x=d.pop();if(x!==g){d[0]=x;e:for(var E=0,h=d.length,T=h>>>1;E<T;){var j=2*(E+1)-1,L=d[j],$=j+1,F=d[$];if(0>i(L,x))$<h&&0>i(F,L)?(d[E]=F,d[$]=x,E=$):(d[E]=L,d[j]=x,E=j);else if($<h&&0>i(F,x))d[E]=F,d[$]=x,E=$;else break e}}return g}function i(d,g){var x=d.sortIndex-g.sortIndex;return x!==0?x:d.id-g.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var f=[],c=[],u=1,l=null,p=3,y=!1,m=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(d){for(var g=r(c);g!==null;){if(g.callback===null)n(c);else if(g.startTime<=d)n(c),g.sortIndex=g.expirationTime,e(f,g);else break;g=r(c)}}function M(d){if(A=!1,O(d),!m)if(r(f)!==null)m=!0,b();else{var g=r(c);g!==null&&v(M,g.startTime-d)}}var U=!1,K=-1,Q=5,k=-1;function G(){return!(t.unstable_now()-k<Q)}function W(){if(U){var d=t.unstable_now();k=d;var g=!0;try{e:{m=!1,A&&(A=!1,w(K),K=-1),y=!0;var x=p;try{t:{for(O(d),l=r(f);l!==null&&!(l.expirationTime>d&&G());){var E=l.callback;if(typeof E=="function"){l.callback=null,p=l.priorityLevel;var h=E(l.expirationTime<=d);if(d=t.unstable_now(),typeof h=="function"){l.callback=h,O(d),g=!0;break t}l===r(f)&&n(f),O(d)}else n(f);l=r(f)}if(l!==null)g=!0;else{var T=r(c);T!==null&&v(M,T.startTime-d),g=!1}}break e}finally{l=null,p=x,y=!1}g=void 0}}finally{g?R():U=!1}}}var R;if(typeof C=="function")R=function(){C(W)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=W,R=function(){I.postMessage(null)}}else R=function(){S(W,0)};function b(){U||(U=!0,R())}function v(d,g){K=S(function(){d(t.unstable_now())},g)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(d){d.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,b())},t.unstable_forceFrameRate=function(d){0>d||125<d?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<d?Math.floor(1e3/d):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(d){switch(p){case 1:case 2:case 3:var g=3;break;default:g=p}var x=p;p=g;try{return d()}finally{p=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(d,g){switch(d){case 1:case 2:case 3:case 4:case 5:break;default:d=3}var x=p;p=d;try{return g()}finally{p=x}},t.unstable_scheduleCallback=function(d,g,x){var E=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?E+x:E):x=E,d){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=x+h,d={id:u++,callback:g,priorityLevel:d,startTime:x,expirationTime:h,sortIndex:-1},x>E?(d.sortIndex=x,e(c,d),r(f)===null&&d===r(c)&&(A?(w(K),K=-1):A=!0,v(M,x-E))):(d.sortIndex=h,e(f,d),m||y||(m=!0,b())),d},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(d){var g=p;return function(){var x=p;p=g;try{return d.apply(this,arguments)}finally{p=x}}}})(dS);lS.exports=dS;var fP=lS.exports,hS={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=yr;function pS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sf(){}var qn={d:{f:sf,r:function(){throw Error(pS(522))},D:sf,C:sf,L:sf,m:sf,X:sf,S:sf,M:sf},p:0,findDOMNode:null},uP=Symbol.for("react.portal");function lP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uP,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Lh=cP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Zn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(pS(299));return lP(t,e,null,r)};Zn.flushSync=function(t){var e=Lh.T,r=qn.p;try{if(Lh.T=null,qn.p=2,t)return t()}finally{Lh.T=e,qn.p=r,qn.d.f()}};Zn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Zn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Zn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=Fy(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&qn.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=Fy(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Zn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=Fy(r,e.crossOrigin);qn.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zn.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=Fy(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Zn.requestFormReset=function(t){qn.d.r(t)};Zn.unstable_batchedUpdates=function(t,e){return t(e)};Zn.useFormState=function(t,e,r){return Lh.H.useFormState(t,e,r)};Zn.useFormStatus=function(){return Lh.H.useHostTransitionStatus()};Zn.version="19.0.0";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(t){console.error(t)}}bS(),hS.exports=Zn;var dP=hS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=fP,gS=yr,hP=dP;function pe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var pP=Symbol.for("react.element"),gb=Symbol.for("react.transitional.element"),vh=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),vS=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),bP=Symbol.for("react.provider"),_S=Symbol.for("react.consumer"),mo=Symbol.for("react.context"),F6=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),q6=Symbol.for("react.memo"),wf=Symbol.for("react.lazy"),mS=Symbol.for("react.offscreen"),gP=Symbol.for("react.memo_cache_sentinel"),Nw=Symbol.iterator;function V0(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var yP=Symbol.for("react.client.reference");function Nm(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===yP?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pl:return"Fragment";case vh:return"Portal";case Lm:return"Profiler";case vS:return"StrictMode";case Hm:return"Suspense";case Pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mo:return(t.displayName||"Context")+".Provider";case _S:return(t._context.displayName||"Context")+".Consumer";case F6:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q6:return e=t.displayName||null,e!==null?e:Nm(t.type)||"Memo";case wf:e=t._payload,t=t._init;try{return Nm(t(e))}catch{}}return null}var ke=gS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt=Object.assign,$v,Uw;function _h(t){if($v===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$v=e&&e[1]||"",Uw=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$v+t+Uw}var Fv=!1;function qv(t,e){if(!t||Fv)return"";Fv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(y){var p=y}Reflect.construct(t,[],l)}else{try{l.call()}catch(y){p=y}t.call(l.prototype)}}else{try{throw Error()}catch(y){p=y}(l=t())&&typeof l.catch=="function"&&l.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var f=s.split(`
`),c=o.split(`
`);for(i=n=0;n<f.length&&!f[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===f.length||i===c.length)for(n=f.length-1,i=c.length-1;1<=n&&0<=i&&f[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(f[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||f[n]!==c[i]){var u=`
`+f[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=i);break}}}finally{Fv=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?_h(r):""}function vP(t){switch(t.tag){case 26:case 27:case 5:return _h(t.type);case 16:return _h("Lazy");case 13:return _h("Suspense");case 19:return _h("SuspenseList");case 0:case 15:return t=qv(t.type,!1),t;case 11:return t=qv(t.type.render,!1),t;case 1:return t=qv(t.type,!0),t;default:return""}}function kw(t){try{var e="";do e+=vP(t),t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Gd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zw(t){if(Gd(t)!==t)throw Error(pe(188))}function _P(t){var e=t.alternate;if(!e){if(e=Gd(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return zw(i),t;if(a===n)return zw(i),e;a=a.sibling}throw Error(pe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function AS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=AS(t),e!==null)return e;t=t.sibling}return null}var mh=Array.isArray,Tt=hP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,au={pending:!1,data:null,method:null,action:null},Um=[],bl=-1;function Ks(t){return{current:t}}function zr(t){0>bl||(t.current=Um[bl],Um[bl]=null,bl--)}function Ut(t,e){bl++,Um[bl]=t.current,t.current=e}var Ds=Ks(null),fp=Ks(null),Ff=Ks(null),Sg=Ks(null);function Ig(t,e){switch(Ut(Ff,e),Ut(fp,t),Ut(Ds,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?j7(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=j7(t),e=LC(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}zr(Ds),Ut(Ds,e)}function cd(){zr(Ds),zr(fp),zr(Ff)}function km(t){t.memoizedState!==null&&Ut(Sg,t);var e=Ds.current,r=LC(e,t.type);e!==r&&(Ut(fp,t),Ut(Ds,r))}function Cg(t){fp.current===t&&(zr(Ds),zr(fp)),Sg.current===t&&(zr(Sg),_p._currentValue=au)}var zm=Object.prototype.hasOwnProperty,K6=Sr.unstable_scheduleCallback,Kv=Sr.unstable_cancelCallback,mP=Sr.unstable_shouldYield,wP=Sr.unstable_requestPaint,Ms=Sr.unstable_now,AP=Sr.unstable_getCurrentPriorityLevel,ES=Sr.unstable_ImmediatePriority,xS=Sr.unstable_UserBlockingPriority,Tg=Sr.unstable_NormalPriority,EP=Sr.unstable_LowPriority,SS=Sr.unstable_IdlePriority,xP=Sr.log,SP=Sr.unstable_setDisableYieldValue,Wp=null,Bi=null;function IP(t){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(Wp,t,void 0,(t.current.flags&128)===128)}catch{}}function kf(t){if(typeof xP=="function"&&SP(t),Bi&&typeof Bi.setStrictMode=="function")try{Bi.setStrictMode(Wp,t)}catch{}}var Di=Math.clz32?Math.clz32:OP,CP=Math.log,TP=Math.LN2;function OP(t){return t>>>=0,t===0?32:31-(CP(t)/TP|0)|0}var yb=128,vb=4194304;function Lc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qy(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=t.warmLanes;t=t.finishedLanes!==0;var o=r&134217727;return o!==0?(r=o&~i,r!==0?n=Lc(r):(a&=o,a!==0?n=Lc(a):t||(s=o&~s,s!==0&&(n=Lc(s))))):(o=r&~i,o!==0?n=Lc(o):a!==0?n=Lc(a):t||(s=r&~s,s!==0&&(n=Lc(s)))),n===0?0:e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===32&&(s&4194176)!==0)?e:n}function Xp(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function BP(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IS(){var t=yb;return yb<<=1,!(yb&4194176)&&(yb=128),t}function CS(){var t=vb;return vb<<=1,!(vb&62914560)&&(vb=4194304),t}function Qv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zp(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function DP(t,e,r,n,i,a){var s=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var o=t.entanglements,f=t.expirationTimes,c=t.hiddenUpdates;for(r=s&~r;0<r;){var u=31-Di(r),l=1<<u;o[u]=0,f[u]=-1;var p=c[u];if(p!==null)for(c[u]=null,u=0;u<p.length;u++){var y=p[u];y!==null&&(y.lane&=-536870913)}r&=~l}n!==0&&TS(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function TS(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Di(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194218}function OS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Di(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function BS(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function DS(){var t=Tt.p;return t!==0?t:(t=window.event,t===void 0?32:qC(t.type))}function MP(t,e){var r=Tt.p;try{return Tt.p=t,e()}finally{Tt.p=r}}var pc=Math.random().toString(36).slice(2),wn="__reactFiber$"+pc,oi="__reactProps$"+pc,Wd="__reactContainer$"+pc,jm="__reactEvents$"+pc,RP="__reactListeners$"+pc,LP="__reactHandles$"+pc,jw="__reactResources$"+pc,cp="__reactMarker$"+pc;function Q6(t){delete t[wn],delete t[oi],delete t[jm],delete t[RP],delete t[LP]}function qc(t){var e=t[wn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wd]||r[wn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=F7(t);t!==null;){if(r=t[wn])return r;t=F7(t)}return e}t=r,r=t.parentNode}return null}function Xd(t){if(t=t[wn]||t[Wd]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function wh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(pe(33))}function Ml(t){var e=t[jw];return e||(e=t[jw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Lr(t){t[cp]=!0}var MS=new Set,RS={};function Mu(t,e){ud(t,e),ud(t+"Capture",e)}function ud(t,e){for(RS[t]=e,t=0;t<e.length;t++)MS.add(e[t])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$w={},Fw={};function PP(t){return zm.call(Fw,t)?!0:zm.call($w,t)?!1:HP.test(t)?Fw[t]=!0:($w[t]=!0,!1)}function rg(t,e,r){if(PP(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function _b(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function eo(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function ia(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NP(t){var e=LS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Og(t){t._valueTracker||(t._valueTracker=NP(t))}function HS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=LS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var UP=/[\n"\\]/g;function oa(t){return t.replace(UP,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $m(t,e,r,n,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ia(e)):t.value!==""+ia(e)&&(t.value=""+ia(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Fm(t,s,ia(e)):r!=null?Fm(t,s,ia(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ia(o):t.removeAttribute("name")}function PS(t,e,r,n,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;r=r!=null?""+ia(r):"",e=e!=null?""+ia(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function Fm(t,e,r){e==="number"&&Bg(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ia(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function NS(t,e,r){if(e!=null&&(e=""+ia(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+ia(r):""}function US(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(pe(92));if(mh(n)){if(1<n.length)throw Error(pe(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=ia(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function ld(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qw(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||kP.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function kS(t,e,r){if(e!=null&&typeof e!="object")throw Error(pe(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&qw(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&qw(t,a,e[a])}function Y6(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ng(t){return jP.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qm=null;function V6(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gl=null,Ll=null;function Kw(t){var e=Xd(t);if(e&&(t=e.stateNode)){var r=t[oi]||null;e:switch(t=e.stateNode,e.type){case"input":if($m(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+oa(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[oi]||null;if(!i)throw Error(pe(90));$m(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&HS(n)}break e;case"textarea":NS(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&Rl(t,!!r.multiple,e,!1)}}}var Yv=!1;function zS(t,e,r){if(Yv)return t(e,r);Yv=!0;try{var n=t(e);return n}finally{if(Yv=!1,(gl!==null||Ll!==null)&&(e2(),gl&&(e=gl,t=Ll,Ll=gl=null,Kw(e),t)))for(e=0;e<t.length;e++)Kw(t[e])}}function up(t,e){var r=t.stateNode;if(r===null)return null;var n=r[oi]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var Km=!1;if(Po)try{var G0={};Object.defineProperty(G0,"passive",{get:function(){Km=!0}}),window.addEventListener("test",G0,G0),window.removeEventListener("test",G0,G0)}catch{Km=!1}var zf=null,G6=null,ig=null;function jS(){if(ig)return ig;var t,e=G6,r=e.length,n,i="value"in zf?zf.value:zf.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return ig=i.slice(t,1<n?1-n:void 0)}function ag(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mb(){return!0}function Qw(){return!1}function di(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?mb:Qw,this.isPropagationStopped=Qw,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mb)},persist:function(){},isPersistent:mb}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=di(Ru),Jp=Dt({},Ru,{view:0,detail:0}),$P=di(Jp),Vv,Gv,W0,Qy=Dt({},Jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W6,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==W0&&(W0&&t.type==="mousemove"?(Vv=t.screenX-W0.screenX,Gv=t.screenY-W0.screenY):Gv=Vv=0,W0=t),Vv)},movementY:function(t){return"movementY"in t?t.movementY:Gv}}),Yw=di(Qy),FP=Dt({},Qy,{dataTransfer:0}),qP=di(FP),KP=Dt({},Jp,{relatedTarget:0}),Wv=di(KP),QP=Dt({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),YP=di(QP),VP=Dt({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GP=di(VP),WP=Dt({},Ru,{data:0}),Vw=di(WP),XP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JP[t])?!!e[t]:!1}function W6(){return eN}var tN=Dt({},Jp,{key:function(t){if(t.key){var e=XP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ag(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W6,charCode:function(t){return t.type==="keypress"?ag(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ag(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rN=di(tN),nN=Dt({},Qy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=di(nN),iN=Dt({},Jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W6}),aN=di(iN),sN=Dt({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=di(sN),fN=Dt({},Qy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cN=di(fN),uN=Dt({},Ru,{newState:0,oldState:0}),lN=di(uN),dN=[9,13,27,32],X6=Po&&"CompositionEvent"in window,Hh=null;Po&&"documentMode"in document&&(Hh=document.documentMode);var hN=Po&&"TextEvent"in window&&!Hh,$S=Po&&(!X6||Hh&&8<Hh&&11>=Hh),Ww=" ",Xw=!1;function FS(t,e){switch(t){case"keyup":return dN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function pN(t,e){switch(t){case"compositionend":return qS(e);case"keypress":return e.which!==32?null:(Xw=!0,Ww);case"textInput":return t=e.data,t===Ww&&Xw?null:t;default:return null}}function bN(t,e){if(yl)return t==="compositionend"||!X6&&FS(t,e)?(t=jS(),ig=G6=zf=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $S&&e.locale!=="ko"?null:e.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gN[t.type]:e==="textarea"}function KS(t,e,r,n){gl?Ll?Ll.push(n):Ll=[n]:gl=n,e=Qg(e,"onChange"),0<e.length&&(r=new Ky("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ph=null,lp=null;function yN(t){DC(t,0)}function Yy(t){var e=wh(t);if(HS(e))return t}function Jw(t,e){if(t==="change")return e}var QS=!1;if(Po){var Xv;if(Po){var Zv="oninput"in document;if(!Zv){var e7=document.createElement("div");e7.setAttribute("oninput","return;"),Zv=typeof e7.oninput=="function"}Xv=Zv}else Xv=!1;QS=Xv&&(!document.documentMode||9<document.documentMode)}function t7(){Ph&&(Ph.detachEvent("onpropertychange",YS),lp=Ph=null)}function YS(t){if(t.propertyName==="value"&&Yy(lp)){var e=[];KS(e,lp,t,V6(t)),zS(yN,e)}}function vN(t,e,r){t==="focusin"?(t7(),Ph=e,lp=r,Ph.attachEvent("onpropertychange",YS)):t==="focusout"&&t7()}function _N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yy(lp)}function mN(t,e){if(t==="click")return Yy(e)}function wN(t,e){if(t==="input"||t==="change")return Yy(e)}function AN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Li=typeof Object.is=="function"?Object.is:AN;function dp(t,e){if(Li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zm.call(e,i)||!Li(t[i],e[i]))return!1}return!0}function r7(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n7(t,e){var r=r7(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=r7(r)}}function VS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GS(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Bg(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bg(t.document)}return e}function Z6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EN(t,e){var r=GS(e);e=t.focusedElem;var n=t.selectionRange;if(r!==e&&e&&e.ownerDocument&&VS(e.ownerDocument.documentElement,e)){if(n!==null&&Z6(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!r.extend&&a>n&&(i=n,n=a,a=i),i=n7(e,a);var s=n7(e,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),a>n?(r.addRange(t),r.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xN=Po&&"documentMode"in document&&11>=document.documentMode,vl=null,Qm=null,Nh=null,Ym=!1;function i7(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ym||vl==null||vl!==Bg(n)||(n=vl,"selectionStart"in n&&Z6(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nh&&dp(Nh,n)||(Nh=n,n=Qg(Qm,"onSelect"),0<n.length&&(e=new Ky("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vl)))}function Dc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _l={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionrun:Dc("Transition","TransitionRun"),transitionstart:Dc("Transition","TransitionStart"),transitioncancel:Dc("Transition","TransitionCancel"),transitionend:Dc("Transition","TransitionEnd")},Jv={},WS={};Po&&(WS=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Lu(t){if(Jv[t])return Jv[t];if(!_l[t])return t;var e=_l[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in WS)return Jv[t]=e[r];return t}var XS=Lu("animationend"),ZS=Lu("animationiteration"),JS=Lu("animationstart"),SN=Lu("transitionrun"),IN=Lu("transitionstart"),CN=Lu("transitioncancel"),eI=Lu("transitionend"),tI=new Map,a7="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function us(t,e){tI.set(t,e),Mu(e,[t])}var ta=[],ml=0,J6=0;function Vy(){for(var t=ml,e=J6=ml=0;e<t;){var r=ta[e];ta[e++]=null;var n=ta[e];ta[e++]=null;var i=ta[e];ta[e++]=null;var a=ta[e];if(ta[e++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}a!==0&&rI(r,i,a)}}function Gy(t,e,r,n){ta[ml++]=t,ta[ml++]=e,ta[ml++]=r,ta[ml++]=n,J6|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function e4(t,e,r,n){return Gy(t,e,r,n),Dg(t)}function rc(t,e){return Gy(t,null,null,e),Dg(t)}function rI(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;i&&e!==null&&t.tag===3&&(a=t.stateNode,i=31-Di(r),a=a.hiddenUpdates,t=a[i],t===null?a[i]=[e]:t.push(e),e.lane=r|536870912)}function Dg(t){if(50<Gh)throw Gh=0,b3=null,Error(pe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wl={},s7=new WeakMap;function fa(t,e){if(typeof t=="object"&&t!==null){var r=s7.get(t);return r!==void 0?r:(e={value:t,source:e,stack:kw(e)},s7.set(t,e),e)}return{value:t,source:e,stack:kw(e)}}var Al=[],El=0,Mg=null,Rg=0,aa=[],sa=0,su=null,wo=1,Ao="";function Hc(t,e){Al[El++]=Rg,Al[El++]=Mg,Mg=t,Rg=e}function nI(t,e,r){aa[sa++]=wo,aa[sa++]=Ao,aa[sa++]=su,su=t;var n=wo;t=Ao;var i=32-Di(n)-1;n&=~(1<<i),r+=1;var a=32-Di(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,wo=1<<32-Di(e)+i|r<<i|n,Ao=a+t}else wo=1<<a|r<<i|n,Ao=t}function t4(t){t.return!==null&&(Hc(t,1),nI(t,1,0))}function r4(t){for(;t===Mg;)Mg=Al[--El],Al[El]=null,Rg=Al[--El],Al[El]=null;for(;t===su;)su=aa[--sa],aa[sa]=null,Ao=aa[--sa],aa[sa]=null,wo=aa[--sa],aa[sa]=null}var $n=null,Xr=null,et=!1,qa=null,As=!1,Vm=Error(pe(519));function gu(t){var e=Error(pe(418,""));throw hp(fa(e,t)),Vm}function o7(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[wn]=t,e[oi]=n,r){case"dialog":Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":case"embed":Ve("load",e);break;case"video":case"audio":for(r=0;r<gp.length;r++)Ve(gp[r],e);break;case"source":Ve("error",e);break;case"img":case"image":case"link":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"input":Ve("invalid",e),PS(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Og(e);break;case"select":Ve("invalid",e);break;case"textarea":Ve("invalid",e),US(e,n.value,n.defaultValue,n.children),Og(e)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||RC(e.textContent,r)?(n.popover!=null&&(Ve("beforetoggle",e),Ve("toggle",e)),n.onScroll!=null&&Ve("scroll",e),n.onScrollEnd!=null&&Ve("scrollend",e),n.onClick!=null&&(e.onclick=r2),e=!0):e=!1,e||gu(t)}function f7(t){for($n=t.return;$n;)switch($n.tag){case 3:case 27:As=!0;return;case 5:case 13:As=!1;return;default:$n=$n.return}}function X0(t){if(t!==$n)return!1;if(!et)return f7(t),et=!0,!1;var e=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||A3(t.type,t.memoizedProps)),r=!r),r&&(e=!0),e&&Xr&&gu(t),f7(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(e===0){Xr=es(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++;t=t.nextSibling}Xr=null}}else Xr=$n?es(t.stateNode.nextSibling):null;return!0}function e1(){Xr=$n=null,et=!1}function hp(t){qa===null?qa=[t]:qa.push(t)}var Uh=Error(pe(460)),iI=Error(pe(474)),Gm={then:function(){}};function c7(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wb(){}function aI(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(wb,wb),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Uh?Error(pe(483)):t;default:if(typeof e.status=="string")e.then(wb,wb);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(pe(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Uh?Error(pe(483)):t}throw kh=e,Uh}}var kh=null;function u7(){if(kh===null)throw Error(pe(459));var t=kh;return kh=null,t}var Hl=null,pp=0;function Ab(t){var e=pp;return pp+=1,Hl===null&&(Hl=[]),aI(Hl,t,e)}function Z0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Eb(t,e){throw e.$$typeof===pP?Error(pe(525)):(t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function l7(t){var e=t._init;return e(t._payload)}function sI(t){function e(w,C){if(t){var O=w.deletions;O===null?(w.deletions=[C],w.flags|=16):O.push(C)}}function r(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function n(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function i(w,C){return w=Qf(w,C),w.index=0,w.sibling=null,w}function a(w,C,O){return w.index=O,t?(O=w.alternate,O!==null?(O=O.index,O<C?(w.flags|=33554434,C):O):(w.flags|=33554434,C)):(w.flags|=1048576,C)}function s(w){return t&&w.alternate===null&&(w.flags|=33554434),w}function o(w,C,O,M){return C===null||C.tag!==6?(C=l_(O,w.mode,M),C.return=w,C):(C=i(C,O),C.return=w,C)}function f(w,C,O,M){var U=O.type;return U===pl?u(w,C,O.props.children,M,O.key):C!==null&&(C.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===wf&&l7(U)===C.type)?(C=i(C,O.props),Z0(C,O),C.return=w,C):(C=ug(O.type,O.key,O.props,null,w.mode,M),Z0(C,O),C.return=w,C)}function c(w,C,O,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=d_(O,w.mode,M),C.return=w,C):(C=i(C,O.children||[]),C.return=w,C)}function u(w,C,O,M,U){return C===null||C.tag!==7?(C=fu(O,w.mode,M,U),C.return=w,C):(C=i(C,O),C.return=w,C)}function l(w,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=l_(""+C,w.mode,O),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gb:return O=ug(C.type,C.key,C.props,null,w.mode,O),Z0(O,C),O.return=w,O;case vh:return C=d_(C,w.mode,O),C.return=w,C;case wf:var M=C._init;return C=M(C._payload),l(w,C,O)}if(mh(C)||V0(C))return C=fu(C,w.mode,O,null),C.return=w,C;if(typeof C.then=="function")return l(w,Ab(C),O);if(C.$$typeof===mo)return l(w,xb(w,C),O);Eb(w,C)}return null}function p(w,C,O,M){var U=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return U!==null?null:o(w,C,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case gb:return O.key===U?f(w,C,O,M):null;case vh:return O.key===U?c(w,C,O,M):null;case wf:return U=O._init,O=U(O._payload),p(w,C,O,M)}if(mh(O)||V0(O))return U!==null?null:u(w,C,O,M,null);if(typeof O.then=="function")return p(w,C,Ab(O),M);if(O.$$typeof===mo)return p(w,C,xb(w,O),M);Eb(w,O)}return null}function y(w,C,O,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return w=w.get(O)||null,o(C,w,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case gb:return w=w.get(M.key===null?O:M.key)||null,f(C,w,M,U);case vh:return w=w.get(M.key===null?O:M.key)||null,c(C,w,M,U);case wf:var K=M._init;return M=K(M._payload),y(w,C,O,M,U)}if(mh(M)||V0(M))return w=w.get(O)||null,u(C,w,M,U,null);if(typeof M.then=="function")return y(w,C,O,Ab(M),U);if(M.$$typeof===mo)return y(w,C,O,xb(C,M),U);Eb(C,M)}return null}function m(w,C,O,M){for(var U=null,K=null,Q=C,k=C=0,G=null;Q!==null&&k<O.length;k++){Q.index>k?(G=Q,Q=null):G=Q.sibling;var W=p(w,Q,O[k],M);if(W===null){Q===null&&(Q=G);break}t&&Q&&W.alternate===null&&e(w,Q),C=a(W,C,k),K===null?U=W:K.sibling=W,K=W,Q=G}if(k===O.length)return r(w,Q),et&&Hc(w,k),U;if(Q===null){for(;k<O.length;k++)Q=l(w,O[k],M),Q!==null&&(C=a(Q,C,k),K===null?U=Q:K.sibling=Q,K=Q);return et&&Hc(w,k),U}for(Q=n(Q);k<O.length;k++)G=y(Q,w,k,O[k],M),G!==null&&(t&&G.alternate!==null&&Q.delete(G.key===null?k:G.key),C=a(G,C,k),K===null?U=G:K.sibling=G,K=G);return t&&Q.forEach(function(R){return e(w,R)}),et&&Hc(w,k),U}function A(w,C,O,M){if(O==null)throw Error(pe(151));for(var U=null,K=null,Q=C,k=C=0,G=null,W=O.next();Q!==null&&!W.done;k++,W=O.next()){Q.index>k?(G=Q,Q=null):G=Q.sibling;var R=p(w,Q,W.value,M);if(R===null){Q===null&&(Q=G);break}t&&Q&&R.alternate===null&&e(w,Q),C=a(R,C,k),K===null?U=R:K.sibling=R,K=R,Q=G}if(W.done)return r(w,Q),et&&Hc(w,k),U;if(Q===null){for(;!W.done;k++,W=O.next())W=l(w,W.value,M),W!==null&&(C=a(W,C,k),K===null?U=W:K.sibling=W,K=W);return et&&Hc(w,k),U}for(Q=n(Q);!W.done;k++,W=O.next())W=y(Q,w,k,W.value,M),W!==null&&(t&&W.alternate!==null&&Q.delete(W.key===null?k:W.key),C=a(W,C,k),K===null?U=W:K.sibling=W,K=W);return t&&Q.forEach(function(_){return e(w,_)}),et&&Hc(w,k),U}function S(w,C,O,M){if(typeof O=="object"&&O!==null&&O.type===pl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case gb:e:{for(var U=O.key;C!==null;){if(C.key===U){if(U=O.type,U===pl){if(C.tag===7){r(w,C.sibling),M=i(C,O.props.children),M.return=w,w=M;break e}}else if(C.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===wf&&l7(U)===C.type){r(w,C.sibling),M=i(C,O.props),Z0(M,O),M.return=w,w=M;break e}r(w,C);break}else e(w,C);C=C.sibling}O.type===pl?(M=fu(O.props.children,w.mode,M,O.key),M.return=w,w=M):(M=ug(O.type,O.key,O.props,null,w.mode,M),Z0(M,O),M.return=w,w=M)}return s(w);case vh:e:{for(U=O.key;C!==null;){if(C.key===U)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){r(w,C.sibling),M=i(C,O.children||[]),M.return=w,w=M;break e}else{r(w,C);break}else e(w,C);C=C.sibling}M=d_(O,w.mode,M),M.return=w,w=M}return s(w);case wf:return U=O._init,O=U(O._payload),S(w,C,O,M)}if(mh(O))return m(w,C,O,M);if(V0(O)){if(U=V0(O),typeof U!="function")throw Error(pe(150));return O=U.call(O),A(w,C,O,M)}if(typeof O.then=="function")return S(w,C,Ab(O),M);if(O.$$typeof===mo)return S(w,C,xb(w,O),M);Eb(w,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(r(w,C.sibling),M=i(C,O),M.return=w,w=M):(r(w,C),M=l_(O,w.mode,M),M.return=w,w=M),s(w)):r(w,C)}return function(w,C,O,M){try{pp=0;var U=S(w,C,O,M);return Hl=null,U}catch(Q){if(Q===Uh)throw Q;var K=la(29,Q,null,w.mode);return K.lanes=M,K.return=w,K}finally{}}}var yu=sI(!0),oI=sI(!1),dd=Ks(null),Lg=Ks(0);function d7(t,e){t=ko,Ut(Lg,t),Ut(dd,e),ko=t|e.baseLanes}function Wm(){Ut(Lg,ko),Ut(dd,dd.current)}function n4(){ko=Lg.current,zr(dd),zr(Lg)}var _a=Ks(null),Rs=null;function If(t){var e=t.alternate;Ut(Ar,Ar.current&1),Ut(_a,t),Rs===null&&(e===null||dd.current!==null||e.memoizedState!==null)&&(Rs=t)}function fI(t){if(t.tag===22){if(Ut(Ar,Ar.current),Ut(_a,t),Rs===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Rs=t)}}else Cf()}function Cf(){Ut(Ar,Ar.current),Ut(_a,_a.current)}function Eo(t){zr(_a),Rs===t&&(Rs=null),zr(Ar)}var Ar=Ks(0);function Hg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var TN=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},ON=Sr.unstable_scheduleCallback,BN=Sr.unstable_NormalPriority,wr={$$typeof:mo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function i4(){return{controller:new TN,data:new Map,refCount:0}}function t1(t){t.refCount--,t.refCount===0&&ON(BN,function(){t.controller.abort()})}var zh=null,Xm=0,hd=0,Pl=null;function DN(t,e){if(zh===null){var r=zh=[];Xm=0,hd=C4(),Pl={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Xm++,e.then(h7,h7),e}function h7(){if(--Xm===0&&zh!==null){Pl!==null&&(Pl.status="fulfilled");var t=zh;zh=null,hd=0,Pl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function MN(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var p7=ke.S;ke.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&DN(t,e),p7!==null&&p7(t,e)};var ou=Ks(null);function a4(){var t=ou.current;return t!==null?t:mt.pooledCache}function sg(t,e){e===null?Ut(ou,ou.current):Ut(ou,e.pool)}function cI(){var t=a4();return t===null?null:{parent:wr._currentValue,pool:t}}var nc=0,$e=null,ct=null,gr=null,Pg=!1,Nl=!1,vu=!1,Ng=0,bp=0,Ul=null,RN=0;function lr(){throw Error(pe(321))}function s4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Li(t[r],e[r]))return!1;return!0}function o4(t,e,r,n,i,a){return nc=a,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ke.H=t===null||t.memoizedState===null?Hu:bc,vu=!1,a=r(n,i),vu=!1,Nl&&(a=lI(e,r,n,i)),uI(t),a}function uI(t){ke.H=js;var e=ct!==null&&ct.next!==null;if(nc=0,gr=ct=$e=null,Pg=!1,bp=0,Ul=null,e)throw Error(pe(300));t===null||Pr||(t=t.dependencies,t!==null&&zg(t)&&(Pr=!0))}function lI(t,e,r,n){$e=t;var i=0;do{if(Nl&&(Ul=null),bp=0,Nl=!1,25<=i)throw Error(pe(301));if(i+=1,gr=ct=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ke.H=Pu,a=e(r,n)}while(Nl);return a}function LN(){var t=ke.H,e=t.useState()[0];return e=typeof e.then=="function"?r1(e):e,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&($e.flags|=1024),e}function f4(){var t=Ng!==0;return Ng=0,t}function c4(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function u4(t){if(Pg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Pg=!1}nc=0,gr=ct=$e=null,Nl=!1,bp=Ng=0,Ul=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?$e.memoizedState=gr=t:gr=gr.next=t,gr}function vr(){if(ct===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=gr===null?$e.memoizedState:gr.next;if(e!==null)gr=e,ct=t;else{if(t===null)throw $e.alternate===null?Error(pe(467)):Error(pe(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gr===null?$e.memoizedState=gr=t:gr=gr.next=t}return gr}var Wy;Wy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function r1(t){var e=bp;return bp+=1,Ul===null&&(Ul=[]),t=aI(Ul,t,e),e=$e,(gr===null?e.memoizedState:gr.next)===null&&(e=e.alternate,ke.H=e===null||e.memoizedState===null?Hu:bc),t}function Xy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return r1(t);if(t.$$typeof===mo)return An(t)}throw Error(pe(438,String(t)))}function l4(t){var e=null,r=$e.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=$e.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=Wy(),$e.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=gP;return e.index++,r}function No(t,e){return typeof e=="function"?e(t):e}function og(t){var e=vr();return d4(e,ct,t)}function d4(t,e,r){var n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,f=null,c=e,u=!1;do{var l=c.lane&-536870913;if(l!==c.lane?(We&l)===l:(nc&l)===l){var p=c.revertLane;if(p===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),l===hd&&(u=!0);else if((nc&p)===p){c=c.next,p===hd&&(u=!0);continue}else l={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(o=f=l,s=a):f=f.next=l,$e.lanes|=p,ac|=p;l=c.action,vu&&r(a,l),a=c.hasEagerState?c.eagerState:r(a,l)}else p={lane:l,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(o=f=p,s=a):f=f.next=p,$e.lanes|=l,ac|=l;c=c.next}while(c!==null&&c!==e);if(f===null?s=a:f.next=o,!Li(a,t.memoizedState)&&(Pr=!0,u&&(r=Pl,r!==null)))throw r;t.memoizedState=a,t.baseState=s,t.baseQueue=f,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function e_(t){var e=vr(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Li(a,e.memoizedState)||(Pr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function dI(t,e,r){var n=$e,i=vr(),a=et;if(a){if(r===void 0)throw Error(pe(407));r=r()}else r=e();var s=!Li((ct||i).memoizedState,r);if(s&&(i.memoizedState=r,Pr=!0),i=i.queue,h4(bI.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,pd(9,pI.bind(null,n,i,r,e),{destroy:void 0},null),mt===null)throw Error(pe(349));a||nc&60||hI(n,e,r)}return r}function hI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$e.updateQueue,e===null?(e=Wy(),$e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pI(t,e,r,n){e.value=r,e.getSnapshot=n,gI(e)&&yI(t)}function bI(t,e,r){return r(function(){gI(e)&&yI(t)})}function gI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Li(t,r)}catch{return!0}}function yI(t){var e=rc(t,2);e!==null&&Qn(e,t,2)}function Zm(t){var e=ni();if(typeof t=="function"){var r=t;if(t=r(),vu){kf(!0);try{r()}finally{kf(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},e}function vI(t,e,r,n){return t.baseState=r,d4(t,ct,typeof n=="function"?n:No)}function HN(t,e,r,n,i){if(Jy(t))throw Error(pe(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ke.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,_I(e,a)):(a.next=r.next,e.pending=r.next=a)}}function _I(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=ke.T,s={};ke.T=s;try{var o=r(i,n),f=ke.S;f!==null&&f(s,o),b7(t,e,o)}catch(c){Jm(t,e,c)}finally{ke.T=a}}else try{a=r(i,n),b7(t,e,a)}catch(c){Jm(t,e,c)}}function b7(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){g7(t,e,n)},function(n){return Jm(t,e,n)}):g7(t,e,r)}function g7(t,e,r){e.status="fulfilled",e.value=r,mI(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,_I(t,r)))}function Jm(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,mI(e),e=e.next;while(e!==n)}t.action=null}function mI(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function wI(t,e){return e}function AI(t,e){if(et){var r=mt.formState;if(r!==null){e:{var n=$e;if(et){if(Xr){t:{for(var i=Xr,a=As;i.nodeType!==8;){if(!a){i=null;break t}if(i=es(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Xr=es(i.nextSibling),n=i.data==="F!";break e}}gu(n)}n=!1}n&&(e=r[0])}}return r=ni(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wI,lastRenderedState:e},r.queue=n,r=kI.bind(null,$e,n),n.dispatch=r,n=Zm(!1),a=y4.bind(null,$e,!1,n.queue),n=ni(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=HN.bind(null,$e,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function EI(t){var e=vr();return xI(e,ct,t)}function xI(t,e,r){e=d4(t,e,wI)[0],t=og(No)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?r1(e):e;var n=vr(),i=n.queue,a=i.dispatch;return r!==n.memoizedState&&($e.flags|=2048,pd(9,PN.bind(null,i,r),{destroy:void 0},null)),[e,a,t]}function PN(t,e){t.action=e}function SI(t){var e=vr(),r=ct;if(r!==null)return xI(e,r,t);vr(),e=e.memoizedState,r=vr();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function pd(t,e,r,n){return t={tag:t,create:e,inst:r,deps:n,next:null},e=$e.updateQueue,e===null&&(e=Wy(),$e.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function II(){return vr().memoizedState}function fg(t,e,r,n){var i=ni();$e.flags|=t,i.memoizedState=pd(1|e,r,{destroy:void 0},n===void 0?null:n)}function Zy(t,e,r,n){var i=vr();n=n===void 0?null:n;var a=i.memoizedState.inst;ct!==null&&n!==null&&s4(n,ct.memoizedState.deps)?i.memoizedState=pd(e,r,a,n):($e.flags|=t,i.memoizedState=pd(1|e,r,a,n))}function y7(t,e){fg(8390656,8,t,e)}function h4(t,e){Zy(2048,8,t,e)}function CI(t,e){return Zy(4,2,t,e)}function TI(t,e){return Zy(4,4,t,e)}function OI(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BI(t,e,r){r=r!=null?r.concat([t]):null,Zy(4,4,OI.bind(null,e,t),r)}function p4(){}function DI(t,e){var r=vr();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&s4(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MI(t,e){var r=vr();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&s4(e,n[1]))return n[0];if(n=t(),vu){kf(!0);try{t()}finally{kf(!1)}}return r.memoizedState=[n,e],n}function b4(t,e,r){return r===void 0||nc&1073741824?t.memoizedState=e:(t.memoizedState=r,t=mC(),$e.lanes|=t,ac|=t,r)}function RI(t,e,r,n){return Li(r,e)?r:dd.current!==null?(t=b4(t,r,n),Li(t,e)||(Pr=!0),t):nc&42?(t=mC(),$e.lanes|=t,ac|=t,e):(Pr=!0,t.memoizedState=r)}function LI(t,e,r,n,i){var a=Tt.p;Tt.p=a!==0&&8>a?a:8;var s=ke.T,o={};ke.T=o,y4(t,!1,e,r);try{var f=i(),c=ke.S;if(c!==null&&c(o,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var u=MN(f,n);jh(t,e,u,Mi(t))}else jh(t,e,n,Mi(t))}catch(l){jh(t,e,{then:function(){},status:"rejected",reason:l},Mi())}finally{Tt.p=a,ke.T=s}}function NN(){}function e3(t,e,r,n){if(t.tag!==5)throw Error(pe(476));var i=HI(t).queue;LI(t,i,e,au,r===null?NN:function(){return PI(t),r(n)})}function HI(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:au,baseState:au,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:au},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function PI(t){var e=HI(t).next.queue;jh(t,e,{},Mi())}function g4(){return An(_p)}function NI(){return vr().memoizedState}function UI(){return vr().memoizedState}function UN(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Mi();t=qf(r);var n=Kf(e,t,r);n!==null&&(Qn(n,e,r),Fh(n,e,r)),e={cache:i4()},t.payload=e;return}e=e.return}}function kN(t,e,r){var n=Mi();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Jy(t)?zI(e,r):(r=e4(t,e,r,n),r!==null&&(Qn(r,t,n),jI(r,e,n)))}function kI(t,e,r){var n=Mi();jh(t,e,r,n)}function jh(t,e,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jy(t))zI(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Li(o,s))return Gy(t,e,i,0),mt===null&&Vy(),!1}catch{}finally{}if(r=e4(t,e,i,n),r!==null)return Qn(r,t,n),jI(r,e,n),!0}return!1}function y4(t,e,r,n){if(n={lane:2,revertLane:C4(),action:n,hasEagerState:!1,eagerState:null,next:null},Jy(t)){if(e)throw Error(pe(479))}else e=e4(t,r,n,2),e!==null&&Qn(e,t,2)}function Jy(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function zI(t,e){Nl=Pg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jI(t,e,r){if(r&4194176){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,OS(t,r)}}var js={readContext:An,use:Xy,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr};js.useCacheRefresh=lr;js.useMemoCache=lr;js.useHostTransitionStatus=lr;js.useFormState=lr;js.useActionState=lr;js.useOptimistic=lr;var Hu={readContext:An,use:Xy,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:y7,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,fg(4194308,4,OI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fg(4194308,4,t,e)},useInsertionEffect:function(t,e){fg(4,2,t,e)},useMemo:function(t,e){var r=ni();e=e===void 0?null:e;var n=t();if(vu){kf(!0);try{t()}finally{kf(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=ni();if(r!==void 0){var i=r(e);if(vu){kf(!0);try{r(e)}finally{kf(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=kN.bind(null,$e,t),[n.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:function(t){t=Zm(t);var e=t.queue,r=kI.bind(null,$e,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:p4,useDeferredValue:function(t,e){var r=ni();return b4(r,t,e)},useTransition:function(){var t=Zm(!1);return t=LI.bind(null,$e,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=$e,i=ni();if(et){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),mt===null)throw Error(pe(349));We&60||hI(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,y7(bI.bind(null,n,a,t),[t]),n.flags|=2048,pd(9,pI.bind(null,n,a,r,e),{destroy:void 0},null),r},useId:function(){var t=ni(),e=mt.identifierPrefix;if(et){var r=Ao,n=wo;r=(n&~(1<<32-Di(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ng++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=RN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return ni().memoizedState=UN.bind(null,$e)}};Hu.useMemoCache=l4;Hu.useHostTransitionStatus=g4;Hu.useFormState=AI;Hu.useActionState=AI;Hu.useOptimistic=function(t){var e=ni();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=y4.bind(null,$e,!0,r),r.dispatch=e,[t,e]};var bc={readContext:An,use:Xy,useCallback:DI,useContext:An,useEffect:h4,useImperativeHandle:BI,useInsertionEffect:CI,useLayoutEffect:TI,useMemo:MI,useReducer:og,useRef:II,useState:function(){return og(No)},useDebugValue:p4,useDeferredValue:function(t,e){var r=vr();return RI(r,ct.memoizedState,t,e)},useTransition:function(){var t=og(No)[0],e=vr().memoizedState;return[typeof t=="boolean"?t:r1(t),e]},useSyncExternalStore:dI,useId:NI};bc.useCacheRefresh=UI;bc.useMemoCache=l4;bc.useHostTransitionStatus=g4;bc.useFormState=EI;bc.useActionState=EI;bc.useOptimistic=function(t,e){var r=vr();return vI(r,ct,t,e)};var Pu={readContext:An,use:Xy,useCallback:DI,useContext:An,useEffect:h4,useImperativeHandle:BI,useInsertionEffect:CI,useLayoutEffect:TI,useMemo:MI,useReducer:e_,useRef:II,useState:function(){return e_(No)},useDebugValue:p4,useDeferredValue:function(t,e){var r=vr();return ct===null?b4(r,t,e):RI(r,ct.memoizedState,t,e)},useTransition:function(){var t=e_(No)[0],e=vr().memoizedState;return[typeof t=="boolean"?t:r1(t),e]},useSyncExternalStore:dI,useId:NI};Pu.useCacheRefresh=UI;Pu.useMemoCache=l4;Pu.useHostTransitionStatus=g4;Pu.useFormState=SI;Pu.useActionState=SI;Pu.useOptimistic=function(t,e){var r=vr();return ct!==null?vI(r,ct,t,e):(r.baseState=t,[t,r.queue.dispatch])};function t_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Dt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var t3={isMounted:function(t){return(t=t._reactInternals)?Gd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Mi(),i=qf(n);i.payload=e,r!=null&&(i.callback=r),e=Kf(t,i,n),e!==null&&(Qn(e,t,n),Fh(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Mi(),i=qf(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Kf(t,i,n),e!==null&&(Qn(e,t,n),Fh(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mi(),n=qf(r);n.tag=2,e!=null&&(n.callback=e),e=Kf(t,n,r),e!==null&&(Qn(e,t,r),Fh(e,t,r))}};function v7(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!dp(r,n)||!dp(i,a):!0}function _7(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&t3.enqueueReplaceState(e,e.state,null)}function _u(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Dt({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var Ug=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $I(t){Ug(t)}function FI(t){console.error(t)}function qI(t){Ug(t)}function kg(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function m7(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function r3(t,e,r){return r=qf(r),r.tag=3,r.payload={element:null},r.callback=function(){kg(t,e)},r}function KI(t){return t=qf(t),t.tag=3,t}function QI(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){m7(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){m7(e,r,n),typeof i!="function"&&(Yf===null?Yf=new Set([this]):Yf.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function zN(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&n1(e,r,i,!0),r=_a.current,r!==null){switch(r.tag){case 13:return Rs===null?y3():r.alternate===null&&or===0&&(or=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Gm?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),p_(t,n,i)),!1;case 22:return r.flags|=65536,n===Gm?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),p_(t,n,i)),!1}throw Error(pe(435,r.tag))}return p_(t,n,i),y3(),!1}if(et)return e=_a.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==Vm&&(t=Error(pe(422),{cause:n}),hp(fa(t,r)))):(n!==Vm&&(e=Error(pe(423),{cause:n}),hp(fa(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=fa(n,r),i=r3(t.stateNode,n,i),o_(t,i),or!==4&&(or=2)),!1;var a=Error(pe(520),{cause:n});if(a=fa(a,r),Yh===null?Yh=[a]:Yh.push(a),or!==4&&(or=2),e===null)return!0;n=fa(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=r3(r.stateNode,n,t),o_(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Yf===null||!Yf.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=KI(i),QI(i,t,r,n),o_(r,i),!1}r=r.return}while(r!==null);return!1}var YI=Error(pe(461)),Pr=!1;function Gr(t,e,r,n){e.child=t===null?oI(e,null,r,n):yu(e,t.child,r,n)}function w7(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return mu(e),n=o4(t,e,r,s,a,i),o=f4(),t!==null&&!Pr?(c4(t,e,i),Uo(t,e,i)):(et&&o&&t4(e),e.flags|=1,Gr(t,e,n,i),e.child)}function A7(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!A4(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,VI(t,e,a,n,i)):(t=ug(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!v4(t,i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:dp,r(s,n)&&t.ref===e.ref)return Uo(t,e,i)}return e.flags|=1,t=Qf(a,n),t.ref=e.ref,t.return=e,e.child=t}function VI(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(dp(a,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=a,v4(t,i))t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Uo(t,e,i)}return n3(t,e,r,n,i)}function GI(t,e,r){var n=e.pendingProps,i=n.children,a=(e.stateNode._pendingVisibility&2)!==0,s=t!==null?t.memoizedState:null;if($h(t,e),n.mode==="hidden"||a){if(e.flags&128){if(n=s!==null?s.baseLanes|r:r,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~n}else e.childLanes=0,e.child=null;return E7(t,e,n,r)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&sg(e,s!==null?s.cachePool:null),s!==null?d7(e,s):Wm(),fI(e);else return e.lanes=e.childLanes=536870912,E7(t,e,s!==null?s.baseLanes|r:r,r)}else s!==null?(sg(e,s.cachePool),d7(e,s),Cf(),e.memoizedState=null):(t!==null&&sg(e,null),Wm(),Cf());return Gr(t,e,i,r),e.child}function E7(t,e,r,n){var i=a4();return i=i===null?null:{parent:wr._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&sg(e,null),Wm(),fI(e),t!==null&&n1(t,e,n,!0),null}function $h(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(pe(284));(t===null||t.ref!==r)&&(e.flags|=2097664)}}function n3(t,e,r,n,i){return mu(e),r=o4(t,e,r,n,void 0,i),n=f4(),t!==null&&!Pr?(c4(t,e,i),Uo(t,e,i)):(et&&n&&t4(e),e.flags|=1,Gr(t,e,r,i),e.child)}function x7(t,e,r,n,i,a){return mu(e),e.updateQueue=null,r=lI(e,n,r,i),uI(t),n=f4(),t!==null&&!Pr?(c4(t,e,a),Uo(t,e,a)):(et&&n&&t4(e),e.flags|=1,Gr(t,e,r,a),e.child)}function S7(t,e,r,n,i){if(mu(e),e.stateNode===null){var a=wl,s=r.contextType;typeof s=="object"&&s!==null&&(a=An(s)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=t3,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},_4(e),s=r.contextType,a.context=typeof s=="object"&&s!==null?An(s):wl,a.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(t_(e,r,s,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&t3.enqueueReplaceState(a,a.state,null),Kh(e,n,a,i),qh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,f=_u(r,o);a.props=f;var c=a.context,u=r.contextType;s=wl,typeof u=="object"&&u!==null&&(s=An(u));var l=r.getDerivedStateFromProps;u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&_7(e,a,n,s),Af=!1;var p=e.memoizedState;a.state=p,Kh(e,n,a,i),qh(),c=e.memoizedState,o||p!==c||Af?(typeof l=="function"&&(t_(e,r,l,n),c=e.memoizedState),(f=Af||v7(e,r,f,n,p,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=s,n=f):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,c3(t,e),s=e.memoizedProps,u=_u(r,s),a.props=u,l=e.pendingProps,p=a.context,c=r.contextType,f=wl,typeof c=="object"&&c!==null&&(f=An(c)),o=r.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==l||p!==f)&&_7(e,a,n,f),Af=!1,p=e.memoizedState,a.state=p,Kh(e,n,a,i),qh();var y=e.memoizedState;s!==l||p!==y||Af||t!==null&&t.dependencies!==null&&zg(t.dependencies)?(typeof o=="function"&&(t_(e,r,o,n),y=e.memoizedState),(u=Af||v7(e,r,u,n,p,y,f)||t!==null&&t.dependencies!==null&&zg(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,f)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=f,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,$h(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=yu(e,t.child,null,i),e.child=yu(e,null,r,i)):Gr(t,e,r,i),e.memoizedState=a.state,t=e.child):t=Uo(t,e,i),t}function I7(t,e,r,n){return e1(),e.flags|=256,Gr(t,e,r,n),e.child}var r_={dehydrated:null,treeContext:null,retryLane:0};function n_(t){return{baseLanes:t,cachePool:cI()}}function i_(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=da),t}function WI(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Ar.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(et){if(i?If(e):Cf(),et){var o=Xr,f;if(f=o){e:{for(f=o,o=As;f.nodeType!==8;){if(!o){o=null;break e}if(f=es(f.nextSibling),f===null){o=null;break e}}o=f}o!==null?(e.memoizedState={dehydrated:o,treeContext:su!==null?{id:wo,overflow:Ao}:null,retryLane:536870912},f=la(18,null,null,0),f.stateNode=o,f.return=e,e.child=f,$n=e,Xr=null,f=!0):f=!1}f||gu(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?e.lanes=16:e.lanes=536870912,null;Eo(e)}return o=n.children,n=n.fallback,i?(Cf(),i=e.mode,o=a3({mode:"hidden",children:o},i),n=fu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,i=e.child,i.memoizedState=n_(r),i.childLanes=i_(t,s,r),e.memoizedState=r_,n):(If(e),i3(e,o))}if(f=t.memoizedState,f!==null&&(o=f.dehydrated,o!==null)){if(a)e.flags&256?(If(e),e.flags&=-257,e=a_(t,e,r)):e.memoizedState!==null?(Cf(),e.child=t.child,e.flags|=128,e=null):(Cf(),i=n.fallback,o=e.mode,n=a3({mode:"visible",children:n.children},o),i=fu(i,o,r,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,yu(e,t.child,null,r),n=e.child,n.memoizedState=n_(r),n.childLanes=i_(t,s,r),e.memoizedState=r_,e=i);else if(If(e),o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,n=Error(pe(419)),n.stack="",n.digest=s,hp({value:n,source:null,stack:null}),e=a_(t,e,r)}else if(Pr||n1(t,e,r,!1),s=(r&t.childLanes)!==0,Pr||s){if(s=mt,s!==null){if(n=r&-r,n&42)n=1;else switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=64;break;case 268435456:n=134217728;break;default:n=0}if(n=n&(s.suspendedLanes|r)?0:n,n!==0&&n!==f.retryLane)throw f.retryLane=n,rc(t,n),Qn(s,t,n),YI}o.data==="$?"||y3(),e=a_(t,e,r)}else o.data==="$?"?(e.flags|=128,e.child=t.child,e=tU.bind(null,t),o._reactRetry=e,e=null):(t=f.treeContext,Xr=es(o.nextSibling),$n=e,et=!0,qa=null,As=!1,t!==null&&(aa[sa++]=wo,aa[sa++]=Ao,aa[sa++]=su,wo=t.id,Ao=t.overflow,su=e),e=i3(e,n.children),e.flags|=4096);return e}return i?(Cf(),i=n.fallback,o=e.mode,f=t.child,c=f.sibling,n=Qf(f,{mode:"hidden",children:n.children}),n.subtreeFlags=f.subtreeFlags&31457280,c!==null?i=Qf(c,i):(i=fu(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o===null?o=n_(r):(f=o.cachePool,f!==null?(c=wr._currentValue,f=f.parent!==c?{parent:c,pool:c}:f):f=cI(),o={baseLanes:o.baseLanes|r,cachePool:f}),i.memoizedState=o,i.childLanes=i_(t,s,r),e.memoizedState=r_,n):(If(e),r=t.child,t=r.sibling,r=Qf(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function i3(t,e){return e=a3({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function a3(t,e){return vC(t,e,0,null)}function a_(t,e,r){return yu(e,t.child,null,r),t=i3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C7(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),o3(t.return,e,r)}function s_(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function XI(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Gr(t,e,n.children,r),n=Ar.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C7(t,r,e);else if(t.tag===19)C7(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(Ut(Ar,n),i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Hg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),s_(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}s_(e,!0,r,null,a);break;case"together":s_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ac|=e.lanes,!(r&e.childLanes))if(t!==null){if(n1(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=Qf(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qf(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function v4(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&zg(t)))}function jN(t,e,r){switch(e.tag){case 3:Ig(e,e.stateNode.containerInfo),Tf(e,wr,t.memoizedState.cache),e1();break;case 27:case 5:km(e);break;case 4:Ig(e,e.stateNode.containerInfo);break;case 10:Tf(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(If(e),e.flags|=128,null):r&e.child.childLanes?WI(t,e,r):(If(e),t=Uo(t,e,r),t!==null?t.sibling:null);If(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(n1(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return XI(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(Ar,Ar.current),n)break;return null;case 22:case 23:return e.lanes=0,GI(t,e,r);case 24:Tf(e,wr,t.memoizedState.cache)}return Uo(t,e,r)}function ZI(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pr=!0;else{if(!v4(t,r)&&!(e.flags&128))return Pr=!1,jN(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,et&&e.flags&1048576&&nI(e,Rg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")A4(n)?(t=_u(n,t),e.tag=1,e=S7(null,e,n,t,r)):(e.tag=0,e=n3(null,e,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===F6){e.tag=11,e=w7(null,e,n,t,r);break e}else if(i===q6){e.tag=14,e=A7(null,e,n,t,r);break e}}throw e=Nm(n)||n,Error(pe(306,e,""))}}return e;case 0:return n3(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=_u(n,e.pendingProps),S7(t,e,n,i,r);case 3:e:{if(Ig(e,e.stateNode.containerInfo),t===null)throw Error(pe(387));var a=e.pendingProps;i=e.memoizedState,n=i.element,c3(t,e),Kh(e,a,null,r);var s=e.memoizedState;if(a=s.cache,Tf(e,wr,a),a!==i.cache&&f3(e,[wr],r,!0),qh(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=I7(t,e,a,r);break e}else if(a!==n){n=fa(Error(pe(424)),e),hp(n),e=I7(t,e,a,r);break e}else for(Xr=es(e.stateNode.containerInfo.firstChild),$n=e,et=!0,qa=null,As=!0,r=oI(e,null,a,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(e1(),a===n){e=Uo(t,e,r);break e}Gr(t,e,a,r)}e=e.child}return e;case 26:return $h(t,e),t===null?(r=K7(e.type,null,e.pendingProps,null))?e.memoizedState=r:et||(r=e.type,t=e.pendingProps,n=Yg(Ff.current).createElement(r),n[wn]=e,n[oi]=t,en(n,r,t),Lr(n),e.stateNode=n):e.memoizedState=K7(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return km(e),t===null&&et&&(n=e.stateNode=PC(e.type,e.pendingProps,Ff.current),$n=e,As=!0,Xr=es(n.firstChild)),n=e.pendingProps.children,t!==null||et?Gr(t,e,n,r):e.child=yu(e,null,n,r),$h(t,e),e.child;case 5:return t===null&&et&&((i=n=Xr)&&(n=yU(n,e.type,e.pendingProps,As),n!==null?(e.stateNode=n,$n=e,Xr=es(n.firstChild),As=!1,i=!0):i=!1),i||gu(e)),km(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,n=a.children,A3(i,a)?n=null:s!==null&&A3(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=o4(t,e,LN,null,null,r),_p._currentValue=i),$h(t,e),Gr(t,e,n,r),e.child;case 6:return t===null&&et&&((t=r=Xr)&&(r=vU(r,e.pendingProps,As),r!==null?(e.stateNode=r,$n=e,Xr=null,t=!0):t=!1),t||gu(e)),null;case 13:return WI(t,e,r);case 4:return Ig(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yu(e,null,n,r):Gr(t,e,n,r),e.child;case 11:return w7(t,e,e.type,e.pendingProps,r);case 7:return Gr(t,e,e.pendingProps,r),e.child;case 8:return Gr(t,e,e.pendingProps.children,r),e.child;case 12:return Gr(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,Tf(e,e.type,n.value),Gr(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,mu(e),i=An(i),n=n(i),e.flags|=1,Gr(t,e,n,r),e.child;case 14:return A7(t,e,e.type,e.pendingProps,r);case 15:return VI(t,e,e.type,e.pendingProps,r);case 19:return XI(t,e,r);case 22:return GI(t,e,r);case 24:return mu(e),n=An(wr),t===null?(i=a4(),i===null&&(i=mt,a=i4(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},_4(e),Tf(e,wr,i)):(t.lanes&r&&(c3(t,e),Kh(e,null,null,r),qh()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Tf(e,wr,n)):(n=a.cache,Tf(e,wr,n),n!==i.cache&&f3(e,[wr],r,!0))),Gr(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(pe(156,e.tag))}var s3=Ks(null),Nu=null,xo=null;function Tf(t,e,r){Ut(s3,e._currentValue),e._currentValue=r}function Bo(t){t._currentValue=s3.current,zr(s3)}function o3(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function f3(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var f=0;f<e.length;f++)if(o.context===e[f]){a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),o3(a.return,r,t),n||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(pe(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),o3(s,r,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function n1(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(pe(387));if(s=s.memoizedProps,s!==null){var o=i.type;Li(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Sg.current){if(s=i.alternate,s===null)throw Error(pe(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(_p):t=[_p])}i=i.return}t!==null&&f3(e,t,r,n),e.flags|=262144}function zg(t){for(t=t.firstContext;t!==null;){if(!Li(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mu(t){Nu=t,xo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return JI(Nu,t)}function xb(t,e){return Nu===null&&mu(t),JI(t,e)}function JI(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},xo===null){if(t===null)throw Error(pe(308));xo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else xo=xo.next=e;return r}var Af=!1;function _4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function c3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qf(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kf(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Dg(t),rI(t,null,r),e}return Gy(t,n,e,r),Dg(t)}function Fh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194176)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,OS(t,r)}}function o_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var u3=!1;function qh(){if(u3){var t=Pl;if(t!==null)throw t}}function Kh(t,e,r,n){u3=!1;var i=t.updateQueue;Af=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var f=o,c=f.next;f.next=null,s===null?a=c:s.next=c,s=f;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=f))}if(a!==null){var l=i.baseState;s=0,u=c=f=null,o=a;do{var p=o.lane&-536870913,y=p!==o.lane;if(y?(We&p)===p:(n&p)===p){p!==0&&p===hd&&(u3=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=t,A=o;p=e;var S=r;switch(A.tag){case 1:if(m=A.payload,typeof m=="function"){l=m.call(S,l,p);break e}l=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=A.payload,p=typeof m=="function"?m.call(S,l,p):m,p==null)break e;l=Dt({},l,p);break e;case 2:Af=!0}}p=o.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[p]:y.push(p))}else y={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=y,f=l):u=u.next=y,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);u===null&&(f=l),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),ac|=s,t.lanes=s,t.memoizedState=l}}function eC(t,e){if(typeof t!="function")throw Error(pe(191,t));t.call(e)}function tC(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)eC(r[t],e)}function i1(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(o){bt(e,e.return,o)}}function ic(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var f=r;try{o()}catch(c){bt(i,f,c)}}}n=n.next}while(n!==a)}}catch(c){bt(e,e.return,c)}}function rC(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{tC(e,r)}catch(n){bt(t,t.return,n)}}}function nC(t,e,r){r.props=_u(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){bt(t,e,n)}}function Kc(t,e){try{var r=t.ref;if(r!==null){var n=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=n;break;default:i=n}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(a){bt(t,e,a)}}function xi(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){bt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){bt(t,e,i)}else r.current=null}function iC(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){bt(t,t.return,i)}}function T7(t,e,r){try{var n=t.stateNode;dU(n,t.type,r,e),n[oi]=e}catch(i){bt(t,t.return,i)}}function aC(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function f_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function l3(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=r2));else if(n!==4&&n!==27&&(t=t.child,t!==null))for(l3(t,e,r),t=t.sibling;t!==null;)l3(t,e,r),t=t.sibling}function jg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&n!==27&&(t=t.child,t!==null))for(jg(t,e,r),t=t.sibling;t!==null;)jg(t,e,r),t=t.sibling}var lo=!1,sr=!1,c_=!1,O7=typeof WeakSet=="function"?WeakSet:Set,Rr=null,B7=!1;function $N(t,e){if(t=t.containerInfo,m3=Xg,t=GS(t),Z6(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,f=-1,c=0,u=0,l=t,p=null;t:for(;;){for(var y;l!==r||i!==0&&l.nodeType!==3||(o=s+i),l!==a||n!==0&&l.nodeType!==3||(f=s+n),l.nodeType===3&&(s+=l.nodeValue.length),(y=l.firstChild)!==null;)p=l,l=y;for(;;){if(l===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(f=s),(y=l.nextSibling)!==null)break;l=p,p=l.parentNode}l=y}r=o===-1||f===-1?null:{start:o,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(w3={focusedElem:t,selectionRange:r},Xg=!1,Rr=e;Rr!==null;)if(e=Rr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Rr=t;else for(;Rr!==null;){switch(e=Rr,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var m=_u(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(m,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(A){bt(r,r.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)E3(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":E3(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(pe(163))}if(t=e.sibling,t!==null){t.return=e.return,Rr=t;break}Rr=e.return}return m=B7,B7=!1,m}function sC(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:ro(t,r),n&4&&i1(5,r);break;case 1:if(ro(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(o){bt(r,r.return,o)}else{var i=_u(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){bt(r,r.return,o)}}n&64&&rC(r),n&512&&Kc(r,r.return);break;case 3:if(ro(t,r),n&64&&(n=r.updateQueue,n!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{tC(n,t)}catch(o){bt(r,r.return,o)}}break;case 26:ro(t,r),n&512&&Kc(r,r.return);break;case 27:case 5:ro(t,r),e===null&&n&4&&iC(r),n&512&&Kc(r,r.return);break;case 12:ro(t,r);break;case 13:ro(t,r),n&4&&cC(t,r);break;case 22:if(i=r.memoizedState!==null||lo,!i){e=e!==null&&e.memoizedState!==null||sr;var a=lo,s=sr;lo=i,(sr=e)&&!s?vf(t,r,(r.subtreeFlags&8772)!==0):ro(t,r),lo=a,sr=s}n&512&&(r.memoizedProps.mode==="manual"?Kc(r,r.return):xi(r,r.return));break;default:ro(t,r)}}function oC(t){var e=t.alternate;e!==null&&(t.alternate=null,oC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Q6(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var br=null,wi=!1;function to(t,e,r){for(r=r.child;r!==null;)fC(t,e,r),r=r.sibling}function fC(t,e,r){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(Wp,r)}catch{}switch(r.tag){case 26:sr||xi(r,e),to(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:sr||xi(r,e);var n=br,i=wi;for(br=r.stateNode,to(t,e,r),r=r.stateNode,e=r.attributes;e.length;)r.removeAttributeNode(e[0]);Q6(r),br=n,wi=i;break;case 5:sr||xi(r,e);case 6:i=br;var a=wi;if(br=null,to(t,e,r),br=i,wi=a,br!==null)if(wi)try{t=br,n=r.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)}catch(s){bt(r,e,s)}else try{br.removeChild(r.stateNode)}catch(s){bt(r,e,s)}break;case 18:br!==null&&(wi?(e=br,r=r.stateNode,e.nodeType===8?w_(e.parentNode,r):e.nodeType===1&&w_(e,r),Ap(e)):w_(br,r.stateNode));break;case 4:n=br,i=wi,br=r.stateNode.containerInfo,wi=!0,to(t,e,r),br=n,wi=i;break;case 0:case 11:case 14:case 15:sr||ic(2,r,e),sr||ic(4,r,e),to(t,e,r);break;case 1:sr||(xi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&nC(r,e,n)),to(t,e,r);break;case 21:to(t,e,r);break;case 22:sr||xi(r,e),sr=(n=sr)||r.memoizedState!==null,to(t,e,r),sr=n;break;default:to(t,e,r)}}function cC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ap(t)}catch(r){bt(e,e.return,r)}}function FN(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new O7),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new O7),e;default:throw Error(pe(435,t.tag))}}function u_(t,e){var r=FN(t);e.forEach(function(n){var i=rU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function Qi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:case 5:br=o.stateNode,wi=!1;break e;case 3:br=o.stateNode.containerInfo,wi=!0;break e;case 4:br=o.stateNode.containerInfo,wi=!0;break e}o=o.return}if(br===null)throw Error(pe(160));fC(a,s,i),br=null,wi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)uC(e,t),e=e.sibling}var $a=null;function uC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qi(e,t),Yi(t),n&4&&(ic(3,t,t.return),i1(3,t),ic(5,t,t.return));break;case 1:Qi(e,t),Yi(t),n&512&&(sr||r===null||xi(r,r.return)),n&64&&lo&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=$a;if(Qi(e,t),Yi(t),n&512&&(sr||r===null||xi(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[cp]||a[wn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),en(a,n,r),a[wn]=t,Lr(a),n=a;break e;case"link":var s=Y7("link","href",i).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(r.href==null?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(n),en(a,n,r),i.head.appendChild(a);break;case"meta":if(s=Y7("meta","content",i).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}a=i.createElement(n),en(a,n,r),i.head.appendChild(a);break;default:throw Error(pe(468,n))}a[wn]=t,Lr(a),n=a}t.stateNode=n}else V7(i,t.type,t.stateNode);else t.stateNode=Q7(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?V7(i,t.type,t.stateNode):Q7(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&T7(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(n&4&&t.alternate===null){i=t.stateNode,a=t.memoizedProps;try{for(var f=i.firstChild;f;){var c=f.nextSibling,u=f.nodeName;f[cp]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=c}for(var l=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);en(i,l,a),i[wn]=t,i[oi]=a}catch(m){bt(t,t.return,m)}}case 5:if(Qi(e,t),Yi(t),n&512&&(sr||r===null||xi(r,r.return)),t.flags&32){i=t.stateNode;try{ld(i,"")}catch(m){bt(t,t.return,m)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,T7(t,i,r!==null?r.memoizedProps:i)),n&1024&&(c_=!0);break;case 6:if(Qi(e,t),Yi(t),n&4){if(t.stateNode===null)throw Error(pe(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(m){bt(t,t.return,m)}}break;case 3:if(dg=null,i=$a,$a=Vg(e.containerInfo),Qi(e,t),$a=i,Yi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ap(e.containerInfo)}catch(m){bt(t,t.return,m)}c_&&(c_=!1,lC(t));break;case 4:n=$a,$a=Vg(t.stateNode.containerInfo),Qi(e,t),Yi(t),$a=n;break;case 12:Qi(e,t),Yi(t);break;case 13:Qi(e,t),Yi(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(S4=Ms()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,u_(t,n)));break;case 22:if(n&512&&(sr||r===null||xi(r,r.return)),f=t.memoizedState!==null,c=r!==null&&r.memoizedState!==null,u=lo,l=sr,lo=u||f,sr=l||c,Qi(e,t),sr=l,lo=u,Yi(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,n&8192&&(e._visibility=f?e._visibility&-2:e._visibility|1,f&&(e=lo||sr,r===null||c||e||cl(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(r===null){c=r=e;try{if(i=c.stateNode,f)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=c.stateNode,o=c.memoizedProps.style;var y=o!=null&&o.hasOwnProperty("display")?o.display:null;s.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(m){bt(c,c.return,m)}}}else if(e.tag===6){if(r===null){c=e;try{c.stateNode.nodeValue=f?"":c.memoizedProps}catch(m){bt(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,u_(t,r))));break;case 19:Qi(e,t),Yi(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,u_(t,n)));break;case 21:break;default:Qi(e,t),Yi(t)}}function Yi(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(aC(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 27:var i=n.stateNode,a=f_(t);jg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(ld(s,""),n.flags&=-33);var o=f_(t);jg(t,o,s);break;case 3:case 4:var f=n.stateNode.containerInfo,c=f_(t);l3(t,c,f);break;default:throw Error(pe(161))}}}catch(u){bt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;lC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ro(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)sC(t,e.alternate,e),e=e.sibling}function cl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ic(4,e,e.return),cl(e);break;case 1:xi(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&nC(e,e.return,r),cl(e);break;case 26:case 27:case 5:xi(e,e.return),cl(e);break;case 22:xi(e,e.return),e.memoizedState===null&&cl(e);break;default:cl(e)}t=t.sibling}}function vf(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:vf(i,a,r),i1(4,a);break;case 1:if(vf(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){bt(n,n.return,c)}if(n=a,i=n.updateQueue,i!==null){var o=n.stateNode;try{var f=i.shared.hiddenCallbacks;if(f!==null)for(i.shared.hiddenCallbacks=null,i=0;i<f.length;i++)eC(f[i],o)}catch(c){bt(n,n.return,c)}}r&&s&64&&rC(a),Kc(a,a.return);break;case 26:case 27:case 5:vf(i,a,r),r&&n===null&&s&4&&iC(a),Kc(a,a.return);break;case 12:vf(i,a,r);break;case 13:vf(i,a,r),r&&s&4&&cC(i,a);break;case 22:a.memoizedState===null&&vf(i,a,r),Kc(a,a.return);break;default:vf(i,a,r)}e=e.sibling}}function m4(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&t1(r))}function w4(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&t1(t))}function of(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dC(t,e,r,n),e=e.sibling}function dC(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:of(t,e,r,n),i&2048&&i1(9,e);break;case 3:of(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&t1(t)));break;case 12:if(i&2048){of(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(f){bt(e,e.return,f)}}else of(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,e.memoizedState!==null?a._visibility&4?of(t,e,r,n):Qh(t,e):a._visibility&4?of(t,e,r,n):(a._visibility|=4,ul(t,e,r,n,(e.subtreeFlags&10256)!==0)),i&2048&&m4(e.alternate,e);break;case 24:of(t,e,r,n),i&2048&&w4(e.alternate,e);break;default:of(t,e,r,n)}}function ul(t,e,r,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=r,f=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:ul(a,s,o,f,i),i1(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&4?ul(a,s,o,f,i):Qh(a,s):(u._visibility|=4,ul(a,s,o,f,i)),i&&c&2048&&m4(s.alternate,s);break;case 24:ul(a,s,o,f,i),i&&c&2048&&w4(s.alternate,s);break;default:ul(a,s,o,f,i)}e=e.sibling}}function Qh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:Qh(r,n),i&2048&&m4(n.alternate,n);break;case 24:Qh(r,n),i&2048&&w4(n.alternate,n);break;default:Qh(r,n)}e=e.sibling}}var Ah=8192;function Ju(t){if(t.subtreeFlags&Ah)for(t=t.child;t!==null;)hC(t),t=t.sibling}function hC(t){switch(t.tag){case 26:Ju(t),t.flags&Ah&&t.memoizedState!==null&&DU($a,t.memoizedState,t.memoizedProps);break;case 5:Ju(t);break;case 3:case 4:var e=$a;$a=Vg(t.stateNode.containerInfo),Ju(t),$a=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ah,Ah=16777216,Ju(t),Ah=e):Ju(t));break;default:Ju(t)}}function pC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function J0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Rr=n,gC(n,t)}pC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bC(t),t=t.sibling}function bC(t){switch(t.tag){case 0:case 11:case 15:J0(t),t.flags&2048&&ic(9,t,t.return);break;case 3:J0(t);break;case 12:J0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,cg(t)):J0(t);break;default:J0(t)}}function cg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Rr=n,gC(n,t)}pC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ic(8,e,e.return),cg(e);break;case 22:r=e.stateNode,r._visibility&4&&(r._visibility&=-5,cg(e));break;default:cg(e)}t=t.sibling}}function gC(t,e){for(;Rr!==null;){var r=Rr;switch(r.tag){case 0:case 11:case 15:ic(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:t1(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Rr=n;else e:for(r=t;Rr!==null;){n=Rr;var i=n.sibling,a=n.return;if(oC(n),n===r){Rr=null;break e}if(i!==null){i.return=a,Rr=i;break e}Rr=a}}}function qN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(t,e,r,n){return new qN(t,e,r,n)}function A4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qf(t,e){var r=t.alternate;return r===null?(r=la(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function yC(t,e){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ug(t,e,r,n,i,a){var s=0;if(n=t,typeof t=="function")A4(t)&&(s=1);else if(typeof t=="string")s=OU(t,r,Ds.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case pl:return fu(r.children,i,a,e);case vS:s=8,i|=24;break;case Lm:return t=la(12,r,e,i|2),t.elementType=Lm,t.lanes=a,t;case Hm:return t=la(13,r,e,i),t.elementType=Hm,t.lanes=a,t;case Pm:return t=la(19,r,e,i),t.elementType=Pm,t.lanes=a,t;case mS:return vC(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bP:case mo:s=10;break e;case _S:s=9;break e;case F6:s=11;break e;case q6:s=14;break e;case wf:s=16,n=null;break e}s=29,r=Error(pe(130,t===null?"null":typeof t,"")),n=null}return e=la(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function fu(t,e,r,n){return t=la(7,t,n,e),t.lanes=r,t}function vC(t,e,r,n){t=la(22,t,n,e),t.elementType=mS,t.lanes=r;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=i._current;if(a===null)throw Error(pe(456));if(!(i._pendingVisibility&2)){var s=rc(a,2);s!==null&&(i._pendingVisibility|=2,Qn(s,a,2))}},attach:function(){var a=i._current;if(a===null)throw Error(pe(456));if(i._pendingVisibility&2){var s=rc(a,2);s!==null&&(i._pendingVisibility&=-3,Qn(s,a,2))}}};return t.stateNode=i,t}function l_(t,e,r){return t=la(6,t,null,e),t.lanes=r,t}function d_(t,e,r){return e=la(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function no(t){t.flags|=4}function D7(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kC(e)){if(e=_a.current,e!==null&&((We&4194176)===We?Rs!==null:(We&62914560)!==We&&!(We&536870912)||e!==Rs))throw kh=Gm,iI;t.flags|=8192}}function Sb(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?CS():536870912,t.lanes|=e,bd|=e)}function eh(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&31457280,n|=i.flags&31457280,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function KN(t,e,r){var n=e.pendingProps;switch(r4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return Ft(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Bo(wr),cd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(X0(e)?no(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qa!==null&&(g3(qa),qa=null))),Ft(e),null;case 26:return r=e.memoizedState,t===null?(no(e),r!==null?(Ft(e),D7(e,r)):(Ft(e),e.flags&=-16777217)):r?r!==t.memoizedState?(no(e),Ft(e),D7(e,r)):(Ft(e),e.flags&=-16777217):(t.memoizedProps!==n&&no(e),Ft(e),e.flags&=-16777217),null;case 27:Cg(e),r=Ff.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&no(e);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Ft(e),null}t=Ds.current,X0(e)?o7(e):(t=PC(i,n,r),e.stateNode=t,no(e))}return Ft(e),null;case 5:if(Cg(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&no(e);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Ft(e),null}if(t=Ds.current,X0(e))o7(e);else{switch(i=Yg(Ff.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[wn]=e,t[oi]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(en(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&no(e)}}return Ft(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&no(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(t=Ff.current,X0(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=$n,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[wn]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||RC(t.nodeValue,r)),t||gu(e)}else t=Yg(t).createTextNode(n),t[wn]=e,e.stateNode=t}return Ft(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=X0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(pe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[wn]=e}else e1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else qa!==null&&(g3(qa),qa=null),i=!0;if(!i)return e.flags&256?(Eo(e),e):(Eo(e),null)}if(Eo(e),e.flags&128)return e.lanes=r,e;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==t&&r&&(e.child.flags|=8192),Sb(e,e.updateQueue),Ft(e),null;case 4:return cd(),t===null&&T4(e.stateNode.containerInfo),Ft(e),null;case 10:return Bo(e.type),Ft(e),null;case 19:if(zr(Ar),i=e.memoizedState,i===null)return Ft(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)eh(i,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hg(t),a!==null){for(e.flags|=128,eh(i,!1),t=a.updateQueue,e.updateQueue=t,Sb(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)yC(r,t),r=r.sibling;return Ut(Ar,Ar.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ms()>$g&&(e.flags|=128,n=!0,eh(i,!1),e.lanes=4194304)}else{if(!n)if(t=Hg(a),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,Sb(e,t),eh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return Ft(e),null}else 2*Ms()-i.renderingStartTime>$g&&r!==536870912&&(e.flags|=128,n=!0,eh(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ms(),e.sibling=null,t=Ar.current,Ut(Ar,n?t&1|2:t&1),e):(Ft(e),null);case 22:case 23:return Eo(e),n4(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),r=e.updateQueue,r!==null&&Sb(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&zr(ou),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Bo(wr),Ft(e),null;case 25:return null}throw Error(pe(156,e.tag))}function QN(t,e){switch(r4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(wr),cd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Cg(e),null;case 13:if(Eo(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));e1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zr(Ar),null;case 4:return cd(),null;case 10:return Bo(e.type),null;case 22:case 23:return Eo(e),n4(),t!==null&&zr(ou),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Bo(wr),null;case 25:return null;default:return null}}function _C(t,e){switch(r4(e),e.tag){case 3:Bo(wr),cd();break;case 26:case 27:case 5:Cg(e);break;case 4:cd();break;case 13:Eo(e);break;case 19:zr(Ar);break;case 10:Bo(e.type);break;case 22:case 23:Eo(e),n4(),t!==null&&zr(ou);break;case 24:Bo(wr)}}var YN={getCacheForType:function(t){var e=An(wr),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r}},VN=typeof WeakMap=="function"?WeakMap:Map,Qt=0,mt=null,qe=null,We=0,_t=0,Ei=null,ho=!1,Zd=!1,E4=!1,ko=0,or=0,ac=0,cu=0,x4=0,da=0,bd=0,Yh=null,Es=null,d3=!1,S4=0,$g=1/0,Fg=null,Yf=null,Ib=!1,Pc=null,Vh=0,h3=0,p3=null,Gh=0,b3=null;function Mi(){if(Qt&2&&We!==0)return We&-We;if(ke.T!==null){var t=hd;return t!==0?t:C4()}return DS()}function mC(){da===0&&(da=!(We&536870912)||et?IS():536870912);var t=_a.current;return t!==null&&(t.flags|=32),da}function Qn(t,e,r){(t===mt&&_t===2||t.cancelPendingCommit!==null)&&(gd(t,0),po(t,We,da,!1)),Zp(t,r),(!(Qt&2)||t!==mt)&&(t===mt&&(!(Qt&2)&&(cu|=r),or===4&&po(t,We,da,!1)),Qs(t))}function wC(t,e,r){if(Qt&6)throw Error(pe(327));var n=!r&&(e&60)===0&&(e&t.expiredLanes)===0||Xp(t,e),i=n?XN(t,e):h_(t,e,!0),a=n;do{if(i===0){Zd&&!n&&po(t,e,0,!1);break}else if(i===6)po(t,e,0,!ho);else{if(r=t.current.alternate,a&&!GN(r)){i=h_(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Yh;var f=o.current.memoizedState.isDehydrated;if(f&&(gd(o,s).flags|=256),s=h_(o,s,!1),s!==2){if(E4&&!f){o.errorRecoveryDisabledLanes|=a,cu|=a,i=4;break e}a=Es,Es=i,a!==null&&g3(a)}i=s}if(a=!1,i!==2)continue}}if(i===1){gd(t,0),po(t,e,0,!0);break}e:{switch(n=t,i){case 0:case 1:throw Error(pe(345));case 4:if((e&4194176)===e){po(n,e,da,!ho);break e}break;case 2:Es=null;break;case 3:case 5:break;default:throw Error(pe(329))}if(n.finishedWork=r,n.finishedLanes=e,(e&62914560)===e&&(a=S4+300-Ms(),10<a)){if(po(n,e,da,!ho),qy(n,0)!==0)break e;n.timeoutHandle=HC(M7.bind(null,n,r,Es,Fg,d3,e,da,cu,bd,ho,2,-0,0),a);break e}M7(n,r,Es,Fg,d3,e,da,cu,bd,ho,0,-0,0)}}break}while(!0);Qs(t)}function g3(t){Es===null?Es=t:Es.push.apply(Es,t)}function M7(t,e,r,n,i,a,s,o,f,c,u,l,p){var y=e.subtreeFlags;if((y&8192||(y&16785408)===16785408)&&(vp={stylesheets:null,count:0,unsuspend:BU},hC(e),e=MU(),e!==null)){t.cancelPendingCommit=e(L7.bind(null,t,r,n,i,s,o,f,1,l,p)),po(t,a,s,!c);return}L7(t,r,n,i,s,o,f,u,l,p)}function GN(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Li(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function po(t,e,r,n){e&=~x4,e&=~cu,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-Di(i),s=1<<a;n[a]=-1,i&=~s}r!==0&&TS(t,r,e)}function e2(){return Qt&6?!0:(a1(0),!1)}function I4(){if(qe!==null){if(_t===0)var t=qe.return;else t=qe,xo=Nu=null,u4(t),Hl=null,pp=0,t=qe;for(;t!==null;)_C(t.alternate,t),t=t.return;qe=null}}function gd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,pU(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),I4(),mt=t,qe=r=Qf(t.current,null),We=e,_t=0,Ei=null,ho=!1,Zd=Xp(t,e),E4=!1,bd=da=x4=cu=ac=or=0,Es=Yh=null,d3=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Di(n),a=1<<i;e|=t[i],n&=~a}return ko=e,Vy(),r}function AC(t,e){$e=null,ke.H=js,e===Uh?(e=u7(),_t=3):e===iI?(e=u7(),_t=4):_t=e===YI?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ei=e,qe===null&&(or=1,kg(t,fa(e,t.current)))}function EC(){var t=ke.H;return ke.H=js,t===null?js:t}function xC(){var t=ke.A;return ke.A=YN,t}function y3(){or=4,ho||(We&4194176)!==We&&_a.current!==null||(Zd=!0),!(ac&134217727)&&!(cu&134217727)||mt===null||po(mt,We,da,!1)}function h_(t,e,r){var n=Qt;Qt|=2;var i=EC(),a=xC();(mt!==t||We!==e)&&(Fg=null,gd(t,e)),e=!1;var s=or;e:do try{if(_t!==0&&qe!==null){var o=qe,f=Ei;switch(_t){case 8:I4(),s=6;break e;case 3:case 2:case 6:_a.current===null&&(e=!0);var c=_t;if(_t=0,Ei=null,xl(t,o,f,c),r&&Zd){s=0;break e}break;default:c=_t,_t=0,Ei=null,xl(t,o,f,c)}}WN(),s=or;break}catch(u){AC(t,u)}while(!0);return e&&t.shellSuspendCounter++,xo=Nu=null,Qt=n,ke.H=i,ke.A=a,qe===null&&(mt=null,We=0,Vy()),s}function WN(){for(;qe!==null;)SC(qe)}function XN(t,e){var r=Qt;Qt|=2;var n=EC(),i=xC();mt!==t||We!==e?(Fg=null,$g=Ms()+500,gd(t,e)):Zd=Xp(t,e);e:do try{if(_t!==0&&qe!==null){e=qe;var a=Ei;t:switch(_t){case 1:_t=0,Ei=null,xl(t,e,a,1);break;case 2:if(c7(a)){_t=0,Ei=null,R7(e);break}e=function(){_t===2&&mt===t&&(_t=7),Qs(t)},a.then(e,e);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:c7(a)?(_t=0,Ei=null,R7(e)):(_t=0,Ei=null,xl(t,e,a,7));break;case 5:var s=null;switch(qe.tag){case 26:s=qe.memoizedState;case 5:case 27:var o=qe;if(!s||kC(s)){_t=0,Ei=null;var f=o.sibling;if(f!==null)qe=f;else{var c=o.return;c!==null?(qe=c,t2(c)):qe=null}break t}}_t=0,Ei=null,xl(t,e,a,5);break;case 6:_t=0,Ei=null,xl(t,e,a,6);break;case 8:I4(),or=6;break e;default:throw Error(pe(462))}}ZN();break}catch(u){AC(t,u)}while(!0);return xo=Nu=null,ke.H=n,ke.A=i,Qt=r,qe!==null?0:(mt=null,We=0,Vy(),or)}function ZN(){for(;qe!==null&&!mP();)SC(qe)}function SC(t){var e=ZI(t.alternate,t,ko);t.memoizedProps=t.pendingProps,e===null?t2(t):qe=e}function R7(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=x7(r,e,e.pendingProps,e.type,void 0,We);break;case 11:e=x7(r,e,e.pendingProps,e.type.render,e.ref,We);break;case 5:u4(e);default:_C(r,e),e=qe=yC(e,ko),e=ZI(r,e,ko)}t.memoizedProps=t.pendingProps,e===null?t2(t):qe=e}function xl(t,e,r,n){xo=Nu=null,u4(e),Hl=null,pp=0;var i=e.return;try{if(zN(t,i,e,r,We)){or=1,kg(t,fa(r,t.current)),qe=null;return}}catch(a){if(i!==null)throw qe=i,a;or=1,kg(t,fa(r,t.current)),qe=null;return}e.flags&32768?(et||n===1?t=!0:Zd||We&536870912?t=!1:(ho=t=!0,(n===2||n===3||n===6)&&(n=_a.current,n!==null&&n.tag===13&&(n.flags|=16384))),IC(e,t)):t2(e)}function t2(t){var e=t;do{if(e.flags&32768){IC(e,ho);return}t=e.return;var r=KN(e.alternate,e,ko);if(r!==null){qe=r;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);or===0&&(or=5)}function IC(t,e){do{var r=QN(t.alternate,t);if(r!==null){r.flags&=32767,qe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){qe=t;return}qe=t=r}while(t!==null);or=6,qe=null}function L7(t,e,r,n,i,a,s,o,f,c){var u=ke.T,l=Tt.p;try{Tt.p=2,ke.T=null,JN(t,e,r,n,l,i,a,s,o,f,c)}finally{ke.T=u,Tt.p=l}}function JN(t,e,r,n,i,a,s,o){do kl();while(Pc!==null);if(Qt&6)throw Error(pe(327));var f=t.finishedWork;if(n=t.finishedLanes,f===null)return null;if(t.finishedWork=null,t.finishedLanes=0,f===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=f.lanes|f.childLanes;if(c|=J6,DP(t,n,c,a,s,o),t===mt&&(qe=mt=null,We=0),!(f.subtreeFlags&10256)&&!(f.flags&10256)||Ib||(Ib=!0,h3=c,p3=r,nU(Tg,function(){return kl(),null})),r=(f.flags&15990)!==0,f.subtreeFlags&15990||r?(r=ke.T,ke.T=null,a=Tt.p,Tt.p=2,s=Qt,Qt|=4,$N(t,f),uC(f,t),EN(w3,t.containerInfo),Xg=!!m3,w3=m3=null,t.current=f,sC(t,f.alternate,f),wP(),Qt=s,Tt.p=a,ke.T=r):t.current=f,Ib?(Ib=!1,Pc=t,Vh=n):CC(t,c),c=t.pendingLanes,c===0&&(Yf=null),IP(f.stateNode),Qs(t),e!==null)for(i=t.onRecoverableError,f=0;f<e.length;f++)c=e[f],i(c.value,{componentStack:c.stack});return Vh&3&&kl(),c=t.pendingLanes,n&4194218&&c&42?t===b3?Gh++:(Gh=0,b3=t):Gh=0,a1(0),null}function CC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,t1(e)))}function kl(){if(Pc!==null){var t=Pc,e=h3;h3=0;var r=BS(Vh),n=ke.T,i=Tt.p;try{if(Tt.p=32>r?32:r,ke.T=null,Pc===null)var a=!1;else{r=p3,p3=null;var s=Pc,o=Vh;if(Pc=null,Vh=0,Qt&6)throw Error(pe(331));var f=Qt;if(Qt|=4,bC(s.current),dC(s,s.current,o,r),Qt=f,a1(0,!1),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(Wp,s)}catch{}a=!0}return a}finally{Tt.p=i,ke.T=n,CC(t,e)}}return!1}function H7(t,e,r){e=fa(r,e),e=r3(t.stateNode,e,2),t=Kf(t,e,2),t!==null&&(Zp(t,2),Qs(t))}function bt(t,e,r){if(t.tag===3)H7(t,t,r);else for(;e!==null;){if(e.tag===3){H7(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yf===null||!Yf.has(n))){t=fa(r,t),r=KI(2),n=Kf(e,r,2),n!==null&&(QI(r,n,e,t),Zp(n,2),Qs(n));break}}e=e.return}}function p_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new VN;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(E4=!0,i.add(r),t=eU.bind(null,t,e,r),e.then(t,t))}function eU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,mt===t&&(We&r)===r&&(or===4||or===3&&(We&62914560)===We&&300>Ms()-S4?!(Qt&2)&&gd(t,0):x4|=r,bd===We&&(bd=0)),Qs(t)}function TC(t,e){e===0&&(e=CS()),t=rc(t,e),t!==null&&(Zp(t,e),Qs(t))}function tU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),TC(t,r)}function rU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(pe(314))}n!==null&&n.delete(e),TC(t,r)}function nU(t,e){return K6(t,e)}var qg=null,ll=null,v3=!1,Kg=!1,b_=!1,uu=0;function Qs(t){t!==ll&&t.next===null&&(ll===null?qg=ll=t:ll=ll.next=t),Kg=!0,v3||(v3=!0,aU(iU))}function a1(t,e){if(!b_&&Kg){b_=!0;do for(var r=!1,n=qg;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var s=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-Di(42|t)+1)-1,a&=i&~(s&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(r=!0,P7(n,a))}else a=We,a=qy(n,n===mt?a:0),!(a&3)||Xp(n,a)||(r=!0,P7(n,a));n=n.next}while(r);b_=!1}}function iU(){Kg=v3=!1;var t=0;uu!==0&&(hU()&&(t=uu),uu=0);for(var e=Ms(),r=null,n=qg;n!==null;){var i=n.next,a=OC(n,e);a===0?(n.next=null,r===null?qg=i:r.next=i,i===null&&(ll=r)):(r=n,(t!==0||a&3)&&(Kg=!0)),n=i}a1(t)}function OC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Di(a),o=1<<s,f=i[s];f===-1?(!(o&r)||o&n)&&(i[s]=BP(o,e)):f<=e&&(t.expiredLanes|=o),a&=~o}if(e=mt,r=We,r=qy(t,t===e?r:0),n=t.callbackNode,r===0||t===e&&_t===2||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Kv(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Xp(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&Kv(n),BS(r)){case 2:case 8:r=xS;break;case 32:r=Tg;break;case 268435456:r=SS;break;default:r=Tg}return n=BC.bind(null,t),r=K6(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&Kv(n),t.callbackPriority=2,t.callbackNode=null,2}function BC(t,e){var r=t.callbackNode;if(kl()&&t.callbackNode!==r)return null;var n=We;return n=qy(t,t===mt?n:0),n===0?null:(wC(t,n,e),OC(t,Ms()),t.callbackNode!=null&&t.callbackNode===r?BC.bind(null,t):null)}function P7(t,e){if(kl())return null;wC(t,e,!0)}function aU(t){bU(function(){Qt&6?K6(ES,t):t()})}function C4(){return uu===0&&(uu=IS()),uu}function N7(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ng(""+t)}function U7(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function sU(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=N7((i[oi]||null).action),s=n.submitter;s&&(e=(e=s[oi]||null)?N7(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Ky("action","action",null,n,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(uu!==0){var f=s?U7(i,s):new FormData(i);e3(r,{pending:!0,data:f,method:i.method,action:a},null,f)}}else typeof a=="function"&&(o.preventDefault(),f=s?U7(i,s):new FormData(i),e3(r,{pending:!0,data:f,method:i.method,action:a},a,f))},currentTarget:i}]})}}for(var g_=0;g_<a7.length;g_++){var y_=a7[g_],oU=y_.toLowerCase(),fU=y_[0].toUpperCase()+y_.slice(1);us(oU,"on"+fU)}us(XS,"onAnimationEnd");us(ZS,"onAnimationIteration");us(JS,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(SN,"onTransitionRun");us(IN,"onTransitionStart");us(CN,"onTransitionCancel");us(eI,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);Mu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gp));function DC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],f=o.instance,c=o.currentTarget;if(o=o.listener,f!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Ug(u)}i.currentTarget=null,a=f}else for(s=0;s<n.length;s++){if(o=n[s],f=o.instance,c=o.currentTarget,o=o.listener,f!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Ug(u)}i.currentTarget=null,a=f}}}}function Ve(t,e){var r=e[jm];r===void 0&&(r=e[jm]=new Set);var n=t+"__bubble";r.has(n)||(MC(e,t,2,!1),r.add(n))}function v_(t,e,r){var n=0;e&&(n|=4),MC(r,t,n,e)}var Cb="_reactListening"+Math.random().toString(36).slice(2);function T4(t){if(!t[Cb]){t[Cb]=!0,MS.forEach(function(r){r!=="selectionchange"&&(cU.has(r)||v_(r,!1,t),v_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cb]||(e[Cb]=!0,v_("selectionchange",!1,e))}}function MC(t,e,r,n){switch(qC(e)){case 2:var i=HU;break;case 8:i=PU;break;default:i=M4}r=i.bind(null,e,r,t),i=void 0,!Km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function __(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;o!==null;){if(s=qc(o),s===null)return;if(f=s.tag,f===5||f===6||f===26||f===27){n=a=s;continue e}o=o.parentNode}}n=n.return}zS(function(){var c=a,u=V6(r),l=[];e:{var p=tI.get(t);if(p!==void 0){var y=Ky,m=t;switch(t){case"keypress":if(ag(r)===0)break e;case"keydown":case"keyup":y=rN;break;case"focusin":m="focus",y=Wv;break;case"focusout":m="blur",y=Wv;break;case"beforeblur":case"afterblur":y=Wv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=aN;break;case XS:case ZS:case JS:y=YP;break;case eI:y=oN;break;case"scroll":case"scrollend":y=$P;break;case"wheel":y=cN;break;case"copy":case"cut":case"paste":y=GP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gw;break;case"toggle":case"beforetoggle":y=lN}var A=(e&4)!==0,S=!A&&(t==="scroll"||t==="scrollend"),w=A?p!==null?p+"Capture":null:p;A=[];for(var C=c,O;C!==null;){var M=C;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||w===null||(M=up(C,w),M!=null&&A.push(yp(C,M,O))),S)break;C=C.return}0<A.length&&(p=new y(p,m,null,r,u),l.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&r!==qm&&(m=r.relatedTarget||r.fromElement)&&(qc(m)||m[Wd]))break e;if((y||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,y?(m=r.relatedTarget||r.toElement,y=c,m=m?qc(m):null,m!==null&&(S=Gd(m),A=m.tag,m!==S||A!==5&&A!==27&&A!==6)&&(m=null)):(y=null,m=c),y!==m)){if(A=Yw,M="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(A=Gw,M="onPointerLeave",w="onPointerEnter",C="pointer"),S=y==null?p:wh(y),O=m==null?p:wh(m),p=new A(M,C+"leave",y,r,u),p.target=S,p.relatedTarget=O,M=null,qc(u)===c&&(A=new A(w,C+"enter",m,r,u),A.target=O,A.relatedTarget=S,M=A),S=M,y&&m)t:{for(A=y,w=m,C=0,O=A;O;O=el(O))C++;for(O=0,M=w;M;M=el(M))O++;for(;0<C-O;)A=el(A),C--;for(;0<O-C;)w=el(w),O--;for(;C--;){if(A===w||w!==null&&A===w.alternate)break t;A=el(A),w=el(w)}A=null}else A=null;y!==null&&k7(l,p,y,A,!1),m!==null&&S!==null&&k7(l,S,m,A,!0)}}e:{if(p=c?wh(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var U=Jw;else if(Zw(p))if(QS)U=wN;else{U=_N;var K=vN}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Y6(c.elementType)&&(U=Jw):U=mN;if(U&&(U=U(t,c))){KS(l,U,r,u);break e}K&&K(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Fm(p,"number",p.value)}switch(K=c?wh(c):window,t){case"focusin":(Zw(K)||K.contentEditable==="true")&&(vl=K,Qm=c,Nh=null);break;case"focusout":Nh=Qm=vl=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,i7(l,r,u);break;case"selectionchange":if(xN)break;case"keydown":case"keyup":i7(l,r,u)}var Q;if(X6)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else yl?FS(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&($S&&r.locale!=="ko"&&(yl||k!=="onCompositionStart"?k==="onCompositionEnd"&&yl&&(Q=jS()):(zf=u,G6="value"in zf?zf.value:zf.textContent,yl=!0)),K=Qg(c,k),0<K.length&&(k=new Vw(k,t,null,r,u),l.push({event:k,listeners:K}),Q?k.data=Q:(Q=qS(r),Q!==null&&(k.data=Q)))),(Q=hN?pN(t,r):bN(t,r))&&(k=Qg(c,"onBeforeInput"),0<k.length&&(K=new Vw("onBeforeInput","beforeinput",null,r,u),l.push({event:K,listeners:k}),K.data=Q)),sU(l,t,c,r,u)}DC(l,e)})}function yp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Qg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=up(t,r),i!=null&&n.unshift(yp(t,i,a)),i=up(t,e),i!=null&&n.push(yp(t,i,a))),t=t.return}return n}function el(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function k7(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,f=o.alternate,c=o.stateNode;if(o=o.tag,f!==null&&f===n)break;o!==5&&o!==26&&o!==27||c===null||(f=c,i?(c=up(r,a),c!=null&&s.unshift(yp(r,c,f))):i||(c=up(r,a),c!=null&&s.push(yp(r,c,f)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var uU=/\r\n?/g,lU=/\u0000|\uFFFD/g;function z7(t){return(typeof t=="string"?t:""+t).replace(uU,`
`).replace(lU,"")}function RC(t,e){return e=z7(e),z7(t)===e}function r2(){}function ft(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||ld(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&ld(t,""+n);break;case"className":_b(t,"class",n);break;case"tabIndex":_b(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":_b(t,r,n);break;case"style":kS(t,n,a);break;case"data":if(e!=="object"){_b(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=ng(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&ft(t,e,"name",i.name,i,null),ft(t,e,"formEncType",i.formEncType,i,null),ft(t,e,"formMethod",i.formMethod,i,null),ft(t,e,"formTarget",i.formTarget,i,null)):(ft(t,e,"encType",i.encType,i,null),ft(t,e,"method",i.method,i,null),ft(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=ng(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=r2);break;case"onScroll":n!=null&&Ve("scroll",t);break;case"onScrollEnd":n!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(pe(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(pe(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=ng(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),rg(t,"popover",n);break;case"xlinkActuate":eo(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":eo(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":eo(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":eo(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":eo(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":eo(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":eo(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":eo(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":eo(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":rg(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=zP.get(r)||r,rg(t,r,n))}}function _3(t,e,r,n,i,a){switch(r){case"style":kS(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(pe(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(pe(60));t.innerHTML=r}}break;case"children":typeof n=="string"?ld(t,n):(typeof n=="number"||typeof n=="bigint")&&ld(t,""+n);break;case"onScroll":n!=null&&Ve("scroll",t);break;case"onScrollEnd":n!=null&&Ve("scrollend",t);break;case"onClick":n!=null&&(t.onclick=r2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!RS.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[oi]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):rg(t,r,n)}}}function en(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(pe(137,e));default:ft(t,e,a,s,r,null)}}i&&ft(t,e,"srcSet",r.srcSet,r,null),n&&ft(t,e,"src",r.src,r,null);return;case"input":Ve("invalid",t);var o=a=s=i=null,f=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":s=u;break;case"checked":f=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(pe(137,e));break;default:ft(t,e,n,u,r,null)}}PS(t,a,o,f,c,s,i,!1),Og(t);return;case"select":Ve("invalid",t),n=s=a=null;for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:ft(t,e,i,o,r,null)}e=a,r=s,t.multiple=!!n,e!=null?Rl(t,!!n,e,!1):r!=null&&Rl(t,!!n,r,!0);return;case"textarea":Ve("invalid",t),a=i=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(pe(91));break;default:ft(t,e,s,o,r,null)}US(t,n,i,a),Og(t);return;case"option":for(f in r)if(r.hasOwnProperty(f)&&(n=r[f],n!=null))switch(f){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ft(t,e,f,n,r,null)}return;case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(n=0;n<gp.length;n++)Ve(gp[n],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(pe(137,e));default:ft(t,e,c,n,r,null)}return;default:if(Y6(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&_3(t,e,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&ft(t,e,o,n,r,null))}function dU(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,f=null,c=null,u=null;for(y in r){var l=r[y];if(r.hasOwnProperty(y)&&l!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":f=l;default:n.hasOwnProperty(y)||ft(t,e,y,null,n,l)}}for(var p in n){var y=n[p];if(l=r[p],n.hasOwnProperty(p)&&(y!=null||l!=null))switch(p){case"type":a=y;break;case"name":i=y;break;case"checked":c=y;break;case"defaultChecked":u=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(pe(137,e));break;default:y!==l&&ft(t,e,p,y,n,l)}}$m(t,s,o,f,c,u,a,i);return;case"select":y=s=o=p=null;for(a in r)if(f=r[a],r.hasOwnProperty(a)&&f!=null)switch(a){case"value":break;case"multiple":y=f;default:n.hasOwnProperty(a)||ft(t,e,a,null,n,f)}for(i in n)if(a=n[i],f=r[i],n.hasOwnProperty(i)&&(a!=null||f!=null))switch(i){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==f&&ft(t,e,i,a,n,f)}e=o,r=s,n=y,p!=null?Rl(t,!!r,p,!1):!!n!=!!r&&(e!=null?Rl(t,!!r,e,!0):Rl(t,!!r,r?[]:"",!1));return;case"textarea":y=p=null;for(o in r)if(i=r[o],r.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(t,e,o,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":p=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(pe(91));break;default:i!==a&&ft(t,e,s,i,n,a)}NS(t,p,y);return;case"option":for(var m in r)if(p=r[m],r.hasOwnProperty(m)&&p!=null&&!n.hasOwnProperty(m))switch(m){case"selected":t.selected=!1;break;default:ft(t,e,m,null,n,p)}for(f in n)if(p=n[f],y=r[f],n.hasOwnProperty(f)&&p!==y&&(p!=null||y!=null))switch(f){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ft(t,e,f,p,n,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in r)p=r[A],r.hasOwnProperty(A)&&p!=null&&!n.hasOwnProperty(A)&&ft(t,e,A,null,n,p);for(c in n)if(p=n[c],y=r[c],n.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(pe(137,e));break;default:ft(t,e,c,p,n,y)}return;default:if(Y6(e)){for(var S in r)p=r[S],r.hasOwnProperty(S)&&p!==void 0&&!n.hasOwnProperty(S)&&_3(t,e,S,void 0,n,p);for(u in n)p=n[u],y=r[u],!n.hasOwnProperty(u)||p===y||p===void 0&&y===void 0||_3(t,e,u,p,n,y);return}}for(var w in r)p=r[w],r.hasOwnProperty(w)&&p!=null&&!n.hasOwnProperty(w)&&ft(t,e,w,null,n,p);for(l in n)p=n[l],y=r[l],!n.hasOwnProperty(l)||p===y||p==null&&y==null||ft(t,e,l,p,n,y)}var m3=null,w3=null;function Yg(t){return t.nodeType===9?t:t.ownerDocument}function j7(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LC(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function A3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m_=null;function hU(){var t=window.event;return t&&t.type==="popstate"?t===m_?!1:(m_=t,!0):(m_=null,!1)}var HC=typeof setTimeout=="function"?setTimeout:void 0,pU=typeof clearTimeout=="function"?clearTimeout:void 0,$7=typeof Promise=="function"?Promise:void 0,bU=typeof queueMicrotask=="function"?queueMicrotask:typeof $7<"u"?function(t){return $7.resolve(null).then(t).catch(gU)}:HC;function gU(t){setTimeout(function(){throw t})}function w_(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ap(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ap(e)}function E3(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":E3(r),Q6(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function yU(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[cp])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=es(t.nextSibling),t===null)break}return null}function vU(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=es(t.nextSibling),t===null))return null;return t}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function F7(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}function PC(t,e,r){switch(e=Yg(r),t){case"html":if(t=e.documentElement,!t)throw Error(pe(452));return t;case"head":if(t=e.head,!t)throw Error(pe(453));return t;case"body":if(t=e.body,!t)throw Error(pe(454));return t;default:throw Error(pe(451))}}var ma=new Map,q7=new Set;function Vg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vo=Tt.d;Tt.d={f:_U,r:mU,D:wU,C:AU,L:EU,m:xU,X:IU,S:SU,M:CU};function _U(){var t=Vo.f(),e=e2();return t||e}function mU(t){var e=Xd(t);e!==null&&e.tag===5&&e.type==="form"?PI(e):Vo.r(t)}var Jd=typeof document>"u"?null:document;function NC(t,e,r){var n=Jd;if(n&&typeof e=="string"&&e){var i=oa(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),q7.has(i)||(q7.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),en(e,"link",t),Lr(e),n.head.appendChild(e)))}}function wU(t){Vo.D(t),NC("dns-prefetch",t,null)}function AU(t,e){Vo.C(t,e),NC("preconnect",t,e)}function EU(t,e,r){Vo.L(t,e,r);var n=Jd;if(n&&t&&e){var i='link[rel="preload"][as="'+oa(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+oa(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+oa(r.imageSizes)+'"]')):i+='[href="'+oa(t)+'"]';var a=i;switch(e){case"style":a=yd(t);break;case"script":a=e0(t)}ma.has(a)||(t=Dt({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),ma.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(s1(a))||e==="script"&&n.querySelector(o1(a))||(e=n.createElement("link"),en(e,"link",t),Lr(e),n.head.appendChild(e)))}}function xU(t,e){Vo.m(t,e);var r=Jd;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+oa(n)+'"][href="'+oa(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=e0(t)}if(!ma.has(a)&&(t=Dt({rel:"modulepreload",href:t},e),ma.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(o1(a)))return}n=r.createElement("link"),en(n,"link",t),Lr(n),r.head.appendChild(n)}}}function SU(t,e,r){Vo.S(t,e,r);var n=Jd;if(n&&t){var i=Ml(n).hoistableStyles,a=yd(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(s1(a)))o.loading=5;else{t=Dt({rel:"stylesheet",href:t,"data-precedence":e},r),(r=ma.get(a))&&O4(t,r);var f=s=n.createElement("link");Lr(f),en(f,"link",t),f._p=new Promise(function(c,u){f.onload=c,f.onerror=u}),f.addEventListener("load",function(){o.loading|=1}),f.addEventListener("error",function(){o.loading|=2}),o.loading|=4,lg(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function IU(t,e){Vo.X(t,e);var r=Jd;if(r&&t){var n=Ml(r).hoistableScripts,i=e0(t),a=n.get(i);a||(a=r.querySelector(o1(i)),a||(t=Dt({src:t,async:!0},e),(e=ma.get(i))&&B4(t,e),a=r.createElement("script"),Lr(a),en(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function CU(t,e){Vo.M(t,e);var r=Jd;if(r&&t){var n=Ml(r).hoistableScripts,i=e0(t),a=n.get(i);a||(a=r.querySelector(o1(i)),a||(t=Dt({src:t,async:!0,type:"module"},e),(e=ma.get(i))&&B4(t,e),a=r.createElement("script"),Lr(a),en(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function K7(t,e,r,n){var i=(i=Ff.current)?Vg(i):null;if(!i)throw Error(pe(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=yd(r.href),r=Ml(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=yd(r.href);var a=Ml(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(s1(t)))&&!a._p&&(s.instance=a,s.state.loading=5),ma.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ma.set(t,r),a||TU(i,t,r,s.state))),e&&n===null)throw Error(pe(528,""));return s}if(e&&n!==null)throw Error(pe(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=e0(r),r=Ml(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(pe(444,t))}}function yd(t){return'href="'+oa(t)+'"'}function s1(t){return'link[rel="stylesheet"]['+t+"]"}function UC(t){return Dt({},t,{"data-precedence":t.precedence,precedence:null})}function TU(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),en(e,"link",r),Lr(e),t.head.appendChild(e))}function e0(t){return'[src="'+oa(t)+'"]'}function o1(t){return"script[async]"+t}function Q7(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+oa(r.href)+'"]');if(n)return e.instance=n,Lr(n),n;var i=Dt({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Lr(n),en(n,"style",i),lg(n,r.precedence,t),e.instance=n;case"stylesheet":i=yd(r.href);var a=t.querySelector(s1(i));if(a)return e.state.loading|=4,e.instance=a,Lr(a),a;n=UC(r),(i=ma.get(i))&&O4(n,i),a=(t.ownerDocument||t).createElement("link"),Lr(a);var s=a;return s._p=new Promise(function(o,f){s.onload=o,s.onerror=f}),en(a,"link",n),e.state.loading|=4,lg(a,r.precedence,t),e.instance=a;case"script":return a=e0(r.src),(i=t.querySelector(o1(a)))?(e.instance=i,Lr(i),i):(n=r,(i=ma.get(a))&&(n=Dt({},r),B4(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),Lr(i),en(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(pe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,lg(n,r.precedence,t));return e.instance}function lg(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function O4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function B4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var dg=null;function Y7(t,e,r){if(dg===null){var n=new Map,i=dg=new Map;i.set(r,n)}else i=dg,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[cp]||a[wn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(a):n.set(s,[a])}}return n}function V7(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function OU(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kC(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var vp=null;function BU(){}function DU(t,e,r){if(vp===null)throw Error(pe(475));var n=vp;if(e.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=yd(r.href),a=t.querySelector(s1(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=Gg.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=a,Lr(a);return}a=t.ownerDocument||t,r=UC(r),(i=ma.get(i))&&O4(r,i),a=a.createElement("link"),Lr(a);var s=a;s._p=new Promise(function(o,f){s.onload=o,s.onerror=f}),en(a,"link",r),e.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=Gg.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function MU(){if(vp===null)throw Error(pe(475));var t=vp;return t.stylesheets&&t.count===0&&x3(t,t.stylesheets),0<t.count?function(e){var r=setTimeout(function(){if(t.stylesheets&&x3(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Gg(){if(this.count--,this.count===0){if(this.stylesheets)x3(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wg=null;function x3(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wg=new Map,e.forEach(RU,t),Wg=null,Gg.call(t))}function RU(t,e){if(!(e.state.loading&4)){var r=Wg.get(t);if(r)var n=r.get(null);else{r=new Map,Wg.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}i=e.instance,s=i.getAttribute("data-precedence"),a=r.get(s)||n,a===n&&r.set(null,i),r.set(s,i),this.count++,n=Gg.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var _p={$$typeof:mo,Provider:null,Consumer:null,_currentValue:au,_currentValue2:au,_threadCount:0};function LU(t,e,r,n,i,a,s,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qv(0),this.hiddenUpdates=Qv(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function zC(t,e,r,n,i,a,s,o,f,c,u,l){return t=new LU(t,e,r,s,o,f,c,l),e=1,a===!0&&(e|=24),a=la(3,null,null,e),t.current=a,a.stateNode=t,e=i4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},_4(a),t}function jC(t){return t?(t=wl,t):wl}function $C(t,e,r,n,i,a){i=jC(i),n.context===null?n.context=i:n.pendingContext=i,n=qf(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=Kf(t,n,e),r!==null&&(Qn(r,t,e),Fh(r,t,e))}function G7(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function D4(t,e){G7(t,e),(t=t.alternate)&&G7(t,e)}function FC(t){if(t.tag===13){var e=rc(t,67108864);e!==null&&Qn(e,t,67108864),D4(t,67108864)}}var Xg=!0;function HU(t,e,r,n){var i=ke.T;ke.T=null;var a=Tt.p;try{Tt.p=2,M4(t,e,r,n)}finally{Tt.p=a,ke.T=i}}function PU(t,e,r,n){var i=ke.T;ke.T=null;var a=Tt.p;try{Tt.p=8,M4(t,e,r,n)}finally{Tt.p=a,ke.T=i}}function M4(t,e,r,n){if(Xg){var i=S3(n);if(i===null)__(t,e,n,Zg,r),W7(t,n);else if(UU(i,t,e,r,n))n.stopPropagation();else if(W7(t,n),e&4&&-1<NU.indexOf(t)){for(;i!==null;){var a=Xd(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Lc(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var f=1<<31-Di(s);o.entanglements[1]|=f,s&=~f}Qs(a),!(Qt&6)&&($g=Ms()+500,a1(0))}}break;case 13:o=rc(a,2),o!==null&&Qn(o,a,2),e2(),D4(a,2)}if(a=S3(n),a===null&&__(t,e,n,Zg,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else __(t,e,n,null,r)}}function S3(t){return t=V6(t),R4(t)}var Zg=null;function R4(t){if(Zg=null,t=qc(t),t!==null){var e=Gd(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=wS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Zg=t,null}function qC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(AP()){case ES:return 2;case xS:return 8;case Tg:case EP:return 32;case SS:return 268435456;default:return 32}default:return 32}}var I3=!1,Vf=null,Gf=null,Wf=null,mp=new Map,wp=new Map,Of=[],NU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W7(t,e){switch(t){case"focusin":case"focusout":Vf=null;break;case"dragenter":case"dragleave":Gf=null;break;case"mouseover":case"mouseout":Wf=null;break;case"pointerover":case"pointerout":mp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wp.delete(e.pointerId)}}function th(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&FC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UU(t,e,r,n,i){switch(e){case"focusin":return Vf=th(Vf,t,e,r,n,i),!0;case"dragenter":return Gf=th(Gf,t,e,r,n,i),!0;case"mouseover":return Wf=th(Wf,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return mp.set(a,th(mp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,wp.set(a,th(wp.get(a)||null,t,e,r,n,i)),!0}return!1}function KC(t){var e=qc(t.target);if(e!==null){var r=Gd(e);if(r!==null){if(e=r.tag,e===13){if(e=wS(r),e!==null){t.blockedOn=e,MP(t.priority,function(){if(r.tag===13){var n=Mi(),i=rc(r,n);i!==null&&Qn(i,r,n),D4(r,n)}});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=S3(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qm=n,r.target.dispatchEvent(n),qm=null}else return e=Xd(r),e!==null&&FC(e),t.blockedOn=r,!1;e.shift()}return!0}function X7(t,e,r){hg(t)&&r.delete(e)}function kU(){I3=!1,Vf!==null&&hg(Vf)&&(Vf=null),Gf!==null&&hg(Gf)&&(Gf=null),Wf!==null&&hg(Wf)&&(Wf=null),mp.forEach(X7),wp.forEach(X7)}function Tb(t,e){t.blockedOn===e&&(t.blockedOn=null,I3||(I3=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,kU)))}var Ob=null;function Z7(t){Ob!==t&&(Ob=t,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,function(){Ob===t&&(Ob=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(R4(n||r)===null)continue;break}var a=Xd(r);a!==null&&(t.splice(e,3),e-=3,e3(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function Ap(t){function e(f){return Tb(f,t)}Vf!==null&&Tb(Vf,t),Gf!==null&&Tb(Gf,t),Wf!==null&&Tb(Wf,t),mp.forEach(e),wp.forEach(e);for(var r=0;r<Of.length;r++){var n=Of[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Of.length&&(r=Of[0],r.blockedOn===null);)KC(r),r.blockedOn===null&&Of.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[oi]||null;if(typeof a=="function")s||Z7(r);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[oi]||null)o=s.formAction;else if(R4(i)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),Z7(r)}}}function L4(t){this._internalRoot=t}n2.prototype.render=L4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));var r=e.current,n=Mi();$C(r,n,t,e,null,null)};n2.prototype.unmount=L4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&kl(),$C(t.current,2,null,t,null,null),e2(),e[Wd]=null}};function n2(t){this._internalRoot=t}n2.prototype.unstable_scheduleHydration=function(t){if(t){var e=DS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Of.length&&e!==0&&e<Of[r].priority;r++);Of.splice(r,0,t),r===0&&KC(t)}};var J7=gS.version;if(J7!=="19.0.0")throw Error(pe(527,J7,"19.0.0"));Tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=_P(e),t=t!==null?AS(t):null,t=t===null?null:t.stateNode,t};var zU={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ke,findFiberByHostInstance:qc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bb.isDisabled&&Bb.supportsFiber)try{Wp=Bb.inject(zU),Bi=Bb}catch{}}$y.createRoot=function(t,e){if(!yS(t))throw Error(pe(299));var r=!1,n="",i=$I,a=FI,s=qI,o=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=zC(t,1,!1,null,null,r,n,i,a,s,o,null),t[Wd]=e.current,T4(t.nodeType===8?t.parentNode:t),new L4(e)};$y.hydrateRoot=function(t,e,r){if(!yS(t))throw Error(pe(299));var n=!1,i="",a=$I,s=FI,o=qI,f=null,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(f=r.unstable_transitionCallbacks),r.formState!==void 0&&(c=r.formState)),e=zC(t,1,!0,e,r??null,n,i,a,s,o,f,c),e.context=jC(null),r=e.current,n=Mi(),i=qf(n),i.callback=null,Kf(r,i,n),e.current.lanes=n,Zp(e,n),Qs(e),t[Wd]=e.current,T4(t),new n2(e)};$y.version="19.0.0";function QC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QC)}catch(t){console.error(t)}}QC(),uS.exports=$y;var jU=uS.exports,f1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wu=typeof window>"u"||"Deno"in globalThis;function ra(){}function $U(t,e){return typeof t=="function"?t(e):t}function C3(t){return typeof t=="number"&&t>=0&&t!==1/0}function YC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zl(t,e){return typeof t=="function"?t(e):t}function Ka(t,e){return typeof t=="function"?t(e):t}function e9(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==H4(s,e.options))return!1}else if(!xp(e.queryKey,s))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function t9(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ep(e.options.mutationKey)!==Ep(a))return!1}else if(!xp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function H4(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ep)(t)}function Ep(t){return JSON.stringify(t,(e,r)=>O3(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function xp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!xp(t[r],e[r])):!1}function VC(t,e){if(t===e)return t;const r=r9(t)&&r9(e);if(r||O3(t)&&O3(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{};let f=0;for(let c=0;c<s;c++){const u=r?c:a[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,f++):(o[u]=VC(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&f++)}return i===s&&f===i?t:o}return e}function T3(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function r9(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function O3(t){if(!n9(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!n9(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function n9(t){return Object.prototype.toString.call(t)==="[object Object]"}function FU(t){return new Promise(e=>{setTimeout(e,t)})}function B3(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?VC(t,e):e}function qU(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function KU(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var P4=Symbol();function GC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===P4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xc,Mf,Yl,Fx,QU=(Fx=class extends f1{constructor(){super();Be(this,Xc);Be(this,Mf);Be(this,Yl);_e(this,Yl,e=>{if(!wu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,Mf)||this.setEventListener(se(this,Yl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Mf))==null||e.call(this),_e(this,Mf,void 0))}setEventListener(e){var r;_e(this,Yl,e),(r=se(this,Mf))==null||r.call(this),_e(this,Mf,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){se(this,Xc)!==e&&(_e(this,Xc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof se(this,Xc)=="boolean"?se(this,Xc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xc=new WeakMap,Mf=new WeakMap,Yl=new WeakMap,Fx),N4=new QU,Vl,Rf,Gl,qx,YU=(qx=class extends f1{constructor(){super();Be(this,Vl,!0);Be(this,Rf);Be(this,Gl);_e(this,Gl,e=>{if(!wu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,Rf)||this.setEventListener(se(this,Gl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Rf))==null||e.call(this),_e(this,Rf,void 0))}setEventListener(e){var r;_e(this,Gl,e),(r=se(this,Rf))==null||r.call(this),_e(this,Rf,e(this.setOnline.bind(this)))}setOnline(e){se(this,Vl)!==e&&(_e(this,Vl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return se(this,Vl)}},Vl=new WeakMap,Rf=new WeakMap,Gl=new WeakMap,qx),Jg=new YU;function D3(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function VU(t){return Math.min(1e3*2**t,3e4)}function WC(t){return(t??"online")==="online"?Jg.isOnline():!0}var XC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function A_(t){return t instanceof XC}function ZC(t){let e=!1,r=0,n=!1,i;const a=D3(),s=A=>{var S;n||(p(new XC(A)),(S=t.abort)==null||S.call(t))},o=()=>{e=!0},f=()=>{e=!1},c=()=>N4.isFocused()&&(t.networkMode==="always"||Jg.isOnline())&&t.canRun(),u=()=>WC(t.networkMode)&&t.canRun(),l=A=>{var S;n||(n=!0,(S=t.onSuccess)==null||S.call(t,A),i==null||i(),a.resolve(A))},p=A=>{var S;n||(n=!0,(S=t.onError)==null||S.call(t,A),i==null||i(),a.reject(A))},y=()=>new Promise(A=>{var S;i=w=>{(n||c())&&A(w)},(S=t.onPause)==null||S.call(t)}).then(()=>{var A;i=void 0,n||(A=t.onContinue)==null||A.call(t)}),m=()=>{if(n)return;let A;const S=r===0?t.initialPromise:void 0;try{A=S??t.fn()}catch(w){A=Promise.reject(w)}Promise.resolve(A).then(l).catch(w=>{var K;if(n)return;const C=t.retry??(wu?0:3),O=t.retryDelay??VU,M=typeof O=="function"?O(r,w):O,U=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,w);if(e||!U){p(w);return}r++,(K=t.onFail)==null||K.call(t,r,w),FU(M).then(()=>c()?void 0:y()).then(()=>{e?p(w):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:f,canStart:u,start:()=>(u()?m():y().then(m),a)}}function GU(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(f=>{r(f)})})})};return{batch:o=>{let f;e++;try{f=o()}finally{e--,e||s()}return f},batchCalls:o=>(...f)=>{a(()=>{o(...f)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Zr=GU(),Zc,Kx,JC=(Kx=class{constructor(){Be(this,Zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C3(this.gcTime)&&_e(this,Zc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wu?1/0:5*60*1e3))}clearGcTimeout(){se(this,Zc)&&(clearTimeout(se(this,Zc)),_e(this,Zc,void 0))}},Zc=new WeakMap,Kx),Wl,Xl,ea,bn,Qp,Jc,ja,ao,Qx,WU=(Qx=class extends JC{constructor(e){super();Be(this,ja);Be(this,Wl);Be(this,Xl);Be(this,ea);Be(this,bn);Be(this,Qp);Be(this,Jc);_e(this,Jc,!1),_e(this,Qp,e.defaultOptions),this.setOptions(e.options),this.observers=[],_e(this,ea,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,_e(this,Wl,XU(this.options)),this.state=e.state??se(this,Wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=se(this,bn))==null?void 0:e.promise}setOptions(e){this.options={...se(this,Qp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,ea).remove(this)}setData(e,r){const n=B3(this.state.data,e,this.options);return Qe(this,ja,ao).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Qe(this,ja,ao).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=se(this,bn))==null?void 0:n.promise;return(i=se(this,bn))==null||i.cancel(e),r?r.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Wl))}isActive(){return this.observers.some(e=>Ka(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!YC(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,bn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,bn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),se(this,ea).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(se(this,bn)&&(se(this,Jc)?se(this,bn).cancel({revert:!0}):se(this,bn).cancelRetry()),this.scheduleGc()),se(this,ea).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,ja,ao).call(this,{type:"invalidate"})}fetch(e,r){var f,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,bn))return se(this,bn).continueRetry(),se(this,bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(p=>p.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(_e(this,Jc,!0),n.signal)})},a=()=>{const l=GC(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return i(p),_e(this,Jc,!1),this.options.persister?this.options.persister(l,p,this):l(p)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(f=this.options.behavior)==null||f.onFetch(s,this),_e(this,Xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Qe(this,ja,ao).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const o=l=>{var p,y,m,A;A_(l)&&l.silent||Qe(this,ja,ao).call(this,{type:"error",error:l}),A_(l)||((y=(p=se(this,ea).config).onError)==null||y.call(p,l,this),(A=(m=se(this,ea).config).onSettled)==null||A.call(m,this.state.data,l,this)),this.scheduleGc()};return _e(this,bn,ZC({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{var p,y,m,A;if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(S){o(S);return}(y=(p=se(this,ea).config).onSuccess)==null||y.call(p,l,this),(A=(m=se(this,ea).config).onSettled)==null||A.call(m,l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,p)=>{Qe(this,ja,ao).call(this,{type:"failed",failureCount:l,error:p})},onPause:()=>{Qe(this,ja,ao).call(this,{type:"pause"})},onContinue:()=>{Qe(this,ja,ao).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),se(this,bn).start()}},Wl=new WeakMap,Xl=new WeakMap,ea=new WeakMap,bn=new WeakMap,Qp=new WeakMap,Jc=new WeakMap,ja=new WeakSet,ao=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...eT(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return A_(i)&&i.revert&&se(this,Xl)?{...se(this,Xl),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,ea).notify({query:this,type:"updated",action:e})})},Qx);function eT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function XU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vs,Yx,ZU=(Yx=class extends f1{constructor(e={}){super();Be(this,vs);this.config=e,_e(this,vs,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??H4(i,r);let s=this.get(a);return s||(s=new WU({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){se(this,vs).has(e.queryHash)||(se(this,vs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=se(this,vs).get(e.queryHash);r&&(e.destroy(),r===e&&se(this,vs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,vs).get(e)}getAll(){return[...se(this,vs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>e9(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>e9(e,n)):r}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vs=new WeakMap,Yx),_s,Pn,eu,ms,_f,Vx,JU=(Vx=class extends JC{constructor(e){super();Be(this,ms);Be(this,_s);Be(this,Pn);Be(this,eu);this.mutationId=e.mutationId,_e(this,Pn,e.mutationCache),_e(this,_s,[]),this.state=e.state||ek(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){se(this,_s).includes(e)||(se(this,_s).push(e),this.clearGcTimeout(),se(this,Pn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){_e(this,_s,se(this,_s).filter(r=>r!==e)),this.scheduleGc(),se(this,Pn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){se(this,_s).length||(this.state.status==="pending"?this.scheduleGc():se(this,Pn).remove(this))}continue(){var e;return((e=se(this,eu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,f,c,u,l,p,y,m,A,S,w,C,O,M,U,K,Q;_e(this,eu,ZC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,G)=>{Qe(this,ms,_f).call(this,{type:"failed",failureCount:k,error:G})},onPause:()=>{Qe(this,ms,_f).call(this,{type:"pause"})},onContinue:()=>{Qe(this,ms,_f).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Pn).canRun(this)}));const r=this.state.status==="pending",n=!se(this,eu).canStart();try{if(!r){Qe(this,ms,_f).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=se(this,Pn).config).onMutate)==null?void 0:a.call(i,e,this));const G=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));G!==this.state.context&&Qe(this,ms,_f).call(this,{type:"pending",context:G,variables:e,isPaused:n})}const k=await se(this,eu).start();return await((c=(f=se(this,Pn).config).onSuccess)==null?void 0:c.call(f,k,e,this.state.context,this)),await((l=(u=this.options).onSuccess)==null?void 0:l.call(u,k,e,this.state.context)),await((y=(p=se(this,Pn).config).onSettled)==null?void 0:y.call(p,k,null,this.state.variables,this.state.context,this)),await((A=(m=this.options).onSettled)==null?void 0:A.call(m,k,null,e,this.state.context)),Qe(this,ms,_f).call(this,{type:"success",data:k}),k}catch(k){try{throw await((w=(S=se(this,Pn).config).onError)==null?void 0:w.call(S,k,e,this.state.context,this)),await((O=(C=this.options).onError)==null?void 0:O.call(C,k,e,this.state.context)),await((U=(M=se(this,Pn).config).onSettled)==null?void 0:U.call(M,void 0,k,this.state.variables,this.state.context,this)),await((Q=(K=this.options).onSettled)==null?void 0:Q.call(K,void 0,k,e,this.state.context)),k}finally{Qe(this,ms,_f).call(this,{type:"error",error:k})}}finally{se(this,Pn).runNext(this)}}},_s=new WeakMap,Pn=new WeakMap,eu=new WeakMap,ms=new WeakSet,_f=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zr.batch(()=>{se(this,_s).forEach(n=>{n.onMutationUpdate(e)}),se(this,Pn).notify({mutation:this,type:"updated",action:e})})},Vx);function ek(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mi,Yp,Gx,tk=(Gx=class extends f1{constructor(e={}){super();Be(this,mi);Be(this,Yp);this.config=e,_e(this,mi,new Map),_e(this,Yp,Date.now())}build(e,r,n){const i=new JU({mutationCache:this,mutationId:++pb(this,Yp)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Db(e),n=se(this,mi).get(r)??[];n.push(e),se(this,mi).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Db(e);if(se(this,mi).has(r)){const i=(n=se(this,mi).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?se(this,mi).delete(r):se(this,mi).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=se(this,mi).get(Db(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=se(this,mi).get(Db(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...se(this,mi).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>t9(r,n))}findAll(e={}){return this.getAll().filter(r=>t9(e,r))}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ra))))}},mi=new WeakMap,Yp=new WeakMap,Gx);function Db(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function i9(t){return{onFetch:(e,r)=>{var u,l,p,y,m;const n=e.options,i=(p=(l=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:l.fetchMore)==null?void 0:p.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},f=0;const c=async()=>{let A=!1;const S=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},w=GC(e.options,e.fetchOptions),C=async(O,M,U)=>{if(A)return Promise.reject();if(M==null&&O.pages.length)return Promise.resolve(O);const K={queryKey:e.queryKey,pageParam:M,direction:U?"backward":"forward",meta:e.options.meta};S(K);const Q=await w(K),{maxPages:k}=e.options,G=U?KU:qU;return{pages:G(O.pages,Q,k),pageParams:G(O.pageParams,M,k)}};if(i&&a.length){const O=i==="backward",M=O?rk:a9,U={pages:a,pageParams:s},K=M(n,U);o=await C(U,K,O)}else{const O=t??a.length;do{const M=f===0?s[0]??n.initialPageParam:a9(n,o);if(f>0&&M==null)break;o=await C(o,M),f++}while(f<O)}return o};e.options.persister?e.fetchFn=()=>{var A,S;return(S=(A=e.options).persister)==null?void 0:S.call(A,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function a9(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function rk(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ar,Lf,Hf,Zl,Jl,Pf,ed,td,Wx,tT=(Wx=class{constructor(t={}){Be(this,ar);Be(this,Lf);Be(this,Hf);Be(this,Zl);Be(this,Jl);Be(this,Pf);Be(this,ed);Be(this,td);_e(this,ar,t.queryCache||new ZU),_e(this,Lf,t.mutationCache||new tk),_e(this,Hf,t.defaultOptions||{}),_e(this,Zl,new Map),_e(this,Jl,new Map),_e(this,Pf,0)}mount(){pb(this,Pf)._++,se(this,Pf)===1&&(_e(this,ed,N4.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ar).onFocus())})),_e(this,td,Jg.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ar).onOnline())})))}unmount(){var t,e;pb(this,Pf)._--,se(this,Pf)===0&&((t=se(this,ed))==null||t.call(this),_e(this,ed,void 0),(e=se(this,td))==null||e.call(this),_e(this,td,void 0))}isFetching(t){return se(this,ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,Lf).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,ar).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=se(this,ar).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(zl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return se(this,ar).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=se(this,ar).get(n.queryHash),a=i==null?void 0:i.state.data,s=$U(e,a);if(s!==void 0)return se(this,ar).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Zr.batch(()=>se(this,ar).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,ar).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=se(this,ar);Zr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=se(this,ar),n={type:"active",...t};return Zr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Zr.batch(()=>se(this,ar).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ra).catch(ra)}invalidateQueries(t={},e={}){return Zr.batch(()=>{if(se(this,ar).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Zr.batch(()=>se(this,ar).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(ra)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ra)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=se(this,ar).build(this,e);return r.isStaleByTime(zl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ra).catch(ra)}fetchInfiniteQuery(t){return t.behavior=i9(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ra).catch(ra)}ensureInfiniteQueryData(t){return t.behavior=i9(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jg.isOnline()?se(this,Lf).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,ar)}getMutationCache(){return se(this,Lf)}getDefaultOptions(){return se(this,Hf)}setDefaultOptions(t){_e(this,Hf,t)}setQueryDefaults(t,e){se(this,Zl).set(Ep(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,Zl).values()];let r={};return e.forEach(n=>{xp(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){se(this,Jl).set(Ep(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,Jl).values()];let r={};return e.forEach(n=>{xp(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Hf).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=H4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===P4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Hf).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,ar).clear(),se(this,Lf).clear()}},ar=new WeakMap,Lf=new WeakMap,Hf=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,Pf=new WeakMap,ed=new WeakMap,td=new WeakMap,Wx),ri,Ye,Vp,Nn,tu,rd,Nf,ws,Gp,nd,id,ru,nu,Uf,ad,it,Eh,M3,R3,L3,H3,P3,N3,U3,rT,Xx,nk=(Xx=class extends f1{constructor(e,r){super();Be(this,it);Be(this,ri);Be(this,Ye);Be(this,Vp);Be(this,Nn);Be(this,tu);Be(this,rd);Be(this,Nf);Be(this,ws);Be(this,Gp);Be(this,nd);Be(this,id);Be(this,ru);Be(this,nu);Be(this,Uf);Be(this,ad,new Set);this.options=r,_e(this,ri,e),_e(this,ws,null),_e(this,Nf,D3()),this.options.experimental_prefetchInRender||se(this,Nf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(se(this,Ye).addObserver(this),s9(se(this,Ye),this.options)?Qe(this,it,Eh).call(this):this.updateResult(),Qe(this,it,H3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return k3(se(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return k3(se(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,it,P3).call(this),Qe(this,it,N3).call(this),se(this,Ye).removeObserver(this)}setOptions(e,r){const n=this.options,i=se(this,Ye);if(this.options=se(this,ri).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ka(this.options.enabled,se(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,it,U3).call(this),se(this,Ye).setOptions(this.options),n._defaulted&&!T3(this.options,n)&&se(this,ri).getQueryCache().notify({type:"observerOptionsUpdated",query:se(this,Ye),observer:this});const a=this.hasListeners();a&&o9(se(this,Ye),i,this.options,n)&&Qe(this,it,Eh).call(this),this.updateResult(r),a&&(se(this,Ye)!==i||Ka(this.options.enabled,se(this,Ye))!==Ka(n.enabled,se(this,Ye))||zl(this.options.staleTime,se(this,Ye))!==zl(n.staleTime,se(this,Ye)))&&Qe(this,it,M3).call(this);const s=Qe(this,it,R3).call(this);a&&(se(this,Ye)!==i||Ka(this.options.enabled,se(this,Ye))!==Ka(n.enabled,se(this,Ye))||s!==se(this,Uf))&&Qe(this,it,L3).call(this,s)}getOptimisticResult(e){const r=se(this,ri).getQueryCache().build(se(this,ri),e),n=this.createResult(r,e);return ak(this,n)&&(_e(this,Nn,n),_e(this,rd,this.options),_e(this,tu,se(this,Ye).state)),n}getCurrentResult(){return se(this,Nn)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){se(this,ad).add(e)}getCurrentQuery(){return se(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=se(this,ri).defaultQueryOptions(e),n=se(this,ri).getQueryCache().build(se(this,ri),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Qe(this,it,Eh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),se(this,Nn)))}createResult(e,r){var k;const n=se(this,Ye),i=this.options,a=se(this,Nn),s=se(this,tu),o=se(this,rd),c=e!==n?e.state:se(this,Vp),{state:u}=e;let l={...u},p=!1,y;if(r._optimisticResults){const G=this.hasListeners(),W=!G&&s9(e,r),R=G&&o9(e,n,r,i);(W||R)&&(l={...l,...eT(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:m,errorUpdatedAt:A,status:S}=l;if(r.select&&l.data!==void 0)if(a&&l.data===(s==null?void 0:s.data)&&r.select===se(this,Gp))y=se(this,nd);else try{_e(this,Gp,r.select),y=r.select(l.data),y=B3(a==null?void 0:a.data,y,r),_e(this,nd,y),_e(this,ws,null)}catch(G){_e(this,ws,G)}else y=l.data;if(r.placeholderData!==void 0&&y===void 0&&S==="pending"){let G;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))G=a.data;else if(G=typeof r.placeholderData=="function"?r.placeholderData((k=se(this,id))==null?void 0:k.state.data,se(this,id)):r.placeholderData,r.select&&G!==void 0)try{G=r.select(G),_e(this,ws,null)}catch(W){_e(this,ws,W)}G!==void 0&&(S="success",y=B3(a==null?void 0:a.data,G,r),p=!0)}se(this,ws)&&(m=se(this,ws),y=se(this,nd),A=Date.now(),S="error");const w=l.fetchStatus==="fetching",C=S==="pending",O=S==="error",M=C&&w,U=y!==void 0,Q={status:S,fetchStatus:l.fetchStatus,isPending:C,isSuccess:S==="success",isError:O,isInitialLoading:M,isLoading:M,data:y,dataUpdatedAt:l.dataUpdatedAt,error:m,errorUpdatedAt:A,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>c.dataUpdateCount||l.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!C,isLoadingError:O&&!U,isPaused:l.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:O&&U,isStale:U4(e,r),refetch:this.refetch,promise:se(this,Nf)};if(this.options.experimental_prefetchInRender){const G=_=>{Q.status==="error"?_.reject(Q.error):Q.data!==void 0&&_.resolve(Q.data)},W=()=>{const _=_e(this,Nf,Q.promise=D3());G(_)},R=se(this,Nf);switch(R.status){case"pending":e.queryHash===n.queryHash&&G(R);break;case"fulfilled":(Q.status==="error"||Q.data!==R.value)&&W();break;case"rejected":(Q.status!=="error"||Q.error!==R.reason)&&W();break}}return Q}updateResult(e){const r=se(this,Nn),n=this.createResult(se(this,Ye),this.options);if(_e(this,tu,se(this,Ye).state),_e(this,rd,this.options),se(this,tu).data!==void 0&&_e(this,id,se(this,Ye)),T3(n,r))return;_e(this,Nn,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!se(this,ad).size)return!0;const f=new Set(o??se(this,ad));return this.options.throwOnError&&f.add("error"),Object.keys(se(this,Nn)).some(c=>{const u=c;return se(this,Nn)[u]!==r[u]&&f.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Qe(this,it,rT).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,it,H3).call(this)}},ri=new WeakMap,Ye=new WeakMap,Vp=new WeakMap,Nn=new WeakMap,tu=new WeakMap,rd=new WeakMap,Nf=new WeakMap,ws=new WeakMap,Gp=new WeakMap,nd=new WeakMap,id=new WeakMap,ru=new WeakMap,nu=new WeakMap,Uf=new WeakMap,ad=new WeakMap,it=new WeakSet,Eh=function(e){Qe(this,it,U3).call(this);let r=se(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ra)),r},M3=function(){Qe(this,it,P3).call(this);const e=zl(this.options.staleTime,se(this,Ye));if(wu||se(this,Nn).isStale||!C3(e))return;const n=YC(se(this,Nn).dataUpdatedAt,e)+1;_e(this,ru,setTimeout(()=>{se(this,Nn).isStale||this.updateResult()},n))},R3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(se(this,Ye)):this.options.refetchInterval)??!1},L3=function(e){Qe(this,it,N3).call(this),_e(this,Uf,e),!(wu||Ka(this.options.enabled,se(this,Ye))===!1||!C3(se(this,Uf))||se(this,Uf)===0)&&_e(this,nu,setInterval(()=>{(this.options.refetchIntervalInBackground||N4.isFocused())&&Qe(this,it,Eh).call(this)},se(this,Uf)))},H3=function(){Qe(this,it,M3).call(this),Qe(this,it,L3).call(this,Qe(this,it,R3).call(this))},P3=function(){se(this,ru)&&(clearTimeout(se(this,ru)),_e(this,ru,void 0))},N3=function(){se(this,nu)&&(clearInterval(se(this,nu)),_e(this,nu,void 0))},U3=function(){const e=se(this,ri).getQueryCache().build(se(this,ri),this.options);if(e===se(this,Ye))return;const r=se(this,Ye);_e(this,Ye,e),_e(this,Vp,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},rT=function(e){Zr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(se(this,Nn))}),se(this,ri).getQueryCache().notify({query:se(this,Ye),type:"observerResultsUpdated"})})},Xx);function ik(t,e){return Ka(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function s9(t,e){return ik(t,e)||t.state.data!==void 0&&k3(t,e,e.refetchOnMount)}function k3(t,e,r){if(Ka(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&U4(t,e)}return!1}function o9(t,e,r,n){return(t!==e||Ka(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&U4(t,r)}function U4(t,e){return Ka(e.enabled,t)!==!1&&t.isStaleByTime(zl(e.staleTime,t))}function ak(t,e){return!T3(t.getCurrentResult(),e)}var nT=yr.createContext(void 0),sk=t=>{const e=yr.useContext(nT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ok=({client:t,children:e})=>(yr.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),ve.jsx(nT.Provider,{value:t,children:e})),iT=yr.createContext(!1),fk=()=>yr.useContext(iT);iT.Provider;function ck(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var uk=yr.createContext(ck()),lk=()=>yr.useContext(uk);function dk(t,e){return typeof t=="function"?t(...e):!!t}function f9(){}var hk=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},pk=t=>{yr.useEffect(()=>{t.clearReset()},[t])},bk=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&dk(r,[t.error,n]),gk=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},yk=(t,e)=>t.isLoading&&t.isFetching&&!e,vk=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,c9=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function _k(t,e,r){var u,l,p,y,m;const n=sk(),i=fk(),a=lk(),s=n.defaultQueryOptions(t);(l=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||l.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",gk(s),hk(s,a),pk(a);const o=!n.getQueryCache().get(s.queryHash),[f]=yr.useState(()=>new e(n,s)),c=f.getOptimisticResult(s);if(yr.useSyncExternalStore(yr.useCallback(A=>{const S=i?f9:f.subscribe(Zr.batchCalls(A));return f.updateResult(),S},[f,i]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),yr.useEffect(()=>{f.setOptions(s,{listeners:!1})},[s,f]),vk(s,c))throw c9(s,f,a);if(bk({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw c.error;if((y=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,s,c),s.experimental_prefetchInRender&&!wu&&yk(c,i)){const A=o?c9(s,f,a):(m=n.getQueryCache().get(s.queryHash))==null?void 0:m.promise;A==null||A.catch(f9).finally(()=>{f.updateResult()})}return s.notifyOnChangeProps?c:f.trackResult(c)}function k4(t,e){return _k(t,nk)}var aT={exports:{}},sT={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk=yr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;sT.c=function(t){return mk.H.useMemoCache(t)};aT.exports=sT;var i2=aT.exports,E_={},st={},Go={},Ia={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.CodecExecuteError=ya.CodecBaseParseError=ya.CODEC_OPTIONAL_PATH=void 0;ya.isCodecExecuteError=Ak;const wk=ya.CODEC_OPTIONAL_PATH="__lc_option__";class oT extends Error{constructor(e,r){super(e),this.expectedType=r}}ya.CodecBaseParseError=oT;const fT="CodecExecuteError";function Ak(t){return t instanceof Error?t.name===fT:!1}class Ek extends Error{constructor(r){super();Vr(this,"name",fT);Vr(this,"keys",[]);this.origin=r}updateKey(r){this.keys.push(r),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var r;const n=(s,o,f)=>(o===wk?o=f===0?"?":"?.":typeof o=="number"?o=`[${o}]`:o=`.${o}`,s+o),i=this.keys.reduceRight(n,"input");return`${this.origin instanceof oT?`Expect type ${this.origin.expectedType} at ${i} but got error:`:`Error at ${i}:`} ${this.origin.message}
    ${(r=this.origin.stack)===null||r===void 0?void 0:r.replace(/Error:.+?\n/,"")}
    `}}ya.CodecExecuteError=Ek;Object.defineProperty(Ia,"__esModule",{value:!0});Ia.assertBufferLength=Rk;Ia.assertHexDecimal=Bk;Ia.assertHexString=Dk;Ia.assertMinBufferLength=Lk;Ia.assertUtf8String=Mk;Ia.isObjectLike=Hk;Ia.trackCodeExecuteError=Pk;var u9=ya;const xk=48,Sk=57,Ik=65,Ck=70,Tk=97,Ok=102;function cT(t){if(!t||!t.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function uT(t){const e=t.length;for(let r=2;r<e;r++){const n=t[r].charCodeAt(0);if(!(n>=xk&&n<=Sk||n>=Tk&&n<=Ok||n>=Ik&&n<=Ck))throw new Error(`Invalid hex character ${t[r]} in the string ${t}`)}}function Bk(t,e){if(cT(t),t.length===2)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=t.length;if(typeof e=="number"&&r>e*2+2)throw new Error(`Invalid hex decimal length, should be less than ${e} bytes, got ${r/2-1} bytes`);uT(t)}function Dk(t,e){cT(t);const r=t.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if(typeof e=="number"&&r!==e*2+2)throw new Error("Invalid hex string length, not match with byteLength!");uT(t)}function Mk(t){for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error("Invalid UTF-8 raw string!")}function Rk(t,e){if(t.byteLength!==e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be ${e}`)}function Lk(t,e){if(t.byteLength<e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be at least ${e}`)}function Hk(t){return t?typeof t=="object":!1}function Pk(t,e){try{return e()}catch(r){const n=(0,u9.isCodecExecuteError)(r)?r:new u9.CodecExecuteError(r);throw n.updateKey(t),n}}var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.bytify=Sp;Ca.bytifyRawString=Nk;Ca.concat=qk;Ca.equal=zk;var gc=Ca.hexify=Fk,lT=Ia;function Nk(t){(0,lT.assertUtf8String)(t);const e=new ArrayBuffer(t.length),r=new DataView(e);for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);r.setUint8(n,i)}return new Uint8Array(e)}const l9=48,d9=57,h9=65,p9=70,b9=97;function Uk(t){(0,lT.assertHexString)(t);const e=Uint8Array.from({length:t.length/2-1});for(let r=2,n=0;r<t.length;r=r+2,n++){const i=t.charCodeAt(r),a=t.charCodeAt(r+1),s=i<=d9?i-l9:i<=p9?i-h9+10:i-b9+10,o=a<=d9?a-l9:a<=p9?a-h9+10:a-b9+10;e[n]=s<<4|o}return e}function kk(t){for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(t)}function Sp(t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string")return Uk(t);if(Array.isArray(t))return kk(t);throw new Error(`Cannot convert ${t}`)}function zk(t,e){const r=Sp(t),n=Sp(e);return jk(r,n)}function jk(t,e){if(t.length!==e.length)return!1;for(let r=t.length;-1<r;r-=1)if(t[r]!==e[r])return!1;return!0}const $k=Array.from({length:256}).map((t,e)=>e.toString(16).padStart(2,"0"));function Fk(t){let e="";const r=Sp(t);for(let n=0;n<r.length;n++)e+=$k[r[n]];return"0x"+e}function qk(...t){const e=t.map(Sp),r=e.reduce((a,s)=>a+s.length,0),n=new Uint8Array(r);let i=0;return e.forEach(a=>{n.set(a,i),i+=a.length}),n}Object.defineProperty(Go,"__esModule",{value:!0});Go.createBytesCodec=dT;Go.createFixedBytesCodec=Yk;Go.isFixedCodec=Qk;var z3=Ia,Kk=Ca;function dT(t){return{pack:e=>t.pack(e),unpack:e=>t.unpack((0,Kk.bytify)(e))}}function Qk(t){return(0,z3.isObjectLike)(t)&&!!t.__isFixedCodec__}function Yk(t){const e=t.byteLength;return{__isFixedCodec__:!0,byteLength:e,...dT({pack:r=>{const n=t.pack(r);return(0,z3.assertBufferLength)(n,e),n},unpack:r=>((0,z3.assertBufferLength)(r,e),t.unpack(r))})}}var z4={},t0={};Object.defineProperty(t0,"__esModule",{value:!0});t0.createArrayCodec=Xk;t0.createNullableCodec=Gk;t0.createObjectCodec=Wk;t0.enhancePack=Zk;var j4=Ia,Vk=ya;function Gk(t){return{pack:e=>e==null?e:(0,j4.trackCodeExecuteError)(Vk.CODEC_OPTIONAL_PATH,()=>t.pack(e)),unpack:e=>e==null?e:t.unpack(e)}}function Wk(t){const e=Object.entries(t);return{pack:r=>{const n={};return e.forEach(([i,a])=>{Object.assign(n,{[i]:(0,j4.trackCodeExecuteError)(i,()=>a.pack(r[i]))})}),n},unpack:r=>{const n={};return e.forEach(([i,a])=>{Object.assign(n,{[i]:a.unpack(r[i])})}),n}}}function Xk(t){return{pack:e=>e.map((r,n)=>(0,j4.trackCodeExecuteError)(n,()=>t.pack(r))),unpack:e=>e.map(r=>t.unpack(r))}}function Zk(t,e,r){return{pack:n=>e(t.pack(n)),unpack:n=>t.unpack(r(n))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return e.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return e.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return e.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return e.enhancePack}});var e=t0})(z4);var r0={},zo={},wt={},hT={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Fn,function(){var r=Math.imul,n=Math.clz32;function i(W){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},i(W)}function a(W,R){if(!(W instanceof R))throw new TypeError("Cannot call a class as a function")}function s(W,R){for(var _,I=0;I<R.length;I++)_=R[I],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(W,_.key,_)}function o(W,R,_){return R&&s(W.prototype,R),_&&s(W,_),Object.defineProperty(W,"prototype",{writable:!1}),W}function f(W,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(R&&R.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),R&&u(W,R)}function c(W){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},c(W)}function u(W,R){return u=Object.setPrototypeOf||function(_,I){return _.__proto__=I,_},u(W,R)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(){return p=l()?Reflect.construct:function(W,R,_){var I=[null];I.push.apply(I,R);var b=Function.bind.apply(W,I),v=new b;return _&&u(v,_.prototype),v},p.apply(null,arguments)}function y(W){return Function.toString.call(W).indexOf("[native code]")!==-1}function m(W){var R=typeof Map=="function"?new Map:void 0;return m=function(_){function I(){return p(_,arguments,c(this).constructor)}if(_===null||!y(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(_))return R.get(_);R.set(_,I)}return I.prototype=Object.create(_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u(I,_)},m(W)}function A(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function S(W,R){if(R&&(typeof R=="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(W)}function w(W){var R=l();return function(){var _,I=c(W);if(R){var b=c(this).constructor;_=Reflect.construct(I,arguments,b)}else _=I.apply(this,arguments);return S(this,_)}}function C(W,R){return O(W)||M(W,R)||U(W,R)||Q()}function O(W){if(Array.isArray(W))return W}function M(W,R){var _=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(_!=null){var I,b,v=[],d=!0,g=!1;try{for(_=_.call(W);!(d=(I=_.next()).done)&&(v.push(I.value),!(R&&v.length===R));d=!0);}catch(x){g=!0,b=x}finally{try{d||_.return==null||_.return()}finally{if(g)throw b}}return v}}function U(W,R){if(W){if(typeof W=="string")return K(W,R);var _=Object.prototype.toString.call(W).slice(8,-1);return _==="Object"&&W.constructor&&(_=W.constructor.name),_==="Map"||_==="Set"?Array.from(W):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?K(W,R):void 0}}function K(W,R){(R==null||R>W.length)&&(R=W.length);for(var _=0,I=Array(R);_<R;_++)I[_]=W[_];return I}function Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(W,R){var _=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!_){if(Array.isArray(W)||(_=U(W))||R){_&&(W=_);var I=0,b=function(){};return{s:b,n:function(){return I>=W.length?{done:!0}:{done:!1,value:W[I++]}},e:function(x){throw x},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,d=!0,g=!1;return{s:function(){_=_.call(W)},n:function(){var x=_.next();return d=x.done,x},e:function(x){g=!0,v=x},f:function(){try{d||_.return==null||_.return()}finally{if(g)throw v}}}}var G=function(W){var R=Math.abs,_=Math.max,I=Math.floor;function b(d,g){var x;if(a(this,b),x=v.call(this,d),x.sign=g,Object.setPrototypeOf(A(x),b.prototype),d>b.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return x}f(b,W);var v=w(b);return o(b,[{key:"toDebugString",value:function(){var d,g=["BigInt["],x=k(this);try{for(x.s();!(d=x.n()).done;){var E=d.value;g.push((E&&(E>>>0).toString(16))+", ")}}catch(h){x.e(h)}finally{x.f()}return g.push("]"),g.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":d&d-1?b.__toStringGeneric(this,d,!1):b.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new b(this.length,this.sign),g=0;g<this.length;g++)d[g]=this[g];return d}},{key:"__trim",value:function(){for(var d=this.length,g=this[d-1];g===0;)d--,g=this[d-1],this.pop();return d===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return b.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,g,x){x>this.length&&(x=this.length);for(var E=32767&d,h=d>>>15,T=0,j=g,L=0;L<x;L++){var $=this.__digit(L),F=32767&$,H=$>>>15,q=b.__imul(F,E),X=b.__imul(F,h),te=b.__imul(H,E),ne=b.__imul(H,h),N=j+q+T;T=N>>>30,N&=1073741823,N+=((32767&X)<<15)+((32767&te)<<15),T+=N>>>30,j=ne+(X>>>15)+(te>>>15),this.__setDigit(L,1073741823&N)}if(T!==0||j!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,g,x){for(var E,h=0,T=0;T<x;T++)E=this.__halfDigit(g+T)+d.__halfDigit(T)+h,h=E>>>15,this.__setHalfDigit(g+T,32767&E);return h}},{key:"__inplaceSub",value:function(d,g,x){var E=0;if(1&g){g>>=1;for(var h=this.__digit(g),T=32767&h,j=0;j<x-1>>>1;j++){var L=d.__digit(j),$=(h>>>15)-(32767&L)-E;E=1&$>>>15,this.__setDigit(g+j,(32767&$)<<15|32767&T),h=this.__digit(g+j+1),T=(32767&h)-(L>>>15)-E,E=1&T>>>15}var F=d.__digit(j),H=(h>>>15)-(32767&F)-E;if(E=1&H>>>15,this.__setDigit(g+j,(32767&H)<<15|32767&T),g+j+1>=this.length)throw new RangeError("out of bounds");!(1&x)&&(h=this.__digit(g+j+1),T=(32767&h)-(F>>>15)-E,E=1&T>>>15,this.__setDigit(g+d.length,1073709056&h|32767&T))}else{g>>=1;for(var q=0;q<d.length-1;q++){var X=this.__digit(g+q),te=d.__digit(q),ne=(32767&X)-(32767&te)-E;E=1&ne>>>15;var N=(X>>>15)-(te>>>15)-E;E=1&N>>>15,this.__setDigit(g+q,(32767&N)<<15|32767&ne)}var P=this.__digit(g+q),re=d.__digit(q),ue=(32767&P)-(32767&re)-E;E=1&ue>>>15;var de=0;!(1&x)&&(de=(P>>>15)-(re>>>15)-E,E=1&de>>>15),this.__setDigit(g+q,(32767&de)<<15|32767&ue)}return E}},{key:"__inplaceRightShift",value:function(d){if(d!==0){for(var g,x=this.__digit(0)>>>d,E=this.length-1,h=0;h<E;h++)g=this.__digit(h+1),this.__setDigit(h,1073741823&g<<30-d|x),x=g>>>d;this.__setDigit(E,x)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,g){this[d]=0|g}},{key:"__setDigitGrow",value:function(d,g){this[d]=0|g}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,g){var x=d>>>1,E=this.__digit(x),h=1&d?32767&E|g<<15:1073709056&E|32767&g;this.__setDigit(x,h)}}],[{key:"BigInt",value:function(d){var g=Number.isFinite;if(typeof d=="number"){if(d===0)return b.__zero();if(b.__isOneDigitInt(d))return 0>d?b.__oneDigit(-d,!0):b.__oneDigit(d,!1);if(!g(d)||I(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return b.__fromDouble(d)}if(typeof d=="string"){var x=b.__fromString(d);if(x===null)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return x}if(typeof d=="boolean")return d===!0?b.__oneDigit(1,!1):b.__zero();if(i(d)==="object"){if(d.constructor===b)return d;var E=b.__toPrimitive(d);return b.BigInt(E)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var g=d.length;if(g===0)return 0;if(g===1){var x=d.__unsignedDigit(0);return d.sign?-x:x}var E=d.__digit(g-1),h=b.__clz30(E),T=30*g-h;if(1024<T)return d.sign?-1/0:1/0;var j=T-1,L=E,$=g-1,F=h+3,H=F===32?0:L<<F;H>>>=12;var q=F-12,X=12<=F?0:L<<20+F,te=20+F;for(0<q&&0<$&&($--,L=d.__digit($),H|=L>>>30-q,X=L<<q+2,te=q+2);0<te&&0<$;)$--,L=d.__digit($),X|=30<=te?L<<te-30:L>>>30-te,te-=30;var ne=b.__decideRounding(d,te,$,L);if((ne===1||ne===0&&(1&X)==1)&&(X=X+1>>>0,X===0&&(H++,H>>>20!=0&&(H=0,j++,1023<j))))return d.sign?-1/0:1/0;var N=d.sign?-2147483648:0;return j=j+1023<<20,b.__kBitConversionInts[1]=N|j|H,b.__kBitConversionInts[0]=X,b.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(d){if(d.length===0)return d;var g=d.__copy();return g.sign=!d.sign,g}},{key:"bitwiseNot",value:function(d){return d.sign?b.__absoluteSubOne(d).__trim():b.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,g){if(g.sign)throw new RangeError("Exponent must be positive");if(g.length===0)return b.__oneDigit(1,!1);if(d.length===0)return d;if(d.length===1&&d.__digit(0)===1)return d.sign&&!(1&g.__digit(0))?b.unaryMinus(d):d;if(1<g.length)throw new RangeError("BigInt too big");var x=g.__unsignedDigit(0);if(x===1)return d;if(x>=b.__kMaxLengthBits)throw new RangeError("BigInt too big");if(d.length===1&&d.__digit(0)===2){var E=1+(0|x/30),h=d.sign&&(1&x)!=0,T=new b(E,h);T.__initializeDigits();var j=1<<x%30;return T.__setDigit(E-1,j),T}var L=null,$=d;for(1&x&&(L=d),x>>=1;x!==0;x>>=1)$=b.multiply($,$),1&x&&(L===null?L=$:L=b.multiply(L,$));return L}},{key:"multiply",value:function(d,g){if(d.length===0)return d;if(g.length===0)return g;var x=d.length+g.length;30<=d.__clzmsd()+g.__clzmsd()&&x--;var E=new b(x,d.sign!==g.sign);E.__initializeDigits();for(var h=0;h<d.length;h++)b.__multiplyAccumulate(g,d.__digit(h),E,h);return E.__trim()}},{key:"divide",value:function(d,g){if(g.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(d,g))return b.__zero();var x,E=d.sign!==g.sign,h=g.__unsignedDigit(0);if(g.length===1&&32767>=h){if(h===1)return E===d.sign?d:b.unaryMinus(d);x=b.__absoluteDivSmall(d,h,null)}else x=b.__absoluteDivLarge(d,g,!0,!1);return x.sign=E,x.__trim()}},{key:"remainder",value:function(g,x){if(x.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(g,x))return g;var E=x.__unsignedDigit(0);if(x.length===1&&32767>=E){if(E===1)return b.__zero();var h=b.__absoluteModSmall(g,E);return h===0?b.__zero():b.__oneDigit(h,g.sign)}var T=b.__absoluteDivLarge(g,x,!1,!0);return T.sign=g.sign,T.__trim()}},{key:"add",value:function(d,g){var x=d.sign;return x===g.sign?b.__absoluteAdd(d,g,x):0<=b.__absoluteCompare(d,g)?b.__absoluteSub(d,g,x):b.__absoluteSub(g,d,!x)}},{key:"subtract",value:function(d,g){var x=d.sign;return x===g.sign?0<=b.__absoluteCompare(d,g)?b.__absoluteSub(d,g,x):b.__absoluteSub(g,d,!x):b.__absoluteAdd(d,g,x)}},{key:"leftShift",value:function(d,g){return g.length===0||d.length===0?d:g.sign?b.__rightShiftByAbsolute(d,g):b.__leftShiftByAbsolute(d,g)}},{key:"signedRightShift",value:function(d,g){return g.length===0||d.length===0?d:g.sign?b.__leftShiftByAbsolute(d,g):b.__rightShiftByAbsolute(d,g)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,g){return 0>b.__compareToBigInt(d,g)}},{key:"lessThanOrEqual",value:function(d,g){return 0>=b.__compareToBigInt(d,g)}},{key:"greaterThan",value:function(d,g){return 0<b.__compareToBigInt(d,g)}},{key:"greaterThanOrEqual",value:function(d,g){return 0<=b.__compareToBigInt(d,g)}},{key:"equal",value:function(d,g){if(d.sign!==g.sign||d.length!==g.length)return!1;for(var x=0;x<d.length;x++)if(d.__digit(x)!==g.__digit(x))return!1;return!0}},{key:"notEqual",value:function(d,g){return!b.equal(d,g)}},{key:"bitwiseAnd",value:function(d,g){if(!d.sign&&!g.sign)return b.__absoluteAnd(d,g).__trim();if(d.sign&&g.sign){var x=_(d.length,g.length)+1,E=b.__absoluteSubOne(d,x),h=b.__absoluteSubOne(g);return E=b.__absoluteOr(E,h,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var T=[g,d];d=T[0],g=T[1]}return b.__absoluteAndNot(d,b.__absoluteSubOne(g)).__trim()}},{key:"bitwiseXor",value:function(d,g){if(!d.sign&&!g.sign)return b.__absoluteXor(d,g).__trim();if(d.sign&&g.sign){var x=_(d.length,g.length),E=b.__absoluteSubOne(d,x),h=b.__absoluteSubOne(g);return b.__absoluteXor(E,h,E).__trim()}var T=_(d.length,g.length)+1;if(d.sign){var j=[g,d];d=j[0],g=j[1]}var L=b.__absoluteSubOne(g,T);return L=b.__absoluteXor(L,d,L),b.__absoluteAddOne(L,!0,L).__trim()}},{key:"bitwiseOr",value:function(d,g){var x=_(d.length,g.length);if(!d.sign&&!g.sign)return b.__absoluteOr(d,g).__trim();if(d.sign&&g.sign){var E=b.__absoluteSubOne(d,x),h=b.__absoluteSubOne(g);return E=b.__absoluteAnd(E,h,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var T=[g,d];d=T[0],g=T[1]}var j=b.__absoluteSubOne(g,x);return j=b.__absoluteAndNot(j,d,j),b.__absoluteAddOne(j,!0,j).__trim()}},{key:"asIntN",value:function(d,g){if(g.length===0)return g;if(d=I(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(d>=b.__kMaxLengthBits)return g;var x=0|(d+29)/30;if(g.length<x)return g;var E=g.__unsignedDigit(x-1),h=1<<(d-1)%30;if(g.length===x&&E<h)return g;if((E&h)!==h)return b.__truncateToNBits(d,g);if(!g.sign)return b.__truncateAndSubFromPowerOfTwo(d,g,!0);if(!(E&h-1)){for(var T=x-2;0<=T;T--)if(g.__digit(T)!==0)return b.__truncateAndSubFromPowerOfTwo(d,g,!1);return g.length===x&&E===h?g:b.__truncateToNBits(d,g)}return b.__truncateAndSubFromPowerOfTwo(d,g,!1)}},{key:"asUintN",value:function(d,g){if(g.length===0)return g;if(d=I(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(g.sign){if(d>b.__kMaxLengthBits)throw new RangeError("BigInt too big");return b.__truncateAndSubFromPowerOfTwo(d,g,!1)}if(d>=b.__kMaxLengthBits)return g;var x=0|(d+29)/30;if(g.length<x)return g;var E=d%30;if(g.length==x){if(E===0)return g;var h=g.__digit(x-1);if(!(h>>>E))return g}return b.__truncateToNBits(d,g)}},{key:"ADD",value:function(d,g){if(d=b.__toPrimitive(d),g=b.__toPrimitive(g),typeof d=="string")return typeof g!="string"&&(g=g.toString()),d+g;if(typeof g=="string")return d.toString()+g;if(d=b.__toNumeric(d),g=b.__toNumeric(g),b.__isBigInt(d)&&b.__isBigInt(g))return b.add(d,g);if(typeof d=="number"&&typeof g=="number")return d+g;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,g){return b.__compare(d,g,0)}},{key:"LE",value:function(d,g){return b.__compare(d,g,1)}},{key:"GT",value:function(d,g){return b.__compare(d,g,2)}},{key:"GE",value:function(d,g){return b.__compare(d,g,3)}},{key:"EQ",value:function(d,g){for(;;){if(b.__isBigInt(d))return b.__isBigInt(g)?b.equal(d,g):b.EQ(g,d);if(typeof d=="number"){if(b.__isBigInt(g))return b.__equalToNumber(g,d);if(i(g)!=="object")return d==g;g=b.__toPrimitive(g)}else if(typeof d=="string"){if(b.__isBigInt(g))return d=b.__fromString(d),d!==null&&b.equal(d,g);if(i(g)!=="object")return d==g;g=b.__toPrimitive(g)}else if(typeof d=="boolean"){if(b.__isBigInt(g))return b.__equalToNumber(g,+d);if(i(g)!=="object")return d==g;g=b.__toPrimitive(g)}else if(i(d)==="symbol"){if(b.__isBigInt(g))return!1;if(i(g)!=="object")return d==g;g=b.__toPrimitive(g)}else if(i(d)==="object"){if(i(g)==="object"&&g.constructor!==b)return d==g;d=b.__toPrimitive(d)}else return d==g}}},{key:"NE",value:function(d,g){return!b.EQ(d,g)}},{key:"DataViewGetBigInt64",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return b.asIntN(64,b.DataViewGetBigUint64(d,g,x))}},{key:"DataViewGetBigUint64",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0&&arguments[2],E=x?[4,0]:[0,4],h=C(E,2),T=h[0],j=h[1],L=d.getUint32(g+T,x),$=d.getUint32(g+j,x),F=new b(3,!1);return F.__setDigit(0,1073741823&$),F.__setDigit(1,(268435455&L)<<2|$>>>30),F.__setDigit(2,L>>>28),F.__trim()}},{key:"DataViewSetBigInt64",value:function(d,g,x){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];b.DataViewSetBigUint64(d,g,x,E)}},{key:"DataViewSetBigUint64",value:function(d,g,x){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];x=b.asUintN(64,x);var h=0,T=0;if(0<x.length&&(T=x.__digit(0),1<x.length)){var j=x.__digit(1);T|=j<<30,h=j>>>2,2<x.length&&(h|=x.__digit(2)<<28)}var L=E?[4,0]:[0,4],$=C(L,2),F=$[0],H=$[1];d.setUint32(g+F,h,E),d.setUint32(g+H,T,E)}},{key:"__zero",value:function(){return new b(0,!1)}},{key:"__oneDigit",value:function(d,g){var x=new b(1,g);return x.__setDigit(0,d),x}},{key:"__decideRounding",value:function(d,g,x,E){if(0<g)return-1;var h;if(0>g)h=-g-1;else{if(x===0)return-1;x--,E=d.__digit(x),h=29}var T=1<<h;if(!(E&T))return-1;if(T-=1,(E&T)!=0)return 1;for(;0<x;)if(x--,d.__digit(x)!==0)return 1;return 0}},{key:"__fromDouble",value:function(d){b.__kBitConversionDouble[0]=d;var g,x=2047&b.__kBitConversionInts[1]>>>20,E=x-1023,h=(0|E/30)+1,T=new b(h,0>d),j=1048575&b.__kBitConversionInts[1]|1048576,L=b.__kBitConversionInts[0],$=20,F=E%30,H=0;if(F<$){var q=$-F;H=q+32,g=j>>>q,j=j<<32-q|L>>>q,L<<=32-q}else if(F===$)H=32,g=j,j=L,L=0;else{var X=F-$;H=32-X,g=j<<X|L>>>32-X,j=L<<X,L=0}T.__setDigit(h-1,g);for(var te=h-2;0<=te;te--)0<H?(H-=30,g=j>>>2,j=j<<30|L>>>2,L<<=30):g=0,T.__setDigit(te,g);return T.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?d==32:131071>=d?d==160||d==5760:196607>=d?(d&=131071,10>=d||d==40||d==41||d==47||d==95||d==4096):d==65279)}},{key:"__fromString",value:function(d){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,x=0,E=d.length,h=0;if(h===E)return b.__zero();for(var T=d.charCodeAt(h);b.__isWhitespace(T);){if(++h===E)return b.__zero();T=d.charCodeAt(h)}if(T===43){if(++h===E)return null;T=d.charCodeAt(h),x=1}else if(T===45){if(++h===E)return null;T=d.charCodeAt(h),x=-1}if(g===0){if(g=10,T===48){if(++h===E)return b.__zero();if(T=d.charCodeAt(h),T===88||T===120){if(g=16,++h===E)return null;T=d.charCodeAt(h)}else if(T===79||T===111){if(g=8,++h===E)return null;T=d.charCodeAt(h)}else if(T===66||T===98){if(g=2,++h===E)return null;T=d.charCodeAt(h)}}}else if(g===16&&T===48){if(++h===E)return b.__zero();if(T=d.charCodeAt(h),T===88||T===120){if(++h===E)return null;T=d.charCodeAt(h)}}if(x!==0&&g!==10)return null;for(;T===48;){if(++h===E)return b.__zero();T=d.charCodeAt(h)}var j=E-h,L=b.__kMaxBitsPerChar[g],$=b.__kBitsPerCharTableMultiplier-1;if(j>1073741824/L)return null;var F=L*j+$>>>b.__kBitsPerCharTableShift,H=new b(0|(F+29)/30,!1),q=10>g?g:10,X=10<g?g-10:0;if(g&g-1){H.__initializeDigits();var de=!1,V=0;do{for(var J,ie=0,ce=1;;){if(J=void 0,T-48>>>0<q)J=T-48;else if((32|T)-97>>>0<X)J=(32|T)-87;else{de=!0;break}var ye=ce*g;if(1073741823<ye)break;if(ce=ye,ie=ie*g+J,V++,++h===E){de=!0;break}T=d.charCodeAt(h)}$=30*b.__kBitsPerCharTableMultiplier-1;var ge=0|(L*V+$>>>b.__kBitsPerCharTableShift)/30;H.__inplaceMultiplyAdd(ce,ie,ge)}while(!de)}else{L>>=b.__kBitsPerCharTableShift;var te=[],ne=[],N=!1;do{for(var P,re=0,ue=0;;){if(P=void 0,T-48>>>0<q)P=T-48;else if((32|T)-97>>>0<X)P=(32|T)-87;else{N=!0;break}if(ue+=L,re=re<<L|P,++h===E){N=!0;break}if(T=d.charCodeAt(h),30<ue+L)break}te.push(re),ne.push(ue)}while(!N);b.__fillFromParts(H,te,ne)}if(h!==E){if(!b.__isWhitespace(T))return null;for(h++;h<E;h++)if(T=d.charCodeAt(h),!b.__isWhitespace(T))return null}return H.sign=x===-1,H.__trim()}},{key:"__fillFromParts",value:function(d,g,x){for(var E=0,h=0,T=0,j=g.length-1;0<=j;j--){var L=g[j],$=x[j];h|=L<<T,T+=$,T===30?(d.__setDigit(E++,h),T=0,h=0):30<T&&(d.__setDigit(E++,1073741823&h),T-=30,h=L>>>$-T)}if(h!==0){if(E>=d.length)throw new Error("implementation bug");d.__setDigit(E++,h)}for(;E<d.length;E++)d.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,g){var x=d.length,E=g-1;E=(85&E>>>1)+(85&E),E=(51&E>>>2)+(51&E),E=(15&E>>>4)+(15&E);var h=E,T=g-1,j=d.__digit(x-1),L=b.__clz30(j),$=0|(30*x-L+h-1)/h;if(d.sign&&$++,268435456<$)throw new Error("string too long");for(var F=Array($),H=$-1,q=0,X=0,te=0;te<x-1;te++){var ne=d.__digit(te),N=(q|ne<<X)&T;F[H--]=b.__kConversionChars[N];var P=h-X;for(q=ne>>>P,X=30-P;X>=h;)F[H--]=b.__kConversionChars[q&T],q>>>=h,X-=h}var re=(q|j<<X)&T;for(F[H--]=b.__kConversionChars[re],q=j>>>h-X;q!==0;)F[H--]=b.__kConversionChars[q&T],q>>>=h;if(d.sign&&(F[H--]="-"),H!==-1)throw new Error("implementation bug");return F.join("")}},{key:"__toStringGeneric",value:function(d,g,x){var E=d.length;if(E===0)return"";if(E===1){var h=d.__unsignedDigit(0).toString(g);return x===!1&&d.sign&&(h="-"+h),h}var T=30*E-b.__clz30(d.__digit(E-1)),j=b.__kMaxBitsPerChar[g],L=j-1,$=T*b.__kBitsPerCharTableMultiplier;$+=L-1,$=0|$/L;var F,H,q=$+1>>1,X=b.exponentiate(b.__oneDigit(g,!1),b.__oneDigit(q,!1)),te=X.__unsignedDigit(0);if(X.length===1&&32767>=te){F=new b(d.length,!1),F.__initializeDigits();for(var ne,N=0,P=2*d.length-1;0<=P;P--)ne=N<<15|d.__halfDigit(P),F.__setHalfDigit(P,0|ne/te),N=0|ne%te;H=N.toString(g)}else{var re=b.__absoluteDivLarge(d,X,!0,!0);F=re.quotient;var ue=re.remainder.__trim();H=b.__toStringGeneric(ue,g,!0)}F.__trim();for(var de=b.__toStringGeneric(F,g,!0);H.length<q;)H="0"+H;return x===!1&&d.sign&&(de="-"+de),de+H}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,g){var x=d.sign;if(x!==g.sign)return b.__unequalSign(x);var E=b.__absoluteCompare(d,g);return 0<E?b.__absoluteGreater(x):0>E?b.__absoluteLess(x):0}},{key:"__compareToNumber",value:function(d,g){if(b.__isOneDigitInt(g)){var x=d.sign,E=0>g;if(x!==E)return b.__unequalSign(x);if(d.length===0){if(E)throw new Error("implementation bug");return g===0?0:-1}if(1<d.length)return b.__absoluteGreater(x);var h=R(g),T=d.__unsignedDigit(0);return T>h?b.__absoluteGreater(x):T<h?b.__absoluteLess(x):0}return b.__compareToDouble(d,g)}},{key:"__compareToDouble",value:function(d,g){if(g!==g)return g;if(g===1/0)return-1;if(g===-1/0)return 1;var x=d.sign;if(x!==0>g)return b.__unequalSign(x);if(g===0)throw new Error("implementation bug: should be handled elsewhere");if(d.length===0)return-1;b.__kBitConversionDouble[0]=g;var E=2047&b.__kBitConversionInts[1]>>>20;if(E==2047)throw new Error("implementation bug: handled elsewhere");var h=E-1023;if(0>h)return b.__absoluteGreater(x);var T=d.length,j=d.__digit(T-1),L=b.__clz30(j),$=30*T-L,F=h+1;if($<F)return b.__absoluteLess(x);if($>F)return b.__absoluteGreater(x);var H=1048576|1048575&b.__kBitConversionInts[1],q=b.__kBitConversionInts[0],X=20,te=29-L;if(te!==(0|($-1)%30))throw new Error("implementation bug");var ne,N=0;if(te<X){var P=X-te;N=P+32,ne=H>>>P,H=H<<32-P|q>>>P,q<<=32-P}else if(te===X)N=32,ne=H,H=q,q=0;else{var re=te-X;N=32-re,ne=H<<re|q>>>32-re,H=q<<re,q=0}if(j>>>=0,ne>>>=0,j>ne)return b.__absoluteGreater(x);if(j<ne)return b.__absoluteLess(x);for(var ue=T-2;0<=ue;ue--){0<N?(N-=30,ne=H>>>2,H=H<<30|q>>>2,q<<=30):ne=0;var de=d.__unsignedDigit(ue);if(de>ne)return b.__absoluteGreater(x);if(de<ne)return b.__absoluteLess(x)}if(H!==0||q!==0){if(N===0)throw new Error("implementation bug");return b.__absoluteLess(x)}return 0}},{key:"__equalToNumber",value:function(d,g){return b.__isOneDigitInt(g)?g===0?d.length===0:d.length===1&&d.sign===0>g&&d.__unsignedDigit(0)===R(g):b.__compareToDouble(d,g)===0}},{key:"__comparisonResultToBool",value:function(d,g){return g===0?0>d:g===1?0>=d:g===2?0<d:g===3?0<=d:void 0}},{key:"__compare",value:function(d,g,x){if(d=b.__toPrimitive(d),g=b.__toPrimitive(g),typeof d=="string"&&typeof g=="string")switch(x){case 0:return d<g;case 1:return d<=g;case 2:return d>g;case 3:return d>=g}if(b.__isBigInt(d)&&typeof g=="string")return g=b.__fromString(g),g!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,g),x);if(typeof d=="string"&&b.__isBigInt(g))return d=b.__fromString(d),d!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,g),x);if(d=b.__toNumeric(d),g=b.__toNumeric(g),b.__isBigInt(d)){if(b.__isBigInt(g))return b.__comparisonResultToBool(b.__compareToBigInt(d,g),x);if(typeof g!="number")throw new Error("implementation bug");return b.__comparisonResultToBool(b.__compareToNumber(d,g),x)}if(typeof d!="number")throw new Error("implementation bug");if(b.__isBigInt(g))return b.__comparisonResultToBool(b.__compareToNumber(g,d),2^x);if(typeof g!="number")throw new Error("implementation bug");return x===0?d<g:x===1?d<=g:x===2?d>g:x===3?d>=g:void 0}},{key:"__absoluteAdd",value:function(d,g,x){if(d.length<g.length)return b.__absoluteAdd(g,d,x);if(d.length===0)return d;if(g.length===0)return d.sign===x?d:b.unaryMinus(d);var E=d.length;(d.__clzmsd()===0||g.length===d.length&&g.__clzmsd()===0)&&E++;for(var h,T=new b(E,x),j=0,L=0;L<g.length;L++)h=d.__digit(L)+g.__digit(L)+j,j=h>>>30,T.__setDigit(L,1073741823&h);for(;L<d.length;L++){var $=d.__digit(L)+j;j=$>>>30,T.__setDigit(L,1073741823&$)}return L<T.length&&T.__setDigit(L,j),T.__trim()}},{key:"__absoluteSub",value:function(d,g,x){if(d.length===0)return d;if(g.length===0)return d.sign===x?d:b.unaryMinus(d);for(var E,h=new b(d.length,x),T=0,j=0;j<g.length;j++)E=d.__digit(j)-g.__digit(j)-T,T=1&E>>>30,h.__setDigit(j,1073741823&E);for(;j<d.length;j++){var L=d.__digit(j)-T;T=1&L>>>30,h.__setDigit(j,1073741823&L)}return h.__trim()}},{key:"__absoluteAddOne",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length;x===null?x=new b(E,g):x.sign=g;for(var h,T=1,j=0;j<E;j++)h=d.__digit(j)+T,T=h>>>30,x.__setDigit(j,1073741823&h);return T!==0&&x.__setDigitGrow(E,1),x}},{key:"__absoluteSubOne",value:function(d,g){var x=d.length;g=g||x;for(var E,h=new b(g,!1),T=1,j=0;j<x;j++)E=d.__digit(j)-T,T=1&E>>>30,h.__setDigit(j,1073741823&E);if(T!==0)throw new Error("implementation bug");for(var L=x;L<g;L++)h.__setDigit(L,0);return h}},{key:"__absoluteAnd",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=g.length,T=h;if(E<h){T=E;var j=d,L=E;d=g,E=h,g=j,h=L}var $=T;x===null?x=new b($,!1):$=x.length;for(var F=0;F<T;F++)x.__setDigit(F,d.__digit(F)&g.__digit(F));for(;F<$;F++)x.__setDigit(F,0);return x}},{key:"__absoluteAndNot",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=g.length,T=h;E<h&&(T=E);var j=E;x===null?x=new b(j,!1):j=x.length;for(var L=0;L<T;L++)x.__setDigit(L,d.__digit(L)&~g.__digit(L));for(;L<E;L++)x.__setDigit(L,d.__digit(L));for(;L<j;L++)x.__setDigit(L,0);return x}},{key:"__absoluteOr",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=g.length,T=h;if(E<h){T=E;var j=d,L=E;d=g,E=h,g=j,h=L}var $=E;x===null?x=new b($,!1):$=x.length;for(var F=0;F<T;F++)x.__setDigit(F,d.__digit(F)|g.__digit(F));for(;F<E;F++)x.__setDigit(F,d.__digit(F));for(;F<$;F++)x.__setDigit(F,0);return x}},{key:"__absoluteXor",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=g.length,T=h;if(E<h){T=E;var j=d,L=E;d=g,E=h,g=j,h=L}var $=E;x===null?x=new b($,!1):$=x.length;for(var F=0;F<T;F++)x.__setDigit(F,d.__digit(F)^g.__digit(F));for(;F<E;F++)x.__setDigit(F,d.__digit(F));for(;F<$;F++)x.__setDigit(F,0);return x}},{key:"__absoluteCompare",value:function(d,g){var x=d.length-g.length;if(x!=0)return x;for(var E=d.length-1;0<=E&&d.__digit(E)===g.__digit(E);)E--;return 0>E?0:d.__unsignedDigit(E)>g.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(d,g,x,E){if(g!==0){for(var h=32767&g,T=g>>>15,j=0,L=0,$=0;$<d.length;$++,E++){var F=x.__digit(E),H=d.__digit($),q=32767&H,X=H>>>15,te=b.__imul(q,h),ne=b.__imul(q,T),N=b.__imul(X,h),P=b.__imul(X,T);F+=L+te+j,j=F>>>30,F&=1073741823,F+=((32767&ne)<<15)+((32767&N)<<15),j+=F>>>30,L=P+(ne>>>15)+(N>>>15),x.__setDigit(E,1073741823&F)}for(;j!==0||L!==0;E++){var re=x.__digit(E);re+=j+L,L=0,j=re>>>30,x.__setDigit(E,1073741823&re)}}}},{key:"__internalMultiplyAdd",value:function(d,g,x,E,h){for(var T=x,j=0,L=0;L<E;L++){var $=d.__digit(L),F=b.__imul(32767&$,g),H=b.__imul($>>>15,g),q=F+((32767&H)<<15)+j+T;T=q>>>30,j=H>>>15,h.__setDigit(L,1073741823&q)}if(h.length>E)for(h.__setDigit(E++,T+j);E<h.length;)h.__setDigit(E++,0);else if(T+j!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;x===null&&(x=new b(d.length,!1));for(var E=0,h=2*d.length-1;0<=h;h-=2){var T=(E<<15|d.__halfDigit(h))>>>0,j=0|T/g;E=0|T%g,T=(E<<15|d.__halfDigit(h-1))>>>0;var L=0|T/g;E=0|T%g,x.__setDigit(h>>>1,j<<15|L)}return x}},{key:"__absoluteModSmall",value:function(d,g){for(var x,E=0,h=2*d.length-1;0<=h;h--)x=(E<<15|d.__halfDigit(h))>>>0,E=0|x%g;return E}},{key:"__absoluteDivLarge",value:function(d,g,x,E){var h=g.__halfDigitLength(),T=g.length,j=d.__halfDigitLength()-h,L=null;x&&(L=new b(j+2>>>1,!1),L.__initializeDigits());var $=new b(h+2>>>1,!1);$.__initializeDigits();var F=b.__clz15(g.__halfDigit(h-1));0<F&&(g=b.__specialLeftShift(g,F,0));for(var H=b.__specialLeftShift(d,F,1),q=g.__halfDigit(h-1),X=0,te=j;0<=te;te--){var ne=32767,N=H.__halfDigit(te+h);if(N!==q){var P=(N<<15|H.__halfDigit(te+h-1))>>>0;ne=0|P/q;for(var re=0|P%q,ue=g.__halfDigit(h-2),de=H.__halfDigit(te+h-2);b.__imul(ne,ue)>>>0>(re<<16|de)>>>0&&(ne--,re+=q,!(32767<re)););}b.__internalMultiplyAdd(g,ne,0,T,$);var V=H.__inplaceSub($,te,h+1);V!==0&&(V=H.__inplaceAdd(g,te,h),H.__setHalfDigit(te+h,32767&H.__halfDigit(te+h)+V),ne--),x&&(1&te?X=ne<<15:L.__setDigit(te>>>1,X|ne))}if(E)return H.__inplaceRightShift(F),x?{quotient:L,remainder:H}:H;if(x)return L;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return b.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,g,x){var E=d.length,h=new b(E+x,!1);if(g===0){for(var T=0;T<E;T++)h.__setDigit(T,d.__digit(T));return 0<x&&h.__setDigit(E,0),h}for(var j,L=0,$=0;$<E;$++)j=d.__digit($),h.__setDigit($,1073741823&j<<g|L),L=j>>>30-g;return 0<x&&h.__setDigit(E,L),h}},{key:"__leftShiftByAbsolute",value:function(d,g){var x=b.__toShiftAmount(g);if(0>x)throw new RangeError("BigInt too big");var E=0|x/30,h=x%30,T=d.length,j=h!==0&&d.__digit(T-1)>>>30-h!=0,L=T+E+(j?1:0),$=new b(L,d.sign);if(h===0){for(var F=0;F<E;F++)$.__setDigit(F,0);for(;F<L;F++)$.__setDigit(F,d.__digit(F-E))}else{for(var H=0,q=0;q<E;q++)$.__setDigit(q,0);for(var X,te=0;te<T;te++)X=d.__digit(te),$.__setDigit(te+E,1073741823&X<<h|H),H=X>>>30-h;if(j)$.__setDigit(T+E,H);else if(H!==0)throw new Error("implementation bug")}return $.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,g){var x=d.length,E=d.sign,h=b.__toShiftAmount(g);if(0>h)return b.__rightShiftByMaximum(E);var T=0|h/30,j=h%30,L=x-T;if(0>=L)return b.__rightShiftByMaximum(E);var $=!1;if(E){if(d.__digit(T)&(1<<j)-1)$=!0;else for(var F=0;F<T;F++)if(d.__digit(F)!==0){$=!0;break}}if($&&j===0){var H=d.__digit(x-1);!~H&&L++}var q=new b(L,E);if(j===0){q.__setDigit(L-1,0);for(var X=T;X<x;X++)q.__setDigit(X-T,d.__digit(X))}else{for(var te,ne=d.__digit(T)>>>j,N=x-T-1,P=0;P<N;P++)te=d.__digit(P+T+1),q.__setDigit(P,1073741823&te<<30-j|ne),ne=te>>>j;q.__setDigit(N,ne)}return $&&(q=b.__absoluteAddOne(q,!0,q)),q.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?b.__oneDigit(1,!0):b.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var g=d.__unsignedDigit(0);return g>b.__kMaxLengthBits?-1:g}},{key:"__toPrimitive",value:function(d){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(i(d)!=="object"||d.constructor===b)return d;if(typeof Symbol<"u"&&i(Symbol.toPrimitive)==="symbol"){var x=d[Symbol.toPrimitive];if(x){var E=x(g);if(i(E)!=="object")return E;throw new TypeError("Cannot convert object to primitive value")}}var h=d.valueOf;if(h){var T=h.call(d);if(i(T)!=="object")return T}var j=d.toString;if(j){var L=j.call(d);if(i(L)!=="object")return L}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return b.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return i(d)==="object"&&d!==null&&d.constructor===b}},{key:"__truncateToNBits",value:function(d,g){for(var x=0|(d+29)/30,E=new b(x,g.sign),h=x-1,T=0;T<h;T++)E.__setDigit(T,g.__digit(T));var j=g.__digit(h);if(d%30!=0){var L=32-d%30;j=j<<L>>>L}return E.__setDigit(h,j),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,g,x){for(var E=Math.min,h,T=0|(d+29)/30,j=new b(T,x),L=0,$=T-1,F=0,H=E($,g.length);L<H;L++)h=0-g.__digit(L)-F,F=1&h>>>30,j.__setDigit(L,1073741823&h);for(;L<$;L++)j.__setDigit(L,0|1073741823&-F);var q,X=$<g.length?g.__digit($):0,te=d%30;if(te===0)q=0-X-F,q&=1073741823;else{var ne=32-te;X=X<<ne>>>ne;var N=1<<32-ne;q=N-X-F,q&=N-1}return j.__setDigit($,q),j.__trim()}},{key:"__digitPow",value:function(d,g){for(var x=1;0<g;)1&g&&(x*=d),g>>>=1,d*=d;return x}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),b}(m(Array));return G.__kMaxLength=33554432,G.__kMaxLengthBits=G.__kMaxLength<<5,G.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],G.__kBitsPerCharTableShift=5,G.__kBitsPerCharTableMultiplier=1<<G.__kBitsPerCharTableShift,G.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],G.__kBitConversionBuffer=new ArrayBuffer(8),G.__kBitConversionDouble=new Float64Array(G.__kBitConversionBuffer),G.__kBitConversionInts=new Int32Array(G.__kBitConversionBuffer),G.__clz30=n?function(W){return n(W)-2}:function(W){var R=Math.LN2,_=Math.log;return W===0?30:0|29-(0|_(W>>>0)/R)},G.__imul=r||function(W,R){return 0|W*R},G})})(hT);var Jk=hT.exports;Object.defineProperty(wt,"__esModule",{value:!0});wt.ckbDecimals=wt.BI=void 0;wt.formatUnit=nz;wt.isBIish=pT;wt.parseUnit=iz;wt.toJSBI=dt;var Xe=ez(Jk);function ez(t){return t&&t.__esModule?t:{default:t}}function pT(t){return t!==null&&(typeof t=="number"&&t%1===0||typeof t=="string"&&(!!t.match(/^0x(0|[0-9a-fA-F]+)$/)||!!t.match(/^-?[0-9]+$/))||typeof t=="bigint"||jo.isBI(t))}class jo{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return Or(Xe.default.add(this.jsbi,dt(e)))}sub(e){return Or(Xe.default.subtract(this.jsbi,dt(e)))}div(e){return Or(Xe.default.divide(this.jsbi,dt(e)))}mul(e){return Or(Xe.default.multiply(this.jsbi,dt(e)))}mod(e){return Or(Xe.default.remainder(this.jsbi,dt(e)))}abs(){return Xe.default.greaterThanOrEqual(this.jsbi,dt(0))?Or(this.jsbi):Or(Xe.default.unaryMinus(this.jsbi))}pow(e){return Or(Xe.default.exponentiate(this.jsbi,dt(e)))}and(e){return Or(Xe.default.bitwiseAnd(this.jsbi,dt(e)))}or(e){return Or(Xe.default.bitwiseOr(this.jsbi,dt(e)))}xor(e){return Or(Xe.default.bitwiseXor(this.jsbi,dt(e)))}not(){return Or(Xe.default.bitwiseNot(this.jsbi))}mask(e){const r=dt(e);if(Xe.default.lessThan(r,dt(0))||Xe.default.lessThan(this.jsbi,dt(0)))throw new Error("mask works only with positive numbers");const n=dt(this.jsbi.toString(2).length);if(Xe.default.lessThanOrEqual(n,r))return Or(this.jsbi);{const i=Xe.default.leftShift(Xe.default.signedRightShift(this.jsbi,r),r);return Or(Xe.default.bitwiseXor(this.jsbi,i))}}shl(e){return Or(Xe.default.leftShift(this.jsbi,dt(e)))}shr(e){return Or(Xe.default.signedRightShift(this.jsbi,dt(e)))}eq(e){return Xe.default.equal(this.jsbi,dt(e))}lt(e){return Xe.default.lessThan(this.jsbi,dt(e))}lte(e){return Xe.default.lessThanOrEqual(this.jsbi,dt(e))}gt(e){return Xe.default.greaterThan(this.jsbi,dt(e))}gte(e){return Xe.default.greaterThanOrEqual(this.jsbi,dt(e))}isNegative(){return Xe.default.lessThan(this.jsbi,dt(0))}isZero(){return Xe.default.equal(this.jsbi,dt(0))}toNumber(){return Xe.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch{throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return Xe.default.lessThan(this.jsbi,dt(0))?"-0x"+Xe.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof jo)return e;if(pT(e))return Or(dt(e));if(e instanceof Xe.default)return Or(dt(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return tz(e)&&!!e._isBI}}wt.BI=jo;function tz(t){return t==null?!1:typeof t=="object"}function Or(t){return new jo(t)}function dt(t){return typeof t=="number"||typeof t=="string"?Xe.default.BigInt(t):Xe.default.BigInt(t.toString())}const g9=["shannon","ckb"],rz=wt.ckbDecimals=8,bT=jo.from(-1);function nz(t,e){const r=gT(e);return az(t,r)}function iz(t,e){const r=gT(e);return sz(t,r)}function az(t,e){if(!$4(e))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(e).fill("0").join("");t=jo.from(t);const n=t.isNegative();n&&(t=t.mul(bT));let a=t.div(r).toString();if(r.length>1){let s=t.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1],a+="."+s}return n&&(a="-"+a),a}function sz(t,e){if(!$4(e))throw new Error("decimal size must be a non-negative integer");if(!t.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(e).fill("0").join(""),n=t.substring(0,1)==="-";n&&(t=t.substring(1));let i,a;const s=t.split(".");if(s.length===1)i=s[0],a="0";else if(s.length===2)i=s[0],a=s[1];else throw new Error("too many decimal points (should not happen)");for(;i.length>0&&i[0]==="0";)i=i.substring(1);for(i===""&&(i="0");a.length>0&&a[a.length-1]==="0";)a=a.substring(0,a.length-1);if(a.length>r.length-1)throw new Error("decimal part exceeds max decimals");for(a===""&&(a="0");a.length<r.length-1;)a+="0";const o=jo.from(i),f=jo.from(a);let c=o.mul(r).add(f);return n&&(c=c.mul(bT)),c}function gT(t){let e=0;if(typeof t=="string"){if(g9.indexOf(t)===-1)throw new Error(`invalid unit name, supported names are ${g9.join(", ")}`);t==="ckb"&&(e=rz)}else if($4(t))e=t;else throw new Error("unit of integer must be a non-negative integer");return e}function $4(t){return Number.isInteger(t)&&t>=0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return e.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return e.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var e=wt,r=Go,n=ya;function i(y,m,A,S){if(y=e.BI.from(y),y.lt(m)||y.gt(A))throw new n.CodecBaseParseError(`Value must be between ${m.toString()} and ${A.toString()}, but got ${y.toString()}`,S)}function a(y,m=!1){const A=s(y,m);return{__isFixedCodec__:!0,byteLength:y,pack:S=>A.pack(S),unpack:S=>A.unpack(S).toNumber()}}const s=(y,m=!1)=>{const A=e.BI.from(1).shl(y*8).sub(1);return(0,r.createFixedBytesCodec)({byteLength:y,pack(S){let w=m?"LE":"BE";y<=1&&(w="");const C=`Uint${y*8}${w}`;if(typeof S=="number"&&!Number.isSafeInteger(S))throw new n.CodecBaseParseError(`${S} is not a safe integer`,C);let O=e.BI.from(S);i(O,0,A,C);const M=new DataView(new ArrayBuffer(y));for(let U=0;U<y;U++)m?M.setUint8(U,O.and(255).toNumber()):M.setUint8(y-U-1,O.and(255).toNumber()),O=O.shr(8);return new Uint8Array(M.buffer)},unpack:S=>{const w=new DataView(Uint8Array.from(S).buffer);let C=e.BI.from(0);for(let O=0;O<y;O++)m?C=C.or(e.BI.from(w.getUint8(O)).shl(O*8)):C=C.shl(8).or(w.getUint8(O));return C}})};t.Uint8=a(1);const o=t.Uint16LE=a(2,!0);t.Uint16BE=a(2),t.Uint16=o;const f=t.Uint32LE=a(4,!0);t.Uint32BE=a(4),t.Uint32=f;const c=t.Uint64LE=s(8,!0);t.Uint64BE=s(8),t.Uint64=c;const u=t.Uint128LE=s(16,!0);t.Uint128BE=s(16),t.Uint128=u;const l=t.Uint256LE=s(32,!0);t.Uint256BE=s(32),t.Uint256=l;const p=t.Uint512LE=s(64,!0);t.Uint512BE=s(64),t.Uint512=p})(zo);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=zo;Object.keys(e).forEach(function(r){r==="default"||r==="__esModule"||r in t&&t[r]===e[r]||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})})(r0);var c1={},u1={};Object.defineProperty(u1,"__esModule",{value:!0});u1.byteArrayOf=vT;u1.byteOf=fz;u1.byteVecOf=cz;var y9=Ia,oz=Ca,yT=Go,v9=r0;function vT(t){const e=t.byteLength;return(0,yT.createFixedBytesCodec)({byteLength:e,pack:r=>t.pack(r),unpack:r=>t.unpack(r)})}function fz(t){return vT({...t,byteLength:1})}function cz(t){return(0,yT.createBytesCodec)({pack(e){const r=t.pack(e),n=v9.Uint32LE.pack(r.byteLength);return(0,oz.concat)(n,r)},unpack(e){(0,y9.assertMinBufferLength)(e,4);const r=v9.Uint32LE.unpack(e.slice(0,4));return(0,y9.assertBufferLength)(e.slice(4),r),t.unpack(e.slice(4))}})}var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.array=_T;Ys.dynvec=wT;Ys.fixvec=mT;Ys.option=pz;Ys.struct=uz;Ys.table=dz;Ys.union=hz;Ys.vector=lz;var yc=Go,Si=r0,ts=Ca,_9=ya,n0=z4;function _T(t,e){const r=(0,n0.createArrayCodec)(t);return(0,yc.createFixedBytesCodec)({byteLength:t.byteLength*e,pack(n){const i=r.pack(n);return(0,ts.concat)(...i)},unpack(n){const i=[],a=t.byteLength;for(let s=0;s<n.byteLength;s+=a)i.push(t.unpack(n.slice(s,s+a)));return i}})}function m9(t,e){return t.filter(r=>!e.includes(r))}function F4(t,e){const r=Object.keys(t),n=m9(r,e),i=m9(e,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function uz(t,e){F4(t,e);const r=(0,n0.createObjectCodec)(t);return(0,yc.createFixedBytesCodec)({byteLength:e.reduce((n,i)=>n+t[i].byteLength,0),pack(n){const i=r.pack(n);return e.reduce((a,s)=>(0,ts.concat)(a,i[s]),Uint8Array.from([]))},unpack(n){const i={};let a=0;return e.forEach(s=>{const o=t[s],f=n.slice(a,a+o.byteLength);Object.assign(i,{[s]:o.unpack(f)}),a=a+o.byteLength}),i}})}function mT(t){return(0,yc.createBytesCodec)({pack(e){const r=(0,n0.createArrayCodec)(t);return(0,ts.concat)(Si.Uint32LE.pack(e.length),r.pack(e).reduce((n,i)=>(0,ts.concat)(n,i),new ArrayBuffer(0)))},unpack(e){if(e.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${e.byteLength}`);const r=Si.Uint32LE.unpack(e.slice(0,4));return _T(t,r).unpack(e.slice(4))}})}function wT(t){return(0,yc.createBytesCodec)({pack(e){const n=(0,n0.createArrayCodec)(t).pack(e).reduce((a,s)=>{const o=Si.Uint32LE.pack(a.offset);return{header:(0,ts.concat)(a.header,o),body:(0,ts.concat)(a.body,s),offset:a.offset+s.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+e.length*4}),i=Si.Uint32LE.pack(n.header.byteLength+n.body.byteLength+4);return(0,ts.concat)(i,n.header,n.body)},unpack(e){const r=Si.Uint32LE.unpack(e.slice(0,4));if(r!==e.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${e.byteLength}`);const n=[];if(r<=4)return n;{const a=(Si.Uint32LE.unpack(e.slice(4,8))-4)/4,s=new Array(a).fill(1).map((f,c)=>Si.Uint32LE.unpack(e.slice(4+c*4,8+c*4)));s.push(r);const o=[];for(let f=0;f<s.length-1;f++){const c=s[f],u=s[f+1],l=e.slice(c,u);o.push(t.unpack(l))}return o}}})}function lz(t){return(0,yc.isFixedCodec)(t)?mT(t):wT(t)}function dz(t,e){return F4(t,e),(0,yc.createBytesCodec)({pack(r){const n=4+e.length*4,a=(0,n0.createObjectCodec)(t).pack(r),s=e.reduce((f,c)=>{const u=a[c],l=Si.Uint32LE.pack(f.offset);return{header:(0,ts.concat)(f.header,l),body:(0,ts.concat)(f.body,u),offset:f.offset+u.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),o=Si.Uint32LE.pack(s.header.byteLength+s.body.byteLength+4);return(0,ts.concat)(o,s.header,s.body)},unpack(r){const n=Si.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||e.length===0)return{};{const i=e.map((s,o)=>Si.Uint32LE.unpack(r.slice(4+o*4,8+o*4)));i.push(n);const a={};for(let s=0;s<i.length-1;s++){const o=i[s],f=i[s+1],c=e[s],u=t[c],l=r.slice(o,f);Object.assign(a,{[c]:u.unpack(l)})}return a}}})}function hz(t,e){if(F4(t,Array.isArray(e)?e:Object.keys(e)),!Array.isArray(e)){const r=Object.values(e);if(r.length!==new Set(r).size)throw new Error(`Duplicated id in union: ${r.join(", ")}`)}return(0,yc.createBytesCodec)({pack(r){const n=Object.keys(t),i=r.type,a=`Union(${n.join(" | ")})`;if(typeof i!="string")throw new _9.CodecBaseParseError("Invalid type in union, type must be a string",a);const s=Array.isArray(e)?e.indexOf(i):e[i];if(s<0)throw new _9.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,a);const o=Si.Uint32LE.pack(s),f=t[i].pack(r.value);return(0,ts.concat)(o,f)},unpack(r){const n=Si.Uint32LE.unpack(r.slice(0,4)),i=(()=>{if(Array.isArray(e))return e[n];const a=Object.entries(e).find(([,s])=>s===n);return a==null?void 0:a[0]})();if(!i)throw new Error(`Unknown union field id: ${n}, only ${e} are allowed`);return{type:i,value:t[i].unpack(r.slice(4))}}})}function pz(t){return(0,yc.createBytesCodec)({pack(e){const r=(0,n0.createNullableCodec)(t);return e!=null?r.pack(e):Uint8Array.from([])},unpack(e){if(e.byteLength!==0)return t.unpack(e)}})}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return r.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return e.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return e.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return e.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return r.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return r.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return r.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return r.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return r.vector}});var e=u1,r=Ys})(c1);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return r.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return r.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return r.isFixedCodec}}),t.number=t.molecule=void 0;var r=Go,n=z4;Object.keys(n).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(e,c)||c in t&&t[c]===n[c]||Object.defineProperty(t,c,{enumerable:!0,get:function(){return n[c]}})});var i=f(Ca);t.bytes=i;var a=f(r0);t.number=a;var s=f(c1);t.molecule=s;function o(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,l=new WeakMap;return(o=function(p){return p?l:u})(c)}function f(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var l=o(u);if(l&&l.has(c))return l.get(c);var p={__proto__:null},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in c)if(m!=="default"&&{}.hasOwnProperty.call(c,m)){var A=y?Object.getOwnPropertyDescriptor(c,m):null;A&&(A.get||A.set)?Object.defineProperty(p,m,A):p[m]=c[m]}return p.default=c,l&&l.set(c,p),p}})(st);var Ir={},Wa={},q4={},K4={},AT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(i){const a=[],s=new Array(4),o=[0,192,224,240],f=[127,63,63,63],c=[0,128,128,128];for(const u of i){const l=s,p=u.codePointAt(0),y=0-(-(p&4294967168)>>31)-(-(p&4294965248)>>31)-(-(p&4294901760)>>31),m=f[y],A=c[y];l[3]=A|p&m,l[2]=A|p>>>6&m,l[1]=A|p>>>12&m,l[0]=A|p>>>18&m;const S=3-y;l[S]|=o[y],Array.prototype.push.apply(a,l.slice(S))}return new Uint8Array(a)}t.toUtf8_1=e;function r(i){const a=[];for(const s of i){const o=s.codePointAt(0);o<128?a.push(o):o<2048?a.push(192|o>>6&31,128|o&63):o<65536?a.push(224|o>>12&15,128|o>>6&63,128|o&63):a.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}return new Uint8Array(a)}t.toUtf8_2=r;function n(i){const a=[];for(let s=0,o=i.length;s<o;++s){const f=i.charCodeAt(s);if(f<128)a.push(f);else if(f<2048)a.push(192|f>>6,128|f&63);else if(f<55296||f>=57344)a.push(224|f>>12,128|f>>6&63,128|f&63);else{let c=65536+((f&1023)<<10|i.charCodeAt(++s)&1023);a.push(240|c>>18&7,128|c>>12&63,128|c>>6&63,128|c&63)}}return new Uint8Array(a)}t.toUtf8_3=n,t.toUtf8=n,t.default=t.toUtf8})(AT);Object.defineProperty(K4,"__esModule",{value:!0});const bz=AT,tl=2654435761,rl=2246822519,Mb=3266489917,w9=668265263,A9=374761393;function gz(t,e=0){t=typeof t=="string"?bz.default(t):t;const r=t;let n=e+A9&4294967295,i=0;if(r.length>=16){const s=[e+tl+rl&4294967295,e+rl&4294967295,e+0&4294967295,e-tl&4294967295],o=t,f=o.length-16;let c=0;for(i=0;(i&4294967280)<=f;i+=4){const u=i,l=o[u+0]+(o[u+1]<<8),p=o[u+2]+(o[u+3]<<8),y=l*rl+(p*rl<<16);let m=s[c]+y&4294967295;m=m<<13|m>>>19;const A=m&65535,S=m>>>16;s[c]=A*tl+(S*tl<<16)&4294967295,c=c+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+t.length&4294967295;let a=t.length-4;for(;i<=a;i+=4){const s=i,o=r[s+0]+(r[s+1]<<8),f=r[s+2]+(r[s+3]<<8),c=o*Mb+(f*Mb<<16);n=n+c&4294967295,n=n<<17|n>>>15,n=(n&65535)*w9+((n>>>16)*w9<<16)&4294967295}for(;i<r.length;++i){const s=r[i];n=n+s*A9,n=n<<11|n>>>21,n=(n&65535)*tl+((n>>>16)*tl<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*rl&4294967295)+((n>>>16)*rl<<16),n=n^n>>>13,n=((n&65535)*Mb&4294967295)+((n>>>16)*Mb<<16),n=n^n>>>16,n<0?n+4294967296:n}K4.xxHash32=gz;(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(K4)})(q4);var St={},Vn={exports:{}},ET=ST;class xT extends Error{}xT.prototype.name="AssertionError";function ST(t,e){if(!t){var r=new xT(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,ST),r}}var Vs={exports:{}},j3={exports:{}};function IT(t){return t.length}function yz(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}function vz(t,e,r=0,n=IT(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++)t[r+a]=e.charCodeAt(a);return i}var _z={byteLength:IT,toString:yz,write:vz};const Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qc=new Uint8Array(256);for(let t=0;t<Sl.length;t++)Qc[Sl.charCodeAt(t)]=t;Qc[45]=62;Qc[95]=63;function CT(t){let e=t.length;return t.charCodeAt(e-1)===61&&e--,e>1&&t.charCodeAt(e-1)===61&&e--,e*3>>>2}function mz(t){const e=t.byteLength;let r="";for(let n=0;n<e;n+=3)r+=Sl[t[n]>>2]+Sl[(t[n]&3)<<4|t[n+1]>>4]+Sl[(t[n+1]&15)<<2|t[n+2]>>6]+Sl[t[n+2]&63];return e%3===2?r=r.substring(0,r.length-1)+"=":e%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function wz(t,e,r=0,n=CT(e)){const i=Math.min(n,t.byteLength-r);for(let a=0,s=0;s<i;a+=4){const o=Qc[e.charCodeAt(a)],f=Qc[e.charCodeAt(a+1)],c=Qc[e.charCodeAt(a+2)],u=Qc[e.charCodeAt(a+3)];t[s++]=o<<2|f>>4,t[s++]=(f&15)<<4|c>>2,t[s++]=(c&3)<<6|u&63}return i}var Az={byteLength:CT,toString:mz,write:wz};function TT(t){return t.length>>>1}function Ez(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let i=e-e%4;n<i;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r}function xz(t,e,r=0,n=TT(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++){const s=E9(e.charCodeAt(a*2)),o=E9(e.charCodeAt(a*2+1));if(s===void 0||o===void 0)return t.subarray(0,a);t[r+a]=s<<4|o}return i}var Sz={byteLength:TT,toString:Ez,write:xz};function E9(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10}function $3(t){let e=0;for(let r=0,n=t.length;r<n;r++){const i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const a=t.charCodeAt(r+1);if(a>=56320&&a<=57343){e+=4,r++;continue}}i<=127?e+=1:i<=2047?e+=2:e+=3}return e}let F3;if(typeof TextDecoder<"u"){const t=new TextDecoder;F3=function(r){return t.decode(r)}}else F3=function(e){const r=e.byteLength;let n="",i=0;for(;i<r;){let a=e[i];if(a<=127){n+=String.fromCharCode(a),i++;continue}let s=0,o=0;if(a<=223?(s=1,o=a&31):a<=239?(s=2,o=a&15):a<=244&&(s=3,o=a&7),r-i-s>0){let f=0;for(;f<s;)a=e[i+f+1],o=o<<6|a&63,f+=1}else o=65533,s=r-i;n+=String.fromCodePoint(o),i+=s+1}return n};let q3;if(typeof TextEncoder<"u"){const t=new TextEncoder;q3=function(r,n,i=0,a=$3(n)){const s=Math.min(a,r.byteLength-i);return t.encodeInto(n,r.subarray(i,i+s)),s}}else q3=function(e,r,n=0,i=$3(r)){const a=Math.min(i,e.byteLength-n);e=e.subarray(n,n+a);let s=0,o=0;for(;s<r.length;){const f=r.codePointAt(s);if(f<=127){e[o++]=f,s++;continue}let c=0,u=0;for(f<=2047?(c=6,u=192):f<=65535?(c=12,u=224):f<=2097151&&(c=18,u=240),e[o++]=u|f>>c,c-=6;c>=0;)e[o++]=128|f>>c&63,c-=6;s+=f>=65536?2:1}return a};var Iz={byteLength:$3,toString:F3,write:q3};function OT(t){return t.length*2}function Cz(t){const e=t.byteLength;let r="";for(let n=0;n<e-1;n+=2)r+=String.fromCharCode(t[n]+t[n+1]*256);return r}function Tz(t,e,r=0,n=OT(e)){const i=Math.min(n,t.byteLength-r);let a=i;for(let s=0;s<e.length&&!((a-=2)<0);++s){const o=e.charCodeAt(s),f=o>>8,c=o%256;t[r+s*2]=c,t[r+s*2+1]=f}return i}var Oz={byteLength:OT,toString:Cz,write:Tz};(function(t,e){const r=_z,n=Az,i=Sz,a=Iz,s=Oz,o=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function f(V){switch(V){case"ascii":return r;case"base64":return n;case"hex":return i;case"utf8":case"utf-8":case void 0:case null:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${V}`)}}function c(V){return V instanceof Uint8Array}function u(V){try{return f(V),!0}catch{return!1}}function l(V,J,ie){const ce=new Uint8Array(V);return J!==void 0&&e.fill(ce,J,0,ce.byteLength,ie),ce}function p(V){return new Uint8Array(V)}function y(V){return new Uint8Array(V)}function m(V,J){return f(J).byteLength(V)}function A(V,J){if(V===J)return 0;const ie=Math.min(V.byteLength,J.byteLength);V=new DataView(V.buffer,V.byteOffset,V.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let ce=0;for(let ye=ie-ie%4;ce<ye;ce+=4){const ge=V.getUint32(ce,o),Se=J.getUint32(ce,o);if(ge!==Se)break}for(;ce<ie;ce++){const ye=V.getUint8(ce),ge=J.getUint8(ce);if(ye<ge)return-1;if(ye>ge)return 1}return V.byteLength>J.byteLength?1:V.byteLength<J.byteLength?-1:0}function S(V,J){J===void 0&&(J=V.reduce((ye,ge)=>ye+ge.byteLength,0));const ie=new Uint8Array(J);let ce=0;for(const ye of V){if(ce+ye.byteLength>ie.byteLength){const ge=ye.subarray(0,ie.byteLength-ce);return ie.set(ge,ce),ie}ie.set(ye,ce),ce+=ye.byteLength}return ie}function w(V,J,ie=0,ce=0,ye=V.byteLength){if(ye>0&&ye<ce||ye===ce||V.byteLength===0||J.byteLength===0)return 0;if(ie<0)throw new RangeError("targetStart is out of range");if(ce<0||ce>=V.byteLength)throw new RangeError("sourceStart is out of range");if(ye<0)throw new RangeError("sourceEnd is out of range");ie>=J.byteLength&&(ie=J.byteLength),ye>V.byteLength&&(ye=V.byteLength),J.byteLength-ie<ye-ce&&(ye=J.length-ie+ce);const ge=ye-ce;return V===J?J.copyWithin(ie,ce,ye):J.set(V.subarray(ce,ye),ie),ge}function C(V,J){if(V===J)return!0;if(V.byteLength!==J.byteLength)return!1;const ie=V.byteLength;V=new DataView(V.buffer,V.byteOffset,V.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let ce=0;for(let ye=ie-ie%4;ce<ye;ce+=4)if(V.getUint32(ce,o)!==J.getUint32(ce,o))return!1;for(;ce<ie;ce++)if(V.getUint8(ce)!==J.getUint8(ce))return!1;return!0}function O(V,J,ie,ce,ye){if(typeof J=="string"?typeof ie=="string"?(ye=ie,ie=0,ce=V.byteLength):typeof ce=="string"&&(ye=ce,ce=V.byteLength):typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=+J),ie<0||V.byteLength<ie||V.byteLength<ce)throw new RangeError("Out of range index");if(ie===void 0&&(ie=0),ce===void 0&&(ce=V.byteLength),ce<=ie)return V;if(J||(J=0),typeof J=="number")for(let ge=ie;ge<ce;++ge)V[ge]=J;else{J=c(J)?J:M(J,ye);const ge=J.byteLength;for(let Se=0;Se<ce-ie;++Se)V[Se+ie]=J[Se%ge]}return V}function M(V,J,ie){return typeof V=="string"?U(V,J):Array.isArray(V)?K(V):ArrayBuffer.isView(V)?Q(V):k(V,J,ie)}function U(V,J){const ie=f(J),ce=new Uint8Array(ie.byteLength(V));return ie.write(ce,V,0,ce.byteLength),ce}function K(V){const J=new Uint8Array(V.length);return J.set(V),J}function Q(V){const J=new Uint8Array(V.byteLength);return J.set(V),J}function k(V,J,ie){return new Uint8Array(V,J,ie)}function G(V,J,ie,ce){return R(V,J,ie,ce)!==-1}function W(V,J,ie,ce,ye){if(V.byteLength===0)return-1;if(typeof ie=="string"?(ce=ie,ie=0):ie===void 0?ie=ye?0:V.length-1:ie<0&&(ie+=V.byteLength),ie>=V.byteLength){if(ye)return-1;ie=V.byteLength-1}else if(ie<0)if(ye)ie=0;else return-1;if(typeof J=="string")J=M(J,ce);else if(typeof J=="number")return J=J&255,ye?V.indexOf(J,ie):V.lastIndexOf(J,ie);if(J.byteLength===0)return-1;if(ye){let ge=-1;for(let Se=ie;Se<V.byteLength;Se++)if(V[Se]===J[ge===-1?0:Se-ge]){if(ge===-1&&(ge=Se),Se-ge+1===J.byteLength)return ge}else ge!==-1&&(Se-=Se-ge),ge=-1}else{ie+J.byteLength>V.byteLength&&(ie=V.byteLength-J.byteLength);for(let ge=ie;ge>=0;ge--){let Se=!0;for(let kt=0;kt<J.byteLength;kt++)if(V[ge+kt]!==J[kt]){Se=!1;break}if(Se)return ge}}return-1}function R(V,J,ie,ce){return W(V,J,ie,ce,!0)}function _(V,J,ie,ce){return W(V,J,ie,ce,!1)}function I(V,J,ie){const ce=V[J];V[J]=V[ie],V[ie]=ce}function b(V){const J=V.byteLength;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ie=0;ie<J;ie+=2)I(V,ie,ie+1);return V}function v(V){const J=V.byteLength;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ie=0;ie<J;ie+=4)I(V,ie,ie+3),I(V,ie+1,ie+2);return V}function d(V){const J=V.byteLength;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ie=0;ie<J;ie+=8)I(V,ie,ie+7),I(V,ie+1,ie+6),I(V,ie+2,ie+5),I(V,ie+3,ie+4);return V}function g(V){return V}function x(V,J,ie=0,ce=V.byteLength){const ye=V.byteLength;return ie>=ye||ce<=ie?"":(ie<0&&(ie=0),ce>ye&&(ce=ye),(ie!==0||ce<ye)&&(V=V.subarray(ie,ce)),f(J).toString(V))}function E(V,J,ie,ce,ye){return ie===void 0?ye="utf8":ce===void 0&&typeof ie=="string"?(ye=ie,ie=void 0):ye===void 0&&typeof ce=="string"&&(ye=ce,ce=void 0),f(ye).write(V,J,ie,ce)}function h(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat64(ie,J,!0),ie+8}function T(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat32(ie,J,!0),ie+4}function j(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setUint32(ie,J,!0),ie+4}function L(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setInt32(ie,J,!0),ie+4}function $(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat64(J,!0)}function F(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat32(J,!0)}function H(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getUint32(J,!0)}function q(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getInt32(J,!0)}function X(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat64(ie,J,!1),ie+8}function te(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat32(ie,J,!1),ie+4}function ne(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setUint32(ie,J,!1),ie+4}function N(V,J,ie){return ie===void 0&&(ie=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setInt32(ie,J,!1),ie+4}function P(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat64(J,!1)}function re(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat32(J,!1)}function ue(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getUint32(J,!1)}function de(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getInt32(J,!1)}t.exports=e={isBuffer:c,isEncoding:u,alloc:l,allocUnsafe:p,allocUnsafeSlow:y,byteLength:m,compare:A,concat:S,copy:w,equals:C,fill:O,from:M,includes:G,indexOf:R,lastIndexOf:_,swap16:b,swap32:v,swap64:d,toBuffer:g,toString:x,write:E,writeDoubleLE:h,writeFloatLE:T,writeUInt32LE:j,writeInt32LE:L,readDoubleLE:$,readFloatLE:F,readUInt32LE:H,readInt32LE:q,writeDoubleBE:X,writeFloatBE:te,writeUInt32BE:ne,writeInt32BE:N,readDoubleBE:P,readFloatBE:re,readUInt32BE:ue,readInt32BE:de}})(j3,j3.exports);var Bz=j3.exports,x_,x9;function Dz(){if(x9)return x_;x9=1;var t=(a,s)=>function(){return s||(0,a[Object.keys(a)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var a=new Uint8Array(128),s=0;s<64;s++)a[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return o=>{for(var f=o.length,c=new Uint8Array((f-(o[f-1]=="=")-(o[f-2]=="="))*3/4|0),u=0,l=0;u<f;){var p=a[o.charCodeAt(u++)],y=a[o.charCodeAt(u++)],m=a[o.charCodeAt(u++)],A=a[o.charCodeAt(u++)];c[l++]=p<<2|y>>4,c[l++]=y<<4|m>>2,c[l++]=m<<6|A}return c}})(),r=t({"wasm-binary:./blake2b.wat"(a,s){s.exports=e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),n=r(),i=WebAssembly.compile(n);return x_=async a=>(await WebAssembly.instantiate(await i,a)).exports,x_}var Ai=ET,Mz=Bz,Do=null,S9=typeof WebAssembly<"u"&&Dz()().then(t=>{Do=t}),bo=64,pg=[];Vs.exports=Gn;var I9=Vs.exports.BYTES_MIN=16,C9=Vs.exports.BYTES_MAX=64;Vs.exports.BYTES=32;var T9=Vs.exports.KEYBYTES_MIN=16,O9=Vs.exports.KEYBYTES_MAX=64;Vs.exports.KEYBYTES=32;var B9=Vs.exports.SALTBYTES=16,D9=Vs.exports.PERSONALBYTES=16;function Gn(t,e,r,n,i){if(!(this instanceof Gn))return new Gn(t,e,r,n,i);if(!Do)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(Ai(t>=I9,"digestLength must be at least "+I9+", was given "+t),Ai(t<=C9,"digestLength must be at most "+C9+", was given "+t),e!=null&&(Ai(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),Ai(e.length>=T9,"key must be at least "+T9+", was given "+e.length),Ai(e.length<=O9,"key must be at least "+O9+", was given "+e.length)),r!=null&&(Ai(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Ai(r.length===B9,"salt must be exactly "+B9+", was given "+r.length)),n!=null&&(Ai(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Ai(n.length===D9,"personal must be exactly "+D9+", was given "+n.length))),pg.length||(pg.push(bo),bo+=216),this.digestLength=t,this.finalized=!1,this.pointer=pg.pop(),this._memory=new Uint8Array(Do.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),Do.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,bo,bo+e.length),this._memory[this.pointer+200]=128)}Gn.prototype._realloc=function(t){Do.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(Do.memory.buffer)};Gn.prototype.update=function(t){return Ai(this.finalized===!1,"Hash instance finalized"),Ai(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),bo+t.length>this._memory.length&&this._realloc(bo+t.length),this._memory.set(t,bo),Do.blake2b_update(this.pointer,bo,bo+t.length),this};Gn.prototype.digest=function(t){if(Ai(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,pg.push(this.pointer),Do.blake2b_final(this.pointer),!t||t==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof t=="string")return Mz.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);Ai(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t};Gn.prototype.final=Gn.prototype.digest;Gn.WASM=Do;Gn.SUPPORTED=typeof WebAssembly<"u";Gn.ready=function(t){return t||(t=Rz),S9?S9.then(()=>t(),t):t(new Error("WebAssembly not supported"))};Gn.prototype.ready=Gn.ready;Gn.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Gn.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};function Rz(){}var Lz=Vs.exports,Xi=ET,Ip=Lz;function Rb(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function M9(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var a=t[e+1]+n;i>=4294967296&&a++,t[e]=i,t[e+1]=a}function BT(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ff(t,e,r,n,i,a){var s=xh[i],o=xh[i+1],f=xh[a],c=xh[a+1];Rb(Ue,t,e),M9(Ue,t,s,o);var u=Ue[n]^Ue[t],l=Ue[n+1]^Ue[t+1];Ue[n]=l,Ue[n+1]=u,Rb(Ue,r,n),u=Ue[e]^Ue[r],l=Ue[e+1]^Ue[r+1],Ue[e]=u>>>24^l<<8,Ue[e+1]=l>>>24^u<<8,Rb(Ue,t,e),M9(Ue,t,f,c),u=Ue[n]^Ue[t],l=Ue[n+1]^Ue[t+1],Ue[n]=u>>>16^l<<16,Ue[n+1]=l>>>16^u<<16,Rb(Ue,r,n),u=Ue[e]^Ue[r],l=Ue[e+1]^Ue[r+1],Ue[e]=l>>>31^u<<1,Ue[e+1]=u>>>31^l<<1}var DT=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Hz=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],un=new Uint8Array(Hz.map(function(t){return t*2})),Ue=new Uint32Array(32),xh=new Uint32Array(32);function MT(t,e){var r=0;for(r=0;r<16;r++)Ue[r]=t.h[r],Ue[r+16]=DT[r];for(Ue[24]=Ue[24]^t.t,Ue[25]=Ue[25]^t.t/4294967296,e&&(Ue[28]=~Ue[28],Ue[29]=~Ue[29]),r=0;r<32;r++)xh[r]=BT(t.b,4*r);for(r=0;r<12;r++)ff(0,8,16,24,un[r*16+0],un[r*16+1]),ff(2,10,18,26,un[r*16+2],un[r*16+3]),ff(4,12,20,28,un[r*16+4],un[r*16+5]),ff(6,14,22,30,un[r*16+6],un[r*16+7]),ff(0,10,20,30,un[r*16+8],un[r*16+9]),ff(2,12,22,24,un[r*16+10],un[r*16+11]),ff(4,14,16,26,un[r*16+12],un[r*16+13]),ff(6,8,18,28,un[r*16+14],un[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Ue[r]^Ue[r+16]}var cf=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function vd(t,e,r,n){cf.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,cf[0]=t,e&&(cf[1]=e.length),cf[2]=1,cf[3]=1,r&&cf.set(r,32),n&&cf.set(n,48);for(var i=0;i<16;i++)this.h[i]=DT[i]^BT(cf,i*4);e&&(RT(this,e),this.c=128)}vd.prototype.update=function(t){return Xi(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),RT(this,t),this};vd.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return Xi(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),Xi(e.length>=this.outlen,"out must have at least outlen bytes of space"),Pz(this,e),t==="hex"?Nz(e):e};vd.prototype.final=vd.prototype.digest;vd.ready=function(t){Ip.ready(function(){t()})};function RT(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,MT(t,!1),t.c=0),t.b[t.c++]=e[r]}function Pz(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;MT(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Nz(t){for(var e="",r=0;r<t.length;r++)e+=Uz(t[r]);return e}function Uz(t){return t<16?"0"+t.toString(16):t.toString(16)}var kz=vd;Vn.exports=function(e,r,n,i,a){return a!==!0&&(Xi(e>=R9,"outlen must be at least "+R9+", was given "+e),Xi(e<=L9,"outlen must be at most "+L9+", was given "+e),r!=null&&(Xi(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),Xi(r.length>=H9,"key must be at least "+H9+", was given "+r.length),Xi(r.length<=P9,"key must be at most "+P9+", was given "+r.length)),n!=null&&(Xi(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Xi(n.length===N9,"salt must be exactly "+N9+", was given "+n.length)),i!=null&&(Xi(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Xi(i.length===U9,"personal must be exactly "+U9+", was given "+i.length))),new kz(e,r,n,i)};Vn.exports.ready=function(t){Ip.ready(function(){t()})};Vn.exports.WASM_SUPPORTED=Ip.SUPPORTED;Vn.exports.WASM_LOADED=!1;var R9=Vn.exports.BYTES_MIN=16,L9=Vn.exports.BYTES_MAX=64;Vn.exports.BYTES=32;var H9=Vn.exports.KEYBYTES_MIN=16,P9=Vn.exports.KEYBYTES_MAX=64;Vn.exports.KEYBYTES=32;var N9=Vn.exports.SALTBYTES=16,U9=Vn.exports.PERSONALBYTES=16;Ip.ready(function(t){t||(Vn.exports.WASM_LOADED=!0,Vn.exports=Ip)});var zz=Vn.exports,ey={exports:{}};ey.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,o="[object Arguments]",f="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",l="[object Date]",p="[object Error]",y="[object Function]",m="[object GeneratorFunction]",A="[object Map]",S="[object Number]",w="[object Null]",C="[object Object]",O="[object Promise]",M="[object Proxy]",U="[object RegExp]",K="[object Set]",Q="[object String]",k="[object Symbol]",G="[object Undefined]",W="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",I="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",d="[object Int16Array]",g="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",h="[object Uint16Array]",T="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,F={};F[I]=F[b]=F[v]=F[d]=F[g]=F[x]=F[E]=F[h]=F[T]=!0,F[o]=F[f]=F[R]=F[u]=F[_]=F[l]=F[p]=F[y]=F[A]=F[S]=F[C]=F[U]=F[K]=F[Q]=F[W]=!1;var H=typeof Fn=="object"&&Fn&&Fn.Object===Object&&Fn,q=typeof self=="object"&&self&&self.Object===Object&&self,X=H||q||Function("return this")(),te=e&&!e.nodeType&&e,ne=te&&!0&&t&&!t.nodeType&&t,N=ne&&ne.exports===te,P=N&&H.process,re=function(){try{return P&&P.binding&&P.binding("util")}catch{}}(),ue=re&&re.isTypedArray;function de(Z,oe){for(var be=-1,Ce=Z==null?0:Z.length,It=0,ze=[];++be<Ce;){var ir=Z[be];oe(ir,be,Z)&&(ze[It++]=ir)}return ze}function V(Z,oe){for(var be=-1,Ce=oe.length,It=Z.length;++be<Ce;)Z[It+be]=oe[be];return Z}function J(Z,oe){for(var be=-1,Ce=Z==null?0:Z.length;++be<Ce;)if(oe(Z[be],be,Z))return!0;return!1}function ie(Z,oe){for(var be=-1,Ce=Array(Z);++be<Z;)Ce[be]=oe(be);return Ce}function ce(Z){return function(oe){return Z(oe)}}function ye(Z,oe){return Z.has(oe)}function ge(Z,oe){return Z==null?void 0:Z[oe]}function Se(Z){var oe=-1,be=Array(Z.size);return Z.forEach(function(Ce,It){be[++oe]=[It,Ce]}),be}function kt(Z,oe){return function(be){return Z(oe(be))}}function He(Z){var oe=-1,be=Array(Z.size);return Z.forEach(function(Ce){be[++oe]=Ce}),be}var Fe=Array.prototype,fn=Function.prototype,z=Object.prototype,B=X["__core-js_shared__"],D=fn.toString,Y=z.hasOwnProperty,ae=function(){var Z=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),fe=z.toString,le=RegExp("^"+D.call(Y).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=N?X.Buffer:void 0,nt=X.Symbol,Re=X.Uint8Array,Le=z.propertyIsEnumerable,Ze=Fe.splice,ot=nt?nt.toStringTag:void 0,zt=Object.getOwnPropertySymbols,ab=Oe?Oe.isBuffer:void 0,Wt=kt(Object.keys,Object),Rt=Zu(X,"DataView"),tf=Zu(X,"Map"),Lt=Zu(X,"Promise"),Ht=Zu(X,"Set"),Xu=Zu(X,"WeakMap"),yt=Zu(Object,"create"),Xt=Oc(Rt),sb=Oc(tf),Zt=Oc(Lt),Jt=Oc(Ht),ob=Oc(Xu),jt=nt?nt.prototype:void 0,Pt=jt?jt.valueOf:void 0;function ps(Z){var oe=-1,be=Z==null?0:Z.length;for(this.clear();++oe<be;){var Ce=Z[oe];this.set(Ce[0],Ce[1])}}function er(){this.__data__=yt?yt(null):{},this.size=0}function tr(Z){var oe=this.has(Z)&&delete this.__data__[Z];return this.size-=oe?1:0,oe}function fb(Z){var oe=this.__data__;if(yt){var be=oe[Z];return be===n?void 0:be}return Y.call(oe,Z)?oe[Z]:void 0}function rr(Z){var oe=this.__data__;return yt?oe[Z]!==void 0:Y.call(oe,Z)}function nr(Z,oe){var be=this.__data__;return this.size+=this.has(Z)?0:1,be[Z]=yt&&oe===void 0?n:oe,this}ps.prototype.clear=er,ps.prototype.delete=tr,ps.prototype.get=fb,ps.prototype.has=rr,ps.prototype.set=nr;function bi(Z){var oe=-1,be=Z==null?0:Z.length;for(this.clear();++oe<be;){var Ce=Z[oe];this.set(Ce[0],Ce[1])}}function D0(){this.__data__=[],this.size=0}function M0(Z){var oe=this.__data__,be=cb(oe,Z);if(be<0)return!1;var Ce=oe.length-1;return be==Ce?oe.pop():Ze.call(oe,be,1),--this.size,!0}function R0(Z){var oe=this.__data__,be=cb(oe,Z);return be<0?void 0:oe[be][1]}function L0(Z){return cb(this.__data__,Z)>-1}function H0(Z,oe){var be=this.__data__,Ce=cb(be,Z);return Ce<0?(++this.size,be.push([Z,oe])):be[Ce][1]=oe,this}bi.prototype.clear=D0,bi.prototype.delete=M0,bi.prototype.get=R0,bi.prototype.has=L0,bi.prototype.set=H0;function Pa(Z){var oe=-1,be=Z==null?0:Z.length;for(this.clear();++oe<be;){var Ce=Z[oe];this.set(Ce[0],Ce[1])}}function P0(){this.size=0,this.__data__={hash:new ps,map:new(tf||bi),string:new ps}}function N0(Z){var oe=ub(this,Z).delete(Z);return this.size-=oe?1:0,oe}function U0(Z){return ub(this,Z).get(Z)}function k0(Z){return ub(this,Z).has(Z)}function z0(Z,oe){var be=ub(this,Z),Ce=be.size;return be.set(Z,oe),this.size+=be.size==Ce?0:1,this}Pa.prototype.clear=P0,Pa.prototype.delete=N0,Pa.prototype.get=U0,Pa.prototype.has=k0,Pa.prototype.set=z0;function rf(Z){var oe=-1,be=Z==null?0:Z.length;for(this.__data__=new Pa;++oe<be;)this.add(Z[oe])}function j0(Z){return this.__data__.set(Z,n),this}function $0(Z){return this.__data__.has(Z)}rf.prototype.add=rf.prototype.push=j0,rf.prototype.has=$0;function Fi(Z){var oe=this.__data__=new bi(Z);this.size=oe.size}function F0(){this.__data__=new bi,this.size=0}function q0(Z){var oe=this.__data__,be=oe.delete(Z);return this.size=oe.size,be}function K0(Z){return this.__data__.get(Z)}function mH(Z){return this.__data__.has(Z)}function wH(Z,oe){var be=this.__data__;if(be instanceof bi){var Ce=be.__data__;if(!tf||Ce.length<r-1)return Ce.push([Z,oe]),this.size=++be.size,this;be=this.__data__=new Pa(Ce)}return be.set(Z,oe),this.size=be.size,this}Fi.prototype.clear=F0,Fi.prototype.delete=q0,Fi.prototype.get=K0,Fi.prototype.has=mH,Fi.prototype.set=wH;function AH(Z,oe){var be=lb(Z),Ce=!be&&NH(Z),It=!be&&!Ce&&kv(Z),ze=!be&&!Ce&&!It&&Ow(Z),ir=be||Ce||It||ze,Tr=ir?ie(Z.length,String):[],Yr=Tr.length;for(var $t in Z)Y.call(Z,$t)&&!(ir&&($t=="length"||It&&($t=="offset"||$t=="parent")||ze&&($t=="buffer"||$t=="byteLength"||$t=="byteOffset")||MH($t,Yr)))&&Tr.push($t);return Tr}function cb(Z,oe){for(var be=Z.length;be--;)if(Sw(Z[be][0],oe))return be;return-1}function EH(Z,oe,be){var Ce=oe(Z);return lb(Z)?Ce:V(Ce,be(Z))}function Q0(Z){return Z==null?Z===void 0?G:w:ot&&ot in Object(Z)?BH(Z):PH(Z)}function ww(Z){return Y0(Z)&&Q0(Z)==o}function Aw(Z,oe,be,Ce,It){return Z===oe?!0:Z==null||oe==null||!Y0(Z)&&!Y0(oe)?Z!==Z&&oe!==oe:xH(Z,oe,be,Ce,Aw,It)}function xH(Z,oe,be,Ce,It,ze){var ir=lb(Z),Tr=lb(oe),Yr=ir?f:nf(Z),$t=Tr?f:nf(oe);Yr=Yr==o?C:Yr,$t=$t==o?C:$t;var gi=Yr==C,Na=$t==C,cn=Yr==$t;if(cn&&kv(Z)){if(!kv(oe))return!1;ir=!0,gi=!1}if(cn&&!gi)return ze||(ze=new Fi),ir||Ow(Z)?Ew(Z,oe,be,Ce,It,ze):TH(Z,oe,Yr,be,Ce,It,ze);if(!(be&i)){var qi=gi&&Y.call(Z,"__wrapped__"),Ki=Na&&Y.call(oe,"__wrapped__");if(qi||Ki){var af=qi?Z.value():Z,Js=Ki?oe.value():oe;return ze||(ze=new Fi),It(af,Js,be,Ce,ze)}}return cn?(ze||(ze=new Fi),OH(Z,oe,be,Ce,It,ze)):!1}function SH(Z){if(!Tw(Z)||LH(Z))return!1;var oe=Iw(Z)?le:L;return oe.test(Oc(Z))}function IH(Z){return Y0(Z)&&Cw(Z.length)&&!!F[Q0(Z)]}function CH(Z){if(!HH(Z))return Wt(Z);var oe=[];for(var be in Object(Z))Y.call(Z,be)&&be!="constructor"&&oe.push(be);return oe}function Ew(Z,oe,be,Ce,It,ze){var ir=be&i,Tr=Z.length,Yr=oe.length;if(Tr!=Yr&&!(ir&&Yr>Tr))return!1;var $t=ze.get(Z);if($t&&ze.get(oe))return $t==oe;var gi=-1,Na=!0,cn=be&a?new rf:void 0;for(ze.set(Z,oe),ze.set(oe,Z);++gi<Tr;){var qi=Z[gi],Ki=oe[gi];if(Ce)var af=ir?Ce(Ki,qi,gi,oe,Z,ze):Ce(qi,Ki,gi,Z,oe,ze);if(af!==void 0){if(af)continue;Na=!1;break}if(cn){if(!J(oe,function(Js,Bc){if(!ye(cn,Bc)&&(qi===Js||It(qi,Js,be,Ce,ze)))return cn.push(Bc)})){Na=!1;break}}else if(!(qi===Ki||It(qi,Ki,be,Ce,ze))){Na=!1;break}}return ze.delete(Z),ze.delete(oe),Na}function TH(Z,oe,be,Ce,It,ze,ir){switch(be){case _:if(Z.byteLength!=oe.byteLength||Z.byteOffset!=oe.byteOffset)return!1;Z=Z.buffer,oe=oe.buffer;case R:return!(Z.byteLength!=oe.byteLength||!ze(new Re(Z),new Re(oe)));case u:case l:case S:return Sw(+Z,+oe);case p:return Z.name==oe.name&&Z.message==oe.message;case U:case Q:return Z==oe+"";case A:var Tr=Se;case K:var Yr=Ce&i;if(Tr||(Tr=He),Z.size!=oe.size&&!Yr)return!1;var $t=ir.get(Z);if($t)return $t==oe;Ce|=a,ir.set(Z,oe);var gi=Ew(Tr(Z),Tr(oe),Ce,It,ze,ir);return ir.delete(Z),gi;case k:if(Pt)return Pt.call(Z)==Pt.call(oe)}return!1}function OH(Z,oe,be,Ce,It,ze){var ir=be&i,Tr=xw(Z),Yr=Tr.length,$t=xw(oe),gi=$t.length;if(Yr!=gi&&!ir)return!1;for(var Na=Yr;Na--;){var cn=Tr[Na];if(!(ir?cn in oe:Y.call(oe,cn)))return!1}var qi=ze.get(Z);if(qi&&ze.get(oe))return qi==oe;var Ki=!0;ze.set(Z,oe),ze.set(oe,Z);for(var af=ir;++Na<Yr;){cn=Tr[Na];var Js=Z[cn],Bc=oe[cn];if(Ce)var Bw=ir?Ce(Bc,Js,cn,oe,Z,ze):Ce(Js,Bc,cn,Z,oe,ze);if(!(Bw===void 0?Js===Bc||It(Js,Bc,be,Ce,ze):Bw)){Ki=!1;break}af||(af=cn=="constructor")}if(Ki&&!af){var db=Z.constructor,hb=oe.constructor;db!=hb&&"constructor"in Z&&"constructor"in oe&&!(typeof db=="function"&&db instanceof db&&typeof hb=="function"&&hb instanceof hb)&&(Ki=!1)}return ze.delete(Z),ze.delete(oe),Ki}function xw(Z){return EH(Z,zH,DH)}function ub(Z,oe){var be=Z.__data__;return RH(oe)?be[typeof oe=="string"?"string":"hash"]:be.map}function Zu(Z,oe){var be=ge(Z,oe);return SH(be)?be:void 0}function BH(Z){var oe=Y.call(Z,ot),be=Z[ot];try{Z[ot]=void 0;var Ce=!0}catch{}var It=fe.call(Z);return Ce&&(oe?Z[ot]=be:delete Z[ot]),It}var DH=zt?function(Z){return Z==null?[]:(Z=Object(Z),de(zt(Z),function(oe){return Le.call(Z,oe)}))}:jH,nf=Q0;(Rt&&nf(new Rt(new ArrayBuffer(1)))!=_||tf&&nf(new tf)!=A||Lt&&nf(Lt.resolve())!=O||Ht&&nf(new Ht)!=K||Xu&&nf(new Xu)!=W)&&(nf=function(Z){var oe=Q0(Z),be=oe==C?Z.constructor:void 0,Ce=be?Oc(be):"";if(Ce)switch(Ce){case Xt:return _;case sb:return A;case Zt:return O;case Jt:return K;case ob:return W}return oe});function MH(Z,oe){return oe=oe??s,!!oe&&(typeof Z=="number"||$.test(Z))&&Z>-1&&Z%1==0&&Z<oe}function RH(Z){var oe=typeof Z;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Z!=="__proto__":Z===null}function LH(Z){return!!ae&&ae in Z}function HH(Z){var oe=Z&&Z.constructor,be=typeof oe=="function"&&oe.prototype||z;return Z===be}function PH(Z){return fe.call(Z)}function Oc(Z){if(Z!=null){try{return D.call(Z)}catch{}try{return Z+""}catch{}}return""}function Sw(Z,oe){return Z===oe||Z!==Z&&oe!==oe}var NH=ww(function(){return arguments}())?ww:function(Z){return Y0(Z)&&Y.call(Z,"callee")&&!Le.call(Z,"callee")},lb=Array.isArray;function UH(Z){return Z!=null&&Cw(Z.length)&&!Iw(Z)}var kv=ab||$H;function kH(Z,oe){return Aw(Z,oe)}function Iw(Z){if(!Tw(Z))return!1;var oe=Q0(Z);return oe==y||oe==m||oe==c||oe==M}function Cw(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=s}function Tw(Z){var oe=typeof Z;return Z!=null&&(oe=="object"||oe=="function")}function Y0(Z){return Z!=null&&typeof Z=="object"}var Ow=ue?ce(ue):IH;function zH(Z){return UH(Z)?AH(Z):CH(Z)}function jH(){return[]}function $H(){return!1}t.exports=kH})(ey,ey.exports);var jz=ey.exports,Ee={},Q4,Y4;Object.defineProperty(Ee,"__esModule",{value:!0});var ty=Ee.WitnessArgs=Ee.UncleBlockVec=Ee.UncleBlock=Ee.TransactionVec=Y4=Ee.Transaction=Ee.ScriptOpt=Ee.Script=Ee.RawTransaction=Ee.RawHeader=Ee.ProposalShortIdVec=Ee.ProposalShortId=Q4=Ee.OutPoint=Ee.Header=Ee.HashType=Ee.DepType=Ee.CellbaseWitness=Ee.CellOutputVec=Ee.CellOutput=Ee.CellInputVec=Ee.CellInput=Ee.CellDepVec=Ee.CellDep=Ee.BytesVec=Ee.BytesOptVec=Ee.BytesOpt=Ee.Bytes=Ee.Byte32Vec=Ee.Byte32=Ee.BlockV1=Ee.Block=Ee.BaseHeader=void 0;Ee.WitnessArgsOf=HT;Ee.createFixedHexBytesCodec=W4;Ee.deTransformHeaderCodecType=$T;Ee.deTransformTransactionCodecType=zT;Ee.transformHeaderCodecType=jT;Ee.transformTransactionCodecType=kT;var Hr=st,$z=wt;function a2(t){return{...t,unpack:e=>$z.BI.from(t.unpack(e)).toHexString()}}const k9=a2(Hr.number.Uint8),ry=a2(Hr.number.Uint32LE),Wh=a2(Hr.number.Uint64LE),Fz=a2(Hr.number.Uint128LE),{byteVecOf:bg,option:Xh,table:Wo,vector:Xo,struct:l1}=Hr.molecule,{bytify:V4,hexify:G4}=Hr.bytes;function W4(t){return(0,Hr.createFixedBytesCodec)({byteLength:t,pack:e=>V4(e),unpack:e=>G4(e)})}const d1=Ee.Bytes=bg({pack:V4,unpack:G4}),qz=Ee.BytesOpt=Xh(d1),LT=Ee.BytesVec=Xo(d1);Ee.BytesOptVec=Xo(qz);const Bf=Ee.Byte32=W4(32),Kz=Ee.Byte32Vec=Xo(Bf);function HT(t){return Wo({lock:Xh(bg(t.lock)),inputType:Xh(bg(t.inputType)),outputType:Xh(bg(t.outputType))},["lock","inputType","outputType"])}const S_=(0,Hr.createBytesCodec)({pack:V4,unpack:G4});ty=Ee.WitnessArgs=HT({lock:S_,inputType:S_,outputType:S_});const Qz=Ee.HashType=(0,Hr.createFixedBytesCodec)({byteLength:1,pack:t=>{if(t==="type")return Hr.number.Uint8.pack(1);if(t==="data")return Hr.number.Uint8.pack(0);if(t==="data1")return Hr.number.Uint8.pack(2);if(t==="data2")return Hr.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${t}`)},unpack:t=>{const e=Hr.number.Uint8.unpack(t);if(e===1)return"type";if(e===0)return"data";if(e===2)return"data1";if(e===4)return"data2";throw new Error(`Invalid hash type: ${e}`)}}),Yz=Ee.DepType=(0,Hr.createFixedBytesCodec)({byteLength:1,pack:t=>{if(t==="code")return k9.pack(0);if(t==="depGroup")return k9.pack(1);throw new Error(`Invalid dep type: ${t}`)},unpack:t=>{const e=Hr.number.Uint8.unpack(t);if(e===0)return"code";if(e===1)return"depGroup";throw new Error(`Invalid dep type: ${e}`)}}),X4=Ee.Script=Wo({codeHash:Bf,hashType:Qz,args:d1},["codeHash","hashType","args"]),Vz=Ee.ScriptOpt=Xh(X4),PT=Q4=Ee.OutPoint=l1({txHash:Bf,index:ry},["txHash","index"]),Gz=Ee.CellInput=l1({since:Wh,previousOutput:PT},["since","previousOutput"]),Wz=Ee.CellInputVec=Xo(Gz),Xz=Ee.CellOutput=Wo({capacity:Wh,lock:X4,type:Vz},["capacity","lock","type"]),Zz=Ee.CellOutputVec=Xo(Xz),Jz=Ee.CellDep=l1({outPoint:PT,depType:Yz},["outPoint","depType"]),ej=Ee.CellDepVec=Xo(Jz),tj=Ee.RawTransaction=Wo({version:ry,cellDeps:ej,headerDeps:Kz,inputs:Wz,outputs:Zz,outputsData:LT},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),z9=Wo({raw:tj,witnesses:LT},["raw","witnesses"]),rj=Y4=Ee.Transaction=(0,Hr.createBytesCodec)({pack:t=>z9.pack(kT(t)),unpack:t=>zT(z9.unpack(t))}),NT=Ee.TransactionVec=Xo(rj),nj=Ee.RawHeader=l1({version:ry,compactTarget:ry,timestamp:Wh,number:Wh,epoch:Wh,parentHash:Bf,transactionsRoot:Bf,proposalsHash:Bf,extraHash:Bf,dao:Bf},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),j9=Ee.BaseHeader=l1({raw:nj,nonce:Fz},["raw","nonce"]),Z4=Ee.Header=(0,Hr.createBytesCodec)({pack:t=>j9.pack(jT(t)),unpack:t=>$T(j9.unpack(t))}),ij=Ee.ProposalShortId=W4(10),J4=Ee.ProposalShortIdVec=Xo(ij),aj=Ee.UncleBlock=Wo({header:Z4,proposals:J4},["header","proposals"]),UT=Ee.UncleBlockVec=Xo(aj);Ee.Block=Wo({header:Z4,uncles:UT,transactions:NT,proposals:J4},["header","uncles","transactions","proposals"]);Ee.BlockV1=Wo({header:Z4,uncles:UT,transactions:NT,proposals:J4,extension:d1},["header","uncles","transactions","proposals","extension"]);Ee.CellbaseWitness=Wo({lock:X4,message:d1},["lock","message"]);function kT(t){return{raw:{version:t.version,cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData},witnesses:t.witnesses}}function zT(t){return{cellDeps:t.raw.cellDeps.map(e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType})),headerDeps:t.raw.headerDeps,inputs:t.raw.inputs.map(e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since})),outputs:t.raw.outputs.map(e=>({capacity:e.capacity,lock:e.lock,type:e.type})),outputsData:t.raw.outputsData,version:t.raw.version,witnesses:t.witnesses}}function jT(t){return{raw:{timestamp:t.timestamp,number:t.number,epoch:t.epoch,compactTarget:Number(t.compactTarget),dao:t.dao,parentHash:t.parentHash,proposalsHash:t.proposalsHash,transactionsRoot:t.transactionsRoot,extraHash:t.extraHash,version:t.version},nonce:t.nonce}}function $T(t){return{timestamp:t.raw.timestamp,number:t.raw.number,epoch:t.raw.epoch,compactTarget:t.raw.compactTarget,dao:t.raw.dao,parentHash:t.raw.parentHash,proposalsHash:t.raw.proposalsHash,transactionsRoot:t.raw.transactionsRoot,extraHash:t.raw.extraHash,version:t.raw.version,nonce:t.nonce,hash:""}}Object.defineProperty(St,"__esModule",{value:!0});St.CKBHasher=void 0;St.assertHexString=wj;St.assertHexadecimal=GT;St.ckbHash=r8;St.ckbHash160=pj;var sj=St.computeScriptHash=bj;St.deepCamel=ny;St.deepCamelizeTransaction=Ij;St.generateTypeIdScript=Sj;St.hashCode=gj;St.isDeepEqual=Aj;St.readBigUInt128LE=mj;St.readBigUInt128LECompatible=VT;St.readBigUInt64LE=vj;St.readBigUInt64LECompatible=QT;St.toBigUInt128LE=_j;St.toBigUInt128LECompatible=YT;St.toBigUInt64LE=yj;St.toBigUInt64LECompatible=KT;var oj=qT(zz),fj=qT(jz),cj=q4,_d=st,e8=uj(Ee),s2=r0;function FT(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(FT=function(n){return n?r:e})(t)}function uj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=FT(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function qT(t){return t&&t.__esModule?t:{default:t}}const{bytify:lj,hexify:dj,bytifyRawString:hj}=_d.bytes;let t8=class{constructor(e={}){const{outLength:r=32}=e;this.outLength=r,this.hasher=(0,oj.default)(r,void 0,void 0,hj("ckb-default-hash"))}update(e){return this.hasher.update(lj(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),dj(e.buffer)}};St.CKBHasher=t8;function r8(t){const e=new t8;return e.update(_d.bytes.bytify(t)),e.digestHex()}function pj(t){return r8(t).slice(0,42)}function bj(t){return r8(e8.Script.pack(t))}function gj(t){return(0,cj.xxHash32)(t,0)}function yj(t){return KT(t)}function KT(t){return _d.bytes.hexify(s2.Uint64LE.pack(t))}function vj(t){return QT(t).toBigInt()}function QT(t){return s2.Uint64LE.unpack(t)}function _j(t){return YT(t)}function YT(t){return _d.bytes.hexify(s2.Uint128LE.pack(t))}function mj(t){return VT(t).toBigInt()}function VT(t){return s2.Uint128LE.unpack(t)}function wj(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function GT(t,e){if(!/^0x(0|[0-9a-fA-F]+)$/.test(e))throw new Error(`${t} must be a hexadecimal!`)}function Aj(t,e){return(0,fj.default)(t,e)}const Ej="0x00000000000000000000000000000000000000000000000000545950455f4944";function xj(t,e){const r=e8.CellInput.pack(t),n=_d.bytes.hexify(_d.number.Uint64LE.pack(e)),i=new t8;return i.update(r),i.update(n),i.digestHex()}function Sj(t,e="0x0"){e8.CellInput.pack(t),GT("outputIndex",e);const r=xj(t,e);return{codeHash:Ej,hashType:"type",args:r}}function $9(t){return t.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace("-","").replace("_",""))}function ny(t){if(Object.prototype.toString.call(t)==="[object Array]")return t.length===0?t:t.map(r=>ny(r));const e={};if(Object.prototype.toString.call(t)==="[object Object]"){for(const r in t){const n=t[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?e[$9(r)]=ny(n):e[$9(r)]=n}return e}return t}function K3(t){if(Object.prototype.toString.call(t)==="[object Array]")return t.length===0?t:t.map(r=>K3(r));const e={};if(Object.prototype.toString.call(t)==="[object Object]"){for(const r in t){const n=t[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?e[r]=K3(n):e[r]=n==="dep_group"?"depGroup":n}return e}return t}function Ij(t){return K3(ny(t))}Object.defineProperty(Wa,"__esModule",{value:!0});Wa.TransactionValue=Wa.ScriptValue=Wa.RawTransactionValue=Wa.OutPointValue=void 0;var Cj=q4,Tj=St,Oj=st,o2=Bj(Ee);function WT(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(WT=function(n){return n?r:e})(t)}function Bj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=WT(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const{hexify:F9}=Oj.bytes;class f2{constructor(e){this.buffer=e}equals(e){return F9(this.buffer)===F9(e.buffer)}hashCode(){return(0,Cj.xxHash32)(Buffer.from(this.buffer),0)}hash(){return(0,Tj.ckbHash)(this.buffer)}}let Dj=class extends f2{constructor(e,r={}){super(o2.Script.pack(e))}};Wa.ScriptValue=Dj;class Mj extends f2{constructor(e,r={}){super(o2.OutPoint.pack(e))}}Wa.OutPointValue=Mj;class Rj extends f2{constructor(e,r={}){super(o2.RawTransaction.pack(e))}}Wa.RawTransactionValue=Rj;class Lj extends f2{constructor(e,r={}){super(o2.Transaction.pack(e))}}Wa.TransactionValue=Lj;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.generateAbsoluteEpochSince=ZT;var Hj=Pi.generateHeaderEpoch=JT;Pi.generateSince=XT;Pi.maximumAbsoluteEpochSince=Nj;var Cp=Pi.parseAbsoluteEpochSince=eO,h1=Pi.parseEpoch=iy;Pi.parseSince=Pj;Pi.parseSinceCompatible=p1;Pi.validateAbsoluteEpochSince=tO;Pi.validateSince=Uj;var Je=wt;function Pj(t){const e=p1(t);return e.type==="epochNumber"?e:{...e,value:e.value.toBigInt()}}function p1(t){const e=Je.BI.from(t),r=e.shr(56),n=r.shr(5).and("0b11");let i,a;if(n.eq(0))i="blockNumber",a=e.and("0xFFFFFFFFFFFFFF");else if(n.eq(1))i="epochNumber",a={length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()};else if(n.eq(2))i="blockTimestamp",a=e.and("0xFFFFFFFFFFFFFF");else throw new Error("Invalid metric flag!");return{relative:!r.and("0x80").eq(0),type:i,value:a}}function XT({relative:t,type:e,value:r}){let n=Je.BI.from(0);t&&(n=n.add(128)),e==="epochNumber"?n=n.add(32):e==="blockTimestamp"&&(n=n.add(64));let i;return(0,Je.isBIish)(r)?i=Je.BI.from(r):typeof r=="object"?i=JT(r):i=Je.BI.from(r),rO(n.shl(56).add(i))}function iy(t){const e=Je.BI.from(t);return{length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()}}function Nj(...t){const e=t.map(a=>eO(a)),r=Math.max(...e.map(a=>a.number)),n=e.filter(a=>a.number===r);let i=n[0];for(let a=1;a<n.length;++a){const s=n[a];Je.BI.from(s.index).mul(i.length).gte(Je.BI.from(i.index).mul(s.length))&&(i=s)}return ZT(i)}function ZT({length:t,index:e,number:r}){return XT({relative:!1,type:"epochNumber",value:{length:t,index:e,number:r}})}function JT({length:t,index:e,number:r}){return rO(Je.BI.from(t).shl(40).add(Je.BI.from(e).shl(24)).add(r))}function eO(t){const{relative:e,type:r,value:n}=p1(t);if(!(e===!1&&r==="epochNumber"))throw new Error("Since format error!");return n}function tO(t,e){const r=p1(t).value,n=iy(e);return Je.BI.from(r.number).lt(n.number)||Je.BI.from(r.number).eq(n.number)&&Je.BI.from(r.index).mul(n.length).lte(Je.BI.from(n.index).mul(r.length))}function Uj(t,e,r){const{relative:n,type:i,value:a}=p1(t);if(n){if(i==="epochNumber"){const s=iy(e.epoch),o=iy(r.epoch),f={number:Je.BI.from(a.number).add(o.number),index:Je.BI.from(a.index).mul(o.length).add(Je.BI.from(o.index).mul(a.length)),length:Je.BI.from(a.length).mul(o.length)};return a.length===0&&o.length!==0?(f.index=Je.BI.from(o.index),f.length=Je.BI.from(o.length)):o.length===0&&a.length!==0&&(f.index=Je.BI.from(a.index),f.length=Je.BI.from(a.length)),!Je.BI.from(f.length).eq(0)&&Je.BI.from(f.index).gte(f.length)&&(f.number=f.index.div(f.length).add(f.number),f.index=f.index.mod(f.length)),Je.BI.from(f.number).lt(s.number)||Je.BI.from(f.number).eq(s.number)&&Je.BI.from(f.index).mul(s.length).lte(Je.BI.from(s.index).mul(f.length))}if(i==="blockNumber")return Je.BI.from(a).add(r.blockNumber).lte(e.blockNumber);if(i==="blockTimestamp"){if(!e.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return Je.BI.from(a).mul(1e3).add(r.median_timestamp).lte(e.median_timestamp)}}else{if(i==="epochNumber")return tO(t,e.epoch);if(i==="blockNumber")return Je.BI.from(a).lte(e.blockNumber);if(i==="blockTimestamp"){if(!e.median_timestamp)throw new Error("Must provide tip median_timestamp!");return Je.BI.from(a).mul(1e3).lte(e.median_timestamp)}}return!1}function rO(t){return"0x"+t.toString(16)}var b1={};Object.defineProperty(b1,"__esModule",{value:!0});b1.isCellMatchQueryOptions=kj;b1.isScriptWrapper=gg;var Lb=Wa,Hb=wt;function gg(t){return t!==null&&t.script!==void 0}function kj(t,{lock:e=void 0,type:r=void 0,argsLen:n=-1,data:i="any",fromBlock:a=void 0,toBlock:s=void 0}){let o=null,f=null;if(e&&!gg(e)?o={script:e,argsLen:n}:e&&(o=e,e.argsLen||(o.argsLen=n)),r&&r==="empty"?f=r:r&&typeof r=="object"&&!gg(r)?f={script:r,argsLen:n}:r&&typeof r=="object"&&gg(r)&&(f=r,r.argsLen||(f.argsLen=n)),o&&o.script&&o.argsLen===-1&&!new Lb.ScriptValue(t.cellOutput.lock,{validate:!1}).equals(new Lb.ScriptValue(o.script,{validate:!1})))return!1;if(o&&o.script&&o.argsLen==="any"){const c=t.cellOutput.lock;if(c.codeHash!==o.script.codeHash||c.hashType!==o.script.hashType||!c.args.startsWith(o.script.args))return!1}if(o&&o.script&&typeof o.argsLen=="number"&&o.argsLen>=0){const c=o.argsLen*2+2,u=o.script.args.length,l=Math.min(c,u),p=t.cellOutput.lock;if(p.args.length!==c||!(p.codeHash===o.script.codeHash&&p.hashType===o.script.hashType&&p.args.slice(0,l)===o.script.args.slice(0,l)))return!1}return!(f&&f==="empty"&&t.cellOutput.type||f&&typeof f=="object"&&(!t.cellOutput.type||!new Lb.ScriptValue(t.cellOutput.type,{validate:!1}).equals(new Lb.ScriptValue(f.script,{validate:!1})))||i&&i!=="any"&&t.data!==i||a&&t.blockNumber&&Hb.BI.from(t.blockNumber).lt(Hb.BI.from(a))||s&&t.blockNumber&&Hb.BI.from(t.blockNumber).gt(Hb.BI.from(s)))}var Xf={},n8={},g1={};Object.defineProperty(g1,"__esModule",{value:!0});g1.Reader=void 0;class y1{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return e==null?!1:e instanceof y1?!0:e.__isByteLikeReader__===!0}}class Pb extends y1{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),e=>("00"+e.toString(16)).slice(-2)).join("")}}class q9 extends y1{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+e*2,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),r=new DataView(e);for(let n=0;n<this.length();n++)r.setUint8(n,this.indexAt(n));return e}serializeJson(){return this.string}}class i8 extends y1{constructor(e){if(super(),e instanceof q9||e instanceof Pb)return e;if(typeof e=="string"){if(!e.startsWith("0x")||e.length%2!==0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new q9(e)}if(e instanceof ArrayBuffer)return new Pb(e);if(e instanceof Uint8Array)return new Pb(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new i8(e)}static fromRawString(e){const r=new ArrayBuffer(e.length),n=new DataView(r);for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);if(a>255)throw new Error("fromRawString can only accept UTF-8 raw string!");n.setUint8(i,a)}return new Pb(r)}}g1.Reader=i8;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.NormalizeBlock=$j;Jn.NormalizeCellDep=aO;Jn.NormalizeCellInput=nO;Jn.NormalizeCellOutput=iO;Jn.NormalizeCellbaseWitness=Fj;Jn.NormalizeHeader=s8;Jn.NormalizeOutPoint=a8;Jn.NormalizeRawHeader=fO;Jn.NormalizeRawTransaction=sO;Jn.NormalizeScript=ay;Jn.NormalizeTransaction=oO;Jn.NormalizeUncleBlock=cO;Jn.NormalizeWitnessArgs=qj;var zj=wt,jj=g1;function xs(t){return function(e,r){if(!(r instanceof ArrayBuffer)){let n=zj.BI.from(r).toString(16);if(n.length%2!==0&&(n="0"+n),n.length/2>t)throw new Error(`${e} is ${n.length/2} bytes long, expected length is ${t}!`);const i=new DataView(new ArrayBuffer(t));for(let a=0;a<n.length/2;a++){const s=n.length-(a+1)*2;i.setUint8(a,parseInt(n.substr(s,2),16))}r=i.buffer}if(r.byteLength<t){const n=new Uint8Array(t);n.set(new Uint8Array(r),0),r=n.buffer}return r}}function Jr(t){return function(e,r){if(r=new jj.Reader(r).toArrayBuffer(),t>0&&r.byteLength!==t)throw new Error(`${e} has invalid length ${r.byteLength}, required: ${t}`);return r}}function Ta(t,e,r){const n={};for(const[i,a]of Object.entries(r)){const s=e[i];if(s==null)throw new Error(`${t} is missing ${i}!`);n[i]=a(`${t}.${i}`,s)}return n}function ay(t,{debugPath:e="script"}={}){return Ta(e,t,{codeHash:Jr(32),hashType:function(r,n){switch(n){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:return n;case 1:return n;case 2:return n;case 4:return n;default:throw new Error(`${r}.hashType has invalid value: ${n}`)}},args:Jr(-1)})}function a8(t,{debugPath:e="outPoint"}={}){return Ta(e,t,{txHash:Jr(32),index:xs(4)})}function rs(t){return function(e,r){return t(r,{debugPath:e})}}function nO(t,{debugPath:e="cell_input"}={}){return Ta(e,t,{since:xs(8),previousOutput:rs(a8)})}function iO(t,{debugPath:e="cellOutput"}={}){const r=Ta(e,t,{capacity:xs(8),lock:rs(ay)});return t.type&&(r.type_=ay(t.type,{debugPath:`${e}.type`})),r}function aO(t,{debugPath:e="cell_dep"}={}){return Ta(e,t,{outPoint:rs(a8),depType:function(r,n){switch(n){case"code":return 0;case"depGroup":return 1;case 0:return n;case 1:return n;default:throw new Error(`${r}.depType has invalid value: ${n}`)}}})}function Ss(t){return function(e,r){return r.map((n,i)=>t(`${e}[${i}]`,n))}}function sO(t,{debugPath:e="raw_transaction"}={}){return Ta(e,t,{version:xs(4),cellDeps:Ss(rs(aO)),headerDeps:Ss(Jr(32)),inputs:Ss(rs(nO)),outputs:Ss(rs(iO)),outputsData:Ss(Jr(-1))})}function oO(t,{debugPath:e="transaction"}={}){const r=sO(t,{debugPath:`(raw)${e}`}),n=Ta(e,t,{witnesses:Ss(Jr(-1))});return n.raw=r,n}function fO(t,{debugPath:e="raw_header"}={}){return Ta(e,t,{version:xs(4),compactTarget:xs(4),timestamp:xs(8),number:xs(8),epoch:xs(8),parentHash:Jr(32),transactionsRoot:Jr(32),proposalsHash:Jr(32),extraHash:Jr(32),dao:Jr(32)})}function s8(t,{debugPath:e="header"}={}){const r=fO(t,{debugPath:`(raw)${e}`}),n=Ta(e,t,{nonce:xs(16)});return n.raw=r,n}function cO(t,{debugPath:e="uncle_block"}={}){return Ta(e,t,{header:rs(s8),proposals:Ss(Jr(10))})}function $j(t,{debugPath:e="block"}={}){return Ta(e,t,{header:rs(s8),uncles:Ss(rs(cO)),transactions:Ss(rs(oO)),proposals:Ss(Jr(10))})}function Fj(t,{debugPath:e="cellbase_witness"}={}){return Ta(e,t,{lock:rs(ay),message:Jr(-1)})}function qj(t,{debugPath:e="witness_args"}={}){const r={};return t.lock&&(r.lock=Jr(-1)(`${e}.lock`,t.lock)),t.inputType&&(r.inputType=Jr(-1)(`${e}.inputType`,t.inputType)),t.outputType&&(r.outputType=Jr(-1)(`${e}.outputType`,t.outputType)),r}var hi={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.ValidateBlock=Gj;Mn.ValidateCellDep=dO;Mn.ValidateCellInput=uO;Mn.ValidateCellOutput=lO;Mn.ValidateCellbaseWitness=Wj;Mn.ValidateHeader=f8;Mn.ValidateOutPoint=o8;Mn.ValidateRawHeader=Vj;Mn.ValidateRawTransaction=Qj;Mn.ValidateScript=sy;Mn.ValidateTransaction=pO;Mn.ValidateUncleBlock=gO;Mn.ValidateWitnessArgs=Xj;function Kj(t,e){if(!(e instanceof Object))throw new Error(`${t} is not an object!`)}function Ni(t,e,r,n=[]){Kj(t,e);const i=Object.keys(e).sort(),a=r.length,s=r.length+n.length,o=`${t} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<a||i.length>s)throw new Error(o);let f=i.filter(c=>!r.includes(c));if(i.length-f.length!==a)throw new Error(o);if(f.find(c=>!n.includes(c)))throw new Error(o)}function Ls(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function Df(t,e){if(Ls(t,e),e.length!==66)throw new Error(`${t} must be a hex string of 66 bytes long!`)}function go(t,e){if(e!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function sy(t,{nestedValidation:e=!0,debugPath:r="script"}={}){if(Ni(r,t,["codeHash","hashType","args"],[]),Df(`${r}.codeHash`,t.codeHash),Ls(`${r}.args`,t.args),t.hashType!=="data"&&t.hashType!=="type"&&t.hashType!=="data1"&&t.hashType!=="data2")throw new Error(`${r}.hashType must be either data or type!`)}function o8(t,{nestedValidation:e=!0,debugPath:r="outPoint"}={}){Ni(r,t,["txHash","index"],[]),Df(`${r}.txHash`,t.txHash),go(`${r}.index`,t.index)}function uO(t,{nestedValidation:e=!0,debugPath:r="cellInput"}={}){Ni(r,t,["since","previousOutput"],[]),go(`${r}.since`,t.since),e&&o8(t.previousOutput,{debugPath:`${r}.previousOutput`})}function lO(t,{nestedValidation:e=!0,debugPath:r="cellOutput"}={}){Ni(r,t,["capacity","lock"],["type"]),go(`${r}.capacity`,t.capacity),e&&(sy(t.lock,{debugPath:`${r}.lock`}),t.type&&sy(t.type,{debugPath:`${r}.type`}))}function dO(t,{nestedValidation:e=!0,debugPath:r="cellDep"}={}){if(Ni(r,t,["outPoint","depType"],[]),t.depType!=="code"&&t.depType!=="depGroup")throw new Error(`${r}.depType must be either code or depGroup!`);e&&o8(t.outPoint,{debugPath:`${r}.outPoint`})}function Is(t,e,r,n){if(!Array.isArray(e))throw new Error(`${t} is not an array!`);if(n)for(let i=0;i<e.length;i++)r(`${t}[${i}]`,e[i])}function Zh(t,e){return function(r,n){t(n,{nestedValidation:e,debugPath:r})}}function hO(t,e,r){go(`${t}.version`,e.version),Is(`${t}.cellDeps`,e.cellDeps,Zh(dO,r),r),Is(`${t}.headerDeps`,e.headerDeps,Df,r),Is(`${t}.inputs`,e.inputs,Zh(uO,r),r),Is(`${t}.outputs`,e.outputs,Zh(lO,r),r),Is(`${t}.outputsData`,e.outputsData,Ls,r)}function Qj(t,{nestedValidation:e=!0,debugPath:r="rawTransaction"}={}){Ni(r,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),hO(r,t,e)}function pO(t,{nestedValidation:e=!0,debugPath:r="transaction"}={}){Ni(r,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),hO(r,t,e),Is(`${r}.witnesses`,t.witnesses,Ls,e)}function Yj(t,e){go(`${t}.version`,e.version),go(`${t}.compactTarget`,e.compactTarget),go(`${t}.timestamp`,e.timestamp),go(`${t}.number`,e.number),go(`${t}.epoch`,e.epoch),Df(`${t}.parentHash`,e.parentHash),Df(`${t}.transactionsRoot`,e.transactionsRoot),Df(`${t}.proposalsHash`,e.proposalsHash),Df(`${t}.extraHash`,e.extraHash),Df(`${t}.dao`,e.dao)}function Vj(t,{nestedValidation:e=!0,debugPath:r="rawHeader"}={}){Ni(r,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),Yj(r,t)}function f8(t,{nestedValidation:e=!0,debugPath:r="header"}={}){if(Ni(r,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),Ls(`${r}.nonce`,t.nonce),t.nonce.length!==34)throw new Error(`${r}.nonce must be a hex string of 34 bytes long!`)}function bO(t,e){if(Ls(t,e),e.length!==22)throw new Error(`${t} must be a hex string of 22 bytes long!`)}function gO(t,{nestedValidation:e=!0,debugPath:r="uncleBlock"}={}){Ni(r,t,["header","proposals"],[]),e&&f8(t.header,{debugPath:`${r}.header`}),Is(`${r}.proposals`,t.proposals,bO,e)}function Gj(t,{nestedValidation:e=!0,debugPath:r="block"}={}){Ni(r,t,["header","uncles","transactions","proposals"],[]),e&&f8(t.header,{debugPath:`${r}.header`}),Is(`${r}.uncles`,t.uncles,Zh(gO,e),e),Is(`${r}.transactions`,t.transactions,Zh(pO,e),e),Is(`${r}.proposals`,t.proposals,bO,e)}function Wj(t,{nestedValidation:e=!0,debugPath:r="cellbaseWitness"}={}){Ni(r,t,["lock","message"],[]),Ls(`${r}.message`,t.message),e&&sy(t.lock,{debugPath:`${r}.lock`})}function Xj(t,{nestedValidation:e=!0,debugPath:r="witnessArgs"}={}){Ni(r,t,[],["lock","inputType","outputType"]),t.lock&&Ls(`${r}.lock`,t.lock),t.inputType&&Ls(`${r}.inputType`,t.inputType),t.outputType&&Ls(`${r}.outputType`,t.outputType)}Object.defineProperty(hi,"__esModule",{value:!0});hi.TransformBlock=t$;hi.TransformCellInput=u8;hi.TransformCellOutput=l8;hi.TransformCellbaseWitness=r$;hi.TransformHeader=d8;hi.TransformOutPoint=c8;hi.TransformRawHeader=e$;hi.TransformRawTransaction=Jj;hi.TransformScript=oy;hi.TransformTransaction=_O;hi.TransformUncleBlock=mO;hi.TransformWitnessArgs=n$;var Ui=Zj(Mn);function yO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(yO=function(n){return n?r:e})(t)}function Zj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=yO(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Ne(t,e){return e instanceof Object&&e.serializeJson instanceof Function?e.serializeJson.call(e):e}function ki(t,e,r){if(e=Ne(t,e),!(e instanceof Object))throw new Error(`Transformed ${t} is not an object!`);const n={};for(const[i,a]of Object.entries(r)){let s=e[i];if(!s){const o=i.replace(/(_[a-z])/g,f=>f.toUpperCase().replace("_",""));s=e[o]}s&&(n[i]=a(`${t}.${i}`,s))}return n}function oy(t,{validation:e=!0,debugPath:r="script"}={}){return t=ki(r,t,{codeHash:Ne,hashType:Ne,args:Ne}),e&&Ui.ValidateScript(t,{debugPath:`(transformed) ${r}`}),t}function c8(t,{validation:e=!0,debugPath:r="outPoint"}={}){return t=ki(r,t,{txHash:Ne,index:Ne}),e&&Ui.ValidateOutPoint(t,{debugPath:`(transformed) ${r}`}),t}function Yn(t){return function(e,r){return t(r,{validation:!1,debugPath:e})}}function u8(t,{validation:e=!0,debugPath:r="cell_input"}={}){return t=ki(r,t,{since:Ne,previousOutput:Yn(c8)}),e&&Ui.ValidateCellInput(t,{debugPath:`(transformed) ${r}`}),t}function l8(t,{validation:e=!0,debugPath:r="cellOutput"}={}){return t=ki(r,t,{capacity:Ne,lock:Yn(oy),type:Yn(oy)}),e&&Ui.ValidateCellOutput(t,{debugPath:`(transformed) ${r}`}),t}function vO(t,{validation:e=!0,debugPath:r="cell_dep"}={}){return t=ki(r,t,{outPoint:Yn(c8),depType:Ne}),e&&Ui.ValidateCellDep(t,{debugPath:`(transformed) ${r}`}),t}function zn(t){return function(e,r){return r.map((n,i)=>t(`${e}[${i}]`,n))}}function Jj(t,{validation:e=!0,debugPath:r="raw_transaction"}={}){return t=ki(r,t,{version:Ne,cellDeps:zn(Yn(vO)),headerDeps:zn(Ne),inputs:zn(Yn(u8)),outputs:zn(Yn(l8)),outputsData:zn(Ne)}),e&&Ui.ValidateRawTransaction(t,{debugPath:`(transformed) ${r}`}),t}function _O(t,{validation:e=!0,debugPath:r="transaction"}={}){return t=ki(r,t,{version:Ne,cellDeps:zn(Yn(vO)),headerDeps:zn(Ne),inputs:zn(Yn(u8)),outputs:zn(Yn(l8)),outputsData:zn(Ne),witnesses:zn(Ne)}),e&&Ui.ValidateTransaction(t,{debugPath:`(transformed) ${r}`}),t}function e$(t,{validation:e=!0,debugPath:r="raw_header"}={}){return t=ki(r,t,{version:Ne,compactTarget:Ne,timestamp:Ne,number:Ne,epoch:Ne,parentHash:Ne,transactionsRoot:Ne,proposalsHash:Ne,extraHash:Ne,dao:Ne}),e&&Ui.ValidateRawHeader(t,{debugPath:`(transformed) ${r}`}),t}function d8(t,{validation:e=!0,debugPath:r="header"}={}){return t=ki(r,t,{version:Ne,compactTarget:Ne,timestamp:Ne,number:Ne,epoch:Ne,parentHash:Ne,transactionsRoot:Ne,proposalsHash:Ne,extraHash:Ne,dao:Ne,nonce:Ne}),e&&Ui.ValidateHeader(t,{debugPath:`(transformed) ${r}`}),t}function mO(t,{validation:e=!0,debugPath:r="uncle_block"}={}){return t=ki(r,t,{header:Yn(d8),proposals:zn(Ne)}),e&&Ui.ValidateUncleBlock(t,{debugPath:`(transformed) ${r}`}),t}function t$(t,{validation:e=!0,debugPath:r="block"}={}){return t=ki(r,t,{header:Yn(d8),uncles:zn(Yn(mO)),transactions:zn(Yn(_O)),proposals:zn(Ne)}),e&&Ui.ValidateBlock(t,{debugPath:`(transformed) ${r}`}),t}function r$(t,{validation:e=!0,debugPath:r="cellbase_witness"}={}){return t=ki(r,t,{lock:Yn(oy),message:Ne}),e&&Ui.ValidateCellbaseWitness(t,{debugPath:`(transformed) ${r}`}),t}function n$(t,{validation:e=!0,debugPath:r="witness_args"}={}){return t=ki(r,t,{lock:Ne,inputType:Ne,outputType:Ne}),e&&Ui.ValidateWitnessArgs(t,{debugPath:`(transformed) ${r}`}),t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return e.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var e=g1,r=s(Jn);t.normalizers=r;var n=s(hi);t.transformers=n;var i=s(Mn);t.validators=i;function a(o){if(typeof WeakMap!="function")return null;var f=new WeakMap,c=new WeakMap;return(a=function(u){return u?c:f})(o)}function s(o,f){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var c=a(f);if(c&&c.has(o))return c.get(o);var u={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(p!=="default"&&{}.hasOwnProperty.call(o,p)){var y=l?Object.getOwnPropertyDescriptor(o,p):null;y&&(y.get||y.set)?Object.defineProperty(u,p,y):u[p]=o[p]}return u.default=o,c&&c.set(o,u),u}t.VERSION="__development_build__"})(n8);Object.defineProperty(Xf,"__esModule",{value:!0});Xf.default=Xf.TransactionCollector=Xf.Indexer=void 0;var Nb=n8,K9=St,Q9=b1;class i${}Xf.Indexer=i$;class wO{constructor(e,{lock:r,type:n,argsLen:i=-1,fromBlock:a,toBlock:s,order:o="asc",skip:f}={},{skipMissing:c=!1,includeStatus:u=!0}={}){if(!r&&(!n||n==="empty"))throw new Error("Either lock or type script must be provided!");if(r&&!(0,Q9.isScriptWrapper)(r)?(Nb.validators.ValidateScript(r),this.lock={script:r,ioType:"both",argsLen:i}):r&&r.script&&(Nb.validators.ValidateScript(r.script),this.lock=r,r.argsLen||(this.lock.argsLen=i),r.ioType||(this.lock.ioType="both")),n==="empty"?this.type=n:n&&!(0,Q9.isScriptWrapper)(n)?(Nb.validators.ValidateScript(n),this.type={script:n,ioType:"both",argsLen:i}):n&&n.script&&(Nb.validators.ValidateScript(n.script),this.type=n,n.argsLen||(this.type.argsLen=i),n.ioType||(this.type.ioType="both")),a&&(0,K9.assertHexadecimal)("fromBlock",a),s&&(0,K9.assertHexadecimal)("toBlock",s),o!=="asc"&&o!=="desc")throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=c,this.includeStatus=u,this.fromBlock=a,this.toBlock=s,this.order=o,this.skip=f,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const r of e){const n=await this.rpc.get_transaction(r);if(!this.skipMissing&&!n)throw new Error(`Transaction ${r} is missing!`);this.includeStatus?yield n:yield n.transaction}}}Xf.TransactionCollector=wO;const a$={TransactionCollector:wO};Xf.default=a$;var c2={};Object.defineProperty(c2,"__esModule",{value:!0});c2.defaultLogger=AO;c2.deprecated=s$;function AO(t,e){const r=`[${t}] ${e}`;if(t==="error"||t==="warn")return console.warn(r);console.log(`[${t}] ${e}`)}function s$(t){AO("deprecated",t)}var EO={};Object.defineProperty(EO,"__esModule",{value:!0});var xO={};Object.defineProperty(xO,"__esModule",{value:!0});(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var r=p(Wa);t.values=r;var n=p(St);t.utils=n;var i=p(Pi);t.since=i;var a=p(b1);t.helpers=a;var s=p(Xf);t.indexer=s,Object.keys(s).forEach(function(y){y==="default"||y==="__esModule"||Object.prototype.hasOwnProperty.call(e,y)||y in t&&t[y]===s[y]||Object.defineProperty(t,y,{enumerable:!0,get:function(){return s[y]}})});var o=p(c2);t.logger=o;var f=p(Ee);t.blockchain=f;var c=EO;Object.keys(c).forEach(function(y){y==="default"||y==="__esModule"||Object.prototype.hasOwnProperty.call(e,y)||y in t&&t[y]===c[y]||Object.defineProperty(t,y,{enumerable:!0,get:function(){return c[y]}})});var u=xO;Object.keys(u).forEach(function(y){y==="default"||y==="__esModule"||Object.prototype.hasOwnProperty.call(e,y)||y in t&&t[y]===u[y]||Object.defineProperty(t,y,{enumerable:!0,get:function(){return u[y]}})});function l(y){if(typeof WeakMap!="function")return null;var m=new WeakMap,A=new WeakMap;return(l=function(S){return S?A:m})(y)}function p(y,m){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var A=l(m);if(A&&A.has(y))return A.get(y);var S={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in y)if(C!=="default"&&{}.hasOwnProperty.call(y,C)){var O=w?Object.getOwnPropertyDescriptor(y,C):null;O&&(O.get||O.set)?Object.defineProperty(S,C,O):S[C]=y[C]}return S.default=y,A&&A.set(y,S),S}})(Ir);var sc={};Object.defineProperty(sc,"__esModule",{value:!0});var Tp=sc.bech32m=Au=sc.bech32=void 0;const fy="qpzry9x8gf2tvdw0s3jn54khce6mua7l",SO={};for(let t=0;t<fy.length;t++){const e=fy.charAt(t);SO[e]=t}function jl(t){const e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Y9(t){let e=1;for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=jl(e)^n>>5}e=jl(e);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e=jl(e)^n&31}return e}function h8(t,e,r,n){let i=0,a=0;const s=(1<<r)-1,o=[];for(let f=0;f<t.length;++f)for(i=i<<e|t[f],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function o$(t){return h8(t,8,5,!0)}function f$(t){const e=h8(t,5,8,!1);if(Array.isArray(e))return e}function c$(t){const e=h8(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function IO(t){let e;t==="bech32"?e=1:e=734539939;function r(s,o,f){if(f=f||90,s.length+7+o.length>f)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let c=Y9(s);if(typeof c=="string")throw new Error(c);let u=s+"1";for(let l=0;l<o.length;++l){const p=o[l];if(p>>5)throw new Error("Non 5-bit word");c=jl(c)^p,u+=fy.charAt(p)}for(let l=0;l<6;++l)c=jl(c);c^=e;for(let l=0;l<6;++l){const p=c>>(5-l)*5&31;u+=fy.charAt(p)}return u}function n(s,o){if(o=o||90,s.length<8)return s+" too short";if(s.length>o)return"Exceeds length limit";const f=s.toLowerCase(),c=s.toUpperCase();if(s!==f&&s!==c)return"Mixed-case string "+s;s=f;const u=s.lastIndexOf("1");if(u===-1)return"No separator character for "+s;if(u===0)return"Missing prefix for "+s;const l=s.slice(0,u),p=s.slice(u+1);if(p.length<6)return"Data too short";let y=Y9(l);if(typeof y=="string")return y;const m=[];for(let A=0;A<p.length;++A){const S=p.charAt(A),w=SO[S];if(w===void 0)return"Unknown character "+S;y=jl(y)^w,!(A+6>=p.length)&&m.push(w)}return y!==e?"Invalid checksum for "+s:{prefix:l,words:m}}function i(s,o){const f=n(s,o);if(typeof f=="object")return f}function a(s,o){const f=n(s,o);if(typeof f=="object")return f;throw new Error(f)}return{decodeUnsafe:i,decode:a,encode:r,toWords:o$,fromWordsUnsafe:f$,fromWords:c$}}var Au=sc.bech32=IO("bech32");Tp=sc.bech32m=IO("bech32m");var v1="delete",Ct=5,ha=1<<Ct,Kn=ha-1,Ge={};function Q3(){return{value:!1}}function pa(t){t&&(t.value=!0)}function p8(){}function md(t){return t.size===void 0&&(t.size=t.__iterate(CO)),t.size}function oc(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?md(t)+e:e}function CO(){return!0}function _1(t,e,r){return(t===0&&!OO(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function i0(t,e){return TO(t,e,0)}function m1(t,e){return TO(t,e,e)}function TO(t,e,r){return t===void 0?r:OO(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function OO(t){return t<0||t===0&&1/t===-1/0}var BO="@@__IMMUTABLE_ITERABLE__@@";function Tn(t){return!!(t&&t[BO])}var DO="@@__IMMUTABLE_KEYED__@@";function gt(t){return!!(t&&t[DO])}var MO="@@__IMMUTABLE_INDEXED__@@";function tn(t){return!!(t&&t[MO])}function a0(t){return gt(t)||tn(t)}var Ot=function(e){return Tn(e)?e:On(e)},Oa=function(t){function e(r){return gt(r)?r:_c(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),Uu=function(t){function e(r){return tn(r)?r:Ba(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),s0=function(t){function e(r){return Tn(r)&&!a0(r)?r:c0(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot);Ot.Keyed=Oa;Ot.Indexed=Uu;Ot.Set=s0;var RO="@@__IMMUTABLE_SEQ__@@";function w1(t){return!!(t&&t[RO])}var LO="@@__IMMUTABLE_RECORD__@@";function vc(t){return!!(t&&t[LO])}function zi(t){return Tn(t)||vc(t)}var o0="@@__IMMUTABLE_ORDERED__@@";function Ri(t){return!!(t&&t[o0])}var A1=0,ss=1,wa=2,Y3=typeof Symbol=="function"&&Symbol.iterator,HO="@@iterator",u2=Y3||HO,tt=function(e){this.next=e};tt.prototype.toString=function(){return"[Iterator]"};tt.KEYS=A1;tt.VALUES=ss;tt.ENTRIES=wa;tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()};tt.prototype[u2]=function(){return this};function Bt(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Wn(){return{value:void 0,done:!0}}function b8(t){return Array.isArray(t)?!0:!!l2(t)}function V9(t){return t&&typeof t.next=="function"}function V3(t){var e=l2(t);return e&&e.call(t)}function l2(t){var e=t&&(Y3&&t[Y3]||t[HO]);if(typeof e=="function")return e}function u$(t){var e=l2(t);return e&&e===t.entries}function l$(t){var e=l2(t);return e&&e===t.keys}var f0=Object.prototype.hasOwnProperty;function g8(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var On=function(t){function e(r){return r==null?v8():zi(r)?r.toSeq():h$(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var s=a.length,o=0;o!==s;){var f=a[i?s-++o:o++];if(n(f[1],f[0],this)===!1)break}return o}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var s=a.length,o=0;return new tt(function(){if(o===s)return Wn();var f=a[i?s-++o:o++];return Bt(n,f[0],f[1])})}return this.__iteratorUncached(n,i)},e}(Ot),_c=function(t){function e(r){return r==null?v8().toKeyedSeq():Tn(r)?gt(r)?r.toSeq():r.fromEntrySeq():vc(r)?r.toSeq():_8(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(On),Ba=function(t){function e(r){return r==null?v8():Tn(r)?gt(r)?r.entrySeq():r.toIndexedSeq():vc(r)?r.toSeq().entrySeq():PO(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(On),c0=function(t){function e(r){return(Tn(r)&&!a0(r)?r:Ba(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(On);On.isSeq=w1;On.Keyed=_c;On.Set=c0;On.Indexed=Ba;On.prototype[RO]=!0;var Eu=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[oc(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,s=a.length,o=0;o!==s;){var f=i?s-++o:o++;if(n(a[f],f,this)===!1)break}return o},e.prototype.__iterator=function(n,i){var a=this._array,s=a.length,o=0;return new tt(function(){if(o===s)return Wn();var f=i?s-++o:o++;return Bt(n,f,a[f])})},e}(Ba),y8=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return f0.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,s=this._keys,o=s.length,f=0;f!==o;){var c=s[i?o-++f:f++];if(n(a[c],c,this)===!1)break}return f},e.prototype.__iterator=function(n,i){var a=this._object,s=this._keys,o=s.length,f=0;return new tt(function(){if(f===o)return Wn();var c=s[i?o-++f:f++];return Bt(n,c,a[c])})},e}(_c);y8.prototype[o0]=!0;var d$=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,s=V3(a),o=0;if(V9(s))for(var f;!(f=s.next()).done&&n(f.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,s=V3(a);if(!V9(s))return new tt(Wn);var o=0;return new tt(function(){var f=s.next();return f.done?f:Bt(n,o++,f.value)})},e}(Ba),G9;function v8(){return G9||(G9=new Eu([]))}function _8(t){var e=m8(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new y8(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function PO(t){var e=m8(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function h$(t){var e=m8(t);if(e)return u$(t)?e.fromEntrySeq():l$(t)?e.toSetSeq():e;if(typeof t=="object")return new y8(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function m8(t){return g8(t)?new Eu(t):b8(t)?new d$(t):void 0}var NO="@@__IMMUTABLE_MAP__@@";function E1(t){return!!(t&&t[NO])}function d2(t){return E1(t)&&Ri(t)}function cy(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function xr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(cy(t)&&cy(e)&&t.equals(e))}var rh=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function h2(t){return t>>>1&1073741824|t&3221225471}var p$=Object.prototype.valueOf;function jn(t){if(t==null)return W9(t);if(typeof t.hashCode=="function")return h2(t.hashCode(t));var e=m$(t);if(e==null)return W9(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return b$(e);case"string":return e.length>w$?g$(e):G3(e);case"object":case"function":return v$(e);case"symbol":return y$(e);default:if(typeof e.toString=="function")return G3(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function W9(t){return t===null?1108378658:1108378659}function b$(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return h2(e)}function g$(t){var e=T_[t];return e===void 0&&(e=G3(t),C_===A$&&(C_=0,T_={}),C_++,T_[t]=e),e}function G3(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return h2(e)}function y$(t){var e=J9[t];return e!==void 0||(e=UO(),J9[t]=e),e}function v$(t){var e;if(W3&&(e=X3.get(t),e!==void 0)||(e=t[Nc],e!==void 0)||!Z9&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Nc],e!==void 0||(e=_$(t),e!==void 0)))return e;if(e=UO(),W3)X3.set(t,e);else{if(X9!==void 0&&X9(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Z9)Object.defineProperty(t,Nc,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Nc]=e;else if(t.nodeType!==void 0)t[Nc]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var X9=Object.isExtensible,Z9=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function _$(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function m$(t){return t.valueOf!==p$&&typeof t.valueOf=="function"?t.valueOf(t):t}function UO(){var t=++I_;return I_&1073741824&&(I_=0),t}var W3=typeof WeakMap=="function",X3;W3&&(X3=new WeakMap);var J9=Object.create(null),I_=0,Nc="__immutablehash__";typeof Symbol=="function"&&(Nc=Symbol(Nc));var w$=16,A$=255,C_=0,T_={},p2=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=w8(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,s=FO(this,n,i);return this._useKeys||(s.valueSeq=function(){return a._iter.toSeq().map(n,i)}),s},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s,o){return n(s,o,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(_c);p2.prototype[o0]=!0;var kO=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,s=0;return i&&md(this),this._iter.__iterate(function(o){return n(o,i?a.size-++s:s++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,s=this._iter.__iterator(ss,i),o=0;return i&&md(this),new tt(function(){var f=s.next();return f.done?f:Bt(n,i?a.size-++o:o++,f.value,f)})},e}(Ba),zO=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){return n(s,s,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ss,i);return new tt(function(){var s=a.next();return s.done?s:Bt(n,s.value,s.value,s)})},e}(c0),jO=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){if(s){tA(s);var o=Tn(s);return n(o?s.get(1):s[1],o?s.get(0):s[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ss,i);return new tt(function(){for(;;){var s=a.next();if(s.done)return s;var o=s.value;if(o){tA(o);var f=Tn(o);return Bt(n,f?o.get(0):o[0],f?o.get(1):o[1],s)}}})},e}(_c);kO.prototype.cacheResult=p2.prototype.cacheResult=zO.prototype.cacheResult=jO.prototype.cacheResult=x8;function $O(t){var e=Gs(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=x8,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,s){return r(s,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===wa){var i=t.__iterator(r,n);return new tt(function(){var a=i.next();if(!a.done){var s=a.value[0];a.value[0]=a.value[1],a.value[1]=s}return a})}return t.__iterator(r===ss?A1:ss,n)},e}function FO(t,e,r){var n=Gs(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var s=t.get(i,Ge);return s===Ge?a:e.call(r,s,i,t)},n.__iterateUncached=function(i,a){var s=this;return t.__iterate(function(o,f,c){return i(e.call(r,o,f,c),f,s)!==!1},a)},n.__iteratorUncached=function(i,a){var s=t.__iterator(wa,a);return new tt(function(){var o=s.next();if(o.done)return o;var f=o.value,c=f[0];return Bt(i,c,e.call(r,f[1],c,t),o)})},n}function w8(t,e){var r=this,n=Gs(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=$O(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=x8,n.__iterate=function(i,a){var s=this,o=0;return a&&md(t),t.__iterate(function(f,c){return i(f,e?c:a?s.size-++o:o++,s)},!a)},n.__iterator=function(i,a){var s=0;a&&md(t);var o=t.__iterator(wa,!a);return new tt(function(){var f=o.next();if(f.done)return f;var c=f.value;return Bt(i,e?c[0]:a?r.size-++s:s++,c[1],f)})},n}function qO(t,e,r,n){var i=Gs(t);return n&&(i.has=function(a){var s=t.get(a,Ge);return s!==Ge&&!!e.call(r,s,a,t)},i.get=function(a,s){var o=t.get(a,Ge);return o!==Ge&&e.call(r,o,a,t)?o:s}),i.__iterateUncached=function(a,s){var o=this,f=0;return t.__iterate(function(c,u,l){if(e.call(r,c,u,l))return f++,a(c,n?u:f-1,o)},s),f},i.__iteratorUncached=function(a,s){var o=t.__iterator(wa,s),f=0;return new tt(function(){for(;;){var c=o.next();if(c.done)return c;var u=c.value,l=u[0],p=u[1];if(e.call(r,p,l,t))return Bt(a,n?l:f++,p,c)}})},i}function E$(t,e,r){var n=Zo().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(s){return s+1})}),n.asImmutable()}function x$(t,e,r){var n=gt(t),i=(Ri(t)?os():Zo()).asMutable();t.__iterate(function(s,o){i.update(e.call(r,s,o,t),function(f){return f=f||[],f.push(n?[o,s]:s),f})});var a=E8(t);return i.map(function(s){return ht(t,a(s))}).asImmutable()}function S$(t,e,r){var n=gt(t),i=[[],[]];t.__iterate(function(s,o){i[e.call(r,s,o,t)?1:0].push(n?[o,s]:s)});var a=E8(t);return i.map(function(s){return ht(t,a(s))})}function A8(t,e,r,n){var i=t.size;if(_1(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return A8(t.toSeq().cacheResult(),e,r,n);var a=i0(e,i),s=m1(r,i),o=s-a,f;o===o&&(f=o<0?0:o);var c=Gs(t);return c.size=f===0?f:t.size&&f||void 0,!n&&w1(t)&&f>=0&&(c.get=function(u,l){return u=oc(this,u),u>=0&&u<f?t.get(u+a,l):l}),c.__iterateUncached=function(u,l){var p=this;if(f===0)return 0;if(l)return this.cacheResult().__iterate(u,l);var y=0,m=!0,A=0;return t.__iterate(function(S,w){if(!(m&&(m=y++<a)))return A++,u(S,n?w:A-1,p)!==!1&&A!==f}),A},c.__iteratorUncached=function(u,l){if(f!==0&&l)return this.cacheResult().__iterator(u,l);if(f===0)return new tt(Wn);var p=t.__iterator(u,l),y=0,m=0;return new tt(function(){for(;y++<a;)p.next();if(++m>f)return Wn();var A=p.next();return n||u===ss||A.done?A:u===A1?Bt(u,m-1,void 0,A):Bt(u,m-1,A.value[1],A)})},c}function I$(t,e,r){var n=Gs(t);return n.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var o=0;return t.__iterate(function(f,c,u){return e.call(r,f,c,u)&&++o&&i(f,c,s)}),o},n.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(wa,a),f=!0;return new tt(function(){if(!f)return Wn();var c=o.next();if(c.done)return c;var u=c.value,l=u[0],p=u[1];return e.call(r,p,l,s)?i===wa?c:Bt(i,l,p,c):(f=!1,Wn())})},n}function KO(t,e,r,n){var i=Gs(t);return i.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var f=!0,c=0;return t.__iterate(function(u,l,p){if(!(f&&(f=e.call(r,u,l,p))))return c++,a(u,n?l:c-1,o)}),c},i.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var f=t.__iterator(wa,s),c=!0,u=0;return new tt(function(){var l,p,y;do{if(l=f.next(),l.done)return n||a===ss?l:a===A1?Bt(a,u++,void 0,l):Bt(a,u++,l.value[1],l);var m=l.value;p=m[0],y=m[1],c&&(c=e.call(r,y,p,o))}while(c);return a===wa?l:Bt(a,p,y,l)})},i}function C$(t,e){var r=gt(t),n=[t].concat(e).map(function(s){return Tn(s)?r&&(s=Oa(s)):s=r?_8(s):PO(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&gt(i)||tn(t)&&tn(i))return i}var a=new Eu(n);return r?a=a.toKeyedSeq():tn(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(s,o){if(s!==void 0){var f=o.size;if(f!==void 0)return s+f}},0),a}function QO(t,e,r){var n=Gs(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var s=0,o=!1;function f(c,u){c.__iterate(function(l,p){return(!e||u<e)&&Tn(l)?f(l,u+1):(s++,i(l,r?p:s-1,n)===!1&&(o=!0)),!o},a)}return f(t,0),s},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(i,a),o=[],f=0;return new tt(function(){for(;s;){var c=s.next();if(c.done!==!1){s=o.pop();continue}var u=c.value;if(i===wa&&(u=u[1]),(!e||o.length<e)&&Tn(u))o.push(s),s=u.__iterator(i,a);else return r?c:Bt(i,f++,u,c)}return Wn()})},n}function T$(t,e,r){var n=E8(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function O$(t,e){var r=Gs(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,s=0;return t.__iterate(function(o){return(!s||n(e,s++,a)!==!1)&&n(o,s++,a)!==!1},i),s},r.__iteratorUncached=function(n,i){var a=t.__iterator(ss,i),s=0,o;return new tt(function(){return(!o||s%2)&&(o=a.next(),o.done)?o:s%2?Bt(n,s++,e):Bt(n,s++,o.value,o)})},r}function wd(t,e,r){e||(e=YO);var n=gt(t),i=0,a=t.toSeq().map(function(s,o){return[o,s,i++,r?r(s,o,t):s]}).valueSeq().toArray();return a.sort(function(s,o){return e(s[3],o[3])||s[2]-o[2]}).forEach(n?function(s,o){a[o].length=2}:function(s,o){a[o]=s[1]}),n?_c(a):tn(t)?Ba(a):c0(a)}function Ub(t,e,r){if(e||(e=YO),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return eA(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return eA(e,i,a)?a:i})}function eA(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function kb(t,e,r,n){var i=Gs(t),a=new Eu(r).map(function(s){return s.size});return i.size=n?a.max():a.min(),i.__iterate=function(s,o){for(var f=this.__iterator(ss,o),c,u=0;!(c=f.next()).done&&s(c.value,u++,this)!==!1;);return u},i.__iteratorUncached=function(s,o){var f=r.map(function(l){return l=Ot(l),V3(o?l.reverse():l)}),c=0,u=!1;return new tt(function(){var l;return u||(l=f.map(function(p){return p.next()}),u=n?l.every(function(p){return p.done}):l.some(function(p){return p.done})),u?Wn():Bt(s,c++,e.apply(null,l.map(function(p){return p.value})))})},i}function ht(t,e){return t===e?t:w1(t)?e:t.constructor(e)}function tA(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function E8(t){return gt(t)?Oa:tn(t)?Uu:s0}function Gs(t){return Object.create((gt(t)?_c:tn(t)?Ba:c0).prototype)}function x8(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):On.prototype.cacheResult.call(this)}function YO(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Cs(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function S8(t,e){if(!t)throw new Error(e)}function Ii(t){S8(t!==1/0,"Cannot perform this action with an infinite size.")}function VO(t){if(g8(t)&&typeof t!="string")return t;if(Ri(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var B$=Object.prototype.toString;function b2(t){if(!t||typeof t!="object"||B$.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function fc(t){return typeof t=="object"&&(zi(t)||Array.isArray(t)||b2(t))}function Op(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function I8(t,e){return zi(t)?t.has(e):fc(t)&&f0.call(t,e)}function g2(t,e,r){return zi(t)?t.get(e,r):I8(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function uy(t){if(Array.isArray(t))return Cs(t);var e={};for(var r in t)f0.call(t,r)&&(e[r]=t[r]);return e}function C8(t,e){if(!fc(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(zi(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!f0.call(t,e))return t;var r=uy(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function T8(t,e,r){if(!fc(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(zi(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(f0.call(t,e)&&r===t[e])return t;var n=uy(t);return n[e]=r,n}function mc(t,e,r,n){n||(n=r,r=void 0);var i=GO(zi(t),t,VO(e),0,r,n);return i===Ge?r:i}function GO(t,e,r,n,i,a){var s=e===Ge;if(n===r.length){var o=s?i:e,f=a(o);return f===o?e:f}if(!s&&!fc(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Op)+"]: "+e);var c=r[n],u=s?Ge:g2(e,c,Ge),l=GO(u===Ge?t:zi(u),u,r,n+1,i,a);return l===u?e:l===Ge?C8(e,c):T8(s?t?Ya():{}:e,c,l)}function O8(t,e,r){return mc(t,e,Ge,function(){return r})}function B8(t,e){return O8(this,t,e)}function D8(t,e){return mc(t,e,function(){return Ge})}function M8(t){return D8(this,t)}function y2(t,e,r,n){return mc(t,[e],r,n)}function R8(t,e,r){return arguments.length===1?t(this):y2(this,t,e,r)}function L8(t,e,r){return mc(this,t,e,r)}function WO(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ZO(this,t)}function XO(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return ZO(this,e,t)}function ZO(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=Oa(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(s){for(var o=r?function(c,u){y2(s,u,Ge,function(l){return l===Ge?c:r(l,c,u)})}:function(c,u){s.set(u,c)},f=0;f<n.length;f++)n[f].forEach(o)})}function JO(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return S1(t,e)}function eB(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return S1(e,r,t)}function tB(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return x1(t,e)}function rB(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return x1(e,r,t)}function x1(t,e,r){return S1(t,e,D$(r))}function S1(t,e,r){if(!fc(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(zi(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?Uu:Oa,s=n?function(f){i===t&&(i=uy(i)),i.push(f)}:function(f,c){var u=f0.call(i,c),l=u&&r?r(i[c],f,c):f;(!u||l!==i[c])&&(i===t&&(i=uy(i)),i[c]=l)},o=0;o<e.length;o++)a(e[o]).forEach(s);return i}function D$(t){function e(r,n,i){return fc(r)&&fc(n)&&M$(r,n)?S1(r,[n],e):t?t(r,n,i):n}return e}function M$(t,e){var r=On(t),n=On(e);return tn(r)===tn(n)&&gt(r)===gt(n)}function nB(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return x1(this,t)}function iB(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return x1(this,e,t)}function H8(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return mc(this,t,Ya(),function(n){return S1(n,e)})}function P8(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return mc(this,t,Ya(),function(n){return x1(n,e)})}function I1(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function C1(){return this.__ownerID?this:this.__ensureOwner(new p8)}function T1(){return this.__ensureOwner()}function N8(){return this.__altered}var Zo=function(t){function e(r){return r==null?Ya():E1(r)&&!Ri(r)?r:Ya().withMutations(function(n){var i=t(r);Ii(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Ya().withMutations(function(a){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);a.set(n[s],n[s+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return iA(this,n,i)},e.prototype.remove=function(n){return iA(this,n,Ge)},e.prototype.deleteAll=function(n){var i=Ot(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(s){return a.remove(s)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ya()},e.prototype.sort=function(n){return os(wd(this,n))},e.prototype.sortBy=function(n,i){return os(wd(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){s.forEach(function(o,f){s.set(f,n.call(i,o,f,a))})})},e.prototype.__iterator=function(n,i){return new R$(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,s=0;return this._root&&this._root.iterate(function(o){return s++,n(o[1],o[0],a)},i),s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?U8(this.size,this._root,n,this.__hash):this.size===0?Ya():(this.__ownerID=n,this.__altered=!1,this)},e}(Oa);Zo.isMap=E1;var Mt=Zo.prototype;Mt[NO]=!0;Mt[v1]=Mt.remove;Mt.removeAll=Mt.deleteAll;Mt.setIn=B8;Mt.removeIn=Mt.deleteIn=M8;Mt.update=R8;Mt.updateIn=L8;Mt.merge=Mt.concat=WO;Mt.mergeWith=XO;Mt.mergeDeep=nB;Mt.mergeDeepWith=iB;Mt.mergeIn=H8;Mt.mergeDeepIn=P8;Mt.withMutations=I1;Mt.wasAltered=N8;Mt.asImmutable=T1;Mt["@@transducer/init"]=Mt.asMutable=C1;Mt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Mt["@@transducer/result"]=function(t){return t.asImmutable()};var Bp=function(e,r){this.ownerID=e,this.entries=r};Bp.prototype.get=function(e,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(xr(n,a[s][0]))return a[s][1];return i};Bp.prototype.update=function(e,r,n,i,a,s,o){for(var f=a===Ge,c=this.entries,u=0,l=c.length;u<l&&!xr(i,c[u][0]);u++);var p=u<l;if(p?c[u][1]===a:f)return this;if(pa(o),(f||!p)&&pa(s),!(f&&c.length===1)){if(!p&&!f&&c.length>=k$)return L$(e,c,i,a);var y=e&&e===this.ownerID,m=y?c:Cs(c);return p?f?u===l-1?m.pop():m[u]=m.pop():m[u]=[i,a]:m.push([i,a]),y?(this.entries=m,this):new Bp(e,m)}};var Ad=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Ad.prototype.get=function(e,r,n,i){r===void 0&&(r=jn(n));var a=1<<((e===0?r:r>>>e)&Kn),s=this.bitmap;return s&a?this.nodes[aB(s&a-1)].get(e+Ct,r,n,i):i};Ad.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=jn(i));var f=(r===0?n:n>>>r)&Kn,c=1<<f,u=this.bitmap,l=(u&c)!==0;if(!l&&a===Ge)return this;var p=aB(u&c-1),y=this.nodes,m=l?y[p]:void 0,A=k8(m,e,r+Ct,n,i,a,s,o);if(A===m)return this;if(!l&&A&&y.length>=z$)return P$(e,y,u,f,A);if(l&&!A&&y.length===2&&aA(y[p^1]))return y[p^1];if(l&&A&&y.length===1&&aA(A))return A;var S=e&&e===this.ownerID,w=l?A?u:u^c:u|c,C=l?A?sB(y,p,A,S):U$(y,p,S):N$(y,p,A,S);return S?(this.bitmap=w,this.nodes=C,this):new Ad(e,w,C)};var Dp=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};Dp.prototype.get=function(e,r,n,i){r===void 0&&(r=jn(n));var a=(e===0?r:r>>>e)&Kn,s=this.nodes[a];return s?s.get(e+Ct,r,n,i):i};Dp.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=jn(i));var f=(r===0?n:n>>>r)&Kn,c=a===Ge,u=this.nodes,l=u[f];if(c&&!l)return this;var p=k8(l,e,r+Ct,n,i,a,s,o);if(p===l)return this;var y=this.count;if(!l)y++;else if(!p&&(y--,y<j$))return H$(e,u,y,f);var m=e&&e===this.ownerID,A=sB(u,f,p,m);return m?(this.count=y,this.nodes=A,this):new Dp(e,y,A)};var Ed=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Ed.prototype.get=function(e,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(xr(n,a[s][0]))return a[s][1];return i};Ed.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=jn(i));var f=a===Ge;if(n!==this.keyHash)return f?this:(pa(o),pa(s),z8(this,e,r,n,[i,a]));for(var c=this.entries,u=0,l=c.length;u<l&&!xr(i,c[u][0]);u++);var p=u<l;if(p?c[u][1]===a:f)return this;if(pa(o),(f||!p)&&pa(s),f&&l===2)return new $o(e,this.keyHash,c[u^1]);var y=e&&e===this.ownerID,m=y?c:Cs(c);return p?f?u===l-1?m.pop():m[u]=m.pop():m[u]=[i,a]:m.push([i,a]),y?(this.entries=m,this):new Ed(e,this.keyHash,m)};var $o=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};$o.prototype.get=function(e,r,n,i){return xr(n,this.entry[0])?this.entry[1]:i};$o.prototype.update=function(e,r,n,i,a,s,o){var f=a===Ge,c=xr(i,this.entry[0]);if(c?a===this.entry[1]:f)return this;if(pa(o),f){pa(s);return}return c?e&&e===this.ownerID?(this.entry[1]=a,this):new $o(e,this.keyHash,[i,a]):(pa(s),z8(this,e,r,jn(i),[i,a]))};Bp.prototype.iterate=Ed.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Ad.prototype.iterate=Dp.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};$o.prototype.iterate=function(t,e){return t(this.entry)};var R$=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&rA(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,s=i.index++,o=void 0;if(a.entry){if(s===0)return O_(n,a.entry)}else if(a.entries){if(o=a.entries.length-1,s<=o)return O_(n,a.entries[this._reverse?o-s:s])}else if(o=a.nodes.length-1,s<=o){var f=a.nodes[this._reverse?o-s:s];if(f){if(f.entry)return O_(n,f.entry);i=this._stack=rA(f,i)}continue}i=this._stack=this._stack.__prev}return Wn()},e}(tt);function O_(t,e){return Bt(t,e[0],e[1])}function rA(t,e){return{node:t,index:0,__prev:e}}function U8(t,e,r,n){var i=Object.create(Mt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var nA;function Ya(){return nA||(nA=U8(0))}function iA(t,e,r){var n,i;if(t._root){var a=Q3(),s=Q3();if(n=k8(t._root,t.__ownerID,0,void 0,e,r,a,s),!s.value)return t;i=t.size+(a.value?r===Ge?-1:1:0)}else{if(r===Ge)return t;i=1,n=new Bp(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?U8(i,n):Ya()}function k8(t,e,r,n,i,a,s,o){return t?t.update(e,r,n,i,a,s,o):a===Ge?t:(pa(o),pa(s),new $o(e,n,[i,a]))}function aA(t){return t.constructor===$o||t.constructor===Ed}function z8(t,e,r,n,i){if(t.keyHash===n)return new Ed(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&Kn,s=(r===0?n:n>>>r)&Kn,o,f=a===s?[z8(t,e,r+Ct,n,i)]:(o=new $o(e,n,i),a<s?[t,o]:[o,t]);return new Ad(e,1<<a|1<<s,f)}function L$(t,e,r,n){t||(t=new p8);for(var i=new $o(t,jn(r),[r,n]),a=0;a<e.length;a++){var s=e[a];i=i.update(t,0,void 0,s[0],s[1])}return i}function H$(t,e,r,n){for(var i=0,a=0,s=new Array(r),o=0,f=1,c=e.length;o<c;o++,f<<=1){var u=e[o];u!==void 0&&o!==n&&(i|=f,s[a++]=u)}return new Ad(t,i,s)}function P$(t,e,r,n,i){for(var a=0,s=new Array(ha),o=0;r!==0;o++,r>>>=1)s[o]=r&1?e[a++]:void 0;return s[n]=i,new Dp(t,a+1,s)}function aB(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function sB(t,e,r,n){var i=n?t:Cs(t);return i[e]=r,i}function N$(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),s=0,o=0;o<i;o++)o===e?(a[o]=r,s=-1):a[o]=t[o+s];return a}function U$(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,s=0;s<n;s++)s===e&&(a=1),i[s]=t[s+a];return i}var k$=ha/4,z$=ha/2,j$=ha/4,oB="@@__IMMUTABLE_LIST__@@";function v2(t){return!!(t&&t[oB])}var Aa=function(t){function e(r){var n=yg();if(r==null)return n;if(v2(r))return r;var i=t(r),a=i.size;return a===0?n:(Ii(a),a>0&&a<ha?Mp(0,a,Ct,null,new Zf(i.toArray())):n.withMutations(function(s){s.setSize(a),i.forEach(function(o,f){return s.set(f,o)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=oc(this,n),n>=0&&n<this.size){n+=this._origin;var a=fB(this,n);return a&&a.array[n&Kn]}return i},e.prototype.set=function(n,i){return $$(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ct,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):yg()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){Ef(a,0,i+n.length);for(var s=0;s<n.length;s++)a.set(i+s,n[s])})},e.prototype.pop=function(){return Ef(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Ef(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return Ef(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var s=n[a],o=t(typeof s!="string"&&b8(s)?s:[s]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(f){i.forEach(function(c){return c.forEach(function(u){return f.push(u)})})})},e.prototype.setSize=function(n){return Ef(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){for(var o=0;o<a.size;o++)s.set(o,n.call(i,s.get(o),o,a))})},e.prototype.slice=function(n,i){var a=this.size;return _1(n,i,a)?this:Ef(this,i0(n,a),m1(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,s=sA(this,i);return new tt(function(){var o=s();return o===Jh?Wn():Bt(n,i?--a:a++,o)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,s=sA(this,i),o;(o=s())!==Jh&&n(o,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Mp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?yg():(this.__ownerID=n,this.__altered=!1,this)},e}(Uu);Aa.isList=v2;var _r=Aa.prototype;_r[oB]=!0;_r[v1]=_r.remove;_r.merge=_r.concat;_r.setIn=B8;_r.deleteIn=_r.removeIn=M8;_r.update=R8;_r.updateIn=L8;_r.mergeIn=H8;_r.mergeDeepIn=P8;_r.withMutations=I1;_r.wasAltered=N8;_r.asImmutable=T1;_r["@@transducer/init"]=_r.asMutable=C1;_r["@@transducer/step"]=function(t,e){return t.push(e)};_r["@@transducer/result"]=function(t){return t.asImmutable()};var Zf=function(e,r){this.array=e,this.ownerID=r};Zf.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Kn;if(i>=this.array.length)return new Zf([],e);var a=i===0,s;if(r>0){var o=this.array[i];if(s=o&&o.removeBefore(e,r-Ct,n),s===o&&a)return this}if(a&&!s)return this;var f=xd(this,e);if(!a)for(var c=0;c<i;c++)f.array[c]=void 0;return s&&(f.array[i]=s),f};Zf.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Kn;if(i>=this.array.length)return this;var a;if(r>0){var s=this.array[i];if(a=s&&s.removeAfter(e,r-Ct,n),a===s&&i===this.array.length-1)return this}var o=xd(this,e);return o.array.splice(i+1),a&&(o.array[i]=a),o};var Jh={};function sA(t,e){var r=t._origin,n=t._capacity,i=Rp(n),a=t._tail;return s(t._root,t._level,0);function s(c,u,l){return u===0?o(c,l):f(c,u,l)}function o(c,u){var l=u===i?a&&a.array:c&&c.array,p=u>r?0:r-u,y=n-u;return y>ha&&(y=ha),function(){if(p===y)return Jh;var m=e?--y:p++;return l&&l[m]}}function f(c,u,l){var p,y=c&&c.array,m=l>r?0:r-l>>u,A=(n-l>>u)+1;return A>ha&&(A=ha),function(){for(;;){if(p){var S=p();if(S!==Jh)return S;p=null}if(m===A)return Jh;var w=e?--A:m++;p=s(y&&y[w],u-Ct,l+(w<<u))}}}}function Mp(t,e,r,n,i,a,s){var o=Object.create(_r);return o.size=e-t,o._origin=t,o._capacity=e,o._level=r,o._root=n,o._tail=i,o.__ownerID=a,o.__hash=s,o.__altered=!1,o}var oA;function yg(){return oA||(oA=Mp(0,0,Ct))}function $$(t,e,r){if(e=oc(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(s){e<0?Ef(s,e).set(0,r):Ef(s,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=Q3();return e>=Rp(t._capacity)?n=Z3(n,t.__ownerID,0,e,r,a):i=Z3(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Mp(t._origin,t._capacity,t._level,i,n):t}function Z3(t,e,r,n,i,a){var s=n>>>r&Kn,o=t&&s<t.array.length;if(!o&&i===void 0)return t;var f;if(r>0){var c=t&&t.array[s],u=Z3(c,e,r-Ct,n,i,a);return u===c?t:(f=xd(t,e),f.array[s]=u,f)}return o&&t.array[s]===i?t:(a&&pa(a),f=xd(t,e),i===void 0&&s===f.array.length-1?f.array.pop():f.array[s]=i,f)}function xd(t,e){return e&&t&&e===t.ownerID?t:new Zf(t?t.array.slice():[],e)}function fB(t,e){if(e>=Rp(t._capacity))return t._tail;if(e<1<<t._level+Ct){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Kn],n-=Ct;return r}}function Ef(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new p8,i=t._origin,a=t._capacity,s=i+e,o=r===void 0?a:r<0?a+r:i+r;if(s===i&&o===a)return t;if(s>=o)return t.clear();for(var f=t._level,c=t._root,u=0;s+u<0;)c=new Zf(c&&c.array.length?[void 0,c]:[],n),f+=Ct,u+=1<<f;u&&(s+=u,i+=u,o+=u,a+=u);for(var l=Rp(a),p=Rp(o);p>=1<<f+Ct;)c=new Zf(c&&c.array.length?[c]:[],n),f+=Ct;var y=t._tail,m=p<l?fB(t,o-1):p>l?new Zf([],n):y;if(y&&p>l&&s<a&&y.array.length){c=xd(c,n);for(var A=c,S=f;S>Ct;S-=Ct){var w=l>>>S&Kn;A=A.array[w]=xd(A.array[w],n)}A.array[l>>>Ct&Kn]=y}if(o<a&&(m=m&&m.removeAfter(n,0,o)),s>=p)s-=p,o-=p,f=Ct,c=null,m=m&&m.removeBefore(n,0,s);else if(s>i||p<l){for(u=0;c;){var C=s>>>f&Kn;if(C!==p>>>f&Kn)break;C&&(u+=(1<<f)*C),f-=Ct,c=c.array[C]}c&&s>i&&(c=c.removeBefore(n,f,s-u)),c&&p<l&&(c=c.removeAfter(n,f,p-u)),u&&(s-=u,o-=u)}return t.__ownerID?(t.size=o-s,t._origin=s,t._capacity=o,t._level=f,t._root=c,t._tail=m,t.__hash=void 0,t.__altered=!0,t):Mp(s,o,f,c,m)}function Rp(t){return t<ha?0:t-1>>>Ct<<Ct}var os=function(t){function e(r){return r==null?Sh():d2(r)?r:Sh().withMutations(function(n){var i=Oa(r);Ii(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Sh()},e.prototype.set=function(n,i){return cA(this,n,i)},e.prototype.remove=function(n){return cA(this,n,Ge)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?j8(i,a,n,this.__hash):this.size===0?Sh():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(Zo);os.isOrderedMap=d2;os.prototype[o0]=!0;os.prototype[v1]=os.prototype.remove;function j8(t,e,r,n){var i=Object.create(os.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var fA;function Sh(){return fA||(fA=j8(Ya(),yg()))}function cA(t,e,r){var n=t._map,i=t._list,a=n.get(e),s=a!==void 0,o,f;if(r===Ge){if(!s)return t;i.size>=ha&&i.size>=n.size*2?(f=i.filter(function(c,u){return c!==void 0&&a!==u}),o=f.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),t.__ownerID&&(o.__ownerID=f.__ownerID=t.__ownerID)):(o=n.remove(e),f=a===i.size-1?i.pop():i.set(a,void 0))}else if(s){if(r===i.get(a)[1])return t;o=n,f=i.set(a,[e,r])}else o=n.set(e,i.size),f=i.set(i.size,[e,r]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=f,t.__hash=void 0,t.__altered=!0,t):j8(o,f)}var cB="@@__IMMUTABLE_STACK__@@";function Lp(t){return!!(t&&t[cB])}var O1=function(t){function e(r){return r==null?zb():Lp(r)?r:zb().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=oc(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,s=arguments.length-1;s>=0;s--)a={value:n[s],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Ih(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Lp(n))return n;Ii(n.size);var i=this.size,a=this._head;return n.__iterate(function(s){i++,a={value:s,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Ih(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):zb()},e.prototype.slice=function(n,i){if(_1(n,i,this.size))return this;var a=i0(n,this.size),s=m1(i,this.size);if(s!==this.size)return t.prototype.slice.call(this,n,i);for(var o=this.size-a,f=this._head;a--;)f=f.next;return this.__ownerID?(this.size=o,this._head=f,this.__hash=void 0,this.__altered=!0,this):Ih(o,f)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ih(this.size,this._head,n,this.__hash):this.size===0?zb():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new Eu(this.toArray()).__iterate(function(f,c){return n(f,c,a)},i);for(var s=0,o=this._head;o&&n(o.value,s++,this)!==!1;)o=o.next;return s},e.prototype.__iterator=function(n,i){if(i)return new Eu(this.toArray()).__iterator(n,i);var a=0,s=this._head;return new tt(function(){if(s){var o=s.value;return s=s.next,Bt(n,a++,o)}return Wn()})},e}(Uu);O1.isStack=Lp;var Xn=O1.prototype;Xn[cB]=!0;Xn.shift=Xn.pop;Xn.unshift=Xn.push;Xn.unshiftAll=Xn.pushAll;Xn.withMutations=I1;Xn.wasAltered=N8;Xn.asImmutable=T1;Xn["@@transducer/init"]=Xn.asMutable=C1;Xn["@@transducer/step"]=function(t,e){return t.unshift(e)};Xn["@@transducer/result"]=function(t){return t.asImmutable()};function Ih(t,e,r,n){var i=Object.create(Xn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var uA;function zb(){return uA||(uA=Ih(0))}var uB="@@__IMMUTABLE_SET__@@";function B1(t){return!!(t&&t[uB])}function _2(t){return B1(t)&&Ri(t)}function $8(t,e){if(t===e)return!0;if(!Tn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||gt(t)!==gt(e)||tn(t)!==tn(e)||Ri(t)!==Ri(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!a0(t);if(Ri(t)){var n=t.entries();return e.every(function(f,c){var u=n.next().value;return u&&xr(u[1],f)&&(r||xr(u[0],c))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var s=!0,o=e.__iterate(function(f,c){if(r?!t.has(f):i?!xr(f,t.get(c,Ge)):!xr(t.get(c,Ge),f))return s=!1,!1});return s&&t.size===o}function ku(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function ly(t){if(!t||typeof t!="object")return t;if(!Tn(t)){if(!fc(t))return t;t=On(t)}if(gt(t)){var e={};return t.__iterate(function(n,i){e[i]=ly(n)}),e}var r=[];return t.__iterate(function(n){r.push(ly(n))}),r}var u0=function(t){function e(r){return r==null?Ch():B1(r)&&!Ri(r)?r:Ch().withMutations(function(n){var i=t(r);Ii(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Oa(n).keySeq())},e.intersect=function(n){return n=Ot(n).toArray(),n.length?rn.intersect.apply(e(n.pop()),n):Ch()},e.union=function(n){return n=Ot(n).toArray(),n.length?rn.union.apply(e(n.pop()),n):Ch()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return jb(this,this._map.set(n,n))},e.prototype.remove=function(n){return jb(this,this._map.remove(n))},e.prototype.clear=function(){return jb(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,s=!1,o=jb(this,this._map.mapEntries(function(f){var c=f[1],u=n.call(i,c,c,a);return u!==c&&(s=!0),[u,u]},i));return s?o:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var s=0;s<n.length;s++)typeof n[s]=="string"?a.add(n[s]):t(n[s]).forEach(function(o){return a.add(o)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return t(s)});var a=[];return this.forEach(function(s){n.every(function(o){return o.includes(s)})||a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return t(s)});var a=[];return this.forEach(function(s){n.some(function(o){return o.includes(s)})&&a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},e.prototype.sort=function(n){return xu(wd(this,n))},e.prototype.sortBy=function(n,i){return xu(wd(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(s){return n(s,s,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(s0);u0.isSet=B1;var rn=u0.prototype;rn[uB]=!0;rn[v1]=rn.remove;rn.merge=rn.concat=rn.union;rn.withMutations=I1;rn.asImmutable=T1;rn["@@transducer/init"]=rn.asMutable=C1;rn["@@transducer/step"]=function(t,e){return t.add(e)};rn["@@transducer/result"]=function(t){return t.asImmutable()};rn.__empty=Ch;rn.__make=lB;function jb(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function lB(t,e){var r=Object.create(rn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var lA;function Ch(){return lA||(lA=lB(Ya()))}var F8=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(S8(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(B_)return B_;B_=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+oc(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return _1(n,i,this.size)?this:(n=i0(n,this.size),i=m1(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,f=0;f!==a&&n(o,i?a-++f:f++,this)!==!1;)o+=i?-s:s;return f},e.prototype.__iterator=function(n,i){var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,f=0;return new tt(function(){if(f===a)return Wn();var c=o;return o+=i?-s:s,Bt(n,i?a-++f:f++,c)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:$8(this,n)},e}(Ba),B_;function m2(t,e,r){for(var n=VO(e),i=0;i!==n.length;)if(t=g2(t,n[i++],Ge),t===Ge)return r;return t}function dB(t,e){return m2(this,t,e)}function q8(t,e){return m2(t,e,Ge)!==Ge}function F$(t){return q8(this,t)}function hB(){Ii(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ot.isIterable=Tn;Ot.isKeyed=gt;Ot.isIndexed=tn;Ot.isAssociative=a0;Ot.isOrdered=Ri;Ot.Iterator=tt;ku(Ot,{toArray:function(){Ii(this.size);var e=new Array(this.size||0),r=gt(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new kO(this)},toJS:function(){return ly(this)},toKeyedSeq:function(){return new p2(this,!0)},toMap:function(){return Zo(this.toKeyedSeq())},toObject:hB,toOrderedMap:function(){return os(this.toKeyedSeq())},toOrderedSet:function(){return xu(gt(this)?this.valueSeq():this)},toSet:function(){return u0(gt(this)?this.valueSeq():this)},toSetSeq:function(){return new zO(this)},toSeq:function(){return tn(this)?this.toIndexedSeq():gt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return O1(gt(this)?this.valueSeq():this)},toList:function(){return Aa(gt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return ht(this,C$(this,e))},includes:function(e){return this.some(function(r){return xr(r,e)})},entries:function(){return this.__iterator(wa)},every:function(e,r){Ii(this.size);var n=!0;return this.__iterate(function(i,a,s){if(!e.call(r,i,a,s))return n=!1,!1}),n},filter:function(e,r){return ht(this,qO(this,e,r,!0))},partition:function(e,r){return S$(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Ii(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Ii(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(A1)},map:function(e,r){return ht(this,FO(this,e,r))},reduce:function(e,r,n){return dA(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return dA(this,e,r,n,arguments.length<2,!0)},reverse:function(){return ht(this,w8(this,!0))},slice:function(e,r){return ht(this,A8(this,e,r,!0))},some:function(e,r){Ii(this.size);var n=!1;return this.__iterate(function(i,a,s){if(e.call(r,i,a,s))return n=!0,!1}),n},sort:function(e){return ht(this,wd(this,e))},values:function(){return this.__iterator(ss)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return md(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return E$(this,e,r)},equals:function(e){return $8(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Eu(e._cache);var r=e.toSeq().map(K$).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(D_(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,s,o){if(e.call(r,a,s,o))return i=[s,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(CO,null,e)},flatMap:function(e,r){return ht(this,T$(this,e,r))},flatten:function(e){return ht(this,QO(this,e,!0))},fromEntrySeq:function(){return new jO(this)},get:function(e,r){return this.find(function(n,i){return xr(i,e)},void 0,r)},getIn:dB,groupBy:function(e,r){return x$(this,e,r)},has:function(e){return this.get(e,Ge)!==Ge},hasIn:F$,isSubset:function(e){return e=typeof e.includes=="function"?e:Ot(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ot(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return xr(r,e)})},keySeq:function(){return this.toSeq().map(q$).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ub(this,e)},maxBy:function(e,r){return Ub(this,r,e)},min:function(e){return Ub(this,e?hA(e):bA)},minBy:function(e,r){return Ub(this,r?hA(r):bA,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return ht(this,KO(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(D_(e),r)},sortBy:function(e,r){return ht(this,wd(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return ht(this,I$(this,e,r))},takeUntil:function(e,r){return this.takeWhile(D_(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Q$(this))}});var Bn=Ot.prototype;Bn[BO]=!0;Bn[u2]=Bn.values;Bn.toJSON=Bn.toArray;Bn.__toStringMapper=Op;Bn.inspect=Bn.toSource=function(){return this.toString()};Bn.chain=Bn.flatMap;Bn.contains=Bn.includes;ku(Oa,{flip:function(){return ht(this,$O(this))},mapEntries:function(e,r){var n=this,i=0;return ht(this,this.toSeq().map(function(a,s){return e.call(r,[s,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return ht(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var D1=Oa.prototype;D1[DO]=!0;D1[u2]=Bn.entries;D1.toJSON=hB;D1.__toStringMapper=function(t,e){return Op(e)+": "+Op(t)};ku(Uu,{toKeyedSeq:function(){return new p2(this,!1)},filter:function(e,r){return ht(this,qO(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return ht(this,w8(this,!1))},slice:function(e,r){return ht(this,A8(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=i0(e,e<0?this.count():this.size);var i=this.slice(0,e);return ht(this,n===1?i:i.concat(Cs(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ht(this,QO(this,e,!1))},get:function(e,r){return e=oc(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=oc(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ht(this,O$(this,e))},interleave:function(){var e=[this].concat(Cs(arguments)),r=kb(this.toSeq(),Ba.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),ht(this,n)},keySeq:function(){return F8(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return ht(this,KO(this,e,r,!1))},zip:function(){var e=[this].concat(Cs(arguments));return ht(this,kb(this,pA,e))},zipAll:function(){var e=[this].concat(Cs(arguments));return ht(this,kb(this,pA,e,!0))},zipWith:function(e){var r=Cs(arguments);return r[0]=this,ht(this,kb(this,e,r))}});var l0=Uu.prototype;l0[MO]=!0;l0[o0]=!0;ku(s0,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Sd=s0.prototype;Sd.has=Bn.includes;Sd.contains=Sd.includes;Sd.keys=Sd.values;ku(_c,D1);ku(Ba,l0);ku(c0,Sd);function dA(t,e,r,n,i,a){return Ii(t.size),t.__iterate(function(s,o,f){i?(i=!1,r=s):r=e.call(n,r,s,o,f)},a),r}function q$(t,e){return e}function K$(t,e){return[e,t]}function D_(t){return function(){return!t.apply(this,arguments)}}function hA(t){return function(){return-t.apply(this,arguments)}}function pA(){return Cs(arguments)}function bA(t,e){return t<e?1:t>e?-1:0}function Q$(t){if(t.size===1/0)return 0;var e=Ri(t),r=gt(t),n=e?1:0,i=t.__iterate(r?e?function(a,s){n=31*n+gA(jn(a),jn(s))|0}:function(a,s){n=n+gA(jn(a),jn(s))|0}:e?function(a){n=31*n+jn(a)|0}:function(a){n=n+jn(a)|0});return Y$(i,n)}function Y$(t,e){return e=rh(e,3432918353),e=rh(e<<15|e>>>-15,461845907),e=rh(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=rh(e^e>>>16,2246822507),e=rh(e^e>>>13,3266489909),e=h2(e^e>>>16),e}function gA(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var xu=function(t){function e(r){return r==null?J3():_2(r)?r:J3().withMutations(function(n){var i=s0(r);Ii(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Oa(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(u0);xu.isOrderedSet=_2;var zu=xu.prototype;zu[o0]=!0;zu.zip=l0.zip;zu.zipWith=l0.zipWith;zu.zipAll=l0.zipAll;zu.__empty=J3;zu.__make=pB;function pB(t,e){var r=Object.create(zu);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var yA;function J3(){return yA||(yA=pB(Sh()))}var bB={LeftThenRight:-1,RightThenLeft:1};function V$(t){if(vc(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(zi(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var pr=function(e,r){var n;V$(e);var i=function(o){var f=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var c=Object.keys(e),u=a._indices={};a._name=r,a._keys=c,a._defaultValues=e;for(var l=0;l<c.length;l++){var p=c[l];u[p]=l,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Q8(this)+' with property "'+p+'" since that property name is part of the Record API.'):G$(a,p)}}return this.__ownerID=void 0,this._values=Aa().withMutations(function(y){y.setSize(f._keys.length),Oa(o).forEach(function(m,A){y.set(f._indices[A],m===f._defaultValues[A]?void 0:m)})}),this},a=i.prototype=Object.create(At);return a.constructor=i,r&&(i.displayName=r),i};pr.prototype.toString=function(){for(var e=Q8(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+Op(this.get(n));return e+" }"};pr.prototype.equals=function(e){return this===e||vc(e)&&Id(this).equals(Id(e))};pr.prototype.hashCode=function(){return Id(this).hashCode()};pr.prototype.has=function(e){return this._indices.hasOwnProperty(e)};pr.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};pr.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return K8(this,n)}return this};pr.prototype.remove=function(e){return this.set(e)};pr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:K8(this,e)};pr.prototype.wasAltered=function(){return this._values.wasAltered()};pr.prototype.toSeq=function(){return Id(this)};pr.prototype.toJS=function(){return ly(this)};pr.prototype.entries=function(){return this.__iterator(wa)};pr.prototype.__iterator=function(e,r){return Id(this).__iterator(e,r)};pr.prototype.__iterate=function(e,r){return Id(this).__iterate(e,r)};pr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?K8(this,r,e):(this.__ownerID=e,this._values=r,this)};pr.isRecord=vc;pr.getDescriptiveName=Q8;var At=pr.prototype;At[LO]=!0;At[v1]=At.remove;At.deleteIn=At.removeIn=M8;At.getIn=dB;At.hasIn=Bn.hasIn;At.merge=WO;At.mergeWith=XO;At.mergeIn=H8;At.mergeDeep=nB;At.mergeDeepWith=iB;At.mergeDeepIn=P8;At.setIn=B8;At.update=R8;At.updateIn=L8;At.withMutations=I1;At.asMutable=C1;At.asImmutable=T1;At[u2]=At.entries;At.toJSON=At.toObject=Bn.toObject;At.inspect=At.toSource=function(){return this.toString()};function K8(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function Q8(t){return t.constructor.displayName||t.constructor.name||"Record"}function Id(t){return _8(t._keys.map(function(e){return[e,t.get(e)]}))}function G$(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){S8(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var gB=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(M_)return M_;M_=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return xr(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return _1(n,i,a)?this:new e(this._value,m1(i,a)-i0(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return xr(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return xr(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,s=0;s!==a&&n(this._value,i?a-++s:s++,this)!==!1;);return s},e.prototype.__iterator=function(n,i){var a=this,s=this.size,o=0;return new tt(function(){return o===s?Wn():Bt(n,i?s-++o:o++,a._value)})},e.prototype.equals=function(n){return n instanceof e?xr(this._value,n._value):$8(this,n)},e}(Ba),M_;function yB(t,e){return vB([],e||W$,t,"",e&&e.length>2?[]:void 0,{"":t})}function vB(t,e,r,n,i,a){if(typeof r!="string"&&!zi(r)&&(g8(r)||b8(r)||b2(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var s=e.call(a,n,On(r).map(function(o,f){return vB(t,e,o,f,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),s}return r}function W$(t,e){return tn(e)?e.toList():gt(e)?e.toMap():e.toSet()}var _B="4.3.7",X$={version:_B,Collection:Ot,Iterable:Ot,Seq:On,Map:Zo,OrderedMap:os,List:Aa,Stack:O1,Set:u0,OrderedSet:xu,PairSorting:bB,Record:pr,Range:F8,Repeat:gB,is:xr,fromJS:yB,hash:jn,isImmutable:zi,isCollection:Tn,isKeyed:gt,isIndexed:tn,isAssociative:a0,isOrdered:Ri,isValueObject:cy,isPlainObject:b2,isSeq:w1,isList:v2,isMap:E1,isOrderedMap:d2,isStack:Lp,isSet:B1,isOrderedSet:_2,isRecord:vc,get:g2,getIn:m2,has:I8,hasIn:q8,merge:JO,mergeDeep:tB,mergeWith:eB,mergeDeepWith:rB,remove:C8,removeIn:D8,set:T8,setIn:O8,update:y2,updateIn:mc},Z$=Ot;const J$=Object.freeze(Object.defineProperty({__proto__:null,Collection:Ot,Iterable:Z$,List:Aa,Map:Zo,OrderedMap:os,OrderedSet:xu,PairSorting:bB,Range:F8,Record:pr,Repeat:gB,Seq:On,Set:u0,Stack:O1,default:X$,fromJS:yB,get:g2,getIn:m2,has:I8,hasIn:q8,hash:jn,is:xr,isAssociative:a0,isCollection:Tn,isImmutable:zi,isIndexed:tn,isKeyed:gt,isList:v2,isMap:E1,isOrdered:Ri,isOrderedMap:d2,isOrderedSet:_2,isPlainObject:b2,isRecord:vc,isSeq:w1,isSet:B1,isStack:Lp,isValueObject:cy,merge:JO,mergeDeep:tB,mergeDeepWith:rB,mergeWith:eB,remove:C8,removeIn:D8,set:T8,setIn:O8,update:y2,updateIn:mc,version:_B},Symbol.toStringTag,{value:"Module"})),Jo=eS(J$);var Nr={},mB={};Object.defineProperty(mB,"__esModule",{value:!0});var ju={},wB=function t(e){Object.freeze(e);var r=typeof e=="function",n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(e).forEach(function(i){n.call(e,i)&&(!r||i!=="caller"&&i!=="callee"&&i!=="arguments")&&e[i]!==null&&(typeof e[i]=="object"||typeof e[i]=="function")&&!Object.isFrozen(e[i])&&t(e[i])}),e},d0={};Object.defineProperty(d0,"__esModule",{value:!0});d0.createConfig=Y8;d0.predefined=void 0;var eF=tF(wB);function tF(t){return t&&t.__esModule?t:{default:t}}function Y8(t){return(0,eF.default)(t)}const rF=Y8({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),nF=Y8({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});d0.predefined={LINA:rF,AGGRON4:nF};Object.defineProperty(ju,"__esModule",{value:!0});ju.assertHashType=AB;ju.getConfig=cF;ju.initializeConfig=uF;ju.validateConfig=EB;var iF=sF(wB),aF=d0;function sF(t){return t&&t.__esModule?t:{default:t}}function oF(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function vA(t,e){if(oF(t,e),e.length!==66)throw new Error(`${t} must be a hex string of 66 characters long!`)}function fF(t,e){if(e!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function AB(t,e){if(e!=="type"&&e!=="data"&&e!=="data1"&&e!=="data2")throw new Error(`${t} must one of type, data, data1, data2!`)}function _A(t,e="variable"){if(!t)throw new Error(`${e} is not valid`)}function EB(t){_A(typeof t.SCRIPTS=="object"&&t.SCRIPTS!=null,"config.SCRIPT");for(const e of Object.keys(t.SCRIPTS)){const r=t.SCRIPTS[e];_A(r==null?void 0:r.CODE_HASH),vA(`SCRIPTS.${e}.CODE_HASH`,r.CODE_HASH),AB(`SCRIPTS.${e}.HASH_TYPE`,r.HASH_TYPE),vA(`SCRIPTS.${e}.TX_HASH`,r.TX_HASH),fF(`SCRIPTS.${e}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if(n!=="depGroup"&&n!=="code")throw new Error(`SCRIPTS.${e}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(i!=null&&typeof i!="number")throw new Error("SHORT_ID must be a number!")}}let xB=aF.predefined.LINA;function cF(){return xB}function uF(t){EB(t),xB=(0,iF.default)(t)}var w2={};Object.defineProperty(w2,"__esModule",{value:!0});w2.findConfigByScript=lF;w2.nameOfScript=dF;var SB=ju;function lF(t,e){const r=e||(0,SB.getConfig)().SCRIPTS;return Object.values(r).find(n=>(n==null?void 0:n.CODE_HASH)===t.codeHash&&(n==null?void 0:n.HASH_TYPE)===t.hashType)}function dF(t,e){const r=e||(0,SB.getConfig)().SCRIPTS,n=Object.entries(r).find(([,i])=>(i==null?void 0:i.CODE_HASH)===t.codeHash&&(i==null?void 0:i.HASH_TYPE)===t.hashType);if(n)return n[0]}var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.SIGHASH_OUTPUT_LOC=Ci.SIGHASH_GROUP_OUTPUT_LOC=Ci.MULTISIG_OUTPUT_LOC=Ci.MULTISIG_GROUP_OUTPUT_LOC=Ci.DAO_OUTPUT_LOC=void 0;Ci.generateGenesisScriptConfigs=pF;var hF=Ir;const mA=Ci.SIGHASH_OUTPUT_LOC=[0,1],wA=Ci.MULTISIG_OUTPUT_LOC=[0,4],AA=Ci.DAO_OUTPUT_LOC=[0,2],EA=Ci.SIGHASH_GROUP_OUTPUT_LOC=[1,0],xA=Ci.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function pF(t){if(!t||Number(t.header.number)!==0)throw new Error("The block must be a genesis block");const e=t.transactions;return{SECP256K1_BLAKE160:{...R_({transaction:e[mA[0]],outputIndex:mA[1],depGroupTransaction:e[EA[0]],depGroupOutputIndex:EA[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...R_({transaction:e[wA[0]],outputIndex:wA[1],depGroupTransaction:e[xA[0]],depGroupOutputIndex:xA[1]}),SHORT_ID:1},DAO:R_({transaction:e[AA[0]],outputIndex:AA[1]})}}function R_(t){var e;const{transaction:r,outputIndex:n}=t,i=hF.utils.computeScriptHash(L_((e=r.outputs[n])===null||e===void 0?void 0:e.type));if("depGroupTransaction"in t){const{depGroupOutputIndex:a,depGroupTransaction:s}=t;return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"depGroup",TX_HASH:L_(s.hash),INDEX:SA(a)}}return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"code",INDEX:SA(n),TX_HASH:L_(r.hash)}}function L_(t){if(t==null)throw new Error("The block must be a genesis block");return t}function SA(t){return`0x${t.toString(16)}`}var M1={};Object.defineProperty(M1,"__esModule",{value:!0});M1.createLatestTypeIdResolver=IB;M1.createRpcResolver=bF;M1.refreshScriptConfigs=gF;function bF(t){return IB(async n=>{const i=await t.createBatchRequest(n.map(a=>["getTransaction",a])).exec();return dy(n,i,(a,s)=>{if(!(s!=null&&s.transaction))throw new Error(`Cannot find transaction ${a}`);return s.transaction})},async n=>(await t.createBatchRequest(n.map(a=>["getCells",{script:a,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"])).exec()).map(a=>a.objects[0]))}function IB(t,e){return async r=>{const n=await t(r.map(s=>s.txHash)),i=dy(r,n,(s,o)=>(ep(s),ep(o,`Cannot find the OutPoint ${s.txHash}#${s.index}`),o.outputs[Number(s.index)].type)),a=await e(i.filter(Boolean));return dy(r,i,(s,o)=>{if(ep(s),!o)return s;const[f]=a.splice(0,1);return f.outPoint})}}async function gF(t,{resolve:e,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const n=Object.entries(t).filter(([o,f])=>!r.includes(o)&&(f==null?void 0:f.HASH_TYPE)==="type"),i=n.map(([o,f])=>({txHash:f.TX_HASH,index:f.INDEX})),a=await e(i),s=Object.fromEntries(dy(n,a,(o,f)=>{ep(o);const[c,u]=o;return ep(f,`Refreshing failed, cannot load config of ${c}, please check whether the scriptConfig is correct`),[c,{...u,TX_HASH:f.txHash,INDEX:f.index}]}));return Object.assign({},t,s)}function dy(t,e,r){return t.map((n,i)=>r(t[i],e[i]))}function ep(t,e="Not nullable"){if(t==null)throw new Error(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return a.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return o.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return o.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return s.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return n.getConfig}}),t.helpers=void 0,Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return n.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return a.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return o.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return n.validateConfig}});var r=mB;Object.keys(r).forEach(function(u){u==="default"||u==="__esModule"||Object.prototype.hasOwnProperty.call(e,u)||u in t&&t[u]===r[u]||Object.defineProperty(t,u,{enumerable:!0,get:function(){return r[u]}})});var n=ju,i=c(w2);t.helpers=i;var a=d0,s=Ci,o=M1;function f(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,p=new WeakMap;return(f=function(y){return y?p:l})(u)}function c(u,l){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var p=f(l);if(p&&p.has(u))return p.get(u);var y={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in u)if(A!=="default"&&{}.hasOwnProperty.call(u,A)){var S=m?Object.getOwnPropertyDescriptor(u,A):null;S&&(S.get||S.set)?Object.defineProperty(y,A,S):y[A]=u[A]}return y.default=u,p&&p.set(u,y),y}})(Nr);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.ADDRESS_FORMAT_SHORT=ba.ADDRESS_FORMAT_FULLTYPE=ba.ADDRESS_FORMAT_FULLDATA=ba.ADDRESS_FORMAT_FULL=void 0;ba.parseDeprecatedCkb2019Address=EF;ba.parseFullFormatAddress=AF;var yF=Ir,Uc=st,CB=Nr,hy=sc;const TB=1023,vF=ba.ADDRESS_FORMAT_FULL=0,_F=ba.ADDRESS_FORMAT_SHORT=1,mF=ba.ADDRESS_FORMAT_FULLDATA=2,wF=ba.ADDRESS_FORMAT_FULLTYPE=4;function AF(t,{config:e}){e=e||(0,CB.getConfig)();const{words:r,prefix:n}=hy.bech32m.decode(t,TB);if(n!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${n}`);const[i,...a]=hy.bech32m.fromWords(r);if(i!==vF)throw new Error("Invalid address format type");if(a.length<33)throw new Error("Invalid payload length, too short!");const s=Uc.bytes.hexify(a.slice(0,32)),o=yF.blockchain.HashType.unpack(a.slice(32,33)),f=Uc.bytes.hexify(a.slice(33));return{codeHash:s,hashType:o,args:f}}function EF(t,{config:e}){e=e||(0,CB.getConfig)();const{prefix:r,words:n}=hy.bech32.decode(t,TB);if(r!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${r}`);const[i,...a]=hy.bech32.fromWords(n);switch(i){case _F:{const[s,...o]=a;if(o.length!==20)throw Error("Invalid payload length!");const f=Object.values(e.SCRIPTS).find(c=>c&&c.SHORT_ID===s);if(!f)throw Error(`Invalid code hash index: ${s}!`);return{codeHash:f.CODE_HASH,hashType:f.HASH_TYPE,args:Uc.bytes.hexify(o)}}case mF:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:Uc.bytes.hexify(a.slice(0,32)),hashType:"data",args:Uc.bytes.hexify(a.slice(32))}}case wF:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:Uc.bytes.hexify(a.slice(0,32)),hashType:"type",args:Uc.bytes.hexify(a.slice(32))}}}throw Error(`Invalid payload format type: ${i}`)}var V8={};Object.defineProperty(V8,"__esModule",{value:!0});V8.hexToByteArray=xF;function xF(t){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error("Invalid hex string!");t.startsWith("0x")&&(t=t.slice(2));const e=[];for(;t.length>=2;)e.push(parseInt(t.slice(0,2),16)),t=t.slice(2);return e}var G8={};Object.defineProperty(G8,"__esModule",{value:!0});G8.refreshTypeIdCellDeps=SF;async function SF(t,{resolve:e}){const r=t.cellDeps.map(({outPoint:i})=>i).toArray(),n=await e(r);return t.update("cellDeps",i=>i.map((a,s)=>({...a,outPoint:n[s]})))}var H_={},$u={};Object.defineProperty($u,"__esModule",{value:!0});$u.createModelHelper=CF;$u.defaultDeepClone=py;var IA=st,IF=St;function CF(t){return{create:e=>t.unpack(t.pack(e)),hash:e=>IA.bytes.bytify((0,IF.ckbHash)(t.pack(e))),equals:(e,r)=>IA.bytes.equal(t.pack(e),t.pack(r)),clone:py}}function py(t){const e=typeof t;if(e==="number"||e==="string"||e==="boolean"||e==="bigint"||t==null)return t;if(Array.isArray(t))return t.map(py);if(e==="object")return Object.entries(t).reduce((r,[n,i])=>Object.assign(r,{[n]:py(i)}),{});throw new Error("Cannot clone the value: "+String(t))}var nh={},ih={},CA;function OB(){if(CA)return ih;CA=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.scriptHelper=void 0;var t=Ir,e=Nr,r=pi(),n=$u;function i(a){if(a.startsWith("ckb"))return(0,r.parseAddress)(a,{config:e.predefined.LINA});if(a.startsWith("ckt"))return(0,r.parseAddress)(a,{config:e.predefined.AGGRON4});throw new Error(`The address prefix ${a} is unknown`)}return ih.scriptHelper=(0,n.createModelHelper)({pack:a=>t.blockchain.Script.pack(typeof a=="string"?i(a):a),unpack:a=>t.blockchain.Script.unpack(a)}),ih}var R1={};Object.defineProperty(R1,"__esModule",{value:!0});R1.outPointHelper=void 0;var TF=Ir,OF=$u;R1.outPointHelper=(0,OF.createModelHelper)(TF.blockchain.OutPoint);var TA;function BF(){if(TA)return nh;TA=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.cellHelper=void 0;var t=$u,e=Ir,r=OB(),n=wt,i=st,a=c1,s=R1,o=pi();function f(u){return!u||typeof u!="object"?!1:"lock"in u}const c=(0,a.table)({cellOutput:e.blockchain.CellOutput,data:e.blockchain.Bytes,outPoint:(0,a.option)(e.blockchain.OutPoint)},["cellOutput","data","outPoint"]);return nh.cellHelper=(0,t.createModelHelper)({pack:u=>{const l=f(u)?{cellOutput:{capacity:n.BI.from(u.capacity||"0x0").toHexString(),lock:r.scriptHelper.create(u.lock),type:u.type&&r.scriptHelper.create(u.type)},outPoint:u.outPoint&&s.outPointHelper.create(u.outPoint),data:i.bytes.hexify(u.data||"0x")}:u;return n.BI.from(l.cellOutput.capacity).eq(0)&&(l.cellOutput.capacity=(0,o.minimalCellCapacityCompatible)(l).toHexString()),c.pack(l)},unpack:u=>c.unpack(u)}),nh}var OA;function DF(){return OA||(OA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return r.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return e.createModelHelper}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return i.outPointHelper}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return n.scriptHelper}});var e=$u,r=BF(),n=OB(),i=R1}(H_)),H_}var BA;function pi(){return BA||(BA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};t.addressToScript=t.TransactionSkeleton=void 0,t.createTransactionFromSkeleton=x,t.createTransactionSkeleton=E,t.encodeToAddress=v,t.encodeToConfigAddress=d,t.generateAddress=W,t.generateSecp256k1Blake160Address=_,t.generateSecp256k1Blake160MultisigAddress=I,t.locateCellDep=K,t.minimalCellCapacity=M,t.minimalCellCapacityCompatible=U,t.minimalScriptCapacity=w,t.minimalScriptCapacityCompatible=O,t.objectToTransactionSkeleton=j,t.parseAddress=b,Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return p.refreshTypeIdCellDeps}}),t.scriptToAddress=void 0,t.sealTransaction=h,t.transactionSkeletonToObject=T;var r=st,n=Ir,i=sc,a=Jo,s=Nr,o=wt,f=ba,c=V8,u=n8,l=Ee,p=G8,y=DF();Object.keys(y).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===y[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return y[L]}})});const{bytify:m,hexify:A}=r.bytes,S=1023;function w(L,{validate:$=!0}={}){const F=O(L,{validate:$});return BigInt(F.toString())}const C=1e8;function O(L,{validate:$=!0}={}){$&&u.validators.ValidateScript(L);let F=0;return F+=m(L.codeHash).length,F+=m(L.args).length,F+=1,o.BI.from(F).mul(C)}function M(L,{validate:$=!0}={}){const F=U(L,{validate:$});return BigInt(F.toString())}function U(L,{validate:$=!0}={}){$&&n.blockchain.CellOutput.pack(L.cellOutput);let F=8;return F+=m(L.cellOutput.lock.codeHash).length,F+=m(L.cellOutput.lock.args).length,F+=1,L.cellOutput.type&&(F+=m(L.cellOutput.type.codeHash).length,F+=m(L.cellOutput.type.args).length,F+=1),L.data&&(F+=m(L.data).length),o.BI.from(F).mul(C)}function K(L,{config:$=void 0}={}){$=$||(0,s.getConfig)();const F=Object.values($.SCRIPTS).find(H=>H&&H.CODE_HASH===L.codeHash&&H.HASH_TYPE===L.hashType);return F?{depType:F.DEP_TYPE,outPoint:{txHash:F.TX_HASH,index:F.INDEX}}:null}let Q=!1;const k=2,G=4;function W(L,{config:$=void 0}={}){$=$||(0,s.getConfig)(),Q||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),Q=!0),u.validators.ValidateScript(L);const F=Object.values($.SCRIPTS).find(X=>X&&X.CODE_HASH===L.codeHash&&X.HASH_TYPE===L.hashType),H=[];if(F&&F.SHORT_ID!==void 0)H.push(1,F.SHORT_ID),H.push(...(0,c.hexToByteArray)(L.args));else{if(L.hashType==="type")H.push(G);else if(L.hashType==="data")H.push(k);else throw new Error(`Invalid hashType ${L.hashType}`);H.push(...(0,c.hexToByteArray)(L.codeHash)),H.push(...(0,c.hexToByteArray)(L.args))}const q=i.bech32.toWords(H);return i.bech32.encode($.PREFIX,q,S)}t.scriptToAddress=W;function R(L,$,{config:F=void 0}={}){F=F||(0,s.getConfig)();const H=F.SCRIPTS[$];if(!H){const X=Object.keys(F.SCRIPTS);throw new Error(`Invalid script type: ${$}, only support: ${X}`)}const q={codeHash:H.CODE_HASH,hashType:H.HASH_TYPE,args:L};return W(q,{config:F})}function _(L,{config:$=void 0}={}){return R(L,"SECP256K1_BLAKE160",{config:$})}function I(L,{config:$=void 0}={}){return R(L,"SECP256K1_BLAKE160_MULTISIG",{config:$})}function b(L,{config:$=void 0}={}){$=$||(0,s.getConfig)();try{return(0,f.parseFullFormatAddress)(L,{config:$})}catch{return(0,f.parseDeprecatedCkb2019Address)(L,{config:$})}}t.addressToScript=b;function v(L,{config:$=void 0}={}){u.validators.ValidateScript(L),$=$||(0,s.getConfig)();const F=r.bytes.concat([0],L.codeHash,l.HashType.pack(L.hashType),L.args);return i.bech32m.encode($.PREFIX,i.bech32m.toWords(F),S)}function d(L,$,F){const H=(F==null?void 0:F.config)||(0,s.getConfig)(),q=H.SCRIPTS[$];if(!q){const te=Object.keys(H.SCRIPTS);throw new Error(`Invalid script type: ${String($)}, only support: ${te}`)}const X={codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,args:L};return v(X,{config:H})}const g=t.TransactionSkeleton=(0,a.Record)({cellProvider:null,cellDeps:(0,a.List)(),headerDeps:(0,a.List)(),inputs:(0,a.List)(),outputs:(0,a.List)(),witnesses:(0,a.List)(),fixedEntries:(0,a.List)(),signingEntries:(0,a.List)(),inputSinces:(0,a.Map)()});function x(L,{validate:$=!0}={}){const F={version:"0x0",cellDeps:L.get("cellDeps").toArray(),headerDeps:L.get("headerDeps").toArray(),inputs:L.get("inputs").map((H,q)=>{if(!H.outPoint)throw new Error(`cannot find OutPoint in Inputs[${q}] when createTransactionFromSkeleton`);return{since:L.get("inputSinces").get(q,"0x0"),previousOutput:H.outPoint}}).toArray(),outputs:L.get("outputs").map(H=>H.cellOutput).toArray(),outputsData:L.get("outputs").map(H=>H.data||"0x0").toArray(),witnesses:L.get("witnesses").toArray()};return $&&u.validators.ValidateTransaction(F),F}async function E(L,$){let F=g();F=F.update("cellDeps",X=>X.push(...L.cellDeps)),F=F.update("headerDeps",X=>X.push(...L.headerDeps));const H=await Promise.all(L.inputs.map(X=>$(X.previousOutput)));F=F.update("inputs",X=>X.push(...H)),F=F.update("inputSinces",X=>L.inputs.reduce((te,ne,N)=>te.set(N,ne.since),X));const q=L.outputs.map((X,te)=>{var ne;return{cellOutput:X,data:(ne=L.outputsData[te])!==null&&ne!==void 0?ne:"0x"}});return F=F.update("outputs",X=>X.push(...q)),F=F.update("witnesses",X=>X.push(...L.witnesses)),F}function h(L,$){const F=x(L);if($.length!==L.get("signingEntries").size)throw new Error(`Requiring ${L.get("signingEntries").size} sealing contents but provided ${$.length}!`);return L.get("signingEntries").forEach((H,q)=>{switch(H.type){case"witness_args_lock":{const X=F.witnesses[H.index],te=n.blockchain.WitnessArgs.unpack(m(X)),ne={lock:$[q]},N=te.inputType;N&&(ne.inputType=N);const P=te.outputType;P&&(ne.outputType=P),F.witnesses[H.index]=A(n.blockchain.WitnessArgs.pack(ne));break}default:throw new Error(`Invalid signing entry type: ${H.type}`)}}),F}function T(L){return L.toJS()}function j(L){let $=(0,a.Map)();for(const[H,q]of Object.entries(L.inputSinces))$=$.set(+H,q);return g({cellProvider:L.cellProvider,cellDeps:(0,a.List)(L.cellDeps),headerDeps:(0,a.List)(L.headerDeps),inputs:(0,a.List)(L.inputs),outputs:(0,a.List)(L.outputs),witnesses:(0,a.List)(L.witnesses),fixedEntries:(0,a.List)(L.fixedEntries),signingEntries:(0,a.List)(L.signingEntries),inputSinces:$})}}(E_)),E_}var A2=pi(),BB,DB,MB,RB,LB,HB;const h0=Symbol("immutable"),Oi=Symbol("cellDeps"),fi=Symbol("headerDeps"),lu=Symbol("witness"),Hs=Symbol("since");class xn{constructor(e){this[BB]=!0,this.codeHash=e.codeHash,this.hashType=e.hashType,this.args=e.args,this[Oi]=Object.freeze(e[Oi]),this[fi]=Object.freeze(e[fi]),this[lu]=e[lu],this[Hs]=e[Hs]}static from(e){return Object.freeze(e instanceof xn?e:new xn(e))}}BB=h0;const va=xn.from({codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x",[Oi]:[],[fi]:[],[lu]:void 0,[Hs]:"0x0"});class Fo{constructor(e){this[DB]=!0,this.txHash=e.txHash,this.index=e.index}static from(e){return Object.freeze(e instanceof Fo?e:new Fo(e))}}DB=h0;class Hp{constructor(e){this[MB]=!0,this.capacity=e.capacity,this.lock=xn.from(e.lock),this.type=e.type?xn.from(e.type):void 0}static from(e){return Object.freeze(e instanceof Hp?e:new Hp(e))}}MB=h0;class Yt{constructor(e){this[RB]=!0;const{capacity:r,lock:n,type:i}={lock:va,capacity:"0x0",...e.cellOutput,...e};this.cellOutput=Hp.from({capacity:r,lock:n,type:i}),this.data=e.data??"0x",this.outPoint=e.outPoint?Fo.from(e.outPoint):void 0,this.blockHash=e.blockHash,this.blockNumber=e.blockNumber,this.txIndex=e.txIndex,BigInt(r)<=0n&&(this.cellOutput=Hp.from({capacity:A2.minimalCellCapacityCompatible(this,{validate:!1}).toHexString(),lock:n,type:i}))}static from(e){return Object.freeze(e instanceof Yt?e:new Yt(e))}}RB=h0;class du{constructor(e){this[LB]=!0,this.outPoint=Fo.from(e.outPoint),this.depType=e.depType}static from(e){return Object.freeze(e instanceof du?e:new du(e))}}LB=h0;class Cd{constructor(e){this[HB]=!0,this.timestamp=e.timestamp,this.number=e.number,this.epoch=e.epoch,this.compactTarget=e.compactTarget,this.dao=e.dao,this.hash=e.hash,this.nonce=e.nonce,this.parentHash=e.parentHash,this.proposalsHash=e.proposalsHash,this.transactionsRoot=e.transactionsRoot,this.extraHash=e.extraHash,this.version=e.version}static from(e){return Object.freeze(e instanceof Cd?e:new Cd(e))}}HB=h0;const MF=Object.freeze(zo.Uint8);Object.freeze(zo.Uint16);const RF=Object.freeze(zo.Uint32),Td=Object.freeze({...zo.Uint64,unpack:t=>zo.Uint64.unpack(t).toBigInt()}),e6=Object.freeze({...zo.Uint128,unpack:t=>zo.Uint128.unpack(t).toBigInt()}),PB=Object.freeze(st.createFixedBytesCodec({byteLength:4,pack:t=>{const e=new Uint8Array([0,0,0,0]);return new DataView(e.buffer).setInt32(0,t,!0),e},unpack:t=>new DataView(t.buffer).getInt32(0,!0)})),LF=Object.freeze(Q4);var yi={},Od={},E2={},ef={},x2={},yn={},cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.default=cc.ErrorCode=void 0;let HF=cc.ErrorCode=function(t){return t[t.ParameterInvalid=101]="ParameterInvalid",t[t.IdNotMatch=201]="IdNotMatch",t[t.MethodNotFound=202]="MethodNotFound",t[t.PayloadMessage=203]="PayloadMessage",t[t.ResponseMessage=204]="ResponseMessage",t}({});cc.default=HF;Object.defineProperty(yn,"__esModule",{value:!0});yn.default=yn.StringHashTypeException=yn.PageSizeTooSmallException=yn.PageSizeTooLargeException=yn.OutputsValidatorTypeException=yn.HexStringWithout0xException=yn.BigintOrHexStringTypeException=void 0;var p0=PF(cc);function PF(t){return t&&t.__esModule?t:{default:t}}class NB extends RangeError{constructor(r,n){super(`Expect page size to be at most ${n}, but ${r} received`);Vr(this,"code",p0.default.ParameterInvalid)}}yn.PageSizeTooLargeException=NB;class UB extends RangeError{constructor(r,n){super(`Expect page size to be at least ${n}, but ${r} received`);Vr(this,"code",p0.default.ParameterInvalid)}}yn.PageSizeTooSmallException=UB;class kB extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'");Vr(this,"code",p0.default.ParameterInvalid)}}yn.OutputsValidatorTypeException=kB;class zB extends TypeError{constructor(r){super(`Expect number to be bigint or hex string, but ${r} received`);Vr(this,"code",p0.default.ParameterInvalid)}}yn.BigintOrHexStringTypeException=zB;class jB extends TypeError{constructor(r){super(`Expect hash to be string, but ${r} received`);Vr(this,"code",p0.default.ParameterInvalid)}}yn.StringHashTypeException=jB;class $B extends Error{constructor(r){super(`Hex string ${r} should start with 0x`);Vr(this,"code",p0.default.ParameterInvalid)}}yn.HexStringWithout0xException=$B;yn.default={PageSizeTooLargeException:NB,PageSizeTooSmallException:UB,OutputsValidatorTypeException:kB,BigintOrHexStringTypeException:zB,StringHashTypeException:jB,HexStringWithout0xException:$B};var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.default=Mo.ResponseException=Mo.IdNotMatchException=void 0;var FB=NF(cc);function NF(t){return t&&t.__esModule?t:{default:t}}class qB extends Error{constructor(r,n){super(`Expect json rpc id to be ${r}, but ${n} received`);Vr(this,"code",FB.default.IdNotMatch)}}Mo.IdNotMatchException=qB;class KB extends Error{constructor(){super(...arguments);Vr(this,"code",FB.default.ResponseMessage)}}Mo.ResponseException=KB;Mo.default={IdNotMatchException:qB,ResponseException:KB};var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.default=Os.PayloadInBatchException=Os.MethodInBatchNotFoundException=Os.IdNotMatchedInBatchException=void 0;var QB=kF(cc),UF=Mo;function kF(t){return t&&t.__esModule?t:{default:t}}const W8="Batch Request";class YB extends Error{constructor(r){super(`[${W8}]: Method ${r} is not found`);Vr(this,"code",QB.default.MethodNotFound)}}Os.MethodInBatchNotFoundException=YB;class VB extends Error{constructor(r,n){super(`[${W8} ${r}]: ${n}`);Vr(this,"code",QB.default.PayloadMessage);this.index=r}}Os.PayloadInBatchException=VB;class GB extends UF.IdNotMatchException{constructor(e,r,n){super(r,n),this.message=`[${W8} ${e}]: ${this.message}`,this.index=e}}Os.IdNotMatchedInBatchException=GB;Os.default={MethodInBatchNotFoundException:YB,PayloadInBatchException:VB,IdNotMatchedInBatchException:GB};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=yn;Object.keys(e).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===e[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})});var r=Mo;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===r[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[i]}})});var n=Os;Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===n[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[i]}})})})(x2);Object.defineProperty(ef,"__esModule",{value:!0});ef.formatter=void 0;var nl=x2,P_=wt;const ur=ef.formatter={toOptional:t=>e=>!t||e===void 0||e===null?e:t(e),toArray:t=>e=>typeof t!="function"||!Array.isArray(e)?e:e.map(t),toHash:t=>{if(typeof t!="string")throw new nl.StringHashTypeException(t);return t.startsWith("0x")?t:`0x${t}`},toNumber:t=>{if(typeof t=="bigint")return`0x${t.toString(16)}`;if(typeof t!="string")throw new nl.BigintOrHexStringTypeException(t);if(!t.startsWith("0x"))throw new nl.HexStringWithout0xException(t);return t},toScript:t=>{const{codeHash:e,hashType:r,...n}=t;return{code_hash:ur.toHash(e),hash_type:r,...n}},toOutPoint:t=>{const{txHash:e,index:r,...n}=t;return{tx_hash:ur.toHash(e),index:ur.toNumber(r),...n}},toInput:t=>{if(!t)return t;const{previousOutput:e,since:r,...n}=t;return{previous_output:ur.toOutPoint(e),since:ur.toNumber(r),...n}},toOutput:t=>{if(!t)return t;const{capacity:e,lock:r,type:n=void 0,...i}=t;return{capacity:ur.toNumber(e),lock:ur.toScript(r),type:n&&ur.toScript(n),...i}},toDepType:t=>t==="depGroup"?"dep_group":t,toOrder:t=>t,toCellDep:t=>{if(!t)return t;const{outPoint:e,depType:r="code",...n}=t;return{out_point:ur.toOutPoint(e),dep_type:ur.toDepType(r),...n}},toRawTransaction:t=>{if(!t)return t;const{version:e,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:a=[],headerDeps:s=[],...o}=t,f=n.map(p=>ur.toInput(p)),c=i.map(p=>ur.toOutput(p)),u=r.map(p=>ur.toCellDep(p));return{version:ur.toNumber(e),cell_deps:u,inputs:f,outputs:c,outputs_data:a,header_deps:s,...o}},toPageNumber:(t="0x1")=>ur.toNumber(t),toPageSize:(t="0x32")=>{const e=P_.BI.from(t),r=50,n=0;if(P_.BI.from(e).gt(r))throw new nl.PageSizeTooLargeException(t,r);if(P_.BI.from(e).lt(n))throw new nl.PageSizeTooSmallException(t,n);return ur.toNumber(`0x${e.toString(16)}`)},toReverseOrder:(t=!1)=>!!t,toOutputsValidator:t=>{if(!t)return;if(["default","passthrough"].indexOf(t)>-1)return t;throw new nl.OutputsValidatorTypeException},toBoolean:t=>!!t,toTransactionProof:t=>{if(!t)return t;const{blockHash:e,witnessesRoot:r,...n}=t;return{block_hash:e,witnesses_root:r,...n}},toTransactionAndWitnessProof:t=>({block_hash:t.blockHash,witnesses_proof:t.witnessesProof,transactions_proof:t.transactionsProof}),toSearchFilter:t=>t&&{script:t.script?ur.toScript(t.script):t.script,output_data_len_range:t.outputDataLenRange,output_capacity_range:t.outputCapacityRange,block_range:t.blockRange,script_len_range:t.scriptLenRange},toSearchKey:t=>t&&{script:ur.toScript(t.script),script_type:t.scriptType,filter:t.filter?ur.toSearchFilter(t.filter):t.filter,script_search_mode:t.scriptSearchMode?t.scriptSearchMode:"prefix"},toGetCellsSearchKey:t=>t&&{...ur.toSearchKey(t),with_data:t.withData},toGetTransactionsSearchKey:t=>t&&{...ur.toSearchKey(t),group_by_transaction:t.groupByTransaction}};var he={};Object.defineProperty(he,"__esModule",{value:!0});he.toBannedAddresses=he.toBannedAddress=he.toArray=he.toAlertMessage=void 0;he.toBlock=JB;he.toHash=he.toGetTransactionsResult=he.toGetCellsResult=he.toForkBlockResult=he.toFeeRateStatistics=he.toFeeRate=he.toEstimateCycles=he.toEpoch=he.toDeploymentsInfo=he.toDeploymentInfo=he.toDeployment=he.toDeployState=he.toDepType=he.toConsensus=he.toCellsIncludingOutPoint=he.toCellsCapacity=he.toCells=he.toCellbaseOutputCapacityDetails=he.toCellIncludingOutPoint=he.toCellDep=he.toCell=he.toCapacityByLockHash=he.toBlockchainInfo=he.toBlockFilter=he.toBlockEconomicState=void 0;he.toHeader=S2;he.toTip=he.toSyncState=he.toScript=he.toRemoteNodeInfo=he.toRawTxPool=he.toPeers=he.toOutput=he.toOutPoint=he.toNumber=he.toNullable=he.toLockHashIndexStates=he.toLockHashIndexState=he.toLocalNodeInfo=he.toLiveCellsByLockHash=he.toLiveCellWithStatus=he.toLiveCell=he.toInput=void 0;he.toTransaction=C2;he.toUncleBlock=he.toTxPoolInfo=he.toTransactionsByLockHash=he.toTransactionWithStatus=he.toTransactionProof=he.toTransactionPoint=he.toTransactionAndWitnessProof=void 0;const zF=t=>Array.isArray(t.pending),jF=t=>e=>typeof t!="function"||!Array.isArray(e)?e:e.map(t);he.toArray=jF;const $F=t=>e=>!t||e===null?e:t(e);he.toNullable=$F;const FF=t=>t.toString();he.toNumber=FF;const qF=t=>t;he.toHash=qF;function S2(t){if(typeof t=="string"||!t)return t;const{compact_target:e,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:a,...s}=t;return{compactTarget:e,parentHash:a,transactionsRoot:r,proposalsHash:n,extraHash:i,...s}}const Bd=t=>{if(!t)return t;const{code_hash:e,hash_type:r,...n}=t;return{codeHash:e,hashType:r,...n}};he.toScript=Bd;const WB=t=>{if(!t)return t;const{previous_output:e,...r}=t;return{previousOutput:e&&L1(e),...r}};he.toInput=WB;const I2=t=>{if(!t)return t;const{lock:e,type:r,...n}=t;return{lock:Bd(e),type:r&&Bd(r),...n}};he.toOutput=I2;const L1=t=>{const{tx_hash:e,...r}=t;return{txHash:e,...r}};he.toOutPoint=L1;const XB=t=>t==="dep_group"?"depGroup":t;he.toDepType=XB;const ZB=t=>{if(!t)return t;const{out_point:e,dep_type:r="code",...n}=t;return{outPoint:L1(e),depType:XB(r),...n}};he.toCellDep=ZB;function C2(t){if(!t||typeof t!="object")return t;const{cell_deps:e=[],inputs:r=[],outputs:n=[],outputs_data:i=[],header_deps:a=[],...s}=t;return{cellDeps:e.map(ZB),inputs:r.map(WB),outputs:n.map(I2),outputsData:i,headerDeps:a,...s}}const X8=t=>{if(!t)return t;const{header:e,...r}=t;return{header:S2(e),...r}};he.toUncleBlock=X8;const KF=t=>({blockHash:t.block_hash,blockNumber:t.block_number});he.toTip=KF;function JB(t){if(!t||typeof t=="string")return t;if("block"in t&&"cycles"in t)return{cycles:t.cycles,block:JB(t.block)};const{header:e,uncles:r=[],transactions:n=[],...i}=t;return{header:S2(e),uncles:r.map(X8),transactions:n.map(C2),...i}}const eD=t=>{if(!t)return t;const{notice_until:e,...r}=t;return{noticeUntil:e,...r}};he.toAlertMessage=eD;const QF=t=>{if(!t)return t;const{is_initial_block_download:e,median_time:r,alerts:n,...i}=t;return{isInitialBlockDownload:e,medianTime:r,alerts:n.map(eD),...i}};he.toBlockchainInfo=QF;const YF=t=>{if(!t)return t;const{node_id:e,protocols:r,...n}=t;return{nodeId:e,protocols:r.map(({id:i,name:a,support_versions:s})=>({id:i,name:a,supportVersions:s})),...n}};he.toLocalNodeInfo=YF;const tD=t=>{if(!t)return t;const{node_id:e,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:a,...s}=t;return{nodeId:e,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:a.best_known_header_hash,bestKnownHeaderNumber:a.best_known_header_number,canFetchCount:a.can_fetch_count,inflightCount:a.inflight_count,lastCommonHeaderHash:a.last_common_header_hash,lastCommonHeaderNumber:a.last_common_header_number,unknownHeaderListSize:a.unknown_header_list_size},...s}};he.toRemoteNodeInfo=tD;const VF=t=>{if(!t)return t;const{last_txs_updated_at:e,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:a,min_fee_rate:s,min_rbf_rate:o,tx_size_limit:f,max_tx_pool_size:c,...u}=t;return{lastTxsUpdatedAt:e,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:a,minFeeRate:s,minRbfRate:o,txSizeLimit:f,maxTxPoolSize:c,...u}};he.toTxPoolInfo=VF;const GF=t=>Array.isArray(t)?t.map(tD):[];he.toPeers=GF;const Z8=t=>{if(!t)return t;const{lock:e,type:r,...n}=t;return{lock:Bd(e),type:r?Bd(r):void 0,...n}};he.toCell=Z8;const rD=t=>{if(!t)return t;const{data:e,output:r,...n}=t;return{data:e,output:I2(r),...n}};he.toLiveCell=rD;const WF=t=>{if(!t)return t;const{cell:e,...r}=t;return{cell:rD(e),...r}};he.toLiveCellWithStatus=WF;const XF=t=>Array.isArray(t)?t.map(Z8):[];he.toCells=XF;const nD=t=>{if(!t)return t;const{lock:e,block_hash:r,out_point:n,output_data_len:i,...a}=t;return{blockHash:r,lock:Bd(e),outPoint:L1(n),outputDataLen:i,...a}};he.toCellIncludingOutPoint=nD;const ZF=t=>Array.isArray(t)?t.map(nD):[];he.toCellsIncludingOutPoint=ZF;const JF=t=>{if(!t)return t;const{transaction:e,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:a,fee:s,...o}=t;return{transaction:C2(e),txStatus:{blockHash:r,status:n,..."reason"in t.tx_status?{reason:t.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:a,fee:s,...o}};he.toTransactionWithStatus=JF;const eq=t=>{if(!t)return t;const{start_number:e,compact_target:r,...n}=t;return{compactTarget:r,startNumber:e,...n}};he.toEpoch=eq;const by=t=>{if(!t)return t;const{block_number:e,tx_hash:r,...n}=t;return{blockNumber:e,txHash:r,...n}};he.toTransactionPoint=by;const tq=t=>t&&t.map(e=>({consumedBy:e.consumed_by?by(e.consumed_by):e.consumed_by,createdBy:by(e.created_by)}));he.toTransactionsByLockHash=tq;const rq=t=>t&&t.map(e=>({cellOutput:Z8(e.cell_output),createdBy:by(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}));he.toLiveCellsByLockHash=rq;const iD=t=>{if(!t)return t;const{block_hash:e,block_number:r,lock_hash:n,...i}=t;return{blockHash:e,blockNumber:r,lockHash:n,...i}};he.toLockHashIndexState=iD;const nq=t=>t&&t.map(iD);he.toLockHashIndexStates=nq;const aD=t=>{if(!t)return t;const{ban_reason:e,ban_until:r,created_at:n,...i}=t;return{banReason:e,banUntil:r,createdAt:n,...i}};he.toBannedAddress=aD;const iq=t=>t&&t.map(e=>aD(e));he.toBannedAddresses=iq;const aq=t=>{if(!t)return t;const{proposal_reward:e,tx_fee:r,...n}=t;return{proposalReward:e,txFee:r,...n}};he.toCellbaseOutputCapacityDetails=aq;const sq=t=>{if(!t)return t;const{fee_rate:e,...r}=t;return{feeRate:e,...r}};he.toFeeRate=sq;const oq=t=>{if(!t)return t;const{cells_count:e,block_number:r,capacity:n,...i}=t;return{blockNumber:r,capacity:n,cellsCount:e,...i}};he.toCapacityByLockHash=oq;const fq=t=>{if(!t)return t;const{finalized_at:e,miner_reward:r,txs_fee:n,...i}=t;return{finalizedAt:e,minerReward:r,txsFee:n,...i}};he.toBlockEconomicState=fq;const cq=t=>t&&{bestKnownBlockNumber:t.best_known_block_number,bestKnownBlockTimestamp:t.best_known_block_timestamp,fastTime:t.fast_time,ibd:t.ibd,inflightBlocksCount:t.inflight_blocks_count,lowTime:t.low_time,normalTime:t.normal_time,orphanBlocksCount:t.orphan_blocks_count};he.toSyncState=cq;const uq=t=>{if(!t)return t;const{block_hash:e,witnesses_root:r,...n}=t;return{blockHash:e,witnessesRoot:r,...n}};he.toTransactionProof=uq;const lq=t=>({rfc:t.rfc,epochNumber:t.epoch_number}),sD=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold});he.toDeployment=sD;const DA=t=>"rfc0043"in t?{status:t.status,rfc0043:sD(t.rfc0043)}:t,dq=t=>{if(!t)return t;const e=t.hardfork_features,r=t.softforks,n=r.light_client&&DA(r.light_client),i=r.testdummy&&DA(r.testdummy);return{blockVersion:t.block_version,cellbaseMaturity:t.cellbase_maturity,daoTypeHash:t.dao_type_hash,epochDurationTarget:t.epoch_duration_target,genesisHash:t.genesis_hash,id:t.id,initialPrimaryEpochReward:t.initial_primary_epoch_reward,maxBlockBytes:t.max_block_bytes,maxBlockCycles:t.max_block_cycles,maxBlockProposalsLimit:t.max_block_proposals_limit,maxUnclesNum:t.max_uncles_num,medianTimeBlockCount:t.median_time_block_count,orphanRateTarget:t.orphan_rate_target,permanentDifficultyInDummy:t.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:t.primary_epoch_reward_halving_interval,proposerRewardRatio:t.proposer_reward_ratio,secondaryEpochReward:t.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:t.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:t.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:t.tx_proposal_window,txVersion:t.tx_version,typeIdCodeHash:t.type_id_code_hash,hardforkFeatures:e.map(lq),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};he.toConsensus=dq;const hq=t=>{if(!t||zF(t))return t;const e=({ancestors_count:i,ancestors_cycles:a,ancestors_size:s,...o})=>({ancestorsCount:i,ancestorsCycles:a,ancestorsSize:s,...o}),r={},n={};return Object.keys(t.proposed).forEach(i=>{r[i]=e(t.proposed[i])}),Object.keys(t.pending).forEach(i=>{n[i]=e(t.pending[i])}),{proposed:r,pending:n}};he.toRawTxPool=hq;const pq=t=>t&&{blockNumber:t.block_number,outPoint:L1(t.out_point),output:I2(t.output),outputData:t.output_data,txIndex:t.tx_index},bq=t=>({lastCursor:t.last_cursor,objects:t.objects.map(e=>pq(e))});he.toGetCellsResult=bq;const gq=t=>!t.cells,yq=t=>t&&(gq(t)?{txHash:t.tx_hash,blockNumber:t.block_number,ioIndex:t.io_index,ioType:t.io_type,txIndex:t.tx_index}:{txHash:t.tx_hash,txIndex:t.tx_index,blockNumber:t.block_number,cells:t.cells}),vq=t=>t&&{lastCursor:t.last_cursor,objects:t.objects.map(e=>yq(e))};he.toGetTransactionsResult=vq;const _q=t=>t&&{capacity:t.capacity,blockHash:t.block_hash,blockNumber:t.block_number};he.toCellsCapacity=_q;const mq=t=>({hash:t.hash,data:t.data});he.toBlockFilter=mq;const wq=t=>({blockHash:t.block_hash,transactionsProof:t.transactions_proof,witnessesProof:t.witnesses_proof});he.toTransactionAndWitnessProof=wq;const Aq=t=>({mean:t.mean,median:t.median});he.toFeeRateStatistics=Aq;const Eq=t=>typeof t=="string"?t:{header:S2(t.header),uncles:t.uncles.map(X8),transactions:t.transactions.map(C2),proposals:t.proposals,extension:t.extension};he.toForkBlockResult=Eq;const xq=t=>({cycles:t.cycles});he.toEstimateCycles=xq;const oD=t=>t==="locked_in"?"lockedIn":t;he.toDeployState=oD;const t6=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold,since:t.since,state:oD(t.state)});he.toDeploymentInfo=t6;const Sq=t=>{const{light_client:e,testdummy:r}=t.deployments;return{hash:t.hash,epoch:t.epoch,deployments:{...e?{lightClient:t6(e)}:{},...r?{testdummy:t6(r)}:{}}}};he.toDeploymentsInfo=Sq;Object.defineProperty(E2,"__esModule",{value:!0});E2.default=void 0;var Ln=ef,ti=Iq(he);function fD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(fD=function(n){return n?r:e})(t)}function Iq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=fD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}E2.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:ti.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:ti.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:ti.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[Ln.formatter.toNumber],resultFormatters:ti.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[Ln.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[Ln.formatter.toNumber],resultFormatters:ti.toBlock},getHeader:{method:"get_header",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[Ln.formatter.toNumber],resultFormatters:ti.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[Ln.formatter.toOutPoint],resultFormatters:ti.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[Ln.formatter.toArray(Ln.formatter.toHash),Ln.formatter.toOptional(Ln.formatter.toHash)],resultFormatters:ti.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[Ln.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:ti.toConsensus}};var T2={};Object.defineProperty(T2,"__esModule",{value:!0});T2.default=void 0;var N_=ef;T2.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[N_.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[N_.formatter.toOutPoint,N_.formatter.toHash]}};var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.default=void 0;var Cq=ef,$b=Tq(he);function cD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(cD=function(n){return n?r:e})(t)}function Tq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=cD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}O2.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:$b.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:$b.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:$b.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:$b.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[Cq.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}};var B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.default=void 0;var MA=ef,U_=Oq(he);function uD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(uD=function(n){return n?r:e})(t)}function Oq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=uD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}B2.default={sendTransaction:{method:"send_transaction",paramsFormatters:[MA.formatter.toRawTransaction,MA.formatter.toOutputsValidator],resultFormatters:U_.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:U_.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:U_.toRawTxPool}};var D2={};Object.defineProperty(D2,"__esModule",{value:!0});D2.default=void 0;var RA=Bq(he);function lD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(lD=function(n){return n?r:e})(t)}function Bq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=lD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}D2.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:RA.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:RA.toDeploymentsInfo}};var M2={};Object.defineProperty(M2,"__esModule",{value:!0});M2.default=void 0;var vt=ef,Br=Dq(he);function dD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(dD=function(n){return n?r:e})(t)}function Dq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=dD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const Mq={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:Br.toTip},getCells:{method:"get_cells",paramsFormatters:[vt.formatter.toGetCellsSearchKey,vt.formatter.toOrder,vt.formatter.toNumber,vt.formatter.toOptional(vt.formatter.toHash)],resultFormatters:Br.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[vt.formatter.toGetTransactionsSearchKey,vt.formatter.toOrder,vt.formatter.toNumber,vt.formatter.toOptional(vt.formatter.toHash)],resultFormatters:Br.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[vt.formatter.toSearchKey],resultFormatters:Br.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[vt.formatter.toHash],resultFormatters:Br.toNullable(Br.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[vt.formatter.toArray(vt.formatter.toHash),vt.formatter.toOptional(vt.formatter.toHash)],resultFormatters:Br.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[vt.formatter.toTransactionAndWitnessProof],resultFormatters:Br.toArray(Br.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[vt.formatter.toHash,vt.formatter.toOptional(vt.formatter.toNumber)],resultFormatters:Br.toNullable(Br.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[vt.formatter.toHash],resultFormatters:Br.toNullable(Br.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[vt.formatter.toRawTransaction],resultFormatters:Br.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[vt.formatter.toOptional(vt.formatter.toNumber)],resultFormatters:Br.toNullable(Br.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[vt.formatter.toOptional(vt.formatter.toNumber)],resultFormatters:Br.toNullable(Br.toFeeRateStatistics)}};M2.default=Mq;Object.defineProperty(Od,"__esModule",{value:!0});Od.rpcProperties=Od.Base=void 0;var Rq=b0(E2),Lq=b0(T2),Hq=b0(O2),Pq=b0(B2),Nq=b0(D2),Uq=b0(M2);function b0(t){return t&&t.__esModule?t:{default:t}}const kq=Od.rpcProperties={...Rq.default,...Lq.default,...Uq.default,...Hq.default,...Pq.default,...Nq.default};var zy,Zx;let zq=(Zx=class{constructor(){Be(this,zy,kq)}get rpcProperties(){return se(this,zy)}},zy=new WeakMap,Zx);Od.Base=zq;var ah={},R2={exports:{}};const{AbortController:hD,AbortSignal:jq}=typeof self<"u"?self:typeof window<"u"?window:void 0;R2.exports=hD;R2.exports.AbortSignal=jq;R2.exports.default=hD;var pD=R2.exports,r6={exports:{}};(function(t,e){var r=typeof self<"u"?self:Fn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(b){return b&&DataView.prototype.isPrototypeOf(b)}if(o.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&c.indexOf(Object.prototype.toString.call(b))>-1};function l(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function p(b){return typeof b!="string"&&(b=String(b)),b}function y(b){var v={next:function(){var d=b.shift();return{done:d===void 0,value:d}}};return o.iterable&&(v[Symbol.iterator]=function(){return v}),v}function m(b){this.map={},b instanceof m?b.forEach(function(v,d){this.append(d,v)},this):Array.isArray(b)?b.forEach(function(v){this.append(v[0],v[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(v){this.append(v,b[v])},this)}m.prototype.append=function(b,v){b=l(b),v=p(v);var d=this.map[b];this.map[b]=d?d+", "+v:v},m.prototype.delete=function(b){delete this.map[l(b)]},m.prototype.get=function(b){return b=l(b),this.has(b)?this.map[b]:null},m.prototype.has=function(b){return this.map.hasOwnProperty(l(b))},m.prototype.set=function(b,v){this.map[l(b)]=p(v)},m.prototype.forEach=function(b,v){for(var d in this.map)this.map.hasOwnProperty(d)&&b.call(v,this.map[d],d,this)},m.prototype.keys=function(){var b=[];return this.forEach(function(v,d){b.push(d)}),y(b)},m.prototype.values=function(){var b=[];return this.forEach(function(v){b.push(v)}),y(b)},m.prototype.entries=function(){var b=[];return this.forEach(function(v,d){b.push([d,v])}),y(b)},o.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function A(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function S(b){return new Promise(function(v,d){b.onload=function(){v(b.result)},b.onerror=function(){d(b.error)}})}function w(b){var v=new FileReader,d=S(v);return v.readAsArrayBuffer(b),d}function C(b){var v=new FileReader,d=S(v);return v.readAsText(b),d}function O(b){for(var v=new Uint8Array(b),d=new Array(v.length),g=0;g<v.length;g++)d[g]=String.fromCharCode(v[g]);return d.join("")}function M(b){if(b.slice)return b.slice(0);var v=new Uint8Array(b.byteLength);return v.set(new Uint8Array(b)),v.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:o.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:o.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():o.arrayBuffer&&o.blob&&f(b)?(this._bodyArrayBuffer=M(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=M(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var K=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Q(b){var v=b.toUpperCase();return K.indexOf(v)>-1?v:b}function k(b,v){v=v||{};var d=v.body;if(b instanceof k){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,v.headers||(this.headers=new m(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!d&&b._bodyInit!=null&&(d=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new m(v.headers)),this.method=Q(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function G(b){var v=new FormData;return b.trim().split("&").forEach(function(d){if(d){var g=d.split("="),x=g.shift().replace(/\+/g," "),E=g.join("=").replace(/\+/g," ");v.append(decodeURIComponent(x),decodeURIComponent(E))}}),v}function W(b){var v=new m,d=b.replace(/\r?\n[\t ]+/g," ");return d.split(/\r?\n/).forEach(function(g){var x=g.split(":"),E=x.shift().trim();if(E){var h=x.join(":").trim();v.append(E,h)}}),v}U.call(k.prototype);function R(b,v){v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"OK",this.headers=new m(v.headers),this.url=v.url||"",this._initBody(b)}U.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},R.error=function(){var b=new R(null,{status:0,statusText:""});return b.type="error",b};var _=[301,302,303,307,308];R.redirect=function(b,v){if(_.indexOf(v)===-1)throw new RangeError("Invalid status code");return new R(null,{status:v,headers:{location:b}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(v,d){this.message=v,this.name=d;var g=Error(v);this.stack=g.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function I(b,v){return new Promise(function(d,g){var x=new k(b,v);if(x.signal&&x.signal.aborted)return g(new s.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function h(){E.abort()}E.onload=function(){var T={status:E.status,statusText:E.statusText,headers:W(E.getAllResponseHeaders()||"")};T.url="responseURL"in E?E.responseURL:T.headers.get("X-Request-URL");var j="response"in E?E.response:E.responseText;d(new R(j,T))},E.onerror=function(){g(new TypeError("Network request failed"))},E.ontimeout=function(){g(new TypeError("Network request failed"))},E.onabort=function(){g(new s.DOMException("Aborted","AbortError"))},E.open(x.method,x.url,!0),x.credentials==="include"?E.withCredentials=!0:x.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&o.blob&&(E.responseType="blob"),x.headers.forEach(function(T,j){E.setRequestHeader(j,T)}),x.signal&&(x.signal.addEventListener("abort",h),E.onreadystatechange=function(){E.readyState===4&&x.signal.removeEventListener("abort",h)}),E.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return I.polyfill=!0,a.fetch||(a.fetch=I,a.Headers=m,a.Request=k,a.Response=R),s.Headers=m,s.Request=k,s.Response=R,s.fetch=I,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(r6,r6.exports);var bD=r6.exports,LA;function $q(){var s,o,f,c;if(LA)return ah;LA=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.Method=void 0;var t=x2,e=L2(),r=i(pD),n=i(bD);function i(u){return u&&u.__esModule?u:{default:u}}class a{constructor(l,p,y={}){Be(this,s);Be(this,o);Be(this,f,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0});Be(this,c);Vr(this,"call",async(...l)=>{const p=this.getPayload(...l),y=new r.default,m=y.signal,A=setTimeout(()=>y.abort(),se(this,o).timeout),S=await se(this,o).fetch(se(this,c).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(p),signal:m}).then(w=>w.json()).then(w=>{var C,O,M;if(w.id!==p.id)throw new t.IdNotMatchException(p.id,w.id);if(w.error)throw new t.ResponseException(JSON.stringify(w.error));return(C=(O=(M=se(this,f)).resultFormatters)===null||O===void 0?void 0:O.call(M,w.result))!==null&&C!==void 0?C:w.result});return clearTimeout(A),S});Vr(this,"getPayload",(...l)=>{const p=l.map((A,S)=>se(this,f).paramsFormatters[S]&&se(this,f).paramsFormatters[S](A)||A);return{id:Math.round(Math.random()*1e4),method:se(this,f).method,params:p,jsonrpc:"2.0"}});_e(this,c,l),_e(this,f,p),_e(this,s,p.name);const{timeout:m=e.DEFAULT_RPC_TIMEOUT,fetch:A=n.default}=y;_e(this,o,{timeout:m,fetch:A}),Object.defineProperty(this.call,"name",{value:p.name,configurable:!1,writable:!1})}get name(){return se(this,s)}}return s=new WeakMap,o=new WeakMap,f=new WeakMap,c=new WeakMap,ah.Method=a,ah}var HA;function L2(){var p,y,m,A;if(HA)return yi;HA=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.ResultFormatter=yi.RPC=yi.ParamsFormatter=yi.DEFAULT_RPC_TIMEOUT=yi.CKBRPC=void 0;var t=Od,e=$q(),r=ef,n=c(he),i=x2,a=o(bD),s=o(pD);function o(S){return S&&S.__esModule?S:{default:S}}function f(S){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(f=function(O){return O?C:w})(S)}function c(S,w){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var C=f(w);if(C&&C.has(S))return C.get(S);var O={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in S)if(U!=="default"&&{}.hasOwnProperty.call(S,U)){var K=M?Object.getOwnPropertyDescriptor(S,U):null;K&&(K.get||K.set)?Object.defineProperty(O,U,K):O[U]=S[U]}return O.default=S,C&&C.set(S,O),O}yi.ParamsFormatter=r.formatter,yi.ResultFormatter=n;const u=yi.DEFAULT_RPC_TIMEOUT=3e4;class l extends t.Base{constructor(C,O={}){super();Be(this,p);Be(this,y,{url:""});Be(this,m,r.formatter);Be(this,A,n);Vr(this,"addMethod",(C,O)=>{const M=new e.Method(this.node,C,O);Object.defineProperty(this,C.name,{value:M.call,enumerable:!0})});Vr(this,"createBatchRequest",(C=[])=>{const O=this,M=new Proxy([],{set(...U){const K=Object.keys(O);if(U[1]!=="length"){var Q;const k=U==null||(Q=U[2])===null||Q===void 0?void 0:Q[0];if(K.indexOf(k)===-1)throw new i.MethodInBatchNotFoundException(k)}return Reflect.set(...U)}});return Object.defineProperties(M,{add:{value(...U){return this.push(U),this}},remove:{value(U){return this.splice(U,1),this}},exec:{async value(){const U=M.map(([W,...R],_)=>{try{return new e.Method(O.node,{...O.rpcProperties[W],name:W}).getPayload(...R)}catch(I){throw new i.PayloadInBatchException(_,I.message)}}),K=new s.default,Q=K.signal,k=setTimeout(()=>K.abort(),se(O,p).timeout),G=await se(O,p).fetch(se(O,y).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(U),signal:Q}).then(W=>W.json());return clearTimeout(k),G.map((W,R)=>{var _,I,b;return W.id!==U[R].id?new i.IdNotMatchedInBatchException(R,U[R].id,W.id):(_=(I=(b=O.rpcProperties[M[R][0]]).resultFormatters)===null||I===void 0?void 0:I.call(b,W.result))!==null&&_!==void 0?_:W.result})}}}),C.forEach(U=>M.push(U)),M});this.setNode({url:C});const{timeout:M=u,fetch:U=a.default}=O;_e(this,p,{timeout:M,fetch:U}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach(K=>{this.addMethod({name:K,...this.rpcProperties[K]},se(this,p))})}get node(){return se(this,y)}get paramsFormatter(){return se(this,m)}get resultFormatter(){return se(this,A)}setNode(C){return Object.assign(this.node,C),this.node}}return p=new WeakMap,y=new WeakMap,m=new WeakMap,A=new WeakMap,yi.RPC=yi.CKBRPC=l,yi}var k_=L2();async function gD(t,e=qq(t),r=!1,...n){const i=Kq(e);let a=Vq(t==="mainnet"?Nr.predefined.LINA:t==="testnet"?Nr.predefined.AGGRON4:{PREFIX:"ckt",SCRIPTS:Nr.generateGenesisScriptConfigs(await i.getBlockByNumber("0x0"))}),s=a.SCRIPTS;for(const o of n)s=Object.freeze({...s,...o(t,s)});return a=new yD(a.prefix,s),Nr.initializeConfig(r?{PREFIX:"",SCRIPTS:{}}:a),{chain:t,rpcUrl:e,rpc:i,config:a}}const Fq=Object.freeze({mainnet:"https://rpc.ankr.com/nervos_ckb",testnet:"https://testnet.ckb.dev",devnet:"http://127.0.0.1:8114/"});function qq(t){return Fq[t]}function Kq(t){const e=new k_.RPC(t);return e.addMethod({name:"getCellsByLock",method:"get_cells",paramsFormatters:[r=>({script:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},script_type:"lock",script_search_mode:"exact"}),r=>r,r=>r==="max"?"0xffffffff":k_.ParamsFormatter.toNumber(r)],resultFormatters:r=>r.objects.map(({output:{capacity:n,lock:i,type:a},block_number:s,out_point:o,output_data:f,tx_index:c})=>({cellOutput:{capacity:n,lock:{codeHash:i.code_hash,hashType:i.hash_type,args:i.args},type:a?{codeHash:a.code_hash,hashType:a.hash_type,args:a.args}:void 0},data:f??"0x",outPoint:{index:o.index,txHash:o.tx_hash},blockNumber:s,txIndex:c}))}),e.addMethod({name:"getFeeRate",method:"get_fee_rate_statistics",paramsFormatters:[r=>k_.ParamsFormatter.toNumber(r)],resultFormatters:r=>!r||!r.median?1000n:BigInt(r.median)}),e}class J8 extends Error{constructor(e){super(Qq),this.missingScriptName=e,Object.setPrototypeOf(this,J8.prototype)}}const Qq="Script name not found";class yD{constructor(e,r){return this.prefix=e,this.scripts=Object.freeze(r),Object.freeze(this)}defaultScript(e){const r=this.scripts[e];if(!r)throw new J8(e);return r.defaultScript}get PREFIX(){return this.prefix}get SCRIPTS(){return this.scripts}}class tp{constructor(e,r=0){return e[Oi][r].depType,this.defaultScript=e,this.index=r,Object.freeze(this)}get CODE_HASH(){return this.defaultScript.codeHash}get HASH_TYPE(){return this.defaultScript.hashType}get TX_HASH(){return this.defaultScript[Oi][this.index].outPoint.txHash}get INDEX(){return this.defaultScript[Oi][this.index].outPoint.index}get DEP_TYPE(){return this.defaultScript[Oi][this.index].depType}}function Yq(t){if(t instanceof tp)return t;const e=du.from({outPoint:Fo.from({txHash:t.TX_HASH,index:t.INDEX}),depType:t.DEP_TYPE});return new tp(xn.from({...va,codeHash:t.CODE_HASH,hashType:t.HASH_TYPE,[Oi]:[e]}))}function Vq(t){const e={};for(const r in t.SCRIPTS)e[r]=Yq(t.SCRIPTS[r]);return new yD(t.PREFIX,e)}var Hn={},Dn={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.SECP_SIGNATURE_PLACEHOLDER=void 0;lt.addCellDep=vD;lt.default=void 0;lt.ensureScript=CD;lt.generateDaoScript=_D;lt.hashWitness=vg;lt.isAcpAddress=SD;lt.isAcpScript=r5;lt.isDaoScript=ED;lt.isOmnilockAddress=Jq;lt.isOmnilockScript=wD;lt.isSecp256k1Blake160Address=mD;lt.isSecp256k1Blake160MultisigAddress=AD;lt.isSecp256k1Blake160MultisigScript=t5;lt.isSecp256k1Blake160Script=e5;lt.isSudtScript=xD;lt.prepareSigningEntries=ID;var Gq=Jo,H1=pi(),PA=st,$l=Ir,Wq=r0;const{CKBHasher:Xq,ckbHash:Zq}=$l.utils;function vD(t,e){return t.get("cellDeps").find(n=>n.depType===e.depType&&new $l.values.OutPointValue(n.outPoint,{validate:!1}).equals(new $l.values.OutPointValue(e.outPoint,{validate:!1})))||(t=t.update("cellDeps",n=>n.push({outPoint:e.outPoint,depType:e.depType}))),t}function _D(t){const e=t.SCRIPTS.DAO;return{codeHash:e.CODE_HASH,hashType:e.HASH_TYPE,args:"0x"}}function e5(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function mD(t,e){const r=(0,H1.parseAddress)(t,{config:e});return e5(r,e)}function wD(t,e){const r=e.SCRIPTS.OMNILOCK;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function Jq(t,e){const r=(0,H1.parseAddress)(t,{config:e});return wD(r,e)}function t5(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function AD(t,e){const r=(0,H1.parseAddress)(t,{config:e});return t5(r,e)}function ED(t,e){const r=e.SCRIPTS.DAO;return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function xD(t,e){const r=e.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function r5(t,e){const r=e.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function SD(t,e){const r=(0,H1.parseAddress)(t,{config:e});return r5(r,e)}function vg(t,e){const r=PA.bytes.hexify(Wq.Uint64.pack(PA.bytes.bytify(e).length));t.update(r),t.update(e)}function ID(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);let i=(0,Gq.Set)();const a=(0,H1.createTransactionFromSkeleton)(t),s=Zq($l.blockchain.RawTransaction.pack(a)),o=t.get("inputs"),f=t.get("witnesses");let c=t.get("signingEntries");for(let u=0;u<o.size;u++){const l=o.get(u);if(n.CODE_HASH===l.cellOutput.lock.codeHash&&n.HASH_TYPE===l.cellOutput.lock.hashType&&!i.has(l.cellOutput.lock.args)){i=i.add(l.cellOutput.lock.args);const p=new $l.values.ScriptValue(l.cellOutput.lock,{validate:!1}),y=new Xq;if(y.update(s),u>=f.size)throw new Error(`The first witness in the script group starting at input index ${u} does not exist, maybe some other part has invalidly tampered the transaction?`);vg(y,f.get(u));for(let A=u+1;A<o.size&&A<f.size;A++){const S=o.get(A);p.equals(new $l.values.ScriptValue(S.cellOutput.lock,{validate:!1}))&&vg(y,f.get(A))}for(let A=o.size;A<f.size;A++)vg(y,f.get(A));const m={type:"witness_args_lock",index:u,message:y.digestHex()};c=c.push(m)}}return t=t.set("signingEntries",c),t}function CD(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==t.codeHash||n.HASH_TYPE!==t.hashType)throw new Error(`Provided script is not ${r} script!`)}lt.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";lt.default={addCellDep:vD,generateDaoScript:_D,isSecp256k1Blake160Script:e5,isSecp256k1Blake160MultisigScript:t5,isDaoScript:ED,isSudtScript:xD,prepareSigningEntries:ID,isSecp256k1Blake160Address:mD,isSecp256k1Blake160MultisigAddress:AD,ensureScript:CD,isAcpScript:r5,isAcpAddress:SD};var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.isMultisigFromInfo=nK;ei.multisigArgs=OD;ei.parseFromInfo=iK;ei.serializeMultisigScript=TD;var eK=Ir,NA=pi(),tK=Nr,UA=st;const{CKBHasher:rK}=eK.utils;function nK(t){if(!t||typeof t!="object")return!1;const e=t;return typeof(e==null?void 0:e.R)=="number"&&typeof(e==null?void 0:e.M)=="number"&&Array.isArray(e==null?void 0:e.publicKeyHashes)}function TD({R:t,M:e,publicKeyHashes:r}){if(t<0||t>255)throw new Error("`R` should be less than 256!");if(e<0||e>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+t.toString(16)).slice(-2)+("00"+e.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map(n=>n.slice(2)).join("")}function OD(t,e){let r="0x";return e!=null&&(r=UA.bytes.hexify(UA.number.Uint64LE.pack(e))),new rK().update(t).digestHex().slice(0,42)+r.slice(2)}function iK(t,{config:e=void 0}={}){e=e||(0,tK.getConfig)();let r,n,i,a;if(typeof t=="string")r=(0,NA.parseAddress)(t,{config:e});else if("R"in t){const s=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!s)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=TD(t);const o=OD(n,t.since);r={codeHash:s.CODE_HASH,hashType:s.HASH_TYPE,args:o}}else if("address"in t){const s=e.SCRIPTS.ANYONE_CAN_PAY;if(!s)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=t.address;if(r=(0,NA.parseAddress)(o,{config:e}),i=t.destroyable,r.codeHash!==s.CODE_HASH||r.hashType!==s.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else if("script"in t)r=t.script,a=t.customData;else throw new Error("Invalid fromInfo format!");return{fromScript:r,multisigScript:n,destroyable:i,customData:a}}Object.defineProperty(Dn,"__esModule",{value:!0});Dn.default=Dn.CellCollector=void 0;Dn.injectCapacity=RD;Dn.payFee=MD;Dn.prepareSigningEntries=LD;Dn.setupInputCell=BD;Dn.transfer=DD;Dn.transferCompatible=P1;var aK=Jo,Fb=pi(),Fl=st,Pp=Ir,g0=Nr,Jf=lt,sK=ei,xf=wt;const{ScriptValue:Il}=Pp.values,oK=Dn.CellCollector=class{constructor(e,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,g0.getConfig)(),this.fromScript=(0,sK.parseFromInfo)(e,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,Jf.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function BD(t,e,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,g0.getConfig)();const s=e.cellOutput.lock;if(!(0,Jf.isSecp256k1Blake160Script)(s,n))throw new Error("Not SECP256K1_BLAKE160 input!");t=t.update("inputs",l=>l.push(e));const o={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",l=>l.push(o)),a&&(t=t.update("inputSinces",l=>l.set(t.get("inputs").size-1,a))),t=t.update("witnesses",l=>l.push(i));const f=n.SCRIPTS.SECP256K1_BLAKE160;if(!f)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const c={txHash:f.TX_HASH,index:f.INDEX};t=(0,Jf.addCellDep)(t,{outPoint:c,depType:f.DEP_TYPE});const u=t.get("inputs").findIndex(l=>new Il(l.cellOutput.lock,{validate:!1}).equals(new Il(s,{validate:!1})));if(u!==-1){for(;u>=t.get("witnesses").size;)t=t.update("witnesses",y=>y.push("0x"));let l=t.get("witnesses").get(u);const p={lock:Jf.SECP_SIGNATURE_PLACEHOLDER};if(l!=="0x"){const y=Pp.blockchain.WitnessArgs.unpack(Fl.bytes.bytify(l)),m=y.lock;if(m&&p.lock&&!Fl.bytes.equal(m,p.lock))throw new Error("Lock field in first witness is set aside for signature!");const A=y.inputType;A&&(p.inputType=A);const S=y.outputType;S&&(p.outputType=S)}l=Fl.bytes.hexify(Pp.blockchain.WitnessArgs.pack(p)),t=t.update("witnesses",y=>y.set(u,l))}return t}async function DD(t,e,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){const o=await P1(t,e,r,n,{config:i,requireToAddress:a,assertAmountEnough:s});let f,c;return o instanceof Array?(f=o[0],c=BigInt(o[1].toString()),[f,c]):(f=o,f)}async function P1(t,e,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){i=i||(0,g0.getConfig)();const o=i.SCRIPTS.SECP256K1_BLAKE160;if(!o)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const f={txHash:o.TX_HASH,index:o.INDEX};t=(0,Jf.addCellDep)(t,{outPoint:f,depType:o.DEP_TYPE});const c=(0,Fb.parseAddress)(e,{config:i});if((0,Jf.ensureScript)(c,i,"SECP256K1_BLAKE160"),a&&!r)throw new Error("You must provide a to address!");let u=xf.BI.from(n);if(r){const m=(0,Fb.parseAddress)(r,{config:i});t=t.update("outputs",A=>A.push({cellOutput:{capacity:"0x"+u.toString(16),lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const l=t.get("fixedEntries").filter(({field:m})=>m==="outputs").maxBy(({index:m})=>m);let p=l?l.index+1:0;for(;p<t.get("outputs").size&&u.gt(0);p++){const m=t.get("outputs").get(p);if(new Il(m.cellOutput.lock,{validate:!1}).equals(new Il(c,{validate:!1}))){const A=xf.BI.from(m.cellOutput.capacity);let S;u.gte(A)?S=A:(S=A.sub((0,Fb.minimalCellCapacityCompatible)(m)),S.gt(u)&&(S=u)),u=u.sub(S),m.cellOutput.capacity="0x"+A.sub(S).toString(16)}}if(t=t.update("outputs",m=>m.filter(A=>!xf.BI.from(A.cellOutput.capacity).eq(0))),u.gt(0)){const m=t.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const A=m.collector({lock:c}),S={cellOutput:{capacity:"0x0",lock:c,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let w=xf.BI.from(0),C=(0,aK.Set)();for(const O of t.get("inputs"))C=C.add(`${O.outPoint.txHash}_${O.outPoint.index}`);for await(const O of A.collect()){if(C.has(`${O.outPoint.txHash}_${O.outPoint.index}`))continue;t=t.update("inputs",K=>K.push(O)),t=t.update("witnesses",K=>K.push("0x"));const M=xf.BI.from(O.cellOutput.capacity);let U=M;if(U.gt(u)&&(U=u),u=u.sub(U),w=w.add(M).sub(U),u.eq(0)&&(w.eq(0)||w.gt((0,Fb.minimalCellCapacityCompatible)(S))))break}w.gt(0)&&(S.cellOutput.capacity="0x"+w.toString(16),t=t.update("outputs",O=>O.push(S)))}if(u.gt(0)&&s)throw new Error("Not enough capacity in from address!");const y=t.get("inputs").findIndex(m=>new Il(m.cellOutput.lock,{validate:!1}).equals(new Il(c,{validate:!1})));if(y!==-1){for(;y>=t.get("witnesses").size;)t=t.update("witnesses",S=>S.push("0x"));let m=t.get("witnesses").get(y);const A={lock:Jf.SECP_SIGNATURE_PLACEHOLDER};if(m!=="0x"){const S=Pp.blockchain.WitnessArgs.unpack(Fl.bytes.bytify(m)),w=S.lock;if(w&&A.lock&&!Fl.bytes.equal(w,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const C=S.inputType;C&&(A.inputType=C);const O=S.outputType;O&&(A.outputType=O)}m=Fl.bytes.hexify(Pp.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",S=>S.set(y,m))}return s?t:[t,xf.BI.from(u)]}async function MD(t,e,r,{config:n=void 0}={}){return n=n||(0,g0.getConfig)(),await P1(t,e,null,r,{config:n,requireToAddress:!1})}async function RD(t,e,r,{config:n=void 0}={}){if(n=n||(0,g0.getConfig)(),e>=t.get("outputs").size)throw new Error("Invalid output index!");const i=xf.BI.from(t.get("outputs").get(e).cellOutput.capacity);return await P1(t,r,null,xf.BI.from(i),{config:n,requireToAddress:!1})}function LD(t,{config:e=void 0}={}){return e=e||(0,g0.getConfig)(),(0,Jf.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160")}Dn.default={transfer:DD,transferCompatible:P1,payFee:MD,prepareSigningEntries:LD,injectCapacity:RD,setupInputCell:BD,CellCollector:oK};var N1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=A,Object.defineProperty(t,"multisigArgs",{enumerable:!0,get:function(){return o.multisigArgs}}),t.payFee=m,t.prepareSigningEntries=S,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return o.serializeMultisigScript}}),t.setupInputCell=l,t.transfer=p,t.transferCompatible=y;var e=pi(),r=st,n=Ir,i=Nr,a=Jo,s=lt,o=ei,f=wt;const{ScriptValue:c}=n.values,u=t.CellCollector=class{constructor(C,O,{config:M=void 0,queryOptions:U={}}={}){if(!O)throw new Error("Cell provider is missing!");M=M||(0,i.getConfig)();const K=(0,o.parseFromInfo)(C,{config:M});this.fromScript=K.fromScript,this.multisigScript=K.multisigScript,this.config=M,U={...U,lock:this.fromScript,type:U.type||"empty"},this.cellCollector=O.collector(U)}async*collect(){if((0,s.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const C of this.cellCollector.collect())yield C}};async function l(w,C,O,{config:M=void 0,defaultWitness:U="0x",since:K=void 0,requireMultisigScript:Q=!0}={}){if(M=M||(0,i.getConfig)(),Q&&typeof O!="object")throw new Error("`fromInfo` must be MultisigScript format!");const k=C.cellOutput.lock;if(O){const I=(0,o.parseFromInfo)(O,{config:M}).fromScript;if(!new c(I,{validate:!1}).equals(new c(k,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,s.isSecp256k1Blake160MultisigScript)(k,M))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");w=w.update("inputs",I=>I.push(C)),K&&(w=w.update("inputSinces",I=>I.set(w.get("inputs").size-1,K))),w=w.update("witnesses",I=>I.push(U));const G={cellOutput:{capacity:C.cellOutput.capacity,lock:C.cellOutput.lock,type:C.cellOutput.type},data:C.data};w=w.update("outputs",I=>I.push(G));const W=M.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!W)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const R={txHash:W.TX_HASH,index:W.INDEX};w=(0,s.addCellDep)(w,{outPoint:R,depType:W.DEP_TYPE});const _=w.get("inputs").findIndex(I=>new c(I.cellOutput.lock,{validate:!1}).equals(new c(k,{validate:!1})));if(_!==-1){for(;_>=w.get("witnesses").size;)w=w.update("witnesses",b=>b.push("0x"));if(w.get("witnesses").get(_)==="0x"&&typeof O!="object")throw new Error("`fromInfo` must be MultisigScript format!");if(typeof O=="object"){const b=(0,o.parseFromInfo)(O,{config:M}).multisigScript;let v=w.get("witnesses").get(_);const d={lock:"0x"+b.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(O.M)};if(v!=="0x"){const g=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(v)),x=g.lock;if(x&&d.lock&&!r.bytes.equal(x,d.lock))throw new Error("Lock field in first witness is set aside for signature!");const E=g.inputType;E&&(d.inputType=E);const h=g.outputType;h&&(d.outputType=h)}v=r.bytes.hexify(n.blockchain.WitnessArgs.pack(d)),w=w.update("witnesses",g=>g.set(_,v))}}return w}async function p(w,C,O,M,{config:U=void 0,requireToAddress:K=!0,assertAmountEnough:Q=!0}={}){const k=await y(w,C,O,M,{config:U,requireToAddress:K,assertAmountEnough:Q});let G,W;return k instanceof Array?(G=k[0],W=BigInt(k[1].toString()),[G,W]):(G=k,G)}async function y(w,C,O,M,{config:U=void 0,requireToAddress:K=!0,assertAmountEnough:Q=!0}={}){U=U||(0,i.getConfig)();const k=U.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!k)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const G={txHash:k.TX_HASH,index:k.INDEX};w=(0,s.addCellDep)(w,{outPoint:G,depType:k.DEP_TYPE});const{fromScript:W,multisigScript:R}=(0,o.parseFromInfo)(C,{config:U});(0,s.ensureScript)(W,U,"SECP256K1_BLAKE160_MULTISIG");const _=!w.get("inputs").find(g=>new c(g.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1})));if(_&&C==="string")throw new Error("MultisigScript is required for witness!");if(K&&!O)throw new Error("You must provide a to address!");let I=M?f.BI.from(M):f.BI.from(0);if(O){const g=(0,e.parseAddress)(O,{config:U});w=w.update("outputs",x=>x.push({cellOutput:{capacity:"0x"+I.toString(16),lock:g,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const b=w.get("fixedEntries").filter(({field:g})=>g==="outputs").maxBy(({index:g})=>g);let v=b?b.index+1:0;for(;v<w.get("outputs").size&&I.gt(0);++v){const g=w.get("outputs").get(v);if(new c(g.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1}))){const x=f.BI.from(g.cellOutput.capacity);let E;I.gte(x)?E=x:(E=x.sub((0,e.minimalCellCapacityCompatible)(g)),E.gt(I)&&(E=I)),I=I.sub(E),g.cellOutput.capacity="0x"+x.sub(E).toString(16)}}if(w=w.update("outputs",g=>g.filter(x=>!f.BI.from(x.cellOutput.capacity).eq(0))),I.gt(0)){const g=w.get("cellProvider");if(!g)throw new Error("cell provider is missing!");const x=g.collector({lock:W}),E={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let h=f.BI.from(0),T=(0,a.Set)();for(const j of w.get("inputs"))T=T.add(`${j.outPoint.txHash}_${j.outPoint.index}`);for await(const j of x.collect()){if(T.has(`${j.outPoint.txHash}_${j.outPoint.index}`))continue;w=w.update("inputs",F=>F.push(j)),w=w.update("witnesses",F=>F.push("0x"));const L=f.BI.from(j.cellOutput.capacity);let $=L;if($.gt(I)&&($=I),I=I.sub($),h=h.add(L.sub($)),I.eq(0)&&(h.eq(0)||h.gt((0,e.minimalCellCapacityCompatible)(E))))break}h.gt(0)&&(E.cellOutput.capacity="0x"+h.toString(16),w=w.update("outputs",j=>j.push(E)))}if(I.gt(0)&&Q)throw new Error("Not enough capacity in from address!");const d=w.get("inputs").findIndex(g=>new c(g.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1})));if(d!==-1){for(;f.BI.from(d).gte(w.get("witnesses").size);)w=w.update("witnesses",g=>g.push("0x"));if(_||typeof C!="string"){let g=w.get("witnesses").get(d);const x={lock:"0x"+R.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(C.M)};if(g!=="0x"){const E=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(g)),h=E.lock;if(h&&x.lock&&!r.bytes.equal(h,x.lock))throw new Error("Lock field in first witness is set aside for signature!");const T=E.inputType;T&&(x.inputType=T);const j=E.outputType;j&&(x.outputType=j)}g=r.bytes.hexify(n.blockchain.WitnessArgs.pack(x)),w=w.update("witnesses",E=>E.set(d,g))}}return Q?w:[w,f.BI.from(I)]}async function m(w,C,O,{config:M=void 0}={}){return M=M||(0,i.getConfig)(),y(w,C,void 0,O,{config:M,requireToAddress:!1})}async function A(w,C,O,{config:M=void 0}={}){if(M=M||(0,i.getConfig)(),C>=w.get("outputs").size)throw new Error("Invalid output index!");const U=f.BI.from(w.get("outputs").get(C).cellOutput.capacity);return y(w,O,void 0,U,{config:M,requireToAddress:!1})}function S(w,{config:C=void 0}={}){return C=C||(0,i.getConfig)(),(0,s.prepareSigningEntries)(w,C,"SECP256K1_BLAKE160_MULTISIG")}t.default={transfer:p,transferCompatible:y,payFee:m,prepareSigningEntries:S,serializeMultisigScript:o.serializeMultisigScript,multisigArgs:o.multisigArgs,injectCapacity:A,setupInputCell:l,CellCollector:u}})(N1);var Vi={},vi={},z_={},bs={},_i={},kA;function n5(){if(kA)return _i;kA=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.CellCollector=void 0,_i.checkLimit=m,_i.default=void 0,_i.injectCapacity=S,_i.prepareSigningEntries=w,_i.setupInputCell=y,_i.setupOutputCell=A,_i.withdraw=C;var t=Ir,e=st,r=Nr,n=pi(),i=Jo,a=wt,s=ei,o=lt,f=HD();const{ScriptValue:c}=t.values,{CKBHasher:u,ckbHash:l}=t.utils,p=_i.CellCollector=class{constructor(M,U,{config:K=void 0,queryOptions:Q={}}={}){if(!U)throw new Error("Cell provider is missing!");K=K||(0,r.getConfig)(),this.fromScript=(0,s.parseFromInfo)(M,{config:K}).fromScript,this.config=K,Q={...Q,lock:this.fromScript,type:Q.type||"empty"},this.cellCollector=U.collector(Q)}async*collect(){if((0,o.isAcpScript)(this.fromScript,this.config))for await(const M of this.cellCollector.collect())yield M}};async function y(O,M,U,{config:K=void 0,defaultWitness:Q="0x",since:k=void 0}={}){K=K||(0,r.getConfig)();const G=M.cellOutput.lock;if(!(0,o.isAcpScript)(G,K))throw new Error("Not anyone-can-pay input!");O=O.update("inputs",b=>b.push(M)),k&&(O=O.update("inputSinces",b=>b.set(O.get("inputs").size-1,k))),O=O.update("witnesses",b=>b.push(Q));const W={cellOutput:{capacity:M.cellOutput.capacity,lock:M.cellOutput.lock,type:M.cellOutput.type},data:M.data};O=O.update("outputs",b=>b.push(W)),O=O.update("fixedEntries",b=>b.push({field:"outputs",index:O.get("outputs").size-1}));const R=K.SCRIPTS.ANYONE_CAN_PAY;if(!R)throw new Error("ANYONE_CAN_PAY script not defined in config!");const _={txHash:R.TX_HASH,index:R.INDEX};O=(0,o.addCellDep)(O,{outPoint:_,depType:R.DEP_TYPE});const I=O.get("inputs").findIndex(b=>new c(b.cellOutput.lock,{validate:!1}).equals(new c(G,{validate:!1})));if(I!==-1){for(;I>=O.get("witnesses").size;)O=O.update("witnesses",d=>d.push("0x"));let b=O.get("witnesses").get(I);const v={lock:o.SECP_SIGNATURE_PLACEHOLDER};if(b!=="0x"){const d=t.blockchain.WitnessArgs.unpack(e.bytes.bytify(b)),g=d.lock;if(g&&v.lock&&!e.bytes.equal(g,v.lock))throw new Error("Lock field in first witness is set aside for signature!");const x=d.inputType;x&&(v.inputType=x);const E=d.outputType;E&&(v.outputType=E)}b=e.bytes.hexify(t.blockchain.WitnessArgs.pack(v)),O=O.update("witnesses",d=>d.set(I,b))}return O}function m(O,M){const U=a.BI.from(M);let K,Q;if(O.length>=46&&(K=a.BI.from(10).pow("0x"+O.slice(44,46))),O.length>=44){const k=a.BI.from(10).pow("0x"+O.slice(42,44)),G=a.BI.from(10).pow(8);Q=k.mul(G)}if(Q&&K){if(U.lt(Q))throw new Error(`capacity(${M}) less than toAddress minimal capacity limit(${Q}), and amount less then toAddress minimal amount limit(${K})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(Q&&U.lt(Q))throw new Error(`capacity(${M}) less than toAddress minimal capacity limit(${Q})!`)}async function A(O,M,{config:U=void 0}={}){U=U||(0,r.getConfig)();const K=M.cellOutput.lock,Q=a.BI.from(M.cellOutput.capacity);m(K.args,Q.toString());const k=O.get("cellProvider");if(!k)throw new Error("Cell Provider is missing!");const G=(0,n.generateAddress)(K,{config:U}),R=(await new p(G,k,{config:U}).collect().next()).value;let _=Q;if(R&&(_=Q.add(R.cellOutput.capacity),O=O.update("inputs",I=>I.push(R)),O=O.update("witnesses",I=>I.push("0x"))),M.cellOutput.capacity="0x"+_.toString(16),O=O.update("outputs",I=>I.push(M)),R){const I=U.SCRIPTS.ANYONE_CAN_PAY;if(!I)throw new Error("ANYONE_CAN_PAY script not defined in config!");const b={txHash:I.TX_HASH,index:I.INDEX};O=(0,o.addCellDep)(O,{outPoint:b,depType:I.DEP_TYPE})}return O}async function S(O,M,U,K,{config:Q=void 0}={}){if(Q=Q||(0,r.getConfig)(),U>=M.get("outputs").size)throw new Error("Invalid output index!");let k=a.BI.from(K);if(!Q.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const W=O.fromScript,R=M.get("fixedEntries").filter(({field:b})=>b==="outputs").maxBy(({index:b})=>b);let _=R?R.index+1:0;for(;_<M.get("outputs").size&&k.gt(0);_++){const b=M.get("outputs").get(_);if(new c(b.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1}))){const v=a.BI.from(b.cellOutput.capacity),d=v.sub((0,n.minimalCellCapacityCompatible)(b)),g=k.gte(d)?d:k;k=k.sub(g),b.cellOutput.capacity="0x"+v.sub(g).toString(16)}}M=M.update("outputs",b=>b.filter(v=>!a.BI.from(v.cellOutput.capacity).eq(0)));const I=b=>`${b.outPoint.txHash}_${b.outPoint.index}`;if(k.gt(0)){const b={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let v=a.BI.from(0);const d=a.BI.from((0,n.minimalCellCapacityCompatible)(b));let g=(0,i.Set)();for(const x of M.get("inputs"))g=g.add(I(x));for await(const x of O.collect()){if(g.has(I(x)))continue;M=await y(M,x,void 0,{config:Q});const E=M.get("outputs").size-1;M=M.update("outputs",L=>L.remove(E));const h=M.get("fixedEntries").findIndex(L=>L.field==="outputs"&&L.index===E);h>=0&&(M=M.update("fixedEntries",L=>L.remove(h)));const T=a.BI.from(x.cellOutput.capacity);let j=T;if(j.gt(k)&&(j=k),k=k.sub(j),v=v.add(T.sub(j)),k.eq(0)&&v.gte(d))break;b.cellOutput.capacity="0x"+v.toString(16),M=M.update("outputs",L=>L.push(b))}if(k.gt(0)||v<d)throw new Error("Not enough capacity in from address!");b.cellOutput.capacity="0x"+v.toString(16),M=M.update("outputs",x=>x.push(b))}return M}function w(O,{config:M=void 0}={}){M=M||(0,r.getConfig)();const U="ANYONE_CAN_PAY",K=M.SCRIPTS[U];if(!K)throw new Error(`Provided config does not have ${U} script setup!`);let Q=(0,i.Set)();const k=(0,n.createTransactionFromSkeleton)(O),G=l(t.blockchain.RawTransaction.pack(k)),W=O.get("inputs"),R=O.get("witnesses");let _=O.get("signingEntries");for(let I=0;I<W.size;I++){const b=W.get(I);if(K.CODE_HASH===b.cellOutput.lock.codeHash&&K.HASH_TYPE===b.cellOutput.lock.hashType&&!Q.has(b.cellOutput.lock.args)){Q=Q.add(b.cellOutput.lock.args);const v=O.get("outputs").filter($=>new c($.cellOutput.lock,{validate:!1}).equals(new c(b.cellOutput.lock,{validate:!1}))),d=v.map($=>a.BI.from($.cellOutput.capacity)).reduce(($,F)=>$.add(F),a.BI.from(0)),g=v.filter($=>$.data!=="0x").map($=>(0,f.unpackAmount)($.data)).reduce(($,F)=>$.add(F),a.BI.from(0)),x=W.filter($=>new c($.cellOutput.lock,{validate:!1}).equals(new c(b.cellOutput.lock,{validate:!1}))),E=x.map($=>a.BI.from($.cellOutput.capacity)).reduce(($,F)=>$.add(F),a.BI.from(0)),h=x.filter($=>$.data!=="0x").map($=>a.BI.from((0,f.unpackAmount)($.data))).reduce(($,F)=>$.add(F),a.BI.from(0));if(E.lte(d)&&h.lte(g))continue;const T=new t.values.ScriptValue(b.cellOutput.lock,{validate:!1}),j=new u;if(j.update(G),I>=R.size)throw new Error(`The first witness in the script group starting at input index ${I} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,o.hashWitness)(j,R.get(I));for(let $=I+1;$<W.size&&$<R.size;$++){const F=W.get($);T.equals(new t.values.ScriptValue(F.cellOutput.lock,{validate:!1}))&&(0,o.hashWitness)(j,R.get($))}for(let $=W.size;$<R.size;$++)(0,o.hashWitness)(j,R.get($));const L={type:"witness_args_lock",index:I,message:j.digestHex()};_=_.push(L)}}return O=O.set("signingEntries",_),O}async function C(O,M,U,K,{config:Q=void 0}={}){if(Q=Q||(0,r.getConfig)(),!(0,o.isAcpScript)(M.cellOutput.lock,Q))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const k=a.BI.from(K),G=a.BI.from(M.cellOutput.capacity),W=a.BI.from((0,n.minimalCellCapacityCompatible)(M));if(!(k.gte(0)&&k.lte(G.sub(W))||k.eq(G)))throw new Error(`capacity must be in [0, ${G.sub(W)}] or ${G} !`);const R=(0,n.parseAddress)(U,{config:Q}),_={cellOutput:{capacity:"0x"+K.toString(16),lock:R,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,o.isAcpScript)(R,Q)){m(R.args,K);const v=O.get("cellProvider");if(!v)throw new Error("Cell Provider is missing!");const g=(await new p(U,v,{config:Q}).collect().next()).value;if(!g)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const x=k.add(g.cellOutput.capacity);_.cellOutput.capacity="0x"+x.toString(16),O=O.update("inputs",E=>E.push(g)),O=O.update("witnesses",E=>E.push("0x"))}O=O.update("outputs",v=>v.push(_)),O=await y(O,M,(0,n.generateAddress)(M.cellOutput.lock,{config:Q}),{config:Q});const I=O.get("outputs").size-1;O=O.update("outputs",v=>v.remove(I));const b=O.get("fixedEntries").findIndex(v=>v.field==="outputs"&&v.index===I);return b>=0&&(O=O.update("fixedEntries",v=>v.remove(b))),k.eq(G)||(O=O.update("outputs",v=>v.push({cellOutput:{capacity:"0x"+G.sub(K).toString(16),lock:M.cellOutput.lock,type:M.cellOutput.type},data:M.data}))),O}return _i.default={CellCollector:p,setupInputCell:y,setupOutputCell:A,injectCapacity:S,prepareSigningEntries:w,withdraw:C},_i}var zA;function HD(){if(zA)return bs;zA=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=void 0,bs.issueToken=C,bs.ownerForSudt=U,bs.packAmount=Q,bs.transfer=O,bs.unpackAmount=K;var t=lt,e=Ir,r=A(N1),n=ei,i=A(h5()),a=pi(),s=Jo,o=Nr,f=d5(),c=m(n5()),u=A(Dn),l=wt,p=st;function y(k){if(typeof WeakMap!="function")return null;var G=new WeakMap,W=new WeakMap;return(y=function(R){return R?W:G})(k)}function m(k,G){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var W=y(G);if(W&&W.has(k))return W.get(k);var R={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in k)if(I!=="default"&&{}.hasOwnProperty.call(k,I)){var b=_?Object.getOwnPropertyDescriptor(k,I):null;b&&(b.get||b.set)?Object.defineProperty(R,I,b):R[I]=k[I]}return R.default=k,W&&W.set(k,R),R}function A(k){return k&&k.__esModule?k:{default:k}}const{computeScriptHash:S}=e.utils,{ScriptValue:w}=e.values;async function C(k,G,W,R,_,{config:I=void 0}={}){I=I||(0,o.getConfig)();const b=I.SCRIPTS.SUDT;if(!b)throw new Error("Provided config does not have SUDT script setup!");k=(0,t.addCellDep)(k,{outPoint:{txHash:b.TX_HASH,index:b.INDEX},depType:b.DEP_TYPE});const v=(0,n.parseFromInfo)(G,{config:I}).fromScript,d=v,g={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:S(v)},x={cellOutput:{capacity:"0x0",lock:d,type:g},data:p.bytes.hexify(p.number.Uint128LE.pack(W)),outPoint:void 0,blockHash:void 0};R||(R=(0,a.minimalCellCapacityCompatible)(x));const E=l.BI.from(R);x.cellOutput.capacity="0x"+E.toString(16),k=k.update("outputs",T=>T.push(x));const h=k.get("outputs").size-1;return k=k.update("fixedEntries",T=>T.push({field:"outputs",index:h})),k=await i.default.injectCapacity(k,[G],l.BI.from(l.BI.from(x.cellOutput.capacity)),void 0,_,{config:I}),k}async function O(k,G,W,R,_,I,b,v,{config:d=void 0,LocktimePoolCellCollector:g=f.CellCollector,splitChangeCell:x=!1}={}){d=d||(0,o.getConfig)();let E=l.BI.from(_),h=b?l.BI.from(b):void 0;const T=d.SCRIPTS.SUDT;if(!T)throw new Error("Provided config does not have SUDT script setup!");if(G.length===0)throw new Error("`fromInfos` can't be empty!");if(!R)throw new Error("You must provide a to address!");const j=(0,a.parseAddress)(R,{config:d}),L=G.map(J=>(0,n.parseFromInfo)(J,{config:d}).fromScript),$=I?(0,a.parseAddress)(I,{config:d}):L[0];if(E.lte(0))throw new Error("amount must be greater than 0");const F=M(W,d),H=k.get("cellProvider");if(!H)throw new Error("Cell provider is missing!");let q=l.BI.from(0),X=l.BI.from(0);if((0,t.isAcpScript)(j,d)){const ie=(await new c.CellCollector(R,H,{config:d,queryOptions:{type:F,data:"any"}}).collect().next()).value;if(!ie)throw new Error("toAddress ANYONE_CAN_PAY input not found!");k=k.update("inputs",ce=>ce.push(ie)),k=k.update("witnesses",ce=>ce.push("0x")),q=l.BI.from(ie.cellOutput.capacity),X=K(ie.data)}const te={cellOutput:{capacity:"0x0",lock:j,type:F},data:p.bytes.hexify(p.number.Uint128LE.pack(E)),outPoint:void 0,blockHash:void 0};(0,t.isAcpScript)(j,d)?(h||(h=l.BI.from(0)),te.cellOutput.capacity="0x"+q.add(h).toString(16),te.data=p.bytes.hexify(p.number.Uint128LE.pack(X.add(E)))):(h||(h=l.BI.from((0,a.minimalCellCapacityCompatible)(te))),te.cellOutput.capacity="0x"+h.toString(16)),k=k.update("outputs",J=>J.push(te)),k=k.update("fixedEntries",J=>J.push({field:"outputs",index:k.get("outputs").size-1})),k=(0,t.addCellDep)(k,{outPoint:{txHash:T.TX_HASH,index:T.INDEX},depType:T.DEP_TYPE});const ne={cellOutput:{capacity:"0x0",lock:$,type:F},data:p.bytes.hexify(p.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},N={cellOutput:{capacity:"0x0",lock:$,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let P=l.BI.from(0),re=l.BI.from(0),ue=(0,s.Set)();for(const J of k.get("inputs"))ue=ue.add(`${J.outPoint.txHash}_${J.outPoint.index}`);let de=(0,s.List)();v&&G.forEach((J,ie)=>{const ce=new g(J,H,{config:d,tipHeader:v,queryOptions:{type:F,data:"any"}});de=de.push({cellCollector:ce,index:ie})}),G.forEach((J,ie)=>{const ce=new u.default.CellCollector(J,H,{config:d,queryOptions:{type:F,data:"any"}}),ye=new r.default.CellCollector(J,H,{config:d,queryOptions:{type:F,data:"any"}}),ge=new c.default.CellCollector(J,H,{config:d,queryOptions:{type:F,data:"any"}});de=de.push({cellCollector:ce,index:ie},{cellCollector:ye,index:ie},{cellCollector:ge,index:ie,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})}),v&&G.forEach((J,ie)=>{const ce=new g(J,H,{config:d,tipHeader:v});de=de.push({cellCollector:ce,index:ie})}),G.forEach((J,ie)=>{const ce=new u.default.CellCollector(J,H,{config:d}),ye=new r.default.CellCollector(J,H,{config:d}),ge=new c.default.CellCollector(J,H,{config:d});de=de.push({cellCollector:ce,index:ie},{cellCollector:ye,index:ie},{cellCollector:ge,index:ie,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})});for(const{index:J,cellCollector:ie,isAnyoneCanPay:ce,destroyable:ye}of de)for await(const ge of ie.collect()){const Se=`${ge.outPoint.txHash}_${ge.outPoint.index}`;if(ue.has(Se))continue;ue=ue.add(Se);const kt=G[J];k=await i.default.setupInputCell(k,ge,kt,{config:d});const He=k.get("outputs").size-1;k=k.update("outputs",fe=>fe.remove(He));const Fe=k.get("fixedEntries").findIndex(fe=>fe.field==="outputs"&&fe.index===He);Fe>=0&&(k=k.update("fixedEntries",fe=>fe.remove(Fe)));const fn=l.BI.from(ge.cellOutput.capacity),z=ge.cellOutput.type?K(ge.data):l.BI.from(0);let B=ce&&!ye?fn.sub((0,a.minimalCellCapacityCompatible)(ge)):fn,D=z;B.gt(h)&&(B=l.BI.from(h)),h=h.sub(B);const Y=fn.sub(B);(!ce||ce&&ye)&&(P=P.add(Y)),D.gt(E)&&(D=E),E=E.sub(D);const ae=z.sub(D);if((!ce||ce&&ye)&&(re=re.add(ae)),ce&&!ye){const fe={cellOutput:{capacity:"0x"+Y.toString(16),lock:ge.cellOutput.lock,type:ge.cellOutput.type},data:ge.cellOutput.type?p.bytes.hexify(p.number.Uint128LE.pack(ae)):"0x"};k=k.update("outputs",le=>le.push(fe)),ge.cellOutput.type&&(k=k.update("fixedEntries",le=>le.push({field:"outputs",index:k.get("outputs").size-1})))}if(h.eq(0)&&E.eq(0)&&(P.eq(0)&&re.eq(0)||P.gt((0,a.minimalCellCapacityCompatible)(N))&&re.eq(0))){ne.cellOutput.type=void 0,ne.data="0x";break}if(h.eq(0)&&E.eq(0)&&P.gt((0,a.minimalCellCapacityCompatible)(N))&&re.gt(0))break}let V=-1;if((0,t.isAcpScript)(ne.cellOutput.lock,d)&&(V=k.get("outputs").findIndex(J=>new w(ne.cellOutput.lock,{validate:!1}).equals(new w(J.cellOutput.lock,{validate:!1}))&&(re.eq(0)&&!ne.cellOutput.type&&!J.cellOutput.type||re.gte(0)&&!!ne.cellOutput.type&&!!J.cellOutput.type&&new w(ne.cellOutput.type,{validate:!1}).equals(new w(J.cellOutput.type,{validate:!1})))))!==-1&&k.get("fixedEntries").findIndex(J=>J.field==="output"&&J.index===V)===-1){const J=k.get("outputs").get(V),ie=JSON.parse(JSON.stringify(J));ie.cellOutput.capacity="0x"+l.BI.from(J.cellOutput.capacity).add(P).toString(16),re.gt(0)&&(ie.data=p.bytes.hexify(p.number.Uint128LE.pack(K(J.data).add(re))));const ce=l.BI.from((0,a.minimalCellCapacityCompatible)(ne)),ye=l.BI.from((0,a.minimalCellCapacityCompatible)(N));let ge=!1;re.gt(0)&&x&&P.gte(ce.add(ye))&&(ie.cellOutput.capacity=J.cellOutput.capacity,N.cellOutput.capacity="0x"+P.toString(16),ge=!0),k=k.update("outputs",Se=>Se.set(V,ie)),ge&&(k=k.update("outputs",Se=>Se.push(N)))}else if(P.gte((0,a.minimalCellCapacityCompatible)(ne))){ne.cellOutput.capacity="0x"+P.toString(16),re.gt(0)&&(ne.data=p.bytes.hexify(p.number.Uint128LE.pack(re)));const J=l.BI.from((0,a.minimalCellCapacityCompatible)(ne)),ie=l.BI.from((0,a.minimalCellCapacityCompatible)(N));let ce=!1;re.gt(0)&&x&&P.gte(J.add(ie))&&(ne.cellOutput.capacity="0x"+J.toString(16),N.cellOutput.capacity="0x"+P.sub(J).toString(16),ce=!0),k=k.update("outputs",ye=>ye.push(ne)),re.gt(0)&&(k=k.update("fixedEntries",ye=>ye.push({field:"outputs",index:k.get("outputs").size-1}))),ce&&(k=k.update("outputs",ye=>ye.push(N)))}else if(re.gt(0)&&P.lt((0,a.minimalCellCapacityCompatible)(ne)))throw new Error("Not enough capacity for change in from infos!");if(h.gt(0))throw new Error("Not enough capacity in from infos!");if(E.gt(0))throw new Error("Not enough amount in from infos!");return k}function M(k,G){const W=G.SCRIPTS.SUDT;return{codeHash:W.CODE_HASH,hashType:W.HASH_TYPE,args:k}}function U(k,{config:G=void 0}={}){G=G||(0,o.getConfig)();const{fromScript:W}=(0,n.parseFromInfo)(k,{config:G});return S(W)}function K(k){return p.number.Uint128LE.unpack(p.bytes.bytify(k).slice(0,16))}function Q(k){return p.bytes.hexify(p.number.Uint128LE.pack(k))}return bs.default={issueToken:C,transfer:O,ownerForSudt:U,packAmount:Q,unpackAmount:K},bs}var i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.createP2PKHMessageGroup=pK;var Yc=Ir,fK=pi(),dl=st,cK=wt;function uK(t,e){const r=new Set;for(const i of e){const a=Yc.utils.ckbHash(Yc.blockchain.Script.pack(i));r.add(a)}const n=new Map;for(let i=0;i<t.length;i++){const a=Yc.utils.ckbHash(Yc.blockchain.Script.pack(t[i].cellOutput.lock));r.has(a)&&(n.get(a)===void 0&&n.set(a,[]),n.get(a).push(i))}return n}function lK(t){const e=(0,fK.createTransactionFromSkeleton)(t),r={cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData,version:e.version};return Yc.utils.ckbHash(Yc.blockchain.RawTransaction.pack(r))}const dK=()=>{const t=new Yc.utils.CKBHasher;return{update:e=>t.update(e.buffer),digest:()=>dl.bytes.bytify(t.digestHex())}};function hK(t){return t instanceof Function?t():t}function pK(t,e,{hasher:r=dK}={}){const n=uK(t.inputs.toArray(),e),i=lK(t);if(e.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const a=[];for(const s of n.keys()){const o=hK(r),f=n.get(s),c=f[0],u=t.witnesses.get(c);if(u===void 0)throw new Error("Please fill witnesses with 0 first!");o.update(dl.bytes.bytify(i));const l=new ArrayBuffer(8),p=new DataView(l),y=cK.BI.from(dl.bytes.bytify(u).length).toString(16);y.length<=8&&(p.setUint32(0,+("0x"+y),!0),p.setUint32(4,+"0x00000000",!0)),y.length>8&&y.length<=16&&(p.setUint32(0,+("0x"+y.slice(-8)),!0),p.setUint32(4,+("0x"+y.slice(0,-8)),!0)),o.update(new Uint8Array(l)),o.update(dl.bytes.bytify(u));for(let S=1;S<f.length;S++){const w=t.witnesses.get(f[S]);o.update(new Uint8Array(l)),o.update(dl.bytes.bytify(w))}for(let S=t.inputs.toArray().length;S<t.witnesses.toArray().length;S++){const w=t.witnesses.get(S);o.update(new Uint8Array(l)),o.update(dl.bytes.bytify(w))}const m=o.digest(),A={index:c,lock:t.inputs.get(c).cellOutput.lock,message:"0x"+Array.prototype.map.call(m,S=>("00"+S.toString(16)).slice(-2)).join("")};a.push(A)}return a}var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.compareScriptBinaryWithOnChainData=jD;wc.default=void 0;wc.generateDeployWithDataTx=UD;wc.generateDeployWithTypeIdTx=kD;wc.generateUpgradeTypeIdDataTx=zD;var fs=Ir,rp=st,gy=Nr,Ac=pi(),bK=Jo,H2=ei,vn=wt;const{ScriptValue:jA}=fs.values;function a5(t){let e="0x";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}async function gK(t,e){const r=e.collector({lock:t,type:"empty",data:"0x"}),n=[];for await(const i of r.collect())n.push(i);return n}function s5(t,e){const r=(0,Ac.minimalCellCapacityCompatible)(e);return e.cellOutput.capacity=`0x${r.toString(16)}`,t=t.update("outputs",n=>n.push(e)),t}function o5(t,e){t=t.update("cellDeps",i=>i.clear()),e=e||(0,gy.getConfig)();const r=e.SCRIPTS.SECP256K1_BLAKE160,n=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return t=t.update("cellDeps",i=>i.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})),t}async function f5(t,e,r,n){const i=t.get("inputs").map(o=>vn.BI.from(o.cellOutput.capacity)).reduce((o,f)=>o.add(f),vn.BI.from(0)),s=t.get("outputs").map(o=>vn.BI.from(o.cellOutput.capacity)).reduce((o,f)=>o.add(f),vn.BI.from(0)).sub(i);return t=await yK(t,e,vn.BI.from(s),{config:r,feeRate:n}),t}async function yK(t,e,r,{config:n=void 0,feeRate:i=void 0}){n=n||(0,gy.getConfig)();const a=i||1e3;let s=vn.BI.from(r);const{fromScript:o,multisigScript:f}=(0,H2.parseFromInfo)(e,{config:n});s=s.add(vn.BI.from(10).pow(8));let c=vn.BI.from(10).pow(8);const u={cellOutput:{capacity:"0x0",lock:o,type:void 0},data:"0x"},l=vn.BI.from((0,Ac.minimalCellCapacityCompatible)(u)).add(vn.BI.from(10).pow(8));if(s.lt(0)&&(c=c.sub(s),s=vn.BI.from(0)),s.gt(0)||c.lt(l)){const m=t.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const A=m.collector({lock:o,type:"empty",data:"0x"});let S=(0,bK.Set)();for(const w of t.get("inputs"))S=S.add(`${w.outPoint.txHash}_${w.outPoint.index}`);for await(const w of A.collect()){if(S.has(`${w.outPoint.txHash}_${w.outPoint.index}`))continue;t=t.update("inputs",M=>M.push(w)),t=t.update("witnesses",M=>M.push("0x"));const C=vn.BI.from(w.cellOutput.capacity);let O=C;if(O.gt(s)&&(O=s),s=s.sub(O),c=c.add(C).sub(O),s.eq(0)&&(c.eq(0)||c.gte(l)))break}}if(c.gt(0)&&(u.cellOutput.capacity="0x"+c.toString(16),t=t.update("outputs",m=>m.push(u))),s.gt(0)||c.lt(l))throw new Error("Not enough capacity in from address!");const p=t.get("inputs").findIndex(m=>new jA(m.cellOutput.lock,{validate:!1}).equals(new jA(o,{validate:!1})));if(p!==-1){for(;p>=t.get("witnesses").size;)t=t.update("witnesses",w=>w.push("0x"));let m=t.get("witnesses").get(p),A;const S="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(typeof e!="string"?A={lock:"0x"+f.slice(2)+S.slice(2).repeat(e.M)}:A={lock:S},m!=="0x"){const w=fs.blockchain.WitnessArgs.unpack(rp.bytes.bytify(m)),C=w.lock;if(C&&A.lock&&!rp.bytes.equal(C,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const O=w.inputType;O&&(A.inputType=O);const M=w.outputType;M&&(A.outputType=M)}m=rp.bytes.hexify(fs.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",w=>w.set(p,m))}const y=PD(t,a);return c=c.sub(y),t=t.update("outputs",m=>m.pop()),c.gt(0)&&(u.cellOutput.capacity="0x"+c.toString(16),t=t.update("outputs",m=>m.push(u))),t}function vK(t){const e=(0,Ac.createTransactionFromSkeleton)(t);return _K(e)}function _K(t){return fs.blockchain.Transaction.pack(t).byteLength+4}function mK(t,e){const r=vn.BI.from(1e3),n=vn.BI.from(t).mul(e),i=n.div(r);return i.mul(r).lt(n)?i.add(1):vn.BI.from(i)}function PD(t,e){const r=vK(t);return vn.BI.from(mK(r,e))}function wK(t){const e=t.valueOf();return new fs.utils.CKBHasher().update(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)).digestHex()}async function AK(t,e){const r=t.txHash,n=parseInt(t.index,10),i=await e.getTransaction(r);if(!i)throw new Error(`TxHash(${r}) is not found`);const a=i.transaction.outputsData[n];if(!a)throw new Error("cannot find output data");return new fs.utils.CKBHasher().update(rp.bytes.bytify(a)).digestHex()}function ND(t){const e=(0,Ac.createTransactionFromSkeleton)(t);return fs.utils.ckbHash(fs.blockchain.RawTransaction.pack(e))}function EK(t,e){const r=t.outputs.get(e).data,n=fs.utils.ckbHash(rp.bytes.bytify(r)),i=ND(t);return{CODE_HASH:n,HASH_TYPE:"data2",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function xK(t,e){const r=t.outputs.get(e).cellOutput.type,n=fs.utils.computeScriptHash(r),i=ND(t);return{CODE_HASH:n,HASH_TYPE:"type",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function c5(t,e){const r=t.outputs.get(e);if(r==null)throw new Error("Invalid txSkeleton or outputIndex");return r.cellOutput.type!==void 0?xK(t,e):EK(t,e)}function SK(t){return typeof t!="object"?!1:"M"in t&&"R"in t&&Array.isArray(t.publicKeyHashes)}function u5(t,{config:e=void 0}={}){if(e=e||(0,gy.getConfig)(),typeof t=="string"){if(gy.helpers.nameOfScript((0,Ac.parseAddress)(t,{config:e}),e.SCRIPTS)!=="SECP256K1_BLAKE160")throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!SK(t))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function UD(t){u5(t.fromInfo,{config:t.config});let e=(0,Ac.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,H2.parseFromInfo)(t.fromInfo,{config:t.config}),n={cellOutput:{capacity:"0x0",lock:r},data:a5(t.scriptBinary)};e=s5(e,n),e=o5(e,t.config),e=await f5(e,t.fromInfo,t.config,t.feeRate);const i=c5(e,0);return{txSkeleton:e,scriptConfig:i}}async function kD(t){u5(t.fromInfo,{config:t.config});let e=(0,Ac.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,H2.parseFromInfo)(t.fromInfo,{config:t.config}),[n]=await gK(r,t.cellProvider);if(!n)throw new Error("fromAddress has no live ckb");const i=fs.utils.generateTypeIdScript({previousOutput:n.outPoint,since:"0x0"},"0x0"),a={cellOutput:{capacity:"0x0",lock:r,type:i},data:a5(t.scriptBinary)};e=s5(e,a),e=o5(e,t.config),e=await f5(e,t.fromInfo,t.config,t.feeRate);const s=c5(e,0);return{txSkeleton:e,scriptConfig:s,typeId:i}}async function zD(t){u5(t.fromInfo,{config:t.config});let e=(0,Ac.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,H2.parseFromInfo)(t.fromInfo,{config:t.config}),n=t.cellProvider.collector({type:t.typeId}),i=[];for await(const f of n.collect())i.push(f);if(i.length!==1)throw new Error("the typeid maybe wrong");const a=i[0];e=e.update("inputs",f=>f.push(a));const s={cellOutput:{capacity:"0x0",lock:r,type:t.typeId},data:a5(t.scriptBinary)};e=s5(e,s),e=o5(e,t.config),e=await f5(e,t.fromInfo,t.config,t.feeRate);const o=c5(e,0);return{txSkeleton:e,scriptConfig:o}}async function jD(t,e,r){const n=wK(t),i=await AK(e,r);return n===i}wc.default={generateDeployWithDataTx:UD,generateDeployWithTypeIdTx:kD,generateUpgradeTypeIdDataTx:zD,compareScriptBinaryWithOnChainData:jD,__tests__:{calculateTxFee:PD}};var Sn={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.WitnessArgs=_n.BytesVec=_n.BytesOpt=_n.Bytes=_n.Byte32Vec=_n.Byte32=void 0;_n.WitnessArgsOf=KD;_n.createFixedHexBytesCodec=FD;var $D=Go,Dd=Ca,Fa=c1;function FD(t){return(0,$D.createFixedBytesCodec)({byteLength:t,pack:e=>(0,Dd.bytify)(e),unpack:e=>(0,Dd.hexify)(e)})}const qD=_n.Bytes=(0,Fa.byteVecOf)({pack:Dd.bytify,unpack:Dd.hexify});_n.BytesOpt=(0,Fa.option)(qD);_n.BytesVec=(0,Fa.vector)(qD);const IK=_n.Byte32=FD(32);_n.Byte32Vec=(0,Fa.vector)(IK);function KD(t){return(0,Fa.table)({lock:(0,Fa.option)((0,Fa.byteVecOf)(t.lock)),input_type:(0,Fa.option)((0,Fa.byteVecOf)(t.input_type)),output_type:(0,Fa.option)((0,Fa.byteVecOf)(t.output_type))},["lock","input_type","output_type"])}const j_=(0,$D.createBytesCodec)({pack:Dd.bytify,unpack:Dd.hexify});_n.WitnessArgs=KD({lock:j_,input_type:j_,output_type:j_});var P2={};function CK(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var m=0,A=0,S=0,w=y.length;S!==w&&y[S]===0;)S++,m++;for(var C=(w-S)*c+1>>>0,O=new Uint8Array(C);S!==w;){for(var M=y[S],U=0,K=C-1;(M!==0||U<A)&&K!==-1;K--,U++)M+=256*O[K]>>>0,O[K]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");A=U,S++}for(var Q=C-A;Q!==C&&O[Q]===0;)Q++;for(var k=o.repeat(m);Q<C;++Q)k+=t.charAt(O[Q]);return k}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var m=0,A=0,S=0;y[m]===o;)A++,m++;for(var w=(y.length-m)*f+1>>>0,C=new Uint8Array(w);y[m];){var O=e[y.charCodeAt(m)];if(O===255)return;for(var M=0,U=w-1;(O!==0||M<S)&&U!==-1;U--,M++)O+=s*C[U]>>>0,C[U]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=M,m++}for(var K=w-S;K!==w&&C[K]===0;)K++;for(var Q=new Uint8Array(A+(w-K)),k=A;K!==w;)Q[k++]=C[K++];return Q}function p(y){var m=l(y);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:p}}var TK=CK;const OK=TK,BK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var QD=OK(BK);Object.defineProperty(P2,"__esModule",{value:!0});P2.decodeAddress=RK;P2.signMessage=LK;var $_=st,$A=sc,FA=DK(QD);function DK(t){return t&&t.__esModule?t:{default:t}}const MK="CKB (Bitcoin Layer) transaction: 0x";function RK(t){try{if(t.startsWith("bc1q"))return $A.bech32.fromWords($A.bech32.decode(t).words.slice(1));if(t.startsWith("1")||t.startsWith("3"))return FA.default.decode(t).slice(1,21)}catch{if(t.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.")}throw new Error(`Unsupported bitcoin address ${t}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`)}async function LK(t,e,r){const n=(()=>{if(r)return r;if(typeof window<"u"){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),i=await n.requestAccounts(),a=$_.bytes.hexify(t).slice(2),s=await n.signMessage(`${MK}${a}`,e),o=$_.bytes.bytify(HK(s)),f=i[0];if(f.startsWith("bc1q"))o[0]=39+(o[0]-27)%4;else if(f.startsWith("3"))o[0]=35+(o[0]-27)%4;else if(f.startsWith("1"))o[0]=31+(o[0]-27)%4;else throw new Error(`Unsupported bitcoin address ${f}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`);return $_.bytes.hexify(o)}function HK(t){const e=atob(t);let r="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n).toString(16);r+=i.length===2?i:"0"+i}return"0x"+r}var l5={};Object.defineProperty(l5,"__esModule",{value:!0});l5.signMessage=NK;var F_=st;const PK="CKB transaction: 0x";async function NK(t,e){const r=(()=>{if(e)return e;if(typeof window<"u"&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),i=F_.bytes.hexify(t).slice(2),a=await r.signMessage(new TextEncoder().encode(`${PK}${i}`));return F_.bytes.hexify(F_.bytes.concat(a.signature,a.publicKey.toBytes()))}Object.defineProperty(Sn,"__esModule",{value:!0});Sn.bitcoin=Sn.OmnilockWitnessLock=Sn.CellCollector=void 0;Sn.createOmnilockScript=XD;Sn.default=void 0;Sn.prepareSigningEntries=tM;Sn.setupInputCell=eM;Sn.solana=void 0;var Zi=st,YD=Ir,N2=Nr,np=lt,UK=ei,Su=c1,n6=_n,qA=Ca,VD=WD(P2);Sn.bitcoin=VD;var kK=WD(l5);Sn.solana=kK;var zK=QD,jK=St;function GD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(GD=function(n){return n?r:e})(t)}function WD(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=GD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const{ScriptValue:KA}=YD.values;var So=function(t){return t[t.IdentityFlagsCkb=0]="IdentityFlagsCkb",t[t.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",t[t.IdentityFlagsEos=2]="IdentityFlagsEos",t[t.IdentityFlagsTron=3]="IdentityFlagsTron",t[t.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",t[t.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",t[t.IdentityCkbMultisig=6]="IdentityCkbMultisig",t[t.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",t[t.IdentityFlagsSolana=19]="IdentityFlagsSolana",t[t.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",t[t.IdentityFlagsExec=253]="IdentityFlagsExec",t[t.IdentityFlagsDl=254]="IdentityFlagsDl",t}(So||{});const $K=20,FK=65,qK=96;function XD(t,e){const n=((e==null?void 0:e.config)||(0,N2.getConfig)()).SCRIPTS.OMNILOCK;if(!n)throw new Error("OMNILOCK script config not found.");const a=[0],s=(()=>{const o=t.auth.flag;switch(o){case"ETHEREUM":return Zi.bytes.hexify(Zi.bytes.concat([So.IdentityFlagsEthereum],t.auth.content,a));case"SECP256K1_BLAKE160":return Zi.bytes.hexify(Zi.bytes.concat([So.IdentityFlagsCkb],t.auth.content,a));case"BITCOIN":return Zi.bytes.hexify(Zi.bytes.concat([So.IdentityFlagsBitcoin],VD.decodeAddress(t.auth.content),a));case"SOLANA":{const f=Zi.bytes.bytify((0,jK.ckbHash)((0,zK.decode)(t.auth.content))).slice(0,$K);return Zi.bytes.hexify(Zi.bytes.concat([So.IdentityFlagsSolana],f,a))}default:throw new Error(`Not supported flag: ${o}.`)}})();return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:s}}const ZD={pack:qA.bytify,unpack:qA.hexify},KK=21,QK=(0,n6.createFixedHexBytesCodec)(KK),YK=(0,Su.byteVecOf)(ZD),VK=(0,Su.table)({mask:(0,Su.byteOf)(ZD),proof:YK},["mask","proof"]),GK=(0,Su.vector)(VK),WK=(0,Su.table)({identity:QK,proofs:GK},["identity","proofs"]),XK=(0,Su.option)(WK),JD=Sn.OmnilockWitnessLock=(0,Su.table)({signature:n6.BytesOpt,omni_identity:XK,preimage:n6.BytesOpt},["signature","omni_identity","preimage"]),ZK=Sn.CellCollector=class{constructor(e,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,N2.getConfig)(),this.fromScript=(0,UK.parseFromInfo)(e,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,np.isOmnilockScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function eM(t,e,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,N2.getConfig)();const s=e.cellOutput.lock;if(!(0,np.isOmnilockScript)(s,n))throw new Error("Not OMNILOCK input!");t=t.update("inputs",y=>y.push(e));const o={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",y=>y.push(o)),a&&(t=t.update("inputSinces",y=>y.set(t.get("inputs").size-1,a))),t=t.update("witnesses",y=>y.push(i));const f=n.SCRIPTS.OMNILOCK,c=n.SCRIPTS.SECP256K1_BLAKE160;if(!f)throw new Error("OMNILOCK script not defined in config!");if(!c)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const u={txHash:f.TX_HASH,index:f.INDEX},l={txHash:c.TX_HASH,index:c.INDEX};t=(0,np.addCellDep)(t,{outPoint:u,depType:f.DEP_TYPE}),t=(0,np.addCellDep)(t,{outPoint:l,depType:c.DEP_TYPE});const p=t.get("inputs").findIndex(y=>new KA(y.cellOutput.lock,{validate:!1}).equals(new KA(s,{validate:!1})));if(p!==-1){for(;p>=t.get("witnesses").size;)t=t.update("witnesses",S=>S.push("0x"));let y=t.get("witnesses").get(p);const m=(()=>{const S=Zi.bytes.bytify(e.cellOutput.lock.args)[0];switch(S){case So.IdentityFlagsSolana:return qK;case So.IdentityFlagsCkb:case So.IdentityFlagsEthereum:case So.IdentityFlagsBitcoin:return FK;default:throw new Error(`Unsupported flag: ${S}, please check if the script.args is expected`)}})(),A={lock:JK(m)};y=Zi.bytes.hexify(YD.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",S=>S.set(p,y))}return t}function JK(t){const e=JD.pack({signature:new Uint8Array(t)}).byteLength;return Zi.bytes.hexify(new Uint8Array(e))}function tM(t,{config:e=void 0}={}){return e=e||(0,N2.getConfig)(),(0,np.prepareSigningEntries)(t,e,"OMNILOCK")}Sn.default={prepareSigningEntries:tM,setupInputCell:eM,CellCollector:ZK,OmnilockWitnessLock:JD,createOmnilockScript:XD};var QA;function eQ(){return QA||(QA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return c.createP2PKHMessageGroup}}),Object.defineProperty(t,"dao",{enumerable:!0,get:function(){return i.default}}),t.default=void 0,Object.defineProperty(t,"deploy",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"locktimePool",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"omnilock",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return n.parseFromInfo}}),Object.defineProperty(t,"secp256k1Blake160",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"sudt",{enumerable:!0,get:function(){return o.default}});var e=p(Dn),r=p(N1),n=ei,i=p(p5()),a=p(d5()),s=p(h5()),o=p(HD()),f=p(n5()),c=i5,u=p(wc),l=p(Sn);function p(y){return y&&y.__esModule?y:{default:y}}t.default={secp256k1Blake160:e.default,secp256k1Blake160Multisig:r.default,dao:i.default,locktimePool:a.default,common:s.default,sudt:o.default,anyoneCanPay:f.default}}(z_)),z_}var YA;function d5(){if(YA)return vi;YA=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.default=vi.CellCollector=void 0,vi.injectCapacity=R,vi.payFee=G,vi.prepareSigningEntries=W,vi.setupInputCell=I,vi.transfer=M,vi.transferCompatible=U;var t=pi(),e=st,r=ei,n=y(Dn),i=p5(),a=Ir,s=lt,o=Jo,f=Nr,c=eQ(),u=Pi,l=wt,p=L2();function y(v){return v&&v.__esModule?v:{default:v}}const{ScriptValue:m}=a.values,{parseEpoch:A,maximumAbsoluteEpochSince:S,generateAbsoluteEpochSince:w,validateSince:C}=a.since,O=vi.CellCollector=class{constructor(d,g,{config:x=void 0,queryOptions:E={},tipHeader:h=void 0,NodeRPC:T=p.RPC}={}){if(!g)throw new Error("Cell provider is missing!");x=x||(0,f.getConfig)();const j=(0,r.parseFromInfo)(d,{config:x}),L=j.fromScript;this.multisigScript=j.multisigScript,this.fromScript=L,this.config=x,this.tipHeader=h,h&&(this.tipSinceValidationInfo={blockNumber:h.number,epoch:h.epoch,median_timestamp:""}),this.rpc=new T(g.uri),E={...E,lock:this.fromScript};let $=(0,o.List)([]);if((0,s.isSecp256k1Blake160MultisigScript)(L,x)){const F={codeHash:L.codeHash,hashType:L.hashType,args:L.args.slice(0,42)};$=$.push(g.collector({lock:F,argsLen:E.argsLen||28,type:E.type||"empty",data:E.data||"0x"})),!E.type&&(!E.data||E.data==="any")&&($=$.push(g.collector({lock:F,type:(0,s.generateDaoScript)(x),data:"any"})),$=$.push(g.collector({lock:F,argsLen:28,type:(0,s.generateDaoScript)(x),data:"any"})))}else(0,s.isSecp256k1Blake160Script)(L,x)&&!E.type&&(!E.data||E.data==="any")&&($=$.push(g.collector({lock:L,type:(0,s.generateDaoScript)(x),data:"any"})));this.cellCollectors=$}async*collect(){for(const d of this.cellCollectors)for await(const g of d.collect()){const x=g.cellOutput.lock;let E,h,T,j,L;if(x.args.length===58){const F=await this.rpc.getHeader(g.blockHash);E="0x"+b(x.args).toString(16),L={epoch:F.epoch,blockNumber:F.number,median_timestamp:""}}if((0,s.isDaoScript)(g.cellOutput.type,this.config)){if(g.data==="0x0000000000000000")continue;const F=await this.rpc.getTransaction(g.outPoint.txHash);j=F.txStatus.blockHash;const q=F.transaction.inputs[+g.outPoint.index].previousOutput;T=(await this.rpc.getTransaction(q.txHash)).txStatus.blockHash;const X=await this.rpc.getHeader(T),te=await this.rpc.getHeader(j);let ne="0x"+(0,i.calculateDaoEarliestSinceCompatible)(X.epoch,te.epoch).toString(16);h=(0,i.calculateMaximumWithdrawCompatible)(g,X.dao,te.dao);const N=A(te.epoch),P={number:N.number+4,length:N.length,index:N.index};if(ne=S(ne,w(P)),E){const re=(0,u.parseSinceCompatible)(E);if(!(re.relative===!1&&re.type==="epochNumber"))continue;try{E=S(ne,E)}catch{E=ne}}else E=ne}if((0,u.parseSinceCompatible)(E).type==="blockTimestamp"||this.tipHeader&&!C(E,this.tipSinceValidationInfo,L))continue;const $={...g,since:E,depositBlockHash:T,withdrawBlockHash:j,sinceValidationInfo:L};$.cellOutput.capacity="0x"+(h||l.BI.from(g.cellOutput.capacity)).toString(16),yield $}}};async function M(v,d,g,x,E,{config:h=void 0,requireToAddress:T=!0,assertAmountEnough:j=!0,LocktimeCellCollector:L=O}={}){const $=await U(v,d,g,x,E,{config:h,requireToAddress:T,assertAmountEnough:j,LocktimeCellCollector:L});let F,H;return $ instanceof Array?(F=$[0],H=BigInt($[1].toString()),[F,H]):(F=$,F)}async function U(v,d,g,x,E,{config:h=void 0,requireToAddress:T=!0,assertAmountEnough:j=!0,LocktimeCellCollector:L=O}={}){let $=l.BI.from(x);for(const[F,H]of d.entries()){const q=await K(v,H,F===0?g:void 0,$,E,{config:h,requireToAddress:F===0?T:!1,assertAmountEnough:!1,LocktimeCellCollector:L});if(v=q[0],$=q[1],$.eq(0))return j?v:[v,l.BI.from($)]}if(j)throw new Error("Not enough capacity in from addresses!");return[v,l.BI.from($)]}async function K(v,d,g,x,E,{config:h=void 0,requireToAddress:T=!0,assertAmountEnough:j=!0,LocktimeCellCollector:L=O,changeAddress:$=void 0}){h=h||(0,f.getConfig)();const{fromScript:F}=(0,r.parseFromInfo)(d,{config:h});if(!(0,s.isSecp256k1Blake160MultisigScript)(F,h)&&!(0,s.isSecp256k1Blake160Script)(F,h))throw new Error("fromInfo not supported!");if(T&&!g)throw new Error("You must provide a to address!");let H=l.BI.from(x||0);if(g){const te=(0,t.parseAddress)(g,{config:h});v=v.update("outputs",ne=>ne.push({cellOutput:{capacity:"0x"+H.toString(16),lock:te,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const q=v.get("fixedEntries").filter(({field:te})=>te==="outputs").maxBy(({index:te})=>te);let X=q?q.index+1:0;for(;X<v.get("outputs").size&&H.gt(0);++X){const te=v.get("outputs").get(X);if(new m(te.cellOutput.lock,{validate:!1}).equals(new m(F,{validate:!1}))){const ne=l.BI.from(te.cellOutput.capacity);let N;H.gte(ne)?N=ne:(N=ne.sub((0,t.minimalCellCapacityCompatible)(te)),N.gt(H)&&(N=H)),H=H.sub(N);const P=JSON.parse(JSON.stringify(te));P.cellOutput.capacity="0x"+ne.sub(N).toString(16),v=v.update("outputs",re=>re.update(X,()=>P))}}if(v=v.update("outputs",te=>te.filter(ne=>!l.BI.from(ne.cellOutput.capacity).eq(0))),H.gt(0)){const te=v.get("cellProvider");if(!te)throw new Error("cell provider is missing!");const N={cellOutput:{capacity:"0x0",lock:$?(0,t.parseAddress)($,{config:h}):F,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let P=l.BI.from(0),re=(0,o.Set)();for(const de of v.get("inputs"))re=re.add(`${de.outPoint.txHash}_${de.outPoint.index}`);const ue=new L(d,te,{config:h,tipHeader:E});for await(const de of ue.collect()){const V=de;if(re.has(`${V.outPoint.txHash}_${V.outPoint.index}`))continue;let J;if((0,s.isSecp256k1Blake160MultisigScript)(F,h)){const ge=V.cellOutput.lock.args;J=ge.length===58?l.BI.from(b(ge)):void 0}let ie="0x";if((0,s.isDaoScript)(V.cellOutput.type,h)){const ge=h.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:ge.DEP_TYPE,outPoint:{txHash:ge.TX_HASH,index:ge.INDEX}}),v=v.update("headerDeps",He=>He.push(V.depositBlockHash,V.withdrawBlockHash));const Se=v.get("headerDeps").size-2,kt={inputType:e.bytes.hexify(e.number.Uint64.pack(Se))};ie=e.bytes.hexify(a.blockchain.WitnessArgs.pack(kt))}v=await _(v,V,(0,s.isSecp256k1Blake160MultisigScript)(F,h)?Object.assign({},d,{since:J}):d,{config:h,defaultWitness:ie,since:V.since});const ce=l.BI.from(V.cellOutput.capacity);let ye=ce;if(ye.gt(H)&&(ye=H),H=H.sub(ye),P=P.add(ce).sub(ye),(0,s.isDaoScript)(V.cellOutput.type,h)&&(v=v.update("fixedEntries",ge=>ge.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),H.eq(0)&&(P.eq(0)||P.gt((0,t.minimalCellCapacityCompatible)(N))))break}P.gt(0)&&(N.cellOutput.capacity="0x"+P.toString(16),v=v.update("outputs",de=>de.push(N)))}if(!j)return[v,H];if(H.gt(0))throw new Error("Not enough capacity in from address!");return v}async function Q(v,d,g,x,E,{config:h=void 0,LocktimeCellCollector:T=O,enableDeductCapacity:j=!0}){h=h||(0,f.getConfig)();let L=l.BI.from(g);const $=l.BI.from(E);if(j)for(const H of d){const q=(0,r.parseFromInfo)(H,{config:h}).fromScript;if(!(0,s.isSecp256k1Blake160MultisigScript)(q,h)&&!(0,s.isSecp256k1Blake160Script)(q,h))continue;const X=v.get("fixedEntries").filter(({field:ne})=>ne==="outputs").maxBy(({index:ne})=>ne);let te=X?X.index+1:0;for(;te<v.get("outputs").size&&L.gt(0);++te){const ne=v.get("outputs").get(te);if(new m(ne.cellOutput.lock,{validate:!1}).equals(new m(q,{validate:!1}))){const N=JSON.parse(JSON.stringify(ne)),P=l.BI.from(N.cellOutput.capacity);let re;L.gte(P)?re=P:(re=P.sub((0,t.minimalCellCapacityCompatible)(N)),re.gt(L)&&(re=L)),L=L.sub(re),N.cellOutput.capacity="0x"+P.sub(re).toString(16),v=v.update("outputs",ue=>ue.update(te,()=>N))}}v=v.update("outputs",ne=>ne.filter(N=>!l.BI.from(N.cellOutput.capacity).eq(0)))}let F=l.BI.from(0);if(L.gt(0)){const H=v.get("cellProvider");if(!H)throw new Error("cell provider is missing!");const q=te=>`${te.outPoint.txHash}_${te.outPoint.index}`;let X=(0,o.Set)();for(const te of v.get("inputs"))X=X.add(q(te));for(const te of d){const ne=(0,r.parseFromInfo)(te,{config:h}).fromScript,N=new T(te,H,{config:h,tipHeader:x});for await(const P of N.collect()){const re=P;if(X.has(q(re)))continue;let ue="0x";if((0,s.isDaoScript)(re.cellOutput.type,h)){const ie=h.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:ie.DEP_TYPE,outPoint:{txHash:ie.TX_HASH,index:ie.INDEX}}),v=v.update("headerDeps",ge=>ge.push(re.depositBlockHash,re.withdrawBlockHash));const ce=v.get("headerDeps").size-2,ye={inputType:e.bytes.hexify(e.number.Uint64.pack(ce))};ue=e.bytes.hexify(a.blockchain.WitnessArgs.pack(ye))}let de;if((0,s.isSecp256k1Blake160MultisigScript)(ne,h)){const ie=re.cellOutput.lock.args;de=ie.length===58?l.BI.from(b(ie)):void 0}v=await _(v,re,Object.assign({},te,{since:de}),{config:h,defaultWitness:ue,since:re.since});const V=l.BI.from(re.cellOutput.capacity);let J=V;if(J.gt(L)&&(J=L),L=L.sub(J),F=F.add(V).sub(J),(0,s.isDaoScript)(re.cellOutput.type,h)&&(v=v.update("fixedEntries",ie=>ie.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),L.eq(0)&&(F.eq(0)||F.gt($)))break}}}return{txSkeleton:v,capacity:l.BI.from(L.toString()),changeCapacity:l.BI.from(F.toString())}}async function k(v,d,g,x,E,{config:h=void 0,LocktimeCellCollector:T=O,enableDeductCapacity:j=!0}){const L=await Q(v,d,g,x,E,{config:h,LocktimeCellCollector:T,enableDeductCapacity:j});return{txSkeleton:L.txSkeleton,capacity:L.capacity.toBigInt(),changeCapacity:L.changeCapacity.toBigInt()}}async function G(v,d,g,x,{config:E=void 0,LocktimeCellCollector:h=O}={}){return U(v,d,void 0,g,x,{config:E,requireToAddress:!1,LocktimeCellCollector:h})}function W(v,{config:d=void 0}={}){return d=d||(0,f.getConfig)(),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160"),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160_MULTISIG"),v}async function R(v,d,g,x,{config:E=void 0,LocktimeCellCollector:h=O}={}){if(E=E||(0,f.getConfig)(),d>=v.get("outputs").size)throw new Error("Invalid output index!");const T=l.BI.from(v.get("outputs").get(d).cellOutput.capacity);return U(v,g,void 0,l.BI.from(T),x,{config:E,requireToAddress:!1,LocktimeCellCollector:h})}async function _(v,d,g,{config:x=void 0,since:E=void 0,defaultWitness:h="0x"}={}){return x=x||(0,f.getConfig)(),v=await I(v,d,g,{config:x,since:E,defaultWitness:h}),v=v.update("outputs",T=>T.remove(T.size-1)),v}async function I(v,d,g,{config:x=void 0,since:E=void 0,defaultWitness:h="0x"}={}){x=x||(0,f.getConfig)();const T=d.cellOutput.lock;if((0,s.isSecp256k1Blake160Script)(T,x))return n.default.setupInputCell(v,d,g,{config:x,defaultWitness:h,since:E});if((0,s.isSecp256k1Blake160MultisigScript)(T,x))return c.secp256k1Blake160Multisig.setupInputCell(v,d,g,{config:x,defaultWitness:h,since:E});throw new Error("Not supported input lock!")}function b(v){if(v.length!==58)throw new Error("Invalid multisig with since args!");return e.number.Uint64LE.unpack("0x"+v.slice(42))}return vi.default={CellCollector:O,transfer:M,transferCompatible:U,payFee:G,prepareSigningEntries:W,injectCapacity:R,setupInputCell:I,injectCapacityWithoutChange:k,injectCapacityWithoutChangeCompatible:Q},vi}var VA;function h5(){if(VA)return Vi;VA=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.default=void 0,Vi.injectCapacity=Q,Vi.payFee=k,Vi.payFeeByFeeRate=v,Vi.prepareSigningEntries=G,Vi.registerCustomLockScriptInfos=M,Vi.setupInputCell=b,Vi.transfer=K;var t=pi(),e=m(N1),r=ei,n=m(Dn),i=Nr,a=y(d5()),s=Ir,o=m(n5()),f=Jo,c=lt,u=wt,l=m(Sn);function p(h){if(typeof WeakMap!="function")return null;var T=new WeakMap,j=new WeakMap;return(p=function(L){return L?j:T})(h)}function y(h,T){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var j=p(T);if(j&&j.has(h))return j.get(h);var L={__proto__:null},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in h)if(F!=="default"&&{}.hasOwnProperty.call(h,F)){var H=$?Object.getOwnPropertyDescriptor(h,F):null;H&&(H.get||H.set)?Object.defineProperty(L,F,H):L[F]=h[F]}return L.default=h,j&&j.set(h,L),L}function m(h){return h&&h.__esModule?h:{default:h}}const{ScriptValue:A}=s.values;function S(h,T){console.log(`[${h}] ${T}`)}const w={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function C(){w.configHashCode=0,w._predefinedInfos=[],w._customInfos=[]}function O(){return w}function M(h){w._customInfos=h}function U({config:h=void 0}={}){h=h||(0,i.getConfig)();const T=()=>{var L,$,F,H;const q=(L=h)===null||L===void 0?void 0:L.SCRIPTS.SECP256K1_BLAKE160,X=($=h)===null||$===void 0?void 0:$.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,te=(F=h)===null||F===void 0?void 0:F.SCRIPTS.ANYONE_CAN_PAY,ne=(H=h)===null||H===void 0?void 0:H.SCRIPTS.OMNILOCK,N=[];return q?N.push({codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,lockScriptInfo:n.default}):S("warn","SECP256K1_BLAKE160 script info not found in config!"),X?N.push({codeHash:X.CODE_HASH,hashType:X.HASH_TYPE,lockScriptInfo:e.default}):S("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),te?N.push({codeHash:te.CODE_HASH,hashType:te.HASH_TYPE,lockScriptInfo:o.default}):S("warn","ANYONE_CAN_PAY script info not found in config!"),ne?N.push({codeHash:ne.CODE_HASH,hashType:ne.HASH_TYPE,lockScriptInfo:l.default}):S("warn","OMNILOCK script info not found in config!"),N},j=s.utils.hashCode(Buffer.from(JSON.stringify(h)));w.infos.length===0?(w._predefinedInfos=T(),w.configHashCode=j):j!==w.configHashCode&&(S("warn","`config` changed, regenerate lockScriptInfos!"),w._predefinedInfos=T(),w.configHashCode=j)}async function K(h,T,j,L,$,F,{config:H=void 0,useLocktimeCellsFirst:q=!0,LocktimePoolCellCollector:X=a.CellCollector}={}){var te;H=H||(0,i.getConfig)();const ne=u.BI.from(L);if(!j)throw new Error("You must provide a to address!");const N=(0,t.parseAddress)(j,{config:H}),P={cellOutput:{capacity:"0x"+ne.toString(16),lock:N,type:void 0},data:"0x"};U({config:H});const re=w.infos.find(ue=>ue.codeHash===N.codeHash&&ue.hashType===N.hashType);return re&&(te=re.lockScriptInfo)!==null&&te!==void 0&&te.setupOutputCell?h=await re.lockScriptInfo.setupOutputCell(h,P,{config:H}):h=h.update("outputs",ue=>ue.push(P)),h=await Q(h,T,ne.toString(),$,F,{config:H,useLocktimeCellsFirst:q,LocktimePoolCellCollector:X}),h}async function Q(h,T,j,L,$,{config:F=void 0,useLocktimeCellsFirst:H=!0,LocktimePoolCellCollector:q=a.CellCollector,enableDeductCapacity:X=!0}={}){F=F||(0,i.getConfig)();let ne=u.BI.from(j);if(T.length===0)throw new Error("No from info provided!");const P={cellOutput:{capacity:"0x0",lock:(0,r.parseFromInfo)(L||T[0],{config:F}).fromScript,type:void 0},data:"0x"},re=u.BI.from((0,t.minimalCellCapacityCompatible)(P));let ue=u.BI.from(0);if(H){if($){const de=await a.default.injectCapacityWithoutChangeCompatible(h,T,ne.toString(),$,re.toString(),{config:F,LocktimeCellCollector:q,enableDeductCapacity:X});h=de.txSkeleton,ne=u.BI.from(de.capacity),ue=u.BI.from(de.changeCapacity)}if(ne.gt(0)){const de=await R(h,T,ne,re,{config:F,enableDeductCapacity:X});h=de.txSkeleton,ne=de.capacity,ue=de.changeCapacity}else if(ne.eq(0)&&ue.gt(0)&&ue.lt(re)){const de=await R(h,T,re.sub(ue),u.BI.from(0),{config:F,enableDeductCapacity:X});h=de.txSkeleton,ne=de.capacity,ue=de.changeCapacity}}else{const de=await R(h,T,ne,re,{config:F,enableDeductCapacity:X});if(h=de.txSkeleton,ne=de.capacity,ue=de.changeCapacity,$){if(ne.gt(0)){const V=await a.default.injectCapacityWithoutChangeCompatible(h,T,ne.toString(),$,re.toString(),{config:F,LocktimeCellCollector:q,enableDeductCapacity:X});h=V.txSkeleton,ne=u.BI.from(V.capacity),ue=u.BI.from(V.changeCapacity)}else if(ne.eq(0)&&ue.gt(0)&&ue.lt(re)){const V=await a.default.injectCapacityWithoutChangeCompatible(h,T,re.sub(ue).toString(),$,0,{config:F,LocktimeCellCollector:q,enableDeductCapacity:X});h=V.txSkeleton,ne=u.BI.from(V.capacity),ue=u.BI.from(V.changeCapacity)}}}if(ne.gt(0))throw new Error("Not enough capacity in from infos!");if(ue.gt(0)&&ue.lt(re))throw new Error("Not enough capacity in from infos for change!");return ue.gt(0)&&(P.cellOutput.capacity="0x"+ue.toString(16),h=h.update("outputs",de=>de.push(P))),h}async function k(h,T,j,L,{config:$=void 0,useLocktimeCellsFirst:F=!0,enableDeductCapacity:H=!0}={}){return Q(h,T,j,void 0,L,{config:$,useLocktimeCellsFirst:F,enableDeductCapacity:H})}function G(h,{config:T=void 0}={}){T=T||(0,i.getConfig)(),U({config:T});for(const j of w.infos)h=j.lockScriptInfo.prepareSigningEntries(h,{config:T});return h}async function W(h,T,j,L,{config:$=void 0,enableDeductCapacity:F=!0}={}){const H=await R(h,T,j,L,{config:$,enableDeductCapacity:F});return{txSkeleton:H.txSkeleton,capacity:BigInt(H.capacity.toString()),changeCapacity:BigInt(H.changeCapacity.toString())}}async function R(h,T,j,L,{config:$=void 0,enableDeductCapacity:F=!0}={}){$=$||(0,i.getConfig)();let H=u.BI.from(j);const q=h.get("cellProvider");if(!q)throw new Error("Cell Provider is missing!");const X=P=>{var re,ue;return`${(re=P.outPoint)===null||re===void 0?void 0:re.txHash}_${(ue=P.outPoint)===null||ue===void 0?void 0:ue.index}`};let te=(0,f.Set)();for(const P of h.get("inputs"))te=te.add(X(P));const ne=T.map(P=>(0,r.parseFromInfo)(P,{config:$}).fromScript);for(const P of ne)F&&H.gt(0)&&([h,H]=_(h,P,H));U({config:$});let N=u.BI.from(0);if(H.gt(0))e:for(const P of T){const re=w.infos.map(ue=>new ue.lockScriptInfo.CellCollector(P,q,{config:$}));for(const ue of re)for await(const de of ue.collect()){const V=X(de);if(te.has(V))continue;te=te.add(V);const J=await I(h,de,P,{config:$,needCapacity:H});h=J.txSkeleton;const ie=u.BI.from(J.availableCapacity);let ce=ie;if(ce.gt(H)&&(ce=H),H=H.sub(ce),N=N.add(ie.sub(ce)),H.eq(0)&&(N.eq(0)||N.gt(L)))break e}}return{txSkeleton:h,capacity:H,changeCapacity:N}}function _(h,T,j){let L=u.BI.from(j);const $=h.get("fixedEntries").filter(({field:H})=>H==="outputs").maxBy(({index:H})=>H);let F=$?$.index+1:0;for(;F<h.get("outputs").size&&L.gt(0);F++){const H=h.get("outputs").get(F);if(H&&new A(H.cellOutput.lock,{validate:!1}).equals(new A(T,{validate:!1}))){const q=JSON.parse(JSON.stringify(H)),X=u.BI.from(q.cellOutput.capacity),te=X;let ne;L.gte(te)?ne=te:(ne=X.sub((0,t.minimalCellCapacityCompatible)(q)),ne.gt(j)&&(ne=j)),L=L.sub(ne),q.cellOutput.capacity="0x"+X.sub(ne).toString(16),h=h.update("outputs",N=>N.update(F,()=>q))}}return h=h.update("outputs",H=>H.filter(q=>u.BI.from(q.cellOutput.capacity).toString()!==u.BI.from(0).toString())),[h,L]}async function I(h,T,j,{config:L=void 0,since:$=void 0,defaultWitness:F="0x",needCapacity:H=void 0}={}){L=L||(0,i.getConfig)(),h=await b(h,T,j,{config:L,since:$,defaultWitness:F});const q=h.get("outputs").size-1,X=h.get("outputs").get(q);if(!X)throw new Error("Impossible: can not find last output");const te=u.BI.from(X.cellOutput.capacity),ne=h.get("fixedEntries").findIndex(ue=>ue.field==="outputs"&&ue.index===q),N=T.cellOutput.lock;let P=u.BI.from(0);if(L.SCRIPTS.ANYONE_CAN_PAY&&(0,c.isAcpScript)(N,L)){const ue=!!(j&&typeof j=="object"&&"destroyable"in j&&j.destroyable),de=H?u.BI.from(H):te;if(ue)P=te,h=h.update("outputs",V=>V.remove(q)),ne>=0&&(h=h.update("fixedEntries",V=>V.remove(ne)));else{const V=u.BI.from((0,t.minimalCellCapacityCompatible)(X)),J=te.sub(V),ie=JSON.parse(JSON.stringify(X));let ce=V;P=J,de.lt(J)&&(ce=te.sub(de),P=de),ie.cellOutput.capacity="0x"+ce.toString(16),h=h.update("outputs",ye=>ye.update(q,()=>ie))}}else if(ne<0){var re;P=u.BI.from((re=h.get("outputs").get(q))===null||re===void 0?void 0:re.cellOutput.capacity),h=h.update("outputs",ue=>ue.remove(q))}return{txSkeleton:h,availableCapacity:P}}async function b(h,T,j,{config:L=void 0,since:$=void 0,defaultWitness:F=void 0}={}){L=L||(0,i.getConfig)(),U({config:L});const H=T.cellOutput.lock,q=w.infos.find(X=>X.codeHash===H.codeHash&&X.hashType===H.hashType);if(!q)throw new Error("No LockScriptInfo found for setupInputCell!");return q.lockScriptInfo.setupInputCell(h,T,j,{config:L,since:$,defaultWitness:F})}async function v(h,T,j,L,{config:$=void 0,useLocktimeCellsFirst:F=!0,enableDeductCapacity:H=!0}={}){let q=0,X=h,te=x(X);for(;te>q;){q=te;const ne=g(q,j);X=await k(h,T,ne,L,{config:$,useLocktimeCellsFirst:F,enableDeductCapacity:H}),te=x(X)}return X}function d(h,T){const j=g(h,T);return BigInt(j.toString())}function g(h,T){const j=u.BI.from(1e3),L=u.BI.from(h).mul(T),$=L.div(j);return $.mul(j).lt(L)?$.add(1):u.BI.from($)}function x(h){const T=(0,t.createTransactionFromSkeleton)(h);return E(T)}function E(h){return s.blockchain.Transaction.pack(h).byteLength+4}return Vi.default={transfer:K,payFee:k,prepareSigningEntries:G,injectCapacity:Q,setupInputCell:b,registerCustomLockScriptInfos:M,payFeeByFeeRate:v,__tests__:{_commonTransfer:W,resetLockScriptInfos:C,getLockScriptInfos:O,generateLockScriptInfos:U,getTransactionSizeByTx:E,getTransactionSize:x,calculateFee:d,calculateFeeCompatible:g}},Vi}var GA;function p5(){if(GA)return Hn;GA=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.CellCollector=void 0,Hn.calculateDaoEarliestSince=Q,Hn.calculateDaoEarliestSinceCompatible=k,Hn.calculateMaximumWithdraw=_,Hn.calculateMaximumWithdrawCompatible=I,Hn.default=void 0,Hn.deposit=w,Hn.extractDaoDataCompatible=R,Hn.listDaoCells=S,Hn.unlock=K;var t=pi(),e=Ir,r=st,n=Nr,i=l(Dn),a=l(N1),s=ei,o=lt,f=wt,c=L2(),u=l(h5());function l(b){return b&&b.__esModule?b:{default:b}}const{parseSince:p}=e.since,y="0x0000000000000000",m=f.BI.from(180);class A{constructor(v,d,g,{config:x=void 0}={}){if(!d)throw new Error("Cell Provider is missing!");x=x||(0,n.getConfig)();const E=(0,s.parseFromInfo)(v,{config:x}).fromScript,h=(0,o.generateDaoScript)(x),T=g==="deposit"?y:"any";this.cellType=g,this.cellCollector=d.collector({lock:E,type:h,data:T})}async*collect(){for await(const v of this.cellCollector.collect())this.cellType==="withdraw"&&v.data===y||(yield v)}}Hn.CellCollector=A;async function*S(b,v,d,{config:g=void 0}={}){const x=new A(v,b,d,{config:g});for await(const E of x.collect())yield E}async function w(b,v,d,g,{config:x=void 0,enableNonSystemScript:E=!1}={}){x=x||(0,n.getConfig)();const h=x.SCRIPTS.DAO;if(!h)throw new Error("Provided config does not have DAO script setup!");if(C(v,x),b=W(b,x),!d)throw new Error("You must provide a to address!");const T=(0,t.parseAddress)(d,{config:x}),j={codeHash:h.CODE_HASH,hashType:h.HASH_TYPE,args:"0x"};b=b.update("outputs",$=>$.push({cellOutput:{capacity:"0x"+f.BI.from(g).toString(16),lock:T,type:j},data:y,outPoint:void 0,blockHash:void 0}));const L=b.get("outputs").size-1;if(b=b.update("fixedEntries",$=>$.push({field:"outputs",index:L})),typeof v=="string"){const $=(0,t.parseAddress)(v,{config:x});(0,o.isSecp256k1Blake160Script)($,x)?b=await i.default.injectCapacity(b,L,v,{config:x}):(0,o.isSecp256k1Blake160MultisigScript)($,x)?b=await a.default.injectCapacity(b,L,v,{config:x}):E&&(b=await u.default.injectCapacity(b,[v],g,(0,t.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:x}),void 0,{config:x}))}else v&&((0,s.isMultisigFromInfo)(v)?b=await a.default.injectCapacity(b,L,v,{config:x}):E&&(b=await u.default.injectCapacity(b,[v],g,(0,t.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:x}),void 0,{config:x})));return b}function C(b,v){let d;if(typeof b=="string"){const x=(0,t.parseAddress)(b,{config:v}).args;x.length===58&&(d=r.number.Uint64LE.unpack("0x"+x.slice(42)).toHexString())}else"R"in b&&(d=b.since);if(d!=null){const{relative:g,type:x}=p(d);if(!(!g&&x==="epochNumber"))throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}async function O(b,v,d,{config:g=void 0,enableNonSystemScript:x=!1}={}){if(g=g||(0,n.getConfig)(),G(g),b=W(b,g),b.get("inputs").size!==b.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!g.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!b.get("cellProvider"))throw new Error("Cell provider is missing!");const h=v.cellOutput.type,T=g.SCRIPTS.DAO;if(!h||h.codeHash!==T.CODE_HASH||h.hashType!==T.HASH_TYPE||v.data!==y)throw new Error("fromInput is not a DAO deposit cell.");const j=v.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(j,g)?b=await i.default.setupInputCell(b,v,void 0,{config:g}):(0,o.isSecp256k1Blake160MultisigScript)(j,g)?b=await a.default.setupInputCell(b,v,d||(0,t.generateAddress)(j,{config:g}),{config:g}):x&&(b=await u.default.setupInputCell(b,v,d||(0,t.encodeToAddress)(j,{config:g}),{config:g}));const L=b.get("outputs").size-1,$=b.get("outputs").get(L),F=JSON.parse(JSON.stringify($));if(v.blockNumber)F.data=r.bytes.hexify(r.number.Uint64.pack(v.blockNumber));else throw new Error("fromInput has no blockNumber!");return b=b.update("outputs",H=>H.update(L,()=>F)),b=b.update("headerDeps",H=>H.push(v.blockHash)),b=b.update("fixedEntries",H=>H.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1})),b}function M(b){const v=f.BI.from(b);return{length:v.shr(40).and(4095),index:v.shr(24).and(4095),number:v.and(16777215)}}function U({length:b,index:v,number:d}){const g=f.BI.from(b),x=f.BI.from(v),E=f.BI.from(d);return f.BI.from(32).shl(56).add(g.shl(40)).add(x.shl(24)).add(E)}async function K(b,v,d,g,x,{config:E=void 0,RpcClient:h=c.RPC}={}){if(E=E||(0,n.getConfig)(),G(E),b=W(b,E),!E.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const T=b.get("cellProvider");if(!T)throw new Error("Cell provider is missing!");const j=new h(T.uri),L=v.cellOutput.type,$=E.SCRIPTS.DAO;if(!L||L.codeHash!==$.CODE_HASH||L.hashType!==$.HASH_TYPE||v.data!==y)throw new Error("depositInput is not a DAO deposit cell.");const F=d.cellOutput.type;if(!F||F.codeHash!==$.CODE_HASH||F.hashType!==$.HASH_TYPE||d.data===y)throw new Error("withdrawInput is not a DAO withdraw cell.");const H=await j.getHeader(v.blockHash),q=M(H.epoch),X=await j.getHeader(d.blockHash),te=M(X.epoch),ne=te.index.mul(q.length),N=q.index.mul(te.length);let P=te.number.sub(q.number);ne.gt(N)&&(P=P.add(1));const re=P.add(m).sub(1).div(m).mul(m),ue={number:f.BI.from(q.number.add(re)),index:f.BI.from(q.index),length:f.BI.from(q.length)},de=U(ue),V="0x"+I(d,H.dao,X.dao).toString(16),J=(0,t.parseAddress)(g,{config:E});b=b.update("outputs",He=>He.push({cellOutput:{capacity:V,lock:J,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}));const ie="0x"+de.toString(16);for(;b.get("witnesses").size<b.get("inputs").size-1;)b=b.update("witnesses",He=>He.push("0x"));b=b.update("headerDeps",He=>He.push(v.blockHash,d.blockHash));const ce=b.get("headerDeps").size-2,ye={inputType:r.bytes.hexify(r.number.Uint64LE.pack(ce))},ge=r.bytes.hexify(e.blockchain.WitnessArgs.pack(ye)),Se=d.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(Se,E)?b=await i.default.setupInputCell(b,d,void 0,{config:E,since:ie,defaultWitness:ge}):(0,o.isSecp256k1Blake160MultisigScript)(Se,E)&&(b=await a.default.setupInputCell(b,d,x||(0,t.generateAddress)(Se,{config:E}),{config:E,since:ie,defaultWitness:ge}));const kt=b.get("outputs").size-1;return b=b.update("outputs",He=>He.remove(kt)),b=b.update("fixedEntries",He=>He.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1},{field:"witnesses",index:b.get("witnesses").size-1},{field:"headerDeps",index:b.get("headerDeps").size-2})),b}function Q(b,v){const d=k(b,v);return BigInt(d.toString())}function k(b,v){const d=M(b),g=M(v),x=g.index.mul(d.length),E=d.index.mul(g.length);let h=g.number.sub(d.number);x.gt(E)&&(h=h.add(1));const T=h.add(m).sub(1).div(m).mul(m),j={number:f.BI.from(d.number.add(T)),index:f.BI.from(d.index),length:f.BI.from(d.length)};return U(j)}function G(b){if(!b.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function W(b,v){const d=v.SCRIPTS.DAO;return(0,o.addCellDep)(b,{outPoint:{txHash:d.TX_HASH,index:d.INDEX},depType:d.DEP_TYPE})}function R(b){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(b))throw new Error("Invalid dao format!");const v=8*2,d=b.startsWith("0x")?b.slice(2):b;return["c","ar","s","u"].map((g,x)=>({[g]:r.number.Uint64LE.unpack("0x"+d.slice(v*x,v*(x+1)))})).reduce((g,x)=>({...g,...x}),{})}function _(b,v,d){return I(b,v,d).toBigInt()}function I(b,v,d){const g=f.BI.from(R(v).ar),x=f.BI.from(R(d).ar),E=f.BI.from((0,t.minimalCellCapacityCompatible)(b));return f.BI.from(b.cellOutput.capacity).sub(E).mul(x).div(g).add(E)}return Hn.default={deposit:w,withdraw:O,unlock:K,calculateMaximumWithdraw:_,calculateMaximumWithdrawCompatible:I,calculateDaoEarliestSince:Q,calculateDaoEarliestSinceCompatible:k,CellCollector:A,listDaoCells:S},Hn}var U2=p5();const qt=100000000n;function Ec(t){return"0x"+t.toString(16)}function Np(...t){return t.reduce((e,r)=>e>r?e:r)}function tQ(...t){return t.reduce((e,r)=>e<r?e:r)}function i6(t){return e=>En(e.cellOutput.lock,t)?t:void 0}function rQ(t,e){const r=[],n=[];for(const i of t){if(i.cellOutput.type!==void 0||i.data!=="0x"){n.push(i);continue}const a=e(i);if(!a){n.push(i);continue}r.push(Yt.from({...i,cellOutput:{lock:a,capacity:i.cellOutput.capacity}}))}return{capacities:r,notCapacities:n}}function nQ(t,e,r){const n=[],i=[];for(const a of t){if(!En(a.cellOutput.type,e)){i.push(a);continue}const s=r(a);if(!s){i.push(a);continue}n.push(Yt.from({...a,cellOutput:{lock:s,type:e,capacity:a.cellOutput.capacity}}))}return{types:n,notTypes:i}}function iQ(t,e,r){const n=h1(r.epoch),i=[],a=[];for(const s of t)k2(n,Cp(e(s)))>=0?i.push(s):a.push(s);return{mature:i,notMature:a}}const aQ="Comparing two Scripts that both are undefined";function En(t,e){if(!t&&!e)throw Error(aQ);return!t||!e?!1:t.codeHash===e.codeHash&&t.hashType===e.hashType&&t.args===e.args}function k2(t,e){if(t.number<e.number)return-1;if(t.number>e.number)return 1;const r=t.index*e.length,n=e.index*t.length;return r<n?-1:r>n?1:0}const sQ="Zero EpochSinceValue length";function rM(t,e){if(t.length===0||e.length===0)throw Error(sQ);t.length!==e.length&&(e={length:t.length,index:Math.ceil(e.index*t.length/e.length),number:e.number});const r=t.index+e.index,n=t.length,i=r%n,a=t.number+(r-i)/n;return{length:n,index:i,number:a}}function oQ(t){const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e}function fQ(t,e){let[r,n]=[0,t];for(;r<n;){const i=Math.trunc((r+n)/2);e(i)?n=i:r=i+1}return r}const cQ="Unable to modify entries without messing up fixed entries",uQ="Input and output have different length",lQ="Signing Entries are not empty";function Ea(t,e,r,n){const i=b5(t),a=Aa(r),s=Aa(n);if(e==="matched"){if(a.size!==s.size)throw Error(uQ);if(i.inputs!==i.outputs)throw Error(cQ);if(t.signingEntries.size>0)throw Error(lQ)}const o=e=="matched",f=o?i.inputs+1:t.inputs.size,c=o?i.outputs+1:t.outputs.size;return t=bQ(t,a,s),t=pQ(t,a,s),t=hQ(t,f,a),t=dQ(t,f,a,c,s),t=t.update("inputs",u=>u.splice(f,0,...a)),t=t.update("outputs",u=>u.splice(c,0,...s)),o&&(t=g5(t,i.set("inputs",i.inputs+a.size).set("outputs",i.outputs+s.size))),t}const WA=gc(ty.pack({lock:void 0,inputType:void 0,outputType:void 0}));function dQ(t,e,r,n,i){const a=Np(t.inputs.size,t.outputs.size,t.witnesses.size,e,n),s=[],o=[],f=[];for(let l=0;l<a;l++){const{lock:p,inputType:y,outputType:m}=ty.unpack(t.witnesses.get(l,WA));s.push(p),o.push(y),f.push(m)}s.splice(e,0,...r.map(l=>l.cellOutput.lock[lu])),o.splice(e,0,...r.map(l=>{var p;return(p=l.cellOutput.type)==null?void 0:p[lu]})),f.splice(n,0,...i.map(l=>{var p;return(p=l.cellOutput.type)==null?void 0:p[lu]}));const c=Np(o.length,f.length),u=[];for(let l=0;l<c;l++)u.push(st.bytes.hexify(ty.pack({lock:s[l],inputType:o[l],outputType:f[l]})));for(;u[u.length-1]===WA;)u.pop();return t.set("witnesses",Aa(u))}function hQ(t,e,r){const n=va[Hs],i=Array.from({length:t.inputs.size},(s,o)=>t.inputSinces.get(o,n)),a=[];for(const s of r){const o=s.cellOutput.lock[Hs],f=s.cellOutput.type?s.cellOutput.type[Hs]:o;o===n||o===f?a.push(f):f===n?a.push(o):k2(Cp(o),Cp(f))==-1?a.push(f):a.push(o)}return i.splice(e,0,...a),t.set("inputSinces",Zo(i.map((s,o)=>[o,s]).filter(({1:s})=>s!==n)))}function pQ(t,e,r){const n=[];for(const i of e){const a=i.cellOutput.lock;n.push(...a[fi])}for(const i of[...e,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[fi])}return nM(t,...n.map(i=>i.hash))}function nM(t,...e){const r=b5(t);let n=t.headerDeps.push(...e);return n=Aa(new Set(n)),t=g5(t,r.set("headerDeps",n.size-1)),t.set("headerDeps",n)}function bQ(t,e,r){const n=[];for(const i of e){const a=i.cellOutput.lock;n.push(...a[Oi])}for(const i of[...e,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[Oi])}return yQ(t,...n)}const gQ=t=>`${t.outPoint.txHash}-${t.outPoint.index}-${t.depType}`;function yQ(t,...e){const r=b5(t);let n=t.cellDeps.push(...e);return n=Aa(new Map(n.map(i=>[gQ(i),i])).values()),t=g5(t,r.set("cellDeps",n.size-1)),t.set("cellDeps",n)}function b5(t){return AQ(t.fixedEntries.sort((e,r)=>e.index-r.index).map(e=>[e.field,e.index]))}const vQ=Aa(["cellDeps","headerDeps","inputs","outputs"]);function g5(t,e){return t.set("fixedEntries",vQ.map(r=>Object.freeze({field:r,index:e[r]})).filter(({index:r})=>r>=0))}function _Q(t){return t.inputs.size>0&&t.outputs.size>0}function mQ(t){return Y4.pack(A2.createTransactionFromSkeleton(t)).byteLength+4}function wQ(t,e){const r=1000n,n=BigInt(t)*e,i=n/r;return i*r<n?i+1n:i}const AQ=pr({cellDeps:-1,headerDeps:-1,inputs:-1,outputs:-1}),iM="Encountered an input cell with blockNumber undefined";function XA(t,e,r,n){const i=[],a=[],s=[],o=n.defaultScript("DAO"),f=(c,u,l,p,y)=>Yt.from({...c,cellOutput:{lock:u,type:xn.from({...o,[fi]:p?[l,p]:[l],[Hs]:y??o[Hs]}),capacity:c.cellOutput.capacity},blockHash:l.hash});for(const c of t){const u=e(c);if(!u||!y5(c,n)){s.push(c);continue}if(!c.blockNumber)throw Error(iM);const l=r(c.blockNumber,c);if(c.data===z2)i.push(f(c,u,l));else{const p=r(Ec(Td.unpack(c.data)),c),y=U2.calculateDaoEarliestSinceCompatible(p.epoch,l.epoch).toHexString();a.push(f(c,u,l,p,y))}}return{deposits:i,withdrawalRequests:a,notDaos:s}}const z2="0x0000000000000000";function y5(t,e){return En(t.cellOutput.type,e.defaultScript("DAO"))}function aM(t,e){return y5(t,e)&&t.data===z2}function sM(t,e){return y5(t,e)&&t.data!==z2}function EQ(t,e,r,n){const i=Yt.from({lock:r,type:n.defaultScript("DAO"),data:z2}),a=e.map(s=>Yt.from({...i,capacity:Ec(s)}));return Ea(t,"append",[],a)}const xQ="Withdrawal request lock has different size";function SQ(t,e,r){const n=[];for(const i of e){if(i.cellOutput.lock.args.length!=r.args.length)throw Error(xQ);n.push(Yt.from({...i.cellOutput,lock:r,data:gc(Td.pack(BigInt(i.blockNumber)))}))}return Ea(t,"matched",e,n)}function IQ(t,e){const r=[];for(const a of e)r.push(...a.cellOutput.type[fi].map(s=>s.hash));t=nM(t,...r);const n=[],i=new Map(t.headerDeps.map((a,s)=>[a,s]));for(const a of e){const s=a.cellOutput.type[fi][1];n.push(Yt.from({...a,type:xn.from({...a.cellOutput.type,[lu]:gc(Td.pack(i.get(s.hash)))})}))}return Ea(t,"append",n,[])}function CQ(t,e){const r=Hj(e),n=t.cellOutput.type[fi][0].epoch;return Cp(U2.calculateDaoEarliestSinceCompatible(n,r).toHexString())}function _g(t,e){let r=0n;for(const n of t.inputs)if(sM(n,e)){const i=n,[a,s]=i.cellOutput.type[fi],o=U2.calculateMaximumWithdraw(n,s.dao,a.dao);r+=o}else r+=BigInt(n.cellOutput.capacity);return t.outputs.forEach(n=>r-=BigInt(n.cellOutput.capacity)),r}function TQ(t,e,r,n){let i=Yt.from({lock:e});const a=BigInt(i.cellOutput.capacity),s=Ea(t,"append",[],[i]),o=r(s),f=_g(s,n)-o;return f>0n?(i=Yt.from({...i,capacity:Ec(a+f)}),t=Ea(t,"append",[],[i])):t=s,{tx:t,txFee:o,freeCkb:f}}function OQ(){const t=i2.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=ve.jsx(ve.Fragment,{children:ve.jsxs("h1",{className:"flex flex-row items-center justify-center pb-4 text-5xl font-medium text-slate-200",children:[ve.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),ve.jsx("span",{children:"iCKB DApp"}),ve.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"})]})}),t[0]=e):e=t[0],e}function ZA(t){const e=i2.c(8),{walletConfig:r}=t,{chain:n,address:i}=r,a=`https://${n!=="mainnet"?"testnet.":""}explorer.nervos.org/address/${i}`;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=ve.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),e[0]=s):s=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={direction:"rtl"},e[1]=o):o=e[1];let f;e[2]!==i||e[3]!==a?(f=ve.jsx("a",{href:a,target:"_blank",style:o,className:"-ml-3 truncate text-3xl text-slate-200",children:i}),e[2]=i,e[3]=a,e[4]=f):f=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=ve.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"}),e[5]=c):c=e[5];let u;return e[6]!==f?(u=ve.jsxs("h1",{className:"flex w-full flex-row items-center justify-center rounded-2xl pb-2 font-medium",children:[s,f,c]}),e[6]=f,e[7]=u):u=e[7],u}function oM(t){return t==="C"}function a6(t){return t?"C":"I"}function BQ(t){let e=0;for(;e<t.length;e++){const a=t[e];if("1"<=a&&a<="9"||a===".")break}let r="";const n=[];for(;e<t.length;e++){const a=t[e];if("0"<=a&&a<="9")n.push(a);else if(a=="."){r=".";break}}const i=[];for(;e<t.length&&i.length<8;e++){const a=t[e];"0"<=a&&a<="9"&&i.push(a)}return[n,[r],i].flat().join("")}function j2(t){return String(t/qt)+String(Number(t%qt)/Number(qt)).slice(1)}function DQ(t){const[e,...r]=t.split(".");return BigInt((e??"0")+((r??[]).join("")+"00000000").slice(0,8))}function fM(t,e,r){return Object.freeze(rM(h1(r.epoch),{number:0,index:1+Number(e/(t?100000n*qt:2000n*qt)),length:4*60}))}function cM(t){return t.reduce((e,r)=>k2(e,r)===-1?r:e)}const uM=Object.freeze({number:0,index:0,length:1}),Vc=Object.freeze({tx:A2.TransactionSkeleton(),error:"",fee:0n,estimatedMaturity:uM}),lM=1000n*qt,{union:MQ,struct:Fu}=st.molecule;function RQ(t){return st.createFixedBytesCodec({pack:st.bytes.bytify,unpack:st.bytes.hexify,byteLength:t})}const LQ=RQ(32),dM=Fu({depositQuantity:RF,depositAmount:Td},["depositQuantity","depositAmount"]),hM=Fu({ownedDistance:PB},["ownedDistance"]),JA=Fu({ckbMultiplier:Td,udtMultiplier:Td},["ckbMultiplier","udtMultiplier"]),pM=Fu({ckbToUdt:JA,udtToCkb:JA,ckbMinMatchLog:MF},["ckbToUdt","udtToCkb","ckbMinMatchLog"]),HQ=Fu({padding:LQ,masterDistance:PB,orderInfo:pM},["padding","masterDistance","orderInfo"]),PQ=Fu({masterOutpoint:LF,orderInfo:pM},["masterOutpoint","orderInfo"]),eE=MQ({MintOrderData:HQ,MatchOrderData:PQ},["MintOrderData","MatchOrderData"]),Th=Fu({udtAmount:e6},["udtAmount"]),v5=st.createBytesCodec({pack:t=>st.bytes.concat(Th.pack(t),eE.pack(t)),unpack:t=>{const e=t.slice(0,Th.byteLength),r=t.slice(Th.byteLength),n=Th.unpack(e),i=eE.unpack(r);return{...n,...i}}}),NQ=[{name:"ICKB_LOGIC",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null},{name:"XUDT",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:3,occupied_capacity:33757e8,data_hash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",type_id:null}],UQ=[{name:"ickb_dep_group",tx_hash:"0x0152f73978779b99eb5aeed9ae9879a7004bd7c69fd858da443b535cb2c9df1d",index:0,data_hash:"0xb208b98b17ff0f740464299171f2285cbd4dcf6792a4058a9ff365eed15e19e3",occupied_capacity:353e8}],kQ={cell_recipes:NQ,dep_group_recipes:UQ},zQ=[{name:"ICKB_LOGIC",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],jQ=[{name:"ickb_dep_group",tx_hash:"0xf7ece4fb33d8378344cab11fcd6a4c6f382fd4207ac921cf5821f30712dcd311",index:0,data_hash:"0x8d3a9737808fc4a3c7f9e554be9045333c5082bf3b82f8a33873c367a2b2307f",occupied_capacity:353e8}],$Q={cell_recipes:zQ,dep_group_recipes:jQ},FQ=[{name:"ICKB_LOGIC",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],qQ=[{name:"ickb_dep_group",tx_hash:"0x621a6f38de3b9f453016780edac3b26bfcbfa3e2ecb47c2da275471a5d3ed165",index:0,data_hash:"0x94d59795c742dfb381c8e8d8beee0362d0bf8f8921212ed15f87acd89a3ce78b",occupied_capacity:353e8}],KQ={cell_recipes:FQ,dep_group_recipes:qQ},QQ="The requested script is missing in the old config";function bM(t,e){const{cell_recipes:r,dep_group_recipes:n}=t==="mainnet"?KQ:t==="testnet"?$Q:kQ,{tx_hash:i,index:a}=n[0],s=Fo.from({txHash:i,index:Ec(a)}),o={};for(const c of r)o[c.name]=new tp(xn.from({...va,codeHash:c.type_id??c.data_hash,hashType:c.type_id?"type":"data1",[Oi]:[du.from({outPoint:s,depType:"depGroup"})]}));const f=["SECP256K1_BLAKE160","DAO","SECP256K1_BLAKE160_MULTISIG"];if(t!=="devnet")if(t==="testnet")f.push("XUDT"),e={...e,XUDT:new tp(xn.from({...va,codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",[Oi]:[du.from({outPoint:Fo.from({txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"}),depType:"code"})]}))};else{if(e.XUDT.HASH_TYPE!=="data1")throw Error("Expected data1 hashType for XUDT");f.push("XUDT")}for(const c of f){const u=e[c];if(!u)throw Error(QQ);o[c]=new tp(xn.from({...u.defaultScript,[Oi]:[du.from({outPoint:s,depType:"depGroup"})]}))}return o}function tE(t,e,r,n){const i=U1(n),a=y0(n),s=[],o=[];let f=[],c=[],u=[];for(const w of t){const C=e(w);if(!C){u.push(w);continue}if(En(w.cellOutput.type,i)){s.push(Yt.from({...w,cellOutput:{lock:C,type:i,capacity:w.cellOutput.capacity}}));continue}if(!En(w.cellOutput.type,a)){u.push(w);continue}if(!w.blockNumber)throw Error(iM);o.push(Yt.from({...w,cellOutput:{lock:C,type:xn.from({...a,[fi]:[r(w.blockNumber,w)]}),capacity:w.cellOutput.capacity}}))}let l;({deposits:c,withdrawalRequests:l,notDaos:u}=XA(u,i6(a),r,n)),u=u.concat(l);const p=F2(n);({deposits:l,withdrawalRequests:f,notDaos:u}=XA(u,i6(p),r,n)),u=u.concat(l);let y;({types:y,notTypes:u}=nQ(u,p,e));const m=w=>w.txHash+w.index,A=new Map(f.map(w=>[m(w.outPoint),w])),S=[];for(const w of y){const{ownedDistance:C}=hM.unpack(w.data),O=Ec(Number(w.outPoint.index)+C),M=m({...w.outPoint,index:O}),U=A.get(M);U?(S.push(Object.freeze({owner:w,ownedWithdrawalRequest:U})),A.delete(M)):u.push(w)}return u=u.concat(Array.from(A.values())),{udts:s,receipts:o,withdrawalRequestGroups:S,ickbPool:c,notIckbs:u}}function YQ(t,e,r,n){let i=t.map(a=>Object.freeze({deposit:a,ickbValue:s6(BigInt(a.cellOutput.capacity)-$2,a.cellOutput.type[fi][0]),estimatedMaturity:{length:1,index:0,number:0}}));if(r){const a=rM(h1(e.epoch),r);i=i.map(s=>Object.freeze({...s,estimatedMaturity:CQ(s.deposit,a)})).sort((s,o)=>k2(s.estimatedMaturity,o.estimatedMaturity))}return i}function VQ(t,e,r,n){return EQ(t,Array(e).fill(r),y0(n),n)}function GQ(t,e,r){return SQ(t,e,F2(r))}function WQ(t,e){const r=[],n=[];for(const{ownedWithdrawalRequest:i,owner:a}of e)r.push(i),n.push(a);return r.length>0&&(t=IQ(t,r),t=Ea(t,"append",n,[])),t}function mg(t,e){const r=U1(e),n=y0(e);let i=0n;for(const a of t.inputs){if(En(a.cellOutput.type,r)){i+=e6.unpack(a.data.slice(0,2+16*2));continue}if(En(a.cellOutput.lock,n)&&aM(a,e)){const s=a.cellOutput.type[fi][0],o=BigInt(a.cellOutput.capacity)-$2;i-=s6(o,s);continue}if(En(a.cellOutput.type,n)){const s=a.cellOutput.type[fi][0],{depositQuantity:o,depositAmount:f}=dM.unpack(a.data);i+=s6(f,s)*BigInt(o)}}for(const a of t.outputs)En(a.cellOutput.type,r)&&(i-=e6.unpack(a.data.slice(0,2+16*2)));return i}function s6(t,e){let r=gM(t,e,!1);return yy<r&&(r-=(r-yy)/10n),r}function XQ(t,e,r){const n=mg(t,r);if(n>0n){const i=Yt.from({lock:e,type:U1(r),data:gc(Th.pack({udtAmount:n}))});t=Ea(t,"append",[],[i])}return{tx:t,freeIckbUdt:n}}function ZQ(t,e,r){const n=[],i=F2(r);for(const[a,s]of t.outputs.entries()){if(!sM(s,r)||!En(s.cellOutput.lock,i))continue;const o=t.outputs.size+n.length,f=a-o;n.push(Yt.from({lock:e,type:i,data:gc(hM.pack({ownedDistance:f}))}))}return n.length>0?Ea(t,"append",[],n):t}function JQ(t,e,r){const n=y0(r),i=new Map;for(const s of t.outputs){if(!aM(s,r)||!En(s.cellOutput.lock,n))continue;const o=BigInt(s.cellOutput.capacity)-$2;let f=i.get(o);f?f.depositQuantity+=1:i.set(o,{depositQuantity:1,depositAmount:o})}const a=[];for(const s of i.values())a.push(Yt.from({lock:e,type:n,data:gc(dM.pack(s))}));return a.length>0?Ea(t,"append",[],a):t}const yy=100000n*qt;function eY(t){return vy(yy,t)}function gM(t,e,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=_5(e,r);return t*n/i}function vy(t,e,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=_5(e,r);return t*i/n}const yM=10000000000000000n,$2=82n*qt,tY=$2*yM/yy;function _5(t,e=!0){const n=U2.extractDaoDataCompatible(t.dao).ar.toBigInt();return{ckbMultiplier:yM,udtMultiplier:e?n+tY:n}}function U1(t){return xn.from({...t.defaultScript("XUDT"),args:sj(y0(t))+"00000080"})}function y0(t){return t.defaultScript("ICKB_LOGIC")}function F2(t){return t.defaultScript("OWNED_OWNER")}function rE(t,e){return t.ckbMultiplier===e.ckbMultiplier&&t.udtMultiplier===e.udtMultiplier}function vM(t,e){return rE(t.ckbToUdt,e.ckbToUdt)&&rE(t.udtToCkb,e.udtToCkb)&&t.ckbMinMatchLog===e.ckbMinMatchLog}function nE(t,e,r,n,i=U1(n)){const a=m5(n),{groups:s,unknowns:o}=_M(t,e,a,i),f=rY([...s.values()].map(l=>{var p;return((p=l.master)==null?void 0:p.outPoint)??l.orders[0].info.masterOutpoint}),r,a,i),c=[],u=[];for(const[l,p]of s){const y=f.get(l);if(y===void 0){const S=p.master===void 0?[]:[p.master];o.push(...S,...p.orders.map(w=>w.cell));continue}let m=-1,A=y;for(let S=0;S<p.orders.length;S++){const w=p.orders[S];if(!vM(y.info,w.info)||!En(y.cell.cellOutput.type,w.cell.cellOutput.type)||w.info.absTotal<y.info.absTotal){o.push(w.cell);continue}if(w.info.absProgress<A.info.absProgress){o.push(w.cell);continue}if(w.info.absProgress===A.info.absProgress&&!w.info.isMint){o.push(w.cell);continue}m>=0&&o.push(A.cell),m=S,A=w}if(m===-1){p.master!==void 0&&o.push(p.master);continue}p.master!==void 0?u.push(Object.freeze({...A,master:p.master})):c.push(Object.freeze(A))}return{myOrders:u,orders:c,notOrders:o}}function rY(t,e,r,n){const i=new Map,a=s=>xn.from({...va,...s.cellOutput.lock});for(const s of new Set(t.map(o=>o.txHash)))for(const[o,f]of _M(e(s),a,r,n).groups)f.master===void 0||f.orders.length!==1||!f.orders[0].info.isMint||i.set(o,{...f.orders[0],master:f.master});return i}function _M(t,e,r,n){const i=new Map,a=o=>{const f=o.txHash+o.index;let c=i.get(f);return c===void 0&&(c={master:void 0,orders:[]},i.set(f,c)),c},s=[];for(const o of t){const{lock:f,type:c}=o.cellOutput;if(En(c,r)){const u=e(o);if(u){a(o.outPoint).master=Yt.from({...o,cellOutput:{lock:u,type:r,capacity:o.cellOutput.capacity}});continue}}else if(En(f,r)&&En(c,n)){const u=nY(o);if(u!==void 0){a(u.masterOutpoint).orders.push({cell:Yt.from({...o,cellOutput:{lock:r,type:n,capacity:o.cellOutput.capacity}}),info:u});continue}}s.push(o)}return{groups:i,unknowns:s}}function nY(t){let e;try{e=v5.unpack(t.data)}catch{return}const r=e.value.orderInfo,n=_y(r.ckbToUdt),i=_y(r.udtToCkb),a=mM(r.ckbMinMatchLog);if(!vM({ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a},r)||e.type==="MintOrderData"&&e.value.padding!==w5||t.cellOutput.type===void 0||t.cellOutput.type.args.length<2)return;const s=e.type==="MintOrderData",o=Fo.from(e.type==="MintOrderData"?{txHash:t.outPoint.txHash,index:Ec(Number(t.outPoint.index)+e.value.masterDistance)}:e.value.masterOutpoint),f=1n<<BigInt(a),c=e.udtAmount,u=BigInt(t.cellOutput.capacity),l=fY+BigInt((t.cellOutput.type.args.length-2)/2)*qt,p=u-l,y=n!==Io,m=i!==Io,A=y&&m,S=y?p*n.ckbMultiplier+c*n.udtMultiplier:0n,w=m?p*i.ckbMultiplier+c*i.udtMultiplier:0n,C=S===0n?w:w===0n?S:S*i.ckbMultiplier*i.udtMultiplier+w*n.ckbMultiplier*n.udtMultiplier>>1n,O=A?C:y?c*n.udtMultiplier:p*i.ckbMultiplier,M=y&&p>0n,U=m&&c>0n;return Object.freeze({isMint:s,masterOutpoint:o,ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a,ckbMinMatch:f,udtAmount:c,ckbAmount:u,ckbOccupied:l,ckbUnoccupied:p,absTotal:C,absProgress:O,isCkb2Udt:y,isUdt2Ckb:m,isDualRatio:A,isCkb2UdtMatchable:M,isUdt2CkbMatchable:U,isMatchable:M||U})}const iY=33;function aY(t,...e){const{master:r,order:n}=sY(...e);return Ea(t,"append",[],[r,n])}const iE="Order ratio are invalid";function sY(t,e,r=0n,n=0n,i=Io,a=Io,s=iY,o=U1(e)){if(i=_y(i),a=_y(a),s=mM(s),i===Io&&a===Io||i.ckbMultiplier*a.udtMultiplier<i.udtMultiplier*a.ckbMultiplier)throw Error(iE);const f=m5(e),c=Yt.from({lock:t,type:f});let u=Yt.from({lock:f,type:o,data:gc(v5.pack({udtAmount:n,type:"MintOrderData",value:{padding:w5,masterDistance:-1,orderInfo:{ckbToUdt:i,udtToCkb:a,ckbMinMatchLog:s}}}))});return r>0n&&(u=Yt.from({...u,capacity:Ec(BigInt(u.cellOutput.capacity)+r)})),{master:c,order:u}}function oY(t,e){return Ea(t,"append",e.flatMap(r=>[r.cell,r.master]),[])}function m5(t){return t.defaultScript("LIMIT_ORDER")}function mM(t){return t>64?64:t}function _y(t){return t.ckbMultiplier===0n||t.udtMultiplier===0n?Io:Object.freeze({...t})}const Io=Object.freeze({ckbMultiplier:0n,udtMultiplier:0n}),w5="0x0000000000000000000000000000000000000000000000000000000000000000",fY=BigInt(Yt.from({lock:va,type:va,data:gc(v5.pack({udtAmount:0n,type:"MintOrderData",value:{masterDistance:0,padding:w5,orderInfo:{ckbToUdt:Io,udtToCkb:Io,ckbMinMatchLog:0}}}))}).cellOutput.capacity);function cY({rawText:t,setRawText:e,amount:r,tipHeader:n,isFrozen:i,ckbNative:a,ickbNative:s,ckbAvailable:o,ickbAvailable:f,ckbBalance:c,ickbBalance:u}){const l=t[0],p=t.slice(1),y=oM(l),m=()=>e(a6(!y)+p),A=tQ(Np(o-lM,0n),a);let S={name:"CKB",native:A,locked:c-A,status:c===a?"✅":c===o?"⌛️":"⏳"},w={name:"ICKB",native:s,locked:u-s,status:u===s?"✅":u===f?"⌛️":"⏳"};return y||([S,w]=[w,S]),ve.jsx(ve.Fragment,{children:ve.jsxs("span",{className:"grid grid-cols-3 items-center justify-items-center gap-y-4 leading-relaxed font-bold tracking-wider uppercase",children:[ve.jsx("span",{className:"text-amber-400",children:qb(S.native,"✅")}),ve.jsx("span",{className:"text-2xl text-amber-400",children:S.name}),ve.jsx("span",{className:"cursor-wait text-amber-400",children:qb(S.locked,S.status)}),ve.jsx("input",{placeholder:"0",disabled:i,autoFocus:!0,value:p,onChange:C=>e(l+C.target.value),autoComplete:"off",inputMode:"decimal",type:"text",className:"col-span-3 rounded bg-transparent text-center text-3xl text-amber-400 focus:outline-none disabled:cursor-default disabled:opacity-50","aria-label":"Amount to be converted"}),ve.jsx("span",{className:"",children:"1 "+S.name}),ve.jsx("button",{className:"rotate-90 cursor-pointer text-5xl disabled:cursor-default",disabled:i,onClick:m,children:"⇌"}),ve.jsx("span",{className:"text-center",children:aE(y,qt,n)+" "+w.name}),ve.jsxs("span",{className:"col-span-3 text-center text-3xl text-amber-400",children:["⏳",aE(y,r,n)]}),ve.jsx("span",{className:"text-amber-400",children:qb(w.native,"✅")}),ve.jsx("span",{className:"text-2xl text-amber-400",children:w.name}),ve.jsx("span",{className:"cursor-wait text-amber-400",children:qb(w.locked,w.status)})]})})}function qb(t,e){const r=e==="⏳";return ve.jsxs("span",{className:"flex flex-row "+(r?"cursor-wait":""),children:[ve.jsx("span",{className:r?"animate-pulse":"",children:e}),ve.jsx("span",{className:"sm:hidden",children:String(t/qt)}),ve.jsx("span",{className:"hidden sm:block",children:j2(t)})]})}function aE(t,e,r){let n=t?gM(e,r):vy(e,r);return n-=n/1000n,j2(n)}function Kb({txInfo:t=Vc,capacities:e=new Array,udts:r=new Array,receipts:n=new Array,wrGroups:i=new Array,myOrders:a=new Array,tipHeader:s=q2}){let{tx:o}=t;const f=[t.estimatedMaturity,h1(s.epoch)];if(a.length>0){o=oY(o,a);for(const{info:l}of a){if(!l.isMatchable||l.isDualRatio)continue;const p=l.isCkb2UdtMatchable;f.push(fM(p,p?l.ckbUnoccupied:l.udtAmount,s))}}const c=[e,r,n].flat();c.length>0&&(o=Ea(o,"append",c,[])),i.length>0&&(o=WQ(o,i),f.push(...i.map(l=>Cp(l.ownedWithdrawalRequest.cellOutput.type[Hs]))));const u=Object.freeze(cM(f));return Object.freeze({...t,tx:o,estimatedMaturity:u})}function uY(t,e,r,n,i,a,s){if(t.error!=="")return t;const o=[];if(!e){let A=0n;for(const S of n){const w=A+S.ickbValue;if(!(w>r)&&(A=w,o.push(Object.freeze({...S,ickbCumulative:A})),o.length>=30))break}}Object.freeze(o);const{ckbMultiplier:f,udtMultiplier:c}=_5(i),u={ckbMultiplier:f,udtMultiplier:c+(e?1n:-1n)*(c/1000n)},l=eY(i),p=e?Number(r/l):o.length,y=Array(p),m=A=>(A=p-A,y[A]=y[A]??lY(A,e,r,t,u,l,o,i,a,s));return Object.freeze(m(fQ(p,A=>m(A).error==="")))}function lY(t,e,r,n,i,a,s,o,f,c){let{tx:u}=n;const{accountLocks:l,config:p}=c,y=[n.estimatedMaturity];if(t>0)if(e){if(r-=a*BigInt(t),r<0n)return{...n,error:"Too many Deposits respectfully to the amount"};u=VQ(u,t,a,p),u=JQ(u,l[0],p)}else{if(s.length<t)return{...n,error:"Not enough Deposits to withdraw from"};if(r-=s[t-1].ickbCumulative,r<0n)return{...n,error:"Too many Withdrawal Requests respectfully to the amount"};s=s.slice(0,t);const S=s.map(w=>w.deposit);u=GQ(u,S,p),u=ZQ(u,l[0],p),y.push(...s.map(w=>w.estimatedMaturity))}let m=n.fee;r>0n&&(u=aY(u,l[0],p,e?r:void 0,e?void 0:r,e?i:void 0,e?void 0:i),m+=e?r-vy(r*i.ckbMultiplier/i.udtMultiplier,o):vy(r,o)-r*i.udtMultiplier/i.ckbMultiplier,y.push(fM(e,r,o)));const A=cM(y);return wM({...n,tx:u,estimatedMaturity:A,fee:m},f,c)}function wM(t,e,r){let{tx:n}=t;const{accountLocks:i,config:a}=r;let s,o,f;({tx:n,freeIckbUdt:f}=XQ(n,i[0],a)),{tx:n,txFee:s,freeCkb:o}=TQ(n,i[0],e,a);const c=t.fee+s;return t={...t,tx:n,fee:c},o<0n?{...t,error:"Not enough CKB"}:f<0n?{...t,error:"Not enough iCKB"}:n.outputs.size>64?{...t,error:"More than 64 output cells"}:t}function A5(t,e){return{retry:!0,refetchInterval:({state:r})=>{var n;return 6e4*((n=r.data)!=null&&n.hasMatchable?1:10)},staleTime:1e4,queryKey:[t.chain,t.address,"l1State"],queryFn:async()=>{try{return await dY(t)}catch(r){throw console.log(r),r}},placeholderData:{ckbNative:6n*qt*qt,ickbNative:3n*qt*qt,ckbAvailable:6n*qt*qt,ickbAvailable:3n*qt*qt,ckbBalance:6n*qt*qt,ickbBalance:3n*qt*qt,tipHeader:q2,txBuilder:()=>Vc,hasMatchable:!1},enabled:!e}}async function dY(t){const{rpc:e,config:r,expander:n,getTxSizeOverhead:i}=t,a=await hY(t),s=e.getFeeRate(61n),o=e.getTipHeader(),f=new Set;tE(a,n,ne=>(f.add(ne),q2),r);const u=bY(f,t),l=new Set;nE(a,n,ne=>(l.add(ne),[]),r);const y=pY(l,t),{capacities:m,notCapacities:A}=rQ(a,n),S=await u,{udts:w,receipts:C,withdrawalRequestGroups:O,ickbPool:M,notIckbs:U}=tE(A,n,ne=>S.get(ne),r),K=Cd.from(await o),{mature:Q,notMature:k}=iQ(O,ne=>ne.ownedWithdrawalRequest.cellOutput.type[Hs],K);let W=YQ(M,K,{length:4,index:1,number:0});if(W.length>40){const ne=Np(Math.round(W.length/180),40);W=oQ(W.slice(0,ne).map((N,P)=>({d:N,i:P}))).slice(0,40).sort((N,P)=>N.i-P.i).map(N=>N.d)}const R=await y,{myOrders:_}=nE(U,n,ne=>R.get(ne)??[],r),I=[],b=[];for(const ne of _){const{isMatchable:N,isDualRatio:P}=ne.info;N&&!P?I.push(ne):b.push(ne)}const v=I.length>0,d=Q.length>0||C.length>0||b.length>0;let g=Kb({capacities:m,tipHeader:K});const x=_g(g.tx,r);g=Kb({txInfo:g,udts:w,tipHeader:K});const E=mg(g.tx,r);g=Kb({txInfo:g,myOrders:b,receipts:C,wrGroups:Q,tipHeader:K});const h=i(g.tx),T=_g(g.tx,r),j=mg(g.tx,r),L=Kb({txInfo:g,myOrders:I,wrGroups:k,tipHeader:K}),$=_g(L.tx,r),F=mg(L.tx,r);g=Object.freeze({...g,estimatedMaturity:L.estimatedMaturity});const[H,q]=await Promise.all([h,s]),X=ne=>{const N=wQ(mQ(ne)+H,q),P=1249n;return(N+(P-1n))/P*P};return{ckbNative:x,ickbNative:E,ckbBalance:$,ickbBalance:F,ckbAvailable:T,ickbAvailable:j,tipHeader:K,txBuilder:(ne,N)=>N>0n?uY(g,ne,N,W,K,X,t):d?wM(g,X,t):Object.freeze({...g,error:"Nothing to convert"}),hasMatchable:v}}async function AM(t){const{queryClient:e}=t,r={...t,accountLocks:[va],address:A2.encodeToAddress(va,t),expander:i6(va),getTxSizeOverhead:()=>Promise.resolve(0),sendSigned:()=>Promise.resolve("0x0")};return e.prefetchQuery(A5(r,!1))}async function hY(t){const{accountLocks:e,config:r,rpc:n}=t;return Object.freeze((await Promise.all([...e,y0(r),F2(r),m5(r)].map(i=>n.getCellsByLock(i,"desc","max")))).flat())}async function pY(t,e){const{chain:r,rpc:n,queryClient:i}=e,a=i.getQueryData([r,"txsOutputs"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const c of t){const u=a.get(c);if(u!==void 0){s.set(c,u);continue}o.add("getTransaction",c)}if(o.length===0)return a;for(const c of(await o.exec()).map(({transaction:u})=>u))s.set(c.hash,Object.freeze(c.outputs.map(({lock:u,type:l,capacity:p},y)=>Object.freeze({cellOutput:Object.freeze({lock:Object.freeze(u),type:Object.freeze(l),capacity:Object.freeze(p)}),data:Object.freeze(c.outputsData[y]??"0x"),outPoint:Object.freeze({txHash:c.hash,index:Ec(y)})}))));const f=Object.freeze(s);return i.setQueryData([r,"txsOutputs"],f),f}async function bY(t,e){const{chain:r,rpc:n,queryClient:i}=e,a=i.getQueryData([r,"headers"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const c of t){const u=a.get(c);if(u!==void 0){s.set(c,u);continue}o.add("getHeaderByNumber",c)}if(o.length===0)return a;for(const c of await o.exec())s.set(c.number,Cd.from(c));const f=Object.freeze(s);return i.setQueryData([r,"headers"],f),f}const q2=Cd.from({compactTarget:"0x1a08a97e",parentHash:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionsRoot:"0x31bf3fdf4bc16d6ea195dbae808e2b9a8eca6941d589f6959b1d070d51ac28f7",proposalsHash:"0x0000000000000000000000000000000000000000000000000000000000000000",extraHash:"0x0000000000000000000000000000000000000000000000000000000000000000",dao:"0x8874337e541ea12e0000c16ff286230029bfa3320800000000710b00c0fefe06",epoch:"0x0",hash:"0x92b197aa1fba0f63633922c61c92375c9c074a93e85963554f5499fe1450d0e5",nonce:"0x0",number:"0x0",timestamp:"0x16e70e6985c",version:"0x0"});function E5(){const t=i2.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=ve.jsxs("div",{className:"flex h-2 w-full overflow-hidden rounded",children:[ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-3.00s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.85s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.70s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.55s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.40s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.25s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.10s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.95s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.80s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.65s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.50s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.35s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.20s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.05s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.90s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.75s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.60s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.45s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.30s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.15s] [animation-duration:6s]"}),ve.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-duration:6s]"})]}),t[0]=e):e=t[0],e}function gY({isCkb2Udt:t,amount:e,freeze:r,formReset:n,walletConfig:i}){const[a,s]=yr.useState(Vc),o=S=>{s(S),r(S!=Vc)},f=a!==Vc,{data:c,isStale:u,isFetching:l}=k4(A5(i,f)),{txBuilder:p,tipHeader:y}=c,m=f?a:p(t,e),A=_Q(m.tx)&&m.fee>0n&&m.estimatedMaturity!==uM&&m.error==="";return ve.jsxs(ve.Fragment,{children:[ve.jsx("button",{className:"text-s min-h-12 w-full rounded border-2 border-amber-400 px-8 leading-relaxed font-bold tracking-wider text-amber-400 uppercase disabled:opacity-50",onClick:u?()=>i.queryClient.invalidateQueries({queryKey:[i.chain,i.address,"l1State"]}):()=>yY(m,o,n,i),disabled:l||f||!A,children:l?"refreshing...":m.error!==""?m.error:A?u?"refresh before signing":f?"transacting...":"sign with wallet":"nothing to sign"}),l||f?ve.jsx(E5,{}):void 0,m===Vc?ve.jsx("p",{children:"Downloading the latest L1 Cell data, just for you. Hang tight!"}):ve.jsxs("span",{className:"grid grid-cols-2 items-center justify-items-center gap-y-4"+(f?"text-slate-100":""),children:[ve.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Fee:"}),ve.jsxs("span",{children:[j2(m.fee)," CKB"]}),ve.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Maturity:"}),ve.jsx("span",{children:vY(m.estimatedMaturity,y)})]})]})}async function yY(t,e,r,n){const{rpc:i,sendSigned:a}=n;try{e(t);const s=await a(t.tx);let o="pending";for(;o==="pending"||o==="proposed";)await new Promise(f=>setTimeout(f,1e4)),o=(await i.getTransaction(s)).txStatus.status;r(),console.log(s,o)}finally{e(Vc)}}function vY(t,e){const r=h1(e.epoch),n=t.index/t.length-r.index/r.length+t.number-r.number;return n<=0?"⌛️ Ready":n<=.375?`⏳ ${String(Math.ceil(n*4*60))} minutes`:n<=6?`⏳ ${String(1+Math.ceil(n*4))} hours`:`⏳ ${String(1+Math.ceil(n/6))} days`}function _Y({walletConfig:t}){const[e,r]=yr.useState(!1),[n,i]=yr.useState(a6(!0)),a=n[0],s=oM(a);let o=BQ(n),f=DQ(o);const{ckbNative:c,ickbNative:u,ckbAvailable:l,ickbAvailable:p,ckbBalance:y,ickbBalance:m,tipHeader:A}=k4(A5(t,e)).data,S=s?Np(l-lM,0n):p;f>S&&(f=S,o=j2(S));const w=()=>i(a6(!0)),C=yr.useDeferredValue({isCkb2Udt:s,amount:f,freeze:r,formReset:w,walletConfig:t});return A===q2?ve.jsxs(ve.Fragment,{children:[ve.jsx(ZA,{isFrozen:e,walletConfig:t}),ve.jsx("p",{children:"Downloading the latest L1 Cell data, just for you. Hang tight!"}),ve.jsx(E5,{})]}):ve.jsxs(ve.Fragment,{children:[ve.jsx(ZA,{isFrozen:e,walletConfig:t}),ve.jsx(cY,{rawText:a+o,setRawText:i,amount:f,tipHeader:A,isFrozen:e,ckbNative:c,ickbNative:u,ckbAvailable:l,ickbAvailable:p,ckbBalance:y,ickbBalance:m}),ve.jsx(gY,{...C})]})}var qo={},K2={};K2.byteLength=AY;K2.toByteArray=xY;K2.fromByteArray=CY;var Ts=[],Ji=[],mY=typeof Uint8Array<"u"?Uint8Array:Array,q_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var il=0,wY=q_.length;il<wY;++il)Ts[il]=q_[il],Ji[q_.charCodeAt(il)]=il;Ji[45]=62;Ji[95]=63;function EM(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function AY(t){var e=EM(t),r=e[0],n=e[1];return(r+n)*3/4-n}function EY(t,e,r){return(e+r)*3/4-r}function xY(t){var e,r=EM(t),n=r[0],i=r[1],a=new mY(EY(t,n,i)),s=0,o=i>0?n-4:n,f;for(f=0;f<o;f+=4)e=Ji[t.charCodeAt(f)]<<18|Ji[t.charCodeAt(f+1)]<<12|Ji[t.charCodeAt(f+2)]<<6|Ji[t.charCodeAt(f+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=Ji[t.charCodeAt(f)]<<2|Ji[t.charCodeAt(f+1)]>>4,a[s++]=e&255),i===1&&(e=Ji[t.charCodeAt(f)]<<10|Ji[t.charCodeAt(f+1)]<<4|Ji[t.charCodeAt(f+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function SY(t){return Ts[t>>18&63]+Ts[t>>12&63]+Ts[t>>6&63]+Ts[t&63]}function IY(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(SY(n));return i.join("")}function CY(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(IY(t,s,s+a>o?o:s+a));return n===1?(e=t[r-1],i.push(Ts[e>>2]+Ts[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ts[e>>10]+Ts[e>>4&63]+Ts[e<<2&63]+"=")),i.join("")}var x5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */x5.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,c=f>>1,u=-7,l=r?i-1:0,p=r?-1:1,y=t[e+l];for(l+=p,a=y&(1<<-u)-1,y>>=-u,u+=o;u>0;a=a*256+t[e+l],l+=p,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+t[e+l],l+=p,u-=8);if(a===0)a=1-c;else{if(a===f)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(y?-1:1)*s*Math.pow(2,a-n)};x5.write=function(t,e,r,n,i,a){var s,o,f,c=a*8-i-1,u=(1<<c)-1,l=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,m=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+l>=1?e+=p/f:e+=p*Math.pow(2,1-l),e*f>=2&&(s++,f/=2),s+l>=u?(o=0,s=u):s+l>=1?(o=(e*f-1)*Math.pow(2,i),s=s+l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+y]=o&255,y+=m,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+y]=s&255,y+=m,s/=256,c-=8);t[r+y-m]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=K2,r=x5,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const z=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(z,B),z.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const B=new Uint8Array(z);return Object.setPrototypeOf(B,o.prototype),B}function o(z,B,D){if(typeof z=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(z)}return f(z,B,D)}o.poolSize=8192;function f(z,B,D){if(typeof z=="string")return p(z,B);if(ArrayBuffer.isView(z))return m(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Se(z,ArrayBuffer)||z&&Se(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(z,SharedArrayBuffer)||z&&Se(z.buffer,SharedArrayBuffer)))return A(z,B,D);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=z.valueOf&&z.valueOf();if(Y!=null&&Y!==z)return o.from(Y,B,D);const ae=S(z);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return o.from(z[Symbol.toPrimitive]("string"),B,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}o.from=function(z,B,D){return f(z,B,D)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function u(z,B,D){return c(z),z<=0?s(z):B!==void 0?typeof D=="string"?s(z).fill(B,D):s(z).fill(B):s(z)}o.alloc=function(z,B,D){return u(z,B,D)};function l(z){return c(z),s(z<0?0:w(z)|0)}o.allocUnsafe=function(z){return l(z)},o.allocUnsafeSlow=function(z){return l(z)};function p(z,B){if((typeof B!="string"||B==="")&&(B="utf8"),!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const D=O(z,B)|0;let Y=s(D);const ae=Y.write(z,B);return ae!==D&&(Y=Y.slice(0,ae)),Y}function y(z){const B=z.length<0?0:w(z.length)|0,D=s(B);for(let Y=0;Y<B;Y+=1)D[Y]=z[Y]&255;return D}function m(z){if(Se(z,Uint8Array)){const B=new Uint8Array(z);return A(B.buffer,B.byteOffset,B.byteLength)}return y(z)}function A(z,B,D){if(B<0||z.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<B+(D||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return B===void 0&&D===void 0?Y=new Uint8Array(z):D===void 0?Y=new Uint8Array(z,B):Y=new Uint8Array(z,B,D),Object.setPrototypeOf(Y,o.prototype),Y}function S(z){if(o.isBuffer(z)){const B=w(z.length)|0,D=s(B);return D.length===0||z.copy(D,0,0,B),D}if(z.length!==void 0)return typeof z.length!="number"||kt(z.length)?s(0):y(z);if(z.type==="Buffer"&&Array.isArray(z.data))return y(z.data)}function w(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function C(z){return+z!=z&&(z=0),o.alloc(+z)}o.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==o.prototype},o.compare=function(B,D){if(Se(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),Se(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),!o.isBuffer(B)||!o.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===D)return 0;let Y=B.length,ae=D.length;for(let fe=0,le=Math.min(Y,ae);fe<le;++fe)if(B[fe]!==D[fe]){Y=B[fe],ae=D[fe];break}return Y<ae?-1:ae<Y?1:0},o.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(B,D){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return o.alloc(0);let Y;if(D===void 0)for(D=0,Y=0;Y<B.length;++Y)D+=B[Y].length;const ae=o.allocUnsafe(D);let fe=0;for(Y=0;Y<B.length;++Y){let le=B[Y];if(Se(le,Uint8Array))fe+le.length>ae.length?(o.isBuffer(le)||(le=o.from(le)),le.copy(ae,fe)):Uint8Array.prototype.set.call(ae,le,fe);else if(o.isBuffer(le))le.copy(ae,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=le.length}return ae};function O(z,B){if(o.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Se(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const D=z.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&D===0)return 0;let ae=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return J(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return ye(z).length;default:if(ae)return Y?-1:J(z).length;B=(""+B).toLowerCase(),ae=!0}}o.byteLength=O;function M(z,B,D){let Y=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,B>>>=0,D<=B))return"";for(z||(z="utf8");;)switch(z){case"hex":return E(this,B,D);case"utf8":case"utf-8":return b(this,B,D);case"ascii":return g(this,B,D);case"latin1":case"binary":return x(this,B,D);case"base64":return I(this,B,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,B,D);default:if(Y)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),Y=!0}}o.prototype._isBuffer=!0;function U(z,B,D){const Y=z[B];z[B]=z[D],z[D]=Y}o.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<B;D+=2)U(this,D,D+1);return this},o.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<B;D+=4)U(this,D,D+3),U(this,D+1,D+2);return this},o.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<B;D+=8)U(this,D,D+7),U(this,D+1,D+6),U(this,D+2,D+5),U(this,D+3,D+4);return this},o.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?b(this,0,B):M.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(B){if(!o.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:o.compare(this,B)===0},o.prototype.inspect=function(){let B="";const D=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(B+=" ... "),"<Buffer "+B+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(B,D,Y,ae,fe){if(Se(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(D===void 0&&(D=0),Y===void 0&&(Y=B?B.length:0),ae===void 0&&(ae=0),fe===void 0&&(fe=this.length),D<0||Y>B.length||ae<0||fe>this.length)throw new RangeError("out of range index");if(ae>=fe&&D>=Y)return 0;if(ae>=fe)return-1;if(D>=Y)return 1;if(D>>>=0,Y>>>=0,ae>>>=0,fe>>>=0,this===B)return 0;let le=fe-ae,Oe=Y-D;const nt=Math.min(le,Oe),Re=this.slice(ae,fe),Le=B.slice(D,Y);for(let Ze=0;Ze<nt;++Ze)if(Re[Ze]!==Le[Ze]){le=Re[Ze],Oe=Le[Ze];break}return le<Oe?-1:Oe<le?1:0};function K(z,B,D,Y,ae){if(z.length===0)return-1;if(typeof D=="string"?(Y=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,kt(D)&&(D=ae?0:z.length-1),D<0&&(D=z.length+D),D>=z.length){if(ae)return-1;D=z.length-1}else if(D<0)if(ae)D=0;else return-1;if(typeof B=="string"&&(B=o.from(B,Y)),o.isBuffer(B))return B.length===0?-1:Q(z,B,D,Y,ae);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(z,B,D):Uint8Array.prototype.lastIndexOf.call(z,B,D):Q(z,[B],D,Y,ae);throw new TypeError("val must be string, number or Buffer")}function Q(z,B,D,Y,ae){let fe=1,le=z.length,Oe=B.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(z.length<2||B.length<2)return-1;fe=2,le/=2,Oe/=2,D/=2}function nt(Le,Ze){return fe===1?Le[Ze]:Le.readUInt16BE(Ze*fe)}let Re;if(ae){let Le=-1;for(Re=D;Re<le;Re++)if(nt(z,Re)===nt(B,Le===-1?0:Re-Le)){if(Le===-1&&(Le=Re),Re-Le+1===Oe)return Le*fe}else Le!==-1&&(Re-=Re-Le),Le=-1}else for(D+Oe>le&&(D=le-Oe),Re=D;Re>=0;Re--){let Le=!0;for(let Ze=0;Ze<Oe;Ze++)if(nt(z,Re+Ze)!==nt(B,Ze)){Le=!1;break}if(Le)return Re}return-1}o.prototype.includes=function(B,D,Y){return this.indexOf(B,D,Y)!==-1},o.prototype.indexOf=function(B,D,Y){return K(this,B,D,Y,!0)},o.prototype.lastIndexOf=function(B,D,Y){return K(this,B,D,Y,!1)};function k(z,B,D,Y){D=Number(D)||0;const ae=z.length-D;Y?(Y=Number(Y),Y>ae&&(Y=ae)):Y=ae;const fe=B.length;Y>fe/2&&(Y=fe/2);let le;for(le=0;le<Y;++le){const Oe=parseInt(B.substr(le*2,2),16);if(kt(Oe))return le;z[D+le]=Oe}return le}function G(z,B,D,Y){return ge(J(B,z.length-D),z,D,Y)}function W(z,B,D,Y){return ge(ie(B),z,D,Y)}function R(z,B,D,Y){return ge(ye(B),z,D,Y)}function _(z,B,D,Y){return ge(ce(B,z.length-D),z,D,Y)}o.prototype.write=function(B,D,Y,ae){if(D===void 0)ae="utf8",Y=this.length,D=0;else if(Y===void 0&&typeof D=="string")ae=D,Y=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(Y)?(Y=Y>>>0,ae===void 0&&(ae="utf8")):(ae=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-D;if((Y===void 0||Y>fe)&&(Y=fe),B.length>0&&(Y<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let le=!1;for(;;)switch(ae){case"hex":return k(this,B,D,Y);case"utf8":case"utf-8":return G(this,B,D,Y);case"ascii":case"latin1":case"binary":return W(this,B,D,Y);case"base64":return R(this,B,D,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,B,D,Y);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),le=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(z,B,D){return B===0&&D===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(B,D))}function b(z,B,D){D=Math.min(z.length,D);const Y=[];let ae=B;for(;ae<D;){const fe=z[ae];let le=null,Oe=fe>239?4:fe>223?3:fe>191?2:1;if(ae+Oe<=D){let nt,Re,Le,Ze;switch(Oe){case 1:fe<128&&(le=fe);break;case 2:nt=z[ae+1],(nt&192)===128&&(Ze=(fe&31)<<6|nt&63,Ze>127&&(le=Ze));break;case 3:nt=z[ae+1],Re=z[ae+2],(nt&192)===128&&(Re&192)===128&&(Ze=(fe&15)<<12|(nt&63)<<6|Re&63,Ze>2047&&(Ze<55296||Ze>57343)&&(le=Ze));break;case 4:nt=z[ae+1],Re=z[ae+2],Le=z[ae+3],(nt&192)===128&&(Re&192)===128&&(Le&192)===128&&(Ze=(fe&15)<<18|(nt&63)<<12|(Re&63)<<6|Le&63,Ze>65535&&Ze<1114112&&(le=Ze))}}le===null?(le=65533,Oe=1):le>65535&&(le-=65536,Y.push(le>>>10&1023|55296),le=56320|le&1023),Y.push(le),ae+=Oe}return d(Y)}const v=4096;function d(z){const B=z.length;if(B<=v)return String.fromCharCode.apply(String,z);let D="",Y=0;for(;Y<B;)D+=String.fromCharCode.apply(String,z.slice(Y,Y+=v));return D}function g(z,B,D){let Y="";D=Math.min(z.length,D);for(let ae=B;ae<D;++ae)Y+=String.fromCharCode(z[ae]&127);return Y}function x(z,B,D){let Y="";D=Math.min(z.length,D);for(let ae=B;ae<D;++ae)Y+=String.fromCharCode(z[ae]);return Y}function E(z,B,D){const Y=z.length;(!B||B<0)&&(B=0),(!D||D<0||D>Y)&&(D=Y);let ae="";for(let fe=B;fe<D;++fe)ae+=He[z[fe]];return ae}function h(z,B,D){const Y=z.slice(B,D);let ae="";for(let fe=0;fe<Y.length-1;fe+=2)ae+=String.fromCharCode(Y[fe]+Y[fe+1]*256);return ae}o.prototype.slice=function(B,D){const Y=this.length;B=~~B,D=D===void 0?Y:~~D,B<0?(B+=Y,B<0&&(B=0)):B>Y&&(B=Y),D<0?(D+=Y,D<0&&(D=0)):D>Y&&(D=Y),D<B&&(D=B);const ae=this.subarray(B,D);return Object.setPrototypeOf(ae,o.prototype),ae};function T(z,B,D){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+B>D)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(B,D,Y){B=B>>>0,D=D>>>0,Y||T(B,D,this.length);let ae=this[B],fe=1,le=0;for(;++le<D&&(fe*=256);)ae+=this[B+le]*fe;return ae},o.prototype.readUintBE=o.prototype.readUIntBE=function(B,D,Y){B=B>>>0,D=D>>>0,Y||T(B,D,this.length);let ae=this[B+--D],fe=1;for(;D>0&&(fe*=256);)ae+=this[B+--D]*fe;return ae},o.prototype.readUint8=o.prototype.readUInt8=function(B,D){return B=B>>>0,D||T(B,1,this.length),this[B]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(B,D){return B=B>>>0,D||T(B,2,this.length),this[B]|this[B+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(B,D){return B=B>>>0,D||T(B,2,this.length),this[B]<<8|this[B+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(B,D){return B=B>>>0,D||T(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(B,D){return B=B>>>0,D||T(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},o.prototype.readBigUInt64LE=Fe(function(B){B=B>>>0,re(B,"offset");const D=this[B],Y=this[B+7];(D===void 0||Y===void 0)&&ue(B,this.length-8);const ae=D+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,fe=this[++B]+this[++B]*2**8+this[++B]*2**16+Y*2**24;return BigInt(ae)+(BigInt(fe)<<BigInt(32))}),o.prototype.readBigUInt64BE=Fe(function(B){B=B>>>0,re(B,"offset");const D=this[B],Y=this[B+7];(D===void 0||Y===void 0)&&ue(B,this.length-8);const ae=D*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],fe=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+Y;return(BigInt(ae)<<BigInt(32))+BigInt(fe)}),o.prototype.readIntLE=function(B,D,Y){B=B>>>0,D=D>>>0,Y||T(B,D,this.length);let ae=this[B],fe=1,le=0;for(;++le<D&&(fe*=256);)ae+=this[B+le]*fe;return fe*=128,ae>=fe&&(ae-=Math.pow(2,8*D)),ae},o.prototype.readIntBE=function(B,D,Y){B=B>>>0,D=D>>>0,Y||T(B,D,this.length);let ae=D,fe=1,le=this[B+--ae];for(;ae>0&&(fe*=256);)le+=this[B+--ae]*fe;return fe*=128,le>=fe&&(le-=Math.pow(2,8*D)),le},o.prototype.readInt8=function(B,D){return B=B>>>0,D||T(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},o.prototype.readInt16LE=function(B,D){B=B>>>0,D||T(B,2,this.length);const Y=this[B]|this[B+1]<<8;return Y&32768?Y|4294901760:Y},o.prototype.readInt16BE=function(B,D){B=B>>>0,D||T(B,2,this.length);const Y=this[B+1]|this[B]<<8;return Y&32768?Y|4294901760:Y},o.prototype.readInt32LE=function(B,D){return B=B>>>0,D||T(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},o.prototype.readInt32BE=function(B,D){return B=B>>>0,D||T(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},o.prototype.readBigInt64LE=Fe(function(B){B=B>>>0,re(B,"offset");const D=this[B],Y=this[B+7];(D===void 0||Y===void 0)&&ue(B,this.length-8);const ae=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(Y<<24);return(BigInt(ae)<<BigInt(32))+BigInt(D+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),o.prototype.readBigInt64BE=Fe(function(B){B=B>>>0,re(B,"offset");const D=this[B],Y=this[B+7];(D===void 0||Y===void 0)&&ue(B,this.length-8);const ae=(D<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(ae)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+Y)}),o.prototype.readFloatLE=function(B,D){return B=B>>>0,D||T(B,4,this.length),r.read(this,B,!0,23,4)},o.prototype.readFloatBE=function(B,D){return B=B>>>0,D||T(B,4,this.length),r.read(this,B,!1,23,4)},o.prototype.readDoubleLE=function(B,D){return B=B>>>0,D||T(B,8,this.length),r.read(this,B,!0,52,8)},o.prototype.readDoubleBE=function(B,D){return B=B>>>0,D||T(B,8,this.length),r.read(this,B,!1,52,8)};function j(z,B,D,Y,ae,fe){if(!o.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ae||B<fe)throw new RangeError('"value" argument is out of bounds');if(D+Y>z.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(B,D,Y,ae){if(B=+B,D=D>>>0,Y=Y>>>0,!ae){const Oe=Math.pow(2,8*Y)-1;j(this,B,D,Y,Oe,0)}let fe=1,le=0;for(this[D]=B&255;++le<Y&&(fe*=256);)this[D+le]=B/fe&255;return D+Y},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(B,D,Y,ae){if(B=+B,D=D>>>0,Y=Y>>>0,!ae){const Oe=Math.pow(2,8*Y)-1;j(this,B,D,Y,Oe,0)}let fe=Y-1,le=1;for(this[D+fe]=B&255;--fe>=0&&(le*=256);)this[D+fe]=B/le&255;return D+Y},o.prototype.writeUint8=o.prototype.writeUInt8=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,1,255,0),this[D]=B&255,D+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,2,65535,0),this[D]=B&255,this[D+1]=B>>>8,D+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,2,65535,0),this[D]=B>>>8,this[D+1]=B&255,D+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,4,4294967295,0),this[D+3]=B>>>24,this[D+2]=B>>>16,this[D+1]=B>>>8,this[D]=B&255,D+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,4,4294967295,0),this[D]=B>>>24,this[D+1]=B>>>16,this[D+2]=B>>>8,this[D+3]=B&255,D+4};function L(z,B,D,Y,ae){P(B,Y,ae,z,D,7);let fe=Number(B&BigInt(4294967295));z[D++]=fe,fe=fe>>8,z[D++]=fe,fe=fe>>8,z[D++]=fe,fe=fe>>8,z[D++]=fe;let le=Number(B>>BigInt(32)&BigInt(4294967295));return z[D++]=le,le=le>>8,z[D++]=le,le=le>>8,z[D++]=le,le=le>>8,z[D++]=le,D}function $(z,B,D,Y,ae){P(B,Y,ae,z,D,7);let fe=Number(B&BigInt(4294967295));z[D+7]=fe,fe=fe>>8,z[D+6]=fe,fe=fe>>8,z[D+5]=fe,fe=fe>>8,z[D+4]=fe;let le=Number(B>>BigInt(32)&BigInt(4294967295));return z[D+3]=le,le=le>>8,z[D+2]=le,le=le>>8,z[D+1]=le,le=le>>8,z[D]=le,D+8}o.prototype.writeBigUInt64LE=Fe(function(B,D=0){return L(this,B,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Fe(function(B,D=0){return $(this,B,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(B,D,Y,ae){if(B=+B,D=D>>>0,!ae){const nt=Math.pow(2,8*Y-1);j(this,B,D,Y,nt-1,-nt)}let fe=0,le=1,Oe=0;for(this[D]=B&255;++fe<Y&&(le*=256);)B<0&&Oe===0&&this[D+fe-1]!==0&&(Oe=1),this[D+fe]=(B/le>>0)-Oe&255;return D+Y},o.prototype.writeIntBE=function(B,D,Y,ae){if(B=+B,D=D>>>0,!ae){const nt=Math.pow(2,8*Y-1);j(this,B,D,Y,nt-1,-nt)}let fe=Y-1,le=1,Oe=0;for(this[D+fe]=B&255;--fe>=0&&(le*=256);)B<0&&Oe===0&&this[D+fe+1]!==0&&(Oe=1),this[D+fe]=(B/le>>0)-Oe&255;return D+Y},o.prototype.writeInt8=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,1,127,-128),B<0&&(B=255+B+1),this[D]=B&255,D+1},o.prototype.writeInt16LE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,2,32767,-32768),this[D]=B&255,this[D+1]=B>>>8,D+2},o.prototype.writeInt16BE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,2,32767,-32768),this[D]=B>>>8,this[D+1]=B&255,D+2},o.prototype.writeInt32LE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,4,2147483647,-2147483648),this[D]=B&255,this[D+1]=B>>>8,this[D+2]=B>>>16,this[D+3]=B>>>24,D+4},o.prototype.writeInt32BE=function(B,D,Y){return B=+B,D=D>>>0,Y||j(this,B,D,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[D]=B>>>24,this[D+1]=B>>>16,this[D+2]=B>>>8,this[D+3]=B&255,D+4},o.prototype.writeBigInt64LE=Fe(function(B,D=0){return L(this,B,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Fe(function(B,D=0){return $(this,B,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function F(z,B,D,Y,ae,fe){if(D+Y>z.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function H(z,B,D,Y,ae){return B=+B,D=D>>>0,ae||F(z,B,D,4),r.write(z,B,D,Y,23,4),D+4}o.prototype.writeFloatLE=function(B,D,Y){return H(this,B,D,!0,Y)},o.prototype.writeFloatBE=function(B,D,Y){return H(this,B,D,!1,Y)};function q(z,B,D,Y,ae){return B=+B,D=D>>>0,ae||F(z,B,D,8),r.write(z,B,D,Y,52,8),D+8}o.prototype.writeDoubleLE=function(B,D,Y){return q(this,B,D,!0,Y)},o.prototype.writeDoubleBE=function(B,D,Y){return q(this,B,D,!1,Y)},o.prototype.copy=function(B,D,Y,ae){if(!o.isBuffer(B))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ae&&ae!==0&&(ae=this.length),D>=B.length&&(D=B.length),D||(D=0),ae>0&&ae<Y&&(ae=Y),ae===Y||B.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),B.length-D<ae-Y&&(ae=B.length-D+Y);const fe=ae-Y;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,Y,ae):Uint8Array.prototype.set.call(B,this.subarray(Y,ae),D),fe},o.prototype.fill=function(B,D,Y,ae){if(typeof B=="string"){if(typeof D=="string"?(ae=D,D=0,Y=this.length):typeof Y=="string"&&(ae=Y,Y=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!o.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(B.length===1){const le=B.charCodeAt(0);(ae==="utf8"&&le<128||ae==="latin1")&&(B=le)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(D<0||this.length<D||this.length<Y)throw new RangeError("Out of range index");if(Y<=D)return this;D=D>>>0,Y=Y===void 0?this.length:Y>>>0,B||(B=0);let fe;if(typeof B=="number")for(fe=D;fe<Y;++fe)this[fe]=B;else{const le=o.isBuffer(B)?B:o.from(B,ae),Oe=le.length;if(Oe===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(fe=0;fe<Y-D;++fe)this[fe+D]=le[fe%Oe]}return this};const X={};function te(z,B,D){X[z]=class extends D{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(z,B){return`The "${z}" argument must be of type number. Received type ${typeof B}`},TypeError),te("ERR_OUT_OF_RANGE",function(z,B,D){let Y=`The value of "${z}" is out of range.`,ae=D;return Number.isInteger(D)&&Math.abs(D)>2**32?ae=ne(String(D)):typeof D=="bigint"&&(ae=String(D),(D>BigInt(2)**BigInt(32)||D<-(BigInt(2)**BigInt(32)))&&(ae=ne(ae)),ae+="n"),Y+=` It must be ${B}. Received ${ae}`,Y},RangeError);function ne(z){let B="",D=z.length;const Y=z[0]==="-"?1:0;for(;D>=Y+4;D-=3)B=`_${z.slice(D-3,D)}${B}`;return`${z.slice(0,D)}${B}`}function N(z,B,D){re(B,"offset"),(z[B]===void 0||z[B+D]===void 0)&&ue(B,z.length-(D+1))}function P(z,B,D,Y,ae,fe){if(z>D||z<B){const le=typeof B=="bigint"?"n":"";let Oe;throw B===0||B===BigInt(0)?Oe=`>= 0${le} and < 2${le} ** ${(fe+1)*8}${le}`:Oe=`>= -(2${le} ** ${(fe+1)*8-1}${le}) and < 2 ** ${(fe+1)*8-1}${le}`,new X.ERR_OUT_OF_RANGE("value",Oe,z)}N(Y,ae,fe)}function re(z,B){if(typeof z!="number")throw new X.ERR_INVALID_ARG_TYPE(B,"number",z)}function ue(z,B,D){throw Math.floor(z)!==z?(re(z,D),new X.ERR_OUT_OF_RANGE("offset","an integer",z)):B<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,z)}const de=/[^+/0-9A-Za-z-_]/g;function V(z){if(z=z.split("=")[0],z=z.trim().replace(de,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function J(z,B){B=B||1/0;let D;const Y=z.length;let ae=null;const fe=[];for(let le=0;le<Y;++le){if(D=z.charCodeAt(le),D>55295&&D<57344){if(!ae){if(D>56319){(B-=3)>-1&&fe.push(239,191,189);continue}else if(le+1===Y){(B-=3)>-1&&fe.push(239,191,189);continue}ae=D;continue}if(D<56320){(B-=3)>-1&&fe.push(239,191,189),ae=D;continue}D=(ae-55296<<10|D-56320)+65536}else ae&&(B-=3)>-1&&fe.push(239,191,189);if(ae=null,D<128){if((B-=1)<0)break;fe.push(D)}else if(D<2048){if((B-=2)<0)break;fe.push(D>>6|192,D&63|128)}else if(D<65536){if((B-=3)<0)break;fe.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((B-=4)<0)break;fe.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return fe}function ie(z){const B=[];for(let D=0;D<z.length;++D)B.push(z.charCodeAt(D)&255);return B}function ce(z,B){let D,Y,ae;const fe=[];for(let le=0;le<z.length&&!((B-=2)<0);++le)D=z.charCodeAt(le),Y=D>>8,ae=D%256,fe.push(ae),fe.push(Y);return fe}function ye(z){return e.toByteArray(V(z))}function ge(z,B,D,Y){let ae;for(ae=0;ae<Y&&!(ae+D>=B.length||ae>=z.length);++ae)B[ae+D]=z[ae];return ae}function Se(z,B){return z instanceof B||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===B.name}function kt(z){return z!==z}const He=function(){const z="0123456789abcdef",B=new Array(256);for(let D=0;D<16;++D){const Y=D*16;for(let ae=0;ae<16;++ae)B[Y+ae]=z[D]+z[ae]}return B}();function Fe(z){return typeof BigInt>"u"?fn:z}function fn(){throw new Error("BigInt not supported")}})(qo);function k1(...t){return new Uint8Array(t.reduce((e,r)=>(e.push(...Te(r)),e),[]))}function TY(t,e){return qo.Buffer.from(Te(t)).toString(e)}function Te(t,e){if(t instanceof Uint8Array)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(e!==void 0)return qo.Buffer.from(t,e);const n=t.startsWith("0x")?t.slice(2):t,i=n.length%2===0?n:`0${n}`,a=qo.Buffer.from(i,"hex");if(a.length*2!==i.length)throw new Error(`Invalid bytes ${t}`);return a}if(Array.from(t).some(n=>n<0||255<n))throw new Error(`Invalid bytes ${JSON.stringify(t)}`);return new Uint8Array(t)}function hu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function OY(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function z1(t,...e){if(!OY(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function BY(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hu(t.outputLen),hu(t.blockLen)}function uc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function S5(t,e){z1(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const al=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Up=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),K_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gs=(t,e)=>t<<32-e|t>>>e,Qb=(t,e)=>t<<e|t>>>32-e>>>0,oo=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,xM=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,so=oo?t=>t:t=>xM(t);function Sf(t){for(let e=0;e<t.length;e++)t[e]=xM(t[e])}function DY(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ro(t){return typeof t=="string"&&(t=DY(t)),z1(t),t}function MY(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];z1(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}let Q2=class{clone(){return this._cloneInto()}};function I5(t){const e=n=>t().update(Ro(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function RY(t){const e=(n,i)=>t(i).update(Ro(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function SM(t=32){if(al&&typeof al.getRandomValues=="function")return al.getRandomValues(new Uint8Array(t));if(al&&typeof al.randomBytes=="function")return al.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const LY=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class HY extends Q2{constructor(e,r,n={},i,a,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,hu(e),hu(r),hu(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==a)throw new Error(`salt must be ${a} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=Up(this.buffer=new Uint8Array(e))}update(e){uc(this);const{blockLen:r,buffer:n,buffer32:i}=this;e=Ro(e);const a=e.length,s=e.byteOffset,o=e.buffer;for(let f=0;f<a;){this.pos===r&&(oo||Sf(i),this.compress(i,0,!1),oo||Sf(i),this.pos=0);const c=Math.min(r-this.pos,a-f),u=s+f;if(c===r&&!(u%4)&&f+c<a){const l=new Uint32Array(o,u,Math.floor((a-f)/4));oo||Sf(l);for(let p=0;f+r<a;p+=i.length,f+=r)this.length+=r,this.compress(l,p,!1);oo||Sf(l);continue}n.set(e.subarray(f,f+c),this.pos),this.pos+=c,this.length+=c,f+=c}return this}digestInto(e){uc(this),S5(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),oo||Sf(n),this.compress(n,0,!0),oo||Sf(n);const i=Up(e);this.get().forEach((a,s)=>i[s]=so(a))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:a,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=a,e.outputLen=s,e.buffer.set(r),e.pos=o,e}}const Yb=BigInt(2**32-1),o6=BigInt(32);function IM(t,e=!1){return e?{h:Number(t&Yb),l:Number(t>>o6&Yb)}:{h:Number(t>>o6&Yb)|0,l:Number(t&Yb)|0}}function CM(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=IM(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const PY=(t,e)=>BigInt(t>>>0)<<o6|BigInt(e>>>0),NY=(t,e,r)=>t>>>r,UY=(t,e,r)=>t<<32-r|e>>>r,kY=(t,e,r)=>t>>>r|e<<32-r,zY=(t,e,r)=>t<<32-r|e>>>r,jY=(t,e,r)=>t<<64-r|e>>>r-32,$Y=(t,e,r)=>t>>>r-32|e<<64-r,FY=(t,e)=>e,qY=(t,e)=>t,TM=(t,e,r)=>t<<r|e>>>32-r,OM=(t,e,r)=>e<<r|t>>>32-r,BM=(t,e,r)=>e<<r-32|t>>>64-r,DM=(t,e,r)=>t<<r-32|e>>>64-r;function KY(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const QY=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),YY=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,VY=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),GY=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,WY=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),XY=(t,e,r,n,i,a)=>e+r+n+i+a+(t/2**32|0)|0,kn={fromBig:IM,split:CM,toBig:PY,shrSH:NY,shrSL:UY,rotrSH:kY,rotrSL:zY,rotrBH:jY,rotrBL:$Y,rotr32H:FY,rotr32L:qY,rotlSH:TM,rotlSL:OM,rotlBH:BM,rotlBL:DM,add:KY,add3L:QY,add3H:YY,add4L:VY,add4H:GY,add5H:XY,add5L:WY},mr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ae=new Uint32Array(32);function uf(t,e,r,n,i,a){const s=i[a],o=i[a+1];let f=Ae[2*t],c=Ae[2*t+1],u=Ae[2*e],l=Ae[2*e+1],p=Ae[2*r],y=Ae[2*r+1],m=Ae[2*n],A=Ae[2*n+1],S=kn.add3L(f,u,s);c=kn.add3H(S,c,l,o),f=S|0,{Dh:A,Dl:m}={Dh:A^c,Dl:m^f},{Dh:A,Dl:m}={Dh:kn.rotr32H(A,m),Dl:kn.rotr32L(A,m)},{h:y,l:p}=kn.add(y,p,A,m),{Bh:l,Bl:u}={Bh:l^y,Bl:u^p},{Bh:l,Bl:u}={Bh:kn.rotrSH(l,u,24),Bl:kn.rotrSL(l,u,24)},Ae[2*t]=f,Ae[2*t+1]=c,Ae[2*e]=u,Ae[2*e+1]=l,Ae[2*r]=p,Ae[2*r+1]=y,Ae[2*n]=m,Ae[2*n+1]=A}function lf(t,e,r,n,i,a){const s=i[a],o=i[a+1];let f=Ae[2*t],c=Ae[2*t+1],u=Ae[2*e],l=Ae[2*e+1],p=Ae[2*r],y=Ae[2*r+1],m=Ae[2*n],A=Ae[2*n+1],S=kn.add3L(f,u,s);c=kn.add3H(S,c,l,o),f=S|0,{Dh:A,Dl:m}={Dh:A^c,Dl:m^f},{Dh:A,Dl:m}={Dh:kn.rotrSH(A,m,16),Dl:kn.rotrSL(A,m,16)},{h:y,l:p}=kn.add(y,p,A,m),{Bh:l,Bl:u}={Bh:l^y,Bl:u^p},{Bh:l,Bl:u}={Bh:kn.rotrBH(l,u,63),Bl:kn.rotrBL(l,u,63)},Ae[2*t]=f,Ae[2*t+1]=c,Ae[2*e]=u,Ae[2*e+1]=l,Ae[2*r]=p,Ae[2*r+1]=y,Ae[2*n]=m,Ae[2*n+1]=A}class ZY extends HY{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=mr[0]|0,this.v0h=mr[1]|0,this.v1l=mr[2]|0,this.v1h=mr[3]|0,this.v2l=mr[4]|0,this.v2h=mr[5]|0,this.v3l=mr[6]|0,this.v3h=mr[7]|0,this.v4l=mr[8]|0,this.v4h=mr[9]|0,this.v5l=mr[10]|0,this.v5h=mr[11]|0,this.v6l=mr[12]|0,this.v6h=mr[13]|0,this.v7l=mr[14]|0,this.v7h=mr[15]|0;const r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){const n=Up(Ro(e.salt));this.v4l^=so(n[0]),this.v4h^=so(n[1]),this.v5l^=so(n[2]),this.v5h^=so(n[3])}if(e.personalization){const n=Up(Ro(e.personalization));this.v6l^=so(n[0]),this.v6h^=so(n[1]),this.v7l^=so(n[2]),this.v7h^=so(n[3])}if(e.key){const n=new Uint8Array(this.blockLen);n.set(Ro(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:a,v2h:s,v3l:o,v3h:f,v4l:c,v4h:u,v5l:l,v5h:p,v6l:y,v6h:m,v7l:A,v7h:S}=this;return[e,r,n,i,a,s,o,f,c,u,l,p,y,m,A,S]}set(e,r,n,i,a,s,o,f,c,u,l,p,y,m,A,S){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=a|0,this.v2h=s|0,this.v3l=o|0,this.v3h=f|0,this.v4l=c|0,this.v4h=u|0,this.v5l=l|0,this.v5h=p|0,this.v6l=y|0,this.v6h=m|0,this.v7l=A|0,this.v7h=S|0}compress(e,r,n){this.get().forEach((f,c)=>Ae[c]=f),Ae.set(mr,16);let{h:i,l:a}=kn.fromBig(BigInt(this.length));Ae[24]=mr[8]^a,Ae[25]=mr[9]^i,n&&(Ae[28]=~Ae[28],Ae[29]=~Ae[29]);let s=0;const o=LY;for(let f=0;f<12;f++)uf(0,4,8,12,e,r+2*o[s++]),lf(0,4,8,12,e,r+2*o[s++]),uf(1,5,9,13,e,r+2*o[s++]),lf(1,5,9,13,e,r+2*o[s++]),uf(2,6,10,14,e,r+2*o[s++]),lf(2,6,10,14,e,r+2*o[s++]),uf(3,7,11,15,e,r+2*o[s++]),lf(3,7,11,15,e,r+2*o[s++]),uf(0,5,10,15,e,r+2*o[s++]),lf(0,5,10,15,e,r+2*o[s++]),uf(1,6,11,12,e,r+2*o[s++]),lf(1,6,11,12,e,r+2*o[s++]),uf(2,7,8,13,e,r+2*o[s++]),lf(2,7,8,13,e,r+2*o[s++]),uf(3,4,9,14,e,r+2*o[s++]),lf(3,4,9,14,e,r+2*o[s++]);this.v0l^=Ae[0]^Ae[16],this.v0h^=Ae[1]^Ae[17],this.v1l^=Ae[2]^Ae[18],this.v1h^=Ae[3]^Ae[19],this.v2l^=Ae[4]^Ae[20],this.v2h^=Ae[5]^Ae[21],this.v3l^=Ae[6]^Ae[22],this.v3h^=Ae[7]^Ae[23],this.v4l^=Ae[8]^Ae[24],this.v4h^=Ae[9]^Ae[25],this.v5l^=Ae[10]^Ae[26],this.v5h^=Ae[11]^Ae[27],this.v6l^=Ae[12]^Ae[28],this.v6h^=Ae[13]^Ae[29],this.v7l^=Ae[14]^Ae[30],this.v7h^=Ae[15]^Ae[31],Ae.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const JY=RY(t=>new ZY(t));function me(t){return`0x${TY(Te(t),"hex")}`}function eV(t,...e){let r=Ie(t);return e.forEach(n=>{const i=Ie(n);i>r&&(r=i)}),r}function Ie(t){return typeof t=="bigint"?t:BigInt(typeof t=="string"||typeof t=="number"?t:me(t))}function Qa(t){return`0x${Ie(t).toString(16)}`}function mn(t,e){return tV(t,e)}function tV(t,e){return rV(t,e).reverse()}function rV(t,e){const r=Te(Ie(t).toString(16));return e==null?r:k1(Array.from(Array(e-r.length),()=>0),r)}function Y2(t){return Oh(t)}function Oh(t){return nV([...Te(t)].reverse())}function nV(t){return Ie(Te(t))}const iV="ckb-default-hash";class MM{constructor(e=32,r=iV){this.hasher=JY.create({personalization:r,dkLen:e})}update(e){return this.hasher.update(Te(e)),this}digest(){return me(this.hasher.digest())}}function j1(...t){const e=new MM;return t.forEach(r=>e.update(r)),e.digest()}const RM=[],LM=[],HM=[],aV=BigInt(0),sh=BigInt(1),sV=BigInt(2),oV=BigInt(7),fV=BigInt(256),cV=BigInt(113);for(let t=0,e=sh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],RM.push(2*(5*n+r)),LM.push((t+1)*(t+2)/2%64);let i=aV;for(let a=0;a<7;a++)e=(e<<sh^(e>>oV)*cV)%fV,e&sV&&(i^=sh<<(sh<<BigInt(a))-sh);HM.push(i)}const[uV,lV]=CM(HM,!0),sE=(t,e,r)=>r>32?BM(t,e,r):TM(t,e,r),oE=(t,e,r)=>r>32?DM(t,e,r):OM(t,e,r);function dV(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,f=(s+2)%10,c=r[f],u=r[f+1],l=sE(c,u,1)^r[o],p=oE(c,u,1)^r[o+1];for(let y=0;y<50;y+=10)t[s+y]^=l,t[s+y+1]^=p}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=LM[s],f=sE(i,a,o),c=oE(i,a,o),u=RM[s];i=t[u],a=t[u+1],t[u]=f,t[u+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=uV[n],t[1]^=lV[n]}r.fill(0)}let hV=class PM extends Q2{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hu(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Up(this.state)}keccak(){oo||Sf(this.state32),dV(this.state32,this.rounds),oo||Sf(this.state32),this.posOut=0,this.pos=0}update(e){uc(this);const{blockLen:r,state:n}=this;e=Ro(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){uc(this,!1),z1(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(S5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new PM(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const pV=(t,e,r)=>I5(()=>new hV(e,t,r)),bV=pV(1,136,256/8);class gV{constructor(){this.hasher=bV.create()}update(e){return this.hasher.update(Te(e)),this}digest(){return me(this.hasher.digest())}}function my(t,e){throw new Error(`Invalid data length! Required: ${e}, actual: ${t}`)}function ls(t,e){t!==e&&my(t,e)}function Rn(t){if(t instanceof Object&&t.toArrayBuffer instanceof Function&&(t=t.toArrayBuffer()),t instanceof Uint8Array)return t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset);if(!(t instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return t}function C5(t,e,r){t.byteLength<4&&my(t.byteLength,">4");const n=t.getUint32(0,!0);if(ls(t.byteLength,n),n===4)return[n];n<8&&my(t.byteLength,">8");const i=t.getUint32(4,!0);if(i%4!==0||i<8)throw new Error(`Invalid first offset: ${i}`);const a=i/4-1;if(a<e)throw new Error(`Item count not enough! Required: ${e}, actual: ${a}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const s=[];for(let o=0;o<a;o++){const f=4+o*4;s.push(t.getUint32(f,!0))}s.push(n);for(let o=0;o<s.length-1;o++)if(s[o]>s[o+1])throw new Error(`Offset index ${o}: ${s[o]} is larger than offset index ${o+1}: ${s[o+1]}`);return s}function qu(t){const e=t.length;let r=4*(e+1);const n=[];for(let o=0;o<e;o++)n.push(r),r+=t[o].byteLength;const i=new ArrayBuffer(r),a=new Uint8Array(i),s=new DataView(i);s.setUint32(0,r,!0);for(let o=0;o<e;o++)s.setUint32(4+o*4,n[o],!0),a.set(new Uint8Array(t[o]),n[o]);return i}class wg{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){ls(this.view.byteLength,4)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function NM(t){const e=Rn(t);return ls(e.byteLength,4),e}class yo{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){ls(this.view.byteLength,8)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 8}}function UM(t){const e=Rn(t);return ls(e.byteLength,8),e}class Va{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){ls(this.view.byteLength,32)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 32}}function T5(t){const e=Rn(t);return ls(e.byteLength,32),e}class f6{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){this.view.byteLength<4&&my(this.view.byteLength,">4");const r=this.length()+4;ls(this.view.byteLength,r)}raw(){return this.view.buffer.slice(4)}indexAt(e){return this.view.getUint8(4+e)}length(){return this.view.getUint32(0,!0)}}function O5(t){const e=Rn(t),r=new Uint8Array(4+e.byteLength);return new DataView(r.buffer).setUint32(0,e.byteLength,!0),r.set(new Uint8Array(e),4),r.buffer}class sl{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new f6(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function Q_(t){return t?O5(t):new ArrayBuffer(0)}function kM(t){return qu(t.map(e=>O5(e)))}function yV(t){const e=new Uint8Array(4+Va.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=T5(t[r]);e.set(new Uint8Array(n),4+r*Va.size())}return e.buffer}class fE{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new kp(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function vV(t){return t?B5(t):new ArrayBuffer(0)}function _V(t){const e=new Uint8Array(4+Ay.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=KM(t[r]);e.set(new Uint8Array(n),4+r*Ay.size())}return e.buffer}function mV(t){const e=new Uint8Array(4+wy.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=$M(t[r]);e.set(new Uint8Array(n),4+r*wy.size())}return e.buffer}function wV(t){return qu(t.map(e=>FM(e)))}let kp=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){const r=C5(this.view,0);if(new Va(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),r[2]-r[1]!==1)throw new Error(`Invalid offset for hashType: ${r[1]} - ${r[2]}`);new f6(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCodeHash(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new Va(this.view.buffer.slice(r,n),{validate:!1})}getHashType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(r,n)).getUint8(0)}getArgs(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new f6(this.view.buffer.slice(r,n),{validate:!1})}};function B5(t){const e=[];e.push(T5(t.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,t.hashType),e.push(r.buffer),e.push(O5(t.args)),qu(e)}let ga=class zM{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}getTxHash(){return new Va(this.view.buffer.slice(0,0+Va.size()),{validate:!1})}getIndex(){return new wg(this.view.buffer.slice(0+Va.size(),0+Va.size()+wg.size()),{validate:!1})}validate(e=!1){ls(this.view.byteLength,zM.size()),this.getTxHash().validate(e),this.getIndex().validate(e)}static size(){return 0+Va.size()+wg.size()}};function D5(t){const e=new Uint8Array(0+Va.size()+wg.size());return new DataView(e.buffer),e.set(new Uint8Array(T5(t.txHash)),0),e.set(new Uint8Array(NM(t.index)),0+Va.size()),e.buffer}let wy=class jM{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}getSince(){return new yo(this.view.buffer.slice(0,0+yo.size()),{validate:!1})}getPreviousOutput(){return new ga(this.view.buffer.slice(0+yo.size(),0+yo.size()+ga.size()),{validate:!1})}validate(e=!1){ls(this.view.byteLength,jM.size()),this.getSince().validate(e),this.getPreviousOutput().validate(e)}static size(){return 0+yo.size()+ga.size()}};function $M(t){const e=new Uint8Array(0+yo.size()+ga.size());return new DataView(e.buffer),e.set(new Uint8Array(UM(t.since)),0),e.set(new Uint8Array(D5(t.previousOutput)),0+yo.size()),e.buffer}let cE=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){const r=C5(this.view,0);new yo(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new kp(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new fE(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCapacity(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new yo(this.view.buffer.slice(r,n),{validate:!1})}getLock(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new kp(this.view.buffer.slice(r,n),{validate:!1})}getType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new fE(this.view.buffer.slice(r,n),{validate:!1})}};function FM(t){const e=[];return e.push(UM(t.capacity)),e.push(B5(t.lock)),e.push(vV(t.type)),qu(e)}let Ay=class qM{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}getOutPoint(){return new ga(this.view.buffer.slice(0,0+ga.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+ga.size())}validate(e=!1){ls(this.view.byteLength,qM.size()),this.getOutPoint().validate(e)}static size(){return 0+ga.size()+1}};function KM(t){const e=new Uint8Array(0+ga.size()+1),r=new DataView(e.buffer);return e.set(new Uint8Array(D5(t.outPoint)),0),r.setUint8(0+ga.size(),t.depType),e.buffer}function QM(t){const e=[];return e.push(NM(t.version)),e.push(_V(t.cellDeps)),e.push(yV(t.headerDeps)),e.push(mV(t.inputs)),e.push(wV(t.outputs)),e.push(kM(t.outputsData)),qu(e)}function AV(t){const e=[];return e.push(QM(t.raw)),e.push(kM(t.witnesses)),qu(e)}let uE=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){const r=C5(this.view,0);new sl(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new sl(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new sl(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getLock(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new sl(this.view.buffer.slice(r,n),{validate:!1})}getInputType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new sl(this.view.buffer.slice(r,n),{validate:!1})}getOutputType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new sl(this.view.buffer.slice(r,n),{validate:!1})}};function EV(t){const e=[];return e.push(Q_(t.lock)),e.push(Q_(t.inputType)),e.push(Q_(t.outputType)),qu(e)}function Ag(t){if(t.hasValue())return t.value()}const YM={type:1,data:0,data1:2,data2:4},c6={1:"type",0:"data",2:"data1",4:"data2"},xV=Object.keys(YM);function V2(t){const e=(()=>{if(typeof t=="number")return c6[t];if(typeof t=="bigint")return c6[Number(t)];if(xV.includes(t))return t})();if(e===void 0)throw new Error(`Invalid hash type ${t}`);return e}function VM(t){return Te([YM[V2(t)]])}function GM(t){return c6[Te(t)[0]]}class at{constructor(e,r,n){this.codeHash=e,this.hashType=r,this.args=n}get occupiedSize(){return 33+Te(this.args).length}clone(){return new at(this.codeHash,this.hashType,this.args)}static from(e){return e instanceof at?e:new at(me(e.codeHash),V2(e.hashType),me(e.args))}static async fromKnownScript(e,r,n){const i=await e.getKnownScript(r);return new at(i.codeHash,i.hashType,me(n))}_toMolData(){return{codeHash:Te(this.codeHash),hashType:VM(this.hashType),args:Te(this.args)}}toBytes(){return Te(B5(this._toMolData()))}hash(){return j1(this.toBytes())}static fromBytes(e){const r=e instanceof kp?e:new kp(Te(e));return new at(me(r.getCodeHash().raw()),GM([r.getHashType()]),me(r.getArgs().raw()))}eq(e){const r=at.from(e);return this.codeHash===r.codeHash&&this.args===r.args&&this.hashType===r.hashType}}function SV(t,e=8){const r=ip(t).toString();if(e===0)return r;const n=r.length<=e?"0":r.slice(0,-e),i=r.slice(-e).padStart(e,"0").replace(/0*$/,"");return i===""?n:`${n}.${i}`}function ip(t,e=8){if(typeof t=="bigint")return t;const[r,n]=(typeof t=="number"?t.toFixed(e):t.toString()).split("."),i=BigInt(r.padEnd(r.length+e,"0"));return n===void 0?i:i+BigInt(n.slice(0,e).padEnd(e,"0"))}const ka=0n;ip("1");function Pe(t,e){if(e!=null)return t(e)}async function Md(t,e,r){if(r===void 0){if(t.length===0)throw new TypeError("Reduce of empty array with no initial value");r=t[0],t=t.slice(1)}return t.reduce((n,i,a,s)=>n.then(o=>Promise.resolve(e(o,i,a,s)).then(f=>f??o)),Promise.resolve(r))}function IV(t){return new Promise(e=>setTimeout(e,Number(Ie(t))))}function CV(t){return/webview|wv|ip((?!.*Safari)|(?=.*like Safari))/i.test(t)}const TV={code:0,depGroup:1},u6={0:"code",1:"depGroup"};function M5(t){const e=typeof t=="number"?u6[t]:typeof t=="bigint"?u6[Number(t)]:t;if(e===void 0)throw new Error(`Invalid dep type ${t}`);return e}function OV(t){return Te([TV[M5(t)]])}function BV(t){return u6[Te(t)[0]]}class Er{constructor(e,r){this.txHash=e,this.index=r}clone(){return new Er(this.txHash,this.index)}static from(e){return e instanceof Er?e:new Er(me(e.txHash),Ie(e.index))}_toMolData(){return{txHash:Te(this.txHash),index:mn(this.index,4)}}toBytes(){return Te(D5(this._toMolData()))}static fromBytes(e){const r=e instanceof ga?e:new ga(Te(e));return new Er(me(r.getTxHash().raw()),Y2(r.getIndex().raw()))}eq(e){const r=Er.from(e);return this.txHash===r.txHash&&this.index===r.index}}class Xa{constructor(e,r,n){this.capacity=e,this.lock=r,this.type=n}get occupiedSize(){var e;return 8+this.lock.occupiedSize+(((e=this.type)==null?void 0:e.occupiedSize)??0)}clone(){var e;return new Xa(this.capacity,this.lock.clone(),(e=this.type)==null?void 0:e.clone())}static from(e){return e instanceof Xa?e:new Xa(Ie(e.capacity),at.from(e.lock),Pe(at.from,e.type))}_toMolData(){var e;return{capacity:mn(this.capacity,8),lock:this.lock._toMolData(),type:(e=this.type)==null?void 0:e._toMolData()}}toBytes(){return Te(FM(this._toMolData()))}static fromBytes(e){const r=e instanceof cE?e:new cE(Te(e));return new Xa(Y2(r.getCapacity().raw()),at.fromBytes(r.getLock()),Pe(at.fromBytes,Ag(r.getType())))}}class ns{constructor(e,r,n){this.outPoint=e,this.cellOutput=r,this.outputData=n}static from(e){return e instanceof ns?e:new ns(Er.from(e.outPoint),Xa.from(e.cellOutput),me(e.outputData))}clone(){return new ns(this.outPoint.clone(),this.cellOutput.clone(),this.outputData)}}function DV(t){const e=Te(me(t));return[Ie(e.slice(4,7)),Ie(e.slice(2,4)),Ie(e.slice(0,2))]}class kc{constructor(e,r,n){this.relative=e,this.metric=r,this.value=n}clone(){return new kc(this.relative,this.metric,this.value)}static from(e){return e instanceof kc?e:typeof e=="object"&&"relative"in e?new kc(e.relative,e.metric,Ie(e.value)):kc.fromNum(e)}toNum(){return this.value|(this.relative==="absolute"?ka:Ie("0x8000000000000000"))|{blockNumber:Ie("0x0000000000000000"),epoch:Ie("0x2000000000000000"),timestamp:Ie("0x4000000000000000")}[this.metric]}static fromNum(e){const r=Ie(e),n=r>>Ie(63)===ka?"absolute":"relative",i=["blockNumber","epoch","timestamp"][Number(r>>Ie(61)&Ie(3))],a=r&Ie("0x00ffffffffffffff");return new kc(n,i,a)}}class Bs{constructor(e,r,n,i){this.previousOutput=e,this.since=r,this.cellOutput=n,this.outputData=i}clone(){var e;return new Bs(this.previousOutput.clone(),this.since,(e=this.cellOutput)==null?void 0:e.clone(),this.outputData)}static from(e){return e instanceof Bs?e:new Bs(Er.from(e.previousOutput),kc.from(e.since??0).toNum(),Pe(Xa.from,e.cellOutput),Pe(me,e.outputData))}async completeExtraInfos(e){if(this.cellOutput&&this.outputData)return;const r=await e.getCell(this.previousOutput);r&&(this.cellOutput=r.cellOutput,this.outputData=r.outputData)}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:mn(this.since,8)}}toBytes(){return Te($M(this._toMolData()))}static fromBytes(e){const r=e instanceof wy?e:new wy(Te(e));return new Bs(Er.fromBytes(r.getPreviousOutput()),Y2(r.getSince().raw()))}}class Ti{constructor(e,r){this.outPoint=e,this.depType=r}clone(){return new Ti(this.outPoint.clone(),this.depType)}static from(e){return e instanceof Ti?e:new Ti(Er.from(e.outPoint),M5(e.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:OV(this.depType)}}toBytes(){return Te(KM(this._toMolData()))}fromBytes(e){const r=e instanceof Ay?e:new Ay(Te(e));return new Ti(Er.fromBytes(r.getOutPoint()),BV([r.getDepType()]))}eq(e){const r=Ti.from(e);return this.outPoint.eq(r.outPoint)&&this.depType===r.depType}}class is{constructor(e,r,n){this.lock=e,this.inputType=r,this.outputType=n}static from(e){return e instanceof is?e:new is(Pe(me,e.lock),Pe(me,e.inputType),Pe(me,e.outputType))}_toMolData(){return{lock:Pe(Te,this.lock),inputType:Pe(Te,this.inputType),outputType:Pe(Te,this.outputType)}}toBytes(){return Te(EV(this._toMolData()))}static fromBytes(e){var n,i,a;const r=e instanceof uE?e:new uE(Te(e));return new is(Pe(me,(n=Ag(r.getLock()))==null?void 0:n.raw()),Pe(me,(i=Ag(r.getInputType()))==null?void 0:i.raw()),Pe(me,(a=Ag(r.getOutputType()))==null?void 0:a.raw()))}}function Y_(t){const e=Te(t).slice(0,16);if(e.length!==16)throw new Error("Invalid UDT cell data");return Y2(e)}class Nt{constructor(e,r,n,i,a,s,o){this.version=e,this.cellDeps=r,this.headerDeps=n,this.inputs=i,this.outputs=a,this.outputsData=s,this.witnesses=o}static default(){return new Nt(0n,[],[],[],[],[],[])}copy(e){const r=Nt.from(e);this.version=r.version,this.cellDeps=r.cellDeps,this.headerDeps=r.headerDeps,this.inputs=r.inputs,this.outputs=r.outputs,this.outputsData=r.outputsData,this.witnesses=r.witnesses}clone(){return new Nt(0n,this.cellDeps.map(e=>e.clone()),[...this.headerDeps],this.inputs.map(e=>e.clone()),this.outputs.map(e=>e.clone()),[...this.outputsData],[...this.witnesses])}static from(e){var i,a,s,o,f;if(e instanceof Nt)return e;const r=((i=e.outputs)==null?void 0:i.map((c,u)=>{var p,y;const l=Xa.from({...c,capacity:c.capacity??0});return l.capacity===ka&&(l.capacity=ip(l.occupiedSize+(((y=Pe(Te,(p=e.outputsData)==null?void 0:p[u]))==null?void 0:y.length)??0))),l}))??[],n=r.map((c,u)=>{var l;return me(((l=e.outputsData)==null?void 0:l[u])??"0x")});return e.outputsData!=null&&n.length<e.outputsData.length&&n.push(...e.outputsData.slice(n.length).map(c=>me(c))),new Nt(Ie(e.version??0),((a=e.cellDeps)==null?void 0:a.map(c=>Ti.from(c)))??[],((s=e.headerDeps)==null?void 0:s.map(me))??[],((o=e.inputs)==null?void 0:o.map(c=>Bs.from(c)))??[],r,n,((f=e.witnesses)==null?void 0:f.map(me))??[])}static fromLumosSkeleton(e){return Nt.from({version:0n,cellDeps:e.cellDeps.toArray(),headerDeps:e.headerDeps.toArray(),inputs:e.inputs.toArray().map((r,n)=>{if(!r.outPoint)throw new Error("outPoint is required in input");return Bs.from({previousOutput:r.outPoint,since:e.inputSinces.get(n,"0x0"),cellOutput:r.cellOutput,outputData:r.data})}),outputs:e.outputs.toArray().map(r=>r.cellOutput),outputsData:e.outputs.toArray().map(r=>r.data),witnesses:e.witnesses.toArray()})}stringify(){return JSON.stringify(this,(e,r)=>typeof r=="bigint"?Qa(r):r)}rawToBytes(){return Te(QM({version:mn(this.version,4),cellDeps:this.cellDeps.map(e=>e._toMolData()),headerDeps:this.headerDeps.map(e=>Te(e)),inputs:this.inputs.map(e=>e._toMolData()),outputs:this.outputs.map(e=>e._toMolData()),outputsData:this.outputsData.map(e=>Te(e))}))}toBytes(){return Te(AV({raw:{version:mn(this.version,4),cellDeps:this.cellDeps.map(e=>e._toMolData()),headerDeps:this.headerDeps.map(e=>Te(e)),inputs:this.inputs.map(e=>e._toMolData()),outputs:this.outputs.map(e=>e._toMolData()),outputsData:this.outputsData.map(e=>Te(e))},witnesses:this.witnesses.map(e=>Te(e))}))}hash(){return j1(this.rawToBytes())}static hashWitnessToHasher(e,r){const n=Te(me(e));r.update(mn(n.length,8)),r.update(n)}async getSignHashInfo(e,r,n=new MM){const i=at.from(e);let a=-1;n.update(this.hash());for(let s=0;s<this.witnesses.length;s+=1){const o=this.inputs[s];if(o){if(await o.completeExtraInfos(r),!o.cellOutput)throw new Error("Unable to complete input");if(!i.eq(o.cellOutput.lock))continue;a===-1&&(a=s)}if(a===-1)return;Nt.hashWitnessToHasher(this.witnesses[s],n)}if(a!==-1)return{message:n.digest(),position:a}}async findInputIndexByLockId(e,r){const n=at.from({...e,args:"0x"});for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.codeHash===a.cellOutput.lock.codeHash&&n.hashType===a.cellOutput.lock.hashType)return i}}async findInputIndexByLock(e,r){const n=at.from(e);for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}async findLastInputIndexByLock(e,r){const n=at.from(e);for(let i=this.inputs.length-1;i>=0;i-=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}addCellDeps(...e){e.flat().forEach(r=>{const n=Ti.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.push(n)})}addCellDepsAtStart(...e){e.flat().forEach(r=>{const n=Ti.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.unshift(n)})}async addCellDepInfos(e,...r){this.addCellDeps(await e.getCellDeps(...r))}async addCellDepsOfKnownScripts(e,...r){await Promise.all(r.flat().map(async n=>this.addCellDepInfos(e,(await e.getKnownScript(n)).cellDeps)))}setOutputDataAt(e,r){this.outputsData.length<e&&this.outputsData.push(...Array.from(new Array(e-this.outputsData.length),()=>"0x")),this.outputsData[e]=me(r)}addOutput(e,r="0x"){const n=Xa.from({...e,capacity:e.capacity??0});n.capacity===ka&&(n.capacity=ip(n.occupiedSize+Te(r).length));const i=this.outputs.push(n)-1;this.setOutputDataAt(i,r)}getWitnessArgsAt(e){const r=this.witnesses[e];return(r??"0x")!=="0x"?is.fromBytes(r):void 0}setWitnessArgsAt(e,r){this.witnesses.length<e&&this.witnesses.push(...Array.from(new Array(e-this.witnesses.length),()=>"0x")),this.witnesses[e]=me(r.toBytes())}async prepareSighashAllWitness(e,r,n){const i=await this.findInputIndexByLock(e,n);if(i===void 0)return;const a=this.getWitnessArgsAt(i)??is.from({});a.lock=me(Array.from(new Array(r),()=>0)),this.setWitnessArgsAt(i,a)}async getInputsCapacity(e){return Md(this.inputs,async(r,n)=>{if(await n.completeExtraInfos(e),!n.cellOutput)throw new Error("Unable to complete input");return r+n.cellOutput.capacity},Ie(0))}getOutputsCapacity(){return this.outputs.reduce((e,{capacity:r})=>e+r,Ie(0))}async getInputsUdtBalance(e,r){return Md(this.inputs,async(n,i)=>{var a;if(await i.completeExtraInfos(e),!i.cellOutput||!i.outputData)throw new Error("Unable to complete input");if((a=i.cellOutput.type)!=null&&a.eq(r))return n+Y_(i.outputData)},Ie(0))}getOutputsUdtBalance(e){return this.outputs.reduce((r,n,i)=>{var a;return(a=n.type)!=null&&a.eq(e)?r+Y_(this.outputsData[i]):r},Ie(0))}async completeInputs(e,r,n,i){const a=[];let s=i,o=!1;for await(const f of e.findCells(r,!0)){if(this.inputs.some(({previousOutput:l})=>l.eq(f.outPoint)))continue;const c=a.push(f),u=await Promise.resolve(n(s,f,c-1,a));if(u===void 0){o=!0;break}s=u}return this.inputs.push(...a.map(({outPoint:f,outputData:c,cellOutput:u})=>Bs.from({previousOutput:f,outputData:c,cellOutput:u}))),o?{addedCount:a.length}:{addedCount:a.length,accumulated:s}}async completeInputsByCapacity(e,r,n){const i=this.getOutputsCapacity()+Ie(r??0),a=await this.getInputsCapacity(e.client);if(a>=i)return 0;const{addedCount:s,accumulated:o}=await this.completeInputs(e,n??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(f,{cellOutput:{capacity:c}})=>{const u=f+c;return u>=i?void 0:u},a);if(o===void 0)return s;throw new Error(`Insufficient CKB, need ${SV(i-o)} extra CKB`)}async completeInputsAll(e,r){const{addedCount:n}=await this.completeInputs(e,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(i,{cellOutput:{capacity:a}})=>i+a,ka);return n}async completeInputsByUdt(e,r){const n=this.getOutputsUdtBalance(r),i=await this.getInputsUdtBalance(e.client,r);if(i>=n)return 0;const{addedCount:a,accumulated:s}=await this.completeInputs(e,{script:r,outputDataLenRange:[16,Ie("0xffffffff")]},(o,{outputData:f})=>{const c=Y_(f),u=o+c;return u>=n?void 0:u},i);if(s===void 0)return a;throw new Error(`Insufficient coin, need ${n-s} extra coin`)}estimateFee(e){const r=this.toBytes().length+4;return(Ie(r)*Ie(e)+Ie(1e3))/Ie(1e3)}async completeFee(e,r,n,i){const a=n??await e.client.getFeeRate();await this.getInputsCapacity(e.client);let s=ka,o=ka;for(;;){const f=this.clone(),c=await(async()=>{try{return await f.completeInputsByCapacity(e,s+o,i)}catch(y){throw o!==ka?new Error("Not enough capacity for the change cell"):y}})();await e.prepareTransaction(f),s===ka&&(s=f.estimateFee(a));const u=await f.getInputsCapacity(e.client)-f.getOutputsCapacity();if(u===s)return this.copy(f),[c,!1];const l=Ie(await Promise.resolve(r(f,u-s)));if(l>ka){o=l;continue}if(await f.getInputsCapacity(e.client)-f.getOutputsCapacity()!==s)throw new Error("The change function doesn't use all available capacity");await e.prepareTransaction(f);const p=f.estimateFee(a);if(s>p)throw new Error("The change function removed existed transaction data");if(s===p)return this.copy(f),[c,!0];s=p}}completeFeeChangeToLock(e,r,n,i){const a=at.from(r);return this.completeFee(e,(s,o)=>{const f=Xa.from({capacity:0,lock:a}),c=ip(f.occupiedSize);return o<c?c:(f.capacity=o,s.addOutput(f),0)},n,i)}async completeFeeBy(e,r,n){const{script:i}=await e.getRecommendedAddressObj();return this.completeFeeChangeToLock(e,i,r,n)}completeFeeChangeToOutput(e,r,n,i){const a=Number(Ie(r));if(!this.outputs[a])throw new Error("Non-existed output to change");return this.completeFee(e,(s,o)=>(s.outputs[a].capacity+=o,0),n,i)}}class MV{async markTransactions(...e){await Promise.all([this.recordTransactions(...e),...e.flat().map(r=>{const n=Nt.from(r),i=n.hash();return Promise.all([...n.inputs.map(a=>this.markUnusable(a.previousOutput)),...n.outputs.map((a,s)=>this.markUsable({cellOutput:a,outputData:n.outputsData[s],outPoint:{txHash:i,index:s}}))])})])}async recordTransactions(...e){}async getTransaction(e){}async recordCells(...e){}}function Bh([t,e]){return[Ie(t),Ie(e)]}var De;(function(t){t.NervosDao="NervosDao",t.Secp256k1Blake160="Secp256k1Blake160",t.Secp256k1Multisig="Secp256k1Multisig",t.AnyoneCanPay="AnyoneCanPay",t.TypeId="TypeId",t.XUdt="XUdt",t.JoyId="JoyId",t.COTA="COTA",t.PWLock="PWLock",t.OmniLock="OmniLock",t.NostrLock="NostrLock",t.UniqueType="UniqueType",t.AlwaysSuccess="AlwaysSuccess",t.InputTypeProxyLock="InputTypeProxyLock",t.OutputTypeProxyLock="OutputTypeProxyLock",t.LockProxyLock="LockProxyLock",t.SingleUseLock="SingleUseLock",t.TypeBurnLock="TypeBurnLock",t.EasyToDiscoverType="EasyToDiscoverType",t.TimeLock="TimeLock"})(De||(De={}));class G2{constructor(e,r){this.cellDep=e,this.type=r}static from(e){return new G2(Ti.from(e.cellDep),Pe(at.from,e.type))}}class W2{constructor(e,r,n){this.codeHash=e,this.hashType=r,this.cellDeps=n}static from(e){return new W2(me(e.codeHash),V2(e.hashType),e.cellDeps.map(r=>G2.from(r)))}}class X2{constructor(e,r,n,i,a,s,o){this.script=e,this.scriptLenRange=r,this.outputData=n,this.outputDataSearchMode=i,this.outputDataLenRange=a,this.outputCapacityRange=s,this.blockRange=o}static from(e){return new X2(Pe(at.from,e.script),Pe(Bh,e.scriptLenRange),Pe(me,e.outputData),e.outputDataSearchMode??void 0,Pe(Bh,e.outputDataLenRange),Pe(Bh,e.outputCapacityRange),Pe(Bh,e.blockRange))}}class $1{constructor(e,r,n,i,a){this.script=e,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.withData=a}static from(e){return new $1(at.from(e.script),e.scriptType,e.scriptSearchMode,Pe(X2.from,e.filter),e.withData??void 0)}}class R5{constructor(e,r,n,i,a){this.script=e,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.groupByTransaction=a}static from(e){return new R5(at.from(e.script),e.scriptType,e.scriptSearchMode,Pe(X2.from,e.filter),e.groupByTransaction??void 0)}}class F1 extends Error{constructor(e){super(`Client request error ${e.message}`),this.code=e.code,this.data=e.data}}class RV extends F1{constructor(e,r){super(e),this.outPoint=Er.from(r)}}class LV extends F1{constructor(e,r,n,i,a,s){super(e),this.source=r,this.errorCode=i,this.scriptHashType=a,this.sourceIndex=Ie(n),this.scriptCodeHash=me(s)}}class HV extends F1{constructor(e,r){super(e),this.txHash=me(r)}}class PV extends F1{constructor(e,r,n){super(e),this.currentFee=Ie(r),this.leastFee=Ie(n)}}class NV extends Error{constructor(){super("Wait transaction timeout")}}function WM(t,e,r){if(!e)return!0;const n=me(t),i=me(e);return!(r==="exact"&&n!==i||r==="prefix"&&!n.startsWith(i)||r==="partial"&&n.search(i)===-1)}function Vb(t,e,r){if(!e)return!0;if(!t)return!1;const n=at.from(t),i=at.from(e);return n.codeHash!==i.codeHash||n.hashType!==i.hashType?!1:WM(n.args,i==null?void 0:i.args,r)}function l6(t,e){if(!e)return!0;const r=Ie(t),[n,i]=Bh(e);return n<=r&&r<i}function lE(t,e){if(!e)return!0;const r=t?Te(at.from(t).args).length+33:0;return l6(r,e)}function UV(t,e){var i,a,s,o,f,c,u,l;const r=$1.from(t),n=ns.from(e);return!(r.scriptType==="lock"&&(!Vb(n.cellOutput.lock,r.script,r.scriptSearchMode)||!Vb(n.cellOutput.type,(i=r.filter)==null?void 0:i.script,"prefix")||!lE(n.cellOutput.type,(a=r.filter)==null?void 0:a.scriptLenRange))||r.scriptType==="type"&&(!Vb(n.cellOutput.type,r.script,r.scriptSearchMode)||!Vb(n.cellOutput.lock,(s=r.filter)==null?void 0:s.script,"prefix")||!lE(n.cellOutput.lock,(o=r.filter)==null?void 0:o.scriptLenRange))||!WM(n.outputData,(f=r.filter)==null?void 0:f.outputData,((c=r.filter)==null?void 0:c.outputDataSearchMode)??"prefix")||!l6(Te(n.outputData).length,(u=r.filter)==null?void 0:u.outputDataLenRange)||!l6(n.cellOutput.capacity,(l=r.filter)==null?void 0:l.outputCapacityRange))}class kV extends MV{constructor(){super(...arguments),this.cells=new Map,this.knownTransactions=new Map}async markUsable(...e){e.flat().forEach(r=>{const n=ns.from(r).clone(),i=me(n.outPoint.toBytes());this.cells.set(i,[!0,n])})}async markUnusable(...e){e.flat().forEach(r=>{const n=Er.from(r),i=me(n.toBytes()),a=this.cells.get(i);if(a){a[0]=!1;return}this.cells.set(i,[!1,{outPoint:n}])})}async clear(){for(const e of this.cells.values())e[0]=void 0}async*findCells(e){for(const[r,n]of this.cells.values())r&&UV(e,n)&&(yield n.clone())}async getCell(e){var i;const r=Er.from(e),n=(i=this.cells.get(me(r.toBytes())))==null?void 0:i[1];if(n&&n.cellOutput&&n.outputData)return ns.from(n.clone())}async isUnusable(e){var n;const r=Er.from(e);return!(((n=this.cells.get(me(r.toBytes())))==null?void 0:n[0])??!0)}async recordTransactions(...e){e.flat().map(r=>{const n=Nt.from(r);this.knownTransactions.set(n.hash(),n)})}async getTransaction(e){var n;const r=me(e);return(n=this.knownTransactions.get(r))==null?void 0:n.clone()}async recordCells(...e){e.flat().map(r=>{const n=ns.from(r),i=me(n.outPoint.toBytes());this.cells.get(i)||this.cells.set(i,[void 0,n])})}}class zV{constructor(e){this.cache=(e==null?void 0:e.cache)??new kV}async getFeeRate(e){return eV((await this.getFeeRateStatistics(e)).median,1e3)}async getCell(e){const r=Er.from(e),n=await this.cache.getCell(r);if(n)return n;const i=await this.getTransactionNoCache(r.txHash);if(!i)return;const a=Number(Ie(r.index));if(a>=i.transaction.outputs.length)return;const s=ns.from({outPoint:r,cellOutput:i.transaction.outputs[a],outputData:i.transaction.outputsData[a]??"0x"});return await this.cache.recordCells(s),s}async getCellLive(e,r,n){const i=await this.getCellLiveNoCache(e,r,n);return r&&i&&await this.cache.recordCells(i),i}async findCellsPaged(e,r,n,i){const a=await this.findCellsPagedNoCache(e,r,n,i);return await this.cache.recordCells(a.cells),a}async*findCellsOnChain(e,r,n=10){let i;for(;;){const{cells:a,lastCursor:s}=await this.findCellsPaged(e,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}async*findCells(e,r,n=10){const i=$1.from(e),a=[];for await(const s of this.cache.findCells(i))a.push(s.outPoint),yield s;for await(const s of this.findCellsOnChain(i,r,n))await this.cache.isUnusable(s.outPoint)||a.some(o=>o.eq(s.outPoint))||(yield s)}findCellsByLock(e,r,n=!0,i,a=10){return this.findCells({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},withData:n},i,a)}findCellsByType(e,r=!0,n,i=10){return this.findCells({script:e,scriptType:"type",scriptSearchMode:"exact",withData:r},n,i)}async findSingletonCellByType(e,r=!1){for await(const n of this.findCellsByType(e,r,void 0,1))return n}async getCellDeps(...e){return Promise.all(e.flat().map(async r=>{const{cellDep:n,type:i}=G2.from(r);if(i===void 0)return n;const a=await this.findSingletonCellByType(i);return a?Ti.from({outPoint:a.outPoint,depType:n.depType}):n}))}async*findTransactions(e,r,n=10){let i;for(;;){const{transactions:a,lastCursor:s}=await this.findTransactionsPaged(e,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}findTransactionsByLock(e,r,n,i,a=10){return this.findTransactions({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},groupByTransaction:n},i,a)}findTransactionsByType(e,r,n,i=10){return this.findTransactions({script:e,scriptType:"type",scriptSearchMode:"exact",groupByTransaction:r},n,i)}async getBalanceSingle(e){return this.getCellsCapacity({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{scriptLenRange:[0,1],outputDataLenRange:[0,1]}})}async getBalance(e){return Md(e,async(r,n)=>r+await this.getBalanceSingle(n),ka)}async sendTransaction(e,r){const n=Nt.from(e),i=await this.sendTransactionNoCache(n,r);return await this.cache.recordTransactions(n),await this.cache.markTransactions(n),i}async getTransaction(e){const r=me(e),n=await this.getTransactionNoCache(r);if(n!=null&&n.transaction)return n;const i=await this.cache.getTransaction(r);if(i)return n?{...n,transaction:i}:{transaction:i,status:"sent"}}async waitTransaction(e,r=0,n=3e4,i=2e3){const a=Date.now();let s;const o=async()=>{const f=await this.getTransaction(e);if(!(!f||f.blockNumber==null||["sent","pending","proposed"].includes(f.status)))return s=f,f};for(;;){if(s){if(r===0)return s;if((await this.getTipHeader()).number-s.blockNumber>=r)return s}else if(await o())continue;if(Date.now()-a+i>=n)throw new NV;await IV(i)}}}var hl=null;typeof WebSocket<"u"?hl=WebSocket:typeof MozWebSocket<"u"?hl=MozWebSocket:typeof global<"u"?hl=global.WebSocket||global.MozWebSocket:typeof window<"u"?hl=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(hl=self.WebSocket||self.MozWebSocket);const L5=hl,jV=Object.freeze({[De.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:2},depType:"code"}}]},[De.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[De.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[De.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[De.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[De.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[De.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf05188e5f3a6767fc4687faf45ba5f1a6e25d3ada6129dae8722cb282f262493",index:0},depType:"depGroup"}}]},[De.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[De.PWLock]:{codeHash:"0xbf43c3602455798c1a61a596e0d95278864c552fafe231c063b3fabf97a8febc",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x1d60cb8f4666e039f418ea94730b1a8c5aa0bf2f7781474406387462924d15d4",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x42ade2f25eb938b5dbfd3d8f07b8b07aa593d848e7ff14bdfbbea5aeb6175261"}}]},[De.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[De.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[De.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[De.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:0},depType:"code"}}]},[De.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:1},depType:"code"}}]},[De.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]},[De.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:3},depType:"code"}}]},[De.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[De.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:5},depType:"code"}}]},[De.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:0},depType:"code"}}]},[De.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:1},depType:"code"}}]}});class $V{constructor(e,r=3e4){this.url=e,this.timeout=r}async request(e){const r=new AbortController,n=setTimeout(()=>r.abort(),this.timeout),i=await(await fetch(this.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:r.signal})).json();return clearTimeout(n),i}}class FV{constructor(e,r=3e4){this.url=e,this.timeout=r,this.ongoing=new Map}request(e){const r=(()=>{if(this.socket&&this.socket.readyState!==this.socket.CLOSING&&this.socket.readyState!==this.socket.CLOSED&&this.openSocket)return this.openSocket;const n=new L5(this.url),i=({data:s})=>{const o=JSON.parse(s);if(typeof o!="object"||o===null||typeof o.id!="number")throw new Error(`Unknown response ${s}`);const f=o.id,c=this.ongoing.get(f);if(!c)return;const[u,l,p]=c;clearTimeout(p),this.ongoing.delete(f),u(o)},a=()=>{this.ongoing.forEach(([s,o,f])=>{clearTimeout(f),o(new Error("Connection closed"))}),this.ongoing.clear()};return n.onclose=a,n.onerror=a,n.onmessage=i,this.socket=n,this.openSocket=new Promise(s=>{n.readyState===n.OPEN?s(n):n.onopen=()=>{s(n)}}),this.openSocket})();return new Promise((n,i)=>{const a=[n,i,setTimeout(()=>{this.ongoing.delete(e.id),r.then(s=>s.close()),i(new Error("Request timeout"))},this.timeout)];this.ongoing.set(e.id,a),r.then(s=>{s.readyState===s.CLOSED||s.readyState===s.CLOSING?(clearTimeout(a[2]),this.ongoing.delete(e.id),i(new Error("Connection closed"))):s.send(JSON.stringify(e))})})}}function qV(t,e){return t.startsWith("wss://")?new FV(t,e==null?void 0:e.timeout):new $V(t,e==null?void 0:e.timeout)}class Me{static hashTypeFrom(e){return V2(e)}static hashTypeTo(e){return e}static depTypeFrom(e){switch(M5(e)){case"code":return"code";case"depGroup":return"dep_group"}}static depTypeTo(e){switch(e){case"code":return"code";case"dep_group":return"depGroup"}}static scriptFrom(e){const r=at.from(e);return{code_hash:r.codeHash,hash_type:Me.hashTypeFrom(r.hashType),args:r.args}}static scriptTo(e){return at.from({codeHash:e.code_hash,hashType:Me.hashTypeTo(e.hash_type),args:e.args})}static outPointFrom(e){const r=Er.from(e);return{index:Qa(r.index),tx_hash:r.txHash}}static outPointTo(e){return Er.from({index:e.index,txHash:e.tx_hash})}static cellInputFrom(e){const r=Bs.from(e);return{previous_output:Me.outPointFrom(r.previousOutput),since:Qa(r.since)}}static cellInputTo(e){return Bs.from({previousOutput:Me.outPointTo(e.previous_output),since:e.since})}static cellOutputFrom(e){return{capacity:Qa(e.capacity),lock:Me.scriptFrom(e.lock),type:Pe(Me.scriptFrom,e.type)}}static cellOutputTo(e){return Xa.from({capacity:e.capacity,lock:Me.scriptTo(e.lock),type:Pe(Me.scriptTo,e.type)})}static cellDepFrom(e){return{out_point:Me.outPointFrom(e.outPoint),dep_type:Me.depTypeFrom(e.depType)}}static cellDepTo(e){return Ti.from({outPoint:Me.outPointTo(e.out_point),depType:Me.depTypeTo(e.dep_type)})}static transactionFrom(e){const r=Nt.from(e);return{version:Qa(r.version),cell_deps:r.cellDeps.map(n=>Me.cellDepFrom(n)),header_deps:r.headerDeps,inputs:r.inputs.map(n=>Me.cellInputFrom(n)),outputs:r.outputs.map(n=>Me.cellOutputFrom(n)),outputs_data:r.outputsData,witnesses:r.witnesses}}static transactionTo(e){return Nt.from({version:e.version,cellDeps:e.cell_deps.map(r=>Me.cellDepTo(r)),headerDeps:e.header_deps,inputs:e.inputs.map(r=>Me.cellInputTo(r)),outputs:e.outputs.map(r=>Me.cellOutputTo(r)),outputsData:e.outputs_data,witnesses:e.witnesses})}static transactionResponseTo({cycles:e,tx_status:{status:r,block_number:n,block_hash:i,tx_index:a,reason:s},transaction:o}){if(o!=null)return{transaction:Me.transactionTo(o),status:r,cycles:Pe(Ie,e),blockHash:Pe(me,i),blockNumber:Pe(Ie,n),txIndex:Pe(Ie,a),reason:s}}static blockHeaderTo(e){const r=Te(e.dao);return{compactTarget:Ie(e.compact_target),dao:{c:Oh(r.slice(0,8)),ar:Oh(r.slice(8,16)),s:Oh(r.slice(16,24)),u:Oh(r.slice(24,32))},epoch:DV(e.epoch),extraHash:e.extra_hash,hash:e.hash,nonce:Ie(e.nonce),number:Ie(e.number),parentHash:e.parent_hash,proposalsHash:e.proposals_hash,timestamp:Ie(e.timestamp),transactionsRoot:e.transactions_root,version:Ie(e.version)}}static blockUncleTo(e){return{header:Me.blockHeaderTo(e.header),proposals:e.proposals}}static blockTo(e){return{header:Me.blockHeaderTo(e.header),proposals:e.proposals,transactions:e.transactions.map(r=>Me.transactionTo(r)),uncles:e.uncles.map(r=>Me.blockUncleTo(r))}}static rangeFrom([e,r]){return[Qa(e),Qa(r)]}static indexerSearchKeyFilterFrom(e){return{script:Pe(Me.scriptFrom,e.script),script_len_range:Pe(Me.rangeFrom,e.scriptLenRange),output_data:e.outputData,output_data_filter_mode:e.outputDataSearchMode,output_data_len_range:Pe(Me.rangeFrom,e.outputDataLenRange),output_capacity_range:Pe(Me.rangeFrom,e.outputCapacityRange),block_range:Pe(Me.rangeFrom,e.blockRange)}}static indexerSearchKeyFrom(e){const r=$1.from(e);return{script:Me.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Pe(Me.indexerSearchKeyFilterFrom,r.filter),with_data:r.withData}}static findCellsResponseTo({last_cursor:e,objects:r}){return{lastCursor:e,cells:r.map(n=>ns.from({outPoint:Me.outPointTo(n.out_point),cellOutput:Me.cellOutputTo(n.output),outputData:n.output_data??"0x"}))}}static indexerSearchKeyTransactionFrom(e){const r=R5.from(e);return{script:Me.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Pe(Me.indexerSearchKeyFilterFrom,r.filter),group_by_transaction:r.groupByTransaction}}static findTransactionsResponseTo({last_cursor:e,objects:r}){return r.length===0?{lastCursor:e,transactions:[]}:"io_index"in r[0]?{lastCursor:e,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Ie(n.block_number),txIndex:Ie(n.tx_index),cellIndex:Ie(n.io_index),isInput:n.io_type==="input"}))}:{lastCursor:e,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Ie(n.block_number),txIndex:Ie(n.tx_index),cells:n.cells.map(([i,a])=>({isInput:i==="input",cellIndex:Ie(a)}))}))}}}function dE(t,e){return e?e(t):t}const KV=[["Resolve\\(Unknown\\(OutPoint\\((0x.*)\\)\\)\\)",(t,e)=>new RV(t,Er.fromBytes(e[1]))],["Verification\\(Error { kind: Script, inner: TransactionScriptError { source: (Inputs|Outputs)\\[([0-9]*)\\].(Lock|Type), cause: ValidationFailure: see error code (-?[0-9])* on page https://nervosnetwork\\.github\\.io/ckb-script-error-codes/by-(type|data)-hash/(.*)\\.html",(t,e)=>new LV(t,e[3]==="Lock"?"lock":e[1]==="Inputs"?"inputType":"outputType",e[2],Number(e[4]),e[5]==="data"?"data":"type",e[6])],["Duplicated\\(Byte32\\((0x.*)\\)\\)",(t,e)=>new HV(t,e[1])],[`RBFRejected\\("Tx's current fee is ([0-9]*), expect it to >= ([0-9]*) to replace old txs"\\)`,(t,e)=>new PV(t,e[1],e[2])]];class XM extends zV{constructor(e,r){super(r),this.url_=e,this.id=0,this.getFeeRateStatistics=this.buildSender("get_fee_rate_statistics",[n=>Pe(Ie,n)],({mean:n,median:i})=>({mean:Ie(n),median:Ie(i)})),this.getTip=this.buildSender("get_tip_block_number",[],Ie),this.getTipHeader=this.buildSender("get_tip_header",[],n=>Pe(Me.blockHeaderTo,n)),this.getBlockByNumber=this.buildSender("get_block_by_number",[n=>Qa(Ie(n))],n=>Pe(Me.blockTo,n)),this.getBlockByHash=this.buildSender("get_block",[me],n=>Pe(Me.blockTo,n)),this.getHeaderByNumber=this.buildSender("get_header_by_number",[n=>Qa(Ie(n))],n=>Pe(Me.blockHeaderTo,n)),this.getHeaderByHash=this.buildSender("get_header",[me],n=>Pe(Me.blockHeaderTo,n)),this.estimateCycles=this.buildSender("estimate_cycles",[Me.transactionFrom],({cycles:n})=>Ie(n)),this.sendTransactionDry=this.buildSender("test_tx_pool_accept",[Me.transactionFrom],({cycles:n})=>Ie(n)),this.sendTransactionNoCache=this.buildSender("send_transaction",[Me.transactionFrom],me),this.getTransactionNoCache=this.buildSender("get_transaction",[me],Me.transactionResponseTo),this.findCellsPagedNoCache=this.buildSender("get_cells",[Me.indexerSearchKeyFrom,n=>n??"asc",n=>Qa(n??10)],Me.findCellsResponseTo),this.findTransactionsPaged=this.buildSender("get_transactions",[Me.indexerSearchKeyTransactionFrom,n=>n??"asc",n=>Qa(n??10)],Me.findTransactionsResponseTo),this.getCellsCapacity=this.buildSender("get_cells_capacity",[Me.indexerSearchKeyFrom],({capacity:n})=>Ie(n)),this.transport=qV(e,r)}get url(){return this.url_}getCellLiveNoCache(e,r,n){return this.buildSender("get_live_cell",[Me.outPointFrom],({cell:i})=>Pe(({output:a,data:s})=>ns.from({cellOutput:Me.cellOutputTo(a),outputData:(s==null?void 0:s.content)??"0x",outPoint:e}),i))(e,r??!0,n)}buildSender(e,r,n){return async(...i)=>{const a=this.buildPayload(e,i.concat(Array.from(new Array(Math.max(r.length-i.length,0)))).map((s,o)=>dE(s,r[o])));try{return dE(await this.send(a),n)}catch(s){if(typeof s!="object"||s===null||!("data"in s)||typeof s.data!="string")throw s;const o=s;for(const[f,c]of KV){const u=o.data.match(f);if(u)throw c(o,u)}throw new F1(o)}}}async send(e){const r=await this.transport.request(e);if(r.id!==e.id)throw new Error(`Id mismatched, got ${r.id}, expected ${e.id}`);if(r.error)throw r.error;return r.result}buildPayload(e,r){return{id:this.id++,method:e,params:r,jsonrpc:"2.0"}}}class QV extends XM{constructor(e){super((e==null?void 0:e.url)??(typeof L5<"u"?"wss://mainnet.ckb.dev/ws":"https://mainnet.ckb.dev/"),e),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??jV}get addressPrefix(){return"ckb"}async getKnownScript(e){const r=this.scripts[e];if(!r)throw new Error(`No script information was found for ${e} on ${this.addressPrefix}`);return W2.from(r)}}const YV=Object.freeze({[De.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:2},depType:"code"}}]},[De.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[De.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[De.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[De.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[De.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[De.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4dcf3f3b09efac8995d6cbee87c5345e812d310094651e0c3d9a730f32dc9263",index:0},depType:"depGroup"}}]},[De.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[De.PWLock]:{codeHash:"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x57a62003daeab9d54aa29b944fc3b451213a5ebdf2e232216a3cfed0dde61b38",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xf6d90bfe3041d0fd7e01c45770241697f5f837974bd6ae1672a7ec0f9f523268"}}]},[De.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[De.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[De.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[De.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:0},depType:"code"}}]},[De.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:1},depType:"code"}}]},[De.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]},[De.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:3},depType:"code"}}]},[De.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[De.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:5},depType:"code"}}]},[De.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:0},depType:"code"}}]},[De.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:1},depType:"code"}}]}});class VV extends XM{constructor(e){super((e==null?void 0:e.url)??(typeof L5<"u"?"wss://testnet.ckb.dev/ws":"https://testnet.ckb.dev/"),e),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??YV}get addressPrefix(){return"ckt"}async getKnownScript(e){const r=this.scripts[e];return W2.from(r)}}function GV(t){try{const{words:e,prefix:r}=Tp.decode(t,d6),[n,...i]=Tp.fromWords(e);if(n===Ga.Full)return{prefix:r,format:Ga.Full,payload:i}}catch{}try{const{prefix:e,words:r}=Au.decode(t,d6),[n,...i]=Au.fromWords(r);if([Ga.FullData,Ga.FullType,Ga.Short].includes(n))return{prefix:e,format:n,payload:i}}catch{}throw Error(`Unknown address format ${t}`)}async function WV(t,e,r,n){if(e===Ga.Full){if(r.length<33)throw new Error(`Invalid full address without enough payload ${me(r)}`);return{script:{codeHash:r.slice(0,32),hashType:GM(r.slice(32,33)),args:r.slice(33)},prefix:t}}if(e===Ga.FullData){if(r.length<32)throw new Error(`Invalid full data address without enough payload ${me(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"data",args:r.slice(32)},prefix:t}}if(e===Ga.FullType){if(r.length<32)throw new Error(`Invalid full type address without enough payload ${me(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"type",args:r.slice(32)},prefix:t}}if(r.length!==21)throw new Error(`Invalid short address without enough payload ${me(r)}`);const i=[De.Secp256k1Blake160,De.Secp256k1Multisig,De.AnyoneCanPay][r[0]];if(i===void 0)throw new Error(`Invalid short address with unknown script ${me(r)}`);return{script:await at.fromKnownScript(n,i,r.slice(1)),prefix:t}}var Ga;(function(t){t[t.Full=0]="Full",t[t.Short=1]="Short",t[t.FullData=2]="FullData",t[t.FullType=4]="FullType"})(Ga||(Ga={}));const d6=1023;class ca{constructor(e,r){this.script=e,this.prefix=r}static from(e){return e instanceof ca?e:new ca(at.from(e.script),e.prefix)}static async fromString(e,r){const{prefix:n,format:i,payload:a}=GV(e),s=r[n]??r;if(!s)throw new Error(`Unknown address prefix ${n}`);const o=s.addressPrefix;if(o!==n)throw new Error(`Unknown address prefix ${n}, expected ${o}`);return ca.from(await WV(n,i,a,s))}static fromScript(e,r){return ca.from({script:e,prefix:r.addressPrefix})}static async fromKnownScript(e,r,n){return ca.from({script:await at.fromKnownScript(e,r,n),prefix:e.addressPrefix})}toString(){const e=k1([Ga.Full],Te(this.script.codeHash),VM(this.script.hashType),Te(this.script.args));return Tp.encode(this.prefix,Tp.toWords(e),d6)}}function XV(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,o,n)}const ZV=(t,e,r)=>t&e^~t&r,JV=(t,e,r)=>t&e^t&r^e&r;class ZM extends Q2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=K_(this.buffer)}update(e){uc(this);const{view:r,buffer:n,blockLen:i}=this;e=Ro(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=K_(e);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){uc(this),S5(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;XV(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=K_(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const eG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),df=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hf=new Uint32Array(64);let tG=class extends ZM{constructor(){super(64,32,8,!1),this.A=df[0]|0,this.B=df[1]|0,this.C=df[2]|0,this.D=df[3]|0,this.E=df[4]|0,this.F=df[5]|0,this.G=df[6]|0,this.H=df[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[e,r,n,i,a,s,o,f]}set(e,r,n,i,a,s,o,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)hf[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const p=hf[l-15],y=hf[l-2],m=gs(p,7)^gs(p,18)^p>>>3,A=gs(y,17)^gs(y,19)^y>>>10;hf[l]=A+hf[l-7]+m+hf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const p=gs(o,6)^gs(o,11)^gs(o,25),y=u+p+ZV(o,f,c)+eG[l]+hf[l]|0,A=(gs(n,2)^gs(n,13)^gs(n,22))+JV(n,i,a)|0;u=c,c=f,f=o,o=s+y|0,s=a,a=i,i=n,n=y+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){hf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const zp=I5(()=>new tG);let JM=class extends Q2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,BY(e);const n=Ro(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return uc(this),this.iHash.update(e),this}digestInto(e){uc(this),z1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const eR=(t,e,r)=>new JM(t,e).update(r).digest();eR.create=(t,e)=>new JM(t,e);const rG=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),tR=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),nG=tR.map(t=>(9*t+5)%16);let H5=[tR],P5=[nG];for(let t=0;t<4;t++)for(let e of[H5,P5])e.push(e[t].map(r=>rG[r]));const rR=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),iG=H5.map((t,e)=>t.map(r=>rR[e][r])),aG=P5.map((t,e)=>t.map(r=>rR[e][r])),sG=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oG=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function hE(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const Gb=new Uint32Array(16);let fG=class extends ZM{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:i,h4:a}=this;return[e,r,n,i,a]}set(e,r,n,i,a){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=a|0}process(e,r){for(let y=0;y<16;y++,r+=4)Gb[y]=e.getUint32(r,!0);let n=this.h0|0,i=n,a=this.h1|0,s=a,o=this.h2|0,f=o,c=this.h3|0,u=c,l=this.h4|0,p=l;for(let y=0;y<5;y++){const m=4-y,A=sG[y],S=oG[y],w=H5[y],C=P5[y],O=iG[y],M=aG[y];for(let U=0;U<16;U++){const K=Qb(n+hE(y,a,o,c)+Gb[w[U]]+A,O[U])+l|0;n=l,l=c,c=Qb(o,10)|0,o=a,a=K}for(let U=0;U<16;U++){const K=Qb(i+hE(m,s,f,u)+Gb[C[U]]+S,M[U])+p|0;i=p,p=u,u=Qb(f,10)|0,f=s,s=K}}this.set(this.h1+o+u|0,this.h2+c+p|0,this.h3+l+i|0,this.h4+n+s|0,this.h0+a+f|0)}roundClean(){Gb.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};const cG=I5(()=>new fG);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N5=BigInt(0),Z2=BigInt(1),uG=BigInt(2);function Iu(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function q1(t){if(!Iu(t))throw new Error("Uint8Array expected")}function Rd(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}const lG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ld(t){q1(t);let e="";for(let r=0;r<t.length;r++)e+=lG[t[r]];return e}function Cl(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function U5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const io={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function pE(t){if(t>=io._0&&t<=io._9)return t-io._0;if(t>=io._A&&t<=io._F)return t-(io._A-10);if(t>=io._a&&t<=io._f)return t-(io._a-10)}function Hd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,a=0;i<r;i++,a+=2){const s=pE(t.charCodeAt(a)),o=pE(t.charCodeAt(a+1));if(s===void 0||o===void 0){const f=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}n[i]=s*16+o}return n}function Lo(t){return U5(Ld(t))}function k5(t){return q1(t),U5(Ld(Uint8Array.from(t).reverse()))}function lc(t,e){return Hd(t.toString(16).padStart(e*2,"0"))}function z5(t,e){return lc(t,e).reverse()}function dG(t){return Hd(Cl(t))}function gn(t,e,r){let n;if(typeof e=="string")try{n=Hd(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(Iu(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Cu(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];q1(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}function hG(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function pG(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}const V_=t=>typeof t=="bigint"&&N5<=t;function Pd(t,e,r){return V_(t)&&V_(e)&&V_(r)&&e<=t&&t<r}function ec(t,e,r,n){if(!Pd(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function nR(t){let e;for(e=0;t>N5;t>>=Z2,e+=1);return e}function bG(t,e){return t>>BigInt(e)&Z2}function gG(t,e,r){return t|(r?Z2:N5)<<BigInt(e)}const j5=t=>(uG<<BigInt(t-1))-Z2,G_=t=>new Uint8Array(t),bE=t=>Uint8Array.from(t);function iR(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=G_(t),i=G_(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),f=(l=G_())=>{i=o(bE([0]),l),n=o(),l.length!==0&&(i=o(bE([1]),l),n=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<e;){n=o();const y=n.slice();p.push(y),l+=n.length}return Cu(...p)};return(l,p)=>{s(),f(l);let y;for(;!(y=p(c()));)f();return s(),y}}const yG={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Iu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function K1(t,e,r={}){const n=(i,a,s)=>{const o=yG[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const f=t[i];if(!(s&&f===void 0)&&!o(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const vG=()=>{throw new Error("not implemented")};function h6(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const a=t(r,...n);return e.set(r,a),a}}const _G=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ec,abool:Rd,abytes:q1,bitGet:bG,bitLen:nR,bitMask:j5,bitSet:gG,bytesToHex:Ld,bytesToNumberBE:Lo,bytesToNumberLE:k5,concatBytes:Cu,createHmacDrbg:iR,ensureBytes:gn,equalBytes:hG,hexToBytes:Hd,hexToNumber:U5,inRange:Pd,isBytes:Iu,memoized:h6,notImplemented:vG,numberToBytesBE:lc,numberToBytesLE:z5,numberToHexUnpadded:Cl,numberToVarBytesBE:dG,utf8ToBytes:pG,validateObject:K1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ur=BigInt(0),dr=BigInt(1),zc=BigInt(2),mG=BigInt(3),p6=BigInt(4),gE=BigInt(5),yE=BigInt(8);BigInt(9);BigInt(16);function Wr(t,e){const r=t%e;return r>=Ur?r:e+r}function wG(t,e,r){if(r<=Ur||e<Ur)throw new Error("Expected power/modulo > 0");if(r===dr)return Ur;let n=dr;for(;e>Ur;)e&dr&&(n=n*t%r),t=t*t%r,e>>=dr;return n}function Gi(t,e,r){let n=t;for(;e-- >Ur;)n*=n,n%=r;return n}function b6(t,e){if(t===Ur||e<=Ur)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Wr(t,e),n=e,i=Ur,a=dr;for(;r!==Ur;){const o=n/r,f=n%r,c=i-a*o;n=r,r=f,i=a,a=c}if(n!==dr)throw new Error("invert: does not exist");return Wr(i,e)}function AG(t){const e=(t-dr)/zc;let r,n,i;for(r=t-dr,n=0;r%zc===Ur;r/=zc,n++);for(i=zc;i<t&&wG(i,e,t)!==t-dr;i++);if(n===1){const s=(t+dr)/p6;return function(f,c){const u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(r+dr)/zc;return function(o,f){if(o.pow(f,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(f,a),p=o.pow(f,r);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let y=1;for(let A=o.sqr(p);y<c&&!o.eql(A,o.ONE);y++)A=o.sqr(A);const m=o.pow(u,dr<<BigInt(c-y-1));u=o.sqr(m),l=o.mul(l,m),p=o.mul(p,u),c=y}return l}}function EG(t){if(t%p6===mG){const e=(t+dr)/p6;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%yE===gE){const e=(t-gE)/yE;return function(n,i){const a=n.mul(i,zc),s=n.pow(a,e),o=n.mul(i,s),f=n.mul(n.mul(o,zc),s),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return AG(t)}const xG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function SG(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=xG.reduce((n,i)=>(n[i]="function",n),e);return K1(t,r)}function IG(t,e,r){if(r<Ur)throw new Error("Expected power > 0");if(r===Ur)return t.ONE;if(r===dr)return e;let n=t.ONE,i=e;for(;r>Ur;)r&dr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=dr;return n}function CG(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function aR(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function sR(t,e,r=!1,n={}){if(t<=Ur)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=aR(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=EG(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:j5(i),ZERO:Ur,ONE:dr,create:f=>Wr(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Ur<=f&&f<t},is0:f=>f===Ur,isOdd:f=>(f&dr)===dr,neg:f=>Wr(-f,t),eql:(f,c)=>f===c,sqr:f=>Wr(f*f,t),add:(f,c)=>Wr(f+c,t),sub:(f,c)=>Wr(f-c,t),mul:(f,c)=>Wr(f*c,t),pow:(f,c)=>IG(o,f,c),div:(f,c)=>Wr(f*b6(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>b6(f,t),sqrt:n.sqrt||(f=>s(o,f)),invertBatch:f=>CG(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?z5(f,a):lc(f,a),fromBytes:f=>{if(f.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${f.length}`);return r?k5(f):Lo(f)}});return Object.freeze(o)}function oR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fR(t){const e=oR(t);return e+Math.ceil(e/2)}function TG(t,e,r=!1){const n=t.length,i=oR(e),a=fR(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?Lo(t):k5(t),o=Wr(s,e-dr)+dr;return r?z5(o,i):lc(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OG=BigInt(0),W_=BigInt(1),X_=new WeakMap,vE=new WeakMap;function BG(t,e){const r=(a,s)=>{const o=s.negate();return a?o:s},n=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},i=a=>{n(a);const s=Math.ceil(e/a)+1,o=2**(a-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(a,s){let o=t.ZERO,f=a;for(;s>OG;)s&W_&&(o=o.add(f)),f=f.double(),s>>=W_;return o},precomputeWindow(a,s){const{windows:o,windowSize:f}=i(s),c=[];let u=a,l=u;for(let p=0;p<o;p++){l=u,c.push(l);for(let y=1;y<f;y++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(a,s,o){const{windows:f,windowSize:c}=i(a);let u=t.ZERO,l=t.BASE;const p=BigInt(2**a-1),y=2**a,m=BigInt(a);for(let A=0;A<f;A++){const S=A*c;let w=Number(o&p);o>>=m,w>c&&(w-=y,o+=W_);const C=S,O=S+Math.abs(w)-1,M=A%2!==0,U=w<0;w===0?l=l.add(r(M,s[C])):u=u.add(r(U,s[O]))}return{p:u,f:l}},wNAFCached(a,s,o){const f=vE.get(a)||1;let c=X_.get(a);return c||(c=this.precomputeWindow(a,f),f!==1&&X_.set(a,o(c))),this.wNAF(f,c,s)},setWindowSize(a,s){n(s),vE.set(a,s),X_.delete(a)}}}function DG(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((u,l)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${l}`)}),r.forEach((u,l)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${l}`)});const i=nR(BigInt(r.length)),a=i>12?i-3:i>4?i-2:i?2:1,s=(1<<a)-1,o=new Array(s+1).fill(t.ZERO),f=Math.floor((e.BITS-1)/a)*a;let c=t.ZERO;for(let u=f;u>=0;u-=a){o.fill(t.ZERO);for(let p=0;p<n.length;p++){const y=n[p],m=Number(y>>BigInt(u)&BigInt(s));o[m]=o[m].add(r[p])}let l=t.ZERO;for(let p=o.length-1,y=t.ZERO;p>0;p--)y=y.add(o[p]),l=l.add(y);if(c=c.add(l),u!==0)for(let p=0;p<a;p++)c=c.double()}return c}function cR(t){return SG(t.Fp),K1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...aR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _E(t){t.lowS!==void 0&&Rd("lowS",t.lowS),t.prehash!==void 0&&Rd("prehash",t.prehash)}function MG(t){const e=cR(t);K1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:RG,hexToBytes:LG}=_G,fo={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:r}=fo;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Cl(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const a=n>127?Cl(i.length/2|128):"";return`${Cl(t)}${a}${i}${e}`},decode(t,e){const{Err:r}=fo;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],a=!!(i&128);let s=0;if(!a)s=i;else{const f=i&127;if(!f)throw new r("tlv.decode(long): indefinite length not supported");if(f>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+f);if(c.length!==f)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(n+=f,s<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=fo;if(t<vo)throw new e("integer: negative integers are not allowed");let r=Cl(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){const{Err:e}=fo;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return RG(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=fo,i=typeof t=="string"?LG(t):t;q1(i);const{v:a,l:s}=n.decode(48,i);if(s.length)throw new e("Invalid signature: left bytes after parsing");const{v:o,l:f}=n.decode(2,a),{v:c,l:u}=n.decode(2,f);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=fo,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}},vo=BigInt(0),Mr=BigInt(1);BigInt(2);const mE=BigInt(3);BigInt(4);function HG(t){const e=MG(t),{Fp:r}=e,n=sR(e.n,e.nBitLength),i=e.toBytes||((A,S,w)=>{const C=S.toAffine();return Cu(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),a=e.fromBytes||(A=>{const S=A.subarray(1),w=r.fromBytes(S.subarray(0,r.BYTES)),C=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:w,y:C}});function s(A){const{a:S,b:w}=e,C=r.sqr(A),O=r.mul(C,A);return r.add(r.add(O,r.mul(A,S)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return Pd(A,Mr,e.n)}function f(A){const{allowedPrivateKeyLengths:S,nByteLength:w,wrapPrivateKey:C,n:O}=e;if(S&&typeof A!="bigint"){if(Iu(A)&&(A=Ld(A)),typeof A!="string"||!S.includes(A.length))throw new Error("Invalid key");A=A.padStart(w*2,"0")}let M;try{M=typeof A=="bigint"?A:Lo(gn("private key",A,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof A}`)}return C&&(M=Wr(M,O)),ec("private key",M,Mr,O),M}function c(A){if(!(A instanceof p))throw new Error("ProjectivePoint expected")}const u=h6((A,S)=>{const{px:w,py:C,pz:O}=A;if(r.eql(O,r.ONE))return{x:w,y:C};const M=A.is0();S==null&&(S=M?r.ONE:r.inv(O));const U=r.mul(w,S),K=r.mul(C,S),Q=r.mul(O,S);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:U,y:K}}),l=h6(A=>{if(A.is0()){if(e.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=A.toAffine();if(!r.isValid(S)||!r.isValid(w))throw new Error("bad point: x or y not FE");const C=r.sqr(w),O=s(S);if(!r.eql(C,O))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(S,w,C){if(this.px=S,this.py=w,this.pz=C,S==null||!r.isValid(S))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(S){const{x:w,y:C}=S||{};if(!S||!r.isValid(w)||!r.isValid(C))throw new Error("invalid affine point");if(S instanceof p)throw new Error("projective point not allowed");const O=M=>r.eql(M,r.ZERO);return O(w)&&O(C)?p.ZERO:new p(w,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const w=r.invertBatch(S.map(C=>C.pz));return S.map((C,O)=>C.toAffine(w[O])).map(p.fromAffine)}static fromHex(S){const w=p.fromAffine(a(gn("pointHex",S)));return w.assertValidity(),w}static fromPrivateKey(S){return p.BASE.multiply(f(S))}static msm(S,w){return DG(p,n,S,w)}_setWindowSize(S){m.setWindowSize(this,S)}assertValidity(){l(this)}hasEvenY(){const{y:S}=this.toAffine();if(r.isOdd)return!r.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){c(S);const{px:w,py:C,pz:O}=this,{px:M,py:U,pz:K}=S,Q=r.eql(r.mul(w,K),r.mul(M,O)),k=r.eql(r.mul(C,K),r.mul(U,O));return Q&&k}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){const{a:S,b:w}=e,C=r.mul(w,mE),{px:O,py:M,pz:U}=this;let K=r.ZERO,Q=r.ZERO,k=r.ZERO,G=r.mul(O,O),W=r.mul(M,M),R=r.mul(U,U),_=r.mul(O,M);return _=r.add(_,_),k=r.mul(O,U),k=r.add(k,k),K=r.mul(S,k),Q=r.mul(C,R),Q=r.add(K,Q),K=r.sub(W,Q),Q=r.add(W,Q),Q=r.mul(K,Q),K=r.mul(_,K),k=r.mul(C,k),R=r.mul(S,R),_=r.sub(G,R),_=r.mul(S,_),_=r.add(_,k),k=r.add(G,G),G=r.add(k,G),G=r.add(G,R),G=r.mul(G,_),Q=r.add(Q,G),R=r.mul(M,U),R=r.add(R,R),G=r.mul(R,_),K=r.sub(K,G),k=r.mul(R,W),k=r.add(k,k),k=r.add(k,k),new p(K,Q,k)}add(S){c(S);const{px:w,py:C,pz:O}=this,{px:M,py:U,pz:K}=S;let Q=r.ZERO,k=r.ZERO,G=r.ZERO;const W=e.a,R=r.mul(e.b,mE);let _=r.mul(w,M),I=r.mul(C,U),b=r.mul(O,K),v=r.add(w,C),d=r.add(M,U);v=r.mul(v,d),d=r.add(_,I),v=r.sub(v,d),d=r.add(w,O);let g=r.add(M,K);return d=r.mul(d,g),g=r.add(_,b),d=r.sub(d,g),g=r.add(C,O),Q=r.add(U,K),g=r.mul(g,Q),Q=r.add(I,b),g=r.sub(g,Q),G=r.mul(W,d),Q=r.mul(R,b),G=r.add(Q,G),Q=r.sub(I,G),G=r.add(I,G),k=r.mul(Q,G),I=r.add(_,_),I=r.add(I,_),b=r.mul(W,b),d=r.mul(R,d),I=r.add(I,b),b=r.sub(_,b),b=r.mul(W,b),d=r.add(d,b),_=r.mul(I,d),k=r.add(k,_),_=r.mul(g,d),Q=r.mul(v,Q),Q=r.sub(Q,_),_=r.mul(v,I),G=r.mul(g,G),G=r.add(G,_),new p(Q,k,G)}subtract(S){return this.add(S.negate())}is0(){return this.equals(p.ZERO)}wNAF(S){return m.wNAFCached(this,S,p.normalizeZ)}multiplyUnsafe(S){ec("scalar",S,vo,e.n);const w=p.ZERO;if(S===vo)return w;if(S===Mr)return this;const{endo:C}=e;if(!C)return m.unsafeLadder(this,S);let{k1neg:O,k1:M,k2neg:U,k2:K}=C.splitScalar(S),Q=w,k=w,G=this;for(;M>vo||K>vo;)M&Mr&&(Q=Q.add(G)),K&Mr&&(k=k.add(G)),G=G.double(),M>>=Mr,K>>=Mr;return O&&(Q=Q.negate()),U&&(k=k.negate()),k=new p(r.mul(k.px,C.beta),k.py,k.pz),Q.add(k)}multiply(S){const{endo:w,n:C}=e;ec("scalar",S,Mr,C);let O,M;if(w){const{k1neg:U,k1:K,k2neg:Q,k2:k}=w.splitScalar(S);let{p:G,f:W}=this.wNAF(K),{p:R,f:_}=this.wNAF(k);G=m.constTimeNegate(U,G),R=m.constTimeNegate(Q,R),R=new p(r.mul(R.px,w.beta),R.py,R.pz),O=G.add(R),M=W.add(_)}else{const{p:U,f:K}=this.wNAF(S);O=U,M=K}return p.normalizeZ([O,M])[0]}multiplyAndAddUnsafe(S,w,C){const O=p.BASE,M=(K,Q)=>Q===vo||Q===Mr||!K.equals(O)?K.multiplyUnsafe(Q):K.multiply(Q),U=M(this,w).add(M(S,C));return U.is0()?void 0:U}toAffine(S){return u(this,S)}isTorsionFree(){const{h:S,isTorsionFree:w}=e;if(S===Mr)return!0;if(w)return w(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:w}=e;return S===Mr?this:w?w(p,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return Rd("isCompressed",S),this.assertValidity(),i(p,this,S)}toHex(S=!0){return Rd("isCompressed",S),Ld(this.toRawBytes(S))}}p.BASE=new p(e.Gx,e.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);const y=e.nBitLength,m=BG(p,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:o}}function PG(t){const e=cR(t);return K1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function NG(t){const e=PG(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(b){return Wr(b,n)}function o(b){return b6(b,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:l}=HG({...e,toBytes(b,v,d){const g=v.toAffine(),x=r.toBytes(g.x),E=Cu;return Rd("isCompressed",d),d?E(Uint8Array.from([v.hasEvenY()?2:3]),x):E(Uint8Array.from([4]),x,r.toBytes(g.y))},fromBytes(b){const v=b.length,d=b[0],g=b.subarray(1);if(v===i&&(d===2||d===3)){const x=Lo(g);if(!Pd(x,Mr,r.ORDER))throw new Error("Point is not on curve");const E=u(x);let h;try{h=r.sqrt(E)}catch(L){const $=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+$)}const T=(h&Mr)===Mr;return(d&1)===1!==T&&(h=r.neg(h)),{x,y:h}}else if(v===a&&d===4){const x=r.fromBytes(g.subarray(0,r.BYTES)),E=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x,y:E}}else throw new Error(`Point of length ${v} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),p=b=>Ld(lc(b,e.nByteLength));function y(b){const v=n>>Mr;return b>v}function m(b){return y(b)?s(-b):b}const A=(b,v,d)=>Lo(b.slice(v,d));class S{constructor(v,d,g){this.r=v,this.s=d,this.recovery=g,this.assertValidity()}static fromCompact(v){const d=e.nByteLength;return v=gn("compactSignature",v,d*2),new S(A(v,0,d),A(v,d,2*d))}static fromDER(v){const{r:d,s:g}=fo.toSig(gn("DER",v));return new S(d,g)}assertValidity(){ec("r",this.r,Mr,n),ec("s",this.s,Mr,n)}addRecoveryBit(v){return new S(this.r,this.s,v)}recoverPublicKey(v){const{r:d,s:g,recovery:x}=this,E=K(gn("msgHash",v));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const h=x===2||x===3?d+e.n:d;if(h>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=x&1?"03":"02",j=f.fromHex(T+p(h)),L=o(h),$=s(-E*L),F=s(g*L),H=f.BASE.multiplyAndAddUnsafe(j,$,F);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Hd(this.toDERHex())}toDERHex(){return fo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hd(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(b){try{return c(b),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const b=fR(e.n);return TG(e.randomBytes(b),e.n)},precompute(b=8,v=f.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function C(b,v=!0){return f.fromPrivateKey(b).toRawBytes(v)}function O(b){const v=Iu(b),d=typeof b=="string",g=(v||d)&&b.length;return v?g===i||g===a:d?g===2*i||g===2*a:b instanceof f}function M(b,v,d=!0){if(O(b))throw new Error("first arg must be private key");if(!O(v))throw new Error("second arg must be public key");return f.fromHex(v).multiply(c(b)).toRawBytes(d)}const U=e.bits2int||function(b){const v=Lo(b),d=b.length*8-e.nBitLength;return d>0?v>>BigInt(d):v},K=e.bits2int_modN||function(b){return s(U(b))},Q=j5(e.nBitLength);function k(b){return ec(`num < 2^${e.nBitLength}`,b,vo,Q),lc(b,e.nByteLength)}function G(b,v,d=W){if(["recovered","canonical"].some(X=>X in d))throw new Error("sign() legacy options not supported");const{hash:g,randomBytes:x}=e;let{lowS:E,prehash:h,extraEntropy:T}=d;E==null&&(E=!0),b=gn("msgHash",b),_E(d),h&&(b=gn("prehashed msgHash",g(b)));const j=K(b),L=c(v),$=[k(L),k(j)];if(T!=null&&T!==!1){const X=T===!0?x(r.BYTES):T;$.push(gn("extraEntropy",X))}const F=Cu(...$),H=j;function q(X){const te=U(X);if(!l(te))return;const ne=o(te),N=f.BASE.multiply(te).toAffine(),P=s(N.x);if(P===vo)return;const re=s(ne*s(H+P*L));if(re===vo)return;let ue=(N.x===P?0:2)|Number(N.y&Mr),de=re;return E&&y(re)&&(de=m(re),ue^=1),new S(P,de,ue)}return{seed:F,k2sig:q}}const W={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function _(b,v,d=W){const{seed:g,k2sig:x}=G(b,v,d),E=e;return iR(E.hash.outputLen,E.nByteLength,E.hmac)(g,x)}f.BASE._setWindowSize(8);function I(b,v,d,g=R){var N;const x=b;if(v=gn("msgHash",v),d=gn("publicKey",d),"strict"in g)throw new Error("options.strict was renamed to lowS");_E(g);const{lowS:E,prehash:h}=g;let T,j;try{if(typeof x=="string"||Iu(x))try{T=S.fromDER(x)}catch(P){if(!(P instanceof fo.Err))throw P;T=S.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){const{r:P,s:re}=x;T=new S(P,re)}else throw new Error("PARSE");j=f.fromHex(d)}catch(P){if(P.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(E&&T.hasHighS())return!1;h&&(v=e.hash(v));const{r:L,s:$}=T,F=K(v),H=o($),q=s(F*H),X=s(L*H),te=(N=f.BASE.multiplyAndAddUnsafe(j,q,X))==null?void 0:N.toAffine();return te?s(te.x)===L:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:M,sign:_,verify:I,ProjectivePoint:f,Signature:S,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function UG(t){return{hash:t,hmac:(e,...r)=>eR(t,e,MY(...r)),randomBytes:SM}}function kG(t,e){const r=n=>NG({...t,...UG(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Q1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jp=BigInt(1),xy=BigInt(2),wE=(t,e)=>(t+e/xy)/e;function uR(t){const e=Q1,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Gi(u,r,e)*u%e,p=Gi(l,r,e)*u%e,y=Gi(p,xy,e)*c%e,m=Gi(y,i,e)*y%e,A=Gi(m,a,e)*m%e,S=Gi(A,o,e)*A%e,w=Gi(S,f,e)*S%e,C=Gi(w,o,e)*A%e,O=Gi(C,r,e)*u%e,M=Gi(O,s,e)*m%e,U=Gi(M,n,e)*c%e,K=Gi(U,xy,e);if(!g6.eql(g6.sqr(K),t))throw new Error("Cannot find square root");return K}const g6=sR(Q1,void 0,void 0,{sqrt:uR}),Nd=kG({a:BigInt(0),b:BigInt(7),Fp:g6,n:Ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Ey,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-jp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=wE(a*t,e),f=wE(-n*t,e);let c=Wr(t-o*r-f*i,e),u=Wr(-o*n-f*a,e);const l=c>s,p=u>s;if(l&&(c=e-c),p&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:u}}}},zp),lR=BigInt(0),AE={};function Sy(t,...e){let r=AE[t];if(r===void 0){const n=zp(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Cu(n,n),AE[t]=r}return zp(Cu(r,...e))}const $5=t=>t.toRawBytes(!0).slice(1),y6=t=>lc(t,32),Z_=t=>Wr(t,Q1),$p=t=>Wr(t,Ey),F5=Nd.ProjectivePoint,zG=(t,e,r)=>F5.BASE.multiplyAndAddUnsafe(t,e,r);function v6(t){let e=Nd.utils.normPrivateKeyToScalar(t),r=F5.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:$p(-e),bytes:$5(r)}}function dR(t){ec("x",t,jp,Q1);const e=Z_(t*t),r=Z_(e*t+BigInt(7));let n=uR(r);n%xy!==lR&&(n=Z_(-n));const i=new F5(t,n,jp);return i.assertValidity(),i}const ql=Lo;function hR(...t){return $p(ql(Sy("BIP0340/challenge",...t)))}function jG(t){return v6(t).bytes}function $G(t,e,r=SM(32)){const n=gn("message",t),{bytes:i,scalar:a}=v6(e),s=gn("auxRand",r,32),o=y6(a^ql(Sy("BIP0340/aux",s))),f=Sy("BIP0340/nonce",o,i,n),c=$p(ql(f));if(c===lR)throw new Error("sign failed: k is zero");const{bytes:u,scalar:l}=v6(c),p=hR(u,i,n),y=new Uint8Array(64);if(y.set(u,0),y.set(y6($p(l+p*a)),32),!pR(y,n,i))throw new Error("sign: Invalid signature produced");return y}function pR(t,e,r){const n=gn("signature",t,64),i=gn("message",e),a=gn("publicKey",r,32);try{const s=dR(ql(a)),o=ql(n.subarray(0,32));if(!Pd(o,jp,Q1))return!1;const f=ql(n.subarray(32,64));if(!Pd(f,jp,Ey))return!1;const c=hR(y6(o),$5(s),i),u=zG(s,f,$p(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==o)}catch{return!1}}const FG={getPublicKey:jG,sign:$G,verify:pR,utils:{randomPrivateKey:Nd.utils.randomPrivateKey,lift_x:dR,pointToBytes:$5,numberToBytesBE:lc,bytesToNumberBE:Lo,taggedHash:Sy,mod:Wr}};function qG(t){const e=typeof t=="string"?t:me(t),r=Te(`Nervos Message:${e}`,"utf8");return j1(r)}function KG(t,e,r){const n=Te(e);return Nd.verify(new Nd.Signature(Ie(n.slice(0,32)),Ie(n.slice(32,64))).addRecoveryBit(Number(Ie(n.slice(64,65)))),Te(qG(t)),Te(r))}function QG(t,e){let r,n,i,a="";for(r in t)if((i=t[r])!==void 0)if(Array.isArray(i))for(n=0;n<i.length;n++)a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i[n])}`;else a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;return""+a}function YG(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(a=>{const s=n[a];typeof s>"u"||s===void 0?delete n[a]:n[a]=r(s)});const i=QG(n).toString();return i?`?${i}`:""}}var VG=YG(JSON.stringify,JSON.parse);function Iy(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4,n=e.padEnd(e.length+r,"="),i=atob(n),a=new ArrayBuffer(i.length),s=new Uint8Array(a);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return a}function Gc(t){const e=new Uint8Array(t);let r="";for(let i=0;i<e.length;i++){const a=e[i];a!=null&&(r+=String.fromCharCode(a))}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function bR(t){const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=Number.parseInt(t.substring(r,r+2),16);return e.buffer}function GG(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}function WG(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r.buffer}function XG(t){return new TextEncoder().encode(t)}function ZG(t){let e="";for(let r=0;r<t.length;r+=2)e+=String.fromCharCode(Number.parseInt(t.substr(r,2),16));return e}function gR(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone}var _6=(t=>(t[t.RS256=-257]="RS256",t[t.ES256=-7]="ES256",t))(_6||{}),Ps=(t=>(t.Auth="Auth",t.SignMessage="SignMessage",t.SignEvm="SignEvm",t.SignPsbt="SignPsbt",t.BatchSignPsbt="BatchSignPsbt",t.SignCkbTx="SignCkbTx",t.SignCotaNFT="SignCotaNFT",t.SignCkbRawTx="SignCkbRawTx",t.SignNostrEvent="SignNostrEvent",t.EncryptNostrMessage="EncryptNostrMessage",t.EvmWeb2Login="EvmWeb2Login",t.DecryptNostrMessage="DecryptNostrMessage",t.AuthMiniApp="AuthMiniApp",t.SignMiniAppMessage="SignMiniAppMessage",t.SignMiniAppEvm="SignMiniAppEvm",t))(Ps||{}),JG={joyidAppURL:"https://testnet.joyid.dev"},eW=()=>JG,q5=class yR extends Error{constructor(e,r){super(r),this.error=e,this.error_description=r,Object.setPrototypeOf(this,yR.prototype)}},tW=class vR extends q5{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,vR.prototype)}},rW=class _R extends tW{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,_R.prototype)}},mR=class wR extends q5{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,wR.prototype)}},nW=class extends q5{constructor(t){super("NotSupported","Popup window is blocked by browser. see: https://docs.joy.id/guide/best-practice#popup-window-blocked"),this.popup=t,Object.setPrototypeOf(this,mR.prototype)}},Ho=(t,e,r)=>{const n=t.joyidAppURL??eW().joyidAppURL,i=new URL(`${n}`);i.pathname=r;let a=t.redirectURL;i.searchParams.set("type",e);const s=VG({...t,redirectURL:a});return i.searchParams.set("_data_",s),i.href},iW=(t="")=>{const n=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(t,"joyid:authorize:popup",`left=${n},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)},aW="joyid-block-dialog-style",K5="joyid-block-dialog-approve",Q5="joyid-block-dialog-reject",sW=`
.joyid-block-dialog {
  position: fixed;
  top: 32px;
  left: 50%;
  width: 340px;
  margin-left: -170px;
  background: white;
  color: #333;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  height: 110px;
  z-index: 100002;
  box-sizing: border-box;
  border: 1px solid #ffffff;
  border-radius: 8px;
  padding: 16px 20px;
}
.joyid-block-dialog-bg {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  position: fixed;
  top: 0;
  left: 0;
  display: none;
  z-index: 100001;
  display: block;
}
.joyid-block-dialog-title {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 8px;
}
.joyid-block-dialog-tip {
  font-size: 12px;
  color: #777;
}
.joyid-block-dialog-btn {
  width: 90px;
  height: 35px;
  font-size: 12px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
}
.joyid-block-dialog-action {
  text-align: right;
}
#${K5} {
  border: 1px solid #333;
  color: #333;
  background: #D2FF00;
  margin-bottom: 8px;
}

#${Q5} {
  background: transparent;
}
`,oW=`
<div class="joyid-block-dialog">
  <div class="joyid-block-dialog-content">
    <div class="joyid-block-dialog-title">
      Request Pop-up
    </div>
    <div class="joyid-block-dialog-tip">
      Click Approve to complete creating or using wallet
    </div>
  </div>
  <div class="joyid-block-dialog-action">
    <button class="joyid-block-dialog-btn" id="${K5}">Approve</button>
    <button class="joyid-block-dialog-btn" id="${Q5}">Reject</button>
  </div>
</div>
`,fW=()=>{if(document.getElementById(aW)!=null)return;const e=document.createElement("style");e.appendChild(document.createTextNode(sW)),(document.head??document.getElementsByTagName("head")[0]).appendChild(e)},cW=async t=>{fW();const e=document.createElement("div");e.innerHTML=oW,document.body.appendChild(e);const r=document.createElement("div");r.className="joyid-block-dialog-bg",document.body.appendChild(r);const n=document.getElementById(K5),i=document.getElementById(Q5),a=()=>{document.body.removeChild(e),document.body.removeChild(r)};return new Promise((s,o)=>{n==null||n.addEventListener("click",async()=>{try{const f=await t();a(),s(f)}catch(f){a(),o(f)}}),i==null||i.addEventListener("click",()=>{a(),o(new Error("User Rejected"))})})};class ee extends Array{constructor(e,r){if(e>ee.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(e),this.sign=r}static BigInt(e){var r=Math.floor,n=Number.isFinite;if(typeof e=="number"){if(e===0)return ee.__zero();if((0|e)===e)return 0>e?ee.__oneDigit(-e,!0):ee.__oneDigit(e,!1);if(!n(e)||r(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return ee.__fromDouble(e)}if(typeof e=="string"){const i=ee.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?ee.__oneDigit(1,!1):ee.__zero();if(typeof e=="object"){if(e.constructor===ee)return e;const i=ee.__toPrimitive(e);return ee.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const r of this)e.push((r&&(r>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?ee.__toStringGeneric(this,e,!1):ee.__toStringBasePowerOfTwo(this,e)}static toNumber(e){var r=Math.clz32;const n=e.length;if(n===0)return 0;if(n===1){const w=e.__unsignedDigit(0);return e.sign?-w:w}const i=e.__digit(n-1),a=r(i),s=32*n-a;if(1024<s)return e.sign?-1/0:1/0;let o=s-1,f=i,c=n-1;const u=a+1;let l=u===32?0:f<<u;l>>>=12;const p=u-12;let y=12<=u?0:f<<20+u,m=20+u;0<p&&0<c&&(c--,f=e.__digit(c),l|=f>>>32-p,y=f<<p,m=p),0<m&&0<c&&(c--,f=e.__digit(c),y|=f>>>32-m,m-=32);const A=ee.__decideRounding(e,m,c,f);if((A===1||A===0&&(1&y)==1)&&(y=y+1>>>0,y===0&&(l++,l>>>20!=0&&(l=0,o++,1023<o))))return e.sign?-1/0:1/0;const S=e.sign?-2147483648:0;return o=o+1023<<20,ee.__kBitConversionInts[1]=S|o|l,ee.__kBitConversionInts[0]=y,ee.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const r=e.__copy();return r.sign=!e.sign,r}static bitwiseNot(e){return e.sign?ee.__absoluteSubOne(e).__trim():ee.__absoluteAddOne(e,!0)}static exponentiate(e,r){if(r.sign)throw new RangeError("Exponent must be positive");if(r.length===0)return ee.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&r.__digit(0))?ee.unaryMinus(e):e;if(1<r.length)throw new RangeError("BigInt too big");let n=r.__unsignedDigit(0);if(n===1)return e;if(n>=ee.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const s=1+(n>>>5),o=e.sign&&(1&n)!=0,f=new ee(s,o);f.__initializeDigits();const c=1<<(31&n);return f.__setDigit(s-1,c),f}let i=null,a=e;for(1&n&&(i=e),n>>=1;n!==0;n>>=1)a=ee.multiply(a,a),1&n&&(i===null?i=a:i=ee.multiply(i,a));return i}static multiply(e,r){if(e.length===0)return e;if(r.length===0)return r;let n=e.length+r.length;32<=e.__clzmsd()+r.__clzmsd()&&n--;const i=new ee(n,e.sign!==r.sign);i.__initializeDigits();for(let a=0;a<e.length;a++)ee.__multiplyAccumulate(r,e.__digit(a),i,a);return i.__trim()}static divide(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>ee.__absoluteCompare(e,r))return ee.__zero();const n=e.sign!==r.sign,i=r.__unsignedDigit(0);let a;if(r.length===1&&65535>=i){if(i===1)return n===e.sign?e:ee.unaryMinus(e);a=ee.__absoluteDivSmall(e,i,null)}else a=ee.__absoluteDivLarge(e,r,!0,!1);return a.sign=n,a.__trim()}static remainder(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>ee.__absoluteCompare(e,r))return e;const n=r.__unsignedDigit(0);if(r.length===1&&65535>=n){if(n===1)return ee.__zero();const a=ee.__absoluteModSmall(e,n);return a===0?ee.__zero():ee.__oneDigit(a,e.sign)}const i=ee.__absoluteDivLarge(e,r,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,r){const n=e.sign;return n===r.sign?ee.__absoluteAdd(e,r,n):0<=ee.__absoluteCompare(e,r)?ee.__absoluteSub(e,r,n):ee.__absoluteSub(r,e,!n)}static subtract(e,r){const n=e.sign;return n===r.sign?0<=ee.__absoluteCompare(e,r)?ee.__absoluteSub(e,r,n):ee.__absoluteSub(r,e,!n):ee.__absoluteAdd(e,r,n)}static leftShift(e,r){return r.length===0||e.length===0?e:r.sign?ee.__rightShiftByAbsolute(e,r):ee.__leftShiftByAbsolute(e,r)}static signedRightShift(e,r){return r.length===0||e.length===0?e:r.sign?ee.__leftShiftByAbsolute(e,r):ee.__rightShiftByAbsolute(e,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,r){return 0>ee.__compareToBigInt(e,r)}static lessThanOrEqual(e,r){return 0>=ee.__compareToBigInt(e,r)}static greaterThan(e,r){return 0<ee.__compareToBigInt(e,r)}static greaterThanOrEqual(e,r){return 0<=ee.__compareToBigInt(e,r)}static equal(e,r){if(e.sign!==r.sign||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==r.__digit(n))return!1;return!0}static notEqual(e,r){return!ee.equal(e,r)}static bitwiseAnd(e,r){var n=Math.max;if(!e.sign&&!r.sign)return ee.__absoluteAnd(e,r).__trim();if(e.sign&&r.sign){const i=n(e.length,r.length)+1;let a=ee.__absoluteSubOne(e,i);const s=ee.__absoluteSubOne(r);return a=ee.__absoluteOr(a,s,a),ee.__absoluteAddOne(a,!0,a).__trim()}return e.sign&&([e,r]=[r,e]),ee.__absoluteAndNot(e,ee.__absoluteSubOne(r)).__trim()}static bitwiseXor(e,r){var n=Math.max;if(!e.sign&&!r.sign)return ee.__absoluteXor(e,r).__trim();if(e.sign&&r.sign){const s=n(e.length,r.length),o=ee.__absoluteSubOne(e,s),f=ee.__absoluteSubOne(r);return ee.__absoluteXor(o,f,o).__trim()}const i=n(e.length,r.length)+1;e.sign&&([e,r]=[r,e]);let a=ee.__absoluteSubOne(r,i);return a=ee.__absoluteXor(a,e,a),ee.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(e,r){var n=Math.max;const i=n(e.length,r.length);if(!e.sign&&!r.sign)return ee.__absoluteOr(e,r).__trim();if(e.sign&&r.sign){let s=ee.__absoluteSubOne(e,i);const o=ee.__absoluteSubOne(r);return s=ee.__absoluteAnd(s,o,s),ee.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,r]=[r,e]);let a=ee.__absoluteSubOne(r,i);return a=ee.__absoluteAndNot(a,e,a),ee.__absoluteAddOne(a,!0,a).__trim()}static asIntN(e,r){if(r.length===0)return r;if(e===0)return ee.__zero();if(e>=ee.__kMaxLengthBits)return r;const n=e+31>>>5;if(r.length<n)return r;const i=r.__unsignedDigit(n-1),a=1<<(31&e-1);if(r.length===n&&i<a)return r;if((i&a)!==a)return ee.__truncateToNBits(e,r);if(!r.sign)return ee.__truncateAndSubFromPowerOfTwo(e,r,!0);if(!(i&a-1)){for(let s=n-2;0<=s;s--)if(r.__digit(s)!==0)return ee.__truncateAndSubFromPowerOfTwo(e,r,!1);return r.length===n&&i===a?r:ee.__truncateToNBits(e,r)}return ee.__truncateAndSubFromPowerOfTwo(e,r,!1)}static asUintN(e,r){if(r.length===0)return r;if(e===0)return ee.__zero();if(r.sign){if(e>ee.__kMaxLengthBits)throw new RangeError("BigInt too big");return ee.__truncateAndSubFromPowerOfTwo(e,r,!1)}if(e>=ee.__kMaxLengthBits)return r;const n=e+31>>>5;if(r.length<n)return r;const i=31&e;return r.length==n&&(i===0||!(r.__digit(n-1)>>>i))?r:ee.__truncateToNBits(e,r)}static ADD(e,r){if(e=ee.__toPrimitive(e),r=ee.__toPrimitive(r),typeof e=="string")return typeof r!="string"&&(r=r.toString()),e+r;if(typeof r=="string")return e.toString()+r;if(e=ee.__toNumeric(e),r=ee.__toNumeric(r),ee.__isBigInt(e)&&ee.__isBigInt(r))return ee.add(e,r);if(typeof e=="number"&&typeof r=="number")return e+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,r){return ee.__compare(e,r,0)}static LE(e,r){return ee.__compare(e,r,1)}static GT(e,r){return ee.__compare(e,r,2)}static GE(e,r){return ee.__compare(e,r,3)}static EQ(e,r){for(;;){if(ee.__isBigInt(e))return ee.__isBigInt(r)?ee.equal(e,r):ee.EQ(r,e);if(typeof e=="number"){if(ee.__isBigInt(r))return ee.__equalToNumber(r,e);if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="string"){if(ee.__isBigInt(r))return e=ee.__fromString(e),e!==null&&ee.equal(e,r);if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="boolean"){if(ee.__isBigInt(r))return ee.__equalToNumber(r,+e);if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="symbol"){if(ee.__isBigInt(r))return!1;if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="object"){if(typeof r=="object"&&r.constructor!==ee)return e==r;e=ee.__toPrimitive(e)}else return e==r}}static NE(e,r){return!ee.EQ(e,r)}static __zero(){return new ee(0,!1)}static __oneDigit(e,r){const n=new ee(1,r);return n.__setDigit(0,e),n}__copy(){const e=new ee(this.length,this.sign);for(let r=0;r<this.length;r++)e[r]=this[r];return e}__trim(){let e=this.length,r=this[e-1];for(;r===0;)e--,r=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,r,n,i){if(0<r)return-1;let a;if(0>r)a=-r-1;else{if(n===0)return-1;n--,i=e.__digit(n),a=31}let s=1<<a;if(!(i&s))return-1;if(s-=1,(i&s)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}static __fromDouble(e){ee.__kBitConversionDouble[0]=e;const r=2047&ee.__kBitConversionInts[1]>>>20,n=r-1023,i=(n>>>5)+1,a=new ee(i,0>e);let s=1048575&ee.__kBitConversionInts[1]|1048576,o=ee.__kBitConversionInts[0];const f=20,c=31&n;let u,l=0;if(c<20){const p=f-c;l=p+32,u=s>>>p,s=s<<32-p|o>>>p,o<<=32-p}else if(c===20)l=32,u=s,s=o;else{const p=c-f;l=32-p,u=s<<p|o>>>32-p,s=o<<p}a.__setDigit(i-1,u);for(let p=i-2;0<=p;p--)0<l?(l-=32,u=s,s=o):u=0,a.__setDigit(p,u);return a.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,r=0){let n=0;const i=e.length;let a=0;if(a===i)return ee.__zero();let s=e.charCodeAt(a);for(;ee.__isWhitespace(s);){if(++a===i)return ee.__zero();s=e.charCodeAt(a)}if(s===43){if(++a===i)return null;s=e.charCodeAt(a),n=1}else if(s===45){if(++a===i)return null;s=e.charCodeAt(a),n=-1}if(r===0){if(r=10,s===48){if(++a===i)return ee.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(r=16,++a===i)return null;s=e.charCodeAt(a)}else if(s===79||s===111){if(r=8,++a===i)return null;s=e.charCodeAt(a)}else if(s===66||s===98){if(r=2,++a===i)return null;s=e.charCodeAt(a)}}}else if(r===16&&s===48){if(++a===i)return ee.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(++a===i)return null;s=e.charCodeAt(a)}}for(;s===48;){if(++a===i)return ee.__zero();s=e.charCodeAt(a)}const o=i-a;let f=ee.__kMaxBitsPerChar[r],c=ee.__kBitsPerCharTableMultiplier-1;if(o>1073741824/f)return null;const u=f*o+c>>>ee.__kBitsPerCharTableShift,l=new ee(u+31>>>5,!1),p=10>r?r:10,y=10<r?r-10:0;if(r&r-1){l.__initializeDigits();let m=!1,A=0;do{let S=0,w=1;for(;;){let O;if(s-48>>>0<p)O=s-48;else if((32|s)-97>>>0<y)O=(32|s)-87;else{m=!0;break}const M=w*r;if(4294967295<M)break;if(w=M,S=S*r+O,A++,++a===i){m=!0;break}s=e.charCodeAt(a)}c=32*ee.__kBitsPerCharTableMultiplier-1;const C=f*A+c>>>ee.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(w,S,C)}while(!m)}else{f>>=ee.__kBitsPerCharTableShift;const m=[],A=[];let S=!1;do{let w=0,C=0;for(;;){let O;if(s-48>>>0<p)O=s-48;else if((32|s)-97>>>0<y)O=(32|s)-87;else{S=!0;break}if(C+=f,w=w<<f|O,++a===i){S=!0;break}if(s=e.charCodeAt(a),32<C+f)break}m.push(w),A.push(C)}while(!S);ee.__fillFromParts(l,m,A)}if(a!==i){if(!ee.__isWhitespace(s))return null;for(a++;a<i;a++)if(s=e.charCodeAt(a),!ee.__isWhitespace(s))return null}return n!=0&&r!==10?null:(l.sign=n==-1,l.__trim())}static __fillFromParts(e,r,n){let i=0,a=0,s=0;for(let o=r.length-1;0<=o;o--){const f=r[o],c=n[o];a|=f<<s,s+=c,s===32?(e.__setDigit(i++,a),s=0,a=0):32<s&&(e.__setDigit(i++,a),s-=32,a=f>>>c-s)}if(a!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,a)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,r){var n=Math.clz32;const i=e.length;let a=r-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const s=a,o=r-1,f=e.__digit(i-1),c=n(f);let u=0|(32*i-c+s-1)/s;if(e.sign&&u++,268435456<u)throw new Error("string too long");const l=Array(u);let p=u-1,y=0,m=0;for(let S=0;S<i-1;S++){const w=e.__digit(S),C=(y|w<<m)&o;l[p--]=ee.__kConversionChars[C];const O=s-m;for(y=w>>>O,m=32-O;m>=s;)l[p--]=ee.__kConversionChars[y&o],y>>>=s,m-=s}const A=(y|f<<m)&o;for(l[p--]=ee.__kConversionChars[A],y=f>>>s-m;y!==0;)l[p--]=ee.__kConversionChars[y&o],y>>>=s;if(e.sign&&(l[p--]="-"),p!=-1)throw new Error("implementation bug");return l.join("")}static __toStringGeneric(e,r,n){var i=Math.clz32;const a=e.length;if(a===0)return"";if(a===1){let S=e.__unsignedDigit(0).toString(r);return n===!1&&e.sign&&(S="-"+S),S}const s=32*a-i(e.__digit(a-1)),o=ee.__kMaxBitsPerChar[r],f=o-1;let c=s*ee.__kBitsPerCharTableMultiplier;c+=f-1,c=0|c/f;const u=c+1>>1,l=ee.exponentiate(ee.__oneDigit(r,!1),ee.__oneDigit(u,!1));let p,y;const m=l.__unsignedDigit(0);if(l.length===1&&65535>=m){p=new ee(e.length,!1),p.__initializeDigits();let S=0;for(let w=2*e.length-1;0<=w;w--){const C=S<<16|e.__halfDigit(w);p.__setHalfDigit(w,0|C/m),S=0|C%m}y=S.toString(r)}else{const S=ee.__absoluteDivLarge(e,l,!0,!0);p=S.quotient;const w=S.remainder.__trim();y=ee.__toStringGeneric(w,r,!0)}p.__trim();let A=ee.__toStringGeneric(p,r,!0);for(;y.length<u;)y="0"+y;return n===!1&&e.sign&&(A="-"+A),A+y}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,r){const n=e.sign;if(n!==r.sign)return ee.__unequalSign(n);const i=ee.__absoluteCompare(e,r);return 0<i?ee.__absoluteGreater(n):0>i?ee.__absoluteLess(n):0}static __compareToNumber(e,r){if(r|!0){const n=e.sign,i=0>r;if(n!==i)return ee.__unequalSign(n);if(e.length===0){if(i)throw new Error("implementation bug");return r===0?0:-1}if(1<e.length)return ee.__absoluteGreater(n);const a=Math.abs(r),s=e.__unsignedDigit(0);return s>a?ee.__absoluteGreater(n):s<a?ee.__absoluteLess(n):0}return ee.__compareToDouble(e,r)}static __compareToDouble(e,r){var n=Math.clz32;if(r!==r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const i=e.sign;if(i!==0>r)return ee.__unequalSign(i);if(r===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;ee.__kBitConversionDouble[0]=r;const a=2047&ee.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const s=a-1023;if(0>s)return ee.__absoluteGreater(i);const o=e.length;let f=e.__digit(o-1);const c=n(f),u=32*o-c,l=s+1;if(u<l)return ee.__absoluteLess(i);if(u>l)return ee.__absoluteGreater(i);let p=1048576|1048575&ee.__kBitConversionInts[1],y=ee.__kBitConversionInts[0];const m=20,A=31-c;if(A!==(u-1)%31)throw new Error("implementation bug");let S,w=0;if(20>A){const C=m-A;w=C+32,S=p>>>C,p=p<<32-C|y>>>C,y<<=32-C}else if(A===20)w=32,S=p,p=y;else{const C=A-m;w=32-C,S=p<<C|y>>>32-C,p=y<<C}if(f>>>=0,S>>>=0,f>S)return ee.__absoluteGreater(i);if(f<S)return ee.__absoluteLess(i);for(let C=o-2;0<=C;C--){0<w?(w-=32,S=p>>>0,p=y,y=0):S=0;const O=e.__unsignedDigit(C);if(O>S)return ee.__absoluteGreater(i);if(O<S)return ee.__absoluteLess(i)}if(p!==0||y!==0){if(w===0)throw new Error("implementation bug");return ee.__absoluteLess(i)}return 0}static __equalToNumber(e,r){var n=Math.abs;return r|r===0?r===0?e.length===0:e.length===1&&e.sign===0>r&&e.__unsignedDigit(0)===n(r):ee.__compareToDouble(e,r)===0}static __comparisonResultToBool(e,r){switch(r){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}static __compare(e,r,n){if(e=ee.__toPrimitive(e),r=ee.__toPrimitive(r),typeof e=="string"&&typeof r=="string")switch(n){case 0:return e<r;case 1:return e<=r;case 2:return e>r;case 3:return e>=r}if(ee.__isBigInt(e)&&typeof r=="string")return r=ee.__fromString(r),r!==null&&ee.__comparisonResultToBool(ee.__compareToBigInt(e,r),n);if(typeof e=="string"&&ee.__isBigInt(r))return e=ee.__fromString(e),e!==null&&ee.__comparisonResultToBool(ee.__compareToBigInt(e,r),n);if(e=ee.__toNumeric(e),r=ee.__toNumeric(r),ee.__isBigInt(e)){if(ee.__isBigInt(r))return ee.__comparisonResultToBool(ee.__compareToBigInt(e,r),n);if(typeof r!="number")throw new Error("implementation bug");return ee.__comparisonResultToBool(ee.__compareToNumber(e,r),n)}if(typeof e!="number")throw new Error("implementation bug");if(ee.__isBigInt(r))return ee.__comparisonResultToBool(ee.__compareToNumber(r,e),2^n);if(typeof r!="number")throw new Error("implementation bug");return n===0?e<r:n===1?e<=r:n===2?e>r:n===3?e>=r:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(e,r,n){if(e.length<r.length)return ee.__absoluteAdd(r,e,n);if(e.length===0)return e;if(r.length===0)return e.sign===n?e:ee.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||r.length===e.length&&r.__clzmsd()===0)&&i++;const a=new ee(i,n);let s=0,o=0;for(;o<r.length;o++){const f=r.__digit(o),c=e.__digit(o),u=(65535&c)+(65535&f)+s,l=(c>>>16)+(f>>>16)+(u>>>16);s=l>>>16,a.__setDigit(o,65535&u|l<<16)}for(;o<e.length;o++){const f=e.__digit(o),c=(65535&f)+s,u=(f>>>16)+(c>>>16);s=u>>>16,a.__setDigit(o,65535&c|u<<16)}return o<a.length&&a.__setDigit(o,s),a.__trim()}static __absoluteSub(e,r,n){if(e.length===0)return e;if(r.length===0)return e.sign===n?e:ee.unaryMinus(e);const i=new ee(e.length,n);let a=0,s=0;for(;s<r.length;s++){const o=e.__digit(s),f=r.__digit(s),c=(65535&o)-(65535&f)-a;a=1&c>>>16;const u=(o>>>16)-(f>>>16)-a;a=1&u>>>16,i.__setDigit(s,65535&c|u<<16)}for(;s<e.length;s++){const o=e.__digit(s),f=(65535&o)-a;a=1&f>>>16;const c=(o>>>16)-a;a=1&c>>>16,i.__setDigit(s,65535&f|c<<16)}return i.__trim()}static __absoluteAddOne(e,r,n=null){const i=e.length;n===null?n=new ee(i,r):n.sign=r;let a=!0;for(let s,o=0;o<i;o++){if(s=e.__digit(o),a){const f=s===-1;s=0|s+1,a=f}n.__setDigit(o,s)}return a&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(e,r){const n=e.length;r=r||n;const i=new ee(r,!1);let a=!0;for(let s,o=0;o<n;o++){if(s=e.__digit(o),a){const f=s===0;s=0|s-1,a=f}i.__setDigit(o,s)}if(a)throw new Error("implementation bug");for(let s=n;s<r;s++)i.__setDigit(s,0);return i}static __absoluteAnd(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const c=e,u=i;e=r,i=a,r=c,a=u}let o=s;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)&r.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteAndNot(e,r,n=null){const i=e.length,a=r.length;let s=a;i<a&&(s=i);let o=i;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)&~r.__digit(f));for(;f<i;f++)n.__setDigit(f,e.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteOr(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const c=e,u=i;e=r,i=a,r=c,a=u}let o=i;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)|r.__digit(f));for(;f<i;f++)n.__setDigit(f,e.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteXor(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const c=e,u=i;e=r,i=a,r=c,a=u}let o=i;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)^r.__digit(f));for(;f<i;f++)n.__setDigit(f,e.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteCompare(e,r){const n=e.length-r.length;if(n!=0)return n;let i=e.length-1;for(;0<=i&&e.__digit(i)===r.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>r.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,r,n,i){var a=Math.imul;if(r===0)return;const s=65535&r,o=r>>>16;let f=0,c=0,u=0;for(let l=0;l<e.length;l++,i++){let p=n.__digit(i),y=65535&p,m=p>>>16;const A=e.__digit(l),S=65535&A,w=A>>>16,C=a(S,s),O=a(S,o),M=a(w,s),U=a(w,o);y+=c+(65535&C),m+=u+f+(y>>>16)+(C>>>16)+(65535&O)+(65535&M),f=m>>>16,c=(O>>>16)+(M>>>16)+(65535&U)+f,f=c>>>16,c&=65535,u=U>>>16,p=65535&y|m<<16,n.__setDigit(i,p)}for(;f!=0||c!==0||u!==0;i++){let l=n.__digit(i);const p=(65535&l)+c,y=(l>>>16)+(p>>>16)+u+f;c=0,u=0,f=y>>>16,l=65535&p|y<<16,n.__setDigit(i,l)}}static __internalMultiplyAdd(e,r,n,i,a){var s=Math.imul;let o=n,f=0;for(let c=0;c<i;c++){const u=e.__digit(c),l=s(65535&u,r),p=(65535&l)+f+o;o=p>>>16;const y=s(u>>>16,r),m=(65535&y)+(l>>>16)+o;o=m>>>16,f=y>>>16,a.__setDigit(c,m<<16|65535&p)}if(a.length>i)for(a.__setDigit(i++,o+f);i<a.length;)a.__setDigit(i++,0);else if(o+f!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,r,n){var i=Math.imul;n>this.length&&(n=this.length);const a=65535&e,s=e>>>16;let o=0,f=65535&r,c=r>>>16;for(let u=0;u<n;u++){const l=this.__digit(u),p=65535&l,y=l>>>16,m=i(p,a),A=i(p,s),S=i(y,a),w=i(y,s),C=f+(65535&m),O=c+o+(C>>>16)+(m>>>16)+(65535&A)+(65535&S);f=(A>>>16)+(S>>>16)+(65535&w)+(O>>>16),o=f>>>16,f&=65535,c=w>>>16,this.__setDigit(u,65535&C|O<<16)}if(o!=0||f!==0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,r,n){n===null&&(n=new ee(e.length,!1));let i=0;for(let a,s=2*e.length-1;0<=s;s-=2){a=(i<<16|e.__halfDigit(s))>>>0;const o=0|a/r;i=0|a%r,a=(i<<16|e.__halfDigit(s-1))>>>0;const f=0|a/r;i=0|a%r,n.__setDigit(s>>>1,o<<16|f)}return n}static __absoluteModSmall(e,r){let n=0;for(let i=2*e.length-1;0<=i;i--)n=0|((n<<16|e.__halfDigit(i))>>>0)%r;return n}static __absoluteDivLarge(e,r,n,i){var a=Math.imul;const s=r.__halfDigitLength(),o=r.length,f=e.__halfDigitLength()-s;let c=null;n&&(c=new ee(f+2>>>1,!1),c.__initializeDigits());const u=new ee(s+2>>>1,!1);u.__initializeDigits();const l=ee.__clz16(r.__halfDigit(s-1));0<l&&(r=ee.__specialLeftShift(r,l,0));const p=ee.__specialLeftShift(e,l,1),y=r.__halfDigit(s-1);let m=0;for(let A,S=f;0<=S;S--){A=65535;const w=p.__halfDigit(S+s);if(w!==y){const O=(w<<16|p.__halfDigit(S+s-1))>>>0;A=0|O/y;let M=0|O%y;const U=r.__halfDigit(s-2),K=p.__halfDigit(S+s-2);for(;a(A,U)>>>0>(M<<16|K)>>>0&&(A--,M+=y,!(65535<M)););}ee.__internalMultiplyAdd(r,A,0,o,u);let C=p.__inplaceSub(u,S,s+1);C!==0&&(C=p.__inplaceAdd(r,S,s),p.__setHalfDigit(S+s,p.__halfDigit(S+s)+C),A--),n&&(1&S?m=A<<16:c.__setDigit(S>>>1,m|A))}return i?(p.__inplaceRightShift(l),n?{quotient:c,remainder:p}:p):n?c:void 0}static __clz16(e){return Math.clz32(e)-16}__inplaceAdd(e,r,n){let i=0;for(let a=0;a<n;a++){const s=this.__halfDigit(r+a)+e.__halfDigit(a)+i;i=s>>>16,this.__setHalfDigit(r+a,s)}return i}__inplaceSub(e,r,n){let i=0;if(1&r){r>>=1;let a=this.__digit(r),s=65535&a,o=0;for(;o<n-1>>>1;o++){const u=e.__digit(o),l=(a>>>16)-(65535&u)-i;i=1&l>>>16,this.__setDigit(r+o,l<<16|65535&s),a=this.__digit(r+o+1),s=(65535&a)-(u>>>16)-i,i=1&s>>>16}const f=e.__digit(o),c=(a>>>16)-(65535&f)-i;if(i=1&c>>>16,this.__setDigit(r+o,c<<16|65535&s),r+o+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(a=this.__digit(r+o+1),s=(65535&a)-(f>>>16)-i,i=1&s>>>16,this.__setDigit(r+e.length,4294901760&a|65535&s))}else{r>>=1;let a=0;for(;a<e.length-1;a++){const u=this.__digit(r+a),l=e.__digit(a),p=(65535&u)-(65535&l)-i;i=1&p>>>16;const y=(u>>>16)-(l>>>16)-i;i=1&y>>>16,this.__setDigit(r+a,y<<16|65535&p)}const s=this.__digit(r+a),o=e.__digit(a),f=(65535&s)-(65535&o)-i;i=1&f>>>16;let c=0;!(1&n)&&(c=(s>>>16)-(o>>>16)-i,i=1&c>>>16),this.__setDigit(r+a,c<<16|65535&f)}return i}__inplaceRightShift(e){if(e===0)return;let r=this.__digit(0)>>>e;const n=this.length-1;for(let i=0;i<n;i++){const a=this.__digit(i+1);this.__setDigit(i,a<<32-e|r),r=a>>>e}this.__setDigit(n,r)}static __specialLeftShift(e,r,n){const i=e.length,a=new ee(i+n,!1);if(r===0){for(let o=0;o<i;o++)a.__setDigit(o,e.__digit(o));return 0<n&&a.__setDigit(i,0),a}let s=0;for(let o=0;o<i;o++){const f=e.__digit(o);a.__setDigit(o,f<<r|s),s=f>>>32-r}return 0<n&&a.__setDigit(i,s),a}static __leftShiftByAbsolute(e,r){const n=ee.__toShiftAmount(r);if(0>n)throw new RangeError("BigInt too big");const i=n>>>5,a=31&n,s=e.length,o=a!==0&&e.__digit(s-1)>>>32-a!=0,f=s+i+(o?1:0),c=new ee(f,e.sign);if(a===0){let u=0;for(;u<i;u++)c.__setDigit(u,0);for(;u<f;u++)c.__setDigit(u,e.__digit(u-i))}else{let u=0;for(let l=0;l<i;l++)c.__setDigit(l,0);for(let l=0;l<s;l++){const p=e.__digit(l);c.__setDigit(l+i,p<<a|u),u=p>>>32-a}if(o)c.__setDigit(s+i,u);else if(u!==0)throw new Error("implementation bug")}return c.__trim()}static __rightShiftByAbsolute(e,r){const n=e.length,i=e.sign,a=ee.__toShiftAmount(r);if(0>a)return ee.__rightShiftByMaximum(i);const s=a>>>5,o=31&a;let f=n-s;if(0>=f)return ee.__rightShiftByMaximum(i);let c=!1;if(i){if(e.__digit(s)&(1<<o)-1)c=!0;else for(let l=0;l<s;l++)if(e.__digit(l)!==0){c=!0;break}}c&&o===0&&!~e.__digit(n-1)&&f++;let u=new ee(f,i);if(o===0)for(let l=s;l<n;l++)u.__setDigit(l-s,e.__digit(l));else{let l=e.__digit(s)>>>o;const p=n-s-1;for(let y=0;y<p;y++){const m=e.__digit(y+s+1);u.__setDigit(y,m<<32-o|l),l=m>>>o}u.__setDigit(p,l)}return c&&(u=ee.__absoluteAddOne(u,!0,u)),u.__trim()}static __rightShiftByMaximum(e){return e?ee.__oneDigit(1,!0):ee.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const r=e.__unsignedDigit(0);return r>ee.__kMaxLengthBits?-1:r}static __toPrimitive(e,r="default"){if(typeof e!="object"||e.constructor===ee)return e;const n=e[Symbol.toPrimitive];if(n){const s=n(r);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}const i=e.valueOf;if(i){const s=i.call(e);if(typeof s!="object")return s}const a=e.toString;if(a){const s=a.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return ee.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e.constructor===ee}static __truncateToNBits(e,r){const n=e+31>>>5,i=new ee(n,r.sign),a=n-1;for(let o=0;o<a;o++)i.__setDigit(o,r.__digit(o));let s=r.__digit(a);if(31&e){const o=32-(31&e);s=s<<o>>>o}return i.__setDigit(a,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,r,n){var i=Math.min;const a=e+31>>>5,s=new ee(a,n);let o=0;const f=a-1;let c=0;for(const y=i(f,r.length);o<y;o++){const m=r.__digit(o),A=0-(65535&m)-c;c=1&A>>>16;const S=0-(m>>>16)-c;c=1&S>>>16,s.__setDigit(o,65535&A|S<<16)}for(;o<f;o++)s.__setDigit(o,0|-c);let u=f<r.length?r.__digit(f):0;const l=31&e;let p;if(l==0){const y=0-(65535&u)-c;c=1&y>>>16;const m=0-(u>>>16)-c;p=65535&y|m<<16}else{const y=32-l;u=u<<y>>>y;const m=1<<32-y,A=(65535&m)-(65535&u)-c;c=1&A>>>16;const S=(m>>>16)-(u>>>16)-c;p=65535&A|S<<16,p&=m-1}return s.__setDigit(f,p),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,r){this[e]=0|r}__setDigitGrow(e,r){this[e]=0|r}__halfDigitLength(){const e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 65535&this[e>>>1]>>>((1&e)<<4)}__setHalfDigit(e,r){const n=e>>>1,i=this.__digit(n),a=1&e?65535&i|r<<16:4294901760&i|65535&r;this.__setDigit(n,a)}static __digitPow(e,r){let n=1;for(;0<r;)1&r&&(n*=e),r>>>=1,e*=e;return n}}ee.__kMaxLength=33554432,ee.__kMaxLengthBits=ee.__kMaxLength<<5,ee.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ee.__kBitsPerCharTableShift=5,ee.__kBitsPerCharTableMultiplier=1<<ee.__kBitsPerCharTableShift,ee.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ee.__kBitConversionBuffer=new ArrayBuffer(8),ee.__kBitConversionDouble=new Float64Array(ee.__kBitConversionBuffer),ee.__kBitConversionInts=new Int32Array(ee.__kBitConversionBuffer);var AR={};const uW="elliptic",lW="6.6.0",dW="EC cryptography",hW="lib/elliptic.js",pW=["lib"],bW={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},gW={type:"git",url:"git@github.com:indutny/elliptic"},yW=["EC","Elliptic","curve","Cryptography"],vW="Fedor Indutny <fedor@indutny.com>",_W="MIT",mW={url:"https://github.com/indutny/elliptic/issues"},wW="https://github.com/indutny/elliptic",AW={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},EW={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},xW={name:uW,version:lW,description:dW,main:hW,files:pW,scripts:bW,repository:gW,keywords:yW,author:vW,license:_W,bugs:mW,homepage:wW,devDependencies:AW,dependencies:EW};var ji={},Y5={exports:{}};const SW={},IW=Object.freeze(Object.defineProperty({__proto__:null,default:SW},Symbol.toStringTag,{value:"Module"})),Y1=eS(IW);Y5.exports;(function(t){(function(e,r){function n(R,_){if(!R)throw new Error(_||"Assertion failed")}function i(R,_){R.super_=_;var I=function(){};I.prototype=_.prototype,R.prototype=new I,R.prototype.constructor=R}function a(R,_,I){if(a.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((_==="le"||_==="be")&&(I=_,_=10),this._init(R||0,_||10,I||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Y1.Buffer}catch{}a.isBN=function(_){return _ instanceof a?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===a.wordSize&&Array.isArray(_.words)},a.max=function(_,I){return _.cmp(I)>0?_:I},a.min=function(_,I){return _.cmp(I)<0?_:I},a.prototype._init=function(_,I,b){if(typeof _=="number")return this._initNumber(_,I,b);if(typeof _=="object")return this._initArray(_,I,b);I==="hex"&&(I=16),n(I===(I|0)&&I>=2&&I<=36),_=_.toString().replace(/\s+/g,"");var v=0;_[0]==="-"&&(v++,this.negative=1),v<_.length&&(I===16?this._parseHex(_,v,b):(this._parseBase(_,I,v),b==="le"&&this._initArray(this.toArray(),I,b)))},a.prototype._initNumber=function(_,I,b){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),I,b)},a.prototype._initArray=function(_,I,b){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d,g,x=0;if(b==="be")for(v=_.length-1,d=0;v>=0;v-=3)g=_[v]|_[v-1]<<8|_[v-2]<<16,this.words[d]|=g<<x&67108863,this.words[d+1]=g>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);else if(b==="le")for(v=0,d=0;v<_.length;v+=3)g=_[v]|_[v+1]<<8|_[v+2]<<16,this.words[d]|=g<<x&67108863,this.words[d+1]=g>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);return this.strip()};function o(R,_){var I=R.charCodeAt(_);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function f(R,_,I){var b=o(R,I);return I-1>=_&&(b|=o(R,I-1)<<4),b}a.prototype._parseHex=function(_,I,b){this.length=Math.ceil((_.length-I)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d=0,g=0,x;if(b==="be")for(v=_.length-1;v>=I;v-=2)x=f(_,I,v)<<d,this.words[g]|=x&67108863,d>=18?(d-=18,g+=1,this.words[g]|=x>>>26):d+=8;else{var E=_.length-I;for(v=E%2===0?I+1:I;v<_.length;v+=2)x=f(_,I,v)<<d,this.words[g]|=x&67108863,d>=18?(d-=18,g+=1,this.words[g]|=x>>>26):d+=8}this.strip()};function c(R,_,I,b){for(var v=0,d=Math.min(R.length,I),g=_;g<d;g++){var x=R.charCodeAt(g)-48;v*=b,x>=49?v+=x-49+10:x>=17?v+=x-17+10:v+=x}return v}a.prototype._parseBase=function(_,I,b){this.words=[0],this.length=1;for(var v=0,d=1;d<=67108863;d*=I)v++;v--,d=d/I|0;for(var g=_.length-b,x=g%v,E=Math.min(g,g-x)+b,h=0,T=b;T<E;T+=v)h=c(_,T,T+v,I),this.imuln(d),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(x!==0){var j=1;for(h=c(_,T,_.length,I),T=0;T<x;T++)j*=I;this.imuln(j),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},a.prototype.copy=function(_){_.words=new Array(this.length);for(var I=0;I<this.length;I++)_.words[I]=this.words[I];_.length=this.length,_.negative=this.negative,_.red=this.red},a.prototype.clone=function(){var _=new a(null);return this.copy(_),_},a.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(_,I){_=_||10,I=I|0||1;var b;if(_===16||_==="hex"){b="";for(var v=0,d=0,g=0;g<this.length;g++){var x=this.words[g],E=((x<<v|d)&16777215).toString(16);d=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,g--),d!==0||g!==this.length-1?b=u[6-E.length]+E+b:b=E+b}for(d!==0&&(b=d.toString(16)+b);b.length%I!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(_===(_|0)&&_>=2&&_<=36){var h=l[_],T=p[_];b="";var j=this.clone();for(j.negative=0;!j.isZero();){var L=j.modn(T).toString(_);j=j.idivn(T),j.isZero()?b=L+b:b=u[h-L.length]+L+b}for(this.isZero()&&(b="0"+b);b.length%I!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(_,I){return n(typeof s<"u"),this.toArrayLike(s,_,I)},a.prototype.toArray=function(_,I){return this.toArrayLike(Array,_,I)},a.prototype.toArrayLike=function(_,I,b){var v=this.byteLength(),d=b||Math.max(1,v);n(v<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var g=I==="le",x=new _(d),E,h,T=this.clone();if(g){for(h=0;!T.isZero();h++)E=T.andln(255),T.iushrn(8),x[h]=E;for(;h<d;h++)x[h]=0}else{for(h=0;h<d-v;h++)x[h]=0;for(h=0;!T.isZero();h++)E=T.andln(255),T.iushrn(8),x[d-h-1]=E}return x},Math.clz32?a.prototype._countBits=function(_){return 32-Math.clz32(_)}:a.prototype._countBits=function(_){var I=_,b=0;return I>=4096&&(b+=13,I>>>=13),I>=64&&(b+=7,I>>>=7),I>=8&&(b+=4,I>>>=4),I>=2&&(b+=2,I>>>=2),b+I},a.prototype._zeroBits=function(_){if(_===0)return 26;var I=_,b=0;return I&8191||(b+=13,I>>>=13),I&127||(b+=7,I>>>=7),I&15||(b+=4,I>>>=4),I&3||(b+=2,I>>>=2),I&1||b++,b},a.prototype.bitLength=function(){var _=this.words[this.length-1],I=this._countBits(_);return(this.length-1)*26+I};function y(R){for(var _=new Array(R.bitLength()),I=0;I<_.length;I++){var b=I/26|0,v=I%26;_[I]=(R.words[b]&1<<v)>>>v}return _}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,I=0;I<this.length;I++){var b=this._zeroBits(this.words[I]);if(_+=b,b!==26)break}return _},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},a.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var I=0;I<_.length;I++)this.words[I]=this.words[I]|_.words[I];return this.strip()},a.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},a.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},a.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},a.prototype.iuand=function(_){var I;this.length>_.length?I=_:I=this;for(var b=0;b<I.length;b++)this.words[b]=this.words[b]&_.words[b];return this.length=I.length,this.strip()},a.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},a.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},a.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},a.prototype.iuxor=function(_){var I,b;this.length>_.length?(I=this,b=_):(I=_,b=this);for(var v=0;v<b.length;v++)this.words[v]=I.words[v]^b.words[v];if(this!==I)for(;v<I.length;v++)this.words[v]=I.words[v];return this.length=I.length,this.strip()},a.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},a.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},a.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},a.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var I=Math.ceil(_/26)|0,b=_%26;this._expand(I),b>0&&I--;for(var v=0;v<I;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},a.prototype.notn=function(_){return this.clone().inotn(_)},a.prototype.setn=function(_,I){n(typeof _=="number"&&_>=0);var b=_/26|0,v=_%26;return this._expand(b+1),I?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},a.prototype.iadd=function(_){var I;if(this.negative!==0&&_.negative===0)return this.negative=0,I=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,I=this.isub(_),_.negative=1,I._normSign();var b,v;this.length>_.length?(b=this,v=_):(b=_,v=this);for(var d=0,g=0;g<v.length;g++)I=(b.words[g]|0)+(v.words[g]|0)+d,this.words[g]=I&67108863,d=I>>>26;for(;d!==0&&g<b.length;g++)I=(b.words[g]|0)+d,this.words[g]=I&67108863,d=I>>>26;if(this.length=b.length,d!==0)this.words[this.length]=d,this.length++;else if(b!==this)for(;g<b.length;g++)this.words[g]=b.words[g];return this},a.prototype.add=function(_){var I;return _.negative!==0&&this.negative===0?(_.negative=0,I=this.sub(_),_.negative^=1,I):_.negative===0&&this.negative!==0?(this.negative=0,I=_.sub(this),this.negative=1,I):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},a.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var I=this.iadd(_);return _.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var b=this.cmp(_);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,d;b>0?(v=this,d=_):(v=_,d=this);for(var g=0,x=0;x<d.length;x++)I=(v.words[x]|0)-(d.words[x]|0)+g,g=I>>26,this.words[x]=I&67108863;for(;g!==0&&x<v.length;x++)I=(v.words[x]|0)+g,g=I>>26,this.words[x]=I&67108863;if(g===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(_){return this.clone().isub(_)};function m(R,_,I){I.negative=_.negative^R.negative;var b=R.length+_.length|0;I.length=b,b=b-1|0;var v=R.words[0]|0,d=_.words[0]|0,g=v*d,x=g&67108863,E=g/67108864|0;I.words[0]=x;for(var h=1;h<b;h++){for(var T=E>>>26,j=E&67108863,L=Math.min(h,_.length-1),$=Math.max(0,h-R.length+1);$<=L;$++){var F=h-$|0;v=R.words[F]|0,d=_.words[$]|0,g=v*d+j,T+=g/67108864|0,j=g&67108863}I.words[h]=j|0,E=T|0}return E!==0?I.words[h]=E|0:I.length--,I.strip()}var A=function(_,I,b){var v=_.words,d=I.words,g=b.words,x=0,E,h,T,j=v[0]|0,L=j&8191,$=j>>>13,F=v[1]|0,H=F&8191,q=F>>>13,X=v[2]|0,te=X&8191,ne=X>>>13,N=v[3]|0,P=N&8191,re=N>>>13,ue=v[4]|0,de=ue&8191,V=ue>>>13,J=v[5]|0,ie=J&8191,ce=J>>>13,ye=v[6]|0,ge=ye&8191,Se=ye>>>13,kt=v[7]|0,He=kt&8191,Fe=kt>>>13,fn=v[8]|0,z=fn&8191,B=fn>>>13,D=v[9]|0,Y=D&8191,ae=D>>>13,fe=d[0]|0,le=fe&8191,Oe=fe>>>13,nt=d[1]|0,Re=nt&8191,Le=nt>>>13,Ze=d[2]|0,ot=Ze&8191,zt=Ze>>>13,ab=d[3]|0,Wt=ab&8191,Rt=ab>>>13,tf=d[4]|0,Lt=tf&8191,Ht=tf>>>13,Xu=d[5]|0,yt=Xu&8191,Xt=Xu>>>13,sb=d[6]|0,Zt=sb&8191,Jt=sb>>>13,ob=d[7]|0,jt=ob&8191,Pt=ob>>>13,ps=d[8]|0,er=ps&8191,tr=ps>>>13,fb=d[9]|0,rr=fb&8191,nr=fb>>>13;b.negative=_.negative^I.negative,b.length=19,E=Math.imul(L,le),h=Math.imul(L,Oe),h=h+Math.imul($,le)|0,T=Math.imul($,Oe);var bi=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(bi>>>26)|0,bi&=67108863,E=Math.imul(H,le),h=Math.imul(H,Oe),h=h+Math.imul(q,le)|0,T=Math.imul(q,Oe),E=E+Math.imul(L,Re)|0,h=h+Math.imul(L,Le)|0,h=h+Math.imul($,Re)|0,T=T+Math.imul($,Le)|0;var D0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(D0>>>26)|0,D0&=67108863,E=Math.imul(te,le),h=Math.imul(te,Oe),h=h+Math.imul(ne,le)|0,T=Math.imul(ne,Oe),E=E+Math.imul(H,Re)|0,h=h+Math.imul(H,Le)|0,h=h+Math.imul(q,Re)|0,T=T+Math.imul(q,Le)|0,E=E+Math.imul(L,ot)|0,h=h+Math.imul(L,zt)|0,h=h+Math.imul($,ot)|0,T=T+Math.imul($,zt)|0;var M0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(M0>>>26)|0,M0&=67108863,E=Math.imul(P,le),h=Math.imul(P,Oe),h=h+Math.imul(re,le)|0,T=Math.imul(re,Oe),E=E+Math.imul(te,Re)|0,h=h+Math.imul(te,Le)|0,h=h+Math.imul(ne,Re)|0,T=T+Math.imul(ne,Le)|0,E=E+Math.imul(H,ot)|0,h=h+Math.imul(H,zt)|0,h=h+Math.imul(q,ot)|0,T=T+Math.imul(q,zt)|0,E=E+Math.imul(L,Wt)|0,h=h+Math.imul(L,Rt)|0,h=h+Math.imul($,Wt)|0,T=T+Math.imul($,Rt)|0;var R0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(R0>>>26)|0,R0&=67108863,E=Math.imul(de,le),h=Math.imul(de,Oe),h=h+Math.imul(V,le)|0,T=Math.imul(V,Oe),E=E+Math.imul(P,Re)|0,h=h+Math.imul(P,Le)|0,h=h+Math.imul(re,Re)|0,T=T+Math.imul(re,Le)|0,E=E+Math.imul(te,ot)|0,h=h+Math.imul(te,zt)|0,h=h+Math.imul(ne,ot)|0,T=T+Math.imul(ne,zt)|0,E=E+Math.imul(H,Wt)|0,h=h+Math.imul(H,Rt)|0,h=h+Math.imul(q,Wt)|0,T=T+Math.imul(q,Rt)|0,E=E+Math.imul(L,Lt)|0,h=h+Math.imul(L,Ht)|0,h=h+Math.imul($,Lt)|0,T=T+Math.imul($,Ht)|0;var L0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(L0>>>26)|0,L0&=67108863,E=Math.imul(ie,le),h=Math.imul(ie,Oe),h=h+Math.imul(ce,le)|0,T=Math.imul(ce,Oe),E=E+Math.imul(de,Re)|0,h=h+Math.imul(de,Le)|0,h=h+Math.imul(V,Re)|0,T=T+Math.imul(V,Le)|0,E=E+Math.imul(P,ot)|0,h=h+Math.imul(P,zt)|0,h=h+Math.imul(re,ot)|0,T=T+Math.imul(re,zt)|0,E=E+Math.imul(te,Wt)|0,h=h+Math.imul(te,Rt)|0,h=h+Math.imul(ne,Wt)|0,T=T+Math.imul(ne,Rt)|0,E=E+Math.imul(H,Lt)|0,h=h+Math.imul(H,Ht)|0,h=h+Math.imul(q,Lt)|0,T=T+Math.imul(q,Ht)|0,E=E+Math.imul(L,yt)|0,h=h+Math.imul(L,Xt)|0,h=h+Math.imul($,yt)|0,T=T+Math.imul($,Xt)|0;var H0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(H0>>>26)|0,H0&=67108863,E=Math.imul(ge,le),h=Math.imul(ge,Oe),h=h+Math.imul(Se,le)|0,T=Math.imul(Se,Oe),E=E+Math.imul(ie,Re)|0,h=h+Math.imul(ie,Le)|0,h=h+Math.imul(ce,Re)|0,T=T+Math.imul(ce,Le)|0,E=E+Math.imul(de,ot)|0,h=h+Math.imul(de,zt)|0,h=h+Math.imul(V,ot)|0,T=T+Math.imul(V,zt)|0,E=E+Math.imul(P,Wt)|0,h=h+Math.imul(P,Rt)|0,h=h+Math.imul(re,Wt)|0,T=T+Math.imul(re,Rt)|0,E=E+Math.imul(te,Lt)|0,h=h+Math.imul(te,Ht)|0,h=h+Math.imul(ne,Lt)|0,T=T+Math.imul(ne,Ht)|0,E=E+Math.imul(H,yt)|0,h=h+Math.imul(H,Xt)|0,h=h+Math.imul(q,yt)|0,T=T+Math.imul(q,Xt)|0,E=E+Math.imul(L,Zt)|0,h=h+Math.imul(L,Jt)|0,h=h+Math.imul($,Zt)|0,T=T+Math.imul($,Jt)|0;var Pa=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,E=Math.imul(He,le),h=Math.imul(He,Oe),h=h+Math.imul(Fe,le)|0,T=Math.imul(Fe,Oe),E=E+Math.imul(ge,Re)|0,h=h+Math.imul(ge,Le)|0,h=h+Math.imul(Se,Re)|0,T=T+Math.imul(Se,Le)|0,E=E+Math.imul(ie,ot)|0,h=h+Math.imul(ie,zt)|0,h=h+Math.imul(ce,ot)|0,T=T+Math.imul(ce,zt)|0,E=E+Math.imul(de,Wt)|0,h=h+Math.imul(de,Rt)|0,h=h+Math.imul(V,Wt)|0,T=T+Math.imul(V,Rt)|0,E=E+Math.imul(P,Lt)|0,h=h+Math.imul(P,Ht)|0,h=h+Math.imul(re,Lt)|0,T=T+Math.imul(re,Ht)|0,E=E+Math.imul(te,yt)|0,h=h+Math.imul(te,Xt)|0,h=h+Math.imul(ne,yt)|0,T=T+Math.imul(ne,Xt)|0,E=E+Math.imul(H,Zt)|0,h=h+Math.imul(H,Jt)|0,h=h+Math.imul(q,Zt)|0,T=T+Math.imul(q,Jt)|0,E=E+Math.imul(L,jt)|0,h=h+Math.imul(L,Pt)|0,h=h+Math.imul($,jt)|0,T=T+Math.imul($,Pt)|0;var P0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(P0>>>26)|0,P0&=67108863,E=Math.imul(z,le),h=Math.imul(z,Oe),h=h+Math.imul(B,le)|0,T=Math.imul(B,Oe),E=E+Math.imul(He,Re)|0,h=h+Math.imul(He,Le)|0,h=h+Math.imul(Fe,Re)|0,T=T+Math.imul(Fe,Le)|0,E=E+Math.imul(ge,ot)|0,h=h+Math.imul(ge,zt)|0,h=h+Math.imul(Se,ot)|0,T=T+Math.imul(Se,zt)|0,E=E+Math.imul(ie,Wt)|0,h=h+Math.imul(ie,Rt)|0,h=h+Math.imul(ce,Wt)|0,T=T+Math.imul(ce,Rt)|0,E=E+Math.imul(de,Lt)|0,h=h+Math.imul(de,Ht)|0,h=h+Math.imul(V,Lt)|0,T=T+Math.imul(V,Ht)|0,E=E+Math.imul(P,yt)|0,h=h+Math.imul(P,Xt)|0,h=h+Math.imul(re,yt)|0,T=T+Math.imul(re,Xt)|0,E=E+Math.imul(te,Zt)|0,h=h+Math.imul(te,Jt)|0,h=h+Math.imul(ne,Zt)|0,T=T+Math.imul(ne,Jt)|0,E=E+Math.imul(H,jt)|0,h=h+Math.imul(H,Pt)|0,h=h+Math.imul(q,jt)|0,T=T+Math.imul(q,Pt)|0,E=E+Math.imul(L,er)|0,h=h+Math.imul(L,tr)|0,h=h+Math.imul($,er)|0,T=T+Math.imul($,tr)|0;var N0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(N0>>>26)|0,N0&=67108863,E=Math.imul(Y,le),h=Math.imul(Y,Oe),h=h+Math.imul(ae,le)|0,T=Math.imul(ae,Oe),E=E+Math.imul(z,Re)|0,h=h+Math.imul(z,Le)|0,h=h+Math.imul(B,Re)|0,T=T+Math.imul(B,Le)|0,E=E+Math.imul(He,ot)|0,h=h+Math.imul(He,zt)|0,h=h+Math.imul(Fe,ot)|0,T=T+Math.imul(Fe,zt)|0,E=E+Math.imul(ge,Wt)|0,h=h+Math.imul(ge,Rt)|0,h=h+Math.imul(Se,Wt)|0,T=T+Math.imul(Se,Rt)|0,E=E+Math.imul(ie,Lt)|0,h=h+Math.imul(ie,Ht)|0,h=h+Math.imul(ce,Lt)|0,T=T+Math.imul(ce,Ht)|0,E=E+Math.imul(de,yt)|0,h=h+Math.imul(de,Xt)|0,h=h+Math.imul(V,yt)|0,T=T+Math.imul(V,Xt)|0,E=E+Math.imul(P,Zt)|0,h=h+Math.imul(P,Jt)|0,h=h+Math.imul(re,Zt)|0,T=T+Math.imul(re,Jt)|0,E=E+Math.imul(te,jt)|0,h=h+Math.imul(te,Pt)|0,h=h+Math.imul(ne,jt)|0,T=T+Math.imul(ne,Pt)|0,E=E+Math.imul(H,er)|0,h=h+Math.imul(H,tr)|0,h=h+Math.imul(q,er)|0,T=T+Math.imul(q,tr)|0,E=E+Math.imul(L,rr)|0,h=h+Math.imul(L,nr)|0,h=h+Math.imul($,rr)|0,T=T+Math.imul($,nr)|0;var U0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(U0>>>26)|0,U0&=67108863,E=Math.imul(Y,Re),h=Math.imul(Y,Le),h=h+Math.imul(ae,Re)|0,T=Math.imul(ae,Le),E=E+Math.imul(z,ot)|0,h=h+Math.imul(z,zt)|0,h=h+Math.imul(B,ot)|0,T=T+Math.imul(B,zt)|0,E=E+Math.imul(He,Wt)|0,h=h+Math.imul(He,Rt)|0,h=h+Math.imul(Fe,Wt)|0,T=T+Math.imul(Fe,Rt)|0,E=E+Math.imul(ge,Lt)|0,h=h+Math.imul(ge,Ht)|0,h=h+Math.imul(Se,Lt)|0,T=T+Math.imul(Se,Ht)|0,E=E+Math.imul(ie,yt)|0,h=h+Math.imul(ie,Xt)|0,h=h+Math.imul(ce,yt)|0,T=T+Math.imul(ce,Xt)|0,E=E+Math.imul(de,Zt)|0,h=h+Math.imul(de,Jt)|0,h=h+Math.imul(V,Zt)|0,T=T+Math.imul(V,Jt)|0,E=E+Math.imul(P,jt)|0,h=h+Math.imul(P,Pt)|0,h=h+Math.imul(re,jt)|0,T=T+Math.imul(re,Pt)|0,E=E+Math.imul(te,er)|0,h=h+Math.imul(te,tr)|0,h=h+Math.imul(ne,er)|0,T=T+Math.imul(ne,tr)|0,E=E+Math.imul(H,rr)|0,h=h+Math.imul(H,nr)|0,h=h+Math.imul(q,rr)|0,T=T+Math.imul(q,nr)|0;var k0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(k0>>>26)|0,k0&=67108863,E=Math.imul(Y,ot),h=Math.imul(Y,zt),h=h+Math.imul(ae,ot)|0,T=Math.imul(ae,zt),E=E+Math.imul(z,Wt)|0,h=h+Math.imul(z,Rt)|0,h=h+Math.imul(B,Wt)|0,T=T+Math.imul(B,Rt)|0,E=E+Math.imul(He,Lt)|0,h=h+Math.imul(He,Ht)|0,h=h+Math.imul(Fe,Lt)|0,T=T+Math.imul(Fe,Ht)|0,E=E+Math.imul(ge,yt)|0,h=h+Math.imul(ge,Xt)|0,h=h+Math.imul(Se,yt)|0,T=T+Math.imul(Se,Xt)|0,E=E+Math.imul(ie,Zt)|0,h=h+Math.imul(ie,Jt)|0,h=h+Math.imul(ce,Zt)|0,T=T+Math.imul(ce,Jt)|0,E=E+Math.imul(de,jt)|0,h=h+Math.imul(de,Pt)|0,h=h+Math.imul(V,jt)|0,T=T+Math.imul(V,Pt)|0,E=E+Math.imul(P,er)|0,h=h+Math.imul(P,tr)|0,h=h+Math.imul(re,er)|0,T=T+Math.imul(re,tr)|0,E=E+Math.imul(te,rr)|0,h=h+Math.imul(te,nr)|0,h=h+Math.imul(ne,rr)|0,T=T+Math.imul(ne,nr)|0;var z0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(z0>>>26)|0,z0&=67108863,E=Math.imul(Y,Wt),h=Math.imul(Y,Rt),h=h+Math.imul(ae,Wt)|0,T=Math.imul(ae,Rt),E=E+Math.imul(z,Lt)|0,h=h+Math.imul(z,Ht)|0,h=h+Math.imul(B,Lt)|0,T=T+Math.imul(B,Ht)|0,E=E+Math.imul(He,yt)|0,h=h+Math.imul(He,Xt)|0,h=h+Math.imul(Fe,yt)|0,T=T+Math.imul(Fe,Xt)|0,E=E+Math.imul(ge,Zt)|0,h=h+Math.imul(ge,Jt)|0,h=h+Math.imul(Se,Zt)|0,T=T+Math.imul(Se,Jt)|0,E=E+Math.imul(ie,jt)|0,h=h+Math.imul(ie,Pt)|0,h=h+Math.imul(ce,jt)|0,T=T+Math.imul(ce,Pt)|0,E=E+Math.imul(de,er)|0,h=h+Math.imul(de,tr)|0,h=h+Math.imul(V,er)|0,T=T+Math.imul(V,tr)|0,E=E+Math.imul(P,rr)|0,h=h+Math.imul(P,nr)|0,h=h+Math.imul(re,rr)|0,T=T+Math.imul(re,nr)|0;var rf=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(rf>>>26)|0,rf&=67108863,E=Math.imul(Y,Lt),h=Math.imul(Y,Ht),h=h+Math.imul(ae,Lt)|0,T=Math.imul(ae,Ht),E=E+Math.imul(z,yt)|0,h=h+Math.imul(z,Xt)|0,h=h+Math.imul(B,yt)|0,T=T+Math.imul(B,Xt)|0,E=E+Math.imul(He,Zt)|0,h=h+Math.imul(He,Jt)|0,h=h+Math.imul(Fe,Zt)|0,T=T+Math.imul(Fe,Jt)|0,E=E+Math.imul(ge,jt)|0,h=h+Math.imul(ge,Pt)|0,h=h+Math.imul(Se,jt)|0,T=T+Math.imul(Se,Pt)|0,E=E+Math.imul(ie,er)|0,h=h+Math.imul(ie,tr)|0,h=h+Math.imul(ce,er)|0,T=T+Math.imul(ce,tr)|0,E=E+Math.imul(de,rr)|0,h=h+Math.imul(de,nr)|0,h=h+Math.imul(V,rr)|0,T=T+Math.imul(V,nr)|0;var j0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(j0>>>26)|0,j0&=67108863,E=Math.imul(Y,yt),h=Math.imul(Y,Xt),h=h+Math.imul(ae,yt)|0,T=Math.imul(ae,Xt),E=E+Math.imul(z,Zt)|0,h=h+Math.imul(z,Jt)|0,h=h+Math.imul(B,Zt)|0,T=T+Math.imul(B,Jt)|0,E=E+Math.imul(He,jt)|0,h=h+Math.imul(He,Pt)|0,h=h+Math.imul(Fe,jt)|0,T=T+Math.imul(Fe,Pt)|0,E=E+Math.imul(ge,er)|0,h=h+Math.imul(ge,tr)|0,h=h+Math.imul(Se,er)|0,T=T+Math.imul(Se,tr)|0,E=E+Math.imul(ie,rr)|0,h=h+Math.imul(ie,nr)|0,h=h+Math.imul(ce,rr)|0,T=T+Math.imul(ce,nr)|0;var $0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+($0>>>26)|0,$0&=67108863,E=Math.imul(Y,Zt),h=Math.imul(Y,Jt),h=h+Math.imul(ae,Zt)|0,T=Math.imul(ae,Jt),E=E+Math.imul(z,jt)|0,h=h+Math.imul(z,Pt)|0,h=h+Math.imul(B,jt)|0,T=T+Math.imul(B,Pt)|0,E=E+Math.imul(He,er)|0,h=h+Math.imul(He,tr)|0,h=h+Math.imul(Fe,er)|0,T=T+Math.imul(Fe,tr)|0,E=E+Math.imul(ge,rr)|0,h=h+Math.imul(ge,nr)|0,h=h+Math.imul(Se,rr)|0,T=T+Math.imul(Se,nr)|0;var Fi=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,E=Math.imul(Y,jt),h=Math.imul(Y,Pt),h=h+Math.imul(ae,jt)|0,T=Math.imul(ae,Pt),E=E+Math.imul(z,er)|0,h=h+Math.imul(z,tr)|0,h=h+Math.imul(B,er)|0,T=T+Math.imul(B,tr)|0,E=E+Math.imul(He,rr)|0,h=h+Math.imul(He,nr)|0,h=h+Math.imul(Fe,rr)|0,T=T+Math.imul(Fe,nr)|0;var F0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(F0>>>26)|0,F0&=67108863,E=Math.imul(Y,er),h=Math.imul(Y,tr),h=h+Math.imul(ae,er)|0,T=Math.imul(ae,tr),E=E+Math.imul(z,rr)|0,h=h+Math.imul(z,nr)|0,h=h+Math.imul(B,rr)|0,T=T+Math.imul(B,nr)|0;var q0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(q0>>>26)|0,q0&=67108863,E=Math.imul(Y,rr),h=Math.imul(Y,nr),h=h+Math.imul(ae,rr)|0,T=Math.imul(ae,nr);var K0=(x+E|0)+((h&8191)<<13)|0;return x=(T+(h>>>13)|0)+(K0>>>26)|0,K0&=67108863,g[0]=bi,g[1]=D0,g[2]=M0,g[3]=R0,g[4]=L0,g[5]=H0,g[6]=Pa,g[7]=P0,g[8]=N0,g[9]=U0,g[10]=k0,g[11]=z0,g[12]=rf,g[13]=j0,g[14]=$0,g[15]=Fi,g[16]=F0,g[17]=q0,g[18]=K0,x!==0&&(g[19]=x,b.length++),b};Math.imul||(A=m);function S(R,_,I){I.negative=_.negative^R.negative,I.length=R.length+_.length;for(var b=0,v=0,d=0;d<I.length-1;d++){var g=v;v=0;for(var x=b&67108863,E=Math.min(d,_.length-1),h=Math.max(0,d-R.length+1);h<=E;h++){var T=d-h,j=R.words[T]|0,L=_.words[h]|0,$=j*L,F=$&67108863;g=g+($/67108864|0)|0,F=F+x|0,x=F&67108863,g=g+(F>>>26)|0,v+=g>>>26,g&=67108863}I.words[d]=x,b=g,g=v}return b!==0?I.words[d]=b:I.length--,I.strip()}function w(R,_,I){var b=new C;return b.mulp(R,_,I)}a.prototype.mulTo=function(_,I){var b,v=this.length+_.length;return this.length===10&&_.length===10?b=A(this,_,I):v<63?b=m(this,_,I):v<1024?b=S(this,_,I):b=w(this,_,I),b};function C(R,_){this.x=R,this.y=_}C.prototype.makeRBT=function(_){for(var I=new Array(_),b=a.prototype._countBits(_)-1,v=0;v<_;v++)I[v]=this.revBin(v,b,_);return I},C.prototype.revBin=function(_,I,b){if(_===0||_===b-1)return _;for(var v=0,d=0;d<I;d++)v|=(_&1)<<I-d-1,_>>=1;return v},C.prototype.permute=function(_,I,b,v,d,g){for(var x=0;x<g;x++)v[x]=I[_[x]],d[x]=b[_[x]]},C.prototype.transform=function(_,I,b,v,d,g){this.permute(g,_,I,b,v,d);for(var x=1;x<d;x<<=1)for(var E=x<<1,h=Math.cos(2*Math.PI/E),T=Math.sin(2*Math.PI/E),j=0;j<d;j+=E)for(var L=h,$=T,F=0;F<x;F++){var H=b[j+F],q=v[j+F],X=b[j+F+x],te=v[j+F+x],ne=L*X-$*te;te=L*te+$*X,X=ne,b[j+F]=H+X,v[j+F]=q+te,b[j+F+x]=H-X,v[j+F+x]=q-te,F!==E&&(ne=h*L-T*$,$=h*$+T*L,L=ne)}},C.prototype.guessLen13b=function(_,I){var b=Math.max(I,_)|1,v=b&1,d=0;for(b=b/2|0;b;b=b>>>1)d++;return 1<<d+1+v},C.prototype.conjugate=function(_,I,b){if(!(b<=1))for(var v=0;v<b/2;v++){var d=_[v];_[v]=_[b-v-1],_[b-v-1]=d,d=I[v],I[v]=-I[b-v-1],I[b-v-1]=-d}},C.prototype.normalize13b=function(_,I){for(var b=0,v=0;v<I/2;v++){var d=Math.round(_[2*v+1]/I)*8192+Math.round(_[2*v]/I)+b;_[v]=d&67108863,d<67108864?b=0:b=d/67108864|0}return _},C.prototype.convert13b=function(_,I,b,v){for(var d=0,g=0;g<I;g++)d=d+(_[g]|0),b[2*g]=d&8191,d=d>>>13,b[2*g+1]=d&8191,d=d>>>13;for(g=2*I;g<v;++g)b[g]=0;n(d===0),n((d&-8192)===0)},C.prototype.stub=function(_){for(var I=new Array(_),b=0;b<_;b++)I[b]=0;return I},C.prototype.mulp=function(_,I,b){var v=2*this.guessLen13b(_.length,I.length),d=this.makeRBT(v),g=this.stub(v),x=new Array(v),E=new Array(v),h=new Array(v),T=new Array(v),j=new Array(v),L=new Array(v),$=b.words;$.length=v,this.convert13b(_.words,_.length,x,v),this.convert13b(I.words,I.length,T,v),this.transform(x,g,E,h,v,d),this.transform(T,g,j,L,v,d);for(var F=0;F<v;F++){var H=E[F]*j[F]-h[F]*L[F];h[F]=E[F]*L[F]+h[F]*j[F],E[F]=H}return this.conjugate(E,h,v),this.transform(E,h,$,g,v,d),this.conjugate($,g,v),this.normalize13b($,v),b.negative=_.negative^I.negative,b.length=_.length+I.length,b.strip()},a.prototype.mul=function(_){var I=new a(null);return I.words=new Array(this.length+_.length),this.mulTo(_,I)},a.prototype.mulf=function(_){var I=new a(null);return I.words=new Array(this.length+_.length),w(this,_,I)},a.prototype.imul=function(_){return this.clone().mulTo(_,this)},a.prototype.imuln=function(_){n(typeof _=="number"),n(_<67108864);for(var I=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*_,d=(v&67108863)+(I&67108863);I>>=26,I+=v/67108864|0,I+=d>>>26,this.words[b]=d&67108863}return I!==0&&(this.words[b]=I,this.length++),this},a.prototype.muln=function(_){return this.clone().imuln(_)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(_){var I=y(_);if(I.length===0)return new a(1);for(var b=this,v=0;v<I.length&&I[v]===0;v++,b=b.sqr());if(++v<I.length)for(var d=b.sqr();v<I.length;v++,d=d.sqr())I[v]!==0&&(b=b.mul(d));return b},a.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26,v=67108863>>>26-I<<26-I,d;if(I!==0){var g=0;for(d=0;d<this.length;d++){var x=this.words[d]&v,E=(this.words[d]|0)-x<<I;this.words[d]=E|g,g=x>>>26-I}g&&(this.words[d]=g,this.length++)}if(b!==0){for(d=this.length-1;d>=0;d--)this.words[d+b]=this.words[d];for(d=0;d<b;d++)this.words[d]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},a.prototype.iushrn=function(_,I,b){n(typeof _=="number"&&_>=0);var v;I?v=(I-I%26)/26:v=0;var d=_%26,g=Math.min((_-d)/26,this.length),x=67108863^67108863>>>d<<d,E=b;if(v-=g,v=Math.max(0,v),E){for(var h=0;h<g;h++)E.words[h]=this.words[h];E.length=g}if(g!==0)if(this.length>g)for(this.length-=g,h=0;h<this.length;h++)this.words[h]=this.words[h+g];else this.words[0]=0,this.length=1;var T=0;for(h=this.length-1;h>=0&&(T!==0||h>=v);h--){var j=this.words[h]|0;this.words[h]=T<<26-d|j>>>d,T=j&x}return E&&T!==0&&(E.words[E.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(_,I,b){return n(this.negative===0),this.iushrn(_,I,b)},a.prototype.shln=function(_){return this.clone().ishln(_)},a.prototype.ushln=function(_){return this.clone().iushln(_)},a.prototype.shrn=function(_){return this.clone().ishrn(_)},a.prototype.ushrn=function(_){return this.clone().iushrn(_)},a.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26,v=1<<I;if(this.length<=b)return!1;var d=this.words[b];return!!(d&v)},a.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(I!==0&&b++,this.length=Math.min(b,this.length),I!==0){var v=67108863^67108863>>>I<<I;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(_){return this.clone().imaskn(_)},a.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},a.prototype._iaddn=function(_){this.words[0]+=_;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},a.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},a.prototype.addn=function(_){return this.clone().iaddn(_)},a.prototype.subn=function(_){return this.clone().isubn(_)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(_,I,b){var v=_.length+b,d;this._expand(v);var g,x=0;for(d=0;d<_.length;d++){g=(this.words[d+b]|0)+x;var E=(_.words[d]|0)*I;g-=E&67108863,x=(g>>26)-(E/67108864|0),this.words[d+b]=g&67108863}for(;d<this.length-b;d++)g=(this.words[d+b]|0)+x,x=g>>26,this.words[d+b]=g&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,d=0;d<this.length;d++)g=-(this.words[d]|0)+x,x=g>>26,this.words[d]=g&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(_,I){var b=this.length-_.length,v=this.clone(),d=_,g=d.words[d.length-1]|0,x=this._countBits(g);b=26-x,b!==0&&(d=d.ushln(b),v.iushln(b),g=d.words[d.length-1]|0);var E=v.length-d.length,h;if(I!=="mod"){h=new a(null),h.length=E+1,h.words=new Array(h.length);for(var T=0;T<h.length;T++)h.words[T]=0}var j=v.clone()._ishlnsubmul(d,1,E);j.negative===0&&(v=j,h&&(h.words[E]=1));for(var L=E-1;L>=0;L--){var $=(v.words[d.length+L]|0)*67108864+(v.words[d.length+L-1]|0);for($=Math.min($/g|0,67108863),v._ishlnsubmul(d,$,L);v.negative!==0;)$--,v.negative=0,v._ishlnsubmul(d,1,L),v.isZero()||(v.negative^=1);h&&(h.words[L]=$)}return h&&h.strip(),v.strip(),I!=="div"&&b!==0&&v.iushrn(b),{div:h||null,mod:v}},a.prototype.divmod=function(_,I,b){if(n(!_.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,d,g;return this.negative!==0&&_.negative===0?(g=this.neg().divmod(_,I),I!=="mod"&&(v=g.div.neg()),I!=="div"&&(d=g.mod.neg(),b&&d.negative!==0&&d.iadd(_)),{div:v,mod:d}):this.negative===0&&_.negative!==0?(g=this.divmod(_.neg(),I),I!=="mod"&&(v=g.div.neg()),{div:v,mod:g.mod}):this.negative&_.negative?(g=this.neg().divmod(_.neg(),I),I!=="div"&&(d=g.mod.neg(),b&&d.negative!==0&&d.isub(_)),{div:g.div,mod:d}):_.length>this.length||this.cmp(_)<0?{div:new a(0),mod:this}:_.length===1?I==="div"?{div:this.divn(_.words[0]),mod:null}:I==="mod"?{div:null,mod:new a(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new a(this.modn(_.words[0]))}:this._wordDiv(_,I)},a.prototype.div=function(_){return this.divmod(_,"div",!1).div},a.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},a.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},a.prototype.divRound=function(_){var I=this.divmod(_);if(I.mod.isZero())return I.div;var b=I.div.negative!==0?I.mod.isub(_):I.mod,v=_.ushrn(1),d=_.andln(1),g=b.cmp(v);return g<0||d===1&&g===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},a.prototype.modn=function(_){n(_<=67108863);for(var I=(1<<26)%_,b=0,v=this.length-1;v>=0;v--)b=(I*b+(this.words[v]|0))%_;return b},a.prototype.idivn=function(_){n(_<=67108863);for(var I=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+I*67108864;this.words[b]=v/_|0,I=v%_}return this.strip()},a.prototype.divn=function(_){return this.clone().idivn(_)},a.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var I=this,b=_.clone();I.negative!==0?I=I.umod(_):I=I.clone();for(var v=new a(1),d=new a(0),g=new a(0),x=new a(1),E=0;I.isEven()&&b.isEven();)I.iushrn(1),b.iushrn(1),++E;for(var h=b.clone(),T=I.clone();!I.isZero();){for(var j=0,L=1;!(I.words[0]&L)&&j<26;++j,L<<=1);if(j>0)for(I.iushrn(j);j-- >0;)(v.isOdd()||d.isOdd())&&(v.iadd(h),d.isub(T)),v.iushrn(1),d.iushrn(1);for(var $=0,F=1;!(b.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(b.iushrn($);$-- >0;)(g.isOdd()||x.isOdd())&&(g.iadd(h),x.isub(T)),g.iushrn(1),x.iushrn(1);I.cmp(b)>=0?(I.isub(b),v.isub(g),d.isub(x)):(b.isub(I),g.isub(v),x.isub(d))}return{a:g,b:x,gcd:b.iushln(E)}},a.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var I=this,b=_.clone();I.negative!==0?I=I.umod(_):I=I.clone();for(var v=new a(1),d=new a(0),g=b.clone();I.cmpn(1)>0&&b.cmpn(1)>0;){for(var x=0,E=1;!(I.words[0]&E)&&x<26;++x,E<<=1);if(x>0)for(I.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(g),v.iushrn(1);for(var h=0,T=1;!(b.words[0]&T)&&h<26;++h,T<<=1);if(h>0)for(b.iushrn(h);h-- >0;)d.isOdd()&&d.iadd(g),d.iushrn(1);I.cmp(b)>=0?(I.isub(b),v.isub(d)):(b.isub(I),d.isub(v))}var j;return I.cmpn(1)===0?j=v:j=d,j.cmpn(0)<0&&j.iadd(_),j},a.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var I=this.clone(),b=_.clone();I.negative=0,b.negative=0;for(var v=0;I.isEven()&&b.isEven();v++)I.iushrn(1),b.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;b.isEven();)b.iushrn(1);var d=I.cmp(b);if(d<0){var g=I;I=b,b=g}else if(d===0||b.cmpn(1)===0)break;I.isub(b)}while(!0);return b.iushln(v)},a.prototype.invm=function(_){return this.egcd(_).a.umod(_)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(_){return this.words[0]&_},a.prototype.bincn=function(_){n(typeof _=="number");var I=_%26,b=(_-I)/26,v=1<<I;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var d=v,g=b;d!==0&&g<this.length;g++){var x=this.words[g]|0;x+=d,d=x>>>26,x&=67108863,this.words[g]=x}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(_){var I=_<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var b;if(this.length>1)b=1;else{I&&(_=-_),n(_<=67108863,"Number is too big");var v=this.words[0]|0;b=v===_?0:v<_?-1:1}return this.negative!==0?-b|0:b},a.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var I=this.ucmp(_);return this.negative!==0?-I|0:I},a.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var I=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,d=_.words[b]|0;if(v!==d){v<d?I=-1:v>d&&(I=1);break}}return I},a.prototype.gtn=function(_){return this.cmpn(_)===1},a.prototype.gt=function(_){return this.cmp(_)===1},a.prototype.gten=function(_){return this.cmpn(_)>=0},a.prototype.gte=function(_){return this.cmp(_)>=0},a.prototype.ltn=function(_){return this.cmpn(_)===-1},a.prototype.lt=function(_){return this.cmp(_)===-1},a.prototype.lten=function(_){return this.cmpn(_)<=0},a.prototype.lte=function(_){return this.cmp(_)<=0},a.prototype.eqn=function(_){return this.cmpn(_)===0},a.prototype.eq=function(_){return this.cmp(_)===0},a.red=function(_){return new G(_)},a.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(_){return this.red=_,this},a.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},a.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},a.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},a.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},a.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},a.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},a.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},a.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var O={k256:null,p224:null,p192:null,p25519:null};function M(R,_){this.name=R,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var _=new a(null);return _.words=new Array(Math.ceil(this.n/13)),_},M.prototype.ireduce=function(_){var I=_,b;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),b=I.bitLength();while(b>this.n);var v=b<this.n?-1:I.ucmp(this.p);return v===0?(I.words[0]=0,I.length=1):v>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},M.prototype.split=function(_,I){_.iushrn(this.n,0,I)},M.prototype.imulK=function(_){return _.imul(this.k)};function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,M),U.prototype.split=function(_,I){for(var b=4194303,v=Math.min(_.length,9),d=0;d<v;d++)I.words[d]=_.words[d];if(I.length=v,_.length<=9){_.words[0]=0,_.length=1;return}var g=_.words[9];for(I.words[I.length++]=g&b,d=10;d<_.length;d++){var x=_.words[d]|0;_.words[d-10]=(x&b)<<4|g>>>22,g=x}g>>>=22,_.words[d-10]=g,g===0&&_.length>10?_.length-=10:_.length-=9},U.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var I=0,b=0;b<_.length;b++){var v=_.words[b]|0;I+=v*977,_.words[b]=I&67108863,I=v*64+(I/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function K(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,M);function Q(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,M);function k(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(k,M),k.prototype.imulK=function(_){for(var I=0,b=0;b<_.length;b++){var v=(_.words[b]|0)*19+I,d=v&67108863;v>>>=26,_.words[b]=d,I=v}return I!==0&&(_.words[_.length++]=I),_},a._prime=function(_){if(O[_])return O[_];var I;if(_==="k256")I=new U;else if(_==="p224")I=new K;else if(_==="p192")I=new Q;else if(_==="p25519")I=new k;else throw new Error("Unknown prime "+_);return O[_]=I,I};function G(R){if(typeof R=="string"){var _=a._prime(R);this.m=_.p,this.prime=_}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}G.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},G.prototype._verify2=function(_,I){n((_.negative|I.negative)===0,"red works only with positives"),n(_.red&&_.red===I.red,"red works only with red numbers")},G.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},G.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},G.prototype.add=function(_,I){this._verify2(_,I);var b=_.add(I);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},G.prototype.iadd=function(_,I){this._verify2(_,I);var b=_.iadd(I);return b.cmp(this.m)>=0&&b.isub(this.m),b},G.prototype.sub=function(_,I){this._verify2(_,I);var b=_.sub(I);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},G.prototype.isub=function(_,I){this._verify2(_,I);var b=_.isub(I);return b.cmpn(0)<0&&b.iadd(this.m),b},G.prototype.shl=function(_,I){return this._verify1(_),this.imod(_.ushln(I))},G.prototype.imul=function(_,I){return this._verify2(_,I),this.imod(_.imul(I))},G.prototype.mul=function(_,I){return this._verify2(_,I),this.imod(_.mul(I))},G.prototype.isqr=function(_){return this.imul(_,_.clone())},G.prototype.sqr=function(_){return this.mul(_,_)},G.prototype.sqrt=function(_){if(_.isZero())return _.clone();var I=this.m.andln(3);if(n(I%2===1),I===3){var b=this.m.add(new a(1)).iushrn(2);return this.pow(_,b)}for(var v=this.m.subn(1),d=0;!v.isZero()&&v.andln(1)===0;)d++,v.iushrn(1);n(!v.isZero());var g=new a(1).toRed(this),x=g.redNeg(),E=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,E).cmp(x)!==0;)h.redIAdd(x);for(var T=this.pow(h,v),j=this.pow(_,v.addn(1).iushrn(1)),L=this.pow(_,v),$=d;L.cmp(g)!==0;){for(var F=L,H=0;F.cmp(g)!==0;H++)F=F.redSqr();n(H<$);var q=this.pow(T,new a(1).iushln($-H-1));j=j.redMul(q),T=q.redSqr(),L=L.redMul(T),$=H}return j},G.prototype.invm=function(_){var I=_._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},G.prototype.pow=function(_,I){if(I.isZero())return new a(1).toRed(this);if(I.cmpn(1)===0)return _.clone();var b=4,v=new Array(1<<b);v[0]=new a(1).toRed(this),v[1]=_;for(var d=2;d<v.length;d++)v[d]=this.mul(v[d-1],_);var g=v[0],x=0,E=0,h=I.bitLength()%26;for(h===0&&(h=26),d=I.length-1;d>=0;d--){for(var T=I.words[d],j=h-1;j>=0;j--){var L=T>>j&1;if(g!==v[0]&&(g=this.sqr(g)),L===0&&x===0){E=0;continue}x<<=1,x|=L,E++,!(E!==b&&(d!==0||j!==0))&&(g=this.mul(g,v[x]),E=0,x=0)}h=26}return g},G.prototype.convertTo=function(_){var I=_.umod(this.m);return I===_?I.clone():I},G.prototype.convertFrom=function(_){var I=_.clone();return I.red=null,I},a.mont=function(_){return new W(_)};function W(R){G.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,G),W.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},W.prototype.convertFrom=function(_){var I=this.imod(_.mul(this.rinv));return I.red=null,I},W.prototype.imul=function(_,I){if(_.isZero()||I.isZero())return _.words[0]=0,_.length=1,_;var b=_.imul(I),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),g=d;return d.cmp(this.m)>=0?g=d.isub(this.m):d.cmpn(0)<0&&(g=d.iadd(this.m)),g._forceRed(this)},W.prototype.mul=function(_,I){if(_.isZero()||I.isZero())return new a(0)._forceRed(this);var b=_.mul(I),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),g=d;return d.cmp(this.m)>=0?g=d.isub(this.m):d.cmpn(0)<0&&(g=d.iadd(this.m)),g._forceRed(this)},W.prototype.invm=function(_){var I=this.imod(_._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(t,Fn)})(Y5);var Cr=Y5.exports,xc=ER;function ER(t,e){if(!t)throw new Error(e||"Assertion failed")}ER.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var J2={};(function(t){var e=t;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var f=0;f<a.length;f++)o[f]=a[f]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var f=0;f<a.length;f+=2)o.push(parseInt(a[f]+a[f+1],16))}else for(var f=0;f<a.length;f++){var c=a.charCodeAt(f),u=c>>8,l=c&255;u?o.push(u,l):o.push(l)}return o}e.toArray=r;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}e.toHex=i,e.encode=function(s,o){return o==="hex"?i(s):s}})(J2);(function(t){var e=t,r=Cr,n=xc,i=J2;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(u,l,p){var y=new Array(Math.max(u.bitLength(),p)+1),m;for(m=0;m<y.length;m+=1)y[m]=0;var A=1<<l+1,S=u.clone();for(m=0;m<y.length;m++){var w,C=S.andln(A-1);S.isOdd()?(C>(A>>1)-1?w=(A>>1)-C:w=C,S.isubn(w)):w=0,y[m]=w,S.iushrn(1)}return y}e.getNAF=a;function s(u,l){var p=[[],[]];u=u.clone(),l=l.clone();for(var y=0,m=0,A;u.cmpn(-y)>0||l.cmpn(-m)>0;){var S=u.andln(3)+y&3,w=l.andln(3)+m&3;S===3&&(S=-1),w===3&&(w=-1);var C;S&1?(A=u.andln(7)+y&7,(A===3||A===5)&&w===2?C=-S:C=S):C=0,p[0].push(C);var O;w&1?(A=l.andln(7)+m&7,(A===3||A===5)&&S===2?O=-w:O=w):O=0,p[1].push(O),2*y===C+1&&(y=1-y),2*m===O+1&&(m=1-m),u.iushrn(1),l.iushrn(1)}return p}e.getJSF=s;function o(u,l,p){var y="_"+l;u.prototype[l]=function(){return this[y]!==void 0?this[y]:this[y]=p.call(this)}}e.cachedProperty=o;function f(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=f;function c(u){return new r(u,"hex","le")}e.intFromLE=c})(ji);var V5={exports:{}},J_;V5.exports=function(e){return J_||(J_=new jf(null)),J_.generate(e)};function jf(t){this.rand=t}V5.exports.Rand=jf;jf.prototype.generate=function(e){return this._rand(e)};jf.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?jf.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?jf.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(jf.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var EE=Y1;if(typeof EE.randomBytes!="function")throw new Error("Not supported");jf.prototype._rand=function(e){return EE.randomBytes(e)}}catch{}var ev=V5.exports,G5={},Mc=Cr,V1=ji,Cy=V1.getNAF,CW=V1.getJSF,Ty=V1.assert;function Sc(t,e){this.type=t,this.p=new Mc(e.p,16),this.red=e.prime?Mc.red(e.prime):Mc.mont(this.p),this.zero=new Mc(0).toRed(this.red),this.one=new Mc(1).toRed(this.red),this.two=new Mc(2).toRed(this.red),this.n=e.n&&new Mc(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tv=Sc;Sc.prototype.point=function(){throw new Error("Not implemented")};Sc.prototype.validate=function(){throw new Error("Not implemented")};Sc.prototype._fixedNafMul=function(e,r){Ty(e.precomputed);var n=e._getDoubles(),i=Cy(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),p=a;p>0;p--){for(o=0;o<s.length;o++)f=s[o],f===p?l=l.mixedAdd(n.points[o]):f===-p&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Sc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Cy(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];Ty(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Sc.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,l,p;for(u=0;u<i;u++){p=r[u];var y=p._getNAFPoints(e);s[u]=y.wnd,o[u]=y.points}for(u=i-1;u>=1;u-=2){var m=u-1,A=u;if(s[m]!==1||s[A]!==1){f[m]=Cy(n[m],s[m],this._bitLength),f[A]=Cy(n[A],s[A],this._bitLength),c=Math.max(f[m].length,c),c=Math.max(f[A].length,c);continue}var S=[r[m],null,null,r[A]];r[m].y.cmp(r[A].y)===0?(S[1]=r[m].add(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg())):r[m].y.cmp(r[A].y.redNeg())===0?(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].add(r[A].neg())):(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=CW(n[m],n[A]);for(c=Math.max(C[0].length,c),f[m]=new Array(c),f[A]=new Array(c),l=0;l<c;l++){var O=C[0][l]|0,M=C[1][l]|0;f[m][l]=w[(O+1)*3+(M+1)],f[A][l]=0,o[m]=S}}var U=this.jpoint(null,null,null),K=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var k=!0;for(l=0;l<i;l++)K[l]=f[l][u]|0,K[l]!==0&&(k=!1);if(!k)break;Q++,u--}if(u>=0&&Q++,U=U.dblp(Q),u<0)break;for(l=0;l<i;l++){var G=K[l];G!==0&&(G>0?p=o[l][G-1>>1]:G<0&&(p=o[l][-G-1>>1].neg()),p.type==="affine"?U=U.mixedAdd(p):U=U.add(p))}}for(u=0;u<i;u++)o[u]=null;return a?U:U.toP()};function Da(t,e){this.curve=t,this.type=e,this.precomputed=null}Sc.BasePoint=Da;Da.prototype.eq=function(){throw new Error("Not implemented")};Da.prototype.validate=function(){return this.curve.validate(this)};Sc.prototype.decodePoint=function(e,r){e=V1.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ty(e[e.length-1]%2===0):e[0]===7&&Ty(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Da.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Da.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Da.prototype.encode=function(e,r){return V1.encode(this._encode(r),e)};Da.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Da.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Da.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Da.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Da.prototype._getBeta=function(){return null};Da.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var m6={exports:{}};typeof Object.create=="function"?m6.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:m6.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Gt=m6.exports,TW=ji,fr=Cr,W5=Gt,v0=tv,OW=TW.assert;function Ma(t){v0.call(this,"short",t),this.a=new fr(t.a,16).toRed(this.red),this.b=new fr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}W5(Ma,v0);var BW=Ma;Ma.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new fr(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],OW(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new fr(o.a,16),b:new fr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ma.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fr.mont(e),n=new fr(2).toRed(r).redInvm(),i=n.redNeg(),a=new fr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ma.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new fr(1),s=new fr(0),o=new fr(0),f=new fr(1),c,u,l,p,y,m,A,S=0,w,C;n.cmpn(0)!==0;){var O=i.div(n);w=i.sub(O.mul(n)),C=o.sub(O.mul(a));var M=f.sub(O.mul(s));if(!l&&w.cmp(r)<0)c=A.neg(),u=a,l=w.neg(),p=C;else if(l&&++S===2)break;A=w,i=n,n=w,o=a,a=C,f=s,s=M}y=w.neg(),m=C;var U=l.sqr().add(p.sqr()),K=y.sqr().add(m.sqr());return K.cmp(U)>=0&&(y=c,m=u),l.negative&&(l=l.neg(),p=p.neg()),y.negative&&(y=y.neg(),m=m.neg()),[{a:l,b:p},{a:y,b:m}]};Ma.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),l=e.sub(o).sub(f),p=c.add(u).neg();return{k1:l,k2:p}};Ma.prototype.pointFromX=function(e,r){e=new fr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Ma.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ma.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function Kr(t,e,r,n){v0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fr(e,16),this.y=new fr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}W5(Kr,v0.BasePoint);Ma.prototype.point=function(e,r,n){return new Kr(this,e,r,n)};Ma.prototype.pointFromJSON=function(e,r){return Kr.fromJSON(this,e,r)};Kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Kr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Kr.prototype.isInfinity=function(){return this.inf};Kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Kr.prototype.getX=function(){return this.x.fromRed()};Kr.prototype.getY=function(){return this.y.fromRed()};Kr.prototype.mul=function(e){return e=new fr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Kr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Kr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Kr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Kr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function nn(t,e,r,n){v0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fr(0)):(this.x=new fr(e,16),this.y=new fr(r,16),this.z=new fr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}W5(nn,v0.BasePoint);Ma.prototype.jpoint=function(e,r,n){return new nn(this,e,r,n)};nn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};nn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};nn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),p=i.redMul(u),y=c.redSqr().redIAdd(l).redISub(p).redISub(p),m=c.redMul(p.redISub(y)).redISub(s.redMul(l)),A=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(y,m,A)};nn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),p=f.redSqr().redIAdd(u).redISub(l).redISub(l),y=f.redMul(l.redISub(p)).redISub(a.redMul(u)),m=this.z.redMul(o);return this.curve.jpoint(p,y,m)};nn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),p=u.redSqr(),y=p.redSqr(),m=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),A=s.redMul(p),S=m.redSqr().redISub(A.redAdd(A)),w=A.redISub(S),C=m.redMul(w);C=C.redIAdd(C).redISub(y);var O=u.redMul(f);r+1<e&&(c=c.redMul(y)),s=S,f=O,u=C}return this.curve.jpoint(s,u.redMul(a),f)};nn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};nn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),m=this.x.redAdd(p).redSqr().redISub(l).redISub(y);m=m.redIAdd(m);var A=l.redAdd(l).redIAdd(l),S=A.redSqr(),w=y.redIAdd(y);w=w.redIAdd(w),w=w.redIAdd(w),e=S.redISub(m).redISub(m),r=A.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};nn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),y=this.x.redMul(p),m=this.x.redSub(l).redMul(this.x.redAdd(l));m=m.redAdd(m).redIAdd(m);var A=y.redIAdd(y);A=A.redIAdd(A);var S=A.redAdd(A);e=m.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var w=p.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(A.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};nn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),l=f.redSqr().redISub(u.redAdd(u)),p=u.redISub(l),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var m=f.redMul(p).redISub(y),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,m,A)};nn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(f).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var y=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var m=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(p,y,m)};nn.prototype.mul=function(e,r){return e=new fr(e,r),this.curve._wnafMul(this,e)};nn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};nn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};nn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};nn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Tl=Cr,xR=Gt,rv=tv,DW=ji;function _0(t){rv.call(this,"mont",t),this.a=new Tl(t.a,16).toRed(this.red),this.b=new Tl(t.b,16).toRed(this.red),this.i4=new Tl(4).toRed(this.red).redInvm(),this.two=new Tl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}xR(_0,rv);var MW=_0;_0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Fr(t,e,r){rv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Tl(e,16),this.z=new Tl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}xR(Fr,rv.BasePoint);_0.prototype.decodePoint=function(e,r){return this.point(DW.toArray(e,r),1)};_0.prototype.point=function(e,r){return new Fr(this,e,r)};_0.prototype.pointFromJSON=function(e){return Fr.fromJSON(this,e)};Fr.prototype.precompute=function(){};Fr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Fr.fromJSON=function(e,r){return new Fr(e,r[0],r[1]||e.one)};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Fr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Fr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};Fr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Fr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Fr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var RW=ji,Co=Cr,SR=Gt,nv=tv,LW=RW.assert;function Ws(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,nv.call(this,"edwards",t),this.a=new Co(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Co(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Co(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),LW(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}SR(Ws,nv);var HW=Ws;Ws.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ws.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ws.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Ws.prototype.pointFromX=function(e,r){e=new Co(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Ws.prototype.pointFromY=function(e,r){e=new Co(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Ws.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Et(t,e,r,n,i){nv.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Co(e,16),this.y=new Co(r,16),this.z=n?new Co(n,16):this.curve.one,this.t=i&&new Co(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}SR(Et,nv.BasePoint);Ws.prototype.pointFromJSON=function(e){return Et.fromJSON(this,e)};Ws.prototype.point=function(e,r,n,i){return new Et(this,e,r,n,i)};Et.fromJSON=function(e,r){return new Et(e,r[0],r[1],r[2])};Et.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Et.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Et.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),l=a.redMul(f),p=o.redMul(s);return this.curve.point(c,u,p,l)};Et.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};Et.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Et.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),l=f.redMul(c),p=s.redMul(c),y=o.redMul(f);return this.curve.point(u,l,y,p)};Et.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),l,p;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),p=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),p=this.curve._mulC(o).redMul(f)),this.curve.point(u,l,p)};Et.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Et.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Et.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Et.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Et.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Et.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Et.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Et.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Et.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Et.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Et.prototype.toP=Et.prototype.normalize;Et.prototype.mixedAdd=Et.prototype.add;(function(t){var e=t;e.base=tv,e.short=BW,e.mont=MW,e.edwards=HW})(G5);var iv={},m0={},Ke={},PW=xc,NW=Gt;Ke.inherits=NW;function UW(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function kW(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):UW(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ke.toArray=kW;function zW(t){for(var e="",r=0;r<t.length;r++)e+=CR(t[r].toString(16));return e}Ke.toHex=zW;function IR(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ke.htonl=IR;function jW(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=IR(i)),r+=TR(i.toString(16))}return r}Ke.toHex32=jW;function CR(t){return t.length===1?"0"+t:t}Ke.zero2=CR;function TR(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ke.zero8=TR;function $W(t,e,r,n){var i=r-e;PW(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}Ke.join32=$W;function FW(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ke.split32=FW;function qW(t,e){return t>>>e|t<<32-e}Ke.rotr32=qW;function KW(t,e){return t<<e|t>>>32-e}Ke.rotl32=KW;function QW(t,e){return t+e>>>0}Ke.sum32=QW;function YW(t,e,r){return t+e+r>>>0}Ke.sum32_3=YW;function VW(t,e,r,n){return t+e+r+n>>>0}Ke.sum32_4=VW;function GW(t,e,r,n,i){return t+e+r+n+i>>>0}Ke.sum32_5=GW;function WW(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}Ke.sum64=WW;function XW(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Ke.sum64_hi=XW;function ZW(t,e,r,n){var i=e+n;return i>>>0}Ke.sum64_lo=ZW;function JW(t,e,r,n,i,a,s,o){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+a>>>0,f+=c<a?1:0,c=c+o>>>0,f+=c<o?1:0;var u=t+r+i+s+f;return u>>>0}Ke.sum64_4_hi=JW;function eX(t,e,r,n,i,a,s,o){var f=e+n+a+o;return f>>>0}Ke.sum64_4_lo=eX;function tX(t,e,r,n,i,a,s,o,f,c){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+o>>>0,u+=l<o?1:0,l=l+c>>>0,u+=l<c?1:0;var p=t+r+i+s+f+u;return p>>>0}Ke.sum64_5_hi=tX;function rX(t,e,r,n,i,a,s,o,f,c){var u=e+n+a+o+c;return u>>>0}Ke.sum64_5_lo=rX;function nX(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ke.rotr64_hi=nX;function iX(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ke.rotr64_lo=iX;function aX(t,e,r){return t>>>r}Ke.shr64_hi=aX;function sX(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ke.shr64_lo=sX;var w0={},xE=Ke,oX=xc;function av(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}w0.BlockHash=av;av.prototype.update=function(e,r){if(e=xE.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=xE.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};av.prototype.digest=function(e){return this.update(this._pad()),oX(this.pending===null),this._digest(e)};av.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var A0={},Xs={},fX=Ke,Ns=fX.rotr32;function cX(t,e,r,n){if(t===0)return OR(e,r,n);if(t===1||t===3)return DR(e,r,n);if(t===2)return BR(e,r,n)}Xs.ft_1=cX;function OR(t,e,r){return t&e^~t&r}Xs.ch32=OR;function BR(t,e,r){return t&e^t&r^e&r}Xs.maj32=BR;function DR(t,e,r){return t^e^r}Xs.p32=DR;function uX(t){return Ns(t,2)^Ns(t,13)^Ns(t,22)}Xs.s0_256=uX;function lX(t){return Ns(t,6)^Ns(t,11)^Ns(t,25)}Xs.s1_256=lX;function dX(t){return Ns(t,7)^Ns(t,18)^t>>>3}Xs.g0_256=dX;function hX(t){return Ns(t,17)^Ns(t,19)^t>>>10}Xs.g1_256=hX;var Ud=Ke,pX=w0,bX=Xs,em=Ud.rotl32,oh=Ud.sum32,gX=Ud.sum32_5,yX=bX.ft_1,MR=pX.BlockHash,vX=[1518500249,1859775393,2400959708,3395469782];function $s(){if(!(this instanceof $s))return new $s;MR.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ud.inherits($s,MR);var _X=$s;$s.blockSize=512;$s.outSize=160;$s.hmacStrength=80;$s.padLength=64;$s.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=em(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),l=gX(em(a,5),yX(u,s,o,f),c,n[i],vX[u]);c=f,f=o,o=em(s,30),s=a,a=l}this.h[0]=oh(this.h[0],a),this.h[1]=oh(this.h[1],s),this.h[2]=oh(this.h[2],o),this.h[3]=oh(this.h[3],f),this.h[4]=oh(this.h[4],c)};$s.prototype._digest=function(e){return e==="hex"?Ud.toHex32(this.h,"big"):Ud.split32(this.h,"big")};var kd=Ke,mX=w0,E0=Xs,wX=xc,Ua=kd.sum32,AX=kd.sum32_4,EX=kd.sum32_5,xX=E0.ch32,SX=E0.maj32,IX=E0.s0_256,CX=E0.s1_256,TX=E0.g0_256,OX=E0.g1_256,RR=mX.BlockHash,BX=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fs(){if(!(this instanceof Fs))return new Fs;RR.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=BX,this.W=new Array(64)}kd.inherits(Fs,RR);var LR=Fs;Fs.blockSize=512;Fs.outSize=256;Fs.hmacStrength=192;Fs.padLength=64;Fs.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=AX(OX(n[i-2]),n[i-7],TX(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7];for(wX(this.k.length===n.length),i=0;i<n.length;i++){var y=EX(p,CX(c),xX(c,u,l),this.k[i],n[i]),m=Ua(IX(a),SX(a,s,o));p=l,l=u,u=c,c=Ua(f,y),f=o,o=s,s=a,a=Ua(y,m)}this.h[0]=Ua(this.h[0],a),this.h[1]=Ua(this.h[1],s),this.h[2]=Ua(this.h[2],o),this.h[3]=Ua(this.h[3],f),this.h[4]=Ua(this.h[4],c),this.h[5]=Ua(this.h[5],u),this.h[6]=Ua(this.h[6],l),this.h[7]=Ua(this.h[7],p)};Fs.prototype._digest=function(e){return e==="hex"?kd.toHex32(this.h,"big"):kd.split32(this.h,"big")};var w6=Ke,HR=LR;function Ko(){if(!(this instanceof Ko))return new Ko;HR.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}w6.inherits(Ko,HR);var DX=Ko;Ko.blockSize=512;Ko.outSize=224;Ko.hmacStrength=192;Ko.padLength=64;Ko.prototype._digest=function(e){return e==="hex"?w6.toHex32(this.h.slice(0,7),"big"):w6.split32(this.h.slice(0,7),"big")};var ci=Ke,MX=w0,RX=xc,Us=ci.rotr64_hi,ks=ci.rotr64_lo,PR=ci.shr64_hi,NR=ci.shr64_lo,pf=ci.sum64,tm=ci.sum64_hi,rm=ci.sum64_lo,LX=ci.sum64_4_hi,HX=ci.sum64_4_lo,PX=ci.sum64_5_hi,NX=ci.sum64_5_lo,UR=MX.BlockHash,UX=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function cs(){if(!(this instanceof cs))return new cs;UR.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=UX,this.W=new Array(160)}ci.inherits(cs,UR);var kR=cs;cs.blockSize=1024;cs.outSize=512;cs.hmacStrength=192;cs.padLength=128;cs.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=GX(n[i-4],n[i-3]),s=WX(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],c=YX(n[i-30],n[i-29]),u=VX(n[i-30],n[i-29]),l=n[i-32],p=n[i-31];n[i]=LX(a,s,o,f,c,u,l,p),n[i+1]=HX(a,s,o,f,c,u,l,p)}};cs.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],p=this.h[8],y=this.h[9],m=this.h[10],A=this.h[11],S=this.h[12],w=this.h[13],C=this.h[14],O=this.h[15];RX(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var U=C,K=O,Q=KX(p,y),k=QX(p,y),G=kX(p,y,m,A,S),W=zX(p,y,m,A,S,w),R=this.k[M],_=this.k[M+1],I=n[M],b=n[M+1],v=PX(U,K,Q,k,G,W,R,_,I,b),d=NX(U,K,Q,k,G,W,R,_,I,b);U=FX(i,a),K=qX(i,a),Q=jX(i,a,s,o,f),k=$X(i,a,s,o,f,c);var g=tm(U,K,Q,k),x=rm(U,K,Q,k);C=S,O=w,S=m,w=A,m=p,A=y,p=tm(u,l,v,d),y=rm(l,l,v,d),u=f,l=c,f=s,c=o,s=i,o=a,i=tm(v,d,g,x),a=rm(v,d,g,x)}pf(this.h,0,i,a),pf(this.h,2,s,o),pf(this.h,4,f,c),pf(this.h,6,u,l),pf(this.h,8,p,y),pf(this.h,10,m,A),pf(this.h,12,S,w),pf(this.h,14,C,O)};cs.prototype._digest=function(e){return e==="hex"?ci.toHex32(this.h,"big"):ci.split32(this.h,"big")};function kX(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function zX(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function jX(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function $X(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function FX(t,e){var r=Us(t,e,28),n=Us(e,t,2),i=Us(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function qX(t,e){var r=ks(t,e,28),n=ks(e,t,2),i=ks(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function KX(t,e){var r=Us(t,e,14),n=Us(t,e,18),i=Us(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function QX(t,e){var r=ks(t,e,14),n=ks(t,e,18),i=ks(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function YX(t,e){var r=Us(t,e,1),n=Us(t,e,8),i=PR(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function VX(t,e){var r=ks(t,e,1),n=ks(t,e,8),i=NR(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function GX(t,e){var r=Us(t,e,19),n=Us(e,t,29),i=PR(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function WX(t,e){var r=ks(t,e,19),n=ks(e,t,29),i=NR(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var A6=Ke,zR=kR;function Qo(){if(!(this instanceof Qo))return new Qo;zR.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}A6.inherits(Qo,zR);var XX=Qo;Qo.blockSize=1024;Qo.outSize=384;Qo.hmacStrength=192;Qo.padLength=128;Qo.prototype._digest=function(e){return e==="hex"?A6.toHex32(this.h.slice(0,12),"big"):A6.split32(this.h.slice(0,12),"big")};A0.sha1=_X;A0.sha224=DX;A0.sha256=LR;A0.sha384=XX;A0.sha512=kR;var jR={},Tu=Ke,ZX=w0,Wb=Tu.rotl32,SE=Tu.sum32,fh=Tu.sum32_3,IE=Tu.sum32_4,$R=ZX.BlockHash;function qs(){if(!(this instanceof qs))return new qs;$R.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Tu.inherits(qs,$R);jR.ripemd160=qs;qs.blockSize=512;qs.outSize=160;qs.hmacStrength=192;qs.padLength=64;qs.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,c=i,u=a,l=s,p=o,y=0;y<80;y++){var m=SE(Wb(IE(n,CE(y,i,a,s),e[tZ[y]+r],JX(y)),nZ[y]),o);n=o,o=s,s=Wb(a,10),a=i,i=m,m=SE(Wb(IE(f,CE(79-y,c,u,l),e[rZ[y]+r],eZ(y)),iZ[y]),p),f=p,p=l,l=Wb(u,10),u=c,c=m}m=fh(this.h[1],a,l),this.h[1]=fh(this.h[2],s,p),this.h[2]=fh(this.h[3],o,f),this.h[3]=fh(this.h[4],n,c),this.h[4]=fh(this.h[0],i,u),this.h[0]=m};qs.prototype._digest=function(e){return e==="hex"?Tu.toHex32(this.h,"little"):Tu.split32(this.h,"little")};function CE(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function JX(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function eZ(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var tZ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rZ=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],nZ=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],iZ=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],aZ=Ke,sZ=xc;function zd(t,e,r){if(!(this instanceof zd))return new zd(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(aZ.toArray(e,r))}var oZ=zd;zd.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),sZ(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};zd.prototype.update=function(e,r){return this.inner.update(e,r),this};zd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ke,e.common=w0,e.sha=A0,e.ripemd=jR,e.hmac=oZ,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(m0);var nm,TE;function fZ(){return TE||(TE=1,nm={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),nm}(function(t){var e=t,r=m0,n=G5,i=ji,a=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=fZ()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(iv);var cZ=m0,pu=J2,FR=xc;function dc(t){if(!(this instanceof dc))return new dc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=pu.toArray(t.entropy,t.entropyEnc||"hex"),r=pu.toArray(t.nonce,t.nonceEnc||"hex"),n=pu.toArray(t.pers,t.persEnc||"hex");FR(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var qR=dc;dc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};dc.prototype._hmac=function(){return new cZ.hmac(this.hash,this.K)};dc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};dc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=pu.toArray(e,r),n=pu.toArray(n,i),FR(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};dc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=pu.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,pu.encode(s,r)};var uZ=Cr,lZ=ji,E6=lZ.assert;function In(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var dZ=In;In.fromPublic=function(e,r,n){return r instanceof In?r:new In(e,{pub:r,pubEnc:n})};In.fromPrivate=function(e,r,n){return r instanceof In?r:new In(e,{priv:r,privEnc:n})};In.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};In.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};In.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};In.prototype._importPrivate=function(e,r){this.priv=new uZ(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};In.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?E6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&E6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};In.prototype.derive=function(e){return e.validate()||E6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};In.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};In.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};In.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Oy=Cr,X5=ji,hZ=X5.assert;function sv(t,e){if(t instanceof sv)return t;this._importDER(t,e)||(hZ(t.r&&t.s,"Signature without r or s"),this.r=new Oy(t.r,16),this.s=new Oy(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var pZ=sv;function bZ(){this.place=0}function im(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function OE(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}sv.prototype._importDER=function(e,r){e=X5.toArray(e,r);var n=new bZ;if(e[n.place++]!==48)return!1;var i=im(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=im(e,n);if(a===!1||e[n.place]&128)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=im(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Oy(s),this.s=new Oy(f),this.recoveryParam=null,!0};function am(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}sv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=OE(r),n=OE(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];am(i,r.length),i=i.concat(r),i.push(2),am(i,n.length);var a=i.concat(n),s=[48];return am(s,a.length),s=s.concat(a),X5.encode(s,e)};var To=Cr,KR=qR,gZ=ji,sm=iv,yZ=ev,QR=gZ.assert,Z5=dZ,ov=pZ;function xa(t){if(!(this instanceof xa))return new xa(t);typeof t=="string"&&(QR(Object.prototype.hasOwnProperty.call(sm,t),"Unknown curve "+t),t=sm[t]),t instanceof sm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var vZ=xa;xa.prototype.keyPair=function(e){return new Z5(this,e)};xa.prototype.keyFromPrivate=function(e,r){return Z5.fromPrivate(this,e,r)};xa.prototype.keyFromPublic=function(e,r){return Z5.fromPublic(this,e,r)};xa.prototype.genKeyPair=function(e){e||(e={});for(var r=new KR({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||yZ(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new To(2));;){var a=new To(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};xa.prototype._truncateToN=function(e,r,n){var i;if(To.isBN(e)||typeof e=="number")e=new To(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new To(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new To(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};xa.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength);for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new KR({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new To(1)),u=0;;u++){var l=i.k?i.k(u):new To(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(c)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(m.cmpn(0)!==0){var A=l.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var S=(p.getY().isOdd()?1:0)|(y.cmp(m)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),S^=1),new ov({r:m,s:A,recoveryParam:S})}}}}}};xa.prototype.verify=function(e,r,n,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new ov(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),c=f.mul(e).umod(this.n),u=f.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};xa.prototype.recoverPubKey=function(t,e,r,n){QR((3&r)===r,"The recovery param is more than two bits"),e=new ov(e,n);var i=this.n,a=new To(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),p=o.mul(u).umod(i);return this.g.mulAdd(l,s,p)};xa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new ov(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var G1=ji,YR=G1.assert,BE=G1.parseBytes,x0=G1.cachedProperty;function jr(t,e){this.eddsa=t,this._secret=BE(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=BE(e.pub)}jr.fromPublic=function(e,r){return r instanceof jr?r:new jr(e,{pub:r})};jr.fromSecret=function(e,r){return r instanceof jr?r:new jr(e,{secret:r})};jr.prototype.secret=function(){return this._secret};x0(jr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});x0(jr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});x0(jr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});x0(jr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});x0(jr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});x0(jr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});jr.prototype.sign=function(e){return YR(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};jr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};jr.prototype.getSecret=function(e){return YR(this._secret,"KeyPair is public only"),G1.encode(this.secret(),e)};jr.prototype.getPublic=function(e){return G1.encode(this.pubBytes(),e)};var _Z=jr,mZ=Cr,fv=ji,DE=fv.assert,cv=fv.cachedProperty,wZ=fv.parseBytes;function Ku(t,e){this.eddsa=t,typeof e!="object"&&(e=wZ(e)),Array.isArray(e)&&(DE(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),DE(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof mZ&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cv(Ku,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cv(Ku,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cv(Ku,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cv(Ku,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ku.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ku.prototype.toHex=function(){return fv.encode(this.toBytes(),"hex").toUpperCase()};var AZ=Ku,EZ=m0,xZ=iv,jd=ji,SZ=jd.assert,VR=jd.parseBytes,GR=_Z,ME=AZ;function ui(t){if(SZ(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ui))return new ui(t);t=xZ[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=EZ.sha512}var IZ=ui;ui.prototype.sign=function(e,r){e=VR(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};ui.prototype.verify=function(e,r,n){if(e=VR(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};ui.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return jd.intFromLE(e.digest()).umod(this.curve.n)};ui.prototype.keyFromPublic=function(e){return GR.fromPublic(this,e)};ui.prototype.keyFromSecret=function(e){return GR.fromSecret(this,e)};ui.prototype.makeSignature=function(e){return e instanceof ME?e:new ME(this,e)};ui.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ui.prototype.decodePoint=function(e){e=jd.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=jd.intFromLE(n);return this.curve.pointFromY(a,i)};ui.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ui.prototype.decodeInt=function(e){return jd.intFromLE(e)};ui.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=xW.version,e.utils=ji,e.rand=ev,e.curve=G5,e.curves=iv,e.ec=vZ,e.eddsa=IZ})(AR);const CZ=Jx(AR);var RE;(function(t){t[t.ParameterInvalid=101]="ParameterInvalid",t[t.ParameterRequired=102]="ParameterRequired",t[t.SignMessageFailed=103]="SignMessageFailed",t[t.AddressInvalid=104]="AddressInvalid",t[t.ReconciliationFailed=105]="ReconciliationFailed"})(RE||(RE={}));new CZ.ec("secp256k1");var LE;(function(t){t.Mainnet="ckb",t.Testnet="ckt"})(LE||(LE={}));var HE;(function(t){t.FullVersion="0x00",t.HashIdx="0x01",t.DataCodeHash="0x02",t.TypeCodeHash="0x04"})(HE||(HE={}));var PE;(function(t){t.Bech32="bech32",t.Bech32m="bech32m"})(PE||(PE={}));var x6={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Fn<"u"&&Fn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof o<"u"&&o,f={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function c(v){return v&&DataView.prototype.isPrototypeOf(v)}if(f.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function p(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function y(v){return typeof v!="string"&&(v=String(v)),v}function m(v){var d={next:function(){var g=v.shift();return{done:g===void 0,value:g}}};return f.iterable&&(d[Symbol.iterator]=function(){return d}),d}function A(v){this.map={},v instanceof A?v.forEach(function(d,g){this.append(g,d)},this):Array.isArray(v)?v.forEach(function(d){this.append(d[0],d[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(d){this.append(d,v[d])},this)}A.prototype.append=function(v,d){v=p(v),d=y(d);var g=this.map[v];this.map[v]=g?g+", "+d:d},A.prototype.delete=function(v){delete this.map[p(v)]},A.prototype.get=function(v){return v=p(v),this.has(v)?this.map[v]:null},A.prototype.has=function(v){return this.map.hasOwnProperty(p(v))},A.prototype.set=function(v,d){this.map[p(v)]=y(d)},A.prototype.forEach=function(v,d){for(var g in this.map)this.map.hasOwnProperty(g)&&v.call(d,this.map[g],g,this)},A.prototype.keys=function(){var v=[];return this.forEach(function(d,g){v.push(g)}),m(v)},A.prototype.values=function(){var v=[];return this.forEach(function(d){v.push(d)}),m(v)},A.prototype.entries=function(){var v=[];return this.forEach(function(d,g){v.push([g,d])}),m(v)},f.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function S(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function w(v){return new Promise(function(d,g){v.onload=function(){d(v.result)},v.onerror=function(){g(v.error)}})}function C(v){var d=new FileReader,g=w(d);return d.readAsArrayBuffer(v),g}function O(v){var d=new FileReader,g=w(d);return d.readAsText(v),g}function M(v){for(var d=new Uint8Array(v),g=new Array(d.length),x=0;x<d.length;x++)g[x]=String.fromCharCode(d[x]);return g.join("")}function U(v){if(v.slice)return v.slice(0);var d=new Uint8Array(v.byteLength);return d.set(new Uint8Array(v)),d.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:f.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:f.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():f.arrayBuffer&&f.blob&&c(v)?(this._bodyArrayBuffer=U(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||l(v))?this._bodyArrayBuffer=U(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=S(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(v){var d=v.toUpperCase();return Q.indexOf(d)>-1?d:v}function G(v,d){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d=d||{};var g=d.body;if(v instanceof G){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,d.headers||(this.headers=new A(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!g&&v._bodyInit!=null&&(g=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new A(d.headers)),this.method=k(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(g),(this.method==="GET"||this.method==="HEAD")&&(d.cache==="no-store"||d.cache==="no-cache")){var x=/([?&])_=[^&]*/;if(x.test(this.url))this.url=this.url.replace(x,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function W(v){var d=new FormData;return v.trim().split("&").forEach(function(g){if(g){var x=g.split("="),E=x.shift().replace(/\+/g," "),h=x.join("=").replace(/\+/g," ");d.append(decodeURIComponent(E),decodeURIComponent(h))}}),d}function R(v){var d=new A,g=v.replace(/\r?\n[\t ]+/g," ");return g.split("\r").map(function(x){return x.indexOf(`
`)===0?x.substr(1,x.length):x}).forEach(function(x){var E=x.split(":"),h=E.shift().trim();if(h){var T=E.join(":").trim();d.append(h,T)}}),d}K.call(G.prototype);function _(v,d){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText=d.statusText===void 0?"":""+d.statusText,this.headers=new A(d.headers),this.url=d.url||"",this._initBody(v)}K.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},_.error=function(){var v=new _(null,{status:0,statusText:""});return v.type="error",v};var I=[301,302,303,307,308];_.redirect=function(v,d){if(I.indexOf(d)===-1)throw new RangeError("Invalid status code");return new _(null,{status:d,headers:{location:v}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,g){this.message=d,this.name=g;var x=Error(d);this.stack=x.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(v,d){return new Promise(function(g,x){var E=new G(v,d);if(E.signal&&E.signal.aborted)return x(new s.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function T(){h.abort()}h.onload=function(){var L={status:h.status,statusText:h.statusText,headers:R(h.getAllResponseHeaders()||"")};L.url="responseURL"in h?h.responseURL:L.headers.get("X-Request-URL");var $="response"in h?h.response:h.responseText;setTimeout(function(){g(new _($,L))},0)},h.onerror=function(){setTimeout(function(){x(new TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){x(new TypeError("Network request failed"))},0)},h.onabort=function(){setTimeout(function(){x(new s.DOMException("Aborted","AbortError"))},0)};function j(L){try{return L===""&&o.location.href?o.location.href:L}catch{return L}}h.open(E.method,j(E.url),!0),E.credentials==="include"?h.withCredentials=!0:E.credentials==="omit"&&(h.withCredentials=!1),"responseType"in h&&(f.blob?h.responseType="blob":f.arrayBuffer&&E.headers.get("Content-Type")&&E.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(h.responseType="arraybuffer")),d&&typeof d.headers=="object"&&!(d.headers instanceof A)?Object.getOwnPropertyNames(d.headers).forEach(function(L){h.setRequestHeader(L,y(d.headers[L]))}):E.headers.forEach(function(L,$){h.setRequestHeader($,L)}),E.signal&&(E.signal.addEventListener("abort",T),h.onreadystatechange=function(){h.readyState===4&&E.signal.removeEventListener("abort",T)}),h.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=A,o.Request=G,o.Response=_),s.Headers=A,s.Request=G,s.Response=_,s.fetch=b,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(x6,x6.exports);var TZ=x6.exports;const OZ=Jx(TZ),BZ=globalThis.crypto,ap=BZ.subtle;var DZ=()=>Date.now(),MZ=class{constructor(t){this.url=t}async baseRPC(t,e,r=this.url){const n={id:DZ(),jsonrpc:"2.0",method:t,params:e??null},i=JSON.stringify(n,null,""),a=await OZ(r,{method:"post",headers:{"Content-Type":"application/json"},body:i}).then(async s=>s.json());if(a.error!=null)throw new Error(`RPC error: ${JSON.stringify(a.error)}`);return a.result}async generateSubkeyUnlockSmt(t){return await this.baseRPC("generate_subkey_unlock_smt",t)}};function RZ(t){const e=Array.from(new Uint8Array(t),s=>`00${s.toString(16)}`.slice(-2)).join(""),r=Number.parseInt(e.substr(6,2),16)*2;let n=e.substr(8,r),i=e.substr(12+r);n=n.length>64?n.substr(-64):n.padStart(64,"0"),i=i.length>64?i.substr(-64):i.padStart(64,"0");const a=`${n}${i}`;return new Uint8Array(a.match(/[\da-f]{2}/gi).map(s=>Number.parseInt(s,16)))}var LZ=(t,e)=>{try{const r=ZG(GG(e));return JSON.parse(r).challenge===Gc(XG(t))}catch{return!1}},HZ=async(t,e,r)=>{try{const n="RSASSA-PKCS1-v1_5",i=bR(r),a=Iy(t),s=Iy(e),o=new Uint8Array(i.slice(0,3)).reverse(),f=new Uint8Array(i.slice(4)).reverse(),c={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Gc(o),n:Gc(f)},u=await ap.importKey("jwk",c,{name:n,hash:"SHA-256"},!1,["verify"]);return await ap.verify(n,u,s,a)}catch(n){return console.error(n),!1}},PZ=async({message:t,signature:e,pubkey:r,challenge:n,alg:i})=>{try{const a=bR(`${r}`),s=Iy(t),o=Iy(e),f=s.slice(0,37),c=s.slice(37);if(!LZ(n,c))return!1;const u=await ap.digest("SHA-256",c),l=WG(f,u),p=i===_6.ES256,y=p?{kty:"EC",crv:"P-256",x:Gc(a.slice(0,32)),y:Gc(a.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Gc(new Uint8Array(a.slice(0,3)).reverse()),n:Gc(new Uint8Array(a.slice(4)).reverse())},m=p?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},A=await ap.importKey("jwk",y,m,!1,["verify"]);return await ap.verify(m,A,i===_6.RS256?o:RZ(o),l)}catch(a){return console.error(a),!1}},NZ=async t=>{const{message:e,signature:r,pubkey:n,keyType:i}=t;return i==="main_key"||i==="sub_key"?PZ(t):HZ(e,r,n)};function UZ(t,e,r){const n=typeof t=="string"?t:me(t).slice(2),{publicKey:i,keyType:a}=JSON.parse(r);return NZ({challenge:n,pubkey:i,keyType:a,...JSON.parse(e)})}const kZ="6.13.4";function NE(t,e,r){for(let n in e){let i=e[n];Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Ol(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Ol).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Ol(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Ol(r)}: ${Ol(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function zZ(t,e,r){let n=t;{const a=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Ol(r)}`);for(const s in r){if(s==="shortMessage")continue;const o=r[s];a.push(s+"="+Ol(o))}}a.push(`code=${e}`),a.push(`version=${kZ}`),a.length&&(t+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return NE(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&NE(i,{shortMessage:n}),i}function W1(t,e,r,n){if(!t)throw zZ(e,r,n)}function pt(t,e,r,n){W1(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function jZ(t,e,r){if(t!==e){let n=r,i="new";n+=".",i+=" "+r,W1(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function WR(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let a=0;a<n.length;a++)n[a]=parseInt(t.substring(i,i+2),16),i+=2;return n}pt(!1,"invalid BytesLike value",e||"value",t)}function ua(t,e){return WR(t,e,!1)}function ch(t,e){return WR(t,e,!0)}function S6(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}const UE="0123456789abcdef";function Un(t){const e=ua(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=UE[(i&240)>>4]+UE[i&15]}return r}function By(t){return"0x"+t.map(e=>Un(e).substring(2)).join("")}function sp(t){return S6(t,!0)?(t.length-2)/2:ua(t).length}function $Z(t,e,r){const n=ua(t);W1(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(n,e-n.length),Un(i)}function FZ(t,e){return $Z(t,e)}const XR=BigInt(0);BigInt(1);const Bl=9007199254740991;function Dh(t,e){switch(typeof t){case"bigint":return t;case"number":return pt(Number.isInteger(t),"underflow",e||"value",t),pt(t>=-Bl&&t<=Bl,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){pt(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}pt(!1,"invalid BigNumberish value",e||"value",t)}function ZR(t,e){const r=Dh(t,e);return W1(r>=XR,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}function op(t,e){switch(typeof t){case"bigint":return pt(t>=-Bl&&t<=Bl,"overflow",e||"value",t),Number(t);case"number":return pt(Number.isInteger(t),"underflow",e||"value",t),pt(t>=-Bl&&t<=Bl,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return op(BigInt(t),e)}catch(r){pt(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}pt(!1,"invalid numeric value",e||"value",t)}function kE(t,e){let n=ZR(t,"value").toString(16);{const i=op(e,"width");for(W1(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function qZ(t){const e=ZR(t,"value");if(e===XR)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const a=i*2;n[i]=parseInt(r.substring(a,a+2),16)}return n}function om(t,e){pt(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);pt(n<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function Dy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function J5(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function KZ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dy(t.outputLen),Dy(t.blockLen)}function $d(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function JR(t,e){J5(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const fm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eL=t=>t instanceof Uint8Array,QZ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),cm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys=(t,e)=>t<<32-e|t>>>e,YZ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!YZ)throw new Error("Non little-endian hardware is not supported");function VZ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function uv(t){if(typeof t=="string"&&(t=VZ(t)),!eL(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function GZ(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!eL(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let ew=class{clone(){return this._cloneInto()}};function tL(t){const e=n=>t().update(uv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function WZ(t=32){if(fm&&typeof fm.getRandomValues=="function")return fm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class rL extends ew{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,KZ(e);const n=uv(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return $d(this),this.iHash.update(e),this}digestInto(e){$d(this),J5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nL=(t,e,r)=>new rL(t,e).update(r).digest();nL.create=(t,e)=>new rL(t,e);function XZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,o,n)}class ZZ extends ew{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cm(this.buffer)}update(e){$d(this);const{view:r,buffer:n,blockLen:i}=this;e=uv(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=cm(e);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$d(this),JR(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;XZ(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=cm(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const JZ=(t,e,r)=>t&e^~t&r,eJ=(t,e,r)=>t&e^t&r^e&r,tJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gf=new Uint32Array(64);class rJ extends ZZ{constructor(){super(64,32,8,!1),this.A=bf[0]|0,this.B=bf[1]|0,this.C=bf[2]|0,this.D=bf[3]|0,this.E=bf[4]|0,this.F=bf[5]|0,this.G=bf[6]|0,this.H=bf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[e,r,n,i,a,s,o,f]}set(e,r,n,i,a,s,o,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)gf[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const p=gf[l-15],y=gf[l-2],m=ys(p,7)^ys(p,18)^p>>>3,A=ys(y,17)^ys(y,19)^y>>>10;gf[l]=A+gf[l-7]+m+gf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const p=ys(o,6)^ys(o,11)^ys(o,25),y=u+p+JZ(o,f,c)+tJ[l]+gf[l]|0,A=(ys(n,2)^ys(n,13)^ys(n,22))+eJ(n,i,a)|0;u=c,c=f,f=o,o=s+y|0,s=a,a=i,i=n,n=y+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){gf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const nJ=tL(()=>new rJ),Xb=BigInt(2**32-1),zE=BigInt(32);function iJ(t,e=!1){return e?{h:Number(t&Xb),l:Number(t>>zE&Xb)}:{h:Number(t>>zE&Xb)|0,l:Number(t&Xb)|0}}function aJ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=iJ(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const sJ=(t,e,r)=>t<<r|e>>>32-r,oJ=(t,e,r)=>e<<r|t>>>32-r,fJ=(t,e,r)=>e<<r-32|t>>>64-r,cJ=(t,e,r)=>t<<r-32|e>>>64-r,[iL,aL,sL]=[[],[],[]],uJ=BigInt(0),uh=BigInt(1),lJ=BigInt(2),dJ=BigInt(7),hJ=BigInt(256),pJ=BigInt(113);for(let t=0,e=uh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],iL.push(2*(5*n+r)),aL.push((t+1)*(t+2)/2%64);let i=uJ;for(let a=0;a<7;a++)e=(e<<uh^(e>>dJ)*pJ)%hJ,e&lJ&&(i^=uh<<(uh<<BigInt(a))-uh);sL.push(i)}const[bJ,gJ]=aJ(sL,!0),jE=(t,e,r)=>r>32?fJ(t,e,r):sJ(t,e,r),$E=(t,e,r)=>r>32?cJ(t,e,r):oJ(t,e,r);function yJ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,f=(s+2)%10,c=r[f],u=r[f+1],l=jE(c,u,1)^r[o],p=$E(c,u,1)^r[o+1];for(let y=0;y<50;y+=10)t[s+y]^=l,t[s+y+1]^=p}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=aL[s],f=jE(i,a,o),c=$E(i,a,o),u=iL[s];i=t[u],a=t[u+1],t[u]=f,t[u+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=bJ[n],t[1]^=gJ[n]}r.fill(0)}class tw extends ew{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Dy(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=QZ(this.state)}keccak(){yJ(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){$d(this);const{blockLen:r,state:n}=this;e=uv(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){$d(this,!1),J5(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Dy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(JR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new tw(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const vJ=(t,e,r)=>tL(()=>new tw(e,t,r)),_J=vJ(1,136,256/8);let oL=!1;const fL=function(t){return _J(t)};let cL=fL;function Qu(t){const e=ua(t,"data");return Un(cL(e))}Qu._=fL;Qu.lock=function(){oL=!0};Qu.register=function(t){if(oL)throw new TypeError("keccak256 is locked");cL=t};Object.freeze(Qu);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uL=BigInt(0),lv=BigInt(1),mJ=BigInt(2),dv=t=>t instanceof Uint8Array,wJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fd(t){if(!dv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=wJ[t[r]];return e}function lL(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function rw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function qd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,a=t.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function bu(t){return rw(Fd(t))}function nw(t){if(!dv(t))throw new Error("Uint8Array expected");return rw(Fd(Uint8Array.from(t).reverse()))}function Kd(t,e){return qd(t.toString(16).padStart(e*2,"0"))}function iw(t,e){return Kd(t,e).reverse()}function AJ(t){return qd(lL(t))}function za(t,e,r){let n;if(typeof e=="string")try{n=qd(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(dv(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Fp(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!dv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function EJ(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function xJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function SJ(t){let e;for(e=0;t>uL;t>>=lv,e+=1);return e}function IJ(t,e){return t>>BigInt(e)&lv}const CJ=(t,e,r)=>t|(r?lv:uL)<<BigInt(e),aw=t=>(mJ<<BigInt(t-1))-lv,um=t=>new Uint8Array(t),FE=t=>Uint8Array.from(t);function dL(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=um(t),i=um(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),f=(l=um())=>{i=o(FE([0]),l),n=o(),l.length!==0&&(i=o(FE([1]),l),n=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<e;){n=o();const y=n.slice();p.push(y),l+=n.length}return Fp(...p)};return(l,p)=>{s(),f(l);let y;for(;!(y=p(c()));)f();return s(),y}}const TJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function X1(t,e,r={}){const n=(i,a,s)=>{const o=TJ[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const f=t[i];if(!(s&&f===void 0)&&!o(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const OJ=Object.freeze(Object.defineProperty({__proto__:null,bitGet:IJ,bitLen:SJ,bitMask:aw,bitSet:CJ,bytesToHex:Fd,bytesToNumberBE:bu,bytesToNumberLE:nw,concatBytes:Fp,createHmacDrbg:dL,ensureBytes:za,equalBytes:EJ,hexToBytes:qd,hexToNumber:rw,numberToBytesBE:Kd,numberToBytesLE:iw,numberToHexUnpadded:lL,numberToVarBytesBE:AJ,utf8ToBytes:xJ,validateObject:X1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kr=BigInt(0),hr=BigInt(1),jc=BigInt(2),BJ=BigInt(3),I6=BigInt(4),qE=BigInt(5),KE=BigInt(8);BigInt(9);BigInt(16);function ai(t,e){const r=t%e;return r>=kr?r:e+r}function DJ(t,e,r){if(r<=kr||e<kr)throw new Error("Expected power/modulo > 0");if(r===hr)return kr;let n=hr;for(;e>kr;)e&hr&&(n=n*t%r),t=t*t%r,e>>=hr;return n}function Wi(t,e,r){let n=t;for(;e-- >kr;)n*=n,n%=r;return n}function C6(t,e){if(t===kr||e<=kr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ai(t,e),n=e,i=kr,a=hr;for(;r!==kr;){const o=n/r,f=n%r,c=i-a*o;n=r,r=f,i=a,a=c}if(n!==hr)throw new Error("invert: does not exist");return ai(i,e)}function MJ(t){const e=(t-hr)/jc;let r,n,i;for(r=t-hr,n=0;r%jc===kr;r/=jc,n++);for(i=jc;i<t&&DJ(i,e,t)!==t-hr;i++);if(n===1){const s=(t+hr)/I6;return function(f,c){const u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(r+hr)/jc;return function(o,f){if(o.pow(f,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(f,a),p=o.pow(f,r);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let y=1;for(let A=o.sqr(p);y<c&&!o.eql(A,o.ONE);y++)A=o.sqr(A);const m=o.pow(u,hr<<BigInt(c-y-1));u=o.sqr(m),l=o.mul(l,m),p=o.mul(p,u),c=y}return l}}function RJ(t){if(t%I6===BJ){const e=(t+hr)/I6;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%KE===qE){const e=(t-qE)/KE;return function(n,i){const a=n.mul(i,jc),s=n.pow(a,e),o=n.mul(i,s),f=n.mul(n.mul(o,jc),s),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return MJ(t)}const LJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function HJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=LJ.reduce((n,i)=>(n[i]="function",n),e);return X1(t,r)}function PJ(t,e,r){if(r<kr)throw new Error("Expected power > 0");if(r===kr)return t.ONE;if(r===hr)return e;let n=t.ONE,i=e;for(;r>kr;)r&hr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=hr;return n}function NJ(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function hL(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function UJ(t,e,r=!1,n={}){if(t<=kr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=hL(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=RJ(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:aw(i),ZERO:kr,ONE:hr,create:f=>ai(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return kr<=f&&f<t},is0:f=>f===kr,isOdd:f=>(f&hr)===hr,neg:f=>ai(-f,t),eql:(f,c)=>f===c,sqr:f=>ai(f*f,t),add:(f,c)=>ai(f+c,t),sub:(f,c)=>ai(f-c,t),mul:(f,c)=>ai(f*c,t),pow:(f,c)=>PJ(o,f,c),div:(f,c)=>ai(f*C6(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>C6(f,t),sqrt:n.sqrt||(f=>s(o,f)),invertBatch:f=>NJ(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?iw(f,a):Kd(f,a),fromBytes:f=>{if(f.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${f.length}`);return r?nw(f):bu(f)}});return Object.freeze(o)}function pL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bL(t){const e=pL(t);return e+Math.ceil(e/2)}function kJ(t,e,r=!1){const n=t.length,i=pL(e),a=bL(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?bu(t):nw(t),o=ai(s,e-hr)+hr;return r?iw(o,i):Kd(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zJ=BigInt(0),lm=BigInt(1);function jJ(t,e){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=t.ZERO,o=i;for(;a>zJ;)a&lm&&(s=s.add(o)),o=o.double(),a>>=lm;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),f=[];let c=i,u=c;for(let l=0;l<s;l++){u=c,f.push(u);for(let p=1;p<o;p++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,a,s){const{windows:o,windowSize:f}=n(i);let c=t.ZERO,u=t.BASE;const l=BigInt(2**i-1),p=2**i,y=BigInt(i);for(let m=0;m<o;m++){const A=m*f;let S=Number(s&l);s>>=y,S>f&&(S-=p,s+=lm);const w=A,C=A+Math.abs(S)-1,O=m%2!==0,M=S<0;S===0?u=u.add(r(O,a[w])):c=c.add(r(M,a[C]))}return{p:c,f:u}},wNAFCached(i,a,s,o){const f=i._WINDOW_SIZE||1;let c=a.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&a.set(i,o(c))),this.wNAF(f,c,s)}}}function gL(t){return HJ(t.Fp),X1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hL(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $J(t){const e=gL(t);X1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:FJ,hexToBytes:qJ}=OJ,Wc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Wc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:FJ(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Wc,r=typeof t=="string"?qJ(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=Wc._parseInt(r.subarray(2)),{d:s,l:o}=Wc._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),a=n.length/2,s=i.length/2,o=r(a),f=r(s);return`30${r(s+a+4)}02${f}${i}02${o}${n}`}},_o=BigInt(0),na=BigInt(1);BigInt(2);const QE=BigInt(3);BigInt(4);function KJ(t){const e=$J(t),{Fp:r}=e,n=e.toBytes||((m,A,S)=>{const w=A.toAffine();return Fp(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),i=e.fromBytes||(m=>{const A=m.subarray(1),S=r.fromBytes(A.subarray(0,r.BYTES)),w=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:S,y:w}});function a(m){const{a:A,b:S}=e,w=r.sqr(m),C=r.mul(w,m);return r.add(r.add(C,r.mul(m,A)),S)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function s(m){return typeof m=="bigint"&&_o<m&&m<e.n}function o(m){if(!s(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(m){const{allowedPrivateKeyLengths:A,nByteLength:S,wrapPrivateKey:w,n:C}=e;if(A&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Fd(m)),typeof m!="string"||!A.includes(m.length))throw new Error("Invalid key");m=m.padStart(S*2,"0")}let O;try{O=typeof m=="bigint"?m:bu(za("private key",m,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof m}`)}return w&&(O=ai(O,C)),o(O),O}const c=new Map;function u(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(A,S,w){if(this.px=A,this.py=S,this.pz=w,A==null||!r.isValid(A))throw new Error("x required");if(S==null||!r.isValid(S))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required")}static fromAffine(A){const{x:S,y:w}=A||{};if(!A||!r.isValid(S)||!r.isValid(w))throw new Error("invalid affine point");if(A instanceof l)throw new Error("projective point not allowed");const C=O=>r.eql(O,r.ZERO);return C(S)&&C(w)?l.ZERO:new l(S,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const S=r.invertBatch(A.map(w=>w.pz));return A.map((w,C)=>w.toAffine(S[C])).map(l.fromAffine)}static fromHex(A){const S=l.fromAffine(i(za("pointHex",A)));return S.assertValidity(),S}static fromPrivateKey(A){return l.BASE.multiply(f(A))}_setWindowSize(A){this._WINDOW_SIZE=A,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:S}=this.toAffine();if(!r.isValid(A)||!r.isValid(S))throw new Error("bad point: x or y not FE");const w=r.sqr(S),C=a(A);if(!r.eql(w,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){u(A);const{px:S,py:w,pz:C}=this,{px:O,py:M,pz:U}=A,K=r.eql(r.mul(S,U),r.mul(O,C)),Q=r.eql(r.mul(w,U),r.mul(M,C));return K&&Q}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:S}=e,w=r.mul(S,QE),{px:C,py:O,pz:M}=this;let U=r.ZERO,K=r.ZERO,Q=r.ZERO,k=r.mul(C,C),G=r.mul(O,O),W=r.mul(M,M),R=r.mul(C,O);return R=r.add(R,R),Q=r.mul(C,M),Q=r.add(Q,Q),U=r.mul(A,Q),K=r.mul(w,W),K=r.add(U,K),U=r.sub(G,K),K=r.add(G,K),K=r.mul(U,K),U=r.mul(R,U),Q=r.mul(w,Q),W=r.mul(A,W),R=r.sub(k,W),R=r.mul(A,R),R=r.add(R,Q),Q=r.add(k,k),k=r.add(Q,k),k=r.add(k,W),k=r.mul(k,R),K=r.add(K,k),W=r.mul(O,M),W=r.add(W,W),k=r.mul(W,R),U=r.sub(U,k),Q=r.mul(W,G),Q=r.add(Q,Q),Q=r.add(Q,Q),new l(U,K,Q)}add(A){u(A);const{px:S,py:w,pz:C}=this,{px:O,py:M,pz:U}=A;let K=r.ZERO,Q=r.ZERO,k=r.ZERO;const G=e.a,W=r.mul(e.b,QE);let R=r.mul(S,O),_=r.mul(w,M),I=r.mul(C,U),b=r.add(S,w),v=r.add(O,M);b=r.mul(b,v),v=r.add(R,_),b=r.sub(b,v),v=r.add(S,C);let d=r.add(O,U);return v=r.mul(v,d),d=r.add(R,I),v=r.sub(v,d),d=r.add(w,C),K=r.add(M,U),d=r.mul(d,K),K=r.add(_,I),d=r.sub(d,K),k=r.mul(G,v),K=r.mul(W,I),k=r.add(K,k),K=r.sub(_,k),k=r.add(_,k),Q=r.mul(K,k),_=r.add(R,R),_=r.add(_,R),I=r.mul(G,I),v=r.mul(W,v),_=r.add(_,I),I=r.sub(R,I),I=r.mul(G,I),v=r.add(v,I),R=r.mul(_,v),Q=r.add(Q,R),R=r.mul(d,v),K=r.mul(b,K),K=r.sub(K,R),R=r.mul(b,_),k=r.mul(d,k),k=r.add(k,R),new l(K,Q,k)}subtract(A){return this.add(A.negate())}is0(){return this.equals(l.ZERO)}wNAF(A){return y.wNAFCached(this,c,A,S=>{const w=r.invertBatch(S.map(C=>C.pz));return S.map((C,O)=>C.toAffine(w[O])).map(l.fromAffine)})}multiplyUnsafe(A){const S=l.ZERO;if(A===_o)return S;if(o(A),A===na)return this;const{endo:w}=e;if(!w)return y.unsafeLadder(this,A);let{k1neg:C,k1:O,k2neg:M,k2:U}=w.splitScalar(A),K=S,Q=S,k=this;for(;O>_o||U>_o;)O&na&&(K=K.add(k)),U&na&&(Q=Q.add(k)),k=k.double(),O>>=na,U>>=na;return C&&(K=K.negate()),M&&(Q=Q.negate()),Q=new l(r.mul(Q.px,w.beta),Q.py,Q.pz),K.add(Q)}multiply(A){o(A);let S=A,w,C;const{endo:O}=e;if(O){const{k1neg:M,k1:U,k2neg:K,k2:Q}=O.splitScalar(S);let{p:k,f:G}=this.wNAF(U),{p:W,f:R}=this.wNAF(Q);k=y.constTimeNegate(M,k),W=y.constTimeNegate(K,W),W=new l(r.mul(W.px,O.beta),W.py,W.pz),w=k.add(W),C=G.add(R)}else{const{p:M,f:U}=this.wNAF(S);w=M,C=U}return l.normalizeZ([w,C])[0]}multiplyAndAddUnsafe(A,S,w){const C=l.BASE,O=(U,K)=>K===_o||K===na||!U.equals(C)?U.multiplyUnsafe(K):U.multiply(K),M=O(this,S).add(O(A,w));return M.is0()?void 0:M}toAffine(A){const{px:S,py:w,pz:C}=this,O=this.is0();A==null&&(A=O?r.ONE:r.inv(C));const M=r.mul(S,A),U=r.mul(w,A),K=r.mul(C,A);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:M,y:U}}isTorsionFree(){const{h:A,isTorsionFree:S}=e;if(A===na)return!0;if(S)return S(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:S}=e;return A===na?this:S?S(l,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return this.assertValidity(),n(l,this,A)}toHex(A=!0){return Fd(this.toRawBytes(A))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,y=jJ(l,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:s}}function QJ(t){const e=gL(t);return X1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function YJ(t){const e=QJ(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(v){return _o<v&&v<r.ORDER}function o(v){return ai(v,n)}function f(v){return C6(v,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:p}=KJ({...e,toBytes(v,d,g){const x=d.toAffine(),E=r.toBytes(x.x),h=Fp;return g?h(Uint8Array.from([d.hasEvenY()?2:3]),E):h(Uint8Array.from([4]),E,r.toBytes(x.y))},fromBytes(v){const d=v.length,g=v[0],x=v.subarray(1);if(d===i&&(g===2||g===3)){const E=bu(x);if(!s(E))throw new Error("Point is not on curve");const h=l(E);let T=r.sqrt(h);const j=(T&na)===na;return(g&1)===1!==j&&(T=r.neg(T)),{x:E,y:T}}else if(d===a&&g===4){const E=r.fromBytes(x.subarray(0,r.BYTES)),h=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:E,y:h}}else throw new Error(`Point of length ${d} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),y=v=>Fd(Kd(v,e.nByteLength));function m(v){const d=n>>na;return v>d}function A(v){return m(v)?o(-v):v}const S=(v,d,g)=>bu(v.slice(d,g));class w{constructor(d,g,x){this.r=d,this.s=g,this.recovery=x,this.assertValidity()}static fromCompact(d){const g=e.nByteLength;return d=za("compactSignature",d,g*2),new w(S(d,0,g),S(d,g,2*g))}static fromDER(d){const{r:g,s:x}=Wc.toSig(za("DER",d));return new w(g,x)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(d){return new w(this.r,this.s,d)}recoverPublicKey(d){const{r:g,s:x,recovery:E}=this,h=Q(za("msgHash",d));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const T=E===2||E===3?g+e.n:g;if(T>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=E&1?"03":"02",L=c.fromHex(j+y(T)),$=f(T),F=o(-h*$),H=o(x*$),q=c.BASE.multiplyAndAddUnsafe(L,F,H);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return qd(this.toDERHex())}toDERHex(){return Wc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qd(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const C={isValidPrivateKey(v){try{return u(v),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const v=bL(e.n);return kJ(e.randomBytes(v),e.n)},precompute(v=8,d=c.BASE){return d._setWindowSize(v),d.multiply(BigInt(3)),d}};function O(v,d=!0){return c.fromPrivateKey(v).toRawBytes(d)}function M(v){const d=v instanceof Uint8Array,g=typeof v=="string",x=(d||g)&&v.length;return d?x===i||x===a:g?x===2*i||x===2*a:v instanceof c}function U(v,d,g=!0){if(M(v))throw new Error("first arg must be private key");if(!M(d))throw new Error("second arg must be public key");return c.fromHex(d).multiply(u(v)).toRawBytes(g)}const K=e.bits2int||function(v){const d=bu(v),g=v.length*8-e.nBitLength;return g>0?d>>BigInt(g):d},Q=e.bits2int_modN||function(v){return o(K(v))},k=aw(e.nBitLength);function G(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(_o<=v&&v<k))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Kd(v,e.nByteLength)}function W(v,d,g=R){if(["recovered","canonical"].some(te=>te in g))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:E}=e;let{lowS:h,prehash:T,extraEntropy:j}=g;h==null&&(h=!0),v=za("msgHash",v),T&&(v=za("prehashed msgHash",x(v)));const L=Q(v),$=u(d),F=[G($),G(L)];if(j!=null){const te=j===!0?E(r.BYTES):j;F.push(za("extraEntropy",te))}const H=Fp(...F),q=L;function X(te){const ne=K(te);if(!p(ne))return;const N=f(ne),P=c.BASE.multiply(ne).toAffine(),re=o(P.x);if(re===_o)return;const ue=o(N*o(q+re*$));if(ue===_o)return;let de=(P.x===re?0:2)|Number(P.y&na),V=ue;return h&&m(ue)&&(V=A(ue),de^=1),new w(re,V,de)}return{seed:H,k2sig:X}}const R={lowS:e.lowS,prehash:!1},_={lowS:e.lowS,prehash:!1};function I(v,d,g=R){const{seed:x,k2sig:E}=W(v,d,g),h=e;return dL(h.hash.outputLen,h.nByteLength,h.hmac)(x,E)}c.BASE._setWindowSize(8);function b(v,d,g,x=_){var P;const E=v;if(d=za("msgHash",d),g=za("publicKey",g),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:T}=x;let j,L;try{if(typeof E=="string"||E instanceof Uint8Array)try{j=w.fromDER(E)}catch(re){if(!(re instanceof Wc.Err))throw re;j=w.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:re,s:ue}=E;j=new w(re,ue)}else throw new Error("PARSE");L=c.fromHex(g)}catch(re){if(re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&j.hasHighS())return!1;T&&(d=e.hash(d));const{r:$,s:F}=j,H=Q(d),q=f(F),X=o(H*q),te=o($*q),ne=(P=c.BASE.multiplyAndAddUnsafe(L,X,te))==null?void 0:P.toAffine();return ne?o(ne.x)===$:!1}return{CURVE:e,getPublicKey:O,getSharedSecret:U,sign:I,verify:b,ProjectivePoint:c,Signature:w,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VJ(t){return{hash:t,hmac:(e,...r)=>nL(t,e,GZ(...r)),randomBytes:WZ}}function GJ(t,e){const r=n=>YJ({...t,...VJ(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),YE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),WJ=BigInt(1),T6=BigInt(2),VE=(t,e)=>(t+e/T6)/e;function XJ(t){const e=yL,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Wi(u,r,e)*u%e,p=Wi(l,r,e)*u%e,y=Wi(p,T6,e)*c%e,m=Wi(y,i,e)*y%e,A=Wi(m,a,e)*m%e,S=Wi(A,o,e)*A%e,w=Wi(S,f,e)*S%e,C=Wi(w,o,e)*A%e,O=Wi(C,r,e)*u%e,M=Wi(O,s,e)*m%e,U=Wi(M,n,e)*c%e,K=Wi(U,T6,e);if(!O6.eql(O6.sqr(K),t))throw new Error("Cannot find square root");return K}const O6=UJ(yL,void 0,void 0,{sqrt:XJ}),mf=GJ({a:BigInt(0),b:BigInt(7),Fp:O6,n:YE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=YE,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-WJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=VE(a*t,e),f=VE(-n*t,e);let c=ai(t-o*r-f*i,e),u=ai(-o*n-f*a,e);const l=c>s,p=u>s;if(l&&(c=e-c),p&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:u}}}},nJ);BigInt(0);mf.ProjectivePoint;const GE="0x0000000000000000000000000000000000000000000000000000000000000000",ZJ=`Ethereum Signed Message:
`,WE=BigInt(0),XE=BigInt(1),ZE=BigInt(2),JE=BigInt(27),ex=BigInt(28),Zb=BigInt(35),ol={};function tx(t){return FZ(qZ(t),32)}var sd,od,fd,iu,ii;let rx=(ii=class{constructor(e,r,n,i){Be(this,sd);Be(this,od);Be(this,fd);Be(this,iu);jZ(e,ol,"Signature"),_e(this,sd,r),_e(this,od,n),_e(this,fd,i),_e(this,iu,null)}get r(){return se(this,sd)}set r(e){pt(sp(e)===32,"invalid r","value",e),_e(this,sd,Un(e))}get s(){return se(this,od)}set s(e){pt(sp(e)===32,"invalid s","value",e);const r=Un(e);pt(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),_e(this,od,r)}get v(){return se(this,fd)}set v(e){const r=op(e,"value");pt(r===27||r===28,"invalid v","v",e),_e(this,fd,r)}get networkV(){return se(this,iu)}get legacyChainId(){const e=this.networkV;return e==null?null:ii.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ua(this.s);return this.yParity&&(e[0]|=128),Un(e)}get compactSerialized(){return By([this.r,this.yParityAndS])}get serialized(){return By([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ii(ol,this.r,this.s,this.v);return this.networkV&&_e(e,iu,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Dh(e,"v");return r==JE||r==ex?WE:(pt(r>=Zb,"invalid EIP-155 v","v",e),(r-Zb)/ZE)}static getChainIdV(e,r){return Dh(e)*ZE+BigInt(35+r-27)}static getNormalizedV(e){const r=Dh(e);return r===WE||r===JE?27:r===XE||r===ex?28:(pt(r>=Zb,"invalid v","v",e),r&XE?27:28)}static from(e){function r(c,u){pt(c,u,"signature",e)}if(e==null)return new ii(ol,GE,GE,27);if(typeof e=="string"){const c=ua(e,"signature");if(c.length===64){const u=Un(c.slice(0,32)),l=c.slice(32,64),p=l[0]&128?28:27;return l[0]&=127,new ii(ol,u,Un(l),p)}if(c.length===65){const u=Un(c.slice(0,32)),l=c.slice(32,64);r((l[0]&128)===0,"non-canonical s");const p=ii.getNormalizedV(c[64]);return new ii(ol,u,Un(l),p)}r(!1,"invalid raw signature length")}if(e instanceof ii)return e.clone();const n=e.r;r(n!=null,"missing r");const i=tx(n),a=function(c,u){if(c!=null)return tx(c);if(u!=null){r(S6(u,32),"invalid yParityAndS");const l=ua(u);return l[0]&=127,Un(l)}r(!1,"missing s")}(e.s,e.yParityAndS);r((ua(a)[0]&128)==0,"non-canonical s");const{networkV:s,v:o}=function(c,u,l){if(c!=null){const p=Dh(c);return{networkV:p>=Zb?p:void 0,v:ii.getNormalizedV(p)}}if(u!=null)return r(S6(u,32),"invalid yParityAndS"),{v:ua(u)[0]&128?28:27};if(l!=null){switch(op(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),f=new ii(ol,i,a,o);return s&&_e(f,iu,s),r(e.yParity==null||op(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}},sd=new WeakMap,od=new WeakMap,fd=new WeakMap,iu=new WeakMap,ii);var uo;const Fc=class Fc{constructor(e){Be(this,uo);pt(sp(e)===32,"invalid private key","privateKey","[REDACTED]"),_e(this,uo,Un(e))}get privateKey(){return se(this,uo)}get publicKey(){return Fc.computePublicKey(se(this,uo))}get compressedPublicKey(){return Fc.computePublicKey(se(this,uo),!0)}sign(e){pt(sp(e)===32,"invalid digest length","digest",e);const r=mf.sign(ch(e),ch(se(this,uo)),{lowS:!0});return rx.from({r:kE(r.r,32),s:kE(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Fc.computePublicKey(e);return Un(mf.getSharedSecret(ch(se(this,uo)),ua(r),!1))}static computePublicKey(e,r){let n=ua(e,"key");if(n.length===32){const a=mf.getPublicKey(n,!!r);return Un(a)}if(n.length===64){const a=new Uint8Array(65);a[0]=4,a.set(n,1),n=a}const i=mf.ProjectivePoint.fromHex(n);return Un(i.toRawBytes(r))}static recoverPublicKey(e,r){pt(sp(e)===32,"invalid digest length","digest",e);const n=rx.from(r);let i=mf.Signature.fromCompact(ch(By([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const a=i.recoverPublicKey(ch(e));return pt(a!=null,"invalid signautre for digest","signature",r),"0x"+a.toHex(!1)}static addPoints(e,r,n){const i=mf.ProjectivePoint.fromHex(Fc.computePublicKey(e).substring(2)),a=mf.ProjectivePoint.fromHex(Fc.computePublicKey(r).substring(2));return"0x"+i.add(a).toHex(!!n)}};uo=new WeakMap;let My=Fc;const JJ=BigInt(0),eee=BigInt(36);function nx(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ua(Qu(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const sw={};for(let t=0;t<10;t++)sw[String(t)]=String(t);for(let t=0;t<26;t++)sw[String.fromCharCode(65+t)]=String(10+t);const ix=15;function tee(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>sw[n]).join("");for(;e.length>=ix;){let n=e.substring(0,ix);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const ree=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function nee(t){t=t.toLowerCase();let e=JJ;for(let r=0;r<t.length;r++)e=e*eee+ree[t[r]];return e}function iee(t){if(pt(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=nx(t);return pt(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pt(t.substring(2,4)===tee(t),"bad icap checksum","address",t);let e=nee(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return nx("0x"+e)}pt(!1,"invalid address","address",t)}function aee(t){let e;return typeof t=="string"?e=My.computePublicKey(t,!1):e=t.publicKey,iee(Qu("0x"+e.substring(4)).substring(26))}function see(t,e){return aee(My.recoverPublicKey(t,e))}function oee(t){return typeof t=="string"&&(t=om(t)),Qu(By([om(ZJ),om(String(t.length)),t]))}function fee(t,e){const r=oee(t);return see(r,e)}function cee(t,e,r){return r.toLowerCase()===fee(typeof t=="string"?t:Te(t),e).toLowerCase()}function vL(t){if(typeof t=="string")try{const e=JSON.parse(t);if(typeof e=="object"&&typeof e.created_at=="number"&&typeof e.kind=="number"&&typeof e.content=="string"&&Array.isArray(e.args)&&e.args.every(r=>Array.isArray(r)&&r.every(n=>typeof n=="string")))return e}catch{}return{kind:23335,created_at:0,content:typeof t=="string"?t:me(t),tags:[]}}function uee(t,e,r){const{words:n}=Au.decode(r),i=me(Au.fromWords(n)).slice(2),a=vL(t),s=JSON.stringify([0,i,a.created_at,a.kind,a.tags,a.content]),o=me(zp(Te(s,"utf8")));try{return FG.verify(e.slice(2),o.slice(2),i)}catch{return!1}}var si;(function(t){t.Unknown="Unknown",t.BtcEcdsa="BtcEcdsa",t.EvmPersonal="EvmPersonal",t.JoyId="JoyId",t.NostrEvent="NostrEvent",t.CkbSecp256k1="CkbSecp256k1"})(si||(si={}));var as;(function(t){t.EVM="EVM",t.BTC="BTC",t.CKB="CKB",t.Nostr="Nostr"})(as||(as={}));class hc{constructor(e){this.client_=e}get client(){return this.client_}matchNetworkPreference(e,r){if(!(r!==void 0&&e.some(({signerType:n,addressPrefix:i,network:a})=>{n===this.type&&this.client.addressPrefix})))return e.find(({signerType:n,addressPrefix:i})=>n===this.type&&i===this.client.addressPrefix)}static async verifyMessage(e,r){switch(r.signType){case si.EvmPersonal:return cee(e,r.signature,r.identity);case si.BtcEcdsa:return Tie(e,r.signature,r.identity);case si.JoyId:return UZ(e,r.signature,r.identity);case si.NostrEvent:return uee(e,r.signature,r.identity);case si.CkbSecp256k1:return KG(e,r.signature,r.identity);case si.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(e){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(e){return(await this.getAddressObjs())[0]}async getRecommendedAddress(e){return(await this.getRecommendedAddressObj(e)).toString()}async getAddresses(){return this.getAddressObjs().then(e=>e.map(r=>r.toString()))}async*findCells(e,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findCells({script:s,scriptType:"lock",filter:e,scriptSearchMode:"exact",withData:r},n,i))yield o}async*findTransactions(e,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findTransactions({script:s,scriptType:"lock",filter:e,scriptSearchMode:"exact",groupByTransaction:r},n,i))yield o}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map(({script:e})=>e))}async signMessage(e){return{signature:await this.signMessageRaw(e),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(e){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(e,r){return typeof r=="string"?hc.verifyMessage(e,{signType:this.signType,signature:r,identity:await this.getIdentity()}):r.identity!==await this.getIdentity()||![si.Unknown,this.signType].includes(r.signType)?!1:hc.verifyMessage(e,r)}async sendTransaction(e){return this.client.sendTransaction(await this.signTransaction(e))}async signTransaction(e){const r=await this.prepareTransaction(e);return this.signOnlyTransaction(r)}prepareTransaction(e){throw Error("Signer.prepareTransaction not implemented")}signOnlyTransaction(e){throw Error("Signer.signOnlyTransaction not implemented")}}let lee=class extends hc{get type(){return as.BTC}get signType(){return si.BtcEcdsa}async getInternalAddress(){return this.getBtcAccount()}async getIdentity(){return me(await this.getBtcPublicKey()).slice(2)}async getAddressObjs(){const e=await this.getBtcPublicKey(),r=cG(zp(Te(e)));return[await ca.fromKnownScript(this.client,De.OmniLock,me([4,...r,0]))]}async prepareTransaction(e){const r=Nt.from(e),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,De.OmniLock),await r.prepareSighashAllWitness(n,85,this.client),r}async signOnlyTransaction(e){const r=Nt.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Te(await this.signMessageRaw(`CKB (Bitcoin Layer) transaction: ${i.message}`),"base64");a[0]=31+(a[0]-27)%4;const s=is.fromBytes(r.witnesses[i.position]);return s.lock=me(k1(mn(5*4+a.length,4),mn(4*4,4),mn(5*4+a.length,4),mn(5*4+a.length,4),mn(a.length,4),a)),r.setWitnessArgsAt(i.position,s),r}};var B6={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=qo,n=r.Buffer;function i(s,o){for(var f in s)o[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,f){return n(s,o,f)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,f)},a.alloc=function(s,o,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return o!==void 0?typeof f=="string"?c.fill(o,f):c.fill(o):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(B6,B6.exports);var an=B6.exports,D6={exports:{}},ow={exports:{}},Kl=typeof Reflect=="object"?Reflect:null,ax=Kl&&typeof Kl.apply=="function"?Kl.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Eg;Kl&&typeof Kl.ownKeys=="function"?Eg=Kl.ownKeys:Object.getOwnPropertySymbols?Eg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Eg=function(e){return Object.getOwnPropertyNames(e)};function dee(t){console&&console.warn&&console.warn(t)}var _L=Number.isNaN||function(e){return e!==e};function ut(){ut.init.call(this)}ow.exports=ut;ow.exports.once=gee;ut.EventEmitter=ut;ut.prototype._events=void 0;ut.prototype._eventsCount=0;ut.prototype._maxListeners=void 0;var sx=10;function hv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ut,"defaultMaxListeners",{enumerable:!0,get:function(){return sx},set:function(t){if(typeof t!="number"||t<0||_L(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");sx=t}});ut.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ut.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||_L(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function mL(t){return t._maxListeners===void 0?ut.defaultMaxListeners:t._maxListeners}ut.prototype.getMaxListeners=function(){return mL(this)};ut.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")ax(f,this,r);else for(var c=f.length,u=SL(f,c),n=0;n<c;++n)ax(u[n],this,r);return!0};function wL(t,e,r,n){var i,a,s;if(hv(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=mL(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,dee(o)}return t}ut.prototype.addListener=function(e,r){return wL(this,e,r,!1)};ut.prototype.on=ut.prototype.addListener;ut.prototype.prependListener=function(e,r){return wL(this,e,r,!0)};function hee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function AL(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=hee.bind(n);return i.listener=r,n.wrapFn=i,i}ut.prototype.once=function(e,r){return hv(r),this.on(e,AL(this,e,r)),this};ut.prototype.prependOnceListener=function(e,r){return hv(r),this.prependListener(e,AL(this,e,r)),this};ut.prototype.removeListener=function(e,r){var n,i,a,s,o;if(hv(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():pee(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};ut.prototype.off=ut.prototype.removeListener;ut.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function EL(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?bee(i):SL(i,i.length)}ut.prototype.listeners=function(e){return EL(this,e,!0)};ut.prototype.rawListeners=function(e){return EL(this,e,!1)};ut.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):xL.call(t,e)};ut.prototype.listenerCount=xL;function xL(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ut.prototype.eventNames=function(){return this._eventsCount>0?Eg(this._events):[]};function SL(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function pee(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function bee(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function gee(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}IL(t,e,a,{once:!0}),e!=="error"&&yee(t,i,{once:!0})})}function yee(t,e,r){typeof t.on=="function"&&IL(t,"error",e,r)}function IL(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var CL=ow.exports,TL=CL.EventEmitter,dm,ox;function vee(){if(ox)return dm;ox=1;function t(m,A){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(m);A&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),S.push.apply(S,w)}return S}function e(m){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{};A%2?t(Object(S),!0).forEach(function(w){r(m,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(w){Object.defineProperty(m,w,Object.getOwnPropertyDescriptor(S,w))})}return m}function r(m,A,S){return A=s(A),A in m?Object.defineProperty(m,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[A]=S,m}function n(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")}function i(m,A){for(var S=0;S<A.length;S++){var w=A[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,s(w.key),w)}}function a(m,A,S){return A&&i(m.prototype,A),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var A=o(m,"string");return typeof A=="symbol"?A:String(A)}function o(m,A){if(typeof m!="object"||m===null)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var w=S.call(m,A||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(m)}var f=qo,c=f.Buffer,u=Y1,l=u.inspect,p=l&&l.custom||"inspect";function y(m,A,S){c.prototype.copy.call(m,A,S)}return dm=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return a(m,[{key:"push",value:function(S){var w={data:S,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(S){var w={data:S,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var w=this.head,C=""+w.data;w=w.next;)C+=S+w.data;return C}},{key:"concat",value:function(S){if(this.length===0)return c.alloc(0);for(var w=c.allocUnsafe(S>>>0),C=this.head,O=0;C;)y(C.data,w,O),O+=C.data.length,C=C.next;return w}},{key:"consume",value:function(S,w){var C;return S<this.head.data.length?(C=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?C=this.shift():C=w?this._getString(S):this._getBuffer(S),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var w=this.head,C=1,O=w.data;for(S-=O.length;w=w.next;){var M=w.data,U=S>M.length?M.length:S;if(U===M.length?O+=M:O+=M.slice(0,S),S-=U,S===0){U===M.length?(++C,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(U));break}++C}return this.length-=C,O}},{key:"_getBuffer",value:function(S){var w=c.allocUnsafe(S),C=this.head,O=1;for(C.data.copy(w),S-=C.data.length;C=C.next;){var M=C.data,U=S>M.length?M.length:S;if(M.copy(w,w.length-S,0,U),S-=U,S===0){U===M.length?(++O,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=M.slice(U));break}++O}return this.length-=O,w}},{key:p,value:function(S,w){return l(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),m}(),dm}function _ee(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(M6,this,t)):process.nextTick(M6,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(xg,r):(r._writableState.errorEmitted=!0,process.nextTick(fx,r,a)):process.nextTick(fx,r,a):e?(process.nextTick(xg,r),e(a)):process.nextTick(xg,r)}),this)}function fx(t,e){M6(t,e),xg(t)}function xg(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function mee(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function M6(t,e){t.emit("error",e)}function wee(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var OL={destroy:_ee,undestroy:mee,errorOrDestroy:wee},Yu={};function Aee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var BL={};function Ra(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Aee(s,a);function s(o,f,c){return a.call(this,n(o,f,c))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,BL[t]=i}function cx(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Eee(t,e,r){return t.substr(0,e.length)===e}function xee(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function See(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ra("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ra("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Eee(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(xee(t," argument"))i="The ".concat(t," ").concat(n," ").concat(cx(e,"type"));else{var a=See(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(cx(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ra("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ra("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ra("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ra("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ra("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ra("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ra("ERR_STREAM_WRITE_AFTER_END","write after end");Ra("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ra("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ra("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Yu.codes=BL;var Iee=Yu.codes.ERR_INVALID_OPT_VALUE;function Cee(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Tee(t,e,r,n){var i=Cee(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new Iee(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var DL={getHighWaterMark:Tee},Oee=Bee;function Bee(t,e){if(hm("noDeprecation"))return t;var r=!1;function n(){if(!r){if(hm("throwDeprecation"))throw new Error(e);hm("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function hm(t){try{if(!Fn.localStorage)return!1}catch{return!1}var e=Fn.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var pm,ux;function ML(){if(ux)return pm;ux=1,pm=k;function t(H){var q=this;this.next=null,this.entry=null,this.finish=function(){F(q,H)}}var e;k.WritableState=K;var r={deprecate:Oee},n=TL,i=qo.Buffer,a=(typeof Fn<"u"?Fn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(H){return i.from(H)}function o(H){return i.isBuffer(H)||H instanceof a}var f=OL,c=DL,u=c.getHighWaterMark,l=Yu.codes,p=l.ERR_INVALID_ARG_TYPE,y=l.ERR_METHOD_NOT_IMPLEMENTED,m=l.ERR_MULTIPLE_CALLBACK,A=l.ERR_STREAM_CANNOT_PIPE,S=l.ERR_STREAM_DESTROYED,w=l.ERR_STREAM_NULL_VALUES,C=l.ERR_STREAM_WRITE_AFTER_END,O=l.ERR_UNKNOWN_ENCODING,M=f.errorOrDestroy;Gt(k,n);function U(){}function K(H,q,X){e=e||Qd(),H=H||{},typeof X!="boolean"&&(X=q instanceof e),this.objectMode=!!H.objectMode,X&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=u(this,H,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=H.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){d(q,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}K.prototype.getBuffer=function(){for(var q=this.bufferedRequest,X=[];q;)X.push(q),q=q.next;return X},function(){try{Object.defineProperty(K.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(q){return Q.call(this,q)?!0:this!==k?!1:q&&q._writableState instanceof K}})):Q=function(q){return q instanceof this};function k(H){e=e||Qd();var q=this instanceof e;if(!q&&!Q.call(k,this))return new k(H);this._writableState=new K(H,this,q),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),n.call(this)}k.prototype.pipe=function(){M(this,new A)};function G(H,q){var X=new C;M(H,X),process.nextTick(q,X)}function W(H,q,X,te){var ne;return X===null?ne=new w:typeof X!="string"&&!q.objectMode&&(ne=new p("chunk",["string","Buffer"],X)),ne?(M(H,ne),process.nextTick(te,ne),!1):!0}k.prototype.write=function(H,q,X){var te=this._writableState,ne=!1,N=!te.objectMode&&o(H);return N&&!i.isBuffer(H)&&(H=s(H)),typeof q=="function"&&(X=q,q=null),N?q="buffer":q||(q=te.defaultEncoding),typeof X!="function"&&(X=U),te.ending?G(this,X):(N||W(this,te,H,X))&&(te.pendingcb++,ne=_(this,te,N,H,q,X)),ne},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&E(this,H))},k.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new O(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(H,q,X){return!H.objectMode&&H.decodeStrings!==!1&&typeof q=="string"&&(q=i.from(q,X)),q}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(H,q,X,te,ne,N){if(!X){var P=R(q,te,ne);te!==P&&(X=!0,ne="buffer",te=P)}var re=q.objectMode?1:te.length;q.length+=re;var ue=q.length<q.highWaterMark;if(ue||(q.needDrain=!0),q.writing||q.corked){var de=q.lastBufferedRequest;q.lastBufferedRequest={chunk:te,encoding:ne,isBuf:X,callback:N,next:null},de?de.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else I(H,q,!1,re,te,ne,N);return ue}function I(H,q,X,te,ne,N,P){q.writelen=te,q.writecb=P,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new S("write")):X?H._writev(ne,q.onwrite):H._write(ne,N,q.onwrite),q.sync=!1}function b(H,q,X,te,ne){--q.pendingcb,X?(process.nextTick(ne,te),process.nextTick(L,H,q),H._writableState.errorEmitted=!0,M(H,te)):(ne(te),H._writableState.errorEmitted=!0,M(H,te),L(H,q))}function v(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function d(H,q){var X=H._writableState,te=X.sync,ne=X.writecb;if(typeof ne!="function")throw new m;if(v(X),q)b(H,X,te,q,ne);else{var N=h(X)||H.destroyed;!N&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&E(H,X),te?process.nextTick(g,H,X,N,ne):g(H,X,N,ne)}}function g(H,q,X,te){X||x(H,q),q.pendingcb--,te(),L(H,q)}function x(H,q){q.length===0&&q.needDrain&&(q.needDrain=!1,H.emit("drain"))}function E(H,q){q.bufferProcessing=!0;var X=q.bufferedRequest;if(H._writev&&X&&X.next){var te=q.bufferedRequestCount,ne=new Array(te),N=q.corkedRequestsFree;N.entry=X;for(var P=0,re=!0;X;)ne[P]=X,X.isBuf||(re=!1),X=X.next,P+=1;ne.allBuffers=re,I(H,q,!0,q.length,ne,"",N.finish),q.pendingcb++,q.lastBufferedRequest=null,N.next?(q.corkedRequestsFree=N.next,N.next=null):q.corkedRequestsFree=new t(q),q.bufferedRequestCount=0}else{for(;X;){var ue=X.chunk,de=X.encoding,V=X.callback,J=q.objectMode?1:ue.length;if(I(H,q,!1,J,ue,de,V),X=X.next,q.bufferedRequestCount--,q.writing)break}X===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=X,q.bufferProcessing=!1}k.prototype._write=function(H,q,X){X(new y("_write()"))},k.prototype._writev=null,k.prototype.end=function(H,q,X){var te=this._writableState;return typeof H=="function"?(X=H,H=null,q=null):typeof q=="function"&&(X=q,q=null),H!=null&&this.write(H,q),te.corked&&(te.corked=1,this.uncork()),te.ending||$(this,te,X),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function T(H,q){H._final(function(X){q.pendingcb--,X&&M(H,X),q.prefinished=!0,H.emit("prefinish"),L(H,q)})}function j(H,q){!q.prefinished&&!q.finalCalled&&(typeof H._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,process.nextTick(T,H,q)):(q.prefinished=!0,H.emit("prefinish")))}function L(H,q){var X=h(q);if(X&&(j(H,q),q.pendingcb===0&&(q.finished=!0,H.emit("finish"),q.autoDestroy))){var te=H._readableState;(!te||te.autoDestroy&&te.endEmitted)&&H.destroy()}return X}function $(H,q,X){q.ending=!0,L(H,q),X&&(q.finished?process.nextTick(X):H.once("finish",X)),q.ended=!0,H.writable=!1}function F(H,q,X){var te=H.entry;for(H.entry=null;te;){var ne=te.callback;q.pendingcb--,ne(X),te=te.next}q.corkedRequestsFree.next=H}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(H,q){q(H)},pm}var bm,lx;function Qd(){if(lx)return bm;lx=1;var t=Object.keys||function(c){var u=[];for(var l in c)u.push(l);return u};bm=s;var e=LL(),r=ML();Gt(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(c){if(!(this instanceof s))return new s(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(f,this)}function f(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),bm}var Ry={},fw=an.Buffer,dx=fw.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Dee(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Mee(t){var e=Dee(t);if(typeof e!="string"&&(fw.isEncoding===dx||!dx(t)))throw new Error("Unknown encoding: "+t);return e||t}Ry.StringDecoder=Z1;function Z1(t){this.encoding=Mee(t);var e;switch(this.encoding){case"utf16le":this.text=Uee,this.end=kee,e=4;break;case"utf8":this.fillLast=Hee,e=4;break;case"base64":this.text=zee,this.end=jee,e=3;break;default:this.write=$ee,this.end=Fee;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=fw.allocUnsafe(e)}Z1.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Z1.prototype.end=Nee;Z1.prototype.text=Pee;Z1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function gm(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Ree(t,e,r){var n=e.length-1;if(n<r)return 0;var i=gm(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=gm(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=gm(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Lee(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function Hee(t){var e=this.lastTotal-this.lastNeed,r=Lee(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Pee(t,e){var r=Ree(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Nee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function Uee(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function kee(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function zee(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function jee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function $ee(t){return t.toString(this.encoding)}function Fee(t){return t&&t.length?this.write(t):""}var hx=Yu.codes.ERR_STREAM_PREMATURE_CLOSE;function qee(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Kee(){}function Qee(t){return t.setHeader&&typeof t.abort=="function"}function RL(t,e,r){if(typeof e=="function")return RL(t,null,e);e||(e={}),r=qee(r||Kee);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,f=!0,i||r.call(t)},u=function(m){r.call(t,m)},l=function(){var m;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(m=new hx),r.call(t,m);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(m=new hx),r.call(t,m)},p=function(){t.req.on("finish",o)};return Qee(t)?(t.on("complete",o),t.on("abort",l),t.req?p():t.on("request",p)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",c),t.on("finish",o),e.error!==!1&&t.on("error",u),t.on("close",l),function(){t.removeListener("complete",o),t.removeListener("abort",l),t.removeListener("request",p),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",l)}}var cw=RL,ym,px;function Yee(){if(px)return ym;px=1;var t;function e(O,M,U){return M=r(M),M in O?Object.defineProperty(O,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):O[M]=U,O}function r(O){var M=n(O,"string");return typeof M=="symbol"?M:String(M)}function n(O,M){if(typeof O!="object"||O===null)return O;var U=O[Symbol.toPrimitive];if(U!==void 0){var K=U.call(O,M||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(O)}var i=cw,a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function p(O,M){return{value:O,done:M}}function y(O){var M=O[a];if(M!==null){var U=O[l].read();U!==null&&(O[c]=null,O[a]=null,O[s]=null,M(p(U,!1)))}}function m(O){process.nextTick(y,O)}function A(O,M){return function(U,K){O.then(function(){if(M[f]){U(p(void 0,!0));return}M[u](U,K)},K)}}var S=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var M=this,U=this[o];if(U!==null)return Promise.reject(U);if(this[f])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(G,W){process.nextTick(function(){M[o]?W(M[o]):G(p(void 0,!0))})});var K=this[c],Q;if(K)Q=new Promise(A(K,this));else{var k=this[l].read();if(k!==null)return Promise.resolve(p(k,!1));Q=new Promise(this[u])}return this[c]=Q,Q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var M=this;return new Promise(function(U,K){M[l].destroy(null,function(Q){if(Q){K(Q);return}U(p(void 0,!0))})})}),t),S),C=function(M){var U,K=Object.create(w,(U={},e(U,l,{value:M,writable:!0}),e(U,a,{value:null,writable:!0}),e(U,s,{value:null,writable:!0}),e(U,o,{value:null,writable:!0}),e(U,f,{value:M._readableState.endEmitted,writable:!0}),e(U,u,{value:function(k,G){var W=K[l].read();W?(K[c]=null,K[a]=null,K[s]=null,k(p(W,!1))):(K[a]=k,K[s]=G)},writable:!0}),U));return K[c]=null,i(M,function(Q){if(Q&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=K[s];k!==null&&(K[c]=null,K[a]=null,K[s]=null,k(Q)),K[o]=Q;return}var G=K[a];G!==null&&(K[c]=null,K[a]=null,K[s]=null,G(p(void 0,!0))),K[f]=!0}),M.on("readable",m.bind(null,K)),K};return ym=C,ym}var vm,bx;function Vee(){return bx||(bx=1,vm=function(){throw new Error("Readable.from is not available in the browser")}),vm}var _m,gx;function LL(){if(gx)return _m;gx=1,_m=G;var t;G.ReadableState=k,CL.EventEmitter;var e=function(P,re){return P.listeners(re).length},r=TL,n=qo.Buffer,i=(typeof Fn<"u"?Fn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(N){return n.from(N)}function s(N){return n.isBuffer(N)||N instanceof i}var o=Y1,f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var c=vee(),u=OL,l=DL,p=l.getHighWaterMark,y=Yu.codes,m=y.ERR_INVALID_ARG_TYPE,A=y.ERR_STREAM_PUSH_AFTER_EOF,S=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,O,M;Gt(G,r);var U=u.errorOrDestroy,K=["error","close","destroy","pause","resume"];function Q(N,P,re){if(typeof N.prependListener=="function")return N.prependListener(P,re);!N._events||!N._events[P]?N.on(P,re):Array.isArray(N._events[P])?N._events[P].unshift(re):N._events[P]=[re,N._events[P]]}function k(N,P,re){t=t||Qd(),N=N||{},typeof re!="boolean"&&(re=P instanceof t),this.objectMode=!!N.objectMode,re&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=p(this,N,"readableHighWaterMark",re),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(C||(C=Ry.StringDecoder),this.decoder=new C(N.encoding),this.encoding=N.encoding)}function G(N){if(t=t||Qd(),!(this instanceof G))return new G(N);var P=this instanceof t;this._readableState=new k(N,this,P),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),r.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),G.prototype.destroy=u.destroy,G.prototype._undestroy=u.undestroy,G.prototype._destroy=function(N,P){P(N)},G.prototype.push=function(N,P){var re=this._readableState,ue;return re.objectMode?ue=!0:typeof N=="string"&&(P=P||re.defaultEncoding,P!==re.encoding&&(N=n.from(N,P),P=""),ue=!0),W(this,N,P,!1,ue)},G.prototype.unshift=function(N){return W(this,N,null,!0,!1)};function W(N,P,re,ue,de){f("readableAddChunk",P);var V=N._readableState;if(P===null)V.reading=!1,d(N,V);else{var J;if(de||(J=_(V,P)),J)U(N,J);else if(V.objectMode||P&&P.length>0)if(typeof P!="string"&&!V.objectMode&&Object.getPrototypeOf(P)!==n.prototype&&(P=a(P)),ue)V.endEmitted?U(N,new w):R(N,V,P,!0);else if(V.ended)U(N,new A);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!re?(P=V.decoder.write(P),V.objectMode||P.length!==0?R(N,V,P,!1):E(N,V)):R(N,V,P,!1)}else ue||(V.reading=!1,E(N,V))}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function R(N,P,re,ue){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,N.emit("data",re)):(P.length+=P.objectMode?1:re.length,ue?P.buffer.unshift(re):P.buffer.push(re),P.needReadable&&g(N)),E(N,P)}function _(N,P){var re;return!s(P)&&typeof P!="string"&&P!==void 0&&!N.objectMode&&(re=new m("chunk",["string","Buffer","Uint8Array"],P)),re}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(N){C||(C=Ry.StringDecoder);var P=new C(N);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,ue="";re!==null;)ue+=P.write(re.data),re=re.next;return this._readableState.buffer.clear(),ue!==""&&this._readableState.buffer.push(ue),this._readableState.length=ue.length,this};var I=1073741824;function b(N){return N>=I?N=I:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function v(N,P){return N<=0||P.length===0&&P.ended?0:P.objectMode?1:N!==N?P.flowing&&P.length?P.buffer.head.data.length:P.length:(N>P.highWaterMark&&(P.highWaterMark=b(N)),N<=P.length?N:P.ended?P.length:(P.needReadable=!0,0))}G.prototype.read=function(N){f("read",N),N=parseInt(N,10);var P=this._readableState,re=N;if(N!==0&&(P.emittedReadable=!1),N===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return f("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?X(this):g(this),null;if(N=v(N,P),N===0&&P.ended)return P.length===0&&X(this),null;var ue=P.needReadable;f("need readable",ue),(P.length===0||P.length-N<P.highWaterMark)&&(ue=!0,f("length less than watermark",ue)),P.ended||P.reading?(ue=!1,f("reading or ended",ue)):ue&&(f("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(N=v(re,P)));var de;return N>0?de=q(N,P):de=null,de===null?(P.needReadable=P.length<=P.highWaterMark,N=0):(P.length-=N,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),re!==N&&P.ended&&X(this)),de!==null&&this.emit("data",de),de};function d(N,P){if(f("onEofChunk"),!P.ended){if(P.decoder){var re=P.decoder.end();re&&re.length&&(P.buffer.push(re),P.length+=P.objectMode?1:re.length)}P.ended=!0,P.sync?g(N):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,x(N)))}}function g(N){var P=N._readableState;f("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(f("emitReadable",P.flowing),P.emittedReadable=!0,process.nextTick(x,N))}function x(N){var P=N._readableState;f("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&(N.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,H(N)}function E(N,P){P.readingMore||(P.readingMore=!0,process.nextTick(h,N,P))}function h(N,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var re=P.length;if(f("maybeReadMore read 0"),N.read(0),re===P.length)break}P.readingMore=!1}G.prototype._read=function(N){U(this,new S("_read()"))},G.prototype.pipe=function(N,P){var re=this,ue=this._readableState;switch(ue.pipesCount){case 0:ue.pipes=N;break;case 1:ue.pipes=[ue.pipes,N];break;default:ue.pipes.push(N);break}ue.pipesCount+=1,f("pipe count=%d opts=%j",ue.pipesCount,P);var de=(!P||P.end!==!1)&&N!==process.stdout&&N!==process.stderr,V=de?ie:fn;ue.endEmitted?process.nextTick(V):re.once("end",V),N.on("unpipe",J);function J(z,B){f("onunpipe"),z===re&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,ge())}function ie(){f("onend"),N.end()}var ce=T(re);N.on("drain",ce);var ye=!1;function ge(){f("cleanup"),N.removeListener("close",He),N.removeListener("finish",Fe),N.removeListener("drain",ce),N.removeListener("error",kt),N.removeListener("unpipe",J),re.removeListener("end",ie),re.removeListener("end",fn),re.removeListener("data",Se),ye=!0,ue.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&ce()}re.on("data",Se);function Se(z){f("ondata");var B=N.write(z);f("dest.write",B),B===!1&&((ue.pipesCount===1&&ue.pipes===N||ue.pipesCount>1&&ne(ue.pipes,N)!==-1)&&!ye&&(f("false write response, pause",ue.awaitDrain),ue.awaitDrain++),re.pause())}function kt(z){f("onerror",z),fn(),N.removeListener("error",kt),e(N,"error")===0&&U(N,z)}Q(N,"error",kt);function He(){N.removeListener("finish",Fe),fn()}N.once("close",He);function Fe(){f("onfinish"),N.removeListener("close",He),fn()}N.once("finish",Fe);function fn(){f("unpipe"),re.unpipe(N)}return N.emit("pipe",re),ue.flowing||(f("pipe resume"),re.resume()),N};function T(N){return function(){var re=N._readableState;f("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&e(N,"data")&&(re.flowing=!0,H(N))}}G.prototype.unpipe=function(N){var P=this._readableState,re={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return N&&N!==P.pipes?this:(N||(N=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,N&&N.emit("unpipe",this,re),this);if(!N){var ue=P.pipes,de=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var V=0;V<de;V++)ue[V].emit("unpipe",this,{hasUnpiped:!1});return this}var J=ne(P.pipes,N);return J===-1?this:(P.pipes.splice(J,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),N.emit("unpipe",this,re),this)},G.prototype.on=function(N,P){var re=r.prototype.on.call(this,N,P),ue=this._readableState;return N==="data"?(ue.readableListening=this.listenerCount("readable")>0,ue.flowing!==!1&&this.resume()):N==="readable"&&!ue.endEmitted&&!ue.readableListening&&(ue.readableListening=ue.needReadable=!0,ue.flowing=!1,ue.emittedReadable=!1,f("on readable",ue.length,ue.reading),ue.length?g(this):ue.reading||process.nextTick(L,this)),re},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(N,P){var re=r.prototype.removeListener.call(this,N,P);return N==="readable"&&process.nextTick(j,this),re},G.prototype.removeAllListeners=function(N){var P=r.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&process.nextTick(j,this),P};function j(N){var P=N._readableState;P.readableListening=N.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:N.listenerCount("data")>0&&N.resume()}function L(N){f("readable nexttick read 0"),N.read(0)}G.prototype.resume=function(){var N=this._readableState;return N.flowing||(f("resume"),N.flowing=!N.readableListening,$(this,N)),N.paused=!1,this};function $(N,P){P.resumeScheduled||(P.resumeScheduled=!0,process.nextTick(F,N,P))}function F(N,P){f("resume",P.reading),P.reading||N.read(0),P.resumeScheduled=!1,N.emit("resume"),H(N),P.flowing&&!P.reading&&N.read(0)}G.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function H(N){var P=N._readableState;for(f("flow",P.flowing);P.flowing&&N.read()!==null;);}G.prototype.wrap=function(N){var P=this,re=this._readableState,ue=!1;N.on("end",function(){if(f("wrapped end"),re.decoder&&!re.ended){var J=re.decoder.end();J&&J.length&&P.push(J)}P.push(null)}),N.on("data",function(J){if(f("wrapped data"),re.decoder&&(J=re.decoder.write(J)),!(re.objectMode&&J==null)&&!(!re.objectMode&&(!J||!J.length))){var ie=P.push(J);ie||(ue=!0,N.pause())}});for(var de in N)this[de]===void 0&&typeof N[de]=="function"&&(this[de]=function(ie){return function(){return N[ie].apply(N,arguments)}}(de));for(var V=0;V<K.length;V++)N.on(K[V],this.emit.bind(this,K[V]));return this._read=function(J){f("wrapped _read",J),ue&&(ue=!1,N.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=Yee()),O(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),G._fromList=q,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q(N,P){if(P.length===0)return null;var re;return P.objectMode?re=P.buffer.shift():!N||N>=P.length?(P.decoder?re=P.buffer.join(""):P.buffer.length===1?re=P.buffer.first():re=P.buffer.concat(P.length),P.buffer.clear()):re=P.buffer.consume(N,P.decoder),re}function X(N){var P=N._readableState;f("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,process.nextTick(te,P,N))}function te(N,P){if(f("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,P.readable=!1,P.emit("end"),N.autoDestroy)){var re=P._writableState;(!re||re.autoDestroy&&re.finished)&&P.destroy()}}typeof Symbol=="function"&&(G.from=function(N,P){return M===void 0&&(M=Vee()),M(G,N,P)});function ne(N,P){for(var re=0,ue=N.length;re<ue;re++)if(N[re]===P)return re;return-1}return _m}var HL=Yo,pv=Yu.codes,Gee=pv.ERR_METHOD_NOT_IMPLEMENTED,Wee=pv.ERR_MULTIPLE_CALLBACK,Xee=pv.ERR_TRANSFORM_ALREADY_TRANSFORMING,Zee=pv.ERR_TRANSFORM_WITH_LENGTH_0,bv=Qd();Gt(Yo,bv);function Jee(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Wee);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Yo(t){if(!(this instanceof Yo))return new Yo(t);bv.call(this,t),this._transformState={afterTransform:Jee.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ete)}function ete(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){yx(t,e,r)}):yx(this,null,null)}Yo.prototype.push=function(t,e){return this._transformState.needTransform=!1,bv.prototype.push.call(this,t,e)};Yo.prototype._transform=function(t,e,r){r(new Gee("_transform()"))};Yo.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Yo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Yo.prototype._destroy=function(t,e){bv.prototype._destroy.call(this,t,function(r){e(r)})};function yx(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Zee;if(t._transformState.transforming)throw new Xee;return t.push(null)}var tte=qp,PL=HL;Gt(qp,PL);function qp(t){if(!(this instanceof qp))return new qp(t);PL.call(this,t)}qp.prototype._transform=function(t,e,r){r(null,t)};var mm;function rte(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var NL=Yu.codes,nte=NL.ERR_MISSING_ARGS,ite=NL.ERR_STREAM_DESTROYED;function vx(t){if(t)throw t}function ate(t){return t.setHeader&&typeof t.abort=="function"}function ste(t,e,r,n){n=rte(n);var i=!1;t.on("close",function(){i=!0}),mm===void 0&&(mm=cw),mm(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,ate(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new ite("pipe"))}}}function _x(t){t()}function ote(t,e){return t.pipe(e)}function fte(t){return!t.length||typeof t[t.length-1]!="function"?vx:t.pop()}function cte(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=fte(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new nte("streams");var i,a=e.map(function(s,o){var f=o<e.length-1,c=o>0;return ste(s,f,c,function(u){i||(i=u),u&&a.forEach(_x),!f&&(a.forEach(_x),n(i))})});return e.reduce(ote)}var ute=cte;(function(t,e){e=t.exports=LL(),e.Stream=e,e.Readable=e,e.Writable=ML(),e.Duplex=Qd(),e.Transform=HL,e.PassThrough=tte,e.finished=cw,e.pipeline=ute})(D6,D6.exports);var lte=D6.exports,Ly=an.Buffer,UL=lte.Transform,dte=Gt;function hte(t,e){if(!Ly.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Ic(t){UL.call(this),this._block=Ly.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}dte(Ic,UL);Ic.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Ic.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Ic.prototype.update=function(t,e){if(hte(t,"Data"),this._finalized)throw new Error("Digest already called");Ly.isBuffer(t)||(t=Ly.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};Ic.prototype._update=function(){throw new Error("_update is not implemented")};Ic.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ic.prototype._digest=function(){throw new Error("_digest is not implemented")};var kL=Ic,pte=Gt,zL=kL,bte=an.Buffer,gte=new Array(16);function gv(){zL.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}pte(gv,zL);gv.prototype._update=function(){for(var t=gte,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=ln(r,n,i,a,t[0],3614090360,7),a=ln(a,r,n,i,t[1],3905402710,12),i=ln(i,a,r,n,t[2],606105819,17),n=ln(n,i,a,r,t[3],3250441966,22),r=ln(r,n,i,a,t[4],4118548399,7),a=ln(a,r,n,i,t[5],1200080426,12),i=ln(i,a,r,n,t[6],2821735955,17),n=ln(n,i,a,r,t[7],4249261313,22),r=ln(r,n,i,a,t[8],1770035416,7),a=ln(a,r,n,i,t[9],2336552879,12),i=ln(i,a,r,n,t[10],4294925233,17),n=ln(n,i,a,r,t[11],2304563134,22),r=ln(r,n,i,a,t[12],1804603682,7),a=ln(a,r,n,i,t[13],4254626195,12),i=ln(i,a,r,n,t[14],2792965006,17),n=ln(n,i,a,r,t[15],1236535329,22),r=dn(r,n,i,a,t[1],4129170786,5),a=dn(a,r,n,i,t[6],3225465664,9),i=dn(i,a,r,n,t[11],643717713,14),n=dn(n,i,a,r,t[0],3921069994,20),r=dn(r,n,i,a,t[5],3593408605,5),a=dn(a,r,n,i,t[10],38016083,9),i=dn(i,a,r,n,t[15],3634488961,14),n=dn(n,i,a,r,t[4],3889429448,20),r=dn(r,n,i,a,t[9],568446438,5),a=dn(a,r,n,i,t[14],3275163606,9),i=dn(i,a,r,n,t[3],4107603335,14),n=dn(n,i,a,r,t[8],1163531501,20),r=dn(r,n,i,a,t[13],2850285829,5),a=dn(a,r,n,i,t[2],4243563512,9),i=dn(i,a,r,n,t[7],1735328473,14),n=dn(n,i,a,r,t[12],2368359562,20),r=hn(r,n,i,a,t[5],4294588738,4),a=hn(a,r,n,i,t[8],2272392833,11),i=hn(i,a,r,n,t[11],1839030562,16),n=hn(n,i,a,r,t[14],4259657740,23),r=hn(r,n,i,a,t[1],2763975236,4),a=hn(a,r,n,i,t[4],1272893353,11),i=hn(i,a,r,n,t[7],4139469664,16),n=hn(n,i,a,r,t[10],3200236656,23),r=hn(r,n,i,a,t[13],681279174,4),a=hn(a,r,n,i,t[0],3936430074,11),i=hn(i,a,r,n,t[3],3572445317,16),n=hn(n,i,a,r,t[6],76029189,23),r=hn(r,n,i,a,t[9],3654602809,4),a=hn(a,r,n,i,t[12],3873151461,11),i=hn(i,a,r,n,t[15],530742520,16),n=hn(n,i,a,r,t[2],3299628645,23),r=pn(r,n,i,a,t[0],4096336452,6),a=pn(a,r,n,i,t[7],1126891415,10),i=pn(i,a,r,n,t[14],2878612391,15),n=pn(n,i,a,r,t[5],4237533241,21),r=pn(r,n,i,a,t[12],1700485571,6),a=pn(a,r,n,i,t[3],2399980690,10),i=pn(i,a,r,n,t[10],4293915773,15),n=pn(n,i,a,r,t[1],2240044497,21),r=pn(r,n,i,a,t[8],1873313359,6),a=pn(a,r,n,i,t[15],4264355552,10),i=pn(i,a,r,n,t[6],2734768916,15),n=pn(n,i,a,r,t[13],1309151649,21),r=pn(r,n,i,a,t[4],4149444226,6),a=pn(a,r,n,i,t[11],3174756917,10),i=pn(i,a,r,n,t[2],718787259,15),n=pn(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};gv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=bte.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function yv(t,e){return t<<e|t>>>32-e}function ln(t,e,r,n,i,a,s){return yv(t+(e&r|~e&n)+i+a|0,s)+e|0}function dn(t,e,r,n,i,a,s){return yv(t+(e&n|r&~n)+i+a|0,s)+e|0}function hn(t,e,r,n,i,a,s){return yv(t+(e^r^n)+i+a|0,s)+e|0}function pn(t,e,r,n,i,a,s){return yv(t+(r^(e|~n))+i+a|0,s)+e|0}var yte=gv,wm=qo.Buffer,vte=Gt,jL=kL,_te=new Array(16),lh=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],dh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],hh=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ph=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],bh=[0,1518500249,1859775393,2400959708,2840853838],gh=[1352829926,1548603684,1836072691,2053994217,0];function vv(){jL.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}vte(vv,jL);vv.prototype._update=function(){for(var t=_te,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,f=this._b|0,c=this._c|0,u=this._d|0,l=this._e|0,p=0;p<80;p+=1){var y,m;p<16?(y=mx(r,n,i,a,s,t[lh[p]],bh[0],hh[p]),m=xx(o,f,c,u,l,t[dh[p]],gh[0],ph[p])):p<32?(y=wx(r,n,i,a,s,t[lh[p]],bh[1],hh[p]),m=Ex(o,f,c,u,l,t[dh[p]],gh[1],ph[p])):p<48?(y=Ax(r,n,i,a,s,t[lh[p]],bh[2],hh[p]),m=Ax(o,f,c,u,l,t[dh[p]],gh[2],ph[p])):p<64?(y=Ex(r,n,i,a,s,t[lh[p]],bh[3],hh[p]),m=wx(o,f,c,u,l,t[dh[p]],gh[3],ph[p])):(y=xx(r,n,i,a,s,t[lh[p]],bh[4],hh[p]),m=mx(o,f,c,u,l,t[dh[p]],gh[4],ph[p])),r=s,s=a,a=Ou(i,10),i=n,n=y,o=l,l=u,u=Ou(c,10),c=f,f=m}var A=this._b+i+u|0;this._b=this._c+a+l|0,this._c=this._d+s+o|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=A};vv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=wm.alloc?wm.alloc(20):new wm(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Ou(t,e){return t<<e|t>>>32-e}function mx(t,e,r,n,i,a,s,o){return Ou(t+(e^r^n)+a+s|0,o)+i|0}function wx(t,e,r,n,i,a,s,o){return Ou(t+(e&r|~e&n)+a+s|0,o)+i|0}function Ax(t,e,r,n,i,a,s,o){return Ou(t+((e|~r)^n)+a+s|0,o)+i|0}function Ex(t,e,r,n,i,a,s,o){return Ou(t+(e&n|r&~n)+a+s|0,o)+i|0}function xx(t,e,r,n,i,a,s,o){return Ou(t+(e^(r|~n))+a+s|0,o)+i|0}var mte=vv,$L={exports:{}},FL=an.Buffer;function _v(t,e){this._block=FL.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}_v.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=FL.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var o=a%n,f=Math.min(i-s,n-o),c=0;c<f;c++)r[o+c]=t[s+c];a+=f,s+=f,a%n===0&&this._update(r)}return this._len+=i,this};_v.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};_v.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var S0=_v,wte=Gt,qL=S0,Ate=an.Buffer,Ete=[1518500249,1859775393,-1894007588,-899497514],xte=new Array(80);function J1(){this.init(),this._w=xte,qL.call(this,64,56)}wte(J1,qL);J1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Ste(t){return t<<5|t>>>27}function Ite(t){return t<<30|t>>>2}function Cte(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}J1.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var f=0;f<80;++f){var c=~~(f/20),u=Ste(r)+Cte(c,n,i,a)+s+e[f]+Ete[c]|0;s=a,a=i,i=Ite(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};J1.prototype._hash=function(){var t=Ate.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Tte=J1,Ote=Gt,KL=S0,Bte=an.Buffer,Dte=[1518500249,1859775393,-1894007588,-899497514],Mte=new Array(80);function eb(){this.init(),this._w=Mte,KL.call(this,64,56)}Ote(eb,KL);eb.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Rte(t){return t<<1|t>>>31}function Lte(t){return t<<5|t>>>27}function Hte(t){return t<<30|t>>>2}function Pte(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}eb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=Rte(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var f=0;f<80;++f){var c=~~(f/20),u=Lte(r)+Pte(c,n,i,a)+s+e[f]+Dte[c]|0;s=a,a=i,i=Hte(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};eb.prototype._hash=function(){var t=Bte.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Nte=eb,Ute=Gt,QL=S0,kte=an.Buffer,zte=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],jte=new Array(64);function tb(){this.init(),this._w=jte,QL.call(this,64,56)}Ute(tb,QL);tb.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function $te(t,e,r){return r^t&(e^r)}function Fte(t,e,r){return t&e|r&(t|e)}function qte(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Kte(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Qte(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Yte(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}tb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,f=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=Yte(e[u-2])+e[u-7]+Qte(e[u-15])+e[u-16]|0;for(var l=0;l<64;++l){var p=c+Kte(s)+$te(s,o,f)+zte[l]+e[l]|0,y=qte(r)+Fte(r,n,i)|0;c=f,f=o,o=s,s=a+p|0,a=i,i=n,n=r,r=p+y|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};tb.prototype._hash=function(){var t=kte.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var YL=tb,Vte=Gt,Gte=YL,Wte=S0,Xte=an.Buffer,Zte=new Array(64);function mv(){this.init(),this._w=Zte,Wte.call(this,64,56)}Vte(mv,Gte);mv.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};mv.prototype._hash=function(){var t=Xte.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Jte=mv,ere=Gt,VL=S0,tre=an.Buffer,Sx=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],rre=new Array(160);function rb(){this.init(),this._w=rre,VL.call(this,128,112)}ere(rb,VL);rb.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ix(t,e,r){return r^t&(e^r)}function Cx(t,e,r){return t&e|r&(t|e)}function Tx(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ox(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function nre(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function ire(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function are(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function sre(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Dr(t,e){return t>>>0<e>>>0?1:0}rb.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,f=this._gh|0,c=this._hh|0,u=this._al|0,l=this._bl|0,p=this._cl|0,y=this._dl|0,m=this._el|0,A=this._fl|0,S=this._gl|0,w=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var O=e[C-30],M=e[C-15*2+1],U=nre(O,M),K=ire(M,O);O=e[C-2*2],M=e[C-2*2+1];var Q=are(O,M),k=sre(M,O),G=e[C-7*2],W=e[C-7*2+1],R=e[C-16*2],_=e[C-16*2+1],I=K+W|0,b=U+G+Dr(I,K)|0;I=I+k|0,b=b+Q+Dr(I,k)|0,I=I+_|0,b=b+R+Dr(I,_)|0,e[C]=b,e[C+1]=I}for(var v=0;v<160;v+=2){b=e[v],I=e[v+1];var d=Cx(r,n,i),g=Cx(u,l,p),x=Tx(r,u),E=Tx(u,r),h=Ox(s,m),T=Ox(m,s),j=Sx[v],L=Sx[v+1],$=Ix(s,o,f),F=Ix(m,A,S),H=w+T|0,q=c+h+Dr(H,w)|0;H=H+F|0,q=q+$+Dr(H,F)|0,H=H+L|0,q=q+j+Dr(H,L)|0,H=H+I|0,q=q+b+Dr(H,I)|0;var X=E+g|0,te=x+d+Dr(X,E)|0;c=f,w=S,f=o,S=A,o=s,A=m,m=y+H|0,s=a+q+Dr(m,y)|0,a=i,y=p,i=n,p=l,n=r,l=u,u=H+X|0,r=q+te+Dr(u,H)|0}this._al=this._al+u|0,this._bl=this._bl+l|0,this._cl=this._cl+p|0,this._dl=this._dl+y|0,this._el=this._el+m|0,this._fl=this._fl+A|0,this._gl=this._gl+S|0,this._hl=this._hl+w|0,this._ah=this._ah+r+Dr(this._al,u)|0,this._bh=this._bh+n+Dr(this._bl,l)|0,this._ch=this._ch+i+Dr(this._cl,p)|0,this._dh=this._dh+a+Dr(this._dl,y)|0,this._eh=this._eh+s+Dr(this._el,m)|0,this._fh=this._fh+o+Dr(this._fl,A)|0,this._gh=this._gh+f+Dr(this._gl,S)|0,this._hh=this._hh+c+Dr(this._hl,w)|0};rb.prototype._hash=function(){var t=tre.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var GL=rb,ore=Gt,fre=GL,cre=S0,ure=an.Buffer,lre=new Array(160);function wv(){this.init(),this._w=lre,cre.call(this,128,112)}ore(wv,fre);wv.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};wv.prototype._hash=function(){var t=ure.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var dre=wv,Vu=$L.exports=function(e){e=e.toLowerCase();var r=Vu[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Vu.sha=Tte;Vu.sha1=Nte;Vu.sha224=Jte;Vu.sha256=YL;Vu.sha384=dre;Vu.sha512=GL;var hre=$L.exports,co=an.Buffer,WL=Y1.Transform,pre=Ry.StringDecoder,bre=Gt;function ds(t){WL.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}bre(ds,WL);var gre=typeof Uint8Array<"u",yre=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(co.prototype instanceof Uint8Array||co.TYPED_ARRAY_SUPPORT);ds.prototype.update=function(t,e,r){var n;if(t instanceof co)n=t;else if(typeof t=="string")n=co.from(t,e);else if(yre&&ArrayBuffer.isView(t))n=co.from(t.buffer,t.byteOffset,t.byteLength);else if(gre&&t instanceof Uint8Array)n=co.from(t);else if(co.isBuffer(t)&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))n=co.from(t);else throw new Error('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.');var i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};ds.prototype.setAutoPadding=function(){};ds.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ds.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ds.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ds.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};ds.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};ds.prototype._finalOrDigest=function(t){var e=this.__final()||co.alloc(0);return t&&(e=this._toString(e,t,!0)),e};ds.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new pre(e),this._encoding=e),this._encoding!==e)throw new Error("can’t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var vre=ds,_re=Gt,mre=yte,wre=mte,Are=hre,XL=vre;function Av(t){XL.call(this,"digest"),this._hash=t}_re(Av,XL);Av.prototype._update=function(t){this._hash.update(t)};Av.prototype._final=function(){return this._hash.digest()};var uw=function(e){return e=e.toLowerCase(),e==="md5"?new mre:e==="rmd160"||e==="ripemd160"?new wre:new Av(Are(e))},Jb=an.Buffer;function Ere(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=Jb.from(y)),!Jb.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var m=0,A=0,S=0,w=y.length;S!==w&&y[S]===0;)S++,m++;for(var C=(w-S)*c+1>>>0,O=new Uint8Array(C);S!==w;){for(var M=y[S],U=0,K=C-1;(M!==0||U<A)&&K!==-1;K--,U++)M+=256*O[K]>>>0,O[K]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");A=U,S++}for(var Q=C-A;Q!==C&&O[Q]===0;)Q++;for(var k=o.repeat(m);Q<C;++Q)k+=t.charAt(O[Q]);return k}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return Jb.alloc(0);for(var m=0,A=0,S=0;y[m]===o;)A++,m++;for(var w=(y.length-m)*f+1>>>0,C=new Uint8Array(w);m<y.length;){var O=e[y.charCodeAt(m)];if(O===255)return;for(var M=0,U=w-1;(O!==0||M<S)&&U!==-1;U--,M++)O+=s*C[U]>>>0,C[U]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=M,m++}for(var K=w-S;K!==w&&C[K]===0;)K++;var Q=Jb.allocUnsafe(A+(w-K));Q.fill(0,0,A);for(var k=A;K!==w;)Q[k++]=C[K++];return Q}function p(y){var m=l(y);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:p}}var xre=Ere,Sre=xre,Ire="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Cre=Sre(Ire),Am=Cre,Tre=an.Buffer,Ore=function(t){function e(a){var s=t(a);return Am.encode(Tre.concat([a,s],a.length+4))}function r(a){var s=a.slice(0,-4),o=a.slice(-4),f=t(s);if(!(o[0]^f[0]|o[1]^f[1]|o[2]^f[2]|o[3]^f[3]))return s}function n(a){var s=Am.decodeUnsafe(a);if(s)return r(s)}function i(a){var s=Am.decode(a),o=r(s);if(!o)throw new Error("Invalid checksum");return o}return{encode:e,decode:i,decodeUnsafe:n}},Bx=uw,Bre=Ore;function Dre(t){var e=Bx("sha256").update(t).digest();return Bx("sha256").update(e).digest()}var Mre=Bre(Dre),Hy="qpzry9x8gf2tvdw0s3jn54khce6mua7l",R6={};for(var eg=0;eg<Hy.length;eg++){var Em=Hy.charAt(eg);if(R6[Em]!==void 0)throw new TypeError(Em+" is ambiguous");R6[Em]=eg}function Ql(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function ZL(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Ql(e)^n>>5}for(e=Ql(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Ql(e)^i&31}return e}function Rre(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=ZL(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");n=Ql(n)^s,i+=Hy.charAt(s)}for(a=0;a<6;++a)n=Ql(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=Hy.charAt(o)}return i}function JL(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var o=ZL(a);if(typeof o=="string")return o;for(var f=[],c=0;c<s.length;++c){var u=s.charAt(c),l=R6[u];if(l===void 0)return"Unknown character "+u;o=Ql(o)^l,!(c+6>=s.length)&&f.push(l)}return o!==1?"Invalid checksum for "+t:{prefix:a,words:f}}function Lre(){var t=JL.apply(null,arguments);if(typeof t=="object")return t}function Hre(t){var e=JL.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ev(t,e,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],f=0;f<t.length;++f)for(i=i<<e|t[f],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function Pre(t){var e=Ev(t,8,5,!0);if(Array.isArray(e))return e}function Nre(t){var e=Ev(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Ure(t){var e=Ev(t,5,8,!1);if(Array.isArray(e))return e}function kre(t){var e=Ev(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var zre={decodeUnsafe:Lre,decode:Hre,encode:Rre,toWordsUnsafe:Pre,toWords:Nre,fromWordsUnsafe:Ure,fromWords:kre},jre=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},hs={},xv=Object.prototype.toString;hs.isArray=function(t,e){if(!Array.isArray(t))throw TypeError(e)};hs.isBoolean=function(t,e){if(xv.call(t)!=="[object Boolean]")throw TypeError(e)};hs.isBuffer=function(t,e){if(!Buffer.isBuffer(t))throw TypeError(e)};hs.isFunction=function(t,e){if(xv.call(t)!=="[object Function]")throw TypeError(e)};hs.isNumber=function(t,e){if(xv.call(t)!=="[object Number]")throw TypeError(e)};hs.isObject=function(t,e){if(xv.call(t)!=="[object Object]")throw TypeError(e)};hs.isBufferLength=function(t,e,r){if(t.length!==e)throw RangeError(r)};hs.isBufferLength2=function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)};hs.isLengthGTZero=function(t,e){if(t.length===0)throw RangeError(e)};hs.isNumberInInterval=function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)};var I0={},$re=an.Buffer;function Fre(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;var e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;var r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}function qre(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");var e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");var r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}function Kre(t,e){var r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");var i=$re.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}var Qre={check:Fre,decode:qre,encode:Kre},Za=an.Buffer,eH=Qre,Yre=Za.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vre=Za.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);I0.privateKeyExport=function(t,e,r){var n=Za.from(r?Yre:Vre);return t.copy(n,r?8:9),e.copy(n,r?181:214),n};I0.privateKeyImport=function(t){var e=t.length,r=0;if(!(e<r+1||t[r]!==48)&&(r+=1,!(e<r+1||!(t[r]&128)))){var n=t[r]&127;if(r+=1,!(n<1||n>2)&&!(e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(r+=n,!(e<r+i)&&!(e<r+3||t[r]!==2||t[r+1]!==1||t[r+2]!==1)&&(r+=3,!(e<r+2||t[r]!==4||t[r+1]>32||e<r+2+t[r+1])))return t.slice(r+2,r+2+t[r+1])}}};I0.signatureExport=function(t){for(var e=Za.concat([Za.from([0]),t.r]),r=33,n=0;r>1&&e[n]===0&&!(e[n+1]&128);--r,++n);for(var i=Za.concat([Za.from([0]),t.s]),a=33,s=0;a>1&&i[s]===0&&!(i[s+1]&128);--a,++s);return eH.encode(e.slice(n),i.slice(s))};I0.signatureImport=function(t){var e=Za.alloc(32,0),r=Za.alloc(32,0);try{var n=eH.decode(t);if(n.r.length===33&&n.r[0]===0&&(n.r=n.r.slice(1)),n.r.length>32)throw new Error("R length is too long");if(n.s.length===33&&n.s[0]===0&&(n.s=n.s.slice(1)),n.s.length>32)throw new Error("S length is too long")}catch{return}return n.r.copy(e,32-n.r.length),n.s.copy(r,32-n.s.length),{r:e,s:r}};I0.signatureImportLax=function(t){var e=Za.alloc(32,0),r=Za.alloc(32,0),n=t.length,i=0;if(t[i++]===48){var a=t[i++];if(!(a&128&&(i+=a-128,i>n))&&t[i++]===2){var s=t[i++];if(s&128){if(a=s-128,i+a>n)return;for(;a>0&&t[i]===0;i+=1,a-=1);for(s=0;a>0;i+=1,a-=1)s=(s<<8)+t[i]}if(!(s>n-i)){var o=i;if(i+=s,t[i++]===2){var f=t[i++];if(f&128){if(a=f-128,i+a>n)return;for(;a>0&&t[i]===0;i+=1,a-=1);for(f=0;a>0;i+=1,a-=1)f=(f<<8)+t[i]}if(!(f>n-i)){var c=i;for(i+=f;s>0&&t[o]===0;s-=1,o+=1);if(!(s>32)){var u=t.slice(o,o+s);for(u.copy(e,32-u.length);f>0&&t[c]===0;f-=1,c+=1);if(!(f>32)){var l=t.slice(c,c+f);return l.copy(r,32-l.length),{r:e,s:r}}}}}}}}};const Gre="compressed should be a boolean",Wre="private key should be a Buffer",Xre="private key length is invalid",Zre="private key range is invalid",Jre="tweak out of range or resulting private key is invalid",ene="tweak out of range",tne="couldn't export to DER format",rne="couldn't import from DER format",nne="public keys should be an Array",ine="public keys Array should have at least 1 element",ane="public key should be a Buffer",sne="public key length is invalid",one="the public key could not be parsed or is invalid",fne="private was invalid, try again",cne="tweak out of range or resulting public key is invalid",une="tweak out of range",lne="the sum of the public keys is not valid",dne="scalar was invalid (zero or overflow)",hne="signature should be a Buffer",pne="signature length is invalid",bne="couldn't parse signature",gne="couldn't parse DER signature",yne="couldn't serialize signature to DER format",vne="nonce generation function failed or private key is invalid",_ne="couldn't recover public key from signature",mne="message should be a Buffer",wne="message length is invalid",Ane="options should be an Object",Ene="options.data should be a Buffer",xne="options.data length is invalid",Sne="options.noncefn should be a Function",Ine="recovery should be a Number",Cne="recovery should have value between -1 and 4",Tne="tweak should be a Buffer",One="tweak length is invalid",tH={COMPRESSED_TYPE_INVALID:Gre,EC_PRIVATE_KEY_TYPE_INVALID:Wre,EC_PRIVATE_KEY_LENGTH_INVALID:Xre,EC_PRIVATE_KEY_RANGE_INVALID:Zre,EC_PRIVATE_KEY_TWEAK_ADD_FAIL:Jre,EC_PRIVATE_KEY_TWEAK_MUL_FAIL:ene,EC_PRIVATE_KEY_EXPORT_DER_FAIL:tne,EC_PRIVATE_KEY_IMPORT_DER_FAIL:rne,EC_PUBLIC_KEYS_TYPE_INVALID:nne,EC_PUBLIC_KEYS_LENGTH_INVALID:ine,EC_PUBLIC_KEY_TYPE_INVALID:ane,EC_PUBLIC_KEY_LENGTH_INVALID:sne,EC_PUBLIC_KEY_PARSE_FAIL:one,EC_PUBLIC_KEY_CREATE_FAIL:fne,EC_PUBLIC_KEY_TWEAK_ADD_FAIL:cne,EC_PUBLIC_KEY_TWEAK_MUL_FAIL:une,EC_PUBLIC_KEY_COMBINE_FAIL:lne,ECDH_FAIL:dne,ECDSA_SIGNATURE_TYPE_INVALID:hne,ECDSA_SIGNATURE_LENGTH_INVALID:pne,ECDSA_SIGNATURE_PARSE_FAIL:bne,ECDSA_SIGNATURE_PARSE_DER_FAIL:gne,ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:yne,ECDSA_SIGN_FAIL:vne,ECDSA_RECOVER_FAIL:_ne,MSG32_TYPE_INVALID:mne,MSG32_LENGTH_INVALID:wne,OPTIONS_TYPE_INVALID:Ane,OPTIONS_DATA_TYPE_INVALID:Ene,OPTIONS_DATA_LENGTH_INVALID:xne,OPTIONS_NONCEFN_TYPE_INVALID:Sne,RECOVERY_ID_TYPE_INVALID:Ine,RECOVERY_ID_VALUE_INVALID:Cne,TWEAK_TYPE_INVALID:Tne,TWEAK_LENGTH_INVALID:One};var xe=hs,yh=I0,we=tH;function yf(t,e){return t===void 0?e:(xe.isBoolean(t,we.COMPRESSED_TYPE_INVALID),t)}var Bne=function(t){return{privateKeyVerify:function(e){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),e.length===32&&t.privateKeyVerify(e)},privateKeyExport:function(e,r){xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),r=yf(r,!0);var n=t.privateKeyExport(e,r);return yh.privateKeyExport(e,n,r)},privateKeyImport:function(e){if(xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),e=yh.privateKeyImport(e),e&&e.length===32&&t.privateKeyVerify(e))return e;throw new Error(we.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyNegate(e)},privateKeyModInverse:function(e){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,r){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),t.privateKeyTweakAdd(e,r)},privateKeyTweakMul:function(e,r){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),t.privateKeyTweakMul(e,r)},publicKeyCreate:function(e,r){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),r=yf(r,!0),t.publicKeyCreate(e,r)},publicKeyConvert:function(e,r){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),r=yf(r,!0),t.publicKeyConvert(e,r)},publicKeyVerify:function(e){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),t.publicKeyVerify(e)},publicKeyTweakAdd:function(e,r,n){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),n=yf(n,!0),t.publicKeyTweakAdd(e,r,n)},publicKeyTweakMul:function(e,r,n){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),n=yf(n,!0),t.publicKeyTweakMul(e,r,n)},publicKeyCombine:function(e,r){xe.isArray(e,we.EC_PUBLIC_KEYS_TYPE_INVALID),xe.isLengthGTZero(e,we.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var n=0;n<e.length;++n)xe.isBuffer(e[n],we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e[n],33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID);return r=yf(r,!0),t.publicKeyCombine(e,r)},signatureNormalize:function(e){return xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(e,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),t.signatureNormalize(e)},signatureExport:function(e){xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(e,64,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=t.signatureExport(e);return yh.signatureExport(r)},signatureImport:function(e){xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isLengthGTZero(e,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=yh.signatureImport(e);if(r)return t.signatureImport(r);throw new Error(we.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isLengthGTZero(e,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=yh.signatureImportLax(e);if(r)return t.signatureImport(r);throw new Error(we.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,r,n){xe.isBuffer(e,we.MSG32_TYPE_INVALID),xe.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),xe.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID);var i=null,a=null;return n!==void 0&&(xe.isObject(n,we.OPTIONS_TYPE_INVALID),n.data!==void 0&&(xe.isBuffer(n.data,we.OPTIONS_DATA_TYPE_INVALID),xe.isBufferLength(n.data,32,we.OPTIONS_DATA_LENGTH_INVALID),i=n.data),n.noncefn!==void 0&&(xe.isFunction(n.noncefn,we.OPTIONS_NONCEFN_TYPE_INVALID),a=n.noncefn)),t.sign(e,r,a,i)},verify:function(e,r,n){return xe.isBuffer(e,we.MSG32_TYPE_INVALID),xe.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),xe.isBuffer(r,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(r,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),xe.isBuffer(n,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(n,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),t.verify(e,r,n)},recover:function(e,r,n,i){return xe.isBuffer(e,we.MSG32_TYPE_INVALID),xe.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),xe.isBuffer(r,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(r,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),xe.isNumber(n,we.RECOVERY_ID_TYPE_INVALID),xe.isNumberInInterval(n,-1,4,we.RECOVERY_ID_VALUE_INVALID),i=yf(i,!0),t.recover(e,r,n,i)},ecdh:function(e,r){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.ecdh(e,r)},ecdhUnsafe:function(e,r,n){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),n=yf(n,!0),t.ecdhUnsafe(e,r,n)}}},rH={},nH={};const Dne="elliptic",Mne="6.6.1",Rne="EC cryptography",Lne="lib/elliptic.js",Hne=["lib"],Pne={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Nne={type:"git",url:"git@github.com:indutny/elliptic"},Une=["EC","Elliptic","curve","Cryptography"],kne="Fedor Indutny <fedor@indutny.com>",zne="MIT",jne={url:"https://github.com/indutny/elliptic/issues"},$ne="https://github.com/indutny/elliptic",Fne={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},qne={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Kne={name:Dne,version:Mne,description:Rne,main:Lne,files:Hne,scripts:Pne,repository:Nne,keywords:Une,author:kne,license:zne,bugs:jne,homepage:$ne,devDependencies:Fne,dependencies:qne};var $i={};(function(t){var e=t,r=Cr,n=xc,i=J2;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(u,l,p){var y=new Array(Math.max(u.bitLength(),p)+1),m;for(m=0;m<y.length;m+=1)y[m]=0;var A=1<<l+1,S=u.clone();for(m=0;m<y.length;m++){var w,C=S.andln(A-1);S.isOdd()?(C>(A>>1)-1?w=(A>>1)-C:w=C,S.isubn(w)):w=0,y[m]=w,S.iushrn(1)}return y}e.getNAF=a;function s(u,l){var p=[[],[]];u=u.clone(),l=l.clone();for(var y=0,m=0,A;u.cmpn(-y)>0||l.cmpn(-m)>0;){var S=u.andln(3)+y&3,w=l.andln(3)+m&3;S===3&&(S=-1),w===3&&(w=-1);var C;S&1?(A=u.andln(7)+y&7,(A===3||A===5)&&w===2?C=-S:C=S):C=0,p[0].push(C);var O;w&1?(A=l.andln(7)+m&7,(A===3||A===5)&&S===2?O=-w:O=w):O=0,p[1].push(O),2*y===C+1&&(y=1-y),2*m===O+1&&(m=1-m),u.iushrn(1),l.iushrn(1)}return p}e.getJSF=s;function o(u,l,p){var y="_"+l;u.prototype[l]=function(){return this[y]!==void 0?this[y]:this[y]=p.call(this)}}e.cachedProperty=o;function f(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=f;function c(u){return new r(u,"hex","le")}e.intFromLE=c})($i);var lw={},Rc=Cr,nb=$i,Py=nb.getNAF,Qne=nb.getJSF,Ny=nb.assert;function Cc(t,e){this.type=t,this.p=new Rc(e.p,16),this.red=e.prime?Rc.red(e.prime):Rc.mont(this.p),this.zero=new Rc(0).toRed(this.red),this.one=new Rc(1).toRed(this.red),this.two=new Rc(2).toRed(this.red),this.n=e.n&&new Rc(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Sv=Cc;Cc.prototype.point=function(){throw new Error("Not implemented")};Cc.prototype.validate=function(){throw new Error("Not implemented")};Cc.prototype._fixedNafMul=function(e,r){Ny(e.precomputed);var n=e._getDoubles(),i=Py(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),p=a;p>0;p--){for(o=0;o<s.length;o++)f=s[o],f===p?l=l.mixedAdd(n.points[o]):f===-p&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Cc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Py(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];Ny(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Cc.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,l,p;for(u=0;u<i;u++){p=r[u];var y=p._getNAFPoints(e);s[u]=y.wnd,o[u]=y.points}for(u=i-1;u>=1;u-=2){var m=u-1,A=u;if(s[m]!==1||s[A]!==1){f[m]=Py(n[m],s[m],this._bitLength),f[A]=Py(n[A],s[A],this._bitLength),c=Math.max(f[m].length,c),c=Math.max(f[A].length,c);continue}var S=[r[m],null,null,r[A]];r[m].y.cmp(r[A].y)===0?(S[1]=r[m].add(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg())):r[m].y.cmp(r[A].y.redNeg())===0?(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].add(r[A].neg())):(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=Qne(n[m],n[A]);for(c=Math.max(C[0].length,c),f[m]=new Array(c),f[A]=new Array(c),l=0;l<c;l++){var O=C[0][l]|0,M=C[1][l]|0;f[m][l]=w[(O+1)*3+(M+1)],f[A][l]=0,o[m]=S}}var U=this.jpoint(null,null,null),K=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var k=!0;for(l=0;l<i;l++)K[l]=f[l][u]|0,K[l]!==0&&(k=!1);if(!k)break;Q++,u--}if(u>=0&&Q++,U=U.dblp(Q),u<0)break;for(l=0;l<i;l++){var G=K[l];G!==0&&(G>0?p=o[l][G-1>>1]:G<0&&(p=o[l][-G-1>>1].neg()),p.type==="affine"?U=U.mixedAdd(p):U=U.add(p))}}for(u=0;u<i;u++)o[u]=null;return a?U:U.toP()};function La(t,e){this.curve=t,this.type=e,this.precomputed=null}Cc.BasePoint=La;La.prototype.eq=function(){throw new Error("Not implemented")};La.prototype.validate=function(){return this.curve.validate(this)};Cc.prototype.decodePoint=function(e,r){e=nb.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ny(e[e.length-1]%2===0):e[0]===7&&Ny(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};La.prototype.encodeCompressed=function(e){return this.encode(e,!0)};La.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};La.prototype.encode=function(e,r){return nb.encode(this._encode(r),e)};La.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};La.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};La.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};La.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};La.prototype._getBeta=function(){return null};La.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Yne=$i,cr=Cr,dw=Gt,C0=Sv,Vne=Yne.assert;function Ha(t){C0.call(this,"short",t),this.a=new cr(t.a,16).toRed(this.red),this.b=new cr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}dw(Ha,C0);var Gne=Ha;Ha.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new cr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new cr(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],Vne(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new cr(o.a,16),b:new cr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ha.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:cr.mont(e),n=new cr(2).toRed(r).redInvm(),i=n.redNeg(),a=new cr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ha.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new cr(1),s=new cr(0),o=new cr(0),f=new cr(1),c,u,l,p,y,m,A,S=0,w,C;n.cmpn(0)!==0;){var O=i.div(n);w=i.sub(O.mul(n)),C=o.sub(O.mul(a));var M=f.sub(O.mul(s));if(!l&&w.cmp(r)<0)c=A.neg(),u=a,l=w.neg(),p=C;else if(l&&++S===2)break;A=w,i=n,n=w,o=a,a=C,f=s,s=M}y=w.neg(),m=C;var U=l.sqr().add(p.sqr()),K=y.sqr().add(m.sqr());return K.cmp(U)>=0&&(y=c,m=u),l.negative&&(l=l.neg(),p=p.neg()),y.negative&&(y=y.neg(),m=m.neg()),[{a:l,b:p},{a:y,b:m}]};Ha.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),l=e.sub(o).sub(f),p=c.add(u).neg();return{k1:l,k2:p}};Ha.prototype.pointFromX=function(e,r){e=new cr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Ha.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ha.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function Qr(t,e,r,n){C0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new cr(e,16),this.y=new cr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}dw(Qr,C0.BasePoint);Ha.prototype.point=function(e,r,n){return new Qr(this,e,r,n)};Ha.prototype.pointFromJSON=function(e,r){return Qr.fromJSON(this,e,r)};Qr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qr.prototype.isInfinity=function(){return this.inf};Qr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Qr.prototype.getX=function(){return this.x.fromRed()};Qr.prototype.getY=function(){return this.y.fromRed()};Qr.prototype.mul=function(e){return e=new cr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Qr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Qr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function sn(t,e,r,n){C0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new cr(0)):(this.x=new cr(e,16),this.y=new cr(r,16),this.z=new cr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}dw(sn,C0.BasePoint);Ha.prototype.jpoint=function(e,r,n){return new sn(this,e,r,n)};sn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};sn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};sn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),p=i.redMul(u),y=c.redSqr().redIAdd(l).redISub(p).redISub(p),m=c.redMul(p.redISub(y)).redISub(s.redMul(l)),A=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(y,m,A)};sn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),p=f.redSqr().redIAdd(u).redISub(l).redISub(l),y=f.redMul(l.redISub(p)).redISub(a.redMul(u)),m=this.z.redMul(o);return this.curve.jpoint(p,y,m)};sn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),p=u.redSqr(),y=p.redSqr(),m=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),A=s.redMul(p),S=m.redSqr().redISub(A.redAdd(A)),w=A.redISub(S),C=m.redMul(w);C=C.redIAdd(C).redISub(y);var O=u.redMul(f);r+1<e&&(c=c.redMul(y)),s=S,f=O,u=C}return this.curve.jpoint(s,u.redMul(a),f)};sn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};sn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),m=this.x.redAdd(p).redSqr().redISub(l).redISub(y);m=m.redIAdd(m);var A=l.redAdd(l).redIAdd(l),S=A.redSqr(),w=y.redIAdd(y);w=w.redIAdd(w),w=w.redIAdd(w),e=S.redISub(m).redISub(m),r=A.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};sn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),y=this.x.redMul(p),m=this.x.redSub(l).redMul(this.x.redAdd(l));m=m.redAdd(m).redIAdd(m);var A=y.redIAdd(y);A=A.redIAdd(A);var S=A.redAdd(A);e=m.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var w=p.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(A.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};sn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),l=f.redSqr().redISub(u.redAdd(u)),p=u.redISub(l),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var m=f.redMul(p).redISub(y),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,m,A)};sn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(f).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var y=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var m=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(p,y,m)};sn.prototype.mul=function(e,r){return e=new cr(e,r),this.curve._wnafMul(this,e)};sn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};sn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};sn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};sn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Dl=Cr,iH=Gt,Iv=Sv,Wne=$i;function T0(t){Iv.call(this,"mont",t),this.a=new Dl(t.a,16).toRed(this.red),this.b=new Dl(t.b,16).toRed(this.red),this.i4=new Dl(4).toRed(this.red).redInvm(),this.two=new Dl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}iH(T0,Iv);var Xne=T0;T0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function qr(t,e,r){Iv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Dl(e,16),this.z=new Dl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}iH(qr,Iv.BasePoint);T0.prototype.decodePoint=function(e,r){return this.point(Wne.toArray(e,r),1)};T0.prototype.point=function(e,r){return new qr(this,e,r)};T0.prototype.pointFromJSON=function(e){return qr.fromJSON(this,e)};qr.prototype.precompute=function(){};qr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};qr.fromJSON=function(e,r){return new qr(e,r[0],r[1]||e.one)};qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};qr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};qr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};qr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};qr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};qr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};qr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};qr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};qr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};qr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};qr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Zne=$i,Oo=Cr,aH=Gt,Cv=Sv,Jne=Zne.assert;function Zs(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Cv.call(this,"edwards",t),this.a=new Oo(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Oo(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Oo(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Jne(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}aH(Zs,Cv);var eie=Zs;Zs.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Zs.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Zs.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Zs.prototype.pointFromX=function(e,r){e=new Oo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Zs.prototype.pointFromY=function(e,r){e=new Oo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Zs.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function xt(t,e,r,n,i){Cv.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Oo(e,16),this.y=new Oo(r,16),this.z=n?new Oo(n,16):this.curve.one,this.t=i&&new Oo(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}aH(xt,Cv.BasePoint);Zs.prototype.pointFromJSON=function(e){return xt.fromJSON(this,e)};Zs.prototype.point=function(e,r,n,i){return new xt(this,e,r,n,i)};xt.fromJSON=function(e,r){return new xt(e,r[0],r[1],r[2])};xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};xt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};xt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),l=a.redMul(f),p=o.redMul(s);return this.curve.point(c,u,p,l)};xt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};xt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),l=f.redMul(c),p=s.redMul(c),y=o.redMul(f);return this.curve.point(u,l,y,p)};xt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),l,p;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),p=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),p=this.curve._mulC(o).redMul(f)),this.curve.point(u,l,p)};xt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};xt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};xt.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};xt.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};xt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};xt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};xt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};xt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};xt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};xt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};xt.prototype.toP=xt.prototype.normalize;xt.prototype.mixedAdd=xt.prototype.add;(function(t){var e=t;e.base=Sv,e.short=Gne,e.mont=Xne,e.edwards=eie})(lw);var Tv={},xm,Dx;function tie(){return Dx||(Dx=1,xm={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),xm}(function(t){var e=t,r=m0,n=lw,i=$i,a=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=tie()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(Tv);var rie=Cr,nie=$i,L6=nie.assert;function Cn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var iie=Cn;Cn.fromPublic=function(e,r,n){return r instanceof Cn?r:new Cn(e,{pub:r,pubEnc:n})};Cn.fromPrivate=function(e,r,n){return r instanceof Cn?r:new Cn(e,{priv:r,privEnc:n})};Cn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Cn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Cn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Cn.prototype._importPrivate=function(e,r){this.priv=new rie(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Cn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?L6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&L6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Cn.prototype.derive=function(e){return e.validate()||L6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Cn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Cn.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Cn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Uy=Cr,hw=$i,aie=hw.assert;function Ov(t,e){if(t instanceof Ov)return t;this._importDER(t,e)||(aie(t.r&&t.s,"Signature without r or s"),this.r=new Uy(t.r,16),this.s=new Uy(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var sie=Ov;function oie(){this.place=0}function Sm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Mx(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Ov.prototype._importDER=function(e,r){e=hw.toArray(e,r);var n=new oie;if(e[n.place++]!==48)return!1;var i=Sm(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Sm(e,n);if(a===!1||e[n.place]&128)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Sm(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Uy(s),this.s=new Uy(f),this.recoveryParam=null,!0};function Im(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Ov.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Mx(r),n=Mx(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Im(i,r.length),i=i.concat(r),i.push(2),Im(i,n.length);var a=i.concat(n),s=[48];return Im(s,a.length),s=s.concat(a),hw.encode(s,e)};var Ja=Cr,sH=qR,fie=$i,Cm=Tv,cie=ev,$c=fie.assert,pw=iie,Bv=sie;function Sa(t){if(!(this instanceof Sa))return new Sa(t);typeof t=="string"&&($c(Object.prototype.hasOwnProperty.call(Cm,t),"Unknown curve "+t),t=Cm[t]),t instanceof Cm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var uie=Sa;Sa.prototype.keyPair=function(e){return new pw(this,e)};Sa.prototype.keyFromPrivate=function(e,r){return pw.fromPrivate(this,e,r)};Sa.prototype.keyFromPublic=function(e,r){return pw.fromPublic(this,e,r)};Sa.prototype.genKeyPair=function(e){e||(e={});for(var r=new sH({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||cie(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ja(2));;){var a=new Ja(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Sa.prototype._truncateToN=function(e,r,n){var i;if(Ja.isBN(e)||typeof e=="number")e=new Ja(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Ja(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new Ja(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Sa.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Ja.isBN(e)){$c(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),$c(e.length>>>0===e.length);for(var a=0;a<e.length;a++)$c((e[a]&255)===e[a])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),$c(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),f=e.toArray("be",s);$c(new Ja(f).eq(e),"Can not sign message");for(var c=new sH({hash:this.hash,entropy:o,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Ja(1)),l=0;;l++){var p=i.k?i.k(l):new Ja(c.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(u)>=0)){var y=this.g.mul(p);if(!y.isInfinity()){var m=y.getX(),A=m.umod(this.n);if(A.cmpn(0)!==0){var S=p.invm(this.n).mul(A.mul(r.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var w=(y.getY().isOdd()?1:0)|(m.cmp(A)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),w^=1),new Bv({r:A,s:S,recoveryParam:w})}}}}}};Sa.prototype.verify=function(e,r,n,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new Bv(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),c=f.mul(e).umod(this.n),u=f.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};Sa.prototype.recoverPubKey=function(t,e,r,n){$c((3&r)===r,"The recovery param is more than two bits"),e=new Bv(e,n);var i=this.n,a=new Ja(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),p=o.mul(u).umod(i);return this.g.mulAdd(l,s,p)};Sa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Bv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ib=$i,oH=ib.assert,Rx=ib.parseBytes,O0=ib.cachedProperty;function $r(t,e){this.eddsa=t,this._secret=Rx(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Rx(e.pub)}$r.fromPublic=function(e,r){return r instanceof $r?r:new $r(e,{pub:r})};$r.fromSecret=function(e,r){return r instanceof $r?r:new $r(e,{secret:r})};$r.prototype.secret=function(){return this._secret};O0($r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});O0($r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});O0($r,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});O0($r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});O0($r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});O0($r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});$r.prototype.sign=function(e){return oH(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};$r.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};$r.prototype.getSecret=function(e){return oH(this._secret,"KeyPair is public only"),ib.encode(this.secret(),e)};$r.prototype.getPublic=function(e){return ib.encode(this.pubBytes(),e)};var lie=$r,die=Cr,Dv=$i,Lx=Dv.assert,Mv=Dv.cachedProperty,hie=Dv.parseBytes;function Gu(t,e){this.eddsa=t,typeof e!="object"&&(e=hie(e)),Array.isArray(e)&&(Lx(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Lx(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof die&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Mv(Gu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Mv(Gu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Mv(Gu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Mv(Gu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Gu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Gu.prototype.toHex=function(){return Dv.encode(this.toBytes(),"hex").toUpperCase()};var pie=Gu,bie=m0,gie=Tv,Yd=$i,yie=Yd.assert,fH=Yd.parseBytes,cH=lie,Hx=pie;function li(t){if(yie(t==="ed25519","only tested with ed25519 so far"),!(this instanceof li))return new li(t);t=gie[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=bie.sha512}var vie=li;li.prototype.sign=function(e,r){e=fH(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};li.prototype.verify=function(e,r,n){if(e=fH(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};li.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Yd.intFromLE(e.digest()).umod(this.curve.n)};li.prototype.keyFromPublic=function(e){return cH.fromPublic(this,e)};li.prototype.keyFromSecret=function(e){return cH.fromSecret(this,e)};li.prototype.makeSignature=function(e){return e instanceof Hx?e:new Hx(this,e)};li.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};li.prototype.decodePoint=function(e){e=Yd.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Yd.intFromLE(n);return this.curve.pointFromY(a,i)};li.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};li.prototype.decodeInt=function(e){return Yd.intFromLE(e)};li.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=Kne.version,e.utils=$i,e.rand=ev,e.curve=lw,e.curves=Tv,e.ec=uie,e.eddsa=vie})(nH);(function(t){var e=an.Buffer,r=uw,n=Cr,i=nH.ec,a=tH,s=new i("secp256k1"),o=s.curve;function f(l,p){var y=new n(p);if(y.cmp(o.p)>=0)return null;y=y.toRed(o.red);var m=y.redSqr().redIMul(y).redIAdd(o.b).redSqrt();l===3!==m.isOdd()&&(m=m.redNeg());const A=y.redSqr().redIMul(y);return m.redSqr().redISub(A.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:y,y:m}}):null}function c(l,p,y){var m=new n(p),A=new n(y);if(m.cmp(o.p)>=0||A.cmp(o.p)>=0||(m=m.toRed(o.red),A=A.toRed(o.red),(l===6||l===7)&&A.isOdd()!==(l===7)))return null;var S=m.redSqr().redIMul(m);return A.redSqr().redISub(S.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:m,y:A}}):null}function u(l){var p=l[0];switch(p){case 2:case 3:return l.length!==33?null:f(p,l.slice(1,33));case 4:case 6:case 7:return l.length!==65?null:c(p,l.slice(1,33),l.slice(33,65));default:return null}}t.privateKeyVerify=function(l){var p=new n(l);return p.cmp(o.n)<0&&!p.isZero()},t.privateKeyExport=function(l,p){var y=new n(l);if(y.cmp(o.n)>=0||y.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return e.from(s.keyFromPrivate(l).getPublic(p,!0))},t.privateKeyNegate=function(l){var p=new n(l);return p.isZero()?e.alloc(32):o.n.sub(p).umod(o.n).toArrayLike(e,"be",32)},t.privateKeyModInverse=function(l){var p=new n(l);if(p.cmp(o.n)>=0||p.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return p.invm(o.n).toArrayLike(e,"be",32)},t.privateKeyTweakAdd=function(l,p){var y=new n(p);if(y.cmp(o.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(y.iadd(new n(l)),y.cmp(o.n)>=0&&y.isub(o.n),y.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return y.toArrayLike(e,"be",32)},t.privateKeyTweakMul=function(l,p){var y=new n(p);if(y.cmp(o.n)>=0||y.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return y.imul(new n(l)),y.cmp(o.n)&&(y=y.umod(o.n)),y.toArrayLike(e,"be",32)},t.publicKeyCreate=function(l,p){var y=new n(l);if(y.cmp(o.n)>=0||y.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return e.from(s.keyFromPrivate(l).getPublic(p,!0))},t.publicKeyConvert=function(l,p){var y=u(l);if(y===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return e.from(y.getPublic(p,!0))},t.publicKeyVerify=function(l){return u(l)!==null},t.publicKeyTweakAdd=function(l,p,y){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(p=new n(p),p.cmp(o.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var A=o.g.mul(p).add(m.pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return e.from(A.encode(!0,y))},t.publicKeyTweakMul=function(l,p,y){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(p=new n(p),p.cmp(o.n)>=0||p.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return e.from(m.pub.mul(p).encode(!0,y))},t.publicKeyCombine=function(l,p){for(var y=new Array(l.length),m=0;m<l.length;++m)if(y[m]=u(l[m]),y[m]===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var A=y[0].pub,S=1;S<y.length;++S)A=A.add(y[S].pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return e.from(A.encode(!0,p))},t.signatureNormalize=function(l){var p=new n(l.slice(0,32)),y=new n(l.slice(32,64));if(p.cmp(o.n)>=0||y.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var m=e.from(l);return y.cmp(s.nh)===1&&o.n.sub(y).toArrayLike(e,"be",32).copy(m,32),m},t.signatureExport=function(l){var p=l.slice(0,32),y=l.slice(32,64);if(new n(p).cmp(o.n)>=0||new n(y).cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:p,s:y}},t.signatureImport=function(l){var p=new n(l.r);p.cmp(o.n)>=0&&(p=new n(0));var y=new n(l.s);return y.cmp(o.n)>=0&&(y=new n(0)),e.concat([p.toArrayLike(e,"be",32),y.toArrayLike(e,"be",32)])},t.sign=function(l,p,y,m){if(typeof y=="function"){var A=y;y=function(C){var O=A(l,p,null,m,C);if(!e.isBuffer(O)||O.length!==32)throw new Error(a.ECDSA_SIGN_FAIL);return new n(O)}}var S=new n(p);if(S.cmp(o.n)>=0||S.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var w=s.sign(l,p,{canonical:!0,k:y,pers:m});return{signature:e.concat([w.r.toArrayLike(e,"be",32),w.s.toArrayLike(e,"be",32)]),recovery:w.recoveryParam}},t.verify=function(l,p,y){var m={r:p.slice(0,32),s:p.slice(32,64)},A=new n(m.r),S=new n(m.s);if(A.cmp(o.n)>=0||S.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(S.cmp(s.nh)===1||A.isZero()||S.isZero())return!1;var w=u(y);if(w===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return s.verify(l,m,{x:w.pub.x,y:w.pub.y})},t.recover=function(l,p,y,m){var A={r:p.slice(0,32),s:p.slice(32,64)},S=new n(A.r),w=new n(A.s);if(S.cmp(o.n)>=0||w.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(S.isZero()||w.isZero())throw new Error;var C=s.recoverPubKey(l,A,y);return e.from(C.encode(!0,m))}catch{throw new Error(a.ECDSA_RECOVER_FAIL)}},t.ecdh=function(l,p){var y=t.ecdhUnsafe(l,p,!0);return r("sha256").update(y).digest()},t.ecdhUnsafe=function(l,p,y){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var A=new n(p);if(A.cmp(o.n)>=0||A.isZero())throw new Error(a.ECDH_FAIL);return e.from(m.pub.mul(A).encode(!0,y))}})(rH);var _ie=Bne(rH),H6=an.Buffer,mie=9007199254740991;function bw(t){if(t<0||t>mie||t%1!==0)throw new RangeError("value out of range")}function Mh(t,e,r){if(bw(t),e||(e=H6.allocUnsafe(uH(t))),!H6.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Mh.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Mh.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Mh.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Mh.bytes=9),e}function Rh(t,e){if(!H6.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Rh.bytes=1,r;if(r===253)return Rh.bytes=3,t.readUInt16LE(e+1);if(r===254)return Rh.bytes=5,t.readUInt32LE(e+1);Rh.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),a=i*4294967296+n;return bw(a),a}function uH(t){return bw(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var wie={encode:Mh,decode:Rh,encodingLength:uH};const Tm=Mre,Px=zre,tg=jre,lH=uw,gw=_ie,Nx=wie,$f={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function P6(t){return lH("sha256").update(t).digest()}function Aie(t){return P6(P6(t))}function dH(t){return lH("ripemd160").update(P6(t)).digest()}function hH(t,e,r,n){return n!==void 0?(e+=8,n===$f.P2WPKH&&(e+=4)):r&&(e+=4),Buffer.concat([Buffer.alloc(1,e+27),t])}function Eie(t){if(t.length!==65)throw new Error("Invalid signature length");const e=t.readUInt8(0)-27;if(e>15||e<0)throw new Error("Invalid signature parameter");return{compressed:!!(e&12),segwitType:e&8?e&4?$f.P2WPKH:$f.P2SH_P2WPKH:null,recovery:e&3,signature:t.slice(1)}}function Rv(t,e){e=e||`Bitcoin Signed Message:
`,Buffer.isBuffer(e)||(e=Buffer.from(e,"utf8")),Buffer.isBuffer(t)||(t=Buffer.from(t,"utf8"));const r=Nx.encodingLength(t.length),n=Buffer.allocUnsafe(e.length+r+t.length);return e.copy(n,0),Nx.encode(t.length,n,e.length),t.copy(n,e.length+r),Aie(n)}function pH(t,e){typeof t=="object"&&e===void 0&&(e=t,t=void 0);let{segwitType:r,extraEntropy:n}=e||{};if(r&&(typeof r=="string"||r instanceof String)&&(r=r.toLowerCase()),r&&r!==$f.P2SH_P2WPKH&&r!==$f.P2WPKH)throw new Error('Unrecognized segwitType: use "'+$f.P2SH_P2WPKH+'" or "'+$f.P2WPKH+'"');return{messagePrefixArg:t,segwitType:r,extraEntropy:n}}function bH(t){return t&&typeof t.sign=="function"}function xie(t,e,r,n,i){const{messagePrefixArg:a,segwitType:s,extraEntropy:o}=pH(n,i),f=Rv(t,a),c=bH(e)?e.sign(f,o):gw.sign(f,e,{data:o});return hH(c.signature,c.recovery,r,s)}function Sie(t,e,r,n,i){let a,s,o;return Promise.resolve().then(()=>{({messagePrefixArg:a,segwitType:s,extraEntropy:o}=pH(n,i));const f=Rv(t,a);return bH(e)?e.sign(f,o):gw.sign(f,e,{data:o})}).then(f=>hH(f.signature,f.recovery,r,s))}function Ux(t){const e=Buffer.concat([Buffer.from("0014","hex"),t]);return dH(e)}function kx(t){const e=Px.decode(t),r=Px.fromWords(e.words.slice(1));return Buffer.from(r)}function Iie(t,e,r,n,i){Buffer.isBuffer(r)||(r=Buffer.from(r,"base64"));const a=Eie(r);if(i&&!a.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const s=Rv(t,n),o=gw.recover(s,a.signature,a.recovery,a.compressed),f=dH(o);let c,u;if(a.segwitType)a.segwitType===$f.P2SH_P2WPKH?(c=Ux(f),u=Tm.decode(e).slice(1)):(c=f,u=kx(e));else if(i)try{return u=kx(e),tg(f,u)}catch{const p=Ux(f);return u=Tm.decode(e).slice(1),tg(f,u)||tg(p,u)}else c=f,u=Tm.decode(e).slice(1);return tg(c,u)}var Cie={magicHash:Rv,sign:xie,signAsync:Sie,verify:Iie};function Tie(t,e,r){const n=typeof t=="string"?t:me(t).slice(2),[i,...a]=Te(e,"base64");return Nd.verify(Te(a),Cie.magicHash(n),r)}class Oie extends hc{get signType(){return si.Unknown}constructor(e,r){super(e),this.type=r}async isConnected(){return!1}async getInternalAddress(){throw new Error("Can't get address from SignerDummy")}async getAddressObjs(){throw new Error("Can't get addresses from SignerDummy")}}class Bie extends Oie{constructor(e,r,n){super(e,r),this.message=n}async connect(){throw new Error(this.message)}}class Die extends hc{get type(){return as.EVM}get signType(){return si.EvmPersonal}async getInternalAddress(){return this.getEvmAccount()}async getAddressObjs(){const e=await this.getEvmAccount();return(await Promise.all([this._getOmniLockAddresses(e),this._getPWLockAddresses(e)])).flat()}_getOmniLockAddresses(e){return Promise.all([this._getOmniLockEvmAddressObj(e),this._getOmniLockOldEvmAddressObj(e)])}async _getPWLockAddresses(e){const r=await this._getPWLockEvmAddressObj(e);return r?[r]:[]}async _getOmniLockEvmAddressObj(e){return ca.fromKnownScript(this.client,De.OmniLock,me([18,...Te(e),0]))}async _getOmniLockOldEvmAddressObj(e){return ca.fromKnownScript(this.client,De.OmniLock,me([1,...Te(e),0]))}async _getPWLockEvmAddressObj(e){try{return ca.fromKnownScript(this.client,De.PWLock,me(Te(e)))}catch{}}async prepareTransaction(e){const r=Nt.from(e);await r.findInputIndexByLockId(await this.client.getKnownScript(De.OmniLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,De.OmniLock),await r.findInputIndexByLockId(await this.client.getKnownScript(De.PWLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,De.PWLock);const n=await this.getEvmAccount(),i=await this._getOmniLockAddresses(n),a=await this._getPWLockAddresses(n),s=Md(i,(o,{script:f})=>o.prepareSighashAllWitness(f,85,this.client),r);return Md(a,(o,{script:f})=>o.prepareSighashAllWitness(f,65,this.client),s)}async signOnlyTransaction(e){let r=Nt.from(e);const n=await this.getEvmAccount(),{script:i}=await this._getOmniLockEvmAddressObj(n),{script:a}=await this._getOmniLockOldEvmAddressObj(n);r=await this._signOmniLockScriptForTransaction(r,i,o=>`CKB transaction: ${o}`),r=await this._signOmniLockScriptForTransaction(r,a,o=>Te(o));const s=await this._getPWLockEvmAddressObj(n);return s&&(r=await this._signPWLockScriptForTransaction(r,s.script,o=>Te(o))),r}async _signOmniLockScriptForTransaction(e,r,n){const i=await this._signPersonalEvmForTransaction(e,r,n);if(!i)return e;const a=is.fromBytes(e.witnesses[i.position]);return a.lock=me(k1(mn(5*4+i.signature.length,4),mn(4*4,4),mn(5*4+i.signature.length,4),mn(5*4+i.signature.length,4),mn(i.signature.length,4),i.signature)),e.setWitnessArgsAt(i.position,a),e}async _signPWLockScriptForTransaction(e,r,n){const i=await this._signPersonalEvmForTransaction(e,r,n,new gV);if(!i)return e;const a=is.fromBytes(e.witnesses[i.position]);return a.lock=me(i.signature),e.setWitnessArgsAt(i.position,a),e}async _signPersonalEvmForTransaction(e,r,n,i){const a=await e.getSignHashInfo(r,this.client,i);if(!a)return;const s=Te(await this.signMessageRaw(n(a.message)));return s[s.length-1]>=27&&(s[s.length-1]-=27),{signature:s,position:a.position}}}class tc extends hc{get type(){return as.Nostr}get signType(){return si.NostrEvent}async signMessageRaw(e){return me((await this.signNostrEvent(vL(e))).sig)}async getInternalAddress(){return Au.encode("npub",Au.toWords(Te(await this.getNostrPublicKey())))}async getAddressObjs(){const e=await this.getNostrPublicKey();return[await ca.fromKnownScript(this.client,De.NostrLock,me(k1([0],j1(e).slice(0,42))))]}async prepareTransaction(e){const r=Nt.from(e),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,De.NostrLock),await r.prepareSighashAllWitness(n,572,this.client),r}async signOnlyTransaction(e){const r=Nt.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Te(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[tc.CKB_SIG_HASH_ALL_TAG,i.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:tc.CKB_UNLOCK_EVENT_KIND,content:tc.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),s=is.fromBytes(r.witnesses[i.position]);return s.lock=me(a),r.setWitnessArgsAt(i.position,s),r}}tc.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all";tc.CKB_UNLOCK_EVENT_KIND=23334;tc.CKB_UNLOCK_EVENT_CONTENT=`Signing a CKB transaction

IMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message
`;async function zs(t,e){return e.popup==null&&(e.popup=iW(""),e.popup==null)?cW(async()=>zs(t,e)):(e.popup.location.href=t,new Promise((r,n)=>{gR()&&n(new nW(e.popup));let i,a;const s=setInterval(()=>{var o;(o=e.popup)!=null&&o.closed&&(clearInterval(s),clearTimeout(a),window.removeEventListener("message",i,!1),n(new mR(e.popup)))},1e3);a=setTimeout(()=>{clearInterval(s),n(new rW(e.popup)),window.removeEventListener("message",i,!1)},(e.timeoutInSeconds??3e3)*1e3),i=o=>{var u;const{joyidAppURL:f}=e,c=new URL(f);o.origin===c.origin&&(!o.data||((u=o.data)==null?void 0:u.type)!==e.type||(clearTimeout(a),clearInterval(s),window.removeEventListener("message",i,!1),e.popup.close(),o.data.error&&n(new Error(o.data.error)),r(o.data.data)))},window.addEventListener("message",i)}))}function Om(t,e){return t.uri===e.uri&&t.addressType.startsWith(e.addressType)}class Lv{constructor(e="ccc-joy-id-signer"){this.storageKey=e}async readConnections(){return JSON.parse(window.localStorage.getItem(this.storageKey)??"[]")}async get(e){var r;return(r=(await this.readConnections()).find(([n])=>Om(e,n)))==null?void 0:r[1]}async set(e,r){const n=await this.readConnections();if(r){const i=n.find(([a])=>Om(a,e));i?i[1]=r:n.push([e,r]),window.localStorage.setItem(this.storageKey,JSON.stringify(n))}else window.localStorage.setItem(this.storageKey,JSON.stringify(n.filter(([i])=>!Om(i,e))))}}class Bm extends lee{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i=[{addressPrefix:"ckb",signerType:as.BTC,network:"btc"},{addressPrefix:"ckt",signerType:as.BTC,network:"btcTestnet"}],a="auto",s,o=new Lv){super(e),this.name=r,this.icon=n,this.preferredNetworks=i,this.addressType=a,this._appUri=s,this.connectionsRepo=o,this.network="btcTestnet"}getConfig(){const{network:e}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network!==e&&(this.connection=void 0),this.network=e;const r={btc:"https://app.joy.id",btcTestnet:"https://testnet.joyid.dev"}[e];if(!r)throw new Error(`JoyID wallet doesn't support the requested chain ${this.network}`);return{redirectURL:location.href,joyidAppURL:this._appUri??r,requestNetwork:`btc-${this.addressType}`,name:this.name,logo:this.icon}}async disconnect(){await super.disconnect(),await this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"btc"},void 0)}async getBtcAccount(){const{address:e}=await this.assertConnection();return e}async getBtcPublicKey(){const{publicKey:e}=await this.assertConnection();return e}async connect(){const e=this.getConfig(),r=await zs(Ho(e,"popup","/auth"),{...e,type:Ps.Auth}),{address:n,pubkey:i}=this.addressType==="auto"?r.btcAddressType==="p2wpkh"?r.nativeSegwit:r.taproot:this.addressType==="p2wpkh"?r.nativeSegwit:r.taproot;this.connection={address:n,publicKey:me(i),keyType:r.keyType},await Promise.all([this.connectionsRepo.set({uri:e.joyidAppURL,addressType:`btc-${r.btcAddressType}`},this.connection),this.connectionsRepo.set({uri:e.joyidAppURL,addressType:"btc-auto"},this.connection)])}async isConnected(){return this.connection?!0:(this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:`btc-${this.addressType}`}),this.connection!==void 0)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:me(e).slice(2),i=this.getConfig(),{signature:a}=await zs(Ho({...i,challenge:n,address:r,signMessageType:"ecdsa"},"popup","/sign-message"),{...i,type:Ps.SignMessage});return a}}class Mie extends hc{get type(){return as.CKB}get signType(){return si.JoyId}async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a,s=new Lv){super(e),this.name=r,this.icon=n,this._appUri=i,this._aggregatorUri=a,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),name:this.name,logo:this.icon}}getAggregatorUri(){return this._aggregatorUri??(this.client.addressPrefix==="ckb"?"https://cota.nervina.dev/mainnet-aggregator":"https://cota.nervina.dev/aggregator")}async connect(){const e=this.getConfig(),r=await zs(Ho(e,"popup","/auth"),{...e,type:Ps.Auth});this.connection={address:r.address,publicKey:me(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getInternalAddress(){return(await this.assertConnection()).address}async getIdentity(){const e=await this.assertConnection();return JSON.stringify({keyType:e.keyType,publicKey:e.publicKey.slice(2)})}async getAddressObj(){return await ca.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async prepareTransaction(e){const r=Nt.from(e);await r.addCellDepsOfKnownScripts(this.client,De.JoyId);const n=await r.findInputIndexByLock((await this.getAddressObj()).script,this.client);if(n===void 0)return r;const i=r.getWitnessArgsAt(n)??is.from({});return i.lock=me("00".repeat(1e3)),await this.prepareTransactionForSubKey(r,i),r.setWitnessArgsAt(n,i),r}async prepareTransactionForSubKey(e,r){var f;if(((f=this.connection)==null?void 0:f.keyType)!=="sub_key"||(r.outputType??"0x")!=="0x")return;const n=j1(this.connection.publicKey).substring(0,42),i=(await this.getAddressObj()).script,a=new MZ(this.getAggregatorUri()),{unlock_entry:s}=await a.generateSubkeyUnlockSmt({alg_index:1,pubkey_hash:n,lock_script:me(i.toBytes())});r.outputType=me(s);const o=[];for await(const c of this.client.findCellsByLock(i,await at.fromKnownScript(this.client,De.COTA,"0x")))o.push(Ti.from({depType:"code",outPoint:c.outPoint}));if(o.length===0)throw new Error("No COTA cells for sub key wallet");e.addCellDepsAtStart(o)}async signOnlyTransaction(e){const r=Nt.from(e),{script:n}=await this.getAddressObj(),i=await Md(r.inputs,async(o,f,c)=>{if(await f.completeExtraInfos(this.client),!f.cellOutput)throw new Error("Unable to complete input");f.cellOutput.lock.eq(n)&&o.push(c)},[]);await r.prepareSighashAllWitness(n,0,this.client),r.inputs.forEach(o=>{o.cellOutput=void 0,o.outputData=void 0});const a=this.getConfig(),s=await zs(Ho({...a,tx:JSON.parse(r.stringify()),signerAddress:(await this.assertConnection()).address,witnessIndexes:i},"popup","/sign-ckb-raw-tx"),{...a,type:Ps.SignCkbRawTx});return Nt.from(s.tx)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:me(e).slice(2),i=this.getConfig(),a=await zs(Ho({...i,challenge:n,isData:typeof e!="string",address:r},"popup","/sign-message"),{...i,type:Ps.SignMessage});return JSON.stringify({signature:a.signature,alg:a.alg,message:a.message})}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ckb"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ckb"})}}class Rie extends Die{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a=new Lv){super(e),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"ethereum",name:this.name,logo:this.icon}}async getEvmAccount(){return(await this.assertConnection()).address}async connect(){const e=this.getConfig(),r=await zs(Ho(e,"popup","/auth"),{...e,type:Ps.Auth});this.connection={address:r.ethAddress,publicKey:me(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:me(e).slice(2),i=this.getConfig(),{signature:a}=await zs(Ho({...i,challenge:n,isData:typeof e!="string",address:r},"popup","/sign-message"),{...i,type:Ps.SignMessage});return me(a)}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ethereum"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ethereum"})}}class Lie extends tc{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a=new Lv){super(e),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"nostr",name:this.name,logo:this.icon}}async connect(){const e=this.getConfig(),r=await zs(Ho(e,"popup","/auth"),{...e,type:Ps.Auth});this.connection={address:"",publicKey:me(r.nostrPubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getNostrPublicKey(){return(await this.assertConnection()).publicKey}async signNostrEvent(e){const r=this.getConfig();return(await zs(Ho({...r,event:e},"popup","/sign-nostr-event"),{...r,type:Ps.SignNostrEvent})).event}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"nostr"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"nostr"})}}function Hie(t,e,r,n){return gR()||CV(window.navigator.userAgent)?[as.CKB,as.EVM,as.BTC].map(i=>({name:i,signer:new Bie(t,i,"JoyID can only be used with standard browsers")})):[{name:"CKB",signer:new Mie(t,e,r)},{name:"BTC",signer:new Bm(t,e,r,n)},{name:"Nostr",signer:new Lie(t,e,r)},{name:"EVM",signer:new Rie(t,e,r)},{name:"BTC (P2WPKH)",signer:new Bm(t,e,r,n,"p2wpkh")},{name:"BTC (P2TR)",signer:new Bm(t,e,r,n,"p2tr")}]}var Dm;function Pie(t){return Dm==null?void 0:Dm.get(t)}var Mm;function Nie(t){return Mm==null?void 0:Mm.get(t)}var Rm;function Uie(t,e){var r;return(r=Rm==null?void 0:Rm.get(t))==null?void 0:r.get(e)}function Hv(t){var r,n;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((n=(r=Object.getPrototypeOf(t))==null?void 0:r.constructor)==null?void 0:n.name))??"null":e}function Hi(t,e,r,n,i){const a=i&&"input"in i?i.input:r.value,s=(i==null?void 0:i.expected)??t.expects??null,o=(i==null?void 0:i.received)??Hv(a),f={kind:t.kind,type:t.type,input:a,expected:s,received:o,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=t.kind==="schema",u=(i==null?void 0:i.message)??t.message??Uie(t.reference,f.lang)??(c?Nie(f.lang):null)??n.message??Pie(f.lang);u&&(f.message=typeof u=="function"?u(f):u),c&&(r.typed=!1),r.issues?r.issues.push(f):r.issues=[f]}function kie(t,e){return Object.hasOwn(t,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function yw(t,e){const r=[...new Set(t)];return r.length>1?`(${r.join(` ${e} `)})`:r[0]??"never"}function gH(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function Bu(t,e){return{kind:"schema",type:"array",reference:Bu,expects:"Array",async:!1,item:t,message:e,_run(r,n){var a;const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<i.length;s++){const o=i[s],f=this.item._run({typed:!1,value:o},n);if(f.issues){const c={type:"array",origin:"value",input:i,key:s,value:o};for(const u of f.issues)u.path?u.path.unshift(c):u.path=[c],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=f.issues),n.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),r.value.push(f.value)}}else Hi(this,"type",r,n);return r}}}function Du(t,e){const r=Object.entries(t).filter(([n])=>isNaN(+n)).map(([,n])=>n);return{kind:"schema",type:"enum",reference:Du,expects:yw(r.map(Hv),"|"),async:!1,enum:t,options:r,message:e,_run(n,i){return this.options.includes(n.value)?n.typed=!0:Hi(this,"type",n,i),n}}}function on(t,e){return{kind:"schema",type:"literal",reference:on,expects:Hv(t),async:!1,literal:t,message:e,_run(r,n){return r.value===this.literal?r.typed=!0:Hi(this,"type",r,n),r}}}function yH(t,e){return{kind:"schema",type:"loose_object",reference:yH,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=i[s],f=this.entries[s]._run({typed:!1,value:o},n);if(f.issues){const c={type:"object",origin:"value",input:i,key:s,value:o};for(const u of f.issues)u.path?u.path.unshift(c):u.path=[c],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=f.issues),n.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),(f.value!==void 0||s in i)&&(r.value[s]=f.value)}if(!r.issues||!n.abortEarly)for(const s in i)kie(i,s)&&!(s in this.entries)&&(r.value[s]=i[s])}else Hi(this,"type",r,n);return r}}}function vw(t,e){return{kind:"schema",type:"non_optional",reference:vw,expects:"!undefined",async:!1,wrapped:t,message:e,_run(r,n){return r.value===void 0?(Hi(this,"type",r,n),r):this.wrapped._run(r,n)}}}function B0(t){return{kind:"schema",type:"null",reference:B0,expects:"null",async:!1,message:t,_run(e,r){return e.value===null?e.typed=!0:Hi(this,"type",e,r),e}}}function Pv(t,...e){const r={kind:"schema",type:"nullish",reference:Pv,expects:`(${t.expects} | null | undefined)`,async:!1,wrapped:t,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=gH(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function vH(t){return{kind:"schema",type:"number",reference:vH,expects:"number",async:!1,message:t,_run(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Hi(this,"type",e,r),e}}}function rt(t,e){return{kind:"schema",type:"object",reference:rt,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=i[s],f=this.entries[s]._run({typed:!1,value:o},n);if(f.issues){const c={type:"object",origin:"value",input:i,key:s,value:o};for(const u of f.issues)u.path?u.path.unshift(c):u.path=[c],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=f.issues),n.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),(f.value!==void 0||s in i)&&(r.value[s]=f.value)}}else Hi(this,"type",r,n);return r}}}function Wu(t,...e){const r={kind:"schema",type:"optional",reference:Wu,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=gH(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function _H(t,e){return{kind:"schema",type:"picklist",reference:_H,expects:yw(t.map(Hv),"|"),async:!1,options:t,message:e,_run(r,n){return this.options.includes(r.value)?r.typed=!0:Hi(this,"type",r,n),r}}}function Vt(t){return{kind:"schema",type:"string",reference:Vt,expects:"string",async:!1,message:t,_run(e,r){return typeof e.value=="string"?e.typed=!0:Hi(this,"type",e,r),e}}}function _w(t){return{kind:"schema",type:"undefined",reference:_w,expects:"undefined",async:!1,message:t,_run(e,r){return e.value===void 0?e.typed=!0:Hi(this,"type",e,r),e}}}function zx(t){let e;if(t)for(const r of t)e?e.push(...r.issues):e=r.issues;return e}function Nv(t,e){return{kind:"schema",type:"union",reference:Nv,expects:yw(t.map(r=>r.expects),"|"),async:!1,options:t,message:e,_run(r,n){let i,a,s;for(const o of this.options){const f=o._run({typed:!1,value:r.value},n);if(f.typed)if(f.issues)a?a.push(f):a=[f];else{i=f;break}else s?s.push(f):s=[f]}if(i)return i;if(a){if(a.length===1)return a[0];Hi(this,"type",r,n,{issues:zx(a)}),r.typed=!0}else{if((s==null?void 0:s.length)===1)return s[0];Hi(this,"type",r,n,{issues:zx(s)})}return r}}}function Uv(){return{kind:"schema",type:"unknown",reference:Uv,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}var jx;(function(t){t.Mainnet="Mainnet",t.Testnet="Testnet",t.Signet="Signet"})(jx||(jx={}));const mw=Wu(Nv([Vt(),vH(),B0()])),Tc=rt({jsonrpc:on("2.0"),method:Vt(),params:Wu(Nv([Bu(Uv()),yH({}),B0()])),id:mw});var $x;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",t[t.USER_REJECTION=-32e3]="USER_REJECTION",t[t.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",t[t.ACCESS_DENIED=-32002]="ACCESS_DENIED"})($x||($x={}));const zie=rt({jsonrpc:on("2.0"),result:vw(Uv()),id:mw}),jie=rt({jsonrpc:on("2.0"),error:vw(Uv()),id:mw});Nv([zie,jie]);const $ie=["software","ledger"],Fie=_H($ie),qie="wallet_requestPermissions",Kie=_w();on(!0);rt({...Tc.entries,...rt({method:on(qie),params:Kie,id:Vt()}).entries});const Qie="wallet_renouncePermissions",Yie=_w();on(!0);rt({...Tc.entries,...rt({method:on(Qie),params:Yie,id:Vt()}).entries});const Vie="wallet_getWalletType";Pv(B0());rt({...Tc.entries,...rt({method:on(Vie),id:Vt()}).entries});var Kp;(function(t){t.Ordinals="ordinals",t.Payment="payment",t.Stacks="stacks"})(Kp||(Kp={}));var N6;(function(t){t.p2pkh="p2pkh",t.p2sh="p2sh",t.p2wpkh="p2wpkh",t.p2wsh="p2wsh",t.p2tr="p2tr",t.stacks="stacks"})(N6||(N6={}));const Gie=rt({address:Vt(),publicKey:Vt(),purpose:Du(Kp),addressType:Du(N6)}),Wie="getInfo",Xie=Pv(B0());rt({version:Vt(),methods:Wu(Bu(Vt())),supports:Bu(Vt())});rt({...Tc.entries,...rt({method:on(Wie),params:Xie,id:Vt()}).entries});const Zie="getAddresses",Jie=rt({purposes:Bu(Du(Kp)),message:Wu(Vt())});rt({...Tc.entries,...rt({method:on(Zie),params:Jie,id:Vt()}).entries});const eae="signMessage";var ky;(function(t){t.ECDSA="ECDSA",t.BIP322="BIP322"})(ky||(ky={}));const tae=rt({address:Vt(),message:Vt(),protocol:Wu(Du(ky))});rt({signature:Vt(),messageHash:Vt(),address:Vt(),protocol:Du(ky)});rt({...Tc.entries,...rt({method:on(eae),params:tae,id:Vt()}).entries});const rae="getAccounts",nae=rt({purposes:Bu(Du(Kp)),message:Wu(Vt())});Bu(rt({...Gie.entries,...rt({walletType:Fie}).entries}));rt({...Tc.entries,...rt({method:on(rae),params:nae,id:Vt()}).entries});const iae="getBalance";Pv(B0());rt({...Tc.entries,...rt({method:on(iae),id:Vt()}).entries});const aae="accountChange";rt({type:on(aae)});const sae="networkChange";rt({type:on(sae)});const oae="disconnect";rt({type:on(oae)});function fae(t){const e=i2.c(14),{rootConfig:r,signer:n,walletName:i}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["walletConfig"],e[0]=a):a=e[0];let s;e[1]!==r||e[2]!==n?(s={queryKey:a,queryFn:async()=>{await n.isConnected()||await n.connect();const[l,p,y]=await Promise.all([n.getRecommendedAddress(),n.getRecommendedAddressObj(),n.getAddressObjs()]);let m;return m=[p,...y].map(uae),m=[...new Map(m.map(cae)).values()],{...r,address:l,accountLocks:m,expander:C=>{const O=C.cellOutput.lock;for(const M of m)if(En(O,M))return M},getTxSizeOverhead:async C=>{const O=Nt.fromLumosSkeleton(C),M=O.toBytes().length;return(await n.prepareTransaction(O)).toBytes().length-M},sendSigned:async C=>n.sendTransaction(Nt.fromLumosSkeleton(C))}}},e[1]=r,e[2]=n,e[3]=s):s=e[3];const{isPending:o,error:f,data:c}=k4(s);if(o){let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=ve.jsx(OQ,{}),e[4]=l):l=e[4];let p;e[5]!==i?(p=ve.jsxs("p",{children:["Waiting for ",i," authorization..."]}),e[5]=i,e[6]=p):p=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=ve.jsx(E5,{}),e[7]=y):y=e[7];let m;return e[8]!==p?(m=ve.jsxs(ve.Fragment,{children:[l,p,y]}),e[8]=p,e[9]=m):m=e[9],m}if(f){setTimeout(function(){console.log(f),location.reload()},1e4);let l;return e[10]!==i?(l=ve.jsxs("p",{children:["Unable to connect to ",i," ⚠️"]}),e[10]=i,e[11]=l):l=e[11],l}let u;return e[12]!==c?(u=ve.jsx(_Y,{walletConfig:c}),e[12]=c,e[13]=u):u=e[13],u}function cae(t){return[`${t.args}-${t.hashType}-${t.codeHash}`,t]}function uae(t){return xn.from({...va,...t.script})}const lae="/favicon.png",dae="iCKB DApp",hae=gD("testnet",void 0,!0,bM).then(t=>{const e={...t,queryClient:new tT,cccClient:new VV};return AM(e),e}),pae=gD("mainnet",void 0,!0,bM).then(t=>{const e={...t,queryClient:new tT,cccClient:new QV};return AM(e),e});async function Pae(t){const[e,r]=t.split("_"),n=await(r==="mainnet"?pae:hae),i=Hie(n.cccClient,dae,"https://ickb.org"+lae).filter(o=>o.name==="CKB")[0].signer,a=document.getElementById("app"),s=jU.createRoot(a);a.textContent="",s.render(ve.jsx(yr.StrictMode,{children:ve.jsx(ok,{client:n.queryClient,children:ve.jsx(fae,{rootConfig:n,signer:i,walletName:e})})}))}export{Pae as startApp};
