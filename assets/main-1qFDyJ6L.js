var iP=Object.defineProperty;var jw=t=>{throw TypeError(t)};var aP=(t,e,r)=>e in t?iP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Yr=(t,e,r)=>aP(t,typeof e!="symbol"?e+"":e,r),qv=(t,e,r)=>e.has(t)||jw("Cannot "+r);var se=(t,e,r)=>(qv(t,e,"read from private field"),r?r.call(t):e.get(t)),Be=(t,e,r)=>e.has(t)?jw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ve=(t,e,r,n)=>(qv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Qe=(t,e,r)=>(qv(t,e,"access private method"),r);var bb=(t,e,r,n)=>({set _(i){ve(t,e,i,r)},get _(){return se(t,e,n)}});var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var dS={exports:{}},$y={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=Symbol.for("react.transitional.element"),oP=Symbol.for("react.fragment");function hS(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:sP,type:t,key:n,ref:e!==void 0?e:null,props:r}}$y.Fragment=oP;$y.jsx=hS;$y.jsxs=hS;dS.exports=$y;var _e=dS.exports,pS={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6=Symbol.for("react.transitional.element"),fP=Symbol.for("react.portal"),cP=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),dP=Symbol.for("react.consumer"),hP=Symbol.for("react.context"),pP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),gP=Symbol.for("react.memo"),bS=Symbol.for("react.lazy"),Fw=Symbol.iterator;function yP(t){return t===null||typeof t!="object"?null:(t=Fw&&t[Fw]||t["@@iterator"],typeof t=="function"?t:null)}var gS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yS=Object.assign,vS={};function Wd(t,e,r){this.props=t,this.context=e,this.refs=vS,this.updater=r||gS}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _S(){}_S.prototype=Wd.prototype;function Y6(t,e,r){this.props=t,this.context=e,this.refs=vS,this.updater=r||gS}var G6=Y6.prototype=new _S;G6.constructor=Y6;yS(G6,Wd.prototype);G6.isPureReactComponent=!0;var $w=Array.isArray,Kt={H:null,A:null,T:null,S:null},mS=Object.prototype.hasOwnProperty;function W6(t,e,r,n,i,a){return r=a.ref,{$$typeof:V6,type:t,key:e,ref:r!==void 0?r:null,props:a}}function vP(t,e){return W6(t.type,e,void 0,void 0,void 0,t.props)}function X6(t){return typeof t=="object"&&t!==null&&t.$$typeof===V6}function _P(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qw=/\/+/g;function Kv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_P(""+t.key):e.toString(36)}function Kw(){}function mP(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Kw,Kw):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fl(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case V6:case fP:s=!0;break;case bS:return s=t._init,fl(s(t._payload),e,r,n,i)}}if(s)return i=i(t),s=n===""?"."+Kv(t,0):n,$w(i)?(r="",s!=null&&(r=s.replace(qw,"$&/")+"/"),fl(i,e,r,"",function(c){return c})):i!=null&&(X6(i)&&(i=vP(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(qw,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=n===""?".":n+":";if($w(t))for(var f=0;f<t.length;f++)n=t[f],a=o+Kv(n,f),s+=fl(n,e,r,a,i);else if(f=yP(t),typeof f=="function")for(t=f.call(t),f=0;!(n=t.next()).done;)n=n.value,a=o+Kv(n,f++),s+=fl(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return fl(mP(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function gb(t,e,r){if(t==null)return t;var n=[],i=0;return fl(t,n,"","",function(a){return e.call(r,a,i++)}),n}function wP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qw=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function AP(){}je.Children={map:gb,forEach:function(t,e,r){gb(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gb(t,function(){e++}),e},toArray:function(t){return gb(t,function(e){return e})||[]},only:function(t){if(!X6(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Wd;je.Fragment=cP;je.Profiler=lP;je.PureComponent=Y6;je.StrictMode=uP;je.Suspense=bP;je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;je.act=function(){throw Error("act(...) is not supported in production builds of React.")};je.cache=function(t){return function(){return t.apply(null,arguments)}};je.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=yS({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!mS.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(n[s]=e[s]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var o=Array(s),f=0;f<s;f++)o[f]=arguments[f+2];n.children=o}return W6(t.type,i,void 0,void 0,a,n)};je.createContext=function(t){return t={$$typeof:hP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:dP,_context:t},t};je.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)mS.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var o=Array(s),f=0;f<s;f++)o[f]=arguments[f+2];i.children=o}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return W6(t,a,void 0,void 0,null,i)};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:pP,render:t}};je.isValidElement=X6;je.lazy=function(t){return{$$typeof:bS,_payload:{_status:-1,_result:t},_init:wP}};je.memo=function(t,e){return{$$typeof:gP,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Kt.T,r={};Kt.T=r;try{var n=t(),i=Kt.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(AP,Qw)}catch(a){Qw(a)}finally{Kt.T=e}};je.unstable_useCacheRefresh=function(){return Kt.H.useCacheRefresh()};je.use=function(t){return Kt.H.use(t)};je.useActionState=function(t,e,r){return Kt.H.useActionState(t,e,r)};je.useCallback=function(t,e){return Kt.H.useCallback(t,e)};je.useContext=function(t){return Kt.H.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t,e){return Kt.H.useDeferredValue(t,e)};je.useEffect=function(t,e){return Kt.H.useEffect(t,e)};je.useId=function(){return Kt.H.useId()};je.useImperativeHandle=function(t,e,r){return Kt.H.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return Kt.H.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Kt.H.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Kt.H.useMemo(t,e)};je.useOptimistic=function(t,e){return Kt.H.useOptimistic(t,e)};je.useReducer=function(t,e,r){return Kt.H.useReducer(t,e,r)};je.useRef=function(t){return Kt.H.useRef(t)};je.useState=function(t){return Kt.H.useState(t)};je.useSyncExternalStore=function(t,e,r){return Kt.H.useSyncExternalStore(t,e,r)};je.useTransition=function(){return Kt.H.useTransition()};je.version="19.0.0";pS.exports=je;var pr=pS.exports,wS={exports:{}},qy={},AS={exports:{}},ES={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(d,y){var x=d.length;d.push(y);e:for(;0<x;){var E=x-1>>>1,h=d[E];if(0<i(h,y))d[E]=y,d[x]=h,x=E;else break e}}function r(d){return d.length===0?null:d[0]}function n(d){if(d.length===0)return null;var y=d[0],x=d.pop();if(x!==y){d[0]=x;e:for(var E=0,h=d.length,T=h>>>1;E<T;){var F=2*(E+1)-1,L=d[F],k=F+1,$=d[k];if(0>i(L,x))k<h&&0>i($,L)?(d[E]=$,d[k]=x,E=k):(d[E]=L,d[F]=x,E=F);else if(k<h&&0>i($,x))d[E]=$,d[k]=x,E=k;else break e}}return y}function i(d,y){var x=d.sortIndex-y.sortIndex;return x!==0?x:d.id-y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var f=[],c=[],u=1,l=null,p=3,g=!1,m=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(d){for(var y=r(c);y!==null;){if(y.callback===null)n(c);else if(y.startTime<=d)n(c),y.sortIndex=y.expirationTime,e(f,y);else break;y=r(c)}}function M(d){if(A=!1,O(d),!m)if(r(f)!==null)m=!0,b();else{var y=r(c);y!==null&&v(M,y.startTime-d)}}var N=!1,K=-1,Q=5,j=-1;function G(){return!(t.unstable_now()-j<Q)}function W(){if(N){var d=t.unstable_now();j=d;var y=!0;try{e:{m=!1,A&&(A=!1,w(K),K=-1),g=!0;var x=p;try{t:{for(O(d),l=r(f);l!==null&&!(l.expirationTime>d&&G());){var E=l.callback;if(typeof E=="function"){l.callback=null,p=l.priorityLevel;var h=E(l.expirationTime<=d);if(d=t.unstable_now(),typeof h=="function"){l.callback=h,O(d),y=!0;break t}l===r(f)&&n(f),O(d)}else n(f);l=r(f)}if(l!==null)y=!0;else{var T=r(c);T!==null&&v(M,T.startTime-d),y=!1}}break e}finally{l=null,p=x,g=!1}y=void 0}}finally{y?R():N=!1}}}var R;if(typeof C=="function")R=function(){C(W)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=W,R=function(){I.postMessage(null)}}else R=function(){S(W,0)};function b(){N||(N=!0,R())}function v(d,y){K=S(function(){d(t.unstable_now())},y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(d){d.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,b())},t.unstable_forceFrameRate=function(d){0>d||125<d?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<d?Math.floor(1e3/d):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(d){switch(p){case 1:case 2:case 3:var y=3;break;default:y=p}var x=p;p=y;try{return d()}finally{p=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(d,y){switch(d){case 1:case 2:case 3:case 4:case 5:break;default:d=3}var x=p;p=d;try{return y()}finally{p=x}},t.unstable_scheduleCallback=function(d,y,x){var E=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?E+x:E):x=E,d){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=x+h,d={id:u++,callback:y,priorityLevel:d,startTime:x,expirationTime:h,sortIndex:-1},x>E?(d.sortIndex=x,e(c,d),r(f)===null&&d===r(c)&&(A?(w(K),K=-1):A=!0,v(M,x-E))):(d.sortIndex=h,e(f,d),m||g||(m=!0,b())),d},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(d){var y=p;return function(){var x=p;p=y;try{return d.apply(this,arguments)}finally{p=x}}}})(ES);AS.exports=ES;var EP=AS.exports,xS={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=pr;function SS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sf(){}var qn={d:{f:sf,r:function(){throw Error(SS(522))},D:sf,C:sf,L:sf,m:sf,X:sf,S:sf,M:sf},p:0,findDOMNode:null},SP=Symbol.for("react.portal");function IP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:SP,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Ph=xP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ky(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Zn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(SS(299));return IP(t,e,null,r)};Zn.flushSync=function(t){var e=Ph.T,r=qn.p;try{if(Ph.T=null,qn.p=2,t)return t()}finally{Ph.T=e,qn.p=r,qn.d.f()}};Zn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Zn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Zn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=Ky(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&qn.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=Ky(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Zn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=Ky(r,e.crossOrigin);qn.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zn.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=Ky(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Zn.requestFormReset=function(t){qn.d.r(t)};Zn.unstable_batchedUpdates=function(t,e){return t(e)};Zn.useFormState=function(t,e,r){return Ph.H.useFormState(t,e,r)};Zn.useFormStatus=function(){return Ph.H.useHostTransitionStatus()};Zn.version="19.0.0";function IS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IS)}catch(t){console.error(t)}}IS(),xS.exports=Zn;var CP=xS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=EP,CS=pr,TP=CP;function pe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function TS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var OP=Symbol.for("react.element"),yb=Symbol.for("react.transitional.element"),mh=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),BP=Symbol.for("react.provider"),BS=Symbol.for("react.consumer"),wo=Symbol.for("react.context"),Z6=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),J6=Symbol.for("react.memo"),Ef=Symbol.for("react.lazy"),DS=Symbol.for("react.offscreen"),DP=Symbol.for("react.memo_cache_sentinel"),Vw=Symbol.iterator;function W0(t){return t===null||typeof t!="object"?null:(t=Vw&&t[Vw]||t["@@iterator"],typeof t=="function"?t:null)}var MP=Symbol.for("react.client.reference");function Km(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===MP?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pl:return"Fragment";case mh:return"Portal";case Fm:return"Profiler";case OS:return"StrictMode";case $m:return"Suspense";case qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wo:return(t.displayName||"Context")+".Provider";case BS:return(t._context.displayName||"Context")+".Consumer";case Z6:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J6:return e=t.displayName||null,e!==null?e:Km(t.type)||"Memo";case Ef:e=t._payload,t=t._init;try{return Km(t(e))}catch{}}return null}var ke=CS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt=Object.assign,Qv,Yw;function wh(t){if(Qv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qv=e&&e[1]||"",Yw=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qv+t+Yw}var Vv=!1;function Yv(t,e){if(!t||Vv)return"";Vv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(g){var p=g}Reflect.construct(t,[],l)}else{try{l.call()}catch(g){p=g}t.call(l.prototype)}}else{try{throw Error()}catch(g){p=g}(l=t())&&typeof l.catch=="function"&&l.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var f=s.split(`
`),c=o.split(`
`);for(i=n=0;n<f.length&&!f[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===f.length||i===c.length)for(n=f.length-1,i=c.length-1;1<=n&&0<=i&&f[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(f[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||f[n]!==c[i]){var u=`
`+f[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=i);break}}}finally{Vv=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?wh(r):""}function RP(t){switch(t.tag){case 26:case 27:case 5:return wh(t.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 15:return t=Yv(t.type,!1),t;case 11:return t=Yv(t.type.render,!1),t;case 1:return t=Yv(t.type,!0),t;default:return""}}function Gw(t){try{var e="";do e+=RP(t),t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function MS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ww(t){if(Xd(t)!==t)throw Error(pe(188))}function LP(t){var e=t.alternate;if(!e){if(e=Xd(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ww(i),t;if(a===n)return Ww(i),e;a=a.sibling}throw Error(pe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function RS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=RS(t),e!==null)return e;t=t.sibling}return null}var Ah=Array.isArray,Tt=TP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,su={pending:!1,data:null,method:null,action:null},Qm=[],bl=-1;function Vs(t){return{current:t}}function zr(t){0>bl||(t.current=Qm[bl],Qm[bl]=null,bl--)}function kt(t,e){bl++,Qm[bl]=t.current,t.current=e}var Rs=Vs(null),lp=Vs(null),Kf=Vs(null),Ig=Vs(null);function Cg(t,e){switch(kt(Kf,e),kt(lp,t),kt(Rs,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?X7(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=X7(t),e=KC(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}zr(Rs),kt(Rs,e)}function ud(){zr(Rs),zr(lp),zr(Kf)}function Vm(t){t.memoizedState!==null&&kt(Ig,t);var e=Rs.current,r=KC(e,t.type);e!==r&&(kt(lp,t),kt(Rs,r))}function Tg(t){lp.current===t&&(zr(Rs),zr(lp)),Ig.current===t&&(zr(Ig),Ap._currentValue=su)}var Ym=Object.prototype.hasOwnProperty,e4=Sr.unstable_scheduleCallback,Gv=Sr.unstable_cancelCallback,HP=Sr.unstable_shouldYield,PP=Sr.unstable_requestPaint,Ls=Sr.unstable_now,NP=Sr.unstable_getCurrentPriorityLevel,LS=Sr.unstable_ImmediatePriority,HS=Sr.unstable_UserBlockingPriority,Og=Sr.unstable_NormalPriority,UP=Sr.unstable_LowPriority,PS=Sr.unstable_IdlePriority,kP=Sr.log,zP=Sr.unstable_setDisableYieldValue,Zp=null,Bi=null;function jP(t){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(Zp,t,void 0,(t.current.flags&128)===128)}catch{}}function jf(t){if(typeof kP=="function"&&zP(t),Bi&&typeof Bi.setStrictMode=="function")try{Bi.setStrictMode(Zp,t)}catch{}}var Di=Math.clz32?Math.clz32:qP,FP=Math.log,$P=Math.LN2;function qP(t){return t>>>=0,t===0?32:31-(FP(t)/$P|0)|0}var vb=128,_b=4194304;function Pc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qy(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=t.warmLanes;t=t.finishedLanes!==0;var o=r&134217727;return o!==0?(r=o&~i,r!==0?n=Pc(r):(a&=o,a!==0?n=Pc(a):t||(s=o&~s,s!==0&&(n=Pc(s))))):(o=r&~i,o!==0?n=Pc(o):a!==0?n=Pc(a):t||(s=r&~s,s!==0&&(n=Pc(s)))),n===0?0:e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===32&&(s&4194176)!==0)?e:n}function Jp(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function KP(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NS(){var t=vb;return vb<<=1,!(vb&4194176)&&(vb=128),t}function US(){var t=_b;return _b<<=1,!(_b&62914560)&&(_b=4194304),t}function Wv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function e1(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function QP(t,e,r,n,i,a){var s=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var o=t.entanglements,f=t.expirationTimes,c=t.hiddenUpdates;for(r=s&~r;0<r;){var u=31-Di(r),l=1<<u;o[u]=0,f[u]=-1;var p=c[u];if(p!==null)for(c[u]=null,u=0;u<p.length;u++){var g=p[u];g!==null&&(g.lane&=-536870913)}r&=~l}n!==0&&kS(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function kS(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Di(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194218}function zS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Di(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function jS(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function FS(){var t=Tt.p;return t!==0?t:(t=window.event,t===void 0?32:tT(t.type))}function VP(t,e){var r=Tt.p;try{return Tt.p=t,e()}finally{Tt.p=r}}var gc=Math.random().toString(36).slice(2),wn="__reactFiber$"+gc,oi="__reactProps$"+gc,Zd="__reactContainer$"+gc,Gm="__reactEvents$"+gc,YP="__reactListeners$"+gc,GP="__reactHandles$"+gc,Xw="__reactResources$"+gc,dp="__reactMarker$"+gc;function t4(t){delete t[wn],delete t[oi],delete t[Gm],delete t[YP],delete t[GP]}function Qc(t){var e=t[wn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Zd]||r[wn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=J7(t);t!==null;){if(r=t[wn])return r;t=J7(t)}return e}t=r,r=t.parentNode}return null}function Jd(t){if(t=t[wn]||t[Zd]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Eh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(pe(33))}function Ml(t){var e=t[Xw];return e||(e=t[Xw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Lr(t){t[dp]=!0}var $S=new Set,qS={};function Mu(t,e){ld(t,e),ld(t+"Capture",e)}function ld(t,e){for(qS[t]=e,t=0;t<e.length;t++)$S.add(e[t])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zw={},Jw={};function XP(t){return Ym.call(Jw,t)?!0:Ym.call(Zw,t)?!1:WP.test(t)?Jw[t]=!0:(Zw[t]=!0,!1)}function ng(t,e,r){if(XP(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function mb(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function ro(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function ia(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZP(t){var e=KS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bg(t){t._valueTracker||(t._valueTracker=ZP(t))}function QS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=KS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var JP=/[\n"\\]/g;function oa(t){return t.replace(JP,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wm(t,e,r,n,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ia(e)):t.value!==""+ia(e)&&(t.value=""+ia(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Xm(t,s,ia(e)):r!=null?Xm(t,s,ia(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ia(o):t.removeAttribute("name")}function VS(t,e,r,n,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;r=r!=null?""+ia(r):"",e=e!=null?""+ia(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function Xm(t,e,r){e==="number"&&Dg(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ia(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function YS(t,e,r){if(e!=null&&(e=""+ia(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+ia(r):""}function GS(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(pe(92));if(Ah(n)){if(1<n.length)throw Error(pe(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=ia(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function dd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var eN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function e7(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||eN.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function WS(t,e,r){if(e!=null&&typeof e!="object")throw Error(pe(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&e7(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&e7(t,a,e[a])}function r4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ig(t){return rN.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zm=null;function n4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gl=null,Ll=null;function t7(t){var e=Jd(t);if(e&&(t=e.stateNode)){var r=t[oi]||null;e:switch(t=e.stateNode,e.type){case"input":if(Wm(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+oa(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[oi]||null;if(!i)throw Error(pe(90));Wm(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&QS(n)}break e;case"textarea":YS(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&Rl(t,!!r.multiple,e,!1)}}}var Xv=!1;function XS(t,e,r){if(Xv)return t(e,r);Xv=!0;try{var n=t(e);return n}finally{if(Xv=!1,(gl!==null||Ll!==null)&&(r2(),gl&&(e=gl,t=Ll,Ll=gl=null,t7(e),t)))for(e=0;e<t.length;e++)t7(t[e])}}function hp(t,e){var r=t.stateNode;if(r===null)return null;var n=r[oi]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var Jm=!1;if(Po)try{var X0={};Object.defineProperty(X0,"passive",{get:function(){Jm=!0}}),window.addEventListener("test",X0,X0),window.removeEventListener("test",X0,X0)}catch{Jm=!1}var Ff=null,i4=null,ag=null;function ZS(){if(ag)return ag;var t,e=i4,r=e.length,n,i="value"in Ff?Ff.value:Ff.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return ag=i.slice(t,1<n?1-n:void 0)}function sg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wb(){return!0}function r7(){return!1}function di(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wb:r7,this.isPropagationStopped=r7,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wb)},persist:function(){},isPersistent:wb}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vy=di(Ru),t1=Dt({},Ru,{view:0,detail:0}),nN=di(t1),Zv,Jv,Z0,Yy=Dt({},t1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Z0&&(Z0&&t.type==="mousemove"?(Zv=t.screenX-Z0.screenX,Jv=t.screenY-Z0.screenY):Jv=Zv=0,Z0=t),Zv)},movementY:function(t){return"movementY"in t?t.movementY:Jv}}),n7=di(Yy),iN=Dt({},Yy,{dataTransfer:0}),aN=di(iN),sN=Dt({},t1,{relatedTarget:0}),e_=di(sN),oN=Dt({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),fN=di(oN),cN=Dt({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uN=di(cN),lN=Dt({},Ru,{data:0}),i7=di(lN),dN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pN[t])?!!e[t]:!1}function a4(){return bN}var gN=Dt({},t1,{key:function(t){if(t.key){var e=dN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a4,charCode:function(t){return t.type==="keypress"?sg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yN=di(gN),vN=Dt({},Yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a7=di(vN),_N=Dt({},t1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a4}),mN=di(_N),wN=Dt({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),AN=di(wN),EN=Dt({},Yy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xN=di(EN),SN=Dt({},Ru,{newState:0,oldState:0}),IN=di(SN),CN=[9,13,27,32],s4=Po&&"CompositionEvent"in window,Nh=null;Po&&"documentMode"in document&&(Nh=document.documentMode);var TN=Po&&"TextEvent"in window&&!Nh,JS=Po&&(!s4||Nh&&8<Nh&&11>=Nh),s7=" ",o7=!1;function eI(t,e){switch(t){case"keyup":return CN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function ON(t,e){switch(t){case"compositionend":return tI(e);case"keypress":return e.which!==32?null:(o7=!0,s7);case"textInput":return t=e.data,t===s7&&o7?null:t;default:return null}}function BN(t,e){if(yl)return t==="compositionend"||!s4&&eI(t,e)?(t=ZS(),ag=i4=Ff=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JS&&e.locale!=="ko"?null:e.data;default:return null}}var DN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DN[t.type]:e==="textarea"}function rI(t,e,r,n){gl?Ll?Ll.push(n):Ll=[n]:gl=n,e=Vg(e,"onChange"),0<e.length&&(r=new Vy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uh=null,pp=null;function MN(t){FC(t,0)}function Gy(t){var e=Eh(t);if(QS(e))return t}function c7(t,e){if(t==="change")return e}var nI=!1;if(Po){var t_;if(Po){var r_="oninput"in document;if(!r_){var u7=document.createElement("div");u7.setAttribute("oninput","return;"),r_=typeof u7.oninput=="function"}t_=r_}else t_=!1;nI=t_&&(!document.documentMode||9<document.documentMode)}function l7(){Uh&&(Uh.detachEvent("onpropertychange",iI),pp=Uh=null)}function iI(t){if(t.propertyName==="value"&&Gy(pp)){var e=[];rI(e,pp,t,n4(t)),XS(MN,e)}}function RN(t,e,r){t==="focusin"?(l7(),Uh=e,pp=r,Uh.attachEvent("onpropertychange",iI)):t==="focusout"&&l7()}function LN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gy(pp)}function HN(t,e){if(t==="click")return Gy(e)}function PN(t,e){if(t==="input"||t==="change")return Gy(e)}function NN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Li=typeof Object.is=="function"?Object.is:NN;function bp(t,e){if(Li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ym.call(e,i)||!Li(t[i],e[i]))return!1}return!0}function d7(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h7(t,e){var r=d7(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d7(r)}}function aI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sI(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Dg(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Dg(t.document)}return e}function o4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UN(t,e){var r=sI(e);e=t.focusedElem;var n=t.selectionRange;if(r!==e&&e&&e.ownerDocument&&aI(e.ownerDocument.documentElement,e)){if(n!==null&&o4(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!r.extend&&a>n&&(i=n,n=a,a=i),i=h7(e,a);var s=h7(e,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),a>n?(r.addRange(t),r.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kN=Po&&"documentMode"in document&&11>=document.documentMode,vl=null,e3=null,kh=null,t3=!1;function p7(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;t3||vl==null||vl!==Dg(n)||(n=vl,"selectionStart"in n&&o4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kh&&bp(kh,n)||(kh=n,n=Vg(e3,"onSelect"),0<n.length&&(e=new Vy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vl)))}function Rc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _l={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionrun:Rc("Transition","TransitionRun"),transitionstart:Rc("Transition","TransitionStart"),transitioncancel:Rc("Transition","TransitionCancel"),transitionend:Rc("Transition","TransitionEnd")},n_={},oI={};Po&&(oI=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Lu(t){if(n_[t])return n_[t];if(!_l[t])return t;var e=_l[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in oI)return n_[t]=e[r];return t}var fI=Lu("animationend"),cI=Lu("animationiteration"),uI=Lu("animationstart"),zN=Lu("transitionrun"),jN=Lu("transitionstart"),FN=Lu("transitioncancel"),lI=Lu("transitionend"),dI=new Map,b7="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function us(t,e){dI.set(t,e),Mu(e,[t])}var ta=[],ml=0,f4=0;function Wy(){for(var t=ml,e=f4=ml=0;e<t;){var r=ta[e];ta[e++]=null;var n=ta[e];ta[e++]=null;var i=ta[e];ta[e++]=null;var a=ta[e];if(ta[e++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}a!==0&&hI(r,i,a)}}function Xy(t,e,r,n){ta[ml++]=t,ta[ml++]=e,ta[ml++]=r,ta[ml++]=n,f4|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function c4(t,e,r,n){return Xy(t,e,r,n),Mg(t)}function ac(t,e){return Xy(t,null,null,e),Mg(t)}function hI(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;i&&e!==null&&t.tag===3&&(a=t.stateNode,i=31-Di(r),a=a.hiddenUpdates,t=a[i],t===null?a[i]=[e]:t.push(e),e.lane=r|536870912)}function Mg(t){if(50<Xh)throw Xh=0,E3=null,Error(pe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wl={},g7=new WeakMap;function fa(t,e){if(typeof t=="object"&&t!==null){var r=g7.get(t);return r!==void 0?r:(e={value:t,source:e,stack:Gw(e)},g7.set(t,e),e)}return{value:t,source:e,stack:Gw(e)}}var Al=[],El=0,Rg=null,Lg=0,aa=[],sa=0,ou=null,Ao=1,Eo="";function Nc(t,e){Al[El++]=Lg,Al[El++]=Rg,Rg=t,Lg=e}function pI(t,e,r){aa[sa++]=Ao,aa[sa++]=Eo,aa[sa++]=ou,ou=t;var n=Ao;t=Eo;var i=32-Di(n)-1;n&=~(1<<i),r+=1;var a=32-Di(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ao=1<<32-Di(e)+i|r<<i|n,Eo=a+t}else Ao=1<<a|r<<i|n,Eo=t}function u4(t){t.return!==null&&(Nc(t,1),pI(t,1,0))}function l4(t){for(;t===Rg;)Rg=Al[--El],Al[El]=null,Lg=Al[--El],Al[El]=null;for(;t===ou;)ou=aa[--sa],aa[sa]=null,Eo=aa[--sa],aa[sa]=null,Ao=aa[--sa],aa[sa]=null}var Fn=null,Xr=null,et=!1,qa=null,xs=!1,r3=Error(pe(519));function gu(t){var e=Error(pe(418,""));throw gp(fa(e,t)),r3}function y7(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[wn]=t,e[oi]=n,r){case"dialog":Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":case"embed":Ye("load",e);break;case"video":case"audio":for(r=0;r<_p.length;r++)Ye(_p[r],e);break;case"source":Ye("error",e);break;case"img":case"image":case"link":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"input":Ye("invalid",e),VS(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Bg(e);break;case"select":Ye("invalid",e);break;case"textarea":Ye("invalid",e),GS(e,n.value,n.defaultValue,n.children),Bg(e)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||qC(e.textContent,r)?(n.popover!=null&&(Ye("beforetoggle",e),Ye("toggle",e)),n.onScroll!=null&&Ye("scroll",e),n.onScrollEnd!=null&&Ye("scrollend",e),n.onClick!=null&&(e.onclick=i2),e=!0):e=!1,e||gu(t)}function v7(t){for(Fn=t.return;Fn;)switch(Fn.tag){case 3:case 27:xs=!0;return;case 5:case 13:xs=!1;return;default:Fn=Fn.return}}function J0(t){if(t!==Fn)return!1;if(!et)return v7(t),et=!0,!1;var e=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||B3(t.type,t.memoizedProps)),r=!r),r&&(e=!0),e&&Xr&&gu(t),v7(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(e===0){Xr=es(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++;t=t.nextSibling}Xr=null}}else Xr=Fn?es(t.stateNode.nextSibling):null;return!0}function r1(){Xr=Fn=null,et=!1}function gp(t){qa===null?qa=[t]:qa.push(t)}var zh=Error(pe(460)),bI=Error(pe(474)),n3={then:function(){}};function _7(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ab(){}function gI(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(Ab,Ab),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===zh?Error(pe(483)):t;default:if(typeof e.status=="string")e.then(Ab,Ab);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(pe(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===zh?Error(pe(483)):t}throw jh=e,zh}}var jh=null;function m7(){if(jh===null)throw Error(pe(459));var t=jh;return jh=null,t}var Hl=null,yp=0;function Eb(t){var e=yp;return yp+=1,Hl===null&&(Hl=[]),gI(Hl,t,e)}function eh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xb(t,e){throw e.$$typeof===OP?Error(pe(525)):(t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function w7(t){var e=t._init;return e(t._payload)}function yI(t){function e(w,C){if(t){var O=w.deletions;O===null?(w.deletions=[C],w.flags|=16):O.push(C)}}function r(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function n(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function i(w,C){return w=Yf(w,C),w.index=0,w.sibling=null,w}function a(w,C,O){return w.index=O,t?(O=w.alternate,O!==null?(O=O.index,O<C?(w.flags|=33554434,C):O):(w.flags|=33554434,C)):(w.flags|=1048576,C)}function s(w){return t&&w.alternate===null&&(w.flags|=33554434),w}function o(w,C,O,M){return C===null||C.tag!==6?(C=b_(O,w.mode,M),C.return=w,C):(C=i(C,O),C.return=w,C)}function f(w,C,O,M){var N=O.type;return N===pl?u(w,C,O.props.children,M,O.key):C!==null&&(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ef&&w7(N)===C.type)?(C=i(C,O.props),eh(C,O),C.return=w,C):(C=lg(O.type,O.key,O.props,null,w.mode,M),eh(C,O),C.return=w,C)}function c(w,C,O,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=g_(O,w.mode,M),C.return=w,C):(C=i(C,O.children||[]),C.return=w,C)}function u(w,C,O,M,N){return C===null||C.tag!==7?(C=cu(O,w.mode,M,N),C.return=w,C):(C=i(C,O),C.return=w,C)}function l(w,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=b_(""+C,w.mode,O),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yb:return O=lg(C.type,C.key,C.props,null,w.mode,O),eh(O,C),O.return=w,O;case mh:return C=g_(C,w.mode,O),C.return=w,C;case Ef:var M=C._init;return C=M(C._payload),l(w,C,O)}if(Ah(C)||W0(C))return C=cu(C,w.mode,O,null),C.return=w,C;if(typeof C.then=="function")return l(w,Eb(C),O);if(C.$$typeof===wo)return l(w,Sb(w,C),O);xb(w,C)}return null}function p(w,C,O,M){var N=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return N!==null?null:o(w,C,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case yb:return O.key===N?f(w,C,O,M):null;case mh:return O.key===N?c(w,C,O,M):null;case Ef:return N=O._init,O=N(O._payload),p(w,C,O,M)}if(Ah(O)||W0(O))return N!==null?null:u(w,C,O,M,null);if(typeof O.then=="function")return p(w,C,Eb(O),M);if(O.$$typeof===wo)return p(w,C,Sb(w,O),M);xb(w,O)}return null}function g(w,C,O,M,N){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return w=w.get(O)||null,o(C,w,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case yb:return w=w.get(M.key===null?O:M.key)||null,f(C,w,M,N);case mh:return w=w.get(M.key===null?O:M.key)||null,c(C,w,M,N);case Ef:var K=M._init;return M=K(M._payload),g(w,C,O,M,N)}if(Ah(M)||W0(M))return w=w.get(O)||null,u(C,w,M,N,null);if(typeof M.then=="function")return g(w,C,O,Eb(M),N);if(M.$$typeof===wo)return g(w,C,O,Sb(C,M),N);xb(C,M)}return null}function m(w,C,O,M){for(var N=null,K=null,Q=C,j=C=0,G=null;Q!==null&&j<O.length;j++){Q.index>j?(G=Q,Q=null):G=Q.sibling;var W=p(w,Q,O[j],M);if(W===null){Q===null&&(Q=G);break}t&&Q&&W.alternate===null&&e(w,Q),C=a(W,C,j),K===null?N=W:K.sibling=W,K=W,Q=G}if(j===O.length)return r(w,Q),et&&Nc(w,j),N;if(Q===null){for(;j<O.length;j++)Q=l(w,O[j],M),Q!==null&&(C=a(Q,C,j),K===null?N=Q:K.sibling=Q,K=Q);return et&&Nc(w,j),N}for(Q=n(Q);j<O.length;j++)G=g(Q,w,j,O[j],M),G!==null&&(t&&G.alternate!==null&&Q.delete(G.key===null?j:G.key),C=a(G,C,j),K===null?N=G:K.sibling=G,K=G);return t&&Q.forEach(function(R){return e(w,R)}),et&&Nc(w,j),N}function A(w,C,O,M){if(O==null)throw Error(pe(151));for(var N=null,K=null,Q=C,j=C=0,G=null,W=O.next();Q!==null&&!W.done;j++,W=O.next()){Q.index>j?(G=Q,Q=null):G=Q.sibling;var R=p(w,Q,W.value,M);if(R===null){Q===null&&(Q=G);break}t&&Q&&R.alternate===null&&e(w,Q),C=a(R,C,j),K===null?N=R:K.sibling=R,K=R,Q=G}if(W.done)return r(w,Q),et&&Nc(w,j),N;if(Q===null){for(;!W.done;j++,W=O.next())W=l(w,W.value,M),W!==null&&(C=a(W,C,j),K===null?N=W:K.sibling=W,K=W);return et&&Nc(w,j),N}for(Q=n(Q);!W.done;j++,W=O.next())W=g(Q,w,j,W.value,M),W!==null&&(t&&W.alternate!==null&&Q.delete(W.key===null?j:W.key),C=a(W,C,j),K===null?N=W:K.sibling=W,K=W);return t&&Q.forEach(function(_){return e(w,_)}),et&&Nc(w,j),N}function S(w,C,O,M){if(typeof O=="object"&&O!==null&&O.type===pl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case yb:e:{for(var N=O.key;C!==null;){if(C.key===N){if(N=O.type,N===pl){if(C.tag===7){r(w,C.sibling),M=i(C,O.props.children),M.return=w,w=M;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ef&&w7(N)===C.type){r(w,C.sibling),M=i(C,O.props),eh(M,O),M.return=w,w=M;break e}r(w,C);break}else e(w,C);C=C.sibling}O.type===pl?(M=cu(O.props.children,w.mode,M,O.key),M.return=w,w=M):(M=lg(O.type,O.key,O.props,null,w.mode,M),eh(M,O),M.return=w,w=M)}return s(w);case mh:e:{for(N=O.key;C!==null;){if(C.key===N)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){r(w,C.sibling),M=i(C,O.children||[]),M.return=w,w=M;break e}else{r(w,C);break}else e(w,C);C=C.sibling}M=g_(O,w.mode,M),M.return=w,w=M}return s(w);case Ef:return N=O._init,O=N(O._payload),S(w,C,O,M)}if(Ah(O))return m(w,C,O,M);if(W0(O)){if(N=W0(O),typeof N!="function")throw Error(pe(150));return O=N.call(O),A(w,C,O,M)}if(typeof O.then=="function")return S(w,C,Eb(O),M);if(O.$$typeof===wo)return S(w,C,Sb(w,O),M);xb(w,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(r(w,C.sibling),M=i(C,O),M.return=w,w=M):(r(w,C),M=b_(O,w.mode,M),M.return=w,w=M),s(w)):r(w,C)}return function(w,C,O,M){try{yp=0;var N=S(w,C,O,M);return Hl=null,N}catch(Q){if(Q===zh)throw Q;var K=la(29,Q,null,w.mode);return K.lanes=M,K.return=w,K}finally{}}}var yu=yI(!0),vI=yI(!1),hd=Vs(null),Hg=Vs(0);function A7(t,e){t=ko,kt(Hg,t),kt(hd,e),ko=t|e.baseLanes}function i3(){kt(Hg,ko),kt(hd,hd.current)}function d4(){ko=Hg.current,zr(hd),zr(Hg)}var _a=Vs(null),Hs=null;function Tf(t){var e=t.alternate;kt(Ar,Ar.current&1),kt(_a,t),Hs===null&&(e===null||hd.current!==null||e.memoizedState!==null)&&(Hs=t)}function _I(t){if(t.tag===22){if(kt(Ar,Ar.current),kt(_a,t),Hs===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Hs=t)}}else Of()}function Of(){kt(Ar,Ar.current),kt(_a,_a.current)}function xo(t){zr(_a),Hs===t&&(Hs=null),zr(Ar)}var Ar=Vs(0);function Pg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $N=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},qN=Sr.unstable_scheduleCallback,KN=Sr.unstable_NormalPriority,wr={$$typeof:wo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h4(){return{controller:new $N,data:new Map,refCount:0}}function n1(t){t.refCount--,t.refCount===0&&qN(KN,function(){t.controller.abort()})}var Fh=null,a3=0,pd=0,Pl=null;function QN(t,e){if(Fh===null){var r=Fh=[];a3=0,pd=P4(),Pl={status:"pending",value:void 0,then:function(n){r.push(n)}}}return a3++,e.then(E7,E7),e}function E7(){if(--a3===0&&Fh!==null){Pl!==null&&(Pl.status="fulfilled");var t=Fh;Fh=null,pd=0,Pl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function VN(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var x7=ke.S;ke.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&QN(t,e),x7!==null&&x7(t,e)};var fu=Vs(null);function p4(){var t=fu.current;return t!==null?t:mt.pooledCache}function og(t,e){e===null?kt(fu,fu.current):kt(fu,e.pool)}function mI(){var t=p4();return t===null?null:{parent:wr._currentValue,pool:t}}var sc=0,Fe=null,ct=null,yr=null,Ng=!1,Nl=!1,vu=!1,Ug=0,vp=0,Ul=null,YN=0;function lr(){throw Error(pe(321))}function b4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Li(t[r],e[r]))return!1;return!0}function g4(t,e,r,n,i,a){return sc=a,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ke.H=t===null||t.memoizedState===null?Hu:yc,vu=!1,a=r(n,i),vu=!1,Nl&&(a=AI(e,r,n,i)),wI(t),a}function wI(t){ke.H=$s;var e=ct!==null&&ct.next!==null;if(sc=0,yr=ct=Fe=null,Ng=!1,vp=0,Ul=null,e)throw Error(pe(300));t===null||Pr||(t=t.dependencies,t!==null&&jg(t)&&(Pr=!0))}function AI(t,e,r,n){Fe=t;var i=0;do{if(Nl&&(Ul=null),vp=0,Nl=!1,25<=i)throw Error(pe(301));if(i+=1,yr=ct=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ke.H=Pu,a=e(r,n)}while(Nl);return a}function GN(){var t=ke.H,e=t.useState()[0];return e=typeof e.then=="function"?i1(e):e,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Fe.flags|=1024),e}function y4(){var t=Ug!==0;return Ug=0,t}function v4(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function _4(t){if(Ng){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ng=!1}sc=0,yr=ct=Fe=null,Nl=!1,vp=Ug=0,Ul=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Fe.memoizedState=yr=t:yr=yr.next=t,yr}function vr(){if(ct===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=yr===null?Fe.memoizedState:yr.next;if(e!==null)yr=e,ct=t;else{if(t===null)throw Fe.alternate===null?Error(pe(467)):Error(pe(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},yr===null?Fe.memoizedState=yr=t:yr=yr.next=t}return yr}var Zy;Zy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function i1(t){var e=vp;return vp+=1,Ul===null&&(Ul=[]),t=gI(Ul,t,e),e=Fe,(yr===null?e.memoizedState:yr.next)===null&&(e=e.alternate,ke.H=e===null||e.memoizedState===null?Hu:yc),t}function Jy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return i1(t);if(t.$$typeof===wo)return An(t)}throw Error(pe(438,String(t)))}function m4(t){var e=null,r=Fe.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=Fe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=Zy(),Fe.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=DP;return e.index++,r}function No(t,e){return typeof e=="function"?e(t):e}function fg(t){var e=vr();return w4(e,ct,t)}function w4(t,e,r){var n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,f=null,c=e,u=!1;do{var l=c.lane&-536870913;if(l!==c.lane?(We&l)===l:(sc&l)===l){var p=c.revertLane;if(p===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),l===pd&&(u=!0);else if((sc&p)===p){c=c.next,p===pd&&(u=!0);continue}else l={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(o=f=l,s=a):f=f.next=l,Fe.lanes|=p,fc|=p;l=c.action,vu&&r(a,l),a=c.hasEagerState?c.eagerState:r(a,l)}else p={lane:l,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(o=f=p,s=a):f=f.next=p,Fe.lanes|=l,fc|=l;c=c.next}while(c!==null&&c!==e);if(f===null?s=a:f.next=o,!Li(a,t.memoizedState)&&(Pr=!0,u&&(r=Pl,r!==null)))throw r;t.memoizedState=a,t.baseState=s,t.baseQueue=f,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function i_(t){var e=vr(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Li(a,e.memoizedState)||(Pr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function EI(t,e,r){var n=Fe,i=vr(),a=et;if(a){if(r===void 0)throw Error(pe(407));r=r()}else r=e();var s=!Li((ct||i).memoizedState,r);if(s&&(i.memoizedState=r,Pr=!0),i=i.queue,A4(II.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(n.flags|=2048,bd(9,SI.bind(null,n,i,r,e),{destroy:void 0},null),mt===null)throw Error(pe(349));a||sc&60||xI(n,e,r)}return r}function xI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Fe.updateQueue,e===null?(e=Zy(),Fe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function SI(t,e,r,n){e.value=r,e.getSnapshot=n,CI(e)&&TI(t)}function II(t,e,r){return r(function(){CI(e)&&TI(t)})}function CI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Li(t,r)}catch{return!0}}function TI(t){var e=ac(t,2);e!==null&&Qn(e,t,2)}function s3(t){var e=ni();if(typeof t=="function"){var r=t;if(t=r(),vu){jf(!0);try{r()}finally{jf(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},e}function OI(t,e,r,n){return t.baseState=r,w4(t,ct,typeof n=="function"?n:No)}function WN(t,e,r,n,i){if(t2(t))throw Error(pe(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ke.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,BI(e,a)):(a.next=r.next,e.pending=r.next=a)}}function BI(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=ke.T,s={};ke.T=s;try{var o=r(i,n),f=ke.S;f!==null&&f(s,o),S7(t,e,o)}catch(c){o3(t,e,c)}finally{ke.T=a}}else try{a=r(i,n),S7(t,e,a)}catch(c){o3(t,e,c)}}function S7(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){I7(t,e,n)},function(n){return o3(t,e,n)}):I7(t,e,r)}function I7(t,e,r){e.status="fulfilled",e.value=r,DI(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,BI(t,r)))}function o3(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,DI(e),e=e.next;while(e!==n)}t.action=null}function DI(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function MI(t,e){return e}function RI(t,e){if(et){var r=mt.formState;if(r!==null){e:{var n=Fe;if(et){if(Xr){t:{for(var i=Xr,a=xs;i.nodeType!==8;){if(!a){i=null;break t}if(i=es(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Xr=es(i.nextSibling),n=i.data==="F!";break e}}gu(n)}n=!1}n&&(e=r[0])}}return r=ni(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MI,lastRenderedState:e},r.queue=n,r=WI.bind(null,Fe,n),n.dispatch=r,n=s3(!1),a=I4.bind(null,Fe,!1,n.queue),n=ni(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=WN.bind(null,Fe,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function LI(t){var e=vr();return HI(e,ct,t)}function HI(t,e,r){e=w4(t,e,MI)[0],t=fg(No)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?i1(e):e;var n=vr(),i=n.queue,a=i.dispatch;return r!==n.memoizedState&&(Fe.flags|=2048,bd(9,XN.bind(null,i,r),{destroy:void 0},null)),[e,a,t]}function XN(t,e){t.action=e}function PI(t){var e=vr(),r=ct;if(r!==null)return HI(e,r,t);vr(),e=e.memoizedState,r=vr();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function bd(t,e,r,n){return t={tag:t,create:e,inst:r,deps:n,next:null},e=Fe.updateQueue,e===null&&(e=Zy(),Fe.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function NI(){return vr().memoizedState}function cg(t,e,r,n){var i=ni();Fe.flags|=t,i.memoizedState=bd(1|e,r,{destroy:void 0},n===void 0?null:n)}function e2(t,e,r,n){var i=vr();n=n===void 0?null:n;var a=i.memoizedState.inst;ct!==null&&n!==null&&b4(n,ct.memoizedState.deps)?i.memoizedState=bd(e,r,a,n):(Fe.flags|=t,i.memoizedState=bd(1|e,r,a,n))}function C7(t,e){cg(8390656,8,t,e)}function A4(t,e){e2(2048,8,t,e)}function UI(t,e){return e2(4,2,t,e)}function kI(t,e){return e2(4,4,t,e)}function zI(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jI(t,e,r){r=r!=null?r.concat([t]):null,e2(4,4,zI.bind(null,e,t),r)}function E4(){}function FI(t,e){var r=vr();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&b4(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function $I(t,e){var r=vr();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&b4(e,n[1]))return n[0];if(n=t(),vu){jf(!0);try{t()}finally{jf(!1)}}return r.memoizedState=[n,e],n}function x4(t,e,r){return r===void 0||sc&1073741824?t.memoizedState=e:(t.memoizedState=r,t=DC(),Fe.lanes|=t,fc|=t,r)}function qI(t,e,r,n){return Li(r,e)?r:hd.current!==null?(t=x4(t,r,n),Li(t,e)||(Pr=!0),t):sc&42?(t=DC(),Fe.lanes|=t,fc|=t,e):(Pr=!0,t.memoizedState=r)}function KI(t,e,r,n,i){var a=Tt.p;Tt.p=a!==0&&8>a?a:8;var s=ke.T,o={};ke.T=o,I4(t,!1,e,r);try{var f=i(),c=ke.S;if(c!==null&&c(o,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var u=VN(f,n);$h(t,e,u,Mi(t))}else $h(t,e,n,Mi(t))}catch(l){$h(t,e,{then:function(){},status:"rejected",reason:l},Mi())}finally{Tt.p=a,ke.T=s}}function ZN(){}function f3(t,e,r,n){if(t.tag!==5)throw Error(pe(476));var i=QI(t).queue;KI(t,i,e,su,r===null?ZN:function(){return VI(t),r(n)})}function QI(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:su,baseState:su,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:su},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function VI(t){var e=QI(t).next.queue;$h(t,e,{},Mi())}function S4(){return An(Ap)}function YI(){return vr().memoizedState}function GI(){return vr().memoizedState}function JN(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Mi();t=Qf(r);var n=Vf(e,t,r);n!==null&&(Qn(n,e,r),Kh(n,e,r)),e={cache:h4()},t.payload=e;return}e=e.return}}function eU(t,e,r){var n=Mi();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},t2(t)?XI(e,r):(r=c4(t,e,r,n),r!==null&&(Qn(r,t,n),ZI(r,e,n)))}function WI(t,e,r){var n=Mi();$h(t,e,r,n)}function $h(t,e,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(t2(t))XI(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Li(o,s))return Xy(t,e,i,0),mt===null&&Wy(),!1}catch{}finally{}if(r=c4(t,e,i,n),r!==null)return Qn(r,t,n),ZI(r,e,n),!0}return!1}function I4(t,e,r,n){if(n={lane:2,revertLane:P4(),action:n,hasEagerState:!1,eagerState:null,next:null},t2(t)){if(e)throw Error(pe(479))}else e=c4(t,r,n,2),e!==null&&Qn(e,t,2)}function t2(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function XI(t,e){Nl=Ng=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ZI(t,e,r){if(r&4194176){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zS(t,r)}}var $s={readContext:An,use:Jy,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr};$s.useCacheRefresh=lr;$s.useMemoCache=lr;$s.useHostTransitionStatus=lr;$s.useFormState=lr;$s.useActionState=lr;$s.useOptimistic=lr;var Hu={readContext:An,use:Jy,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:C7,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,cg(4194308,4,zI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return cg(4194308,4,t,e)},useInsertionEffect:function(t,e){cg(4,2,t,e)},useMemo:function(t,e){var r=ni();e=e===void 0?null:e;var n=t();if(vu){jf(!0);try{t()}finally{jf(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=ni();if(r!==void 0){var i=r(e);if(vu){jf(!0);try{r(e)}finally{jf(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=eU.bind(null,Fe,t),[n.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:function(t){t=s3(t);var e=t.queue,r=WI.bind(null,Fe,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:E4,useDeferredValue:function(t,e){var r=ni();return x4(r,t,e)},useTransition:function(){var t=s3(!1);return t=KI.bind(null,Fe,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=Fe,i=ni();if(et){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),mt===null)throw Error(pe(349));We&60||xI(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,C7(II.bind(null,n,a,t),[t]),n.flags|=2048,bd(9,SI.bind(null,n,a,r,e),{destroy:void 0},null),r},useId:function(){var t=ni(),e=mt.identifierPrefix;if(et){var r=Eo,n=Ao;r=(n&~(1<<32-Di(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ug++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=YN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return ni().memoizedState=JN.bind(null,Fe)}};Hu.useMemoCache=m4;Hu.useHostTransitionStatus=S4;Hu.useFormState=RI;Hu.useActionState=RI;Hu.useOptimistic=function(t){var e=ni();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=I4.bind(null,Fe,!0,r),r.dispatch=e,[t,e]};var yc={readContext:An,use:Jy,useCallback:FI,useContext:An,useEffect:A4,useImperativeHandle:jI,useInsertionEffect:UI,useLayoutEffect:kI,useMemo:$I,useReducer:fg,useRef:NI,useState:function(){return fg(No)},useDebugValue:E4,useDeferredValue:function(t,e){var r=vr();return qI(r,ct.memoizedState,t,e)},useTransition:function(){var t=fg(No)[0],e=vr().memoizedState;return[typeof t=="boolean"?t:i1(t),e]},useSyncExternalStore:EI,useId:YI};yc.useCacheRefresh=GI;yc.useMemoCache=m4;yc.useHostTransitionStatus=S4;yc.useFormState=LI;yc.useActionState=LI;yc.useOptimistic=function(t,e){var r=vr();return OI(r,ct,t,e)};var Pu={readContext:An,use:Jy,useCallback:FI,useContext:An,useEffect:A4,useImperativeHandle:jI,useInsertionEffect:UI,useLayoutEffect:kI,useMemo:$I,useReducer:i_,useRef:NI,useState:function(){return i_(No)},useDebugValue:E4,useDeferredValue:function(t,e){var r=vr();return ct===null?x4(r,t,e):qI(r,ct.memoizedState,t,e)},useTransition:function(){var t=i_(No)[0],e=vr().memoizedState;return[typeof t=="boolean"?t:i1(t),e]},useSyncExternalStore:EI,useId:YI};Pu.useCacheRefresh=GI;Pu.useMemoCache=m4;Pu.useHostTransitionStatus=S4;Pu.useFormState=PI;Pu.useActionState=PI;Pu.useOptimistic=function(t,e){var r=vr();return ct!==null?OI(r,ct,t,e):(r.baseState=t,[t,r.queue.dispatch])};function a_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Dt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var c3={isMounted:function(t){return(t=t._reactInternals)?Xd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Mi(),i=Qf(n);i.payload=e,r!=null&&(i.callback=r),e=Vf(t,i,n),e!==null&&(Qn(e,t,n),Kh(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Mi(),i=Qf(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Vf(t,i,n),e!==null&&(Qn(e,t,n),Kh(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mi(),n=Qf(r);n.tag=2,e!=null&&(n.callback=e),e=Vf(t,n,r),e!==null&&(Qn(e,t,r),Kh(e,t,r))}};function T7(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!bp(r,n)||!bp(i,a):!0}function O7(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&c3.enqueueReplaceState(e,e.state,null)}function _u(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Dt({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var kg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function JI(t){kg(t)}function eC(t){console.error(t)}function tC(t){kg(t)}function zg(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function B7(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function u3(t,e,r){return r=Qf(r),r.tag=3,r.payload={element:null},r.callback=function(){zg(t,e)},r}function rC(t){return t=Qf(t),t.tag=3,t}function nC(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){B7(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){B7(e,r,n),typeof i!="function"&&(Gf===null?Gf=new Set([this]):Gf.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function tU(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&a1(e,r,i,!0),r=_a.current,r!==null){switch(r.tag){case 13:return Hs===null?S3():r.alternate===null&&or===0&&(or=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===n3?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),v_(t,n,i)),!1;case 22:return r.flags|=65536,n===n3?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),v_(t,n,i)),!1}throw Error(pe(435,r.tag))}return v_(t,n,i),S3(),!1}if(et)return e=_a.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==r3&&(t=Error(pe(422),{cause:n}),gp(fa(t,r)))):(n!==r3&&(e=Error(pe(423),{cause:n}),gp(fa(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=fa(n,r),i=u3(t.stateNode,n,i),l_(t,i),or!==4&&(or=2)),!1;var a=Error(pe(520),{cause:n});if(a=fa(a,r),Gh===null?Gh=[a]:Gh.push(a),or!==4&&(or=2),e===null)return!0;n=fa(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=u3(r.stateNode,n,t),l_(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Gf===null||!Gf.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=rC(i),nC(i,t,r,n),l_(r,i),!1}r=r.return}while(r!==null);return!1}var iC=Error(pe(461)),Pr=!1;function Gr(t,e,r,n){e.child=t===null?vI(e,null,r,n):yu(e,t.child,r,n)}function D7(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return mu(e),n=g4(t,e,r,s,a,i),o=y4(),t!==null&&!Pr?(v4(t,e,i),Uo(t,e,i)):(et&&o&&u4(e),e.flags|=1,Gr(t,e,n,i),e.child)}function M7(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!D4(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,aC(t,e,a,n,i)):(t=lg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!C4(t,i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:bp,r(s,n)&&t.ref===e.ref)return Uo(t,e,i)}return e.flags|=1,t=Yf(a,n),t.ref=e.ref,t.return=e,e.child=t}function aC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(bp(a,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=a,C4(t,i))t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Uo(t,e,i)}return l3(t,e,r,n,i)}function sC(t,e,r){var n=e.pendingProps,i=n.children,a=(e.stateNode._pendingVisibility&2)!==0,s=t!==null?t.memoizedState:null;if(qh(t,e),n.mode==="hidden"||a){if(e.flags&128){if(n=s!==null?s.baseLanes|r:r,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~n}else e.childLanes=0,e.child=null;return R7(t,e,n,r)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&og(e,s!==null?s.cachePool:null),s!==null?A7(e,s):i3(),_I(e);else return e.lanes=e.childLanes=536870912,R7(t,e,s!==null?s.baseLanes|r:r,r)}else s!==null?(og(e,s.cachePool),A7(e,s),Of(),e.memoizedState=null):(t!==null&&og(e,null),i3(),Of());return Gr(t,e,i,r),e.child}function R7(t,e,r,n){var i=p4();return i=i===null?null:{parent:wr._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&og(e,null),i3(),_I(e),t!==null&&a1(t,e,n,!0),null}function qh(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(pe(284));(t===null||t.ref!==r)&&(e.flags|=2097664)}}function l3(t,e,r,n,i){return mu(e),r=g4(t,e,r,n,void 0,i),n=y4(),t!==null&&!Pr?(v4(t,e,i),Uo(t,e,i)):(et&&n&&u4(e),e.flags|=1,Gr(t,e,r,i),e.child)}function L7(t,e,r,n,i,a){return mu(e),e.updateQueue=null,r=AI(e,n,r,i),wI(t),n=y4(),t!==null&&!Pr?(v4(t,e,a),Uo(t,e,a)):(et&&n&&u4(e),e.flags|=1,Gr(t,e,r,a),e.child)}function H7(t,e,r,n,i){if(mu(e),e.stateNode===null){var a=wl,s=r.contextType;typeof s=="object"&&s!==null&&(a=An(s)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=c3,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},T4(e),s=r.contextType,a.context=typeof s=="object"&&s!==null?An(s):wl,a.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(a_(e,r,s,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&c3.enqueueReplaceState(a,a.state,null),Vh(e,n,a,i),Qh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,f=_u(r,o);a.props=f;var c=a.context,u=r.contextType;s=wl,typeof u=="object"&&u!==null&&(s=An(u));var l=r.getDerivedStateFromProps;u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&O7(e,a,n,s),xf=!1;var p=e.memoizedState;a.state=p,Vh(e,n,a,i),Qh(),c=e.memoizedState,o||p!==c||xf?(typeof l=="function"&&(a_(e,r,l,n),c=e.memoizedState),(f=xf||T7(e,r,f,n,p,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=s,n=f):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,y3(t,e),s=e.memoizedProps,u=_u(r,s),a.props=u,l=e.pendingProps,p=a.context,c=r.contextType,f=wl,typeof c=="object"&&c!==null&&(f=An(c)),o=r.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==l||p!==f)&&O7(e,a,n,f),xf=!1,p=e.memoizedState,a.state=p,Vh(e,n,a,i),Qh();var g=e.memoizedState;s!==l||p!==g||xf||t!==null&&t.dependencies!==null&&jg(t.dependencies)?(typeof o=="function"&&(a_(e,r,o,n),g=e.memoizedState),(u=xf||T7(e,r,u,n,p,g,f)||t!==null&&t.dependencies!==null&&jg(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,f)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=f,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,qh(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=yu(e,t.child,null,i),e.child=yu(e,null,r,i)):Gr(t,e,r,i),e.memoizedState=a.state,t=e.child):t=Uo(t,e,i),t}function P7(t,e,r,n){return r1(),e.flags|=256,Gr(t,e,r,n),e.child}var s_={dehydrated:null,treeContext:null,retryLane:0};function o_(t){return{baseLanes:t,cachePool:mI()}}function f_(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=da),t}function oC(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Ar.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(et){if(i?Tf(e):Of(),et){var o=Xr,f;if(f=o){e:{for(f=o,o=xs;f.nodeType!==8;){if(!o){o=null;break e}if(f=es(f.nextSibling),f===null){o=null;break e}}o=f}o!==null?(e.memoizedState={dehydrated:o,treeContext:ou!==null?{id:Ao,overflow:Eo}:null,retryLane:536870912},f=la(18,null,null,0),f.stateNode=o,f.return=e,e.child=f,Fn=e,Xr=null,f=!0):f=!1}f||gu(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?e.lanes=16:e.lanes=536870912,null;xo(e)}return o=n.children,n=n.fallback,i?(Of(),i=e.mode,o=h3({mode:"hidden",children:o},i),n=cu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,i=e.child,i.memoizedState=o_(r),i.childLanes=f_(t,s,r),e.memoizedState=s_,n):(Tf(e),d3(e,o))}if(f=t.memoizedState,f!==null&&(o=f.dehydrated,o!==null)){if(a)e.flags&256?(Tf(e),e.flags&=-257,e=c_(t,e,r)):e.memoizedState!==null?(Of(),e.child=t.child,e.flags|=128,e=null):(Of(),i=n.fallback,o=e.mode,n=h3({mode:"visible",children:n.children},o),i=cu(i,o,r,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,yu(e,t.child,null,r),n=e.child,n.memoizedState=o_(r),n.childLanes=f_(t,s,r),e.memoizedState=s_,e=i);else if(Tf(e),o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,n=Error(pe(419)),n.stack="",n.digest=s,gp({value:n,source:null,stack:null}),e=c_(t,e,r)}else if(Pr||a1(t,e,r,!1),s=(r&t.childLanes)!==0,Pr||s){if(s=mt,s!==null){if(n=r&-r,n&42)n=1;else switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=64;break;case 268435456:n=134217728;break;default:n=0}if(n=n&(s.suspendedLanes|r)?0:n,n!==0&&n!==f.retryLane)throw f.retryLane=n,ac(t,n),Qn(s,t,n),iC}o.data==="$?"||S3(),e=c_(t,e,r)}else o.data==="$?"?(e.flags|=128,e.child=t.child,e=gU.bind(null,t),o._reactRetry=e,e=null):(t=f.treeContext,Xr=es(o.nextSibling),Fn=e,et=!0,qa=null,xs=!1,t!==null&&(aa[sa++]=Ao,aa[sa++]=Eo,aa[sa++]=ou,Ao=t.id,Eo=t.overflow,ou=e),e=d3(e,n.children),e.flags|=4096);return e}return i?(Of(),i=n.fallback,o=e.mode,f=t.child,c=f.sibling,n=Yf(f,{mode:"hidden",children:n.children}),n.subtreeFlags=f.subtreeFlags&31457280,c!==null?i=Yf(c,i):(i=cu(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o===null?o=o_(r):(f=o.cachePool,f!==null?(c=wr._currentValue,f=f.parent!==c?{parent:c,pool:c}:f):f=mI(),o={baseLanes:o.baseLanes|r,cachePool:f}),i.memoizedState=o,i.childLanes=f_(t,s,r),e.memoizedState=s_,n):(Tf(e),r=t.child,t=r.sibling,r=Yf(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function d3(t,e){return e=h3({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function h3(t,e){return OC(t,e,0,null)}function c_(t,e,r){return yu(e,t.child,null,r),t=d3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N7(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),b3(t.return,e,r)}function u_(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function fC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Gr(t,e,n.children,r),n=Ar.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N7(t,r,e);else if(t.tag===19)N7(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(kt(Ar,n),i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Pg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),u_(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}u_(e,!0,r,null,a);break;case"together":u_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fc|=e.lanes,!(r&e.childLanes))if(t!==null){if(a1(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=Yf(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yf(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function C4(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&jg(t)))}function rU(t,e,r){switch(e.tag){case 3:Cg(e,e.stateNode.containerInfo),Bf(e,wr,t.memoizedState.cache),r1();break;case 27:case 5:Vm(e);break;case 4:Cg(e,e.stateNode.containerInfo);break;case 10:Bf(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Tf(e),e.flags|=128,null):r&e.child.childLanes?oC(t,e,r):(Tf(e),t=Uo(t,e,r),t!==null?t.sibling:null);Tf(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(a1(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return fC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Ar,Ar.current),n)break;return null;case 22:case 23:return e.lanes=0,sC(t,e,r);case 24:Bf(e,wr,t.memoizedState.cache)}return Uo(t,e,r)}function cC(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pr=!0;else{if(!C4(t,r)&&!(e.flags&128))return Pr=!1,rU(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,et&&e.flags&1048576&&pI(e,Lg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")D4(n)?(t=_u(n,t),e.tag=1,e=H7(null,e,n,t,r)):(e.tag=0,e=l3(null,e,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===Z6){e.tag=11,e=D7(null,e,n,t,r);break e}else if(i===J6){e.tag=14,e=M7(null,e,n,t,r);break e}}throw e=Km(n)||n,Error(pe(306,e,""))}}return e;case 0:return l3(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=_u(n,e.pendingProps),H7(t,e,n,i,r);case 3:e:{if(Cg(e,e.stateNode.containerInfo),t===null)throw Error(pe(387));var a=e.pendingProps;i=e.memoizedState,n=i.element,y3(t,e),Vh(e,a,null,r);var s=e.memoizedState;if(a=s.cache,Bf(e,wr,a),a!==i.cache&&g3(e,[wr],r,!0),Qh(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=P7(t,e,a,r);break e}else if(a!==n){n=fa(Error(pe(424)),e),gp(n),e=P7(t,e,a,r);break e}else for(Xr=es(e.stateNode.containerInfo.firstChild),Fn=e,et=!0,qa=null,xs=!0,r=vI(e,null,a,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(r1(),a===n){e=Uo(t,e,r);break e}Gr(t,e,a,r)}e=e.child}return e;case 26:return qh(t,e),t===null?(r=t9(e.type,null,e.pendingProps,null))?e.memoizedState=r:et||(r=e.type,t=e.pendingProps,n=Yg(Kf.current).createElement(r),n[wn]=e,n[oi]=t,en(n,r,t),Lr(n),e.stateNode=n):e.memoizedState=t9(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Vm(e),t===null&&et&&(n=e.stateNode=VC(e.type,e.pendingProps,Kf.current),Fn=e,xs=!0,Xr=es(n.firstChild)),n=e.pendingProps.children,t!==null||et?Gr(t,e,n,r):e.child=yu(e,null,n,r),qh(t,e),e.child;case 5:return t===null&&et&&((i=n=Xr)&&(n=MU(n,e.type,e.pendingProps,xs),n!==null?(e.stateNode=n,Fn=e,Xr=es(n.firstChild),xs=!1,i=!0):i=!1),i||gu(e)),Vm(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,n=a.children,B3(i,a)?n=null:s!==null&&B3(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=g4(t,e,GN,null,null,r),Ap._currentValue=i),qh(t,e),Gr(t,e,n,r),e.child;case 6:return t===null&&et&&((t=r=Xr)&&(r=RU(r,e.pendingProps,xs),r!==null?(e.stateNode=r,Fn=e,Xr=null,t=!0):t=!1),t||gu(e)),null;case 13:return oC(t,e,r);case 4:return Cg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yu(e,null,n,r):Gr(t,e,n,r),e.child;case 11:return D7(t,e,e.type,e.pendingProps,r);case 7:return Gr(t,e,e.pendingProps,r),e.child;case 8:return Gr(t,e,e.pendingProps.children,r),e.child;case 12:return Gr(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,Bf(e,e.type,n.value),Gr(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,mu(e),i=An(i),n=n(i),e.flags|=1,Gr(t,e,n,r),e.child;case 14:return M7(t,e,e.type,e.pendingProps,r);case 15:return aC(t,e,e.type,e.pendingProps,r);case 19:return fC(t,e,r);case 22:return sC(t,e,r);case 24:return mu(e),n=An(wr),t===null?(i=p4(),i===null&&(i=mt,a=h4(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},T4(e),Bf(e,wr,i)):(t.lanes&r&&(y3(t,e),Vh(e,null,null,r),Qh()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Bf(e,wr,n)):(n=a.cache,Bf(e,wr,n),n!==i.cache&&g3(e,[wr],r,!0))),Gr(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(pe(156,e.tag))}var p3=Vs(null),Nu=null,So=null;function Bf(t,e,r){kt(p3,e._currentValue),e._currentValue=r}function Do(t){t._currentValue=p3.current,zr(p3)}function b3(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function g3(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var f=0;f<e.length;f++)if(o.context===e[f]){a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),b3(a.return,r,t),n||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(pe(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),b3(s,r,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function a1(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(pe(387));if(s=s.memoizedProps,s!==null){var o=i.type;Li(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Ig.current){if(s=i.alternate,s===null)throw Error(pe(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ap):t=[Ap])}i=i.return}t!==null&&g3(e,t,r,n),e.flags|=262144}function jg(t){for(t=t.firstContext;t!==null;){if(!Li(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mu(t){Nu=t,So=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return uC(Nu,t)}function Sb(t,e){return Nu===null&&mu(t),uC(t,e)}function uC(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},So===null){if(t===null)throw Error(pe(308));So=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else So=So.next=e;return r}var xf=!1;function T4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qf(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vf(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Mg(t),hI(t,null,r),e}return Xy(t,n,e,r),Mg(t)}function Kh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194176)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zS(t,r)}}function l_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var v3=!1;function Qh(){if(v3){var t=Pl;if(t!==null)throw t}}function Vh(t,e,r,n){v3=!1;var i=t.updateQueue;xf=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var f=o,c=f.next;f.next=null,s===null?a=c:s.next=c,s=f;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=f))}if(a!==null){var l=i.baseState;s=0,u=c=f=null,o=a;do{var p=o.lane&-536870913,g=p!==o.lane;if(g?(We&p)===p:(n&p)===p){p!==0&&p===pd&&(v3=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=t,A=o;p=e;var S=r;switch(A.tag){case 1:if(m=A.payload,typeof m=="function"){l=m.call(S,l,p);break e}l=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=A.payload,p=typeof m=="function"?m.call(S,l,p):m,p==null)break e;l=Dt({},l,p);break e;case 2:xf=!0}}p=o.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[p]:g.push(p))}else g={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,f=l):u=u.next=g,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);u===null&&(f=l),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),fc|=s,t.lanes=s,t.memoizedState=l}}function lC(t,e){if(typeof t!="function")throw Error(pe(191,t));t.call(e)}function dC(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)lC(r[t],e)}function s1(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(o){bt(e,e.return,o)}}function oc(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var f=r;try{o()}catch(c){bt(i,f,c)}}}n=n.next}while(n!==a)}}catch(c){bt(e,e.return,c)}}function hC(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{dC(e,r)}catch(n){bt(t,t.return,n)}}}function pC(t,e,r){r.props=_u(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){bt(t,e,n)}}function Vc(t,e){try{var r=t.ref;if(r!==null){var n=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=n;break;default:i=n}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(a){bt(t,e,a)}}function xi(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){bt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){bt(t,e,i)}else r.current=null}function bC(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){bt(t,t.return,i)}}function U7(t,e,r){try{var n=t.stateNode;CU(n,t.type,r,e),n[oi]=e}catch(i){bt(t,t.return,i)}}function gC(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function d_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _3(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=i2));else if(n!==4&&n!==27&&(t=t.child,t!==null))for(_3(t,e,r),t=t.sibling;t!==null;)_3(t,e,r),t=t.sibling}function Fg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&n!==27&&(t=t.child,t!==null))for(Fg(t,e,r),t=t.sibling;t!==null;)Fg(t,e,r),t=t.sibling}var ho=!1,sr=!1,h_=!1,k7=typeof WeakSet=="function"?WeakSet:Set,Rr=null,z7=!1;function nU(t,e){if(t=t.containerInfo,T3=Zg,t=sI(t),o4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,f=-1,c=0,u=0,l=t,p=null;t:for(;;){for(var g;l!==r||i!==0&&l.nodeType!==3||(o=s+i),l!==a||n!==0&&l.nodeType!==3||(f=s+n),l.nodeType===3&&(s+=l.nodeValue.length),(g=l.firstChild)!==null;)p=l,l=g;for(;;){if(l===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(f=s),(g=l.nextSibling)!==null)break;l=p,p=l.parentNode}l=g}r=o===-1||f===-1?null:{start:o,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(O3={focusedElem:t,selectionRange:r},Zg=!1,Rr=e;Rr!==null;)if(e=Rr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Rr=t;else for(;Rr!==null;){switch(e=Rr,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var m=_u(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(m,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(A){bt(r,r.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)D3(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":D3(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(pe(163))}if(t=e.sibling,t!==null){t.return=e.return,Rr=t;break}Rr=e.return}return m=z7,z7=!1,m}function yC(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:io(t,r),n&4&&s1(5,r);break;case 1:if(io(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(o){bt(r,r.return,o)}else{var i=_u(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){bt(r,r.return,o)}}n&64&&hC(r),n&512&&Vc(r,r.return);break;case 3:if(io(t,r),n&64&&(n=r.updateQueue,n!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{dC(n,t)}catch(o){bt(r,r.return,o)}}break;case 26:io(t,r),n&512&&Vc(r,r.return);break;case 27:case 5:io(t,r),e===null&&n&4&&bC(r),n&512&&Vc(r,r.return);break;case 12:io(t,r);break;case 13:io(t,r),n&4&&mC(t,r);break;case 22:if(i=r.memoizedState!==null||ho,!i){e=e!==null&&e.memoizedState!==null||sr;var a=ho,s=sr;ho=i,(sr=e)&&!s?mf(t,r,(r.subtreeFlags&8772)!==0):io(t,r),ho=a,sr=s}n&512&&(r.memoizedProps.mode==="manual"?Vc(r,r.return):xi(r,r.return));break;default:io(t,r)}}function vC(t){var e=t.alternate;e!==null&&(t.alternate=null,vC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&t4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gr=null,wi=!1;function no(t,e,r){for(r=r.child;r!==null;)_C(t,e,r),r=r.sibling}function _C(t,e,r){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(Zp,r)}catch{}switch(r.tag){case 26:sr||xi(r,e),no(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:sr||xi(r,e);var n=gr,i=wi;for(gr=r.stateNode,no(t,e,r),r=r.stateNode,e=r.attributes;e.length;)r.removeAttributeNode(e[0]);t4(r),gr=n,wi=i;break;case 5:sr||xi(r,e);case 6:i=gr;var a=wi;if(gr=null,no(t,e,r),gr=i,wi=a,gr!==null)if(wi)try{t=gr,n=r.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)}catch(s){bt(r,e,s)}else try{gr.removeChild(r.stateNode)}catch(s){bt(r,e,s)}break;case 18:gr!==null&&(wi?(e=gr,r=r.stateNode,e.nodeType===8?S_(e.parentNode,r):e.nodeType===1&&S_(e,r),Sp(e)):S_(gr,r.stateNode));break;case 4:n=gr,i=wi,gr=r.stateNode.containerInfo,wi=!0,no(t,e,r),gr=n,wi=i;break;case 0:case 11:case 14:case 15:sr||oc(2,r,e),sr||oc(4,r,e),no(t,e,r);break;case 1:sr||(xi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&pC(r,e,n)),no(t,e,r);break;case 21:no(t,e,r);break;case 22:sr||xi(r,e),sr=(n=sr)||r.memoizedState!==null,no(t,e,r),sr=n;break;default:no(t,e,r)}}function mC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sp(t)}catch(r){bt(e,e.return,r)}}function iU(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new k7),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new k7),e;default:throw Error(pe(435,t.tag))}}function p_(t,e){var r=iU(t);e.forEach(function(n){var i=yU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function Qi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:case 5:gr=o.stateNode,wi=!1;break e;case 3:gr=o.stateNode.containerInfo,wi=!0;break e;case 4:gr=o.stateNode.containerInfo,wi=!0;break e}o=o.return}if(gr===null)throw Error(pe(160));_C(a,s,i),gr=null,wi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)wC(e,t),e=e.sibling}var Fa=null;function wC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qi(e,t),Vi(t),n&4&&(oc(3,t,t.return),s1(3,t),oc(5,t,t.return));break;case 1:Qi(e,t),Vi(t),n&512&&(sr||r===null||xi(r,r.return)),n&64&&ho&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=Fa;if(Qi(e,t),Vi(t),n&512&&(sr||r===null||xi(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[dp]||a[wn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),en(a,n,r),a[wn]=t,Lr(a),n=a;break e;case"link":var s=n9("link","href",i).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(r.href==null?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(n),en(a,n,r),i.head.appendChild(a);break;case"meta":if(s=n9("meta","content",i).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}a=i.createElement(n),en(a,n,r),i.head.appendChild(a);break;default:throw Error(pe(468,n))}a[wn]=t,Lr(a),n=a}t.stateNode=n}else i9(i,t.type,t.stateNode);else t.stateNode=r9(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?i9(i,t.type,t.stateNode):r9(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&U7(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(n&4&&t.alternate===null){i=t.stateNode,a=t.memoizedProps;try{for(var f=i.firstChild;f;){var c=f.nextSibling,u=f.nodeName;f[dp]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=c}for(var l=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);en(i,l,a),i[wn]=t,i[oi]=a}catch(m){bt(t,t.return,m)}}case 5:if(Qi(e,t),Vi(t),n&512&&(sr||r===null||xi(r,r.return)),t.flags&32){i=t.stateNode;try{dd(i,"")}catch(m){bt(t,t.return,m)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,U7(t,i,r!==null?r.memoizedProps:i)),n&1024&&(h_=!0);break;case 6:if(Qi(e,t),Vi(t),n&4){if(t.stateNode===null)throw Error(pe(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(m){bt(t,t.return,m)}}break;case 3:if(hg=null,i=Fa,Fa=Gg(e.containerInfo),Qi(e,t),Fa=i,Vi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sp(e.containerInfo)}catch(m){bt(t,t.return,m)}h_&&(h_=!1,AC(t));break;case 4:n=Fa,Fa=Gg(t.stateNode.containerInfo),Qi(e,t),Vi(t),Fa=n;break;case 12:Qi(e,t),Vi(t);break;case 13:Qi(e,t),Vi(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(L4=Ls()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,p_(t,n)));break;case 22:if(n&512&&(sr||r===null||xi(r,r.return)),f=t.memoizedState!==null,c=r!==null&&r.memoizedState!==null,u=ho,l=sr,ho=u||f,sr=l||c,Qi(e,t),sr=l,ho=u,Vi(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,n&8192&&(e._visibility=f?e._visibility&-2:e._visibility|1,f&&(e=ho||sr,r===null||c||e||cl(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(r===null){c=r=e;try{if(i=c.stateNode,f)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=c.stateNode,o=c.memoizedProps.style;var g=o!=null&&o.hasOwnProperty("display")?o.display:null;s.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(m){bt(c,c.return,m)}}}else if(e.tag===6){if(r===null){c=e;try{c.stateNode.nodeValue=f?"":c.memoizedProps}catch(m){bt(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,p_(t,r))));break;case 19:Qi(e,t),Vi(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,p_(t,n)));break;case 21:break;default:Qi(e,t),Vi(t)}}function Vi(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(gC(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 27:var i=n.stateNode,a=d_(t);Fg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(dd(s,""),n.flags&=-33);var o=d_(t);Fg(t,o,s);break;case 3:case 4:var f=n.stateNode.containerInfo,c=d_(t);_3(t,c,f);break;default:throw Error(pe(161))}}}catch(u){bt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;AC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function io(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)yC(t,e.alternate,e),e=e.sibling}function cl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:oc(4,e,e.return),cl(e);break;case 1:xi(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&pC(e,e.return,r),cl(e);break;case 26:case 27:case 5:xi(e,e.return),cl(e);break;case 22:xi(e,e.return),e.memoizedState===null&&cl(e);break;default:cl(e)}t=t.sibling}}function mf(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:mf(i,a,r),s1(4,a);break;case 1:if(mf(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){bt(n,n.return,c)}if(n=a,i=n.updateQueue,i!==null){var o=n.stateNode;try{var f=i.shared.hiddenCallbacks;if(f!==null)for(i.shared.hiddenCallbacks=null,i=0;i<f.length;i++)lC(f[i],o)}catch(c){bt(n,n.return,c)}}r&&s&64&&hC(a),Vc(a,a.return);break;case 26:case 27:case 5:mf(i,a,r),r&&n===null&&s&4&&bC(a),Vc(a,a.return);break;case 12:mf(i,a,r);break;case 13:mf(i,a,r),r&&s&4&&mC(i,a);break;case 22:a.memoizedState===null&&mf(i,a,r),Vc(a,a.return);break;default:mf(i,a,r)}e=e.sibling}}function O4(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&n1(r))}function B4(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&n1(t))}function of(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)EC(t,e,r,n),e=e.sibling}function EC(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:of(t,e,r,n),i&2048&&s1(9,e);break;case 3:of(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&n1(t)));break;case 12:if(i&2048){of(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(f){bt(e,e.return,f)}}else of(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,e.memoizedState!==null?a._visibility&4?of(t,e,r,n):Yh(t,e):a._visibility&4?of(t,e,r,n):(a._visibility|=4,ul(t,e,r,n,(e.subtreeFlags&10256)!==0)),i&2048&&O4(e.alternate,e);break;case 24:of(t,e,r,n),i&2048&&B4(e.alternate,e);break;default:of(t,e,r,n)}}function ul(t,e,r,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=r,f=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:ul(a,s,o,f,i),s1(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&4?ul(a,s,o,f,i):Yh(a,s):(u._visibility|=4,ul(a,s,o,f,i)),i&&c&2048&&O4(s.alternate,s);break;case 24:ul(a,s,o,f,i),i&&c&2048&&B4(s.alternate,s);break;default:ul(a,s,o,f,i)}e=e.sibling}}function Yh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:Yh(r,n),i&2048&&O4(n.alternate,n);break;case 24:Yh(r,n),i&2048&&B4(n.alternate,n);break;default:Yh(r,n)}e=e.sibling}}var xh=8192;function Ju(t){if(t.subtreeFlags&xh)for(t=t.child;t!==null;)xC(t),t=t.sibling}function xC(t){switch(t.tag){case 26:Ju(t),t.flags&xh&&t.memoizedState!==null&&QU(Fa,t.memoizedState,t.memoizedProps);break;case 5:Ju(t);break;case 3:case 4:var e=Fa;Fa=Gg(t.stateNode.containerInfo),Ju(t),Fa=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=xh,xh=16777216,Ju(t),xh=e):Ju(t));break;default:Ju(t)}}function SC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function th(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Rr=n,CC(n,t)}SC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)IC(t),t=t.sibling}function IC(t){switch(t.tag){case 0:case 11:case 15:th(t),t.flags&2048&&oc(9,t,t.return);break;case 3:th(t);break;case 12:th(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,ug(t)):th(t);break;default:th(t)}}function ug(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Rr=n,CC(n,t)}SC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:oc(8,e,e.return),ug(e);break;case 22:r=e.stateNode,r._visibility&4&&(r._visibility&=-5,ug(e));break;default:ug(e)}t=t.sibling}}function CC(t,e){for(;Rr!==null;){var r=Rr;switch(r.tag){case 0:case 11:case 15:oc(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:n1(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Rr=n;else e:for(r=t;Rr!==null;){n=Rr;var i=n.sibling,a=n.return;if(vC(n),n===r){Rr=null;break e}if(i!==null){i.return=a,Rr=i;break e}Rr=a}}}function aU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(t,e,r,n){return new aU(t,e,r,n)}function D4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yf(t,e){var r=t.alternate;return r===null?(r=la(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function TC(t,e){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function lg(t,e,r,n,i,a){var s=0;if(n=t,typeof t=="function")D4(t)&&(s=1);else if(typeof t=="string")s=qU(t,r,Rs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case pl:return cu(r.children,i,a,e);case OS:s=8,i|=24;break;case Fm:return t=la(12,r,e,i|2),t.elementType=Fm,t.lanes=a,t;case $m:return t=la(13,r,e,i),t.elementType=$m,t.lanes=a,t;case qm:return t=la(19,r,e,i),t.elementType=qm,t.lanes=a,t;case DS:return OC(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BP:case wo:s=10;break e;case BS:s=9;break e;case Z6:s=11;break e;case J6:s=14;break e;case Ef:s=16,n=null;break e}s=29,r=Error(pe(130,t===null?"null":typeof t,"")),n=null}return e=la(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function cu(t,e,r,n){return t=la(7,t,n,e),t.lanes=r,t}function OC(t,e,r,n){t=la(22,t,n,e),t.elementType=DS,t.lanes=r;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=i._current;if(a===null)throw Error(pe(456));if(!(i._pendingVisibility&2)){var s=ac(a,2);s!==null&&(i._pendingVisibility|=2,Qn(s,a,2))}},attach:function(){var a=i._current;if(a===null)throw Error(pe(456));if(i._pendingVisibility&2){var s=ac(a,2);s!==null&&(i._pendingVisibility&=-3,Qn(s,a,2))}}};return t.stateNode=i,t}function b_(t,e,r){return t=la(6,t,null,e),t.lanes=r,t}function g_(t,e,r){return e=la(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ao(t){t.flags|=4}function j7(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!WC(e)){if(e=_a.current,e!==null&&((We&4194176)===We?Hs!==null:(We&62914560)!==We&&!(We&536870912)||e!==Hs))throw jh=n3,bI;t.flags|=8192}}function Ib(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?US():536870912,t.lanes|=e,gd|=e)}function rh(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&31457280,n|=i.flags&31457280,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sU(t,e,r){var n=e.pendingProps;switch(l4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return qt(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Do(wr),ud(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(J0(e)?ao(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qa!==null&&(x3(qa),qa=null))),qt(e),null;case 26:return r=e.memoizedState,t===null?(ao(e),r!==null?(qt(e),j7(e,r)):(qt(e),e.flags&=-16777217)):r?r!==t.memoizedState?(ao(e),qt(e),j7(e,r)):(qt(e),e.flags&=-16777217):(t.memoizedProps!==n&&ao(e),qt(e),e.flags&=-16777217),null;case 27:Tg(e),r=Kf.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&ao(e);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return qt(e),null}t=Rs.current,J0(e)?y7(e):(t=VC(i,n,r),e.stateNode=t,ao(e))}return qt(e),null;case 5:if(Tg(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&ao(e);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return qt(e),null}if(t=Rs.current,J0(e))y7(e);else{switch(i=Yg(Kf.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[wn]=e,t[oi]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(en(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ao(e)}}return qt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&ao(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(t=Kf.current,J0(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=Fn,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[wn]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||qC(t.nodeValue,r)),t||gu(e)}else t=Yg(t).createTextNode(n),t[wn]=e,e.stateNode=t}return qt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=J0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(pe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[wn]=e}else r1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),i=!1}else qa!==null&&(x3(qa),qa=null),i=!0;if(!i)return e.flags&256?(xo(e),e):(xo(e),null)}if(xo(e),e.flags&128)return e.lanes=r,e;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==t&&r&&(e.child.flags|=8192),Ib(e,e.updateQueue),qt(e),null;case 4:return ud(),t===null&&N4(e.stateNode.containerInfo),qt(e),null;case 10:return Do(e.type),qt(e),null;case 19:if(zr(Ar),i=e.memoizedState,i===null)return qt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)rh(i,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pg(t),a!==null){for(e.flags|=128,rh(i,!1),t=a.updateQueue,e.updateQueue=t,Ib(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)TC(r,t),r=r.sibling;return kt(Ar,Ar.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ls()>$g&&(e.flags|=128,n=!0,rh(i,!1),e.lanes=4194304)}else{if(!n)if(t=Pg(a),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,Ib(e,t),rh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return qt(e),null}else 2*Ls()-i.renderingStartTime>$g&&r!==536870912&&(e.flags|=128,n=!0,rh(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ls(),e.sibling=null,t=Ar.current,kt(Ar,n?t&1|2:t&1),e):(qt(e),null);case 22:case 23:return xo(e),d4(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),r=e.updateQueue,r!==null&&Ib(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&zr(fu),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Do(wr),qt(e),null;case 25:return null}throw Error(pe(156,e.tag))}function oU(t,e){switch(l4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(wr),ud(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Tg(e),null;case 13:if(xo(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));r1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zr(Ar),null;case 4:return ud(),null;case 10:return Do(e.type),null;case 22:case 23:return xo(e),d4(),t!==null&&zr(fu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Do(wr),null;case 25:return null;default:return null}}function BC(t,e){switch(l4(e),e.tag){case 3:Do(wr),ud();break;case 26:case 27:case 5:Tg(e);break;case 4:ud();break;case 13:xo(e);break;case 19:zr(Ar);break;case 10:Do(e.type);break;case 22:case 23:xo(e),d4(),t!==null&&zr(fu);break;case 24:Do(wr)}}var fU={getCacheForType:function(t){var e=An(wr),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r}},cU=typeof WeakMap=="function"?WeakMap:Map,Qt=0,mt=null,qe=null,We=0,_t=0,Ei=null,po=!1,e0=!1,M4=!1,ko=0,or=0,fc=0,uu=0,R4=0,da=0,gd=0,Gh=null,Ss=null,m3=!1,L4=0,$g=1/0,qg=null,Gf=null,Cb=!1,Uc=null,Wh=0,w3=0,A3=null,Xh=0,E3=null;function Mi(){if(Qt&2&&We!==0)return We&-We;if(ke.T!==null){var t=pd;return t!==0?t:P4()}return FS()}function DC(){da===0&&(da=!(We&536870912)||et?NS():536870912);var t=_a.current;return t!==null&&(t.flags|=32),da}function Qn(t,e,r){(t===mt&&_t===2||t.cancelPendingCommit!==null)&&(yd(t,0),bo(t,We,da,!1)),e1(t,r),(!(Qt&2)||t!==mt)&&(t===mt&&(!(Qt&2)&&(uu|=r),or===4&&bo(t,We,da,!1)),Ys(t))}function MC(t,e,r){if(Qt&6)throw Error(pe(327));var n=!r&&(e&60)===0&&(e&t.expiredLanes)===0||Jp(t,e),i=n?dU(t,e):y_(t,e,!0),a=n;do{if(i===0){e0&&!n&&bo(t,e,0,!1);break}else if(i===6)bo(t,e,0,!po);else{if(r=t.current.alternate,a&&!uU(r)){i=y_(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Gh;var f=o.current.memoizedState.isDehydrated;if(f&&(yd(o,s).flags|=256),s=y_(o,s,!1),s!==2){if(M4&&!f){o.errorRecoveryDisabledLanes|=a,uu|=a,i=4;break e}a=Ss,Ss=i,a!==null&&x3(a)}i=s}if(a=!1,i!==2)continue}}if(i===1){yd(t,0),bo(t,e,0,!0);break}e:{switch(n=t,i){case 0:case 1:throw Error(pe(345));case 4:if((e&4194176)===e){bo(n,e,da,!po);break e}break;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(pe(329))}if(n.finishedWork=r,n.finishedLanes=e,(e&62914560)===e&&(a=L4+300-Ls(),10<a)){if(bo(n,e,da,!po),Qy(n,0)!==0)break e;n.timeoutHandle=QC(F7.bind(null,n,r,Ss,qg,m3,e,da,uu,gd,po,2,-0,0),a);break e}F7(n,r,Ss,qg,m3,e,da,uu,gd,po,0,-0,0)}}break}while(!0);Ys(t)}function x3(t){Ss===null?Ss=t:Ss.push.apply(Ss,t)}function F7(t,e,r,n,i,a,s,o,f,c,u,l,p){var g=e.subtreeFlags;if((g&8192||(g&16785408)===16785408)&&(wp={stylesheets:null,count:0,unsuspend:KU},xC(e),e=VU(),e!==null)){t.cancelPendingCommit=e(q7.bind(null,t,r,n,i,s,o,f,1,l,p)),bo(t,a,s,!c);return}q7(t,r,n,i,s,o,f,u,l,p)}function uU(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Li(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bo(t,e,r,n){e&=~R4,e&=~uu,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-Di(i),s=1<<a;n[a]=-1,i&=~s}r!==0&&kS(t,r,e)}function r2(){return Qt&6?!0:(o1(0),!1)}function H4(){if(qe!==null){if(_t===0)var t=qe.return;else t=qe,So=Nu=null,_4(t),Hl=null,yp=0,t=qe;for(;t!==null;)BC(t.alternate,t),t=t.return;qe=null}}function yd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,OU(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),H4(),mt=t,qe=r=Yf(t.current,null),We=e,_t=0,Ei=null,po=!1,e0=Jp(t,e),M4=!1,gd=da=R4=uu=fc=or=0,Ss=Gh=null,m3=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Di(n),a=1<<i;e|=t[i],n&=~a}return ko=e,Wy(),r}function RC(t,e){Fe=null,ke.H=$s,e===zh?(e=m7(),_t=3):e===bI?(e=m7(),_t=4):_t=e===iC?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ei=e,qe===null&&(or=1,zg(t,fa(e,t.current)))}function LC(){var t=ke.H;return ke.H=$s,t===null?$s:t}function HC(){var t=ke.A;return ke.A=fU,t}function S3(){or=4,po||(We&4194176)!==We&&_a.current!==null||(e0=!0),!(fc&134217727)&&!(uu&134217727)||mt===null||bo(mt,We,da,!1)}function y_(t,e,r){var n=Qt;Qt|=2;var i=LC(),a=HC();(mt!==t||We!==e)&&(qg=null,yd(t,e)),e=!1;var s=or;e:do try{if(_t!==0&&qe!==null){var o=qe,f=Ei;switch(_t){case 8:H4(),s=6;break e;case 3:case 2:case 6:_a.current===null&&(e=!0);var c=_t;if(_t=0,Ei=null,xl(t,o,f,c),r&&e0){s=0;break e}break;default:c=_t,_t=0,Ei=null,xl(t,o,f,c)}}lU(),s=or;break}catch(u){RC(t,u)}while(!0);return e&&t.shellSuspendCounter++,So=Nu=null,Qt=n,ke.H=i,ke.A=a,qe===null&&(mt=null,We=0,Wy()),s}function lU(){for(;qe!==null;)PC(qe)}function dU(t,e){var r=Qt;Qt|=2;var n=LC(),i=HC();mt!==t||We!==e?(qg=null,$g=Ls()+500,yd(t,e)):e0=Jp(t,e);e:do try{if(_t!==0&&qe!==null){e=qe;var a=Ei;t:switch(_t){case 1:_t=0,Ei=null,xl(t,e,a,1);break;case 2:if(_7(a)){_t=0,Ei=null,$7(e);break}e=function(){_t===2&&mt===t&&(_t=7),Ys(t)},a.then(e,e);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:_7(a)?(_t=0,Ei=null,$7(e)):(_t=0,Ei=null,xl(t,e,a,7));break;case 5:var s=null;switch(qe.tag){case 26:s=qe.memoizedState;case 5:case 27:var o=qe;if(!s||WC(s)){_t=0,Ei=null;var f=o.sibling;if(f!==null)qe=f;else{var c=o.return;c!==null?(qe=c,n2(c)):qe=null}break t}}_t=0,Ei=null,xl(t,e,a,5);break;case 6:_t=0,Ei=null,xl(t,e,a,6);break;case 8:H4(),or=6;break e;default:throw Error(pe(462))}}hU();break}catch(u){RC(t,u)}while(!0);return So=Nu=null,ke.H=n,ke.A=i,Qt=r,qe!==null?0:(mt=null,We=0,Wy(),or)}function hU(){for(;qe!==null&&!HP();)PC(qe)}function PC(t){var e=cC(t.alternate,t,ko);t.memoizedProps=t.pendingProps,e===null?n2(t):qe=e}function $7(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=L7(r,e,e.pendingProps,e.type,void 0,We);break;case 11:e=L7(r,e,e.pendingProps,e.type.render,e.ref,We);break;case 5:_4(e);default:BC(r,e),e=qe=TC(e,ko),e=cC(r,e,ko)}t.memoizedProps=t.pendingProps,e===null?n2(t):qe=e}function xl(t,e,r,n){So=Nu=null,_4(e),Hl=null,yp=0;var i=e.return;try{if(tU(t,i,e,r,We)){or=1,zg(t,fa(r,t.current)),qe=null;return}}catch(a){if(i!==null)throw qe=i,a;or=1,zg(t,fa(r,t.current)),qe=null;return}e.flags&32768?(et||n===1?t=!0:e0||We&536870912?t=!1:(po=t=!0,(n===2||n===3||n===6)&&(n=_a.current,n!==null&&n.tag===13&&(n.flags|=16384))),NC(e,t)):n2(e)}function n2(t){var e=t;do{if(e.flags&32768){NC(e,po);return}t=e.return;var r=sU(e.alternate,e,ko);if(r!==null){qe=r;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);or===0&&(or=5)}function NC(t,e){do{var r=oU(t.alternate,t);if(r!==null){r.flags&=32767,qe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){qe=t;return}qe=t=r}while(t!==null);or=6,qe=null}function q7(t,e,r,n,i,a,s,o,f,c){var u=ke.T,l=Tt.p;try{Tt.p=2,ke.T=null,pU(t,e,r,n,l,i,a,s,o,f,c)}finally{ke.T=u,Tt.p=l}}function pU(t,e,r,n,i,a,s,o){do kl();while(Uc!==null);if(Qt&6)throw Error(pe(327));var f=t.finishedWork;if(n=t.finishedLanes,f===null)return null;if(t.finishedWork=null,t.finishedLanes=0,f===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=f.lanes|f.childLanes;if(c|=f4,QP(t,n,c,a,s,o),t===mt&&(qe=mt=null,We=0),!(f.subtreeFlags&10256)&&!(f.flags&10256)||Cb||(Cb=!0,w3=c,A3=r,vU(Og,function(){return kl(),null})),r=(f.flags&15990)!==0,f.subtreeFlags&15990||r?(r=ke.T,ke.T=null,a=Tt.p,Tt.p=2,s=Qt,Qt|=4,nU(t,f),wC(f,t),UN(O3,t.containerInfo),Zg=!!T3,O3=T3=null,t.current=f,yC(t,f.alternate,f),PP(),Qt=s,Tt.p=a,ke.T=r):t.current=f,Cb?(Cb=!1,Uc=t,Wh=n):UC(t,c),c=t.pendingLanes,c===0&&(Gf=null),jP(f.stateNode),Ys(t),e!==null)for(i=t.onRecoverableError,f=0;f<e.length;f++)c=e[f],i(c.value,{componentStack:c.stack});return Wh&3&&kl(),c=t.pendingLanes,n&4194218&&c&42?t===E3?Xh++:(Xh=0,E3=t):Xh=0,o1(0),null}function UC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,n1(e)))}function kl(){if(Uc!==null){var t=Uc,e=w3;w3=0;var r=jS(Wh),n=ke.T,i=Tt.p;try{if(Tt.p=32>r?32:r,ke.T=null,Uc===null)var a=!1;else{r=A3,A3=null;var s=Uc,o=Wh;if(Uc=null,Wh=0,Qt&6)throw Error(pe(331));var f=Qt;if(Qt|=4,IC(s.current),EC(s,s.current,o,r),Qt=f,o1(0,!1),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(Zp,s)}catch{}a=!0}return a}finally{Tt.p=i,ke.T=n,UC(t,e)}}return!1}function K7(t,e,r){e=fa(r,e),e=u3(t.stateNode,e,2),t=Vf(t,e,2),t!==null&&(e1(t,2),Ys(t))}function bt(t,e,r){if(t.tag===3)K7(t,t,r);else for(;e!==null;){if(e.tag===3){K7(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gf===null||!Gf.has(n))){t=fa(r,t),r=rC(2),n=Vf(e,r,2),n!==null&&(nC(r,n,e,t),e1(n,2),Ys(n));break}}e=e.return}}function v_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(M4=!0,i.add(r),t=bU.bind(null,t,e,r),e.then(t,t))}function bU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,mt===t&&(We&r)===r&&(or===4||or===3&&(We&62914560)===We&&300>Ls()-L4?!(Qt&2)&&yd(t,0):R4|=r,gd===We&&(gd=0)),Ys(t)}function kC(t,e){e===0&&(e=US()),t=ac(t,e),t!==null&&(e1(t,e),Ys(t))}function gU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kC(t,r)}function yU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(pe(314))}n!==null&&n.delete(e),kC(t,r)}function vU(t,e){return e4(t,e)}var Kg=null,ll=null,I3=!1,Qg=!1,__=!1,lu=0;function Ys(t){t!==ll&&t.next===null&&(ll===null?Kg=ll=t:ll=ll.next=t),Qg=!0,I3||(I3=!0,mU(_U))}function o1(t,e){if(!__&&Qg){__=!0;do for(var r=!1,n=Kg;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var s=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-Di(42|t)+1)-1,a&=i&~(s&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(r=!0,Q7(n,a))}else a=We,a=Qy(n,n===mt?a:0),!(a&3)||Jp(n,a)||(r=!0,Q7(n,a));n=n.next}while(r);__=!1}}function _U(){Qg=I3=!1;var t=0;lu!==0&&(TU()&&(t=lu),lu=0);for(var e=Ls(),r=null,n=Kg;n!==null;){var i=n.next,a=zC(n,e);a===0?(n.next=null,r===null?Kg=i:r.next=i,i===null&&(ll=r)):(r=n,(t!==0||a&3)&&(Qg=!0)),n=i}o1(t)}function zC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Di(a),o=1<<s,f=i[s];f===-1?(!(o&r)||o&n)&&(i[s]=KP(o,e)):f<=e&&(t.expiredLanes|=o),a&=~o}if(e=mt,r=We,r=Qy(t,t===e?r:0),n=t.callbackNode,r===0||t===e&&_t===2||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Gv(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Jp(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&Gv(n),jS(r)){case 2:case 8:r=HS;break;case 32:r=Og;break;case 268435456:r=PS;break;default:r=Og}return n=jC.bind(null,t),r=e4(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&Gv(n),t.callbackPriority=2,t.callbackNode=null,2}function jC(t,e){var r=t.callbackNode;if(kl()&&t.callbackNode!==r)return null;var n=We;return n=Qy(t,t===mt?n:0),n===0?null:(MC(t,n,e),zC(t,Ls()),t.callbackNode!=null&&t.callbackNode===r?jC.bind(null,t):null)}function Q7(t,e){if(kl())return null;MC(t,e,!0)}function mU(t){BU(function(){Qt&6?e4(LS,t):t()})}function P4(){return lu===0&&(lu=NS()),lu}function V7(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ig(""+t)}function Y7(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function wU(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=V7((i[oi]||null).action),s=n.submitter;s&&(e=(e=s[oi]||null)?V7(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Vy("action","action",null,n,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(lu!==0){var f=s?Y7(i,s):new FormData(i);f3(r,{pending:!0,data:f,method:i.method,action:a},null,f)}}else typeof a=="function"&&(o.preventDefault(),f=s?Y7(i,s):new FormData(i),f3(r,{pending:!0,data:f,method:i.method,action:a},a,f))},currentTarget:i}]})}}for(var m_=0;m_<b7.length;m_++){var w_=b7[m_],AU=w_.toLowerCase(),EU=w_[0].toUpperCase()+w_.slice(1);us(AU,"on"+EU)}us(fI,"onAnimationEnd");us(cI,"onAnimationIteration");us(uI,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(zN,"onTransitionRun");us(jN,"onTransitionStart");us(FN,"onTransitionCancel");us(lI,"onTransitionEnd");ld("onMouseEnter",["mouseout","mouseover"]);ld("onMouseLeave",["mouseout","mouseover"]);ld("onPointerEnter",["pointerout","pointerover"]);ld("onPointerLeave",["pointerout","pointerover"]);Mu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_p));function FC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],f=o.instance,c=o.currentTarget;if(o=o.listener,f!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){kg(u)}i.currentTarget=null,a=f}else for(s=0;s<n.length;s++){if(o=n[s],f=o.instance,c=o.currentTarget,o=o.listener,f!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){kg(u)}i.currentTarget=null,a=f}}}}function Ye(t,e){var r=e[Gm];r===void 0&&(r=e[Gm]=new Set);var n=t+"__bubble";r.has(n)||($C(e,t,2,!1),r.add(n))}function A_(t,e,r){var n=0;e&&(n|=4),$C(r,t,n,e)}var Tb="_reactListening"+Math.random().toString(36).slice(2);function N4(t){if(!t[Tb]){t[Tb]=!0,$S.forEach(function(r){r!=="selectionchange"&&(xU.has(r)||A_(r,!1,t),A_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tb]||(e[Tb]=!0,A_("selectionchange",!1,e))}}function $C(t,e,r,n){switch(tT(e)){case 2:var i=WU;break;case 8:i=XU;break;default:i=j4}r=i.bind(null,e,r,t),i=void 0,!Jm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function E_(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Qc(o),s===null)return;if(f=s.tag,f===5||f===6||f===26||f===27){n=a=s;continue e}o=o.parentNode}}n=n.return}XS(function(){var c=a,u=n4(r),l=[];e:{var p=dI.get(t);if(p!==void 0){var g=Vy,m=t;switch(t){case"keypress":if(sg(r)===0)break e;case"keydown":case"keyup":g=yN;break;case"focusin":m="focus",g=e_;break;case"focusout":m="blur",g=e_;break;case"beforeblur":case"afterblur":g=e_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=n7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mN;break;case fI:case cI:case uI:g=fN;break;case lI:g=AN;break;case"scroll":case"scrollend":g=nN;break;case"wheel":g=xN;break;case"copy":case"cut":case"paste":g=uN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=a7;break;case"toggle":case"beforetoggle":g=IN}var A=(e&4)!==0,S=!A&&(t==="scroll"||t==="scrollend"),w=A?p!==null?p+"Capture":null:p;A=[];for(var C=c,O;C!==null;){var M=C;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||w===null||(M=hp(C,w),M!=null&&A.push(mp(C,M,O))),S)break;C=C.return}0<A.length&&(p=new g(p,m,null,r,u),l.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==Zm&&(m=r.relatedTarget||r.fromElement)&&(Qc(m)||m[Zd]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?Qc(m):null,m!==null&&(S=Xd(m),A=m.tag,m!==S||A!==5&&A!==27&&A!==6)&&(m=null)):(g=null,m=c),g!==m)){if(A=n7,M="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(A=a7,M="onPointerLeave",w="onPointerEnter",C="pointer"),S=g==null?p:Eh(g),O=m==null?p:Eh(m),p=new A(M,C+"leave",g,r,u),p.target=S,p.relatedTarget=O,M=null,Qc(u)===c&&(A=new A(w,C+"enter",m,r,u),A.target=O,A.relatedTarget=S,M=A),S=M,g&&m)t:{for(A=g,w=m,C=0,O=A;O;O=el(O))C++;for(O=0,M=w;M;M=el(M))O++;for(;0<C-O;)A=el(A),C--;for(;0<O-C;)w=el(w),O--;for(;C--;){if(A===w||w!==null&&A===w.alternate)break t;A=el(A),w=el(w)}A=null}else A=null;g!==null&&G7(l,p,g,A,!1),m!==null&&S!==null&&G7(l,S,m,A,!0)}}e:{if(p=c?Eh(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=c7;else if(f7(p))if(nI)N=PN;else{N=LN;var K=RN}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&r4(c.elementType)&&(N=c7):N=HN;if(N&&(N=N(t,c))){rI(l,N,r,u);break e}K&&K(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Xm(p,"number",p.value)}switch(K=c?Eh(c):window,t){case"focusin":(f7(K)||K.contentEditable==="true")&&(vl=K,e3=c,kh=null);break;case"focusout":kh=e3=vl=null;break;case"mousedown":t3=!0;break;case"contextmenu":case"mouseup":case"dragend":t3=!1,p7(l,r,u);break;case"selectionchange":if(kN)break;case"keydown":case"keyup":p7(l,r,u)}var Q;if(s4)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else yl?eI(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(JS&&r.locale!=="ko"&&(yl||j!=="onCompositionStart"?j==="onCompositionEnd"&&yl&&(Q=ZS()):(Ff=u,i4="value"in Ff?Ff.value:Ff.textContent,yl=!0)),K=Vg(c,j),0<K.length&&(j=new i7(j,t,null,r,u),l.push({event:j,listeners:K}),Q?j.data=Q:(Q=tI(r),Q!==null&&(j.data=Q)))),(Q=TN?ON(t,r):BN(t,r))&&(j=Vg(c,"onBeforeInput"),0<j.length&&(K=new i7("onBeforeInput","beforeinput",null,r,u),l.push({event:K,listeners:j}),K.data=Q)),wU(l,t,c,r,u)}FC(l,e)})}function mp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Vg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=hp(t,r),i!=null&&n.unshift(mp(t,i,a)),i=hp(t,e),i!=null&&n.push(mp(t,i,a))),t=t.return}return n}function el(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G7(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,f=o.alternate,c=o.stateNode;if(o=o.tag,f!==null&&f===n)break;o!==5&&o!==26&&o!==27||c===null||(f=c,i?(c=hp(r,a),c!=null&&s.unshift(mp(r,c,f))):i||(c=hp(r,a),c!=null&&s.push(mp(r,c,f)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var SU=/\r\n?/g,IU=/\u0000|\uFFFD/g;function W7(t){return(typeof t=="string"?t:""+t).replace(SU,`
`).replace(IU,"")}function qC(t,e){return e=W7(e),W7(t)===e}function i2(){}function ft(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||dd(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&dd(t,""+n);break;case"className":mb(t,"class",n);break;case"tabIndex":mb(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":mb(t,r,n);break;case"style":WS(t,n,a);break;case"data":if(e!=="object"){mb(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=ig(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&ft(t,e,"name",i.name,i,null),ft(t,e,"formEncType",i.formEncType,i,null),ft(t,e,"formMethod",i.formMethod,i,null),ft(t,e,"formTarget",i.formTarget,i,null)):(ft(t,e,"encType",i.encType,i,null),ft(t,e,"method",i.method,i,null),ft(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=ig(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=i2);break;case"onScroll":n!=null&&Ye("scroll",t);break;case"onScrollEnd":n!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(pe(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(pe(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=ig(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),ng(t,"popover",n);break;case"xlinkActuate":ro(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ro(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ro(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ro(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ro(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ro(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ro(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ro(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ro(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ng(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=tN.get(r)||r,ng(t,r,n))}}function C3(t,e,r,n,i,a){switch(r){case"style":WS(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(pe(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(pe(60));t.innerHTML=r}}break;case"children":typeof n=="string"?dd(t,n):(typeof n=="number"||typeof n=="bigint")&&dd(t,""+n);break;case"onScroll":n!=null&&Ye("scroll",t);break;case"onScrollEnd":n!=null&&Ye("scrollend",t);break;case"onClick":n!=null&&(t.onclick=i2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qS.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[oi]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):ng(t,r,n)}}}function en(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(pe(137,e));default:ft(t,e,a,s,r,null)}}i&&ft(t,e,"srcSet",r.srcSet,r,null),n&&ft(t,e,"src",r.src,r,null);return;case"input":Ye("invalid",t);var o=a=s=i=null,f=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":s=u;break;case"checked":f=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(pe(137,e));break;default:ft(t,e,n,u,r,null)}}VS(t,a,o,f,c,s,i,!1),Bg(t);return;case"select":Ye("invalid",t),n=s=a=null;for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:ft(t,e,i,o,r,null)}e=a,r=s,t.multiple=!!n,e!=null?Rl(t,!!n,e,!1):r!=null&&Rl(t,!!n,r,!0);return;case"textarea":Ye("invalid",t),a=i=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(pe(91));break;default:ft(t,e,s,o,r,null)}GS(t,n,i,a),Bg(t);return;case"option":for(f in r)if(r.hasOwnProperty(f)&&(n=r[f],n!=null))switch(f){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ft(t,e,f,n,r,null)}return;case"dialog":Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(n=0;n<_p.length;n++)Ye(_p[n],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(pe(137,e));default:ft(t,e,c,n,r,null)}return;default:if(r4(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&C3(t,e,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&ft(t,e,o,n,r,null))}function CU(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,f=null,c=null,u=null;for(g in r){var l=r[g];if(r.hasOwnProperty(g)&&l!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":f=l;default:n.hasOwnProperty(g)||ft(t,e,g,null,n,l)}}for(var p in n){var g=n[p];if(l=r[p],n.hasOwnProperty(p)&&(g!=null||l!=null))switch(p){case"type":a=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":u=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(pe(137,e));break;default:g!==l&&ft(t,e,p,g,n,l)}}Wm(t,s,o,f,c,u,a,i);return;case"select":g=s=o=p=null;for(a in r)if(f=r[a],r.hasOwnProperty(a)&&f!=null)switch(a){case"value":break;case"multiple":g=f;default:n.hasOwnProperty(a)||ft(t,e,a,null,n,f)}for(i in n)if(a=n[i],f=r[i],n.hasOwnProperty(i)&&(a!=null||f!=null))switch(i){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==f&&ft(t,e,i,a,n,f)}e=o,r=s,n=g,p!=null?Rl(t,!!r,p,!1):!!n!=!!r&&(e!=null?Rl(t,!!r,e,!0):Rl(t,!!r,r?[]:"",!1));return;case"textarea":g=p=null;for(o in r)if(i=r[o],r.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(t,e,o,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":p=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(pe(91));break;default:i!==a&&ft(t,e,s,i,n,a)}YS(t,p,g);return;case"option":for(var m in r)if(p=r[m],r.hasOwnProperty(m)&&p!=null&&!n.hasOwnProperty(m))switch(m){case"selected":t.selected=!1;break;default:ft(t,e,m,null,n,p)}for(f in n)if(p=n[f],g=r[f],n.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ft(t,e,f,p,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in r)p=r[A],r.hasOwnProperty(A)&&p!=null&&!n.hasOwnProperty(A)&&ft(t,e,A,null,n,p);for(c in n)if(p=n[c],g=r[c],n.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(pe(137,e));break;default:ft(t,e,c,p,n,g)}return;default:if(r4(e)){for(var S in r)p=r[S],r.hasOwnProperty(S)&&p!==void 0&&!n.hasOwnProperty(S)&&C3(t,e,S,void 0,n,p);for(u in n)p=n[u],g=r[u],!n.hasOwnProperty(u)||p===g||p===void 0&&g===void 0||C3(t,e,u,p,n,g);return}}for(var w in r)p=r[w],r.hasOwnProperty(w)&&p!=null&&!n.hasOwnProperty(w)&&ft(t,e,w,null,n,p);for(l in n)p=n[l],g=r[l],!n.hasOwnProperty(l)||p===g||p==null&&g==null||ft(t,e,l,p,n,g)}var T3=null,O3=null;function Yg(t){return t.nodeType===9?t:t.ownerDocument}function X7(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KC(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function B3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x_=null;function TU(){var t=window.event;return t&&t.type==="popstate"?t===x_?!1:(x_=t,!0):(x_=null,!1)}var QC=typeof setTimeout=="function"?setTimeout:void 0,OU=typeof clearTimeout=="function"?clearTimeout:void 0,Z7=typeof Promise=="function"?Promise:void 0,BU=typeof queueMicrotask=="function"?queueMicrotask:typeof Z7<"u"?function(t){return Z7.resolve(null).then(t).catch(DU)}:QC;function DU(t){setTimeout(function(){throw t})}function S_(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Sp(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Sp(e)}function D3(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":D3(r),t4(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function MU(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[dp])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=es(t.nextSibling),t===null)break}return null}function RU(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=es(t.nextSibling),t===null))return null;return t}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function J7(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}function VC(t,e,r){switch(e=Yg(r),t){case"html":if(t=e.documentElement,!t)throw Error(pe(452));return t;case"head":if(t=e.head,!t)throw Error(pe(453));return t;case"body":if(t=e.body,!t)throw Error(pe(454));return t;default:throw Error(pe(451))}}var ma=new Map,e9=new Set;function Gg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Yo=Tt.d;Tt.d={f:LU,r:HU,D:PU,C:NU,L:UU,m:kU,X:jU,S:zU,M:FU};function LU(){var t=Yo.f(),e=r2();return t||e}function HU(t){var e=Jd(t);e!==null&&e.tag===5&&e.type==="form"?VI(e):Yo.r(t)}var t0=typeof document>"u"?null:document;function YC(t,e,r){var n=t0;if(n&&typeof e=="string"&&e){var i=oa(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),e9.has(i)||(e9.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),en(e,"link",t),Lr(e),n.head.appendChild(e)))}}function PU(t){Yo.D(t),YC("dns-prefetch",t,null)}function NU(t,e){Yo.C(t,e),YC("preconnect",t,e)}function UU(t,e,r){Yo.L(t,e,r);var n=t0;if(n&&t&&e){var i='link[rel="preload"][as="'+oa(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+oa(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+oa(r.imageSizes)+'"]')):i+='[href="'+oa(t)+'"]';var a=i;switch(e){case"style":a=vd(t);break;case"script":a=r0(t)}ma.has(a)||(t=Dt({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),ma.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(f1(a))||e==="script"&&n.querySelector(c1(a))||(e=n.createElement("link"),en(e,"link",t),Lr(e),n.head.appendChild(e)))}}function kU(t,e){Yo.m(t,e);var r=t0;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+oa(n)+'"][href="'+oa(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=r0(t)}if(!ma.has(a)&&(t=Dt({rel:"modulepreload",href:t},e),ma.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(c1(a)))return}n=r.createElement("link"),en(n,"link",t),Lr(n),r.head.appendChild(n)}}}function zU(t,e,r){Yo.S(t,e,r);var n=t0;if(n&&t){var i=Ml(n).hoistableStyles,a=vd(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(f1(a)))o.loading=5;else{t=Dt({rel:"stylesheet",href:t,"data-precedence":e},r),(r=ma.get(a))&&U4(t,r);var f=s=n.createElement("link");Lr(f),en(f,"link",t),f._p=new Promise(function(c,u){f.onload=c,f.onerror=u}),f.addEventListener("load",function(){o.loading|=1}),f.addEventListener("error",function(){o.loading|=2}),o.loading|=4,dg(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function jU(t,e){Yo.X(t,e);var r=t0;if(r&&t){var n=Ml(r).hoistableScripts,i=r0(t),a=n.get(i);a||(a=r.querySelector(c1(i)),a||(t=Dt({src:t,async:!0},e),(e=ma.get(i))&&k4(t,e),a=r.createElement("script"),Lr(a),en(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function FU(t,e){Yo.M(t,e);var r=t0;if(r&&t){var n=Ml(r).hoistableScripts,i=r0(t),a=n.get(i);a||(a=r.querySelector(c1(i)),a||(t=Dt({src:t,async:!0,type:"module"},e),(e=ma.get(i))&&k4(t,e),a=r.createElement("script"),Lr(a),en(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function t9(t,e,r,n){var i=(i=Kf.current)?Gg(i):null;if(!i)throw Error(pe(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=vd(r.href),r=Ml(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=vd(r.href);var a=Ml(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(f1(t)))&&!a._p&&(s.instance=a,s.state.loading=5),ma.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ma.set(t,r),a||$U(i,t,r,s.state))),e&&n===null)throw Error(pe(528,""));return s}if(e&&n!==null)throw Error(pe(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=r0(r),r=Ml(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(pe(444,t))}}function vd(t){return'href="'+oa(t)+'"'}function f1(t){return'link[rel="stylesheet"]['+t+"]"}function GC(t){return Dt({},t,{"data-precedence":t.precedence,precedence:null})}function $U(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),en(e,"link",r),Lr(e),t.head.appendChild(e))}function r0(t){return'[src="'+oa(t)+'"]'}function c1(t){return"script[async]"+t}function r9(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+oa(r.href)+'"]');if(n)return e.instance=n,Lr(n),n;var i=Dt({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Lr(n),en(n,"style",i),dg(n,r.precedence,t),e.instance=n;case"stylesheet":i=vd(r.href);var a=t.querySelector(f1(i));if(a)return e.state.loading|=4,e.instance=a,Lr(a),a;n=GC(r),(i=ma.get(i))&&U4(n,i),a=(t.ownerDocument||t).createElement("link"),Lr(a);var s=a;return s._p=new Promise(function(o,f){s.onload=o,s.onerror=f}),en(a,"link",n),e.state.loading|=4,dg(a,r.precedence,t),e.instance=a;case"script":return a=r0(r.src),(i=t.querySelector(c1(a)))?(e.instance=i,Lr(i),i):(n=r,(i=ma.get(a))&&(n=Dt({},r),k4(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),Lr(i),en(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(pe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,dg(n,r.precedence,t));return e.instance}function dg(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function U4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function k4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hg=null;function n9(t,e,r){if(hg===null){var n=new Map,i=hg=new Map;i.set(r,n)}else i=hg,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[dp]||a[wn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(a):n.set(s,[a])}}return n}function i9(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function qU(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function WC(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wp=null;function KU(){}function QU(t,e,r){if(wp===null)throw Error(pe(475));var n=wp;if(e.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=vd(r.href),a=t.querySelector(f1(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=Wg.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=a,Lr(a);return}a=t.ownerDocument||t,r=GC(r),(i=ma.get(i))&&U4(r,i),a=a.createElement("link"),Lr(a);var s=a;s._p=new Promise(function(o,f){s.onload=o,s.onerror=f}),en(a,"link",r),e.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=Wg.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function VU(){if(wp===null)throw Error(pe(475));var t=wp;return t.stylesheets&&t.count===0&&M3(t,t.stylesheets),0<t.count?function(e){var r=setTimeout(function(){if(t.stylesheets&&M3(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Wg(){if(this.count--,this.count===0){if(this.stylesheets)M3(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xg=null;function M3(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xg=new Map,e.forEach(YU,t),Xg=null,Wg.call(t))}function YU(t,e){if(!(e.state.loading&4)){var r=Xg.get(t);if(r)var n=r.get(null);else{r=new Map,Xg.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}i=e.instance,s=i.getAttribute("data-precedence"),a=r.get(s)||n,a===n&&r.set(null,i),r.set(s,i),this.count++,n=Wg.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ap={$$typeof:wo,Provider:null,Consumer:null,_currentValue:su,_currentValue2:su,_threadCount:0};function GU(t,e,r,n,i,a,s,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wv(0),this.hiddenUpdates=Wv(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function XC(t,e,r,n,i,a,s,o,f,c,u,l){return t=new GU(t,e,r,s,o,f,c,l),e=1,a===!0&&(e|=24),a=la(3,null,null,e),t.current=a,a.stateNode=t,e=h4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},T4(a),t}function ZC(t){return t?(t=wl,t):wl}function JC(t,e,r,n,i,a){i=ZC(i),n.context===null?n.context=i:n.pendingContext=i,n=Qf(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=Vf(t,n,e),r!==null&&(Qn(r,t,e),Kh(r,t,e))}function a9(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function z4(t,e){a9(t,e),(t=t.alternate)&&a9(t,e)}function eT(t){if(t.tag===13){var e=ac(t,67108864);e!==null&&Qn(e,t,67108864),z4(t,67108864)}}var Zg=!0;function WU(t,e,r,n){var i=ke.T;ke.T=null;var a=Tt.p;try{Tt.p=2,j4(t,e,r,n)}finally{Tt.p=a,ke.T=i}}function XU(t,e,r,n){var i=ke.T;ke.T=null;var a=Tt.p;try{Tt.p=8,j4(t,e,r,n)}finally{Tt.p=a,ke.T=i}}function j4(t,e,r,n){if(Zg){var i=R3(n);if(i===null)E_(t,e,n,Jg,r),s9(t,n);else if(JU(i,t,e,r,n))n.stopPropagation();else if(s9(t,n),e&4&&-1<ZU.indexOf(t)){for(;i!==null;){var a=Jd(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Pc(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var f=1<<31-Di(s);o.entanglements[1]|=f,s&=~f}Ys(a),!(Qt&6)&&($g=Ls()+500,o1(0))}}break;case 13:o=ac(a,2),o!==null&&Qn(o,a,2),r2(),z4(a,2)}if(a=R3(n),a===null&&E_(t,e,n,Jg,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else E_(t,e,n,null,r)}}function R3(t){return t=n4(t),F4(t)}var Jg=null;function F4(t){if(Jg=null,t=Qc(t),t!==null){var e=Xd(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=MS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Jg=t,null}function tT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(NP()){case LS:return 2;case HS:return 8;case Og:case UP:return 32;case PS:return 268435456;default:return 32}default:return 32}}var L3=!1,Wf=null,Xf=null,Zf=null,Ep=new Map,xp=new Map,Df=[],ZU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s9(t,e){switch(t){case"focusin":case"focusout":Wf=null;break;case"dragenter":case"dragleave":Xf=null;break;case"mouseover":case"mouseout":Zf=null;break;case"pointerover":case"pointerout":Ep.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(e.pointerId)}}function nh(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jd(e),e!==null&&eT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JU(t,e,r,n,i){switch(e){case"focusin":return Wf=nh(Wf,t,e,r,n,i),!0;case"dragenter":return Xf=nh(Xf,t,e,r,n,i),!0;case"mouseover":return Zf=nh(Zf,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ep.set(a,nh(Ep.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,xp.set(a,nh(xp.get(a)||null,t,e,r,n,i)),!0}return!1}function rT(t){var e=Qc(t.target);if(e!==null){var r=Xd(e);if(r!==null){if(e=r.tag,e===13){if(e=MS(r),e!==null){t.blockedOn=e,VP(t.priority,function(){if(r.tag===13){var n=Mi(),i=ac(r,n);i!==null&&Qn(i,r,n),z4(r,n)}});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=R3(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Zm=n,r.target.dispatchEvent(n),Zm=null}else return e=Jd(r),e!==null&&eT(e),t.blockedOn=r,!1;e.shift()}return!0}function o9(t,e,r){pg(t)&&r.delete(e)}function ek(){L3=!1,Wf!==null&&pg(Wf)&&(Wf=null),Xf!==null&&pg(Xf)&&(Xf=null),Zf!==null&&pg(Zf)&&(Zf=null),Ep.forEach(o9),xp.forEach(o9)}function Ob(t,e){t.blockedOn===e&&(t.blockedOn=null,L3||(L3=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,ek)))}var Bb=null;function f9(t){Bb!==t&&(Bb=t,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,function(){Bb===t&&(Bb=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(F4(n||r)===null)continue;break}var a=Jd(r);a!==null&&(t.splice(e,3),e-=3,f3(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function Sp(t){function e(f){return Ob(f,t)}Wf!==null&&Ob(Wf,t),Xf!==null&&Ob(Xf,t),Zf!==null&&Ob(Zf,t),Ep.forEach(e),xp.forEach(e);for(var r=0;r<Df.length;r++){var n=Df[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Df.length&&(r=Df[0],r.blockedOn===null);)rT(r),r.blockedOn===null&&Df.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[oi]||null;if(typeof a=="function")s||f9(r);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[oi]||null)o=s.formAction;else if(F4(i)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),f9(r)}}}function $4(t){this._internalRoot=t}a2.prototype.render=$4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));var r=e.current,n=Mi();JC(r,n,t,e,null,null)};a2.prototype.unmount=$4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&kl(),JC(t.current,2,null,t,null,null),r2(),e[Zd]=null}};function a2(t){this._internalRoot=t}a2.prototype.unstable_scheduleHydration=function(t){if(t){var e=FS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Df.length&&e!==0&&e<Df[r].priority;r++);Df.splice(r,0,t),r===0&&rT(t)}};var c9=CS.version;if(c9!=="19.0.0")throw Error(pe(527,c9,"19.0.0"));Tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=LP(e),t=t!==null?RS(t):null,t=t===null?null:t.stateNode,t};var tk={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ke,findFiberByHostInstance:Qc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Db=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Db.isDisabled&&Db.supportsFiber)try{Zp=Db.inject(tk),Bi=Db}catch{}}qy.createRoot=function(t,e){if(!TS(t))throw Error(pe(299));var r=!1,n="",i=JI,a=eC,s=tC,o=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=XC(t,1,!1,null,null,r,n,i,a,s,o,null),t[Zd]=e.current,N4(t.nodeType===8?t.parentNode:t),new $4(e)};qy.hydrateRoot=function(t,e,r){if(!TS(t))throw Error(pe(299));var n=!1,i="",a=JI,s=eC,o=tC,f=null,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(f=r.unstable_transitionCallbacks),r.formState!==void 0&&(c=r.formState)),e=XC(t,1,!0,e,r??null,n,i,a,s,o,f,c),e.context=ZC(null),r=e.current,n=Mi(),i=Qf(n),i.callback=null,Vf(r,i,n),e.current.lanes=n,e1(e,n),Ys(e),t[Zd]=e.current,N4(t),new a2(e)};qy.version="19.0.0";function nT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nT)}catch(t){console.error(t)}}nT(),wS.exports=qy;var rk=wS.exports,u1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wu=typeof window>"u"||"Deno"in globalThis;function ra(){}function nk(t,e){return typeof t=="function"?t(e):t}function H3(t){return typeof t=="number"&&t>=0&&t!==1/0}function iT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zl(t,e){return typeof t=="function"?t(e):t}function Ka(t,e){return typeof t=="function"?t(e):t}function u9(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==q4(s,e.options))return!1}else if(!Cp(e.queryKey,s))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function l9(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ip(e.options.mutationKey)!==Ip(a))return!1}else if(!Cp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function q4(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ip)(t)}function Ip(t){return JSON.stringify(t,(e,r)=>N3(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Cp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Cp(t[r],e[r])):!1}function aT(t,e){if(t===e)return t;const r=d9(t)&&d9(e);if(r||N3(t)&&N3(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{};let f=0;for(let c=0;c<s;c++){const u=r?c:a[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,f++):(o[u]=aT(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&f++)}return i===s&&f===i?t:o}return e}function P3(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function d9(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function N3(t){if(!h9(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!h9(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function h9(t){return Object.prototype.toString.call(t)==="[object Object]"}function ik(t){return new Promise(e=>{setTimeout(e,t)})}function U3(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?aT(t,e):e}function ak(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function sk(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var K4=Symbol();function sT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===K4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zc,Lf,Yl,eS,ok=(eS=class extends u1{constructor(){super();Be(this,Zc);Be(this,Lf);Be(this,Yl);ve(this,Yl,e=>{if(!wu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,Lf)||this.setEventListener(se(this,Yl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Lf))==null||e.call(this),ve(this,Lf,void 0))}setEventListener(e){var r;ve(this,Yl,e),(r=se(this,Lf))==null||r.call(this),ve(this,Lf,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){se(this,Zc)!==e&&(ve(this,Zc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof se(this,Zc)=="boolean"?se(this,Zc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zc=new WeakMap,Lf=new WeakMap,Yl=new WeakMap,eS),Q4=new ok,Gl,Hf,Wl,tS,fk=(tS=class extends u1{constructor(){super();Be(this,Gl,!0);Be(this,Hf);Be(this,Wl);ve(this,Wl,e=>{if(!wu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,Hf)||this.setEventListener(se(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Hf))==null||e.call(this),ve(this,Hf,void 0))}setEventListener(e){var r;ve(this,Wl,e),(r=se(this,Hf))==null||r.call(this),ve(this,Hf,e(this.setOnline.bind(this)))}setOnline(e){se(this,Gl)!==e&&(ve(this,Gl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return se(this,Gl)}},Gl=new WeakMap,Hf=new WeakMap,Wl=new WeakMap,tS),ey=new fk;function k3(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function ck(t){return Math.min(1e3*2**t,3e4)}function oT(t){return(t??"online")==="online"?ey.isOnline():!0}var fT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function I_(t){return t instanceof fT}function cT(t){let e=!1,r=0,n=!1,i;const a=k3(),s=A=>{var S;n||(p(new fT(A)),(S=t.abort)==null||S.call(t))},o=()=>{e=!0},f=()=>{e=!1},c=()=>Q4.isFocused()&&(t.networkMode==="always"||ey.isOnline())&&t.canRun(),u=()=>oT(t.networkMode)&&t.canRun(),l=A=>{var S;n||(n=!0,(S=t.onSuccess)==null||S.call(t,A),i==null||i(),a.resolve(A))},p=A=>{var S;n||(n=!0,(S=t.onError)==null||S.call(t,A),i==null||i(),a.reject(A))},g=()=>new Promise(A=>{var S;i=w=>{(n||c())&&A(w)},(S=t.onPause)==null||S.call(t)}).then(()=>{var A;i=void 0,n||(A=t.onContinue)==null||A.call(t)}),m=()=>{if(n)return;let A;const S=r===0?t.initialPromise:void 0;try{A=S??t.fn()}catch(w){A=Promise.reject(w)}Promise.resolve(A).then(l).catch(w=>{var K;if(n)return;const C=t.retry??(wu?0:3),O=t.retryDelay??ck,M=typeof O=="function"?O(r,w):O,N=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,w);if(e||!N){p(w);return}r++,(K=t.onFail)==null||K.call(t,r,w),ik(M).then(()=>c()?void 0:g()).then(()=>{e?p(w):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:f,canStart:u,start:()=>(u()?m():g().then(m),a)}}function uk(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(f=>{r(f)})})})};return{batch:o=>{let f;e++;try{f=o()}finally{e--,e||s()}return f},batchCalls:o=>(...f)=>{a(()=>{o(...f)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Zr=uk(),Jc,rS,uT=(rS=class{constructor(){Be(this,Jc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H3(this.gcTime)&&ve(this,Jc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wu?1/0:5*60*1e3))}clearGcTimeout(){se(this,Jc)&&(clearTimeout(se(this,Jc)),ve(this,Jc,void 0))}},Jc=new WeakMap,rS),Xl,Zl,ea,bn,Yp,eu,ja,oo,nS,lk=(nS=class extends uT{constructor(e){super();Be(this,ja);Be(this,Xl);Be(this,Zl);Be(this,ea);Be(this,bn);Be(this,Yp);Be(this,eu);ve(this,eu,!1),ve(this,Yp,e.defaultOptions),this.setOptions(e.options),this.observers=[],ve(this,ea,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ve(this,Xl,dk(this.options)),this.state=e.state??se(this,Xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=se(this,bn))==null?void 0:e.promise}setOptions(e){this.options={...se(this,Yp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,ea).remove(this)}setData(e,r){const n=U3(this.state.data,e,this.options);return Qe(this,ja,oo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Qe(this,ja,oo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=se(this,bn))==null?void 0:n.promise;return(i=se(this,bn))==null||i.cancel(e),r?r.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Xl))}isActive(){return this.observers.some(e=>Ka(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===K4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!iT(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,bn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,bn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),se(this,ea).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(se(this,bn)&&(se(this,eu)?se(this,bn).cancel({revert:!0}):se(this,bn).cancelRetry()),this.scheduleGc()),se(this,ea).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,ja,oo).call(this,{type:"invalidate"})}fetch(e,r){var f,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,bn))return se(this,bn).continueRetry(),se(this,bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(p=>p.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(ve(this,eu,!0),n.signal)})},a=()=>{const l=sT(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return i(p),ve(this,eu,!1),this.options.persister?this.options.persister(l,p,this):l(p)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(f=this.options.behavior)==null||f.onFetch(s,this),ve(this,Zl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Qe(this,ja,oo).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const o=l=>{var p,g,m,A;I_(l)&&l.silent||Qe(this,ja,oo).call(this,{type:"error",error:l}),I_(l)||((g=(p=se(this,ea).config).onError)==null||g.call(p,l,this),(A=(m=se(this,ea).config).onSettled)==null||A.call(m,this.state.data,l,this)),this.scheduleGc()};return ve(this,bn,cT({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{var p,g,m,A;if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(S){o(S);return}(g=(p=se(this,ea).config).onSuccess)==null||g.call(p,l,this),(A=(m=se(this,ea).config).onSettled)==null||A.call(m,l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,p)=>{Qe(this,ja,oo).call(this,{type:"failed",failureCount:l,error:p})},onPause:()=>{Qe(this,ja,oo).call(this,{type:"pause"})},onContinue:()=>{Qe(this,ja,oo).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),se(this,bn).start()}},Xl=new WeakMap,Zl=new WeakMap,ea=new WeakMap,bn=new WeakMap,Yp=new WeakMap,eu=new WeakMap,ja=new WeakSet,oo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lT(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return I_(i)&&i.revert&&se(this,Zl)?{...se(this,Zl),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,ea).notify({query:this,type:"updated",action:e})})},nS);function lT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ms,iS,hk=(iS=class extends u1{constructor(e={}){super();Be(this,ms);this.config=e,ve(this,ms,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??q4(i,r);let s=this.get(a);return s||(s=new lk({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){se(this,ms).has(e.queryHash)||(se(this,ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=se(this,ms).get(e.queryHash);r&&(e.destroy(),r===e&&se(this,ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,ms).get(e)}getAll(){return[...se(this,ms).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>u9(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>u9(e,n)):r}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ms=new WeakMap,iS),ws,Pn,tu,As,wf,aS,pk=(aS=class extends uT{constructor(e){super();Be(this,As);Be(this,ws);Be(this,Pn);Be(this,tu);this.mutationId=e.mutationId,ve(this,Pn,e.mutationCache),ve(this,ws,[]),this.state=e.state||bk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){se(this,ws).includes(e)||(se(this,ws).push(e),this.clearGcTimeout(),se(this,Pn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ve(this,ws,se(this,ws).filter(r=>r!==e)),this.scheduleGc(),se(this,Pn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){se(this,ws).length||(this.state.status==="pending"?this.scheduleGc():se(this,Pn).remove(this))}continue(){var e;return((e=se(this,tu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,f,c,u,l,p,g,m,A,S,w,C,O,M,N,K,Q;ve(this,tu,cT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,G)=>{Qe(this,As,wf).call(this,{type:"failed",failureCount:j,error:G})},onPause:()=>{Qe(this,As,wf).call(this,{type:"pause"})},onContinue:()=>{Qe(this,As,wf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Pn).canRun(this)}));const r=this.state.status==="pending",n=!se(this,tu).canStart();try{if(!r){Qe(this,As,wf).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=se(this,Pn).config).onMutate)==null?void 0:a.call(i,e,this));const G=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));G!==this.state.context&&Qe(this,As,wf).call(this,{type:"pending",context:G,variables:e,isPaused:n})}const j=await se(this,tu).start();return await((c=(f=se(this,Pn).config).onSuccess)==null?void 0:c.call(f,j,e,this.state.context,this)),await((l=(u=this.options).onSuccess)==null?void 0:l.call(u,j,e,this.state.context)),await((g=(p=se(this,Pn).config).onSettled)==null?void 0:g.call(p,j,null,this.state.variables,this.state.context,this)),await((A=(m=this.options).onSettled)==null?void 0:A.call(m,j,null,e,this.state.context)),Qe(this,As,wf).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(S=se(this,Pn).config).onError)==null?void 0:w.call(S,j,e,this.state.context,this)),await((O=(C=this.options).onError)==null?void 0:O.call(C,j,e,this.state.context)),await((N=(M=se(this,Pn).config).onSettled)==null?void 0:N.call(M,void 0,j,this.state.variables,this.state.context,this)),await((Q=(K=this.options).onSettled)==null?void 0:Q.call(K,void 0,j,e,this.state.context)),j}finally{Qe(this,As,wf).call(this,{type:"error",error:j})}}finally{se(this,Pn).runNext(this)}}},ws=new WeakMap,Pn=new WeakMap,tu=new WeakMap,As=new WeakSet,wf=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zr.batch(()=>{se(this,ws).forEach(n=>{n.onMutationUpdate(e)}),se(this,Pn).notify({mutation:this,type:"updated",action:e})})},aS);function bk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mi,Gp,sS,gk=(sS=class extends u1{constructor(e={}){super();Be(this,mi);Be(this,Gp);this.config=e,ve(this,mi,new Map),ve(this,Gp,Date.now())}build(e,r,n){const i=new pk({mutationCache:this,mutationId:++bb(this,Gp)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Mb(e),n=se(this,mi).get(r)??[];n.push(e),se(this,mi).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Mb(e);if(se(this,mi).has(r)){const i=(n=se(this,mi).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?se(this,mi).delete(r):se(this,mi).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=se(this,mi).get(Mb(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=se(this,mi).get(Mb(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...se(this,mi).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>l9(r,n))}findAll(e={}){return this.getAll().filter(r=>l9(e,r))}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ra))))}},mi=new WeakMap,Gp=new WeakMap,sS);function Mb(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function p9(t){return{onFetch:(e,r)=>{var u,l,p,g,m;const n=e.options,i=(p=(l=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:l.fetchMore)==null?void 0:p.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},f=0;const c=async()=>{let A=!1;const S=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},w=sT(e.options,e.fetchOptions),C=async(O,M,N)=>{if(A)return Promise.reject();if(M==null&&O.pages.length)return Promise.resolve(O);const K={queryKey:e.queryKey,pageParam:M,direction:N?"backward":"forward",meta:e.options.meta};S(K);const Q=await w(K),{maxPages:j}=e.options,G=N?sk:ak;return{pages:G(O.pages,Q,j),pageParams:G(O.pageParams,M,j)}};if(i&&a.length){const O=i==="backward",M=O?yk:b9,N={pages:a,pageParams:s},K=M(n,N);o=await C(N,K,O)}else{const O=t??a.length;do{const M=f===0?s[0]??n.initialPageParam:b9(n,o);if(f>0&&M==null)break;o=await C(o,M),f++}while(f<O)}return o};e.options.persister?e.fetchFn=()=>{var A,S;return(S=(A=e.options).persister)==null?void 0:S.call(A,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function b9(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function yk(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ar,Pf,Nf,Jl,ed,Uf,td,rd,oS,dT=(oS=class{constructor(t={}){Be(this,ar);Be(this,Pf);Be(this,Nf);Be(this,Jl);Be(this,ed);Be(this,Uf);Be(this,td);Be(this,rd);ve(this,ar,t.queryCache||new hk),ve(this,Pf,t.mutationCache||new gk),ve(this,Nf,t.defaultOptions||{}),ve(this,Jl,new Map),ve(this,ed,new Map),ve(this,Uf,0)}mount(){bb(this,Uf)._++,se(this,Uf)===1&&(ve(this,td,Q4.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ar).onFocus())})),ve(this,rd,ey.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ar).onOnline())})))}unmount(){var t,e;bb(this,Uf)._--,se(this,Uf)===0&&((t=se(this,td))==null||t.call(this),ve(this,td,void 0),(e=se(this,rd))==null||e.call(this),ve(this,rd,void 0))}isFetching(t){return se(this,ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,Pf).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,ar).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=se(this,ar).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(zl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return se(this,ar).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=se(this,ar).get(n.queryHash),a=i==null?void 0:i.state.data,s=nk(e,a);if(s!==void 0)return se(this,ar).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Zr.batch(()=>se(this,ar).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,ar).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=se(this,ar);Zr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=se(this,ar),n={type:"active",...t};return Zr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Zr.batch(()=>se(this,ar).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ra).catch(ra)}invalidateQueries(t={},e={}){return Zr.batch(()=>{if(se(this,ar).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Zr.batch(()=>se(this,ar).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(ra)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ra)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=se(this,ar).build(this,e);return r.isStaleByTime(zl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ra).catch(ra)}fetchInfiniteQuery(t){return t.behavior=p9(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ra).catch(ra)}ensureInfiniteQueryData(t){return t.behavior=p9(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ey.isOnline()?se(this,Pf).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,ar)}getMutationCache(){return se(this,Pf)}getDefaultOptions(){return se(this,Nf)}setDefaultOptions(t){ve(this,Nf,t)}setQueryDefaults(t,e){se(this,Jl).set(Ip(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,Jl).values()];let r={};return e.forEach(n=>{Cp(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){se(this,ed).set(Ip(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,ed).values()];let r={};return e.forEach(n=>{Cp(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Nf).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=q4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===K4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Nf).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,ar).clear(),se(this,Pf).clear()}},ar=new WeakMap,Pf=new WeakMap,Nf=new WeakMap,Jl=new WeakMap,ed=new WeakMap,Uf=new WeakMap,td=new WeakMap,rd=new WeakMap,oS),ri,Ve,Wp,Nn,ru,nd,kf,Es,Xp,id,ad,nu,iu,zf,sd,it,Sh,z3,j3,F3,$3,q3,K3,Q3,hT,fS,vk=(fS=class extends u1{constructor(e,r){super();Be(this,it);Be(this,ri);Be(this,Ve);Be(this,Wp);Be(this,Nn);Be(this,ru);Be(this,nd);Be(this,kf);Be(this,Es);Be(this,Xp);Be(this,id);Be(this,ad);Be(this,nu);Be(this,iu);Be(this,zf);Be(this,sd,new Set);this.options=r,ve(this,ri,e),ve(this,Es,null),ve(this,kf,k3()),this.options.experimental_prefetchInRender||se(this,kf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(se(this,Ve).addObserver(this),g9(se(this,Ve),this.options)?Qe(this,it,Sh).call(this):this.updateResult(),Qe(this,it,$3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V3(se(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V3(se(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,it,q3).call(this),Qe(this,it,K3).call(this),se(this,Ve).removeObserver(this)}setOptions(e,r){const n=this.options,i=se(this,Ve);if(this.options=se(this,ri).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ka(this.options.enabled,se(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,it,Q3).call(this),se(this,Ve).setOptions(this.options),n._defaulted&&!P3(this.options,n)&&se(this,ri).getQueryCache().notify({type:"observerOptionsUpdated",query:se(this,Ve),observer:this});const a=this.hasListeners();a&&y9(se(this,Ve),i,this.options,n)&&Qe(this,it,Sh).call(this),this.updateResult(r),a&&(se(this,Ve)!==i||Ka(this.options.enabled,se(this,Ve))!==Ka(n.enabled,se(this,Ve))||zl(this.options.staleTime,se(this,Ve))!==zl(n.staleTime,se(this,Ve)))&&Qe(this,it,z3).call(this);const s=Qe(this,it,j3).call(this);a&&(se(this,Ve)!==i||Ka(this.options.enabled,se(this,Ve))!==Ka(n.enabled,se(this,Ve))||s!==se(this,zf))&&Qe(this,it,F3).call(this,s)}getOptimisticResult(e){const r=se(this,ri).getQueryCache().build(se(this,ri),e),n=this.createResult(r,e);return mk(this,n)&&(ve(this,Nn,n),ve(this,nd,this.options),ve(this,ru,se(this,Ve).state)),n}getCurrentResult(){return se(this,Nn)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){se(this,sd).add(e)}getCurrentQuery(){return se(this,Ve)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=se(this,ri).defaultQueryOptions(e),n=se(this,ri).getQueryCache().build(se(this,ri),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Qe(this,it,Sh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),se(this,Nn)))}createResult(e,r){var j;const n=se(this,Ve),i=this.options,a=se(this,Nn),s=se(this,ru),o=se(this,nd),c=e!==n?e.state:se(this,Wp),{state:u}=e;let l={...u},p=!1,g;if(r._optimisticResults){const G=this.hasListeners(),W=!G&&g9(e,r),R=G&&y9(e,n,r,i);(W||R)&&(l={...l,...lT(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:m,errorUpdatedAt:A,status:S}=l;if(r.select&&l.data!==void 0)if(a&&l.data===(s==null?void 0:s.data)&&r.select===se(this,Xp))g=se(this,id);else try{ve(this,Xp,r.select),g=r.select(l.data),g=U3(a==null?void 0:a.data,g,r),ve(this,id,g),ve(this,Es,null)}catch(G){ve(this,Es,G)}else g=l.data;if(r.placeholderData!==void 0&&g===void 0&&S==="pending"){let G;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))G=a.data;else if(G=typeof r.placeholderData=="function"?r.placeholderData((j=se(this,ad))==null?void 0:j.state.data,se(this,ad)):r.placeholderData,r.select&&G!==void 0)try{G=r.select(G),ve(this,Es,null)}catch(W){ve(this,Es,W)}G!==void 0&&(S="success",g=U3(a==null?void 0:a.data,G,r),p=!0)}se(this,Es)&&(m=se(this,Es),g=se(this,id),A=Date.now(),S="error");const w=l.fetchStatus==="fetching",C=S==="pending",O=S==="error",M=C&&w,N=g!==void 0,Q={status:S,fetchStatus:l.fetchStatus,isPending:C,isSuccess:S==="success",isError:O,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:l.dataUpdatedAt,error:m,errorUpdatedAt:A,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>c.dataUpdateCount||l.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!C,isLoadingError:O&&!N,isPaused:l.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:O&&N,isStale:V4(e,r),refetch:this.refetch,promise:se(this,kf)};if(this.options.experimental_prefetchInRender){const G=_=>{Q.status==="error"?_.reject(Q.error):Q.data!==void 0&&_.resolve(Q.data)},W=()=>{const _=ve(this,kf,Q.promise=k3());G(_)},R=se(this,kf);switch(R.status){case"pending":e.queryHash===n.queryHash&&G(R);break;case"fulfilled":(Q.status==="error"||Q.data!==R.value)&&W();break;case"rejected":(Q.status!=="error"||Q.error!==R.reason)&&W();break}}return Q}updateResult(e){const r=se(this,Nn),n=this.createResult(se(this,Ve),this.options);if(ve(this,ru,se(this,Ve).state),ve(this,nd,this.options),se(this,ru).data!==void 0&&ve(this,ad,se(this,Ve)),P3(n,r))return;ve(this,Nn,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!se(this,sd).size)return!0;const f=new Set(o??se(this,sd));return this.options.throwOnError&&f.add("error"),Object.keys(se(this,Nn)).some(c=>{const u=c;return se(this,Nn)[u]!==r[u]&&f.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Qe(this,it,hT).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,it,$3).call(this)}},ri=new WeakMap,Ve=new WeakMap,Wp=new WeakMap,Nn=new WeakMap,ru=new WeakMap,nd=new WeakMap,kf=new WeakMap,Es=new WeakMap,Xp=new WeakMap,id=new WeakMap,ad=new WeakMap,nu=new WeakMap,iu=new WeakMap,zf=new WeakMap,sd=new WeakMap,it=new WeakSet,Sh=function(e){Qe(this,it,Q3).call(this);let r=se(this,Ve).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ra)),r},z3=function(){Qe(this,it,q3).call(this);const e=zl(this.options.staleTime,se(this,Ve));if(wu||se(this,Nn).isStale||!H3(e))return;const n=iT(se(this,Nn).dataUpdatedAt,e)+1;ve(this,nu,setTimeout(()=>{se(this,Nn).isStale||this.updateResult()},n))},j3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(se(this,Ve)):this.options.refetchInterval)??!1},F3=function(e){Qe(this,it,K3).call(this),ve(this,zf,e),!(wu||Ka(this.options.enabled,se(this,Ve))===!1||!H3(se(this,zf))||se(this,zf)===0)&&ve(this,iu,setInterval(()=>{(this.options.refetchIntervalInBackground||Q4.isFocused())&&Qe(this,it,Sh).call(this)},se(this,zf)))},$3=function(){Qe(this,it,z3).call(this),Qe(this,it,F3).call(this,Qe(this,it,j3).call(this))},q3=function(){se(this,nu)&&(clearTimeout(se(this,nu)),ve(this,nu,void 0))},K3=function(){se(this,iu)&&(clearInterval(se(this,iu)),ve(this,iu,void 0))},Q3=function(){const e=se(this,ri).getQueryCache().build(se(this,ri),this.options);if(e===se(this,Ve))return;const r=se(this,Ve);ve(this,Ve,e),ve(this,Wp,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},hT=function(e){Zr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(se(this,Nn))}),se(this,ri).getQueryCache().notify({query:se(this,Ve),type:"observerResultsUpdated"})})},fS);function _k(t,e){return Ka(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function g9(t,e){return _k(t,e)||t.state.data!==void 0&&V3(t,e,e.refetchOnMount)}function V3(t,e,r){if(Ka(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&V4(t,e)}return!1}function y9(t,e,r,n){return(t!==e||Ka(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&V4(t,r)}function V4(t,e){return Ka(e.enabled,t)!==!1&&t.isStaleByTime(zl(e.staleTime,t))}function mk(t,e){return!P3(t.getCurrentResult(),e)}var pT=pr.createContext(void 0),wk=t=>{const e=pr.useContext(pT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ak=({client:t,children:e})=>(pr.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_e.jsx(pT.Provider,{value:t,children:e})),bT=pr.createContext(!1),Ek=()=>pr.useContext(bT);bT.Provider;function xk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Sk=pr.createContext(xk()),Ik=()=>pr.useContext(Sk);function Ck(t,e){return typeof t=="function"?t(...e):!!t}function v9(){}var Tk=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ok=t=>{pr.useEffect(()=>{t.clearReset()},[t])},Bk=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Ck(r,[t.error,n]),Dk=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Mk=(t,e)=>t.isLoading&&t.isFetching&&!e,Rk=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,_9=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Lk(t,e,r){var u,l,p,g,m;const n=wk(),i=Ek(),a=Ik(),s=n.defaultQueryOptions(t);(l=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||l.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",Dk(s),Tk(s,a),Ok(a);const o=!n.getQueryCache().get(s.queryHash),[f]=pr.useState(()=>new e(n,s)),c=f.getOptimisticResult(s);if(pr.useSyncExternalStore(pr.useCallback(A=>{const S=i?v9:f.subscribe(Zr.batchCalls(A));return f.updateResult(),S},[f,i]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),pr.useEffect(()=>{f.setOptions(s,{listeners:!1})},[s,f]),Rk(s,c))throw _9(s,f,a);if(Bk({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw c.error;if((g=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,c),s.experimental_prefetchInRender&&!wu&&Mk(c,i)){const A=o?_9(s,f,a):(m=n.getQueryCache().get(s.queryHash))==null?void 0:m.promise;A==null||A.catch(v9).finally(()=>{f.updateResult()})}return s.notifyOnChangeProps?c:f.trackResult(c)}function Y4(t,e){return Lk(t,vk)}var gT={exports:{}},yT={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;yT.c=function(t){return Hk.H.useMemoCache(t)};gT.exports=yT;var s2=gT.exports,C_={},st={},Go={},Ia={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.CodecExecuteError=ya.CodecBaseParseError=ya.CODEC_OPTIONAL_PATH=void 0;ya.isCodecExecuteError=Nk;const Pk=ya.CODEC_OPTIONAL_PATH="__lc_option__";class vT extends Error{constructor(e,r){super(e),this.expectedType=r}}ya.CodecBaseParseError=vT;const _T="CodecExecuteError";function Nk(t){return t instanceof Error?t.name===_T:!1}class Uk extends Error{constructor(r){super();Yr(this,"name",_T);Yr(this,"keys",[]);this.origin=r}updateKey(r){this.keys.push(r),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var r;const n=(s,o,f)=>(o===Pk?o=f===0?"?":"?.":typeof o=="number"?o=`[${o}]`:o=`.${o}`,s+o),i=this.keys.reduceRight(n,"input");return`${this.origin instanceof vT?`Expect type ${this.origin.expectedType} at ${i} but got error:`:`Error at ${i}:`} ${this.origin.message}
    ${(r=this.origin.stack)===null||r===void 0?void 0:r.replace(/Error:.+?\n/,"")}
    `}}ya.CodecExecuteError=Uk;Object.defineProperty(Ia,"__esModule",{value:!0});Ia.assertBufferLength=Yk;Ia.assertHexDecimal=Kk;Ia.assertHexString=Qk;Ia.assertMinBufferLength=Gk;Ia.assertUtf8String=Vk;Ia.isObjectLike=Wk;Ia.trackCodeExecuteError=Xk;var m9=ya;const kk=48,zk=57,jk=65,Fk=70,$k=97,qk=102;function mT(t){if(!t||!t.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function wT(t){const e=t.length;for(let r=2;r<e;r++){const n=t[r].charCodeAt(0);if(!(n>=kk&&n<=zk||n>=$k&&n<=qk||n>=jk&&n<=Fk))throw new Error(`Invalid hex character ${t[r]} in the string ${t}`)}}function Kk(t,e){if(mT(t),t.length===2)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=t.length;if(typeof e=="number"&&r>e*2+2)throw new Error(`Invalid hex decimal length, should be less than ${e} bytes, got ${r/2-1} bytes`);wT(t)}function Qk(t,e){mT(t);const r=t.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if(typeof e=="number"&&r!==e*2+2)throw new Error("Invalid hex string length, not match with byteLength!");wT(t)}function Vk(t){for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error("Invalid UTF-8 raw string!")}function Yk(t,e){if(t.byteLength!==e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be ${e}`)}function Gk(t,e){if(t.byteLength<e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be at least ${e}`)}function Wk(t){return t?typeof t=="object":!1}function Xk(t,e){try{return e()}catch(r){const n=(0,m9.isCodecExecuteError)(r)?r:new m9.CodecExecuteError(r);throw n.updateKey(t),n}}var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.bytify=Tp;Ca.bytifyRawString=Zk;Ca.concat=az;Ca.equal=tz;var vc=Ca.hexify=iz,AT=Ia;function Zk(t){(0,AT.assertUtf8String)(t);const e=new ArrayBuffer(t.length),r=new DataView(e);for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);r.setUint8(n,i)}return new Uint8Array(e)}const w9=48,A9=57,E9=65,x9=70,S9=97;function Jk(t){(0,AT.assertHexString)(t);const e=Uint8Array.from({length:t.length/2-1});for(let r=2,n=0;r<t.length;r=r+2,n++){const i=t.charCodeAt(r),a=t.charCodeAt(r+1),s=i<=A9?i-w9:i<=x9?i-E9+10:i-S9+10,o=a<=A9?a-w9:a<=x9?a-E9+10:a-S9+10;e[n]=s<<4|o}return e}function ez(t){for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(t)}function Tp(t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string")return Jk(t);if(Array.isArray(t))return ez(t);throw new Error(`Cannot convert ${t}`)}function tz(t,e){const r=Tp(t),n=Tp(e);return rz(r,n)}function rz(t,e){if(t.length!==e.length)return!1;for(let r=t.length;-1<r;r-=1)if(t[r]!==e[r])return!1;return!0}const nz=Array.from({length:256}).map((t,e)=>e.toString(16).padStart(2,"0"));function iz(t){let e="";const r=Tp(t);for(let n=0;n<r.length;n++)e+=nz[r[n]];return"0x"+e}function az(...t){const e=t.map(Tp),r=e.reduce((a,s)=>a+s.length,0),n=new Uint8Array(r);let i=0;return e.forEach(a=>{n.set(a,i),i+=a.length}),n}Object.defineProperty(Go,"__esModule",{value:!0});Go.createBytesCodec=ET;Go.createFixedBytesCodec=fz;Go.isFixedCodec=oz;var Y3=Ia,sz=Ca;function ET(t){return{pack:e=>t.pack(e),unpack:e=>t.unpack((0,sz.bytify)(e))}}function oz(t){return(0,Y3.isObjectLike)(t)&&!!t.__isFixedCodec__}function fz(t){const e=t.byteLength;return{__isFixedCodec__:!0,byteLength:e,...ET({pack:r=>{const n=t.pack(r);return(0,Y3.assertBufferLength)(n,e),n},unpack:r=>((0,Y3.assertBufferLength)(r,e),t.unpack(r))})}}var G4={},n0={};Object.defineProperty(n0,"__esModule",{value:!0});n0.createArrayCodec=dz;n0.createNullableCodec=uz;n0.createObjectCodec=lz;n0.enhancePack=hz;var W4=Ia,cz=ya;function uz(t){return{pack:e=>e==null?e:(0,W4.trackCodeExecuteError)(cz.CODEC_OPTIONAL_PATH,()=>t.pack(e)),unpack:e=>e==null?e:t.unpack(e)}}function lz(t){const e=Object.entries(t);return{pack:r=>{const n={};return e.forEach(([i,a])=>{Object.assign(n,{[i]:(0,W4.trackCodeExecuteError)(i,()=>a.pack(r[i]))})}),n},unpack:r=>{const n={};return e.forEach(([i,a])=>{Object.assign(n,{[i]:a.unpack(r[i])})}),n}}}function dz(t){return{pack:e=>e.map((r,n)=>(0,W4.trackCodeExecuteError)(n,()=>t.pack(r))),unpack:e=>e.map(r=>t.unpack(r))}}function hz(t,e,r){return{pack:n=>e(t.pack(n)),unpack:n=>t.unpack(r(n))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return e.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return e.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return e.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return e.enhancePack}});var e=n0})(G4);var i0={},zo={},wt={},xT={exports:{}};(function(t,e){(function(r,n){t.exports=n()})($n,function(){var r=Math.imul,n=Math.clz32;function i(W){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},i(W)}function a(W,R){if(!(W instanceof R))throw new TypeError("Cannot call a class as a function")}function s(W,R){for(var _,I=0;I<R.length;I++)_=R[I],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(W,_.key,_)}function o(W,R,_){return R&&s(W.prototype,R),_&&s(W,_),Object.defineProperty(W,"prototype",{writable:!1}),W}function f(W,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(R&&R.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),R&&u(W,R)}function c(W){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},c(W)}function u(W,R){return u=Object.setPrototypeOf||function(_,I){return _.__proto__=I,_},u(W,R)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(){return p=l()?Reflect.construct:function(W,R,_){var I=[null];I.push.apply(I,R);var b=Function.bind.apply(W,I),v=new b;return _&&u(v,_.prototype),v},p.apply(null,arguments)}function g(W){return Function.toString.call(W).indexOf("[native code]")!==-1}function m(W){var R=typeof Map=="function"?new Map:void 0;return m=function(_){function I(){return p(_,arguments,c(this).constructor)}if(_===null||!g(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(_))return R.get(_);R.set(_,I)}return I.prototype=Object.create(_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u(I,_)},m(W)}function A(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function S(W,R){if(R&&(typeof R=="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(W)}function w(W){var R=l();return function(){var _,I=c(W);if(R){var b=c(this).constructor;_=Reflect.construct(I,arguments,b)}else _=I.apply(this,arguments);return S(this,_)}}function C(W,R){return O(W)||M(W,R)||N(W,R)||Q()}function O(W){if(Array.isArray(W))return W}function M(W,R){var _=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(_!=null){var I,b,v=[],d=!0,y=!1;try{for(_=_.call(W);!(d=(I=_.next()).done)&&(v.push(I.value),!(R&&v.length===R));d=!0);}catch(x){y=!0,b=x}finally{try{d||_.return==null||_.return()}finally{if(y)throw b}}return v}}function N(W,R){if(W){if(typeof W=="string")return K(W,R);var _=Object.prototype.toString.call(W).slice(8,-1);return _==="Object"&&W.constructor&&(_=W.constructor.name),_==="Map"||_==="Set"?Array.from(W):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?K(W,R):void 0}}function K(W,R){(R==null||R>W.length)&&(R=W.length);for(var _=0,I=Array(R);_<R;_++)I[_]=W[_];return I}function Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(W,R){var _=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!_){if(Array.isArray(W)||(_=N(W))||R){_&&(W=_);var I=0,b=function(){};return{s:b,n:function(){return I>=W.length?{done:!0}:{done:!1,value:W[I++]}},e:function(x){throw x},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,d=!0,y=!1;return{s:function(){_=_.call(W)},n:function(){var x=_.next();return d=x.done,x},e:function(x){y=!0,v=x},f:function(){try{d||_.return==null||_.return()}finally{if(y)throw v}}}}var G=function(W){var R=Math.abs,_=Math.max,I=Math.floor;function b(d,y){var x;if(a(this,b),x=v.call(this,d),x.sign=y,Object.setPrototypeOf(A(x),b.prototype),d>b.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return x}f(b,W);var v=w(b);return o(b,[{key:"toDebugString",value:function(){var d,y=["BigInt["],x=j(this);try{for(x.s();!(d=x.n()).done;){var E=d.value;y.push((E&&(E>>>0).toString(16))+", ")}}catch(h){x.e(h)}finally{x.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":d&d-1?b.__toStringGeneric(this,d,!1):b.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new b(this.length,this.sign),y=0;y<this.length;y++)d[y]=this[y];return d}},{key:"__trim",value:function(){for(var d=this.length,y=this[d-1];y===0;)d--,y=this[d-1],this.pop();return d===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return b.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,y,x){x>this.length&&(x=this.length);for(var E=32767&d,h=d>>>15,T=0,F=y,L=0;L<x;L++){var k=this.__digit(L),$=32767&k,H=k>>>15,q=b.__imul($,E),X=b.__imul($,h),te=b.__imul(H,E),re=b.__imul(H,h),U=F+q+T;T=U>>>30,U&=1073741823,U+=((32767&X)<<15)+((32767&te)<<15),T+=U>>>30,F=re+(X>>>15)+(te>>>15),this.__setDigit(L,1073741823&U)}if(T!==0||F!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,y,x){for(var E,h=0,T=0;T<x;T++)E=this.__halfDigit(y+T)+d.__halfDigit(T)+h,h=E>>>15,this.__setHalfDigit(y+T,32767&E);return h}},{key:"__inplaceSub",value:function(d,y,x){var E=0;if(1&y){y>>=1;for(var h=this.__digit(y),T=32767&h,F=0;F<x-1>>>1;F++){var L=d.__digit(F),k=(h>>>15)-(32767&L)-E;E=1&k>>>15,this.__setDigit(y+F,(32767&k)<<15|32767&T),h=this.__digit(y+F+1),T=(32767&h)-(L>>>15)-E,E=1&T>>>15}var $=d.__digit(F),H=(h>>>15)-(32767&$)-E;if(E=1&H>>>15,this.__setDigit(y+F,(32767&H)<<15|32767&T),y+F+1>=this.length)throw new RangeError("out of bounds");!(1&x)&&(h=this.__digit(y+F+1),T=(32767&h)-($>>>15)-E,E=1&T>>>15,this.__setDigit(y+d.length,1073709056&h|32767&T))}else{y>>=1;for(var q=0;q<d.length-1;q++){var X=this.__digit(y+q),te=d.__digit(q),re=(32767&X)-(32767&te)-E;E=1&re>>>15;var U=(X>>>15)-(te>>>15)-E;E=1&U>>>15,this.__setDigit(y+q,(32767&U)<<15|32767&re)}var P=this.__digit(y+q),ne=d.__digit(q),fe=(32767&P)-(32767&ne)-E;E=1&fe>>>15;var de=0;!(1&x)&&(de=(P>>>15)-(ne>>>15)-E,E=1&de>>>15),this.__setDigit(y+q,(32767&de)<<15|32767&fe)}return E}},{key:"__inplaceRightShift",value:function(d){if(d!==0){for(var y,x=this.__digit(0)>>>d,E=this.length-1,h=0;h<E;h++)y=this.__digit(h+1),this.__setDigit(h,1073741823&y<<30-d|x),x=y>>>d;this.__setDigit(E,x)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,y){this[d]=0|y}},{key:"__setDigitGrow",value:function(d,y){this[d]=0|y}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,y){var x=d>>>1,E=this.__digit(x),h=1&d?32767&E|y<<15:1073709056&E|32767&y;this.__setDigit(x,h)}}],[{key:"BigInt",value:function(d){var y=Number.isFinite;if(typeof d=="number"){if(d===0)return b.__zero();if(b.__isOneDigitInt(d))return 0>d?b.__oneDigit(-d,!0):b.__oneDigit(d,!1);if(!y(d)||I(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return b.__fromDouble(d)}if(typeof d=="string"){var x=b.__fromString(d);if(x===null)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return x}if(typeof d=="boolean")return d===!0?b.__oneDigit(1,!1):b.__zero();if(i(d)==="object"){if(d.constructor===b)return d;var E=b.__toPrimitive(d);return b.BigInt(E)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var y=d.length;if(y===0)return 0;if(y===1){var x=d.__unsignedDigit(0);return d.sign?-x:x}var E=d.__digit(y-1),h=b.__clz30(E),T=30*y-h;if(1024<T)return d.sign?-1/0:1/0;var F=T-1,L=E,k=y-1,$=h+3,H=$===32?0:L<<$;H>>>=12;var q=$-12,X=12<=$?0:L<<20+$,te=20+$;for(0<q&&0<k&&(k--,L=d.__digit(k),H|=L>>>30-q,X=L<<q+2,te=q+2);0<te&&0<k;)k--,L=d.__digit(k),X|=30<=te?L<<te-30:L>>>30-te,te-=30;var re=b.__decideRounding(d,te,k,L);if((re===1||re===0&&(1&X)==1)&&(X=X+1>>>0,X===0&&(H++,H>>>20!=0&&(H=0,F++,1023<F))))return d.sign?-1/0:1/0;var U=d.sign?-2147483648:0;return F=F+1023<<20,b.__kBitConversionInts[1]=U|F|H,b.__kBitConversionInts[0]=X,b.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(d){if(d.length===0)return d;var y=d.__copy();return y.sign=!d.sign,y}},{key:"bitwiseNot",value:function(d){return d.sign?b.__absoluteSubOne(d).__trim():b.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,y){if(y.sign)throw new RangeError("Exponent must be positive");if(y.length===0)return b.__oneDigit(1,!1);if(d.length===0)return d;if(d.length===1&&d.__digit(0)===1)return d.sign&&!(1&y.__digit(0))?b.unaryMinus(d):d;if(1<y.length)throw new RangeError("BigInt too big");var x=y.__unsignedDigit(0);if(x===1)return d;if(x>=b.__kMaxLengthBits)throw new RangeError("BigInt too big");if(d.length===1&&d.__digit(0)===2){var E=1+(0|x/30),h=d.sign&&(1&x)!=0,T=new b(E,h);T.__initializeDigits();var F=1<<x%30;return T.__setDigit(E-1,F),T}var L=null,k=d;for(1&x&&(L=d),x>>=1;x!==0;x>>=1)k=b.multiply(k,k),1&x&&(L===null?L=k:L=b.multiply(L,k));return L}},{key:"multiply",value:function(d,y){if(d.length===0)return d;if(y.length===0)return y;var x=d.length+y.length;30<=d.__clzmsd()+y.__clzmsd()&&x--;var E=new b(x,d.sign!==y.sign);E.__initializeDigits();for(var h=0;h<d.length;h++)b.__multiplyAccumulate(y,d.__digit(h),E,h);return E.__trim()}},{key:"divide",value:function(d,y){if(y.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(d,y))return b.__zero();var x,E=d.sign!==y.sign,h=y.__unsignedDigit(0);if(y.length===1&&32767>=h){if(h===1)return E===d.sign?d:b.unaryMinus(d);x=b.__absoluteDivSmall(d,h,null)}else x=b.__absoluteDivLarge(d,y,!0,!1);return x.sign=E,x.__trim()}},{key:"remainder",value:function(y,x){if(x.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(y,x))return y;var E=x.__unsignedDigit(0);if(x.length===1&&32767>=E){if(E===1)return b.__zero();var h=b.__absoluteModSmall(y,E);return h===0?b.__zero():b.__oneDigit(h,y.sign)}var T=b.__absoluteDivLarge(y,x,!1,!0);return T.sign=y.sign,T.__trim()}},{key:"add",value:function(d,y){var x=d.sign;return x===y.sign?b.__absoluteAdd(d,y,x):0<=b.__absoluteCompare(d,y)?b.__absoluteSub(d,y,x):b.__absoluteSub(y,d,!x)}},{key:"subtract",value:function(d,y){var x=d.sign;return x===y.sign?0<=b.__absoluteCompare(d,y)?b.__absoluteSub(d,y,x):b.__absoluteSub(y,d,!x):b.__absoluteAdd(d,y,x)}},{key:"leftShift",value:function(d,y){return y.length===0||d.length===0?d:y.sign?b.__rightShiftByAbsolute(d,y):b.__leftShiftByAbsolute(d,y)}},{key:"signedRightShift",value:function(d,y){return y.length===0||d.length===0?d:y.sign?b.__leftShiftByAbsolute(d,y):b.__rightShiftByAbsolute(d,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,y){return 0>b.__compareToBigInt(d,y)}},{key:"lessThanOrEqual",value:function(d,y){return 0>=b.__compareToBigInt(d,y)}},{key:"greaterThan",value:function(d,y){return 0<b.__compareToBigInt(d,y)}},{key:"greaterThanOrEqual",value:function(d,y){return 0<=b.__compareToBigInt(d,y)}},{key:"equal",value:function(d,y){if(d.sign!==y.sign||d.length!==y.length)return!1;for(var x=0;x<d.length;x++)if(d.__digit(x)!==y.__digit(x))return!1;return!0}},{key:"notEqual",value:function(d,y){return!b.equal(d,y)}},{key:"bitwiseAnd",value:function(d,y){if(!d.sign&&!y.sign)return b.__absoluteAnd(d,y).__trim();if(d.sign&&y.sign){var x=_(d.length,y.length)+1,E=b.__absoluteSubOne(d,x),h=b.__absoluteSubOne(y);return E=b.__absoluteOr(E,h,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var T=[y,d];d=T[0],y=T[1]}return b.__absoluteAndNot(d,b.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(d,y){if(!d.sign&&!y.sign)return b.__absoluteXor(d,y).__trim();if(d.sign&&y.sign){var x=_(d.length,y.length),E=b.__absoluteSubOne(d,x),h=b.__absoluteSubOne(y);return b.__absoluteXor(E,h,E).__trim()}var T=_(d.length,y.length)+1;if(d.sign){var F=[y,d];d=F[0],y=F[1]}var L=b.__absoluteSubOne(y,T);return L=b.__absoluteXor(L,d,L),b.__absoluteAddOne(L,!0,L).__trim()}},{key:"bitwiseOr",value:function(d,y){var x=_(d.length,y.length);if(!d.sign&&!y.sign)return b.__absoluteOr(d,y).__trim();if(d.sign&&y.sign){var E=b.__absoluteSubOne(d,x),h=b.__absoluteSubOne(y);return E=b.__absoluteAnd(E,h,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var T=[y,d];d=T[0],y=T[1]}var F=b.__absoluteSubOne(y,x);return F=b.__absoluteAndNot(F,d,F),b.__absoluteAddOne(F,!0,F).__trim()}},{key:"asIntN",value:function(d,y){if(y.length===0)return y;if(d=I(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(d>=b.__kMaxLengthBits)return y;var x=0|(d+29)/30;if(y.length<x)return y;var E=y.__unsignedDigit(x-1),h=1<<(d-1)%30;if(y.length===x&&E<h)return y;if((E&h)!==h)return b.__truncateToNBits(d,y);if(!y.sign)return b.__truncateAndSubFromPowerOfTwo(d,y,!0);if(!(E&h-1)){for(var T=x-2;0<=T;T--)if(y.__digit(T)!==0)return b.__truncateAndSubFromPowerOfTwo(d,y,!1);return y.length===x&&E===h?y:b.__truncateToNBits(d,y)}return b.__truncateAndSubFromPowerOfTwo(d,y,!1)}},{key:"asUintN",value:function(d,y){if(y.length===0)return y;if(d=I(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(y.sign){if(d>b.__kMaxLengthBits)throw new RangeError("BigInt too big");return b.__truncateAndSubFromPowerOfTwo(d,y,!1)}if(d>=b.__kMaxLengthBits)return y;var x=0|(d+29)/30;if(y.length<x)return y;var E=d%30;if(y.length==x){if(E===0)return y;var h=y.__digit(x-1);if(!(h>>>E))return y}return b.__truncateToNBits(d,y)}},{key:"ADD",value:function(d,y){if(d=b.__toPrimitive(d),y=b.__toPrimitive(y),typeof d=="string")return typeof y!="string"&&(y=y.toString()),d+y;if(typeof y=="string")return d.toString()+y;if(d=b.__toNumeric(d),y=b.__toNumeric(y),b.__isBigInt(d)&&b.__isBigInt(y))return b.add(d,y);if(typeof d=="number"&&typeof y=="number")return d+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,y){return b.__compare(d,y,0)}},{key:"LE",value:function(d,y){return b.__compare(d,y,1)}},{key:"GT",value:function(d,y){return b.__compare(d,y,2)}},{key:"GE",value:function(d,y){return b.__compare(d,y,3)}},{key:"EQ",value:function(d,y){for(;;){if(b.__isBigInt(d))return b.__isBigInt(y)?b.equal(d,y):b.EQ(y,d);if(typeof d=="number"){if(b.__isBigInt(y))return b.__equalToNumber(y,d);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(typeof d=="string"){if(b.__isBigInt(y))return d=b.__fromString(d),d!==null&&b.equal(d,y);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(typeof d=="boolean"){if(b.__isBigInt(y))return b.__equalToNumber(y,+d);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(i(d)==="symbol"){if(b.__isBigInt(y))return!1;if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(i(d)==="object"){if(i(y)==="object"&&y.constructor!==b)return d==y;d=b.__toPrimitive(d)}else return d==y}}},{key:"NE",value:function(d,y){return!b.EQ(d,y)}},{key:"DataViewGetBigInt64",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return b.asIntN(64,b.DataViewGetBigUint64(d,y,x))}},{key:"DataViewGetBigUint64",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0&&arguments[2],E=x?[4,0]:[0,4],h=C(E,2),T=h[0],F=h[1],L=d.getUint32(y+T,x),k=d.getUint32(y+F,x),$=new b(3,!1);return $.__setDigit(0,1073741823&k),$.__setDigit(1,(268435455&L)<<2|k>>>30),$.__setDigit(2,L>>>28),$.__trim()}},{key:"DataViewSetBigInt64",value:function(d,y,x){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];b.DataViewSetBigUint64(d,y,x,E)}},{key:"DataViewSetBigUint64",value:function(d,y,x){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];x=b.asUintN(64,x);var h=0,T=0;if(0<x.length&&(T=x.__digit(0),1<x.length)){var F=x.__digit(1);T|=F<<30,h=F>>>2,2<x.length&&(h|=x.__digit(2)<<28)}var L=E?[4,0]:[0,4],k=C(L,2),$=k[0],H=k[1];d.setUint32(y+$,h,E),d.setUint32(y+H,T,E)}},{key:"__zero",value:function(){return new b(0,!1)}},{key:"__oneDigit",value:function(d,y){var x=new b(1,y);return x.__setDigit(0,d),x}},{key:"__decideRounding",value:function(d,y,x,E){if(0<y)return-1;var h;if(0>y)h=-y-1;else{if(x===0)return-1;x--,E=d.__digit(x),h=29}var T=1<<h;if(!(E&T))return-1;if(T-=1,(E&T)!=0)return 1;for(;0<x;)if(x--,d.__digit(x)!==0)return 1;return 0}},{key:"__fromDouble",value:function(d){b.__kBitConversionDouble[0]=d;var y,x=2047&b.__kBitConversionInts[1]>>>20,E=x-1023,h=(0|E/30)+1,T=new b(h,0>d),F=1048575&b.__kBitConversionInts[1]|1048576,L=b.__kBitConversionInts[0],k=20,$=E%30,H=0;if($<k){var q=k-$;H=q+32,y=F>>>q,F=F<<32-q|L>>>q,L<<=32-q}else if($===k)H=32,y=F,F=L,L=0;else{var X=$-k;H=32-X,y=F<<X|L>>>32-X,F=L<<X,L=0}T.__setDigit(h-1,y);for(var te=h-2;0<=te;te--)0<H?(H-=30,y=F>>>2,F=F<<30|L>>>2,L<<=30):y=0,T.__setDigit(te,y);return T.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?d==32:131071>=d?d==160||d==5760:196607>=d?(d&=131071,10>=d||d==40||d==41||d==47||d==95||d==4096):d==65279)}},{key:"__fromString",value:function(d){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,x=0,E=d.length,h=0;if(h===E)return b.__zero();for(var T=d.charCodeAt(h);b.__isWhitespace(T);){if(++h===E)return b.__zero();T=d.charCodeAt(h)}if(T===43){if(++h===E)return null;T=d.charCodeAt(h),x=1}else if(T===45){if(++h===E)return null;T=d.charCodeAt(h),x=-1}if(y===0){if(y=10,T===48){if(++h===E)return b.__zero();if(T=d.charCodeAt(h),T===88||T===120){if(y=16,++h===E)return null;T=d.charCodeAt(h)}else if(T===79||T===111){if(y=8,++h===E)return null;T=d.charCodeAt(h)}else if(T===66||T===98){if(y=2,++h===E)return null;T=d.charCodeAt(h)}}}else if(y===16&&T===48){if(++h===E)return b.__zero();if(T=d.charCodeAt(h),T===88||T===120){if(++h===E)return null;T=d.charCodeAt(h)}}if(x!==0&&y!==10)return null;for(;T===48;){if(++h===E)return b.__zero();T=d.charCodeAt(h)}var F=E-h,L=b.__kMaxBitsPerChar[y],k=b.__kBitsPerCharTableMultiplier-1;if(F>1073741824/L)return null;var $=L*F+k>>>b.__kBitsPerCharTableShift,H=new b(0|($+29)/30,!1),q=10>y?y:10,X=10<y?y-10:0;if(y&y-1){H.__initializeDigits();var de=!1,Y=0;do{for(var J,ie=0,ue=1;;){if(J=void 0,T-48>>>0<q)J=T-48;else if((32|T)-97>>>0<X)J=(32|T)-87;else{de=!0;break}var ye=ue*y;if(1073741823<ye)break;if(ue=ye,ie=ie*y+J,Y++,++h===E){de=!0;break}T=d.charCodeAt(h)}k=30*b.__kBitsPerCharTableMultiplier-1;var ge=0|(L*Y+k>>>b.__kBitsPerCharTableShift)/30;H.__inplaceMultiplyAdd(ue,ie,ge)}while(!de)}else{L>>=b.__kBitsPerCharTableShift;var te=[],re=[],U=!1;do{for(var P,ne=0,fe=0;;){if(P=void 0,T-48>>>0<q)P=T-48;else if((32|T)-97>>>0<X)P=(32|T)-87;else{U=!0;break}if(fe+=L,ne=ne<<L|P,++h===E){U=!0;break}if(T=d.charCodeAt(h),30<fe+L)break}te.push(ne),re.push(fe)}while(!U);b.__fillFromParts(H,te,re)}if(h!==E){if(!b.__isWhitespace(T))return null;for(h++;h<E;h++)if(T=d.charCodeAt(h),!b.__isWhitespace(T))return null}return H.sign=x===-1,H.__trim()}},{key:"__fillFromParts",value:function(d,y,x){for(var E=0,h=0,T=0,F=y.length-1;0<=F;F--){var L=y[F],k=x[F];h|=L<<T,T+=k,T===30?(d.__setDigit(E++,h),T=0,h=0):30<T&&(d.__setDigit(E++,1073741823&h),T-=30,h=L>>>k-T)}if(h!==0){if(E>=d.length)throw new Error("implementation bug");d.__setDigit(E++,h)}for(;E<d.length;E++)d.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,y){var x=d.length,E=y-1;E=(85&E>>>1)+(85&E),E=(51&E>>>2)+(51&E),E=(15&E>>>4)+(15&E);var h=E,T=y-1,F=d.__digit(x-1),L=b.__clz30(F),k=0|(30*x-L+h-1)/h;if(d.sign&&k++,268435456<k)throw new Error("string too long");for(var $=Array(k),H=k-1,q=0,X=0,te=0;te<x-1;te++){var re=d.__digit(te),U=(q|re<<X)&T;$[H--]=b.__kConversionChars[U];var P=h-X;for(q=re>>>P,X=30-P;X>=h;)$[H--]=b.__kConversionChars[q&T],q>>>=h,X-=h}var ne=(q|F<<X)&T;for($[H--]=b.__kConversionChars[ne],q=F>>>h-X;q!==0;)$[H--]=b.__kConversionChars[q&T],q>>>=h;if(d.sign&&($[H--]="-"),H!==-1)throw new Error("implementation bug");return $.join("")}},{key:"__toStringGeneric",value:function(d,y,x){var E=d.length;if(E===0)return"";if(E===1){var h=d.__unsignedDigit(0).toString(y);return x===!1&&d.sign&&(h="-"+h),h}var T=30*E-b.__clz30(d.__digit(E-1)),F=b.__kMaxBitsPerChar[y],L=F-1,k=T*b.__kBitsPerCharTableMultiplier;k+=L-1,k=0|k/L;var $,H,q=k+1>>1,X=b.exponentiate(b.__oneDigit(y,!1),b.__oneDigit(q,!1)),te=X.__unsignedDigit(0);if(X.length===1&&32767>=te){$=new b(d.length,!1),$.__initializeDigits();for(var re,U=0,P=2*d.length-1;0<=P;P--)re=U<<15|d.__halfDigit(P),$.__setHalfDigit(P,0|re/te),U=0|re%te;H=U.toString(y)}else{var ne=b.__absoluteDivLarge(d,X,!0,!0);$=ne.quotient;var fe=ne.remainder.__trim();H=b.__toStringGeneric(fe,y,!0)}$.__trim();for(var de=b.__toStringGeneric($,y,!0);H.length<q;)H="0"+H;return x===!1&&d.sign&&(de="-"+de),de+H}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,y){var x=d.sign;if(x!==y.sign)return b.__unequalSign(x);var E=b.__absoluteCompare(d,y);return 0<E?b.__absoluteGreater(x):0>E?b.__absoluteLess(x):0}},{key:"__compareToNumber",value:function(d,y){if(b.__isOneDigitInt(y)){var x=d.sign,E=0>y;if(x!==E)return b.__unequalSign(x);if(d.length===0){if(E)throw new Error("implementation bug");return y===0?0:-1}if(1<d.length)return b.__absoluteGreater(x);var h=R(y),T=d.__unsignedDigit(0);return T>h?b.__absoluteGreater(x):T<h?b.__absoluteLess(x):0}return b.__compareToDouble(d,y)}},{key:"__compareToDouble",value:function(d,y){if(y!==y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var x=d.sign;if(x!==0>y)return b.__unequalSign(x);if(y===0)throw new Error("implementation bug: should be handled elsewhere");if(d.length===0)return-1;b.__kBitConversionDouble[0]=y;var E=2047&b.__kBitConversionInts[1]>>>20;if(E==2047)throw new Error("implementation bug: handled elsewhere");var h=E-1023;if(0>h)return b.__absoluteGreater(x);var T=d.length,F=d.__digit(T-1),L=b.__clz30(F),k=30*T-L,$=h+1;if(k<$)return b.__absoluteLess(x);if(k>$)return b.__absoluteGreater(x);var H=1048576|1048575&b.__kBitConversionInts[1],q=b.__kBitConversionInts[0],X=20,te=29-L;if(te!==(0|(k-1)%30))throw new Error("implementation bug");var re,U=0;if(te<X){var P=X-te;U=P+32,re=H>>>P,H=H<<32-P|q>>>P,q<<=32-P}else if(te===X)U=32,re=H,H=q,q=0;else{var ne=te-X;U=32-ne,re=H<<ne|q>>>32-ne,H=q<<ne,q=0}if(F>>>=0,re>>>=0,F>re)return b.__absoluteGreater(x);if(F<re)return b.__absoluteLess(x);for(var fe=T-2;0<=fe;fe--){0<U?(U-=30,re=H>>>2,H=H<<30|q>>>2,q<<=30):re=0;var de=d.__unsignedDigit(fe);if(de>re)return b.__absoluteGreater(x);if(de<re)return b.__absoluteLess(x)}if(H!==0||q!==0){if(U===0)throw new Error("implementation bug");return b.__absoluteLess(x)}return 0}},{key:"__equalToNumber",value:function(d,y){return b.__isOneDigitInt(y)?y===0?d.length===0:d.length===1&&d.sign===0>y&&d.__unsignedDigit(0)===R(y):b.__compareToDouble(d,y)===0}},{key:"__comparisonResultToBool",value:function(d,y){return y===0?0>d:y===1?0>=d:y===2?0<d:y===3?0<=d:void 0}},{key:"__compare",value:function(d,y,x){if(d=b.__toPrimitive(d),y=b.__toPrimitive(y),typeof d=="string"&&typeof y=="string")switch(x){case 0:return d<y;case 1:return d<=y;case 2:return d>y;case 3:return d>=y}if(b.__isBigInt(d)&&typeof y=="string")return y=b.__fromString(y),y!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,y),x);if(typeof d=="string"&&b.__isBigInt(y))return d=b.__fromString(d),d!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,y),x);if(d=b.__toNumeric(d),y=b.__toNumeric(y),b.__isBigInt(d)){if(b.__isBigInt(y))return b.__comparisonResultToBool(b.__compareToBigInt(d,y),x);if(typeof y!="number")throw new Error("implementation bug");return b.__comparisonResultToBool(b.__compareToNumber(d,y),x)}if(typeof d!="number")throw new Error("implementation bug");if(b.__isBigInt(y))return b.__comparisonResultToBool(b.__compareToNumber(y,d),2^x);if(typeof y!="number")throw new Error("implementation bug");return x===0?d<y:x===1?d<=y:x===2?d>y:x===3?d>=y:void 0}},{key:"__absoluteAdd",value:function(d,y,x){if(d.length<y.length)return b.__absoluteAdd(y,d,x);if(d.length===0)return d;if(y.length===0)return d.sign===x?d:b.unaryMinus(d);var E=d.length;(d.__clzmsd()===0||y.length===d.length&&y.__clzmsd()===0)&&E++;for(var h,T=new b(E,x),F=0,L=0;L<y.length;L++)h=d.__digit(L)+y.__digit(L)+F,F=h>>>30,T.__setDigit(L,1073741823&h);for(;L<d.length;L++){var k=d.__digit(L)+F;F=k>>>30,T.__setDigit(L,1073741823&k)}return L<T.length&&T.__setDigit(L,F),T.__trim()}},{key:"__absoluteSub",value:function(d,y,x){if(d.length===0)return d;if(y.length===0)return d.sign===x?d:b.unaryMinus(d);for(var E,h=new b(d.length,x),T=0,F=0;F<y.length;F++)E=d.__digit(F)-y.__digit(F)-T,T=1&E>>>30,h.__setDigit(F,1073741823&E);for(;F<d.length;F++){var L=d.__digit(F)-T;T=1&L>>>30,h.__setDigit(F,1073741823&L)}return h.__trim()}},{key:"__absoluteAddOne",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length;x===null?x=new b(E,y):x.sign=y;for(var h,T=1,F=0;F<E;F++)h=d.__digit(F)+T,T=h>>>30,x.__setDigit(F,1073741823&h);return T!==0&&x.__setDigitGrow(E,1),x}},{key:"__absoluteSubOne",value:function(d,y){var x=d.length;y=y||x;for(var E,h=new b(y,!1),T=1,F=0;F<x;F++)E=d.__digit(F)-T,T=1&E>>>30,h.__setDigit(F,1073741823&E);if(T!==0)throw new Error("implementation bug");for(var L=x;L<y;L++)h.__setDigit(L,0);return h}},{key:"__absoluteAnd",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=y.length,T=h;if(E<h){T=E;var F=d,L=E;d=y,E=h,y=F,h=L}var k=T;x===null?x=new b(k,!1):k=x.length;for(var $=0;$<T;$++)x.__setDigit($,d.__digit($)&y.__digit($));for(;$<k;$++)x.__setDigit($,0);return x}},{key:"__absoluteAndNot",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=y.length,T=h;E<h&&(T=E);var F=E;x===null?x=new b(F,!1):F=x.length;for(var L=0;L<T;L++)x.__setDigit(L,d.__digit(L)&~y.__digit(L));for(;L<E;L++)x.__setDigit(L,d.__digit(L));for(;L<F;L++)x.__setDigit(L,0);return x}},{key:"__absoluteOr",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=y.length,T=h;if(E<h){T=E;var F=d,L=E;d=y,E=h,y=F,h=L}var k=E;x===null?x=new b(k,!1):k=x.length;for(var $=0;$<T;$++)x.__setDigit($,d.__digit($)|y.__digit($));for(;$<E;$++)x.__setDigit($,d.__digit($));for(;$<k;$++)x.__setDigit($,0);return x}},{key:"__absoluteXor",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,h=y.length,T=h;if(E<h){T=E;var F=d,L=E;d=y,E=h,y=F,h=L}var k=E;x===null?x=new b(k,!1):k=x.length;for(var $=0;$<T;$++)x.__setDigit($,d.__digit($)^y.__digit($));for(;$<E;$++)x.__setDigit($,d.__digit($));for(;$<k;$++)x.__setDigit($,0);return x}},{key:"__absoluteCompare",value:function(d,y){var x=d.length-y.length;if(x!=0)return x;for(var E=d.length-1;0<=E&&d.__digit(E)===y.__digit(E);)E--;return 0>E?0:d.__unsignedDigit(E)>y.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(d,y,x,E){if(y!==0){for(var h=32767&y,T=y>>>15,F=0,L=0,k=0;k<d.length;k++,E++){var $=x.__digit(E),H=d.__digit(k),q=32767&H,X=H>>>15,te=b.__imul(q,h),re=b.__imul(q,T),U=b.__imul(X,h),P=b.__imul(X,T);$+=L+te+F,F=$>>>30,$&=1073741823,$+=((32767&re)<<15)+((32767&U)<<15),F+=$>>>30,L=P+(re>>>15)+(U>>>15),x.__setDigit(E,1073741823&$)}for(;F!==0||L!==0;E++){var ne=x.__digit(E);ne+=F+L,L=0,F=ne>>>30,x.__setDigit(E,1073741823&ne)}}}},{key:"__internalMultiplyAdd",value:function(d,y,x,E,h){for(var T=x,F=0,L=0;L<E;L++){var k=d.__digit(L),$=b.__imul(32767&k,y),H=b.__imul(k>>>15,y),q=$+((32767&H)<<15)+F+T;T=q>>>30,F=H>>>15,h.__setDigit(L,1073741823&q)}if(h.length>E)for(h.__setDigit(E++,T+F);E<h.length;)h.__setDigit(E++,0);else if(T+F!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;x===null&&(x=new b(d.length,!1));for(var E=0,h=2*d.length-1;0<=h;h-=2){var T=(E<<15|d.__halfDigit(h))>>>0,F=0|T/y;E=0|T%y,T=(E<<15|d.__halfDigit(h-1))>>>0;var L=0|T/y;E=0|T%y,x.__setDigit(h>>>1,F<<15|L)}return x}},{key:"__absoluteModSmall",value:function(d,y){for(var x,E=0,h=2*d.length-1;0<=h;h--)x=(E<<15|d.__halfDigit(h))>>>0,E=0|x%y;return E}},{key:"__absoluteDivLarge",value:function(d,y,x,E){var h=y.__halfDigitLength(),T=y.length,F=d.__halfDigitLength()-h,L=null;x&&(L=new b(F+2>>>1,!1),L.__initializeDigits());var k=new b(h+2>>>1,!1);k.__initializeDigits();var $=b.__clz15(y.__halfDigit(h-1));0<$&&(y=b.__specialLeftShift(y,$,0));for(var H=b.__specialLeftShift(d,$,1),q=y.__halfDigit(h-1),X=0,te=F;0<=te;te--){var re=32767,U=H.__halfDigit(te+h);if(U!==q){var P=(U<<15|H.__halfDigit(te+h-1))>>>0;re=0|P/q;for(var ne=0|P%q,fe=y.__halfDigit(h-2),de=H.__halfDigit(te+h-2);b.__imul(re,fe)>>>0>(ne<<16|de)>>>0&&(re--,ne+=q,!(32767<ne)););}b.__internalMultiplyAdd(y,re,0,T,k);var Y=H.__inplaceSub(k,te,h+1);Y!==0&&(Y=H.__inplaceAdd(y,te,h),H.__setHalfDigit(te+h,32767&H.__halfDigit(te+h)+Y),re--),x&&(1&te?X=re<<15:L.__setDigit(te>>>1,X|re))}if(E)return H.__inplaceRightShift($),x?{quotient:L,remainder:H}:H;if(x)return L;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return b.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,y,x){var E=d.length,h=new b(E+x,!1);if(y===0){for(var T=0;T<E;T++)h.__setDigit(T,d.__digit(T));return 0<x&&h.__setDigit(E,0),h}for(var F,L=0,k=0;k<E;k++)F=d.__digit(k),h.__setDigit(k,1073741823&F<<y|L),L=F>>>30-y;return 0<x&&h.__setDigit(E,L),h}},{key:"__leftShiftByAbsolute",value:function(d,y){var x=b.__toShiftAmount(y);if(0>x)throw new RangeError("BigInt too big");var E=0|x/30,h=x%30,T=d.length,F=h!==0&&d.__digit(T-1)>>>30-h!=0,L=T+E+(F?1:0),k=new b(L,d.sign);if(h===0){for(var $=0;$<E;$++)k.__setDigit($,0);for(;$<L;$++)k.__setDigit($,d.__digit($-E))}else{for(var H=0,q=0;q<E;q++)k.__setDigit(q,0);for(var X,te=0;te<T;te++)X=d.__digit(te),k.__setDigit(te+E,1073741823&X<<h|H),H=X>>>30-h;if(F)k.__setDigit(T+E,H);else if(H!==0)throw new Error("implementation bug")}return k.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,y){var x=d.length,E=d.sign,h=b.__toShiftAmount(y);if(0>h)return b.__rightShiftByMaximum(E);var T=0|h/30,F=h%30,L=x-T;if(0>=L)return b.__rightShiftByMaximum(E);var k=!1;if(E){if(d.__digit(T)&(1<<F)-1)k=!0;else for(var $=0;$<T;$++)if(d.__digit($)!==0){k=!0;break}}if(k&&F===0){var H=d.__digit(x-1);!~H&&L++}var q=new b(L,E);if(F===0){q.__setDigit(L-1,0);for(var X=T;X<x;X++)q.__setDigit(X-T,d.__digit(X))}else{for(var te,re=d.__digit(T)>>>F,U=x-T-1,P=0;P<U;P++)te=d.__digit(P+T+1),q.__setDigit(P,1073741823&te<<30-F|re),re=te>>>F;q.__setDigit(U,re)}return k&&(q=b.__absoluteAddOne(q,!0,q)),q.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?b.__oneDigit(1,!0):b.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var y=d.__unsignedDigit(0);return y>b.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(d){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(i(d)!=="object"||d.constructor===b)return d;if(typeof Symbol<"u"&&i(Symbol.toPrimitive)==="symbol"){var x=d[Symbol.toPrimitive];if(x){var E=x(y);if(i(E)!=="object")return E;throw new TypeError("Cannot convert object to primitive value")}}var h=d.valueOf;if(h){var T=h.call(d);if(i(T)!=="object")return T}var F=d.toString;if(F){var L=F.call(d);if(i(L)!=="object")return L}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return b.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return i(d)==="object"&&d!==null&&d.constructor===b}},{key:"__truncateToNBits",value:function(d,y){for(var x=0|(d+29)/30,E=new b(x,y.sign),h=x-1,T=0;T<h;T++)E.__setDigit(T,y.__digit(T));var F=y.__digit(h);if(d%30!=0){var L=32-d%30;F=F<<L>>>L}return E.__setDigit(h,F),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,y,x){for(var E=Math.min,h,T=0|(d+29)/30,F=new b(T,x),L=0,k=T-1,$=0,H=E(k,y.length);L<H;L++)h=0-y.__digit(L)-$,$=1&h>>>30,F.__setDigit(L,1073741823&h);for(;L<k;L++)F.__setDigit(L,0|1073741823&-$);var q,X=k<y.length?y.__digit(k):0,te=d%30;if(te===0)q=0-X-$,q&=1073741823;else{var re=32-te;X=X<<re>>>re;var U=1<<32-re;q=U-X-$,q&=U-1}return F.__setDigit(k,q),F.__trim()}},{key:"__digitPow",value:function(d,y){for(var x=1;0<y;)1&y&&(x*=d),y>>>=1,d*=d;return x}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),b}(m(Array));return G.__kMaxLength=33554432,G.__kMaxLengthBits=G.__kMaxLength<<5,G.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],G.__kBitsPerCharTableShift=5,G.__kBitsPerCharTableMultiplier=1<<G.__kBitsPerCharTableShift,G.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],G.__kBitConversionBuffer=new ArrayBuffer(8),G.__kBitConversionDouble=new Float64Array(G.__kBitConversionBuffer),G.__kBitConversionInts=new Int32Array(G.__kBitConversionBuffer),G.__clz30=n?function(W){return n(W)-2}:function(W){var R=Math.LN2,_=Math.log;return W===0?30:0|29-(0|_(W>>>0)/R)},G.__imul=r||function(W,R){return 0|W*R},G})})(xT);var pz=xT.exports;Object.defineProperty(wt,"__esModule",{value:!0});wt.ckbDecimals=wt.BI=void 0;wt.formatUnit=vz;wt.isBIish=ST;wt.parseUnit=_z;wt.toJSBI=dt;var Xe=bz(pz);function bz(t){return t&&t.__esModule?t:{default:t}}function ST(t){return t!==null&&(typeof t=="number"&&t%1===0||typeof t=="string"&&(!!t.match(/^0x(0|[0-9a-fA-F]+)$/)||!!t.match(/^-?[0-9]+$/))||typeof t=="bigint"||jo.isBI(t))}class jo{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return Or(Xe.default.add(this.jsbi,dt(e)))}sub(e){return Or(Xe.default.subtract(this.jsbi,dt(e)))}div(e){return Or(Xe.default.divide(this.jsbi,dt(e)))}mul(e){return Or(Xe.default.multiply(this.jsbi,dt(e)))}mod(e){return Or(Xe.default.remainder(this.jsbi,dt(e)))}abs(){return Xe.default.greaterThanOrEqual(this.jsbi,dt(0))?Or(this.jsbi):Or(Xe.default.unaryMinus(this.jsbi))}pow(e){return Or(Xe.default.exponentiate(this.jsbi,dt(e)))}and(e){return Or(Xe.default.bitwiseAnd(this.jsbi,dt(e)))}or(e){return Or(Xe.default.bitwiseOr(this.jsbi,dt(e)))}xor(e){return Or(Xe.default.bitwiseXor(this.jsbi,dt(e)))}not(){return Or(Xe.default.bitwiseNot(this.jsbi))}mask(e){const r=dt(e);if(Xe.default.lessThan(r,dt(0))||Xe.default.lessThan(this.jsbi,dt(0)))throw new Error("mask works only with positive numbers");const n=dt(this.jsbi.toString(2).length);if(Xe.default.lessThanOrEqual(n,r))return Or(this.jsbi);{const i=Xe.default.leftShift(Xe.default.signedRightShift(this.jsbi,r),r);return Or(Xe.default.bitwiseXor(this.jsbi,i))}}shl(e){return Or(Xe.default.leftShift(this.jsbi,dt(e)))}shr(e){return Or(Xe.default.signedRightShift(this.jsbi,dt(e)))}eq(e){return Xe.default.equal(this.jsbi,dt(e))}lt(e){return Xe.default.lessThan(this.jsbi,dt(e))}lte(e){return Xe.default.lessThanOrEqual(this.jsbi,dt(e))}gt(e){return Xe.default.greaterThan(this.jsbi,dt(e))}gte(e){return Xe.default.greaterThanOrEqual(this.jsbi,dt(e))}isNegative(){return Xe.default.lessThan(this.jsbi,dt(0))}isZero(){return Xe.default.equal(this.jsbi,dt(0))}toNumber(){return Xe.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch{throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return Xe.default.lessThan(this.jsbi,dt(0))?"-0x"+Xe.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof jo)return e;if(ST(e))return Or(dt(e));if(e instanceof Xe.default)return Or(dt(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return gz(e)&&!!e._isBI}}wt.BI=jo;function gz(t){return t==null?!1:typeof t=="object"}function Or(t){return new jo(t)}function dt(t){return typeof t=="number"||typeof t=="string"?Xe.default.BigInt(t):Xe.default.BigInt(t.toString())}const I9=["shannon","ckb"],yz=wt.ckbDecimals=8,IT=jo.from(-1);function vz(t,e){const r=CT(e);return mz(t,r)}function _z(t,e){const r=CT(e);return wz(t,r)}function mz(t,e){if(!X4(e))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(e).fill("0").join("");t=jo.from(t);const n=t.isNegative();n&&(t=t.mul(IT));let a=t.div(r).toString();if(r.length>1){let s=t.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1],a+="."+s}return n&&(a="-"+a),a}function wz(t,e){if(!X4(e))throw new Error("decimal size must be a non-negative integer");if(!t.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(e).fill("0").join(""),n=t.substring(0,1)==="-";n&&(t=t.substring(1));let i,a;const s=t.split(".");if(s.length===1)i=s[0],a="0";else if(s.length===2)i=s[0],a=s[1];else throw new Error("too many decimal points (should not happen)");for(;i.length>0&&i[0]==="0";)i=i.substring(1);for(i===""&&(i="0");a.length>0&&a[a.length-1]==="0";)a=a.substring(0,a.length-1);if(a.length>r.length-1)throw new Error("decimal part exceeds max decimals");for(a===""&&(a="0");a.length<r.length-1;)a+="0";const o=jo.from(i),f=jo.from(a);let c=o.mul(r).add(f);return n&&(c=c.mul(IT)),c}function CT(t){let e=0;if(typeof t=="string"){if(I9.indexOf(t)===-1)throw new Error(`invalid unit name, supported names are ${I9.join(", ")}`);t==="ckb"&&(e=yz)}else if(X4(t))e=t;else throw new Error("unit of integer must be a non-negative integer");return e}function X4(t){return Number.isInteger(t)&&t>=0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return e.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return e.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var e=wt,r=Go,n=ya;function i(g,m,A,S){if(g=e.BI.from(g),g.lt(m)||g.gt(A))throw new n.CodecBaseParseError(`Value must be between ${m.toString()} and ${A.toString()}, but got ${g.toString()}`,S)}function a(g,m=!1){const A=s(g,m);return{__isFixedCodec__:!0,byteLength:g,pack:S=>A.pack(S),unpack:S=>A.unpack(S).toNumber()}}const s=(g,m=!1)=>{const A=e.BI.from(1).shl(g*8).sub(1);return(0,r.createFixedBytesCodec)({byteLength:g,pack(S){let w=m?"LE":"BE";g<=1&&(w="");const C=`Uint${g*8}${w}`;if(typeof S=="number"&&!Number.isSafeInteger(S))throw new n.CodecBaseParseError(`${S} is not a safe integer`,C);let O=e.BI.from(S);i(O,0,A,C);const M=new DataView(new ArrayBuffer(g));for(let N=0;N<g;N++)m?M.setUint8(N,O.and(255).toNumber()):M.setUint8(g-N-1,O.and(255).toNumber()),O=O.shr(8);return new Uint8Array(M.buffer)},unpack:S=>{const w=new DataView(Uint8Array.from(S).buffer);let C=e.BI.from(0);for(let O=0;O<g;O++)m?C=C.or(e.BI.from(w.getUint8(O)).shl(O*8)):C=C.shl(8).or(w.getUint8(O));return C}})};t.Uint8=a(1);const o=t.Uint16LE=a(2,!0);t.Uint16BE=a(2),t.Uint16=o;const f=t.Uint32LE=a(4,!0);t.Uint32BE=a(4),t.Uint32=f;const c=t.Uint64LE=s(8,!0);t.Uint64BE=s(8),t.Uint64=c;const u=t.Uint128LE=s(16,!0);t.Uint128BE=s(16),t.Uint128=u;const l=t.Uint256LE=s(32,!0);t.Uint256BE=s(32),t.Uint256=l;const p=t.Uint512LE=s(64,!0);t.Uint512BE=s(64),t.Uint512=p})(zo);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=zo;Object.keys(e).forEach(function(r){r==="default"||r==="__esModule"||r in t&&t[r]===e[r]||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})})(i0);var l1={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});d1.byteArrayOf=OT;d1.byteOf=Ez;d1.byteVecOf=xz;var C9=Ia,Az=Ca,TT=Go,T9=i0;function OT(t){const e=t.byteLength;return(0,TT.createFixedBytesCodec)({byteLength:e,pack:r=>t.pack(r),unpack:r=>t.unpack(r)})}function Ez(t){return OT({...t,byteLength:1})}function xz(t){return(0,TT.createBytesCodec)({pack(e){const r=t.pack(e),n=T9.Uint32LE.pack(r.byteLength);return(0,Az.concat)(n,r)},unpack(e){(0,C9.assertMinBufferLength)(e,4);const r=T9.Uint32LE.unpack(e.slice(0,4));return(0,C9.assertBufferLength)(e.slice(4),r),t.unpack(e.slice(4))}})}var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.array=BT;Gs.dynvec=MT;Gs.fixvec=DT;Gs.option=Oz;Gs.struct=Sz;Gs.table=Cz;Gs.union=Tz;Gs.vector=Iz;var _c=Go,Si=i0,ts=Ca,O9=ya,a0=G4;function BT(t,e){const r=(0,a0.createArrayCodec)(t);return(0,_c.createFixedBytesCodec)({byteLength:t.byteLength*e,pack(n){const i=r.pack(n);return(0,ts.concat)(...i)},unpack(n){const i=[],a=t.byteLength;for(let s=0;s<n.byteLength;s+=a)i.push(t.unpack(n.slice(s,s+a)));return i}})}function B9(t,e){return t.filter(r=>!e.includes(r))}function Z4(t,e){const r=Object.keys(t),n=B9(r,e),i=B9(e,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function Sz(t,e){Z4(t,e);const r=(0,a0.createObjectCodec)(t);return(0,_c.createFixedBytesCodec)({byteLength:e.reduce((n,i)=>n+t[i].byteLength,0),pack(n){const i=r.pack(n);return e.reduce((a,s)=>(0,ts.concat)(a,i[s]),Uint8Array.from([]))},unpack(n){const i={};let a=0;return e.forEach(s=>{const o=t[s],f=n.slice(a,a+o.byteLength);Object.assign(i,{[s]:o.unpack(f)}),a=a+o.byteLength}),i}})}function DT(t){return(0,_c.createBytesCodec)({pack(e){const r=(0,a0.createArrayCodec)(t);return(0,ts.concat)(Si.Uint32LE.pack(e.length),r.pack(e).reduce((n,i)=>(0,ts.concat)(n,i),new ArrayBuffer(0)))},unpack(e){if(e.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${e.byteLength}`);const r=Si.Uint32LE.unpack(e.slice(0,4));return BT(t,r).unpack(e.slice(4))}})}function MT(t){return(0,_c.createBytesCodec)({pack(e){const n=(0,a0.createArrayCodec)(t).pack(e).reduce((a,s)=>{const o=Si.Uint32LE.pack(a.offset);return{header:(0,ts.concat)(a.header,o),body:(0,ts.concat)(a.body,s),offset:a.offset+s.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+e.length*4}),i=Si.Uint32LE.pack(n.header.byteLength+n.body.byteLength+4);return(0,ts.concat)(i,n.header,n.body)},unpack(e){const r=Si.Uint32LE.unpack(e.slice(0,4));if(r!==e.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${e.byteLength}`);const n=[];if(r<=4)return n;{const a=(Si.Uint32LE.unpack(e.slice(4,8))-4)/4,s=new Array(a).fill(1).map((f,c)=>Si.Uint32LE.unpack(e.slice(4+c*4,8+c*4)));s.push(r);const o=[];for(let f=0;f<s.length-1;f++){const c=s[f],u=s[f+1],l=e.slice(c,u);o.push(t.unpack(l))}return o}}})}function Iz(t){return(0,_c.isFixedCodec)(t)?DT(t):MT(t)}function Cz(t,e){return Z4(t,e),(0,_c.createBytesCodec)({pack(r){const n=4+e.length*4,a=(0,a0.createObjectCodec)(t).pack(r),s=e.reduce((f,c)=>{const u=a[c],l=Si.Uint32LE.pack(f.offset);return{header:(0,ts.concat)(f.header,l),body:(0,ts.concat)(f.body,u),offset:f.offset+u.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),o=Si.Uint32LE.pack(s.header.byteLength+s.body.byteLength+4);return(0,ts.concat)(o,s.header,s.body)},unpack(r){const n=Si.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||e.length===0)return{};{const i=e.map((s,o)=>Si.Uint32LE.unpack(r.slice(4+o*4,8+o*4)));i.push(n);const a={};for(let s=0;s<i.length-1;s++){const o=i[s],f=i[s+1],c=e[s],u=t[c],l=r.slice(o,f);Object.assign(a,{[c]:u.unpack(l)})}return a}}})}function Tz(t,e){if(Z4(t,Array.isArray(e)?e:Object.keys(e)),!Array.isArray(e)){const r=Object.values(e);if(r.length!==new Set(r).size)throw new Error(`Duplicated id in union: ${r.join(", ")}`)}return(0,_c.createBytesCodec)({pack(r){const n=Object.keys(t),i=r.type,a=`Union(${n.join(" | ")})`;if(typeof i!="string")throw new O9.CodecBaseParseError("Invalid type in union, type must be a string",a);const s=Array.isArray(e)?e.indexOf(i):e[i];if(s<0)throw new O9.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,a);const o=Si.Uint32LE.pack(s),f=t[i].pack(r.value);return(0,ts.concat)(o,f)},unpack(r){const n=Si.Uint32LE.unpack(r.slice(0,4)),i=(()=>{if(Array.isArray(e))return e[n];const a=Object.entries(e).find(([,s])=>s===n);return a==null?void 0:a[0]})();if(!i)throw new Error(`Unknown union field id: ${n}, only ${e} are allowed`);return{type:i,value:t[i].unpack(r.slice(4))}}})}function Oz(t){return(0,_c.createBytesCodec)({pack(e){const r=(0,a0.createNullableCodec)(t);return e!=null?r.pack(e):Uint8Array.from([])},unpack(e){if(e.byteLength!==0)return t.unpack(e)}})}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return r.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return e.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return e.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return e.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return r.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return r.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return r.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return r.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return r.vector}});var e=d1,r=Gs})(l1);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return r.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return r.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return r.isFixedCodec}}),t.number=t.molecule=void 0;var r=Go,n=G4;Object.keys(n).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(e,c)||c in t&&t[c]===n[c]||Object.defineProperty(t,c,{enumerable:!0,get:function(){return n[c]}})});var i=f(Ca);t.bytes=i;var a=f(i0);t.number=a;var s=f(l1);t.molecule=s;function o(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,l=new WeakMap;return(o=function(p){return p?l:u})(c)}function f(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var l=o(u);if(l&&l.has(c))return l.get(c);var p={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in c)if(m!=="default"&&{}.hasOwnProperty.call(c,m)){var A=g?Object.getOwnPropertyDescriptor(c,m):null;A&&(A.get||A.set)?Object.defineProperty(p,m,A):p[m]=c[m]}return p.default=c,l&&l.set(c,p),p}})(st);var Ir={},Wa={},J4={},e8={},RT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(i){const a=[],s=new Array(4),o=[0,192,224,240],f=[127,63,63,63],c=[0,128,128,128];for(const u of i){const l=s,p=u.codePointAt(0),g=0-(-(p&4294967168)>>31)-(-(p&4294965248)>>31)-(-(p&4294901760)>>31),m=f[g],A=c[g];l[3]=A|p&m,l[2]=A|p>>>6&m,l[1]=A|p>>>12&m,l[0]=A|p>>>18&m;const S=3-g;l[S]|=o[g],Array.prototype.push.apply(a,l.slice(S))}return new Uint8Array(a)}t.toUtf8_1=e;function r(i){const a=[];for(const s of i){const o=s.codePointAt(0);o<128?a.push(o):o<2048?a.push(192|o>>6&31,128|o&63):o<65536?a.push(224|o>>12&15,128|o>>6&63,128|o&63):a.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}return new Uint8Array(a)}t.toUtf8_2=r;function n(i){const a=[];for(let s=0,o=i.length;s<o;++s){const f=i.charCodeAt(s);if(f<128)a.push(f);else if(f<2048)a.push(192|f>>6,128|f&63);else if(f<55296||f>=57344)a.push(224|f>>12,128|f>>6&63,128|f&63);else{let c=65536+((f&1023)<<10|i.charCodeAt(++s)&1023);a.push(240|c>>18&7,128|c>>12&63,128|c>>6&63,128|c&63)}}return new Uint8Array(a)}t.toUtf8_3=n,t.toUtf8=n,t.default=t.toUtf8})(RT);Object.defineProperty(e8,"__esModule",{value:!0});const Bz=RT,tl=2654435761,rl=2246822519,Rb=3266489917,D9=668265263,M9=374761393;function Dz(t,e=0){t=typeof t=="string"?Bz.default(t):t;const r=t;let n=e+M9&4294967295,i=0;if(r.length>=16){const s=[e+tl+rl&4294967295,e+rl&4294967295,e+0&4294967295,e-tl&4294967295],o=t,f=o.length-16;let c=0;for(i=0;(i&4294967280)<=f;i+=4){const u=i,l=o[u+0]+(o[u+1]<<8),p=o[u+2]+(o[u+3]<<8),g=l*rl+(p*rl<<16);let m=s[c]+g&4294967295;m=m<<13|m>>>19;const A=m&65535,S=m>>>16;s[c]=A*tl+(S*tl<<16)&4294967295,c=c+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+t.length&4294967295;let a=t.length-4;for(;i<=a;i+=4){const s=i,o=r[s+0]+(r[s+1]<<8),f=r[s+2]+(r[s+3]<<8),c=o*Rb+(f*Rb<<16);n=n+c&4294967295,n=n<<17|n>>>15,n=(n&65535)*D9+((n>>>16)*D9<<16)&4294967295}for(;i<r.length;++i){const s=r[i];n=n+s*M9,n=n<<11|n>>>21,n=(n&65535)*tl+((n>>>16)*tl<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*rl&4294967295)+((n>>>16)*rl<<16),n=n^n>>>13,n=((n&65535)*Rb&4294967295)+((n>>>16)*Rb<<16),n=n^n>>>16,n<0?n+4294967296:n}e8.xxHash32=Dz;(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(e8)})(J4);var St={},Yn={exports:{}},LT=PT;class HT extends Error{}HT.prototype.name="AssertionError";function PT(t,e){if(!t){var r=new HT(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,PT),r}}var Ws={exports:{}},G3={exports:{}};function NT(t){return t.length}function Mz(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}function Rz(t,e,r=0,n=NT(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++)t[r+a]=e.charCodeAt(a);return i}var Lz={byteLength:NT,toString:Mz,write:Rz};const Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yc=new Uint8Array(256);for(let t=0;t<Sl.length;t++)Yc[Sl.charCodeAt(t)]=t;Yc[45]=62;Yc[95]=63;function UT(t){let e=t.length;return t.charCodeAt(e-1)===61&&e--,e>1&&t.charCodeAt(e-1)===61&&e--,e*3>>>2}function Hz(t){const e=t.byteLength;let r="";for(let n=0;n<e;n+=3)r+=Sl[t[n]>>2]+Sl[(t[n]&3)<<4|t[n+1]>>4]+Sl[(t[n+1]&15)<<2|t[n+2]>>6]+Sl[t[n+2]&63];return e%3===2?r=r.substring(0,r.length-1)+"=":e%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function Pz(t,e,r=0,n=UT(e)){const i=Math.min(n,t.byteLength-r);for(let a=0,s=0;s<i;a+=4){const o=Yc[e.charCodeAt(a)],f=Yc[e.charCodeAt(a+1)],c=Yc[e.charCodeAt(a+2)],u=Yc[e.charCodeAt(a+3)];t[s++]=o<<2|f>>4,t[s++]=(f&15)<<4|c>>2,t[s++]=(c&3)<<6|u&63}return i}var Nz={byteLength:UT,toString:Hz,write:Pz};function kT(t){return t.length>>>1}function Uz(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let i=e-e%4;n<i;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r}function kz(t,e,r=0,n=kT(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++){const s=R9(e.charCodeAt(a*2)),o=R9(e.charCodeAt(a*2+1));if(s===void 0||o===void 0)return t.subarray(0,a);t[r+a]=s<<4|o}return i}var zz={byteLength:kT,toString:Uz,write:kz};function R9(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10}function W3(t){let e=0;for(let r=0,n=t.length;r<n;r++){const i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const a=t.charCodeAt(r+1);if(a>=56320&&a<=57343){e+=4,r++;continue}}i<=127?e+=1:i<=2047?e+=2:e+=3}return e}let X3;if(typeof TextDecoder<"u"){const t=new TextDecoder;X3=function(r){return t.decode(r)}}else X3=function(e){const r=e.byteLength;let n="",i=0;for(;i<r;){let a=e[i];if(a<=127){n+=String.fromCharCode(a),i++;continue}let s=0,o=0;if(a<=223?(s=1,o=a&31):a<=239?(s=2,o=a&15):a<=244&&(s=3,o=a&7),r-i-s>0){let f=0;for(;f<s;)a=e[i+f+1],o=o<<6|a&63,f+=1}else o=65533,s=r-i;n+=String.fromCodePoint(o),i+=s+1}return n};let Z3;if(typeof TextEncoder<"u"){const t=new TextEncoder;Z3=function(r,n,i=0,a=W3(n)){const s=Math.min(a,r.byteLength-i);return t.encodeInto(n,r.subarray(i,i+s)),s}}else Z3=function(e,r,n=0,i=W3(r)){const a=Math.min(i,e.byteLength-n);e=e.subarray(n,n+a);let s=0,o=0;for(;s<r.length;){const f=r.codePointAt(s);if(f<=127){e[o++]=f,s++;continue}let c=0,u=0;for(f<=2047?(c=6,u=192):f<=65535?(c=12,u=224):f<=2097151&&(c=18,u=240),e[o++]=u|f>>c,c-=6;c>=0;)e[o++]=128|f>>c&63,c-=6;s+=f>=65536?2:1}return a};var jz={byteLength:W3,toString:X3,write:Z3};function zT(t){return t.length*2}function Fz(t){const e=t.byteLength;let r="";for(let n=0;n<e-1;n+=2)r+=String.fromCharCode(t[n]+t[n+1]*256);return r}function $z(t,e,r=0,n=zT(e)){const i=Math.min(n,t.byteLength-r);let a=i;for(let s=0;s<e.length&&!((a-=2)<0);++s){const o=e.charCodeAt(s),f=o>>8,c=o%256;t[r+s*2]=c,t[r+s*2+1]=f}return i}var qz={byteLength:zT,toString:Fz,write:$z};(function(t,e){const r=Lz,n=Nz,i=zz,a=jz,s=qz,o=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function f(Y){switch(Y){case"ascii":return r;case"base64":return n;case"hex":return i;case"utf8":case"utf-8":case void 0:case null:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${Y}`)}}function c(Y){return Y instanceof Uint8Array}function u(Y){try{return f(Y),!0}catch{return!1}}function l(Y,J,ie){const ue=new Uint8Array(Y);return J!==void 0&&e.fill(ue,J,0,ue.byteLength,ie),ue}function p(Y){return new Uint8Array(Y)}function g(Y){return new Uint8Array(Y)}function m(Y,J){return f(J).byteLength(Y)}function A(Y,J){if(Y===J)return 0;const ie=Math.min(Y.byteLength,J.byteLength);Y=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let ue=0;for(let ye=ie-ie%4;ue<ye;ue+=4){const ge=Y.getUint32(ue,o),Se=J.getUint32(ue,o);if(ge!==Se)break}for(;ue<ie;ue++){const ye=Y.getUint8(ue),ge=J.getUint8(ue);if(ye<ge)return-1;if(ye>ge)return 1}return Y.byteLength>J.byteLength?1:Y.byteLength<J.byteLength?-1:0}function S(Y,J){J===void 0&&(J=Y.reduce((ye,ge)=>ye+ge.byteLength,0));const ie=new Uint8Array(J);let ue=0;for(const ye of Y){if(ue+ye.byteLength>ie.byteLength){const ge=ye.subarray(0,ie.byteLength-ue);return ie.set(ge,ue),ie}ie.set(ye,ue),ue+=ye.byteLength}return ie}function w(Y,J,ie=0,ue=0,ye=Y.byteLength){if(ye>0&&ye<ue||ye===ue||Y.byteLength===0||J.byteLength===0)return 0;if(ie<0)throw new RangeError("targetStart is out of range");if(ue<0||ue>=Y.byteLength)throw new RangeError("sourceStart is out of range");if(ye<0)throw new RangeError("sourceEnd is out of range");ie>=J.byteLength&&(ie=J.byteLength),ye>Y.byteLength&&(ye=Y.byteLength),J.byteLength-ie<ye-ue&&(ye=J.length-ie+ue);const ge=ye-ue;return Y===J?J.copyWithin(ie,ue,ye):J.set(Y.subarray(ue,ye),ie),ge}function C(Y,J){if(Y===J)return!0;if(Y.byteLength!==J.byteLength)return!1;const ie=Y.byteLength;Y=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let ue=0;for(let ye=ie-ie%4;ue<ye;ue+=4)if(Y.getUint32(ue,o)!==J.getUint32(ue,o))return!1;for(;ue<ie;ue++)if(Y.getUint8(ue)!==J.getUint8(ue))return!1;return!0}function O(Y,J,ie,ue,ye){if(typeof J=="string"?typeof ie=="string"?(ye=ie,ie=0,ue=Y.byteLength):typeof ue=="string"&&(ye=ue,ue=Y.byteLength):typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=+J),ie<0||Y.byteLength<ie||Y.byteLength<ue)throw new RangeError("Out of range index");if(ie===void 0&&(ie=0),ue===void 0&&(ue=Y.byteLength),ue<=ie)return Y;if(J||(J=0),typeof J=="number")for(let ge=ie;ge<ue;++ge)Y[ge]=J;else{J=c(J)?J:M(J,ye);const ge=J.byteLength;for(let Se=0;Se<ue-ie;++Se)Y[Se+ie]=J[Se%ge]}return Y}function M(Y,J,ie){return typeof Y=="string"?N(Y,J):Array.isArray(Y)?K(Y):ArrayBuffer.isView(Y)?Q(Y):j(Y,J,ie)}function N(Y,J){const ie=f(J),ue=new Uint8Array(ie.byteLength(Y));return ie.write(ue,Y,0,ue.byteLength),ue}function K(Y){const J=new Uint8Array(Y.length);return J.set(Y),J}function Q(Y){const J=new Uint8Array(Y.byteLength);return J.set(Y),J}function j(Y,J,ie){return new Uint8Array(Y,J,ie)}function G(Y,J,ie,ue){return R(Y,J,ie,ue)!==-1}function W(Y,J,ie,ue,ye){if(Y.byteLength===0)return-1;if(typeof ie=="string"?(ue=ie,ie=0):ie===void 0?ie=ye?0:Y.length-1:ie<0&&(ie+=Y.byteLength),ie>=Y.byteLength){if(ye)return-1;ie=Y.byteLength-1}else if(ie<0)if(ye)ie=0;else return-1;if(typeof J=="string")J=M(J,ue);else if(typeof J=="number")return J=J&255,ye?Y.indexOf(J,ie):Y.lastIndexOf(J,ie);if(J.byteLength===0)return-1;if(ye){let ge=-1;for(let Se=ie;Se<Y.byteLength;Se++)if(Y[Se]===J[ge===-1?0:Se-ge]){if(ge===-1&&(ge=Se),Se-ge+1===J.byteLength)return ge}else ge!==-1&&(Se-=Se-ge),ge=-1}else{ie+J.byteLength>Y.byteLength&&(ie=Y.byteLength-J.byteLength);for(let ge=ie;ge>=0;ge--){let Se=!0;for(let zt=0;zt<J.byteLength;zt++)if(Y[ge+zt]!==J[zt]){Se=!1;break}if(Se)return ge}}return-1}function R(Y,J,ie,ue){return W(Y,J,ie,ue,!0)}function _(Y,J,ie,ue){return W(Y,J,ie,ue,!1)}function I(Y,J,ie){const ue=Y[J];Y[J]=Y[ie],Y[ie]=ue}function b(Y){const J=Y.byteLength;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ie=0;ie<J;ie+=2)I(Y,ie,ie+1);return Y}function v(Y){const J=Y.byteLength;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ie=0;ie<J;ie+=4)I(Y,ie,ie+3),I(Y,ie+1,ie+2);return Y}function d(Y){const J=Y.byteLength;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ie=0;ie<J;ie+=8)I(Y,ie,ie+7),I(Y,ie+1,ie+6),I(Y,ie+2,ie+5),I(Y,ie+3,ie+4);return Y}function y(Y){return Y}function x(Y,J,ie=0,ue=Y.byteLength){const ye=Y.byteLength;return ie>=ye||ue<=ie?"":(ie<0&&(ie=0),ue>ye&&(ue=ye),(ie!==0||ue<ye)&&(Y=Y.subarray(ie,ue)),f(J).toString(Y))}function E(Y,J,ie,ue,ye){return ie===void 0?ye="utf8":ue===void 0&&typeof ie=="string"?(ye=ie,ie=void 0):ye===void 0&&typeof ue=="string"&&(ye=ue,ue=void 0),f(ye).write(Y,J,ie,ue)}function h(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setFloat64(ie,J,!0),ie+8}function T(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setFloat32(ie,J,!0),ie+4}function F(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setUint32(ie,J,!0),ie+4}function L(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setInt32(ie,J,!0),ie+4}function k(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getFloat64(J,!0)}function $(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getFloat32(J,!0)}function H(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getUint32(J,!0)}function q(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getInt32(J,!0)}function X(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setFloat64(ie,J,!1),ie+8}function te(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setFloat32(ie,J,!1),ie+4}function re(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setUint32(ie,J,!1),ie+4}function U(Y,J,ie){return ie===void 0&&(ie=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).setInt32(ie,J,!1),ie+4}function P(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getFloat64(J,!1)}function ne(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getFloat32(J,!1)}function fe(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getUint32(J,!1)}function de(Y,J){return J===void 0&&(J=0),new DataView(Y.buffer,Y.byteOffset,Y.byteLength).getInt32(J,!1)}t.exports=e={isBuffer:c,isEncoding:u,alloc:l,allocUnsafe:p,allocUnsafeSlow:g,byteLength:m,compare:A,concat:S,copy:w,equals:C,fill:O,from:M,includes:G,indexOf:R,lastIndexOf:_,swap16:b,swap32:v,swap64:d,toBuffer:y,toString:x,write:E,writeDoubleLE:h,writeFloatLE:T,writeUInt32LE:F,writeInt32LE:L,readDoubleLE:k,readFloatLE:$,readUInt32LE:H,readInt32LE:q,writeDoubleBE:X,writeFloatBE:te,writeUInt32BE:re,writeInt32BE:U,readDoubleBE:P,readFloatBE:ne,readUInt32BE:fe,readInt32BE:de}})(G3,G3.exports);var Kz=G3.exports,T_,L9;function Qz(){if(L9)return T_;L9=1;var t=(a,s)=>function(){return s||(0,a[Object.keys(a)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var a=new Uint8Array(128),s=0;s<64;s++)a[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return o=>{for(var f=o.length,c=new Uint8Array((f-(o[f-1]=="=")-(o[f-2]=="="))*3/4|0),u=0,l=0;u<f;){var p=a[o.charCodeAt(u++)],g=a[o.charCodeAt(u++)],m=a[o.charCodeAt(u++)],A=a[o.charCodeAt(u++)];c[l++]=p<<2|g>>4,c[l++]=g<<4|m>>2,c[l++]=m<<6|A}return c}})(),r=t({"wasm-binary:./blake2b.wat"(a,s){s.exports=e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),n=r(),i=WebAssembly.compile(n);return T_=async a=>(await WebAssembly.instantiate(await i,a)).exports,T_}var Ai=LT,Vz=Kz,Mo=null,H9=typeof WebAssembly<"u"&&Qz()().then(t=>{Mo=t}),go=64,bg=[];Ws.exports=Gn;var P9=Ws.exports.BYTES_MIN=16,N9=Ws.exports.BYTES_MAX=64;Ws.exports.BYTES=32;var U9=Ws.exports.KEYBYTES_MIN=16,k9=Ws.exports.KEYBYTES_MAX=64;Ws.exports.KEYBYTES=32;var z9=Ws.exports.SALTBYTES=16,j9=Ws.exports.PERSONALBYTES=16;function Gn(t,e,r,n,i){if(!(this instanceof Gn))return new Gn(t,e,r,n,i);if(!Mo)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(Ai(t>=P9,"digestLength must be at least "+P9+", was given "+t),Ai(t<=N9,"digestLength must be at most "+N9+", was given "+t),e!=null&&(Ai(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),Ai(e.length>=U9,"key must be at least "+U9+", was given "+e.length),Ai(e.length<=k9,"key must be at least "+k9+", was given "+e.length)),r!=null&&(Ai(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Ai(r.length===z9,"salt must be exactly "+z9+", was given "+r.length)),n!=null&&(Ai(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Ai(n.length===j9,"personal must be exactly "+j9+", was given "+n.length))),bg.length||(bg.push(go),go+=216),this.digestLength=t,this.finalized=!1,this.pointer=bg.pop(),this._memory=new Uint8Array(Mo.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),Mo.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,go,go+e.length),this._memory[this.pointer+200]=128)}Gn.prototype._realloc=function(t){Mo.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(Mo.memory.buffer)};Gn.prototype.update=function(t){return Ai(this.finalized===!1,"Hash instance finalized"),Ai(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),go+t.length>this._memory.length&&this._realloc(go+t.length),this._memory.set(t,go),Mo.blake2b_update(this.pointer,go,go+t.length),this};Gn.prototype.digest=function(t){if(Ai(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,bg.push(this.pointer),Mo.blake2b_final(this.pointer),!t||t==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof t=="string")return Vz.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);Ai(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t};Gn.prototype.final=Gn.prototype.digest;Gn.WASM=Mo;Gn.SUPPORTED=typeof WebAssembly<"u";Gn.ready=function(t){return t||(t=Yz),H9?H9.then(()=>t(),t):t(new Error("WebAssembly not supported"))};Gn.prototype.ready=Gn.ready;Gn.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Gn.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};function Yz(){}var Gz=Ws.exports,Xi=LT,Op=Gz;function Lb(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function F9(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var a=t[e+1]+n;i>=4294967296&&a++,t[e]=i,t[e+1]=a}function jT(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ff(t,e,r,n,i,a){var s=Ih[i],o=Ih[i+1],f=Ih[a],c=Ih[a+1];Lb(Ue,t,e),F9(Ue,t,s,o);var u=Ue[n]^Ue[t],l=Ue[n+1]^Ue[t+1];Ue[n]=l,Ue[n+1]=u,Lb(Ue,r,n),u=Ue[e]^Ue[r],l=Ue[e+1]^Ue[r+1],Ue[e]=u>>>24^l<<8,Ue[e+1]=l>>>24^u<<8,Lb(Ue,t,e),F9(Ue,t,f,c),u=Ue[n]^Ue[t],l=Ue[n+1]^Ue[t+1],Ue[n]=u>>>16^l<<16,Ue[n+1]=l>>>16^u<<16,Lb(Ue,r,n),u=Ue[e]^Ue[r],l=Ue[e+1]^Ue[r+1],Ue[e]=l>>>31^u<<1,Ue[e+1]=u>>>31^l<<1}var FT=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Wz=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],un=new Uint8Array(Wz.map(function(t){return t*2})),Ue=new Uint32Array(32),Ih=new Uint32Array(32);function $T(t,e){var r=0;for(r=0;r<16;r++)Ue[r]=t.h[r],Ue[r+16]=FT[r];for(Ue[24]=Ue[24]^t.t,Ue[25]=Ue[25]^t.t/4294967296,e&&(Ue[28]=~Ue[28],Ue[29]=~Ue[29]),r=0;r<32;r++)Ih[r]=jT(t.b,4*r);for(r=0;r<12;r++)ff(0,8,16,24,un[r*16+0],un[r*16+1]),ff(2,10,18,26,un[r*16+2],un[r*16+3]),ff(4,12,20,28,un[r*16+4],un[r*16+5]),ff(6,14,22,30,un[r*16+6],un[r*16+7]),ff(0,10,20,30,un[r*16+8],un[r*16+9]),ff(2,12,22,24,un[r*16+10],un[r*16+11]),ff(4,14,16,26,un[r*16+12],un[r*16+13]),ff(6,8,18,28,un[r*16+14],un[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Ue[r]^Ue[r+16]}var cf=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function _d(t,e,r,n){cf.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,cf[0]=t,e&&(cf[1]=e.length),cf[2]=1,cf[3]=1,r&&cf.set(r,32),n&&cf.set(n,48);for(var i=0;i<16;i++)this.h[i]=FT[i]^jT(cf,i*4);e&&(qT(this,e),this.c=128)}_d.prototype.update=function(t){return Xi(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),qT(this,t),this};_d.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return Xi(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),Xi(e.length>=this.outlen,"out must have at least outlen bytes of space"),Xz(this,e),t==="hex"?Zz(e):e};_d.prototype.final=_d.prototype.digest;_d.ready=function(t){Op.ready(function(){t()})};function qT(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,$T(t,!1),t.c=0),t.b[t.c++]=e[r]}function Xz(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;$T(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Zz(t){for(var e="",r=0;r<t.length;r++)e+=Jz(t[r]);return e}function Jz(t){return t<16?"0"+t.toString(16):t.toString(16)}var ej=_d;Yn.exports=function(e,r,n,i,a){return a!==!0&&(Xi(e>=$9,"outlen must be at least "+$9+", was given "+e),Xi(e<=q9,"outlen must be at most "+q9+", was given "+e),r!=null&&(Xi(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),Xi(r.length>=K9,"key must be at least "+K9+", was given "+r.length),Xi(r.length<=Q9,"key must be at most "+Q9+", was given "+r.length)),n!=null&&(Xi(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Xi(n.length===V9,"salt must be exactly "+V9+", was given "+n.length)),i!=null&&(Xi(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Xi(i.length===Y9,"personal must be exactly "+Y9+", was given "+i.length))),new ej(e,r,n,i)};Yn.exports.ready=function(t){Op.ready(function(){t()})};Yn.exports.WASM_SUPPORTED=Op.SUPPORTED;Yn.exports.WASM_LOADED=!1;var $9=Yn.exports.BYTES_MIN=16,q9=Yn.exports.BYTES_MAX=64;Yn.exports.BYTES=32;var K9=Yn.exports.KEYBYTES_MIN=16,Q9=Yn.exports.KEYBYTES_MAX=64;Yn.exports.KEYBYTES=32;var V9=Yn.exports.SALTBYTES=16,Y9=Yn.exports.PERSONALBYTES=16;Op.ready(function(t){t||(Yn.exports.WASM_LOADED=!0,Yn.exports=Op)});var tj=Yn.exports,ty={exports:{}};ty.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,o="[object Arguments]",f="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",l="[object Date]",p="[object Error]",g="[object Function]",m="[object GeneratorFunction]",A="[object Map]",S="[object Number]",w="[object Null]",C="[object Object]",O="[object Promise]",M="[object Proxy]",N="[object RegExp]",K="[object Set]",Q="[object String]",j="[object Symbol]",G="[object Undefined]",W="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",I="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",d="[object Int16Array]",y="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",h="[object Uint16Array]",T="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,$={};$[I]=$[b]=$[v]=$[d]=$[y]=$[x]=$[E]=$[h]=$[T]=!0,$[o]=$[f]=$[R]=$[u]=$[_]=$[l]=$[p]=$[g]=$[A]=$[S]=$[C]=$[N]=$[K]=$[Q]=$[W]=!1;var H=typeof $n=="object"&&$n&&$n.Object===Object&&$n,q=typeof self=="object"&&self&&self.Object===Object&&self,X=H||q||Function("return this")(),te=e&&!e.nodeType&&e,re=te&&!0&&t&&!t.nodeType&&t,U=re&&re.exports===te,P=U&&H.process,ne=function(){try{return P&&P.binding&&P.binding("util")}catch{}}(),fe=ne&&ne.isTypedArray;function de(Z,oe){for(var be=-1,Ce=Z==null?0:Z.length,It=0,ze=[];++be<Ce;){var ir=Z[be];oe(ir,be,Z)&&(ze[It++]=ir)}return ze}function Y(Z,oe){for(var be=-1,Ce=oe.length,It=Z.length;++be<Ce;)Z[It+be]=oe[be];return Z}function J(Z,oe){for(var be=-1,Ce=Z==null?0:Z.length;++be<Ce;)if(oe(Z[be],be,Z))return!0;return!1}function ie(Z,oe){for(var be=-1,Ce=Array(Z);++be<Z;)Ce[be]=oe(be);return Ce}function ue(Z){return function(oe){return Z(oe)}}function ye(Z,oe){return Z.has(oe)}function ge(Z,oe){return Z==null?void 0:Z[oe]}function Se(Z){var oe=-1,be=Array(Z.size);return Z.forEach(function(Ce,It){be[++oe]=[It,Ce]}),be}function zt(Z,oe){return function(be){return Z(oe(be))}}function He(Z){var oe=-1,be=Array(Z.size);return Z.forEach(function(Ce){be[++oe]=Ce}),be}var $e=Array.prototype,fn=Function.prototype,z=Object.prototype,B=X["__core-js_shared__"],D=fn.toString,V=z.hasOwnProperty,ae=function(){var Z=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),ce=z.toString,le=RegExp("^"+D.call(V).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=U?X.Buffer:void 0,nt=X.Symbol,Re=X.Uint8Array,Le=z.propertyIsEnumerable,Ze=$e.splice,ot=nt?nt.toStringTag:void 0,jt=Object.getOwnPropertySymbols,sb=Oe?Oe.isBuffer:void 0,Wt=zt(Object.keys,Object),Rt=Zu(X,"DataView"),tf=Zu(X,"Map"),Lt=Zu(X,"Promise"),Ht=Zu(X,"Set"),Xu=Zu(X,"WeakMap"),yt=Zu(Object,"create"),Xt=Dc(Rt),ob=Dc(tf),Zt=Dc(Lt),Jt=Dc(Ht),fb=Dc(Xu),Ft=nt?nt.prototype:void 0,Pt=Ft?Ft.valueOf:void 0;function ps(Z){var oe=-1,be=Z==null?0:Z.length;for(this.clear();++oe<be;){var Ce=Z[oe];this.set(Ce[0],Ce[1])}}function er(){this.__data__=yt?yt(null):{},this.size=0}function tr(Z){var oe=this.has(Z)&&delete this.__data__[Z];return this.size-=oe?1:0,oe}function cb(Z){var oe=this.__data__;if(yt){var be=oe[Z];return be===n?void 0:be}return V.call(oe,Z)?oe[Z]:void 0}function rr(Z){var oe=this.__data__;return yt?oe[Z]!==void 0:V.call(oe,Z)}function nr(Z,oe){var be=this.__data__;return this.size+=this.has(Z)?0:1,be[Z]=yt&&oe===void 0?n:oe,this}ps.prototype.clear=er,ps.prototype.delete=tr,ps.prototype.get=cb,ps.prototype.has=rr,ps.prototype.set=nr;function bi(Z){var oe=-1,be=Z==null?0:Z.length;for(this.clear();++oe<be;){var Ce=Z[oe];this.set(Ce[0],Ce[1])}}function R0(){this.__data__=[],this.size=0}function L0(Z){var oe=this.__data__,be=ub(oe,Z);if(be<0)return!1;var Ce=oe.length-1;return be==Ce?oe.pop():Ze.call(oe,be,1),--this.size,!0}function H0(Z){var oe=this.__data__,be=ub(oe,Z);return be<0?void 0:oe[be][1]}function P0(Z){return ub(this.__data__,Z)>-1}function N0(Z,oe){var be=this.__data__,Ce=ub(be,Z);return Ce<0?(++this.size,be.push([Z,oe])):be[Ce][1]=oe,this}bi.prototype.clear=R0,bi.prototype.delete=L0,bi.prototype.get=H0,bi.prototype.has=P0,bi.prototype.set=N0;function Pa(Z){var oe=-1,be=Z==null?0:Z.length;for(this.clear();++oe<be;){var Ce=Z[oe];this.set(Ce[0],Ce[1])}}function U0(){this.size=0,this.__data__={hash:new ps,map:new(tf||bi),string:new ps}}function k0(Z){var oe=lb(this,Z).delete(Z);return this.size-=oe?1:0,oe}function z0(Z){return lb(this,Z).get(Z)}function j0(Z){return lb(this,Z).has(Z)}function F0(Z,oe){var be=lb(this,Z),Ce=be.size;return be.set(Z,oe),this.size+=be.size==Ce?0:1,this}Pa.prototype.clear=U0,Pa.prototype.delete=k0,Pa.prototype.get=z0,Pa.prototype.has=j0,Pa.prototype.set=F0;function rf(Z){var oe=-1,be=Z==null?0:Z.length;for(this.__data__=new Pa;++oe<be;)this.add(Z[oe])}function $0(Z){return this.__data__.set(Z,n),this}function q0(Z){return this.__data__.has(Z)}rf.prototype.add=rf.prototype.push=$0,rf.prototype.has=q0;function $i(Z){var oe=this.__data__=new bi(Z);this.size=oe.size}function K0(){this.__data__=new bi,this.size=0}function Q0(Z){var oe=this.__data__,be=oe.delete(Z);return this.size=oe.size,be}function V0(Z){return this.__data__.get(Z)}function HH(Z){return this.__data__.has(Z)}function PH(Z,oe){var be=this.__data__;if(be instanceof bi){var Ce=be.__data__;if(!tf||Ce.length<r-1)return Ce.push([Z,oe]),this.size=++be.size,this;be=this.__data__=new Pa(Ce)}return be.set(Z,oe),this.size=be.size,this}$i.prototype.clear=K0,$i.prototype.delete=Q0,$i.prototype.get=V0,$i.prototype.has=HH,$i.prototype.set=PH;function NH(Z,oe){var be=db(Z),Ce=!be&&ZH(Z),It=!be&&!Ce&&$v(Z),ze=!be&&!Ce&&!It&&kw(Z),ir=be||Ce||It||ze,Tr=ir?ie(Z.length,String):[],Vr=Tr.length;for(var $t in Z)V.call(Z,$t)&&!(ir&&($t=="length"||It&&($t=="offset"||$t=="parent")||ze&&($t=="buffer"||$t=="byteLength"||$t=="byteOffset")||VH($t,Vr)))&&Tr.push($t);return Tr}function ub(Z,oe){for(var be=Z.length;be--;)if(Hw(Z[be][0],oe))return be;return-1}function UH(Z,oe,be){var Ce=oe(Z);return db(Z)?Ce:Y(Ce,be(Z))}function Y0(Z){return Z==null?Z===void 0?G:w:ot&&ot in Object(Z)?KH(Z):XH(Z)}function Dw(Z){return G0(Z)&&Y0(Z)==o}function Mw(Z,oe,be,Ce,It){return Z===oe?!0:Z==null||oe==null||!G0(Z)&&!G0(oe)?Z!==Z&&oe!==oe:kH(Z,oe,be,Ce,Mw,It)}function kH(Z,oe,be,Ce,It,ze){var ir=db(Z),Tr=db(oe),Vr=ir?f:nf(Z),$t=Tr?f:nf(oe);Vr=Vr==o?C:Vr,$t=$t==o?C:$t;var gi=Vr==C,Na=$t==C,cn=Vr==$t;if(cn&&$v(Z)){if(!$v(oe))return!1;ir=!0,gi=!1}if(cn&&!gi)return ze||(ze=new $i),ir||kw(Z)?Rw(Z,oe,be,Ce,It,ze):$H(Z,oe,Vr,be,Ce,It,ze);if(!(be&i)){var qi=gi&&V.call(Z,"__wrapped__"),Ki=Na&&V.call(oe,"__wrapped__");if(qi||Ki){var af=qi?Z.value():Z,to=Ki?oe.value():oe;return ze||(ze=new $i),It(af,to,be,Ce,ze)}}return cn?(ze||(ze=new $i),qH(Z,oe,be,Ce,It,ze)):!1}function zH(Z){if(!Uw(Z)||GH(Z))return!1;var oe=Pw(Z)?le:L;return oe.test(Dc(Z))}function jH(Z){return G0(Z)&&Nw(Z.length)&&!!$[Y0(Z)]}function FH(Z){if(!WH(Z))return Wt(Z);var oe=[];for(var be in Object(Z))V.call(Z,be)&&be!="constructor"&&oe.push(be);return oe}function Rw(Z,oe,be,Ce,It,ze){var ir=be&i,Tr=Z.length,Vr=oe.length;if(Tr!=Vr&&!(ir&&Vr>Tr))return!1;var $t=ze.get(Z);if($t&&ze.get(oe))return $t==oe;var gi=-1,Na=!0,cn=be&a?new rf:void 0;for(ze.set(Z,oe),ze.set(oe,Z);++gi<Tr;){var qi=Z[gi],Ki=oe[gi];if(Ce)var af=ir?Ce(Ki,qi,gi,oe,Z,ze):Ce(qi,Ki,gi,Z,oe,ze);if(af!==void 0){if(af)continue;Na=!1;break}if(cn){if(!J(oe,function(to,Mc){if(!ye(cn,Mc)&&(qi===to||It(qi,to,be,Ce,ze)))return cn.push(Mc)})){Na=!1;break}}else if(!(qi===Ki||It(qi,Ki,be,Ce,ze))){Na=!1;break}}return ze.delete(Z),ze.delete(oe),Na}function $H(Z,oe,be,Ce,It,ze,ir){switch(be){case _:if(Z.byteLength!=oe.byteLength||Z.byteOffset!=oe.byteOffset)return!1;Z=Z.buffer,oe=oe.buffer;case R:return!(Z.byteLength!=oe.byteLength||!ze(new Re(Z),new Re(oe)));case u:case l:case S:return Hw(+Z,+oe);case p:return Z.name==oe.name&&Z.message==oe.message;case N:case Q:return Z==oe+"";case A:var Tr=Se;case K:var Vr=Ce&i;if(Tr||(Tr=He),Z.size!=oe.size&&!Vr)return!1;var $t=ir.get(Z);if($t)return $t==oe;Ce|=a,ir.set(Z,oe);var gi=Rw(Tr(Z),Tr(oe),Ce,It,ze,ir);return ir.delete(Z),gi;case j:if(Pt)return Pt.call(Z)==Pt.call(oe)}return!1}function qH(Z,oe,be,Ce,It,ze){var ir=be&i,Tr=Lw(Z),Vr=Tr.length,$t=Lw(oe),gi=$t.length;if(Vr!=gi&&!ir)return!1;for(var Na=Vr;Na--;){var cn=Tr[Na];if(!(ir?cn in oe:V.call(oe,cn)))return!1}var qi=ze.get(Z);if(qi&&ze.get(oe))return qi==oe;var Ki=!0;ze.set(Z,oe),ze.set(oe,Z);for(var af=ir;++Na<Vr;){cn=Tr[Na];var to=Z[cn],Mc=oe[cn];if(Ce)var zw=ir?Ce(Mc,to,cn,oe,Z,ze):Ce(to,Mc,cn,Z,oe,ze);if(!(zw===void 0?to===Mc||It(to,Mc,be,Ce,ze):zw)){Ki=!1;break}af||(af=cn=="constructor")}if(Ki&&!af){var hb=Z.constructor,pb=oe.constructor;hb!=pb&&"constructor"in Z&&"constructor"in oe&&!(typeof hb=="function"&&hb instanceof hb&&typeof pb=="function"&&pb instanceof pb)&&(Ki=!1)}return ze.delete(Z),ze.delete(oe),Ki}function Lw(Z){return UH(Z,tP,QH)}function lb(Z,oe){var be=Z.__data__;return YH(oe)?be[typeof oe=="string"?"string":"hash"]:be.map}function Zu(Z,oe){var be=ge(Z,oe);return zH(be)?be:void 0}function KH(Z){var oe=V.call(Z,ot),be=Z[ot];try{Z[ot]=void 0;var Ce=!0}catch{}var It=ce.call(Z);return Ce&&(oe?Z[ot]=be:delete Z[ot]),It}var QH=jt?function(Z){return Z==null?[]:(Z=Object(Z),de(jt(Z),function(oe){return Le.call(Z,oe)}))}:rP,nf=Y0;(Rt&&nf(new Rt(new ArrayBuffer(1)))!=_||tf&&nf(new tf)!=A||Lt&&nf(Lt.resolve())!=O||Ht&&nf(new Ht)!=K||Xu&&nf(new Xu)!=W)&&(nf=function(Z){var oe=Y0(Z),be=oe==C?Z.constructor:void 0,Ce=be?Dc(be):"";if(Ce)switch(Ce){case Xt:return _;case ob:return A;case Zt:return O;case Jt:return K;case fb:return W}return oe});function VH(Z,oe){return oe=oe??s,!!oe&&(typeof Z=="number"||k.test(Z))&&Z>-1&&Z%1==0&&Z<oe}function YH(Z){var oe=typeof Z;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Z!=="__proto__":Z===null}function GH(Z){return!!ae&&ae in Z}function WH(Z){var oe=Z&&Z.constructor,be=typeof oe=="function"&&oe.prototype||z;return Z===be}function XH(Z){return ce.call(Z)}function Dc(Z){if(Z!=null){try{return D.call(Z)}catch{}try{return Z+""}catch{}}return""}function Hw(Z,oe){return Z===oe||Z!==Z&&oe!==oe}var ZH=Dw(function(){return arguments}())?Dw:function(Z){return G0(Z)&&V.call(Z,"callee")&&!Le.call(Z,"callee")},db=Array.isArray;function JH(Z){return Z!=null&&Nw(Z.length)&&!Pw(Z)}var $v=sb||nP;function eP(Z,oe){return Mw(Z,oe)}function Pw(Z){if(!Uw(Z))return!1;var oe=Y0(Z);return oe==g||oe==m||oe==c||oe==M}function Nw(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=s}function Uw(Z){var oe=typeof Z;return Z!=null&&(oe=="object"||oe=="function")}function G0(Z){return Z!=null&&typeof Z=="object"}var kw=fe?ue(fe):jH;function tP(Z){return JH(Z)?NH(Z):FH(Z)}function rP(){return[]}function nP(){return!1}t.exports=eP})(ty,ty.exports);var rj=ty.exports,Ee={},t8,r8;Object.defineProperty(Ee,"__esModule",{value:!0});var ry=Ee.WitnessArgs=Ee.UncleBlockVec=Ee.UncleBlock=Ee.TransactionVec=r8=Ee.Transaction=Ee.ScriptOpt=Ee.Script=Ee.RawTransaction=Ee.RawHeader=Ee.ProposalShortIdVec=Ee.ProposalShortId=t8=Ee.OutPoint=Ee.Header=Ee.HashType=Ee.DepType=Ee.CellbaseWitness=Ee.CellOutputVec=Ee.CellOutput=Ee.CellInputVec=Ee.CellInput=Ee.CellDepVec=Ee.CellDep=Ee.BytesVec=Ee.BytesOptVec=Ee.BytesOpt=Ee.Bytes=Ee.Byte32Vec=Ee.Byte32=Ee.BlockV1=Ee.Block=Ee.BaseHeader=void 0;Ee.WitnessArgsOf=QT;Ee.createFixedHexBytesCodec=a8;Ee.deTransformHeaderCodecType=JT;Ee.deTransformTransactionCodecType=XT;Ee.transformHeaderCodecType=ZT;Ee.transformTransactionCodecType=WT;var Hr=st,nj=wt;function o2(t){return{...t,unpack:e=>nj.BI.from(t.unpack(e)).toHexString()}}const G9=o2(Hr.number.Uint8),ny=o2(Hr.number.Uint32LE),Zh=o2(Hr.number.Uint64LE),ij=o2(Hr.number.Uint128LE),{byteVecOf:gg,option:Jh,table:Wo,vector:Xo,struct:h1}=Hr.molecule,{bytify:n8,hexify:i8}=Hr.bytes;function a8(t){return(0,Hr.createFixedBytesCodec)({byteLength:t,pack:e=>n8(e),unpack:e=>i8(e)})}const p1=Ee.Bytes=gg({pack:n8,unpack:i8}),aj=Ee.BytesOpt=Jh(p1),KT=Ee.BytesVec=Xo(p1);Ee.BytesOptVec=Xo(aj);const Mf=Ee.Byte32=a8(32),sj=Ee.Byte32Vec=Xo(Mf);function QT(t){return Wo({lock:Jh(gg(t.lock)),inputType:Jh(gg(t.inputType)),outputType:Jh(gg(t.outputType))},["lock","inputType","outputType"])}const O_=(0,Hr.createBytesCodec)({pack:n8,unpack:i8});ry=Ee.WitnessArgs=QT({lock:O_,inputType:O_,outputType:O_});const oj=Ee.HashType=(0,Hr.createFixedBytesCodec)({byteLength:1,pack:t=>{if(t==="type")return Hr.number.Uint8.pack(1);if(t==="data")return Hr.number.Uint8.pack(0);if(t==="data1")return Hr.number.Uint8.pack(2);if(t==="data2")return Hr.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${t}`)},unpack:t=>{const e=Hr.number.Uint8.unpack(t);if(e===1)return"type";if(e===0)return"data";if(e===2)return"data1";if(e===4)return"data2";throw new Error(`Invalid hash type: ${e}`)}}),fj=Ee.DepType=(0,Hr.createFixedBytesCodec)({byteLength:1,pack:t=>{if(t==="code")return G9.pack(0);if(t==="depGroup")return G9.pack(1);throw new Error(`Invalid dep type: ${t}`)},unpack:t=>{const e=Hr.number.Uint8.unpack(t);if(e===0)return"code";if(e===1)return"depGroup";throw new Error(`Invalid dep type: ${e}`)}}),s8=Ee.Script=Wo({codeHash:Mf,hashType:oj,args:p1},["codeHash","hashType","args"]),cj=Ee.ScriptOpt=Jh(s8),VT=t8=Ee.OutPoint=h1({txHash:Mf,index:ny},["txHash","index"]),uj=Ee.CellInput=h1({since:Zh,previousOutput:VT},["since","previousOutput"]),lj=Ee.CellInputVec=Xo(uj),dj=Ee.CellOutput=Wo({capacity:Zh,lock:s8,type:cj},["capacity","lock","type"]),hj=Ee.CellOutputVec=Xo(dj),pj=Ee.CellDep=h1({outPoint:VT,depType:fj},["outPoint","depType"]),bj=Ee.CellDepVec=Xo(pj),gj=Ee.RawTransaction=Wo({version:ny,cellDeps:bj,headerDeps:sj,inputs:lj,outputs:hj,outputsData:KT},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),W9=Wo({raw:gj,witnesses:KT},["raw","witnesses"]),yj=r8=Ee.Transaction=(0,Hr.createBytesCodec)({pack:t=>W9.pack(WT(t)),unpack:t=>XT(W9.unpack(t))}),YT=Ee.TransactionVec=Xo(yj),vj=Ee.RawHeader=h1({version:ny,compactTarget:ny,timestamp:Zh,number:Zh,epoch:Zh,parentHash:Mf,transactionsRoot:Mf,proposalsHash:Mf,extraHash:Mf,dao:Mf},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),X9=Ee.BaseHeader=h1({raw:vj,nonce:ij},["raw","nonce"]),o8=Ee.Header=(0,Hr.createBytesCodec)({pack:t=>X9.pack(ZT(t)),unpack:t=>JT(X9.unpack(t))}),_j=Ee.ProposalShortId=a8(10),f8=Ee.ProposalShortIdVec=Xo(_j),mj=Ee.UncleBlock=Wo({header:o8,proposals:f8},["header","proposals"]),GT=Ee.UncleBlockVec=Xo(mj);Ee.Block=Wo({header:o8,uncles:GT,transactions:YT,proposals:f8},["header","uncles","transactions","proposals"]);Ee.BlockV1=Wo({header:o8,uncles:GT,transactions:YT,proposals:f8,extension:p1},["header","uncles","transactions","proposals","extension"]);Ee.CellbaseWitness=Wo({lock:s8,message:p1},["lock","message"]);function WT(t){return{raw:{version:t.version,cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData},witnesses:t.witnesses}}function XT(t){return{cellDeps:t.raw.cellDeps.map(e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType})),headerDeps:t.raw.headerDeps,inputs:t.raw.inputs.map(e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since})),outputs:t.raw.outputs.map(e=>({capacity:e.capacity,lock:e.lock,type:e.type})),outputsData:t.raw.outputsData,version:t.raw.version,witnesses:t.witnesses}}function ZT(t){return{raw:{timestamp:t.timestamp,number:t.number,epoch:t.epoch,compactTarget:Number(t.compactTarget),dao:t.dao,parentHash:t.parentHash,proposalsHash:t.proposalsHash,transactionsRoot:t.transactionsRoot,extraHash:t.extraHash,version:t.version},nonce:t.nonce}}function JT(t){return{timestamp:t.raw.timestamp,number:t.raw.number,epoch:t.raw.epoch,compactTarget:t.raw.compactTarget,dao:t.raw.dao,parentHash:t.raw.parentHash,proposalsHash:t.raw.proposalsHash,transactionsRoot:t.raw.transactionsRoot,extraHash:t.raw.extraHash,version:t.raw.version,nonce:t.nonce,hash:""}}Object.defineProperty(St,"__esModule",{value:!0});St.CKBHasher=void 0;St.assertHexString=Pj;St.assertHexadecimal=sO;St.ckbHash=l8;St.ckbHash160=Oj;var wj=St.computeScriptHash=Bj;St.deepCamel=iy;St.deepCamelizeTransaction=jj;St.generateTypeIdScript=zj;St.hashCode=Dj;St.isDeepEqual=Nj;St.readBigUInt128LE=Hj;St.readBigUInt128LECompatible=aO;St.readBigUInt64LE=Rj;St.readBigUInt64LECompatible=nO;St.toBigUInt128LE=Lj;St.toBigUInt128LECompatible=iO;St.toBigUInt64LE=Mj;St.toBigUInt64LECompatible=rO;var Aj=tO(tj),Ej=tO(rj),xj=J4,md=st,c8=Sj(Ee),f2=i0;function eO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(eO=function(n){return n?r:e})(t)}function Sj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=eO(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function tO(t){return t&&t.__esModule?t:{default:t}}const{bytify:Ij,hexify:Cj,bytifyRawString:Tj}=md.bytes;let u8=class{constructor(e={}){const{outLength:r=32}=e;this.outLength=r,this.hasher=(0,Aj.default)(r,void 0,void 0,Tj("ckb-default-hash"))}update(e){return this.hasher.update(Ij(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),Cj(e.buffer)}};St.CKBHasher=u8;function l8(t){const e=new u8;return e.update(md.bytes.bytify(t)),e.digestHex()}function Oj(t){return l8(t).slice(0,42)}function Bj(t){return l8(c8.Script.pack(t))}function Dj(t){return(0,xj.xxHash32)(t,0)}function Mj(t){return rO(t)}function rO(t){return md.bytes.hexify(f2.Uint64LE.pack(t))}function Rj(t){return nO(t).toBigInt()}function nO(t){return f2.Uint64LE.unpack(t)}function Lj(t){return iO(t)}function iO(t){return md.bytes.hexify(f2.Uint128LE.pack(t))}function Hj(t){return aO(t).toBigInt()}function aO(t){return f2.Uint128LE.unpack(t)}function Pj(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function sO(t,e){if(!/^0x(0|[0-9a-fA-F]+)$/.test(e))throw new Error(`${t} must be a hexadecimal!`)}function Nj(t,e){return(0,Ej.default)(t,e)}const Uj="0x00000000000000000000000000000000000000000000000000545950455f4944";function kj(t,e){const r=c8.CellInput.pack(t),n=md.bytes.hexify(md.number.Uint64LE.pack(e)),i=new u8;return i.update(r),i.update(n),i.digestHex()}function zj(t,e="0x0"){c8.CellInput.pack(t),sO("outputIndex",e);const r=kj(t,e);return{codeHash:Uj,hashType:"type",args:r}}function Z9(t){return t.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace("-","").replace("_",""))}function iy(t){if(Object.prototype.toString.call(t)==="[object Array]")return t.length===0?t:t.map(r=>iy(r));const e={};if(Object.prototype.toString.call(t)==="[object Object]"){for(const r in t){const n=t[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?e[Z9(r)]=iy(n):e[Z9(r)]=n}return e}return t}function J3(t){if(Object.prototype.toString.call(t)==="[object Array]")return t.length===0?t:t.map(r=>J3(r));const e={};if(Object.prototype.toString.call(t)==="[object Object]"){for(const r in t){const n=t[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?e[r]=J3(n):e[r]=n==="dep_group"?"depGroup":n}return e}return t}function jj(t){return J3(iy(t))}Object.defineProperty(Wa,"__esModule",{value:!0});Wa.TransactionValue=Wa.ScriptValue=Wa.RawTransactionValue=Wa.OutPointValue=void 0;var Fj=J4,$j=St,qj=st,c2=Kj(Ee);function oO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(oO=function(n){return n?r:e})(t)}function Kj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=oO(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const{hexify:J9}=qj.bytes;class u2{constructor(e){this.buffer=e}equals(e){return J9(this.buffer)===J9(e.buffer)}hashCode(){return(0,Fj.xxHash32)(Buffer.from(this.buffer),0)}hash(){return(0,$j.ckbHash)(this.buffer)}}let Qj=class extends u2{constructor(e,r={}){super(c2.Script.pack(e))}};Wa.ScriptValue=Qj;class Vj extends u2{constructor(e,r={}){super(c2.OutPoint.pack(e))}}Wa.OutPointValue=Vj;class Yj extends u2{constructor(e,r={}){super(c2.RawTransaction.pack(e))}}Wa.RawTransactionValue=Yj;class Gj extends u2{constructor(e,r={}){super(c2.Transaction.pack(e))}}Wa.TransactionValue=Gj;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.generateAbsoluteEpochSince=cO;var Wj=Pi.generateHeaderEpoch=uO;Pi.generateSince=fO;Pi.maximumAbsoluteEpochSince=Zj;var Bp=Pi.parseAbsoluteEpochSince=lO,b1=Pi.parseEpoch=ay;Pi.parseSince=Xj;Pi.parseSinceCompatible=g1;Pi.validateAbsoluteEpochSince=dO;Pi.validateSince=Jj;var Je=wt;function Xj(t){const e=g1(t);return e.type==="epochNumber"?e:{...e,value:e.value.toBigInt()}}function g1(t){const e=Je.BI.from(t),r=e.shr(56),n=r.shr(5).and("0b11");let i,a;if(n.eq(0))i="blockNumber",a=e.and("0xFFFFFFFFFFFFFF");else if(n.eq(1))i="epochNumber",a={length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()};else if(n.eq(2))i="blockTimestamp",a=e.and("0xFFFFFFFFFFFFFF");else throw new Error("Invalid metric flag!");return{relative:!r.and("0x80").eq(0),type:i,value:a}}function fO({relative:t,type:e,value:r}){let n=Je.BI.from(0);t&&(n=n.add(128)),e==="epochNumber"?n=n.add(32):e==="blockTimestamp"&&(n=n.add(64));let i;return(0,Je.isBIish)(r)?i=Je.BI.from(r):typeof r=="object"?i=uO(r):i=Je.BI.from(r),hO(n.shl(56).add(i))}function ay(t){const e=Je.BI.from(t);return{length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()}}function Zj(...t){const e=t.map(a=>lO(a)),r=Math.max(...e.map(a=>a.number)),n=e.filter(a=>a.number===r);let i=n[0];for(let a=1;a<n.length;++a){const s=n[a];Je.BI.from(s.index).mul(i.length).gte(Je.BI.from(i.index).mul(s.length))&&(i=s)}return cO(i)}function cO({length:t,index:e,number:r}){return fO({relative:!1,type:"epochNumber",value:{length:t,index:e,number:r}})}function uO({length:t,index:e,number:r}){return hO(Je.BI.from(t).shl(40).add(Je.BI.from(e).shl(24)).add(r))}function lO(t){const{relative:e,type:r,value:n}=g1(t);if(!(e===!1&&r==="epochNumber"))throw new Error("Since format error!");return n}function dO(t,e){const r=g1(t).value,n=ay(e);return Je.BI.from(r.number).lt(n.number)||Je.BI.from(r.number).eq(n.number)&&Je.BI.from(r.index).mul(n.length).lte(Je.BI.from(n.index).mul(r.length))}function Jj(t,e,r){const{relative:n,type:i,value:a}=g1(t);if(n){if(i==="epochNumber"){const s=ay(e.epoch),o=ay(r.epoch),f={number:Je.BI.from(a.number).add(o.number),index:Je.BI.from(a.index).mul(o.length).add(Je.BI.from(o.index).mul(a.length)),length:Je.BI.from(a.length).mul(o.length)};return a.length===0&&o.length!==0?(f.index=Je.BI.from(o.index),f.length=Je.BI.from(o.length)):o.length===0&&a.length!==0&&(f.index=Je.BI.from(a.index),f.length=Je.BI.from(a.length)),!Je.BI.from(f.length).eq(0)&&Je.BI.from(f.index).gte(f.length)&&(f.number=f.index.div(f.length).add(f.number),f.index=f.index.mod(f.length)),Je.BI.from(f.number).lt(s.number)||Je.BI.from(f.number).eq(s.number)&&Je.BI.from(f.index).mul(s.length).lte(Je.BI.from(s.index).mul(f.length))}if(i==="blockNumber")return Je.BI.from(a).add(r.blockNumber).lte(e.blockNumber);if(i==="blockTimestamp"){if(!e.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return Je.BI.from(a).mul(1e3).add(r.median_timestamp).lte(e.median_timestamp)}}else{if(i==="epochNumber")return dO(t,e.epoch);if(i==="blockNumber")return Je.BI.from(a).lte(e.blockNumber);if(i==="blockTimestamp"){if(!e.median_timestamp)throw new Error("Must provide tip median_timestamp!");return Je.BI.from(a).mul(1e3).lte(e.median_timestamp)}}return!1}function hO(t){return"0x"+t.toString(16)}var y1={};Object.defineProperty(y1,"__esModule",{value:!0});y1.isCellMatchQueryOptions=eF;y1.isScriptWrapper=yg;var Hb=Wa,Pb=wt;function yg(t){return t!==null&&t.script!==void 0}function eF(t,{lock:e=void 0,type:r=void 0,argsLen:n=-1,data:i="any",fromBlock:a=void 0,toBlock:s=void 0}){let o=null,f=null;if(e&&!yg(e)?o={script:e,argsLen:n}:e&&(o=e,e.argsLen||(o.argsLen=n)),r&&r==="empty"?f=r:r&&typeof r=="object"&&!yg(r)?f={script:r,argsLen:n}:r&&typeof r=="object"&&yg(r)&&(f=r,r.argsLen||(f.argsLen=n)),o&&o.script&&o.argsLen===-1&&!new Hb.ScriptValue(t.cellOutput.lock,{validate:!1}).equals(new Hb.ScriptValue(o.script,{validate:!1})))return!1;if(o&&o.script&&o.argsLen==="any"){const c=t.cellOutput.lock;if(c.codeHash!==o.script.codeHash||c.hashType!==o.script.hashType||!c.args.startsWith(o.script.args))return!1}if(o&&o.script&&typeof o.argsLen=="number"&&o.argsLen>=0){const c=o.argsLen*2+2,u=o.script.args.length,l=Math.min(c,u),p=t.cellOutput.lock;if(p.args.length!==c||!(p.codeHash===o.script.codeHash&&p.hashType===o.script.hashType&&p.args.slice(0,l)===o.script.args.slice(0,l)))return!1}return!(f&&f==="empty"&&t.cellOutput.type||f&&typeof f=="object"&&(!t.cellOutput.type||!new Hb.ScriptValue(t.cellOutput.type,{validate:!1}).equals(new Hb.ScriptValue(f.script,{validate:!1})))||i&&i!=="any"&&t.data!==i||a&&t.blockNumber&&Pb.BI.from(t.blockNumber).lt(Pb.BI.from(a))||s&&t.blockNumber&&Pb.BI.from(t.blockNumber).gt(Pb.BI.from(s)))}var Jf={},d8={},v1={};Object.defineProperty(v1,"__esModule",{value:!0});v1.Reader=void 0;class _1{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return e==null?!1:e instanceof _1?!0:e.__isByteLikeReader__===!0}}class Nb extends _1{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),e=>("00"+e.toString(16)).slice(-2)).join("")}}class eA extends _1{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+e*2,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),r=new DataView(e);for(let n=0;n<this.length();n++)r.setUint8(n,this.indexAt(n));return e}serializeJson(){return this.string}}class h8 extends _1{constructor(e){if(super(),e instanceof eA||e instanceof Nb)return e;if(typeof e=="string"){if(!e.startsWith("0x")||e.length%2!==0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new eA(e)}if(e instanceof ArrayBuffer)return new Nb(e);if(e instanceof Uint8Array)return new Nb(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new h8(e)}static fromRawString(e){const r=new ArrayBuffer(e.length),n=new DataView(r);for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);if(a>255)throw new Error("fromRawString can only accept UTF-8 raw string!");n.setUint8(i,a)}return new Nb(r)}}v1.Reader=h8;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.NormalizeBlock=nF;Jn.NormalizeCellDep=gO;Jn.NormalizeCellInput=pO;Jn.NormalizeCellOutput=bO;Jn.NormalizeCellbaseWitness=iF;Jn.NormalizeHeader=b8;Jn.NormalizeOutPoint=p8;Jn.NormalizeRawHeader=_O;Jn.NormalizeRawTransaction=yO;Jn.NormalizeScript=sy;Jn.NormalizeTransaction=vO;Jn.NormalizeUncleBlock=mO;Jn.NormalizeWitnessArgs=aF;var tF=wt,rF=v1;function Is(t){return function(e,r){if(!(r instanceof ArrayBuffer)){let n=tF.BI.from(r).toString(16);if(n.length%2!==0&&(n="0"+n),n.length/2>t)throw new Error(`${e} is ${n.length/2} bytes long, expected length is ${t}!`);const i=new DataView(new ArrayBuffer(t));for(let a=0;a<n.length/2;a++){const s=n.length-(a+1)*2;i.setUint8(a,parseInt(n.substr(s,2),16))}r=i.buffer}if(r.byteLength<t){const n=new Uint8Array(t);n.set(new Uint8Array(r),0),r=n.buffer}return r}}function Jr(t){return function(e,r){if(r=new rF.Reader(r).toArrayBuffer(),t>0&&r.byteLength!==t)throw new Error(`${e} has invalid length ${r.byteLength}, required: ${t}`);return r}}function Ta(t,e,r){const n={};for(const[i,a]of Object.entries(r)){const s=e[i];if(s==null)throw new Error(`${t} is missing ${i}!`);n[i]=a(`${t}.${i}`,s)}return n}function sy(t,{debugPath:e="script"}={}){return Ta(e,t,{codeHash:Jr(32),hashType:function(r,n){switch(n){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:return n;case 1:return n;case 2:return n;case 4:return n;default:throw new Error(`${r}.hashType has invalid value: ${n}`)}},args:Jr(-1)})}function p8(t,{debugPath:e="outPoint"}={}){return Ta(e,t,{txHash:Jr(32),index:Is(4)})}function rs(t){return function(e,r){return t(r,{debugPath:e})}}function pO(t,{debugPath:e="cell_input"}={}){return Ta(e,t,{since:Is(8),previousOutput:rs(p8)})}function bO(t,{debugPath:e="cellOutput"}={}){const r=Ta(e,t,{capacity:Is(8),lock:rs(sy)});return t.type&&(r.type_=sy(t.type,{debugPath:`${e}.type`})),r}function gO(t,{debugPath:e="cell_dep"}={}){return Ta(e,t,{outPoint:rs(p8),depType:function(r,n){switch(n){case"code":return 0;case"depGroup":return 1;case 0:return n;case 1:return n;default:throw new Error(`${r}.depType has invalid value: ${n}`)}}})}function Cs(t){return function(e,r){return r.map((n,i)=>t(`${e}[${i}]`,n))}}function yO(t,{debugPath:e="raw_transaction"}={}){return Ta(e,t,{version:Is(4),cellDeps:Cs(rs(gO)),headerDeps:Cs(Jr(32)),inputs:Cs(rs(pO)),outputs:Cs(rs(bO)),outputsData:Cs(Jr(-1))})}function vO(t,{debugPath:e="transaction"}={}){const r=yO(t,{debugPath:`(raw)${e}`}),n=Ta(e,t,{witnesses:Cs(Jr(-1))});return n.raw=r,n}function _O(t,{debugPath:e="raw_header"}={}){return Ta(e,t,{version:Is(4),compactTarget:Is(4),timestamp:Is(8),number:Is(8),epoch:Is(8),parentHash:Jr(32),transactionsRoot:Jr(32),proposalsHash:Jr(32),extraHash:Jr(32),dao:Jr(32)})}function b8(t,{debugPath:e="header"}={}){const r=_O(t,{debugPath:`(raw)${e}`}),n=Ta(e,t,{nonce:Is(16)});return n.raw=r,n}function mO(t,{debugPath:e="uncle_block"}={}){return Ta(e,t,{header:rs(b8),proposals:Cs(Jr(10))})}function nF(t,{debugPath:e="block"}={}){return Ta(e,t,{header:rs(b8),uncles:Cs(rs(mO)),transactions:Cs(rs(vO)),proposals:Cs(Jr(10))})}function iF(t,{debugPath:e="cellbase_witness"}={}){return Ta(e,t,{lock:rs(sy),message:Jr(-1)})}function aF(t,{debugPath:e="witness_args"}={}){const r={};return t.lock&&(r.lock=Jr(-1)(`${e}.lock`,t.lock)),t.inputType&&(r.inputType=Jr(-1)(`${e}.inputType`,t.inputType)),t.outputType&&(r.outputType=Jr(-1)(`${e}.outputType`,t.outputType)),r}var hi={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.ValidateBlock=uF;Mn.ValidateCellDep=EO;Mn.ValidateCellInput=wO;Mn.ValidateCellOutput=AO;Mn.ValidateCellbaseWitness=lF;Mn.ValidateHeader=y8;Mn.ValidateOutPoint=g8;Mn.ValidateRawHeader=cF;Mn.ValidateRawTransaction=oF;Mn.ValidateScript=oy;Mn.ValidateTransaction=SO;Mn.ValidateUncleBlock=CO;Mn.ValidateWitnessArgs=dF;function sF(t,e){if(!(e instanceof Object))throw new Error(`${t} is not an object!`)}function Ni(t,e,r,n=[]){sF(t,e);const i=Object.keys(e).sort(),a=r.length,s=r.length+n.length,o=`${t} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<a||i.length>s)throw new Error(o);let f=i.filter(c=>!r.includes(c));if(i.length-f.length!==a)throw new Error(o);if(f.find(c=>!n.includes(c)))throw new Error(o)}function Ps(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function Rf(t,e){if(Ps(t,e),e.length!==66)throw new Error(`${t} must be a hex string of 66 bytes long!`)}function yo(t,e){if(e!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function oy(t,{nestedValidation:e=!0,debugPath:r="script"}={}){if(Ni(r,t,["codeHash","hashType","args"],[]),Rf(`${r}.codeHash`,t.codeHash),Ps(`${r}.args`,t.args),t.hashType!=="data"&&t.hashType!=="type"&&t.hashType!=="data1"&&t.hashType!=="data2")throw new Error(`${r}.hashType must be either data or type!`)}function g8(t,{nestedValidation:e=!0,debugPath:r="outPoint"}={}){Ni(r,t,["txHash","index"],[]),Rf(`${r}.txHash`,t.txHash),yo(`${r}.index`,t.index)}function wO(t,{nestedValidation:e=!0,debugPath:r="cellInput"}={}){Ni(r,t,["since","previousOutput"],[]),yo(`${r}.since`,t.since),e&&g8(t.previousOutput,{debugPath:`${r}.previousOutput`})}function AO(t,{nestedValidation:e=!0,debugPath:r="cellOutput"}={}){Ni(r,t,["capacity","lock"],["type"]),yo(`${r}.capacity`,t.capacity),e&&(oy(t.lock,{debugPath:`${r}.lock`}),t.type&&oy(t.type,{debugPath:`${r}.type`}))}function EO(t,{nestedValidation:e=!0,debugPath:r="cellDep"}={}){if(Ni(r,t,["outPoint","depType"],[]),t.depType!=="code"&&t.depType!=="depGroup")throw new Error(`${r}.depType must be either code or depGroup!`);e&&g8(t.outPoint,{debugPath:`${r}.outPoint`})}function Ts(t,e,r,n){if(!Array.isArray(e))throw new Error(`${t} is not an array!`);if(n)for(let i=0;i<e.length;i++)r(`${t}[${i}]`,e[i])}function ep(t,e){return function(r,n){t(n,{nestedValidation:e,debugPath:r})}}function xO(t,e,r){yo(`${t}.version`,e.version),Ts(`${t}.cellDeps`,e.cellDeps,ep(EO,r),r),Ts(`${t}.headerDeps`,e.headerDeps,Rf,r),Ts(`${t}.inputs`,e.inputs,ep(wO,r),r),Ts(`${t}.outputs`,e.outputs,ep(AO,r),r),Ts(`${t}.outputsData`,e.outputsData,Ps,r)}function oF(t,{nestedValidation:e=!0,debugPath:r="rawTransaction"}={}){Ni(r,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),xO(r,t,e)}function SO(t,{nestedValidation:e=!0,debugPath:r="transaction"}={}){Ni(r,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),xO(r,t,e),Ts(`${r}.witnesses`,t.witnesses,Ps,e)}function fF(t,e){yo(`${t}.version`,e.version),yo(`${t}.compactTarget`,e.compactTarget),yo(`${t}.timestamp`,e.timestamp),yo(`${t}.number`,e.number),yo(`${t}.epoch`,e.epoch),Rf(`${t}.parentHash`,e.parentHash),Rf(`${t}.transactionsRoot`,e.transactionsRoot),Rf(`${t}.proposalsHash`,e.proposalsHash),Rf(`${t}.extraHash`,e.extraHash),Rf(`${t}.dao`,e.dao)}function cF(t,{nestedValidation:e=!0,debugPath:r="rawHeader"}={}){Ni(r,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),fF(r,t)}function y8(t,{nestedValidation:e=!0,debugPath:r="header"}={}){if(Ni(r,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),Ps(`${r}.nonce`,t.nonce),t.nonce.length!==34)throw new Error(`${r}.nonce must be a hex string of 34 bytes long!`)}function IO(t,e){if(Ps(t,e),e.length!==22)throw new Error(`${t} must be a hex string of 22 bytes long!`)}function CO(t,{nestedValidation:e=!0,debugPath:r="uncleBlock"}={}){Ni(r,t,["header","proposals"],[]),e&&y8(t.header,{debugPath:`${r}.header`}),Ts(`${r}.proposals`,t.proposals,IO,e)}function uF(t,{nestedValidation:e=!0,debugPath:r="block"}={}){Ni(r,t,["header","uncles","transactions","proposals"],[]),e&&y8(t.header,{debugPath:`${r}.header`}),Ts(`${r}.uncles`,t.uncles,ep(CO,e),e),Ts(`${r}.transactions`,t.transactions,ep(SO,e),e),Ts(`${r}.proposals`,t.proposals,IO,e)}function lF(t,{nestedValidation:e=!0,debugPath:r="cellbaseWitness"}={}){Ni(r,t,["lock","message"],[]),Ps(`${r}.message`,t.message),e&&oy(t.lock,{debugPath:`${r}.lock`})}function dF(t,{nestedValidation:e=!0,debugPath:r="witnessArgs"}={}){Ni(r,t,[],["lock","inputType","outputType"]),t.lock&&Ps(`${r}.lock`,t.lock),t.inputType&&Ps(`${r}.inputType`,t.inputType),t.outputType&&Ps(`${r}.outputType`,t.outputType)}Object.defineProperty(hi,"__esModule",{value:!0});hi.TransformBlock=gF;hi.TransformCellInput=_8;hi.TransformCellOutput=m8;hi.TransformCellbaseWitness=yF;hi.TransformHeader=w8;hi.TransformOutPoint=v8;hi.TransformRawHeader=bF;hi.TransformRawTransaction=pF;hi.TransformScript=fy;hi.TransformTransaction=BO;hi.TransformUncleBlock=DO;hi.TransformWitnessArgs=vF;var Ui=hF(Mn);function TO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(TO=function(n){return n?r:e})(t)}function hF(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=TO(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Ne(t,e){return e instanceof Object&&e.serializeJson instanceof Function?e.serializeJson.call(e):e}function ki(t,e,r){if(e=Ne(t,e),!(e instanceof Object))throw new Error(`Transformed ${t} is not an object!`);const n={};for(const[i,a]of Object.entries(r)){let s=e[i];if(!s){const o=i.replace(/(_[a-z])/g,f=>f.toUpperCase().replace("_",""));s=e[o]}s&&(n[i]=a(`${t}.${i}`,s))}return n}function fy(t,{validation:e=!0,debugPath:r="script"}={}){return t=ki(r,t,{codeHash:Ne,hashType:Ne,args:Ne}),e&&Ui.ValidateScript(t,{debugPath:`(transformed) ${r}`}),t}function v8(t,{validation:e=!0,debugPath:r="outPoint"}={}){return t=ki(r,t,{txHash:Ne,index:Ne}),e&&Ui.ValidateOutPoint(t,{debugPath:`(transformed) ${r}`}),t}function Vn(t){return function(e,r){return t(r,{validation:!1,debugPath:e})}}function _8(t,{validation:e=!0,debugPath:r="cell_input"}={}){return t=ki(r,t,{since:Ne,previousOutput:Vn(v8)}),e&&Ui.ValidateCellInput(t,{debugPath:`(transformed) ${r}`}),t}function m8(t,{validation:e=!0,debugPath:r="cellOutput"}={}){return t=ki(r,t,{capacity:Ne,lock:Vn(fy),type:Vn(fy)}),e&&Ui.ValidateCellOutput(t,{debugPath:`(transformed) ${r}`}),t}function OO(t,{validation:e=!0,debugPath:r="cell_dep"}={}){return t=ki(r,t,{outPoint:Vn(v8),depType:Ne}),e&&Ui.ValidateCellDep(t,{debugPath:`(transformed) ${r}`}),t}function zn(t){return function(e,r){return r.map((n,i)=>t(`${e}[${i}]`,n))}}function pF(t,{validation:e=!0,debugPath:r="raw_transaction"}={}){return t=ki(r,t,{version:Ne,cellDeps:zn(Vn(OO)),headerDeps:zn(Ne),inputs:zn(Vn(_8)),outputs:zn(Vn(m8)),outputsData:zn(Ne)}),e&&Ui.ValidateRawTransaction(t,{debugPath:`(transformed) ${r}`}),t}function BO(t,{validation:e=!0,debugPath:r="transaction"}={}){return t=ki(r,t,{version:Ne,cellDeps:zn(Vn(OO)),headerDeps:zn(Ne),inputs:zn(Vn(_8)),outputs:zn(Vn(m8)),outputsData:zn(Ne),witnesses:zn(Ne)}),e&&Ui.ValidateTransaction(t,{debugPath:`(transformed) ${r}`}),t}function bF(t,{validation:e=!0,debugPath:r="raw_header"}={}){return t=ki(r,t,{version:Ne,compactTarget:Ne,timestamp:Ne,number:Ne,epoch:Ne,parentHash:Ne,transactionsRoot:Ne,proposalsHash:Ne,extraHash:Ne,dao:Ne}),e&&Ui.ValidateRawHeader(t,{debugPath:`(transformed) ${r}`}),t}function w8(t,{validation:e=!0,debugPath:r="header"}={}){return t=ki(r,t,{version:Ne,compactTarget:Ne,timestamp:Ne,number:Ne,epoch:Ne,parentHash:Ne,transactionsRoot:Ne,proposalsHash:Ne,extraHash:Ne,dao:Ne,nonce:Ne}),e&&Ui.ValidateHeader(t,{debugPath:`(transformed) ${r}`}),t}function DO(t,{validation:e=!0,debugPath:r="uncle_block"}={}){return t=ki(r,t,{header:Vn(w8),proposals:zn(Ne)}),e&&Ui.ValidateUncleBlock(t,{debugPath:`(transformed) ${r}`}),t}function gF(t,{validation:e=!0,debugPath:r="block"}={}){return t=ki(r,t,{header:Vn(w8),uncles:zn(Vn(DO)),transactions:zn(Vn(BO)),proposals:zn(Ne)}),e&&Ui.ValidateBlock(t,{debugPath:`(transformed) ${r}`}),t}function yF(t,{validation:e=!0,debugPath:r="cellbase_witness"}={}){return t=ki(r,t,{lock:Vn(fy),message:Ne}),e&&Ui.ValidateCellbaseWitness(t,{debugPath:`(transformed) ${r}`}),t}function vF(t,{validation:e=!0,debugPath:r="witness_args"}={}){return t=ki(r,t,{lock:Ne,inputType:Ne,outputType:Ne}),e&&Ui.ValidateWitnessArgs(t,{debugPath:`(transformed) ${r}`}),t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return e.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var e=v1,r=s(Jn);t.normalizers=r;var n=s(hi);t.transformers=n;var i=s(Mn);t.validators=i;function a(o){if(typeof WeakMap!="function")return null;var f=new WeakMap,c=new WeakMap;return(a=function(u){return u?c:f})(o)}function s(o,f){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var c=a(f);if(c&&c.has(o))return c.get(o);var u={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(p!=="default"&&{}.hasOwnProperty.call(o,p)){var g=l?Object.getOwnPropertyDescriptor(o,p):null;g&&(g.get||g.set)?Object.defineProperty(u,p,g):u[p]=o[p]}return u.default=o,c&&c.set(o,u),u}t.VERSION="__development_build__"})(d8);Object.defineProperty(Jf,"__esModule",{value:!0});Jf.default=Jf.TransactionCollector=Jf.Indexer=void 0;var Ub=d8,tA=St,rA=y1;class _F{}Jf.Indexer=_F;class MO{constructor(e,{lock:r,type:n,argsLen:i=-1,fromBlock:a,toBlock:s,order:o="asc",skip:f}={},{skipMissing:c=!1,includeStatus:u=!0}={}){if(!r&&(!n||n==="empty"))throw new Error("Either lock or type script must be provided!");if(r&&!(0,rA.isScriptWrapper)(r)?(Ub.validators.ValidateScript(r),this.lock={script:r,ioType:"both",argsLen:i}):r&&r.script&&(Ub.validators.ValidateScript(r.script),this.lock=r,r.argsLen||(this.lock.argsLen=i),r.ioType||(this.lock.ioType="both")),n==="empty"?this.type=n:n&&!(0,rA.isScriptWrapper)(n)?(Ub.validators.ValidateScript(n),this.type={script:n,ioType:"both",argsLen:i}):n&&n.script&&(Ub.validators.ValidateScript(n.script),this.type=n,n.argsLen||(this.type.argsLen=i),n.ioType||(this.type.ioType="both")),a&&(0,tA.assertHexadecimal)("fromBlock",a),s&&(0,tA.assertHexadecimal)("toBlock",s),o!=="asc"&&o!=="desc")throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=c,this.includeStatus=u,this.fromBlock=a,this.toBlock=s,this.order=o,this.skip=f,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const r of e){const n=await this.rpc.get_transaction(r);if(!this.skipMissing&&!n)throw new Error(`Transaction ${r} is missing!`);this.includeStatus?yield n:yield n.transaction}}}Jf.TransactionCollector=MO;const mF={TransactionCollector:MO};Jf.default=mF;var l2={};Object.defineProperty(l2,"__esModule",{value:!0});l2.defaultLogger=RO;l2.deprecated=wF;function RO(t,e){const r=`[${t}] ${e}`;if(t==="error"||t==="warn")return console.warn(r);console.log(`[${t}] ${e}`)}function wF(t){RO("deprecated",t)}var LO={};Object.defineProperty(LO,"__esModule",{value:!0});var HO={};Object.defineProperty(HO,"__esModule",{value:!0});(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var r=p(Wa);t.values=r;var n=p(St);t.utils=n;var i=p(Pi);t.since=i;var a=p(y1);t.helpers=a;var s=p(Jf);t.indexer=s,Object.keys(s).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(e,g)||g in t&&t[g]===s[g]||Object.defineProperty(t,g,{enumerable:!0,get:function(){return s[g]}})});var o=p(l2);t.logger=o;var f=p(Ee);t.blockchain=f;var c=LO;Object.keys(c).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(e,g)||g in t&&t[g]===c[g]||Object.defineProperty(t,g,{enumerable:!0,get:function(){return c[g]}})});var u=HO;Object.keys(u).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(e,g)||g in t&&t[g]===u[g]||Object.defineProperty(t,g,{enumerable:!0,get:function(){return u[g]}})});function l(g){if(typeof WeakMap!="function")return null;var m=new WeakMap,A=new WeakMap;return(l=function(S){return S?A:m})(g)}function p(g,m){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var A=l(m);if(A&&A.has(g))return A.get(g);var S={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in g)if(C!=="default"&&{}.hasOwnProperty.call(g,C)){var O=w?Object.getOwnPropertyDescriptor(g,C):null;O&&(O.get||O.set)?Object.defineProperty(S,C,O):S[C]=g[C]}return S.default=g,A&&A.set(g,S),S}})(Ir);var cc={};Object.defineProperty(cc,"__esModule",{value:!0});var Dp=cc.bech32m=Au=cc.bech32=void 0;const cy="qpzry9x8gf2tvdw0s3jn54khce6mua7l",PO={};for(let t=0;t<cy.length;t++){const e=cy.charAt(t);PO[e]=t}function jl(t){const e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function nA(t){let e=1;for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=jl(e)^n>>5}e=jl(e);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e=jl(e)^n&31}return e}function A8(t,e,r,n){let i=0,a=0;const s=(1<<r)-1,o=[];for(let f=0;f<t.length;++f)for(i=i<<e|t[f],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function AF(t){return A8(t,8,5,!0)}function EF(t){const e=A8(t,5,8,!1);if(Array.isArray(e))return e}function xF(t){const e=A8(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function NO(t){let e;t==="bech32"?e=1:e=734539939;function r(s,o,f){if(f=f||90,s.length+7+o.length>f)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let c=nA(s);if(typeof c=="string")throw new Error(c);let u=s+"1";for(let l=0;l<o.length;++l){const p=o[l];if(p>>5)throw new Error("Non 5-bit word");c=jl(c)^p,u+=cy.charAt(p)}for(let l=0;l<6;++l)c=jl(c);c^=e;for(let l=0;l<6;++l){const p=c>>(5-l)*5&31;u+=cy.charAt(p)}return u}function n(s,o){if(o=o||90,s.length<8)return s+" too short";if(s.length>o)return"Exceeds length limit";const f=s.toLowerCase(),c=s.toUpperCase();if(s!==f&&s!==c)return"Mixed-case string "+s;s=f;const u=s.lastIndexOf("1");if(u===-1)return"No separator character for "+s;if(u===0)return"Missing prefix for "+s;const l=s.slice(0,u),p=s.slice(u+1);if(p.length<6)return"Data too short";let g=nA(l);if(typeof g=="string")return g;const m=[];for(let A=0;A<p.length;++A){const S=p.charAt(A),w=PO[S];if(w===void 0)return"Unknown character "+S;g=jl(g)^w,!(A+6>=p.length)&&m.push(w)}return g!==e?"Invalid checksum for "+s:{prefix:l,words:m}}function i(s,o){const f=n(s,o);if(typeof f=="object")return f}function a(s,o){const f=n(s,o);if(typeof f=="object")return f;throw new Error(f)}return{decodeUnsafe:i,decode:a,encode:r,toWords:AF,fromWordsUnsafe:EF,fromWords:xF}}var Au=cc.bech32=NO("bech32");Dp=cc.bech32m=NO("bech32m");var m1="delete",Ct=5,ha=1<<Ct,Kn=ha-1,Ge={};function e6(){return{value:!1}}function pa(t){t&&(t.value=!0)}function E8(){}function wd(t){return t.size===void 0&&(t.size=t.__iterate(UO)),t.size}function uc(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?wd(t)+e:e}function UO(){return!0}function w1(t,e,r){return(t===0&&!zO(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function s0(t,e){return kO(t,e,0)}function A1(t,e){return kO(t,e,e)}function kO(t,e,r){return t===void 0?r:zO(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function zO(t){return t<0||t===0&&1/t===-1/0}var jO="@@__IMMUTABLE_ITERABLE__@@";function Tn(t){return!!(t&&t[jO])}var FO="@@__IMMUTABLE_KEYED__@@";function gt(t){return!!(t&&t[FO])}var $O="@@__IMMUTABLE_INDEXED__@@";function tn(t){return!!(t&&t[$O])}function o0(t){return gt(t)||tn(t)}var Ot=function(e){return Tn(e)?e:On(e)},Oa=function(t){function e(r){return gt(r)?r:wc(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),Uu=function(t){function e(r){return tn(r)?r:Ba(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),f0=function(t){function e(r){return Tn(r)&&!o0(r)?r:l0(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot);Ot.Keyed=Oa;Ot.Indexed=Uu;Ot.Set=f0;var qO="@@__IMMUTABLE_SEQ__@@";function E1(t){return!!(t&&t[qO])}var KO="@@__IMMUTABLE_RECORD__@@";function mc(t){return!!(t&&t[KO])}function zi(t){return Tn(t)||mc(t)}var c0="@@__IMMUTABLE_ORDERED__@@";function Ri(t){return!!(t&&t[c0])}var x1=0,ss=1,wa=2,t6=typeof Symbol=="function"&&Symbol.iterator,QO="@@iterator",d2=t6||QO,tt=function(e){this.next=e};tt.prototype.toString=function(){return"[Iterator]"};tt.KEYS=x1;tt.VALUES=ss;tt.ENTRIES=wa;tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()};tt.prototype[d2]=function(){return this};function Bt(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Wn(){return{value:void 0,done:!0}}function x8(t){return Array.isArray(t)?!0:!!h2(t)}function iA(t){return t&&typeof t.next=="function"}function r6(t){var e=h2(t);return e&&e.call(t)}function h2(t){var e=t&&(t6&&t[t6]||t[QO]);if(typeof e=="function")return e}function SF(t){var e=h2(t);return e&&e===t.entries}function IF(t){var e=h2(t);return e&&e===t.keys}var u0=Object.prototype.hasOwnProperty;function S8(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var On=function(t){function e(r){return r==null?C8():zi(r)?r.toSeq():TF(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var s=a.length,o=0;o!==s;){var f=a[i?s-++o:o++];if(n(f[1],f[0],this)===!1)break}return o}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var s=a.length,o=0;return new tt(function(){if(o===s)return Wn();var f=a[i?s-++o:o++];return Bt(n,f[0],f[1])})}return this.__iteratorUncached(n,i)},e}(Ot),wc=function(t){function e(r){return r==null?C8().toKeyedSeq():Tn(r)?gt(r)?r.toSeq():r.fromEntrySeq():mc(r)?r.toSeq():T8(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(On),Ba=function(t){function e(r){return r==null?C8():Tn(r)?gt(r)?r.entrySeq():r.toIndexedSeq():mc(r)?r.toSeq().entrySeq():VO(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(On),l0=function(t){function e(r){return(Tn(r)&&!o0(r)?r:Ba(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(On);On.isSeq=E1;On.Keyed=wc;On.Set=l0;On.Indexed=Ba;On.prototype[qO]=!0;var Eu=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[uc(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,s=a.length,o=0;o!==s;){var f=i?s-++o:o++;if(n(a[f],f,this)===!1)break}return o},e.prototype.__iterator=function(n,i){var a=this._array,s=a.length,o=0;return new tt(function(){if(o===s)return Wn();var f=i?s-++o:o++;return Bt(n,f,a[f])})},e}(Ba),I8=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return u0.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,s=this._keys,o=s.length,f=0;f!==o;){var c=s[i?o-++f:f++];if(n(a[c],c,this)===!1)break}return f},e.prototype.__iterator=function(n,i){var a=this._object,s=this._keys,o=s.length,f=0;return new tt(function(){if(f===o)return Wn();var c=s[i?o-++f:f++];return Bt(n,c,a[c])})},e}(wc);I8.prototype[c0]=!0;var CF=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,s=r6(a),o=0;if(iA(s))for(var f;!(f=s.next()).done&&n(f.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,s=r6(a);if(!iA(s))return new tt(Wn);var o=0;return new tt(function(){var f=s.next();return f.done?f:Bt(n,o++,f.value)})},e}(Ba),aA;function C8(){return aA||(aA=new Eu([]))}function T8(t){var e=O8(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new I8(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function VO(t){var e=O8(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function TF(t){var e=O8(t);if(e)return SF(t)?e.fromEntrySeq():IF(t)?e.toSetSeq():e;if(typeof t=="object")return new I8(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function O8(t){return S8(t)?new Eu(t):x8(t)?new CF(t):void 0}var YO="@@__IMMUTABLE_MAP__@@";function S1(t){return!!(t&&t[YO])}function p2(t){return S1(t)&&Ri(t)}function uy(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function xr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(uy(t)&&uy(e)&&t.equals(e))}var ih=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function b2(t){return t>>>1&1073741824|t&3221225471}var OF=Object.prototype.valueOf;function jn(t){if(t==null)return sA(t);if(typeof t.hashCode=="function")return b2(t.hashCode(t));var e=HF(t);if(e==null)return sA(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return BF(e);case"string":return e.length>PF?DF(e):n6(e);case"object":case"function":return RF(e);case"symbol":return MF(e);default:if(typeof e.toString=="function")return n6(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function sA(t){return t===null?1108378658:1108378659}function BF(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return b2(e)}function DF(t){var e=M_[t];return e===void 0&&(e=n6(t),D_===NF&&(D_=0,M_={}),D_++,M_[t]=e),e}function n6(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return b2(e)}function MF(t){var e=cA[t];return e!==void 0||(e=GO(),cA[t]=e),e}function RF(t){var e;if(i6&&(e=a6.get(t),e!==void 0)||(e=t[kc],e!==void 0)||!fA&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[kc],e!==void 0||(e=LF(t),e!==void 0)))return e;if(e=GO(),i6)a6.set(t,e);else{if(oA!==void 0&&oA(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(fA)Object.defineProperty(t,kc,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kc]=e;else if(t.nodeType!==void 0)t[kc]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var oA=Object.isExtensible,fA=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function LF(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function HF(t){return t.valueOf!==OF&&typeof t.valueOf=="function"?t.valueOf(t):t}function GO(){var t=++B_;return B_&1073741824&&(B_=0),t}var i6=typeof WeakMap=="function",a6;i6&&(a6=new WeakMap);var cA=Object.create(null),B_=0,kc="__immutablehash__";typeof Symbol=="function"&&(kc=Symbol(kc));var PF=16,NF=255,D_=0,M_={},g2=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=B8(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,s=eB(this,n,i);return this._useKeys||(s.valueSeq=function(){return a._iter.toSeq().map(n,i)}),s},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s,o){return n(s,o,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(wc);g2.prototype[c0]=!0;var WO=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,s=0;return i&&wd(this),this._iter.__iterate(function(o){return n(o,i?a.size-++s:s++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,s=this._iter.__iterator(ss,i),o=0;return i&&wd(this),new tt(function(){var f=s.next();return f.done?f:Bt(n,i?a.size-++o:o++,f.value,f)})},e}(Ba),XO=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){return n(s,s,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ss,i);return new tt(function(){var s=a.next();return s.done?s:Bt(n,s.value,s.value,s)})},e}(l0),ZO=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){if(s){lA(s);var o=Tn(s);return n(o?s.get(1):s[1],o?s.get(0):s[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ss,i);return new tt(function(){for(;;){var s=a.next();if(s.done)return s;var o=s.value;if(o){lA(o);var f=Tn(o);return Bt(n,f?o.get(0):o[0],f?o.get(1):o[1],s)}}})},e}(wc);WO.prototype.cacheResult=g2.prototype.cacheResult=XO.prototype.cacheResult=ZO.prototype.cacheResult=R8;function JO(t){var e=Xs(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=R8,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,s){return r(s,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===wa){var i=t.__iterator(r,n);return new tt(function(){var a=i.next();if(!a.done){var s=a.value[0];a.value[0]=a.value[1],a.value[1]=s}return a})}return t.__iterator(r===ss?x1:ss,n)},e}function eB(t,e,r){var n=Xs(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var s=t.get(i,Ge);return s===Ge?a:e.call(r,s,i,t)},n.__iterateUncached=function(i,a){var s=this;return t.__iterate(function(o,f,c){return i(e.call(r,o,f,c),f,s)!==!1},a)},n.__iteratorUncached=function(i,a){var s=t.__iterator(wa,a);return new tt(function(){var o=s.next();if(o.done)return o;var f=o.value,c=f[0];return Bt(i,c,e.call(r,f[1],c,t),o)})},n}function B8(t,e){var r=this,n=Xs(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=JO(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=R8,n.__iterate=function(i,a){var s=this,o=0;return a&&wd(t),t.__iterate(function(f,c){return i(f,e?c:a?s.size-++o:o++,s)},!a)},n.__iterator=function(i,a){var s=0;a&&wd(t);var o=t.__iterator(wa,!a);return new tt(function(){var f=o.next();if(f.done)return f;var c=f.value;return Bt(i,e?c[0]:a?r.size-++s:s++,c[1],f)})},n}function tB(t,e,r,n){var i=Xs(t);return n&&(i.has=function(a){var s=t.get(a,Ge);return s!==Ge&&!!e.call(r,s,a,t)},i.get=function(a,s){var o=t.get(a,Ge);return o!==Ge&&e.call(r,o,a,t)?o:s}),i.__iterateUncached=function(a,s){var o=this,f=0;return t.__iterate(function(c,u,l){if(e.call(r,c,u,l))return f++,a(c,n?u:f-1,o)},s),f},i.__iteratorUncached=function(a,s){var o=t.__iterator(wa,s),f=0;return new tt(function(){for(;;){var c=o.next();if(c.done)return c;var u=c.value,l=u[0],p=u[1];if(e.call(r,p,l,t))return Bt(a,n?l:f++,p,c)}})},i}function UF(t,e,r){var n=Zo().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(s){return s+1})}),n.asImmutable()}function kF(t,e,r){var n=gt(t),i=(Ri(t)?os():Zo()).asMutable();t.__iterate(function(s,o){i.update(e.call(r,s,o,t),function(f){return f=f||[],f.push(n?[o,s]:s),f})});var a=M8(t);return i.map(function(s){return ht(t,a(s))}).asImmutable()}function zF(t,e,r){var n=gt(t),i=[[],[]];t.__iterate(function(s,o){i[e.call(r,s,o,t)?1:0].push(n?[o,s]:s)});var a=M8(t);return i.map(function(s){return ht(t,a(s))})}function D8(t,e,r,n){var i=t.size;if(w1(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return D8(t.toSeq().cacheResult(),e,r,n);var a=s0(e,i),s=A1(r,i),o=s-a,f;o===o&&(f=o<0?0:o);var c=Xs(t);return c.size=f===0?f:t.size&&f||void 0,!n&&E1(t)&&f>=0&&(c.get=function(u,l){return u=uc(this,u),u>=0&&u<f?t.get(u+a,l):l}),c.__iterateUncached=function(u,l){var p=this;if(f===0)return 0;if(l)return this.cacheResult().__iterate(u,l);var g=0,m=!0,A=0;return t.__iterate(function(S,w){if(!(m&&(m=g++<a)))return A++,u(S,n?w:A-1,p)!==!1&&A!==f}),A},c.__iteratorUncached=function(u,l){if(f!==0&&l)return this.cacheResult().__iterator(u,l);if(f===0)return new tt(Wn);var p=t.__iterator(u,l),g=0,m=0;return new tt(function(){for(;g++<a;)p.next();if(++m>f)return Wn();var A=p.next();return n||u===ss||A.done?A:u===x1?Bt(u,m-1,void 0,A):Bt(u,m-1,A.value[1],A)})},c}function jF(t,e,r){var n=Xs(t);return n.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var o=0;return t.__iterate(function(f,c,u){return e.call(r,f,c,u)&&++o&&i(f,c,s)}),o},n.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(wa,a),f=!0;return new tt(function(){if(!f)return Wn();var c=o.next();if(c.done)return c;var u=c.value,l=u[0],p=u[1];return e.call(r,p,l,s)?i===wa?c:Bt(i,l,p,c):(f=!1,Wn())})},n}function rB(t,e,r,n){var i=Xs(t);return i.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var f=!0,c=0;return t.__iterate(function(u,l,p){if(!(f&&(f=e.call(r,u,l,p))))return c++,a(u,n?l:c-1,o)}),c},i.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var f=t.__iterator(wa,s),c=!0,u=0;return new tt(function(){var l,p,g;do{if(l=f.next(),l.done)return n||a===ss?l:a===x1?Bt(a,u++,void 0,l):Bt(a,u++,l.value[1],l);var m=l.value;p=m[0],g=m[1],c&&(c=e.call(r,g,p,o))}while(c);return a===wa?l:Bt(a,p,g,l)})},i}function FF(t,e){var r=gt(t),n=[t].concat(e).map(function(s){return Tn(s)?r&&(s=Oa(s)):s=r?T8(s):VO(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&gt(i)||tn(t)&&tn(i))return i}var a=new Eu(n);return r?a=a.toKeyedSeq():tn(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(s,o){if(s!==void 0){var f=o.size;if(f!==void 0)return s+f}},0),a}function nB(t,e,r){var n=Xs(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var s=0,o=!1;function f(c,u){c.__iterate(function(l,p){return(!e||u<e)&&Tn(l)?f(l,u+1):(s++,i(l,r?p:s-1,n)===!1&&(o=!0)),!o},a)}return f(t,0),s},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(i,a),o=[],f=0;return new tt(function(){for(;s;){var c=s.next();if(c.done!==!1){s=o.pop();continue}var u=c.value;if(i===wa&&(u=u[1]),(!e||o.length<e)&&Tn(u))o.push(s),s=u.__iterator(i,a);else return r?c:Bt(i,f++,u,c)}return Wn()})},n}function $F(t,e,r){var n=M8(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function qF(t,e){var r=Xs(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,s=0;return t.__iterate(function(o){return(!s||n(e,s++,a)!==!1)&&n(o,s++,a)!==!1},i),s},r.__iteratorUncached=function(n,i){var a=t.__iterator(ss,i),s=0,o;return new tt(function(){return(!o||s%2)&&(o=a.next(),o.done)?o:s%2?Bt(n,s++,e):Bt(n,s++,o.value,o)})},r}function Ad(t,e,r){e||(e=iB);var n=gt(t),i=0,a=t.toSeq().map(function(s,o){return[o,s,i++,r?r(s,o,t):s]}).valueSeq().toArray();return a.sort(function(s,o){return e(s[3],o[3])||s[2]-o[2]}).forEach(n?function(s,o){a[o].length=2}:function(s,o){a[o]=s[1]}),n?wc(a):tn(t)?Ba(a):l0(a)}function kb(t,e,r){if(e||(e=iB),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return uA(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return uA(e,i,a)?a:i})}function uA(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function zb(t,e,r,n){var i=Xs(t),a=new Eu(r).map(function(s){return s.size});return i.size=n?a.max():a.min(),i.__iterate=function(s,o){for(var f=this.__iterator(ss,o),c,u=0;!(c=f.next()).done&&s(c.value,u++,this)!==!1;);return u},i.__iteratorUncached=function(s,o){var f=r.map(function(l){return l=Ot(l),r6(o?l.reverse():l)}),c=0,u=!1;return new tt(function(){var l;return u||(l=f.map(function(p){return p.next()}),u=n?l.every(function(p){return p.done}):l.some(function(p){return p.done})),u?Wn():Bt(s,c++,e.apply(null,l.map(function(p){return p.value})))})},i}function ht(t,e){return t===e?t:E1(t)?e:t.constructor(e)}function lA(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function M8(t){return gt(t)?Oa:tn(t)?Uu:f0}function Xs(t){return Object.create((gt(t)?wc:tn(t)?Ba:l0).prototype)}function R8(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):On.prototype.cacheResult.call(this)}function iB(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Os(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function L8(t,e){if(!t)throw new Error(e)}function Ii(t){L8(t!==1/0,"Cannot perform this action with an infinite size.")}function aB(t){if(S8(t)&&typeof t!="string")return t;if(Ri(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var KF=Object.prototype.toString;function y2(t){if(!t||typeof t!="object"||KF.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function lc(t){return typeof t=="object"&&(zi(t)||Array.isArray(t)||y2(t))}function Mp(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function H8(t,e){return zi(t)?t.has(e):lc(t)&&u0.call(t,e)}function v2(t,e,r){return zi(t)?t.get(e,r):H8(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function ly(t){if(Array.isArray(t))return Os(t);var e={};for(var r in t)u0.call(t,r)&&(e[r]=t[r]);return e}function P8(t,e){if(!lc(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(zi(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!u0.call(t,e))return t;var r=ly(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function N8(t,e,r){if(!lc(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(zi(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(u0.call(t,e)&&r===t[e])return t;var n=ly(t);return n[e]=r,n}function Ac(t,e,r,n){n||(n=r,r=void 0);var i=sB(zi(t),t,aB(e),0,r,n);return i===Ge?r:i}function sB(t,e,r,n,i,a){var s=e===Ge;if(n===r.length){var o=s?i:e,f=a(o);return f===o?e:f}if(!s&&!lc(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Mp)+"]: "+e);var c=r[n],u=s?Ge:v2(e,c,Ge),l=sB(u===Ge?t:zi(u),u,r,n+1,i,a);return l===u?e:l===Ge?P8(e,c):N8(s?t?Va():{}:e,c,l)}function U8(t,e,r){return Ac(t,e,Ge,function(){return r})}function k8(t,e){return U8(this,t,e)}function z8(t,e){return Ac(t,e,function(){return Ge})}function j8(t){return z8(this,t)}function _2(t,e,r,n){return Ac(t,[e],r,n)}function F8(t,e,r){return arguments.length===1?t(this):_2(this,t,e,r)}function $8(t,e,r){return Ac(this,t,e,r)}function oB(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return cB(this,t)}function fB(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return cB(this,e,t)}function cB(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=Oa(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(s){for(var o=r?function(c,u){_2(s,u,Ge,function(l){return l===Ge?c:r(l,c,u)})}:function(c,u){s.set(u,c)},f=0;f<n.length;f++)n[f].forEach(o)})}function uB(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return C1(t,e)}function lB(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return C1(e,r,t)}function dB(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return I1(t,e)}function hB(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return I1(e,r,t)}function I1(t,e,r){return C1(t,e,QF(r))}function C1(t,e,r){if(!lc(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(zi(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?Uu:Oa,s=n?function(f){i===t&&(i=ly(i)),i.push(f)}:function(f,c){var u=u0.call(i,c),l=u&&r?r(i[c],f,c):f;(!u||l!==i[c])&&(i===t&&(i=ly(i)),i[c]=l)},o=0;o<e.length;o++)a(e[o]).forEach(s);return i}function QF(t){function e(r,n,i){return lc(r)&&lc(n)&&VF(r,n)?C1(r,[n],e):t?t(r,n,i):n}return e}function VF(t,e){var r=On(t),n=On(e);return tn(r)===tn(n)&&gt(r)===gt(n)}function pB(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return I1(this,t)}function bB(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return I1(this,e,t)}function q8(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ac(this,t,Va(),function(n){return C1(n,e)})}function K8(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ac(this,t,Va(),function(n){return I1(n,e)})}function T1(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function O1(){return this.__ownerID?this:this.__ensureOwner(new E8)}function B1(){return this.__ensureOwner()}function Q8(){return this.__altered}var Zo=function(t){function e(r){return r==null?Va():S1(r)&&!Ri(r)?r:Va().withMutations(function(n){var i=t(r);Ii(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Va().withMutations(function(a){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);a.set(n[s],n[s+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return pA(this,n,i)},e.prototype.remove=function(n){return pA(this,n,Ge)},e.prototype.deleteAll=function(n){var i=Ot(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(s){return a.remove(s)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Va()},e.prototype.sort=function(n){return os(Ad(this,n))},e.prototype.sortBy=function(n,i){return os(Ad(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){s.forEach(function(o,f){s.set(f,n.call(i,o,f,a))})})},e.prototype.__iterator=function(n,i){return new YF(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,s=0;return this._root&&this._root.iterate(function(o){return s++,n(o[1],o[0],a)},i),s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?V8(this.size,this._root,n,this.__hash):this.size===0?Va():(this.__ownerID=n,this.__altered=!1,this)},e}(Oa);Zo.isMap=S1;var Mt=Zo.prototype;Mt[YO]=!0;Mt[m1]=Mt.remove;Mt.removeAll=Mt.deleteAll;Mt.setIn=k8;Mt.removeIn=Mt.deleteIn=j8;Mt.update=F8;Mt.updateIn=$8;Mt.merge=Mt.concat=oB;Mt.mergeWith=fB;Mt.mergeDeep=pB;Mt.mergeDeepWith=bB;Mt.mergeIn=q8;Mt.mergeDeepIn=K8;Mt.withMutations=T1;Mt.wasAltered=Q8;Mt.asImmutable=B1;Mt["@@transducer/init"]=Mt.asMutable=O1;Mt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Mt["@@transducer/result"]=function(t){return t.asImmutable()};var Rp=function(e,r){this.ownerID=e,this.entries=r};Rp.prototype.get=function(e,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(xr(n,a[s][0]))return a[s][1];return i};Rp.prototype.update=function(e,r,n,i,a,s,o){for(var f=a===Ge,c=this.entries,u=0,l=c.length;u<l&&!xr(i,c[u][0]);u++);var p=u<l;if(p?c[u][1]===a:f)return this;if(pa(o),(f||!p)&&pa(s),!(f&&c.length===1)){if(!p&&!f&&c.length>=e$)return GF(e,c,i,a);var g=e&&e===this.ownerID,m=g?c:Os(c);return p?f?u===l-1?m.pop():m[u]=m.pop():m[u]=[i,a]:m.push([i,a]),g?(this.entries=m,this):new Rp(e,m)}};var Ed=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Ed.prototype.get=function(e,r,n,i){r===void 0&&(r=jn(n));var a=1<<((e===0?r:r>>>e)&Kn),s=this.bitmap;return s&a?this.nodes[gB(s&a-1)].get(e+Ct,r,n,i):i};Ed.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=jn(i));var f=(r===0?n:n>>>r)&Kn,c=1<<f,u=this.bitmap,l=(u&c)!==0;if(!l&&a===Ge)return this;var p=gB(u&c-1),g=this.nodes,m=l?g[p]:void 0,A=Y8(m,e,r+Ct,n,i,a,s,o);if(A===m)return this;if(!l&&A&&g.length>=t$)return XF(e,g,u,f,A);if(l&&!A&&g.length===2&&bA(g[p^1]))return g[p^1];if(l&&A&&g.length===1&&bA(A))return A;var S=e&&e===this.ownerID,w=l?A?u:u^c:u|c,C=l?A?yB(g,p,A,S):JF(g,p,S):ZF(g,p,A,S);return S?(this.bitmap=w,this.nodes=C,this):new Ed(e,w,C)};var Lp=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};Lp.prototype.get=function(e,r,n,i){r===void 0&&(r=jn(n));var a=(e===0?r:r>>>e)&Kn,s=this.nodes[a];return s?s.get(e+Ct,r,n,i):i};Lp.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=jn(i));var f=(r===0?n:n>>>r)&Kn,c=a===Ge,u=this.nodes,l=u[f];if(c&&!l)return this;var p=Y8(l,e,r+Ct,n,i,a,s,o);if(p===l)return this;var g=this.count;if(!l)g++;else if(!p&&(g--,g<r$))return WF(e,u,g,f);var m=e&&e===this.ownerID,A=yB(u,f,p,m);return m?(this.count=g,this.nodes=A,this):new Lp(e,g,A)};var xd=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};xd.prototype.get=function(e,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(xr(n,a[s][0]))return a[s][1];return i};xd.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=jn(i));var f=a===Ge;if(n!==this.keyHash)return f?this:(pa(o),pa(s),G8(this,e,r,n,[i,a]));for(var c=this.entries,u=0,l=c.length;u<l&&!xr(i,c[u][0]);u++);var p=u<l;if(p?c[u][1]===a:f)return this;if(pa(o),(f||!p)&&pa(s),f&&l===2)return new Fo(e,this.keyHash,c[u^1]);var g=e&&e===this.ownerID,m=g?c:Os(c);return p?f?u===l-1?m.pop():m[u]=m.pop():m[u]=[i,a]:m.push([i,a]),g?(this.entries=m,this):new xd(e,this.keyHash,m)};var Fo=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Fo.prototype.get=function(e,r,n,i){return xr(n,this.entry[0])?this.entry[1]:i};Fo.prototype.update=function(e,r,n,i,a,s,o){var f=a===Ge,c=xr(i,this.entry[0]);if(c?a===this.entry[1]:f)return this;if(pa(o),f){pa(s);return}return c?e&&e===this.ownerID?(this.entry[1]=a,this):new Fo(e,this.keyHash,[i,a]):(pa(s),G8(this,e,r,jn(i),[i,a]))};Rp.prototype.iterate=xd.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Ed.prototype.iterate=Lp.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};Fo.prototype.iterate=function(t,e){return t(this.entry)};var YF=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&dA(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,s=i.index++,o=void 0;if(a.entry){if(s===0)return R_(n,a.entry)}else if(a.entries){if(o=a.entries.length-1,s<=o)return R_(n,a.entries[this._reverse?o-s:s])}else if(o=a.nodes.length-1,s<=o){var f=a.nodes[this._reverse?o-s:s];if(f){if(f.entry)return R_(n,f.entry);i=this._stack=dA(f,i)}continue}i=this._stack=this._stack.__prev}return Wn()},e}(tt);function R_(t,e){return Bt(t,e[0],e[1])}function dA(t,e){return{node:t,index:0,__prev:e}}function V8(t,e,r,n){var i=Object.create(Mt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var hA;function Va(){return hA||(hA=V8(0))}function pA(t,e,r){var n,i;if(t._root){var a=e6(),s=e6();if(n=Y8(t._root,t.__ownerID,0,void 0,e,r,a,s),!s.value)return t;i=t.size+(a.value?r===Ge?-1:1:0)}else{if(r===Ge)return t;i=1,n=new Rp(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?V8(i,n):Va()}function Y8(t,e,r,n,i,a,s,o){return t?t.update(e,r,n,i,a,s,o):a===Ge?t:(pa(o),pa(s),new Fo(e,n,[i,a]))}function bA(t){return t.constructor===Fo||t.constructor===xd}function G8(t,e,r,n,i){if(t.keyHash===n)return new xd(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&Kn,s=(r===0?n:n>>>r)&Kn,o,f=a===s?[G8(t,e,r+Ct,n,i)]:(o=new Fo(e,n,i),a<s?[t,o]:[o,t]);return new Ed(e,1<<a|1<<s,f)}function GF(t,e,r,n){t||(t=new E8);for(var i=new Fo(t,jn(r),[r,n]),a=0;a<e.length;a++){var s=e[a];i=i.update(t,0,void 0,s[0],s[1])}return i}function WF(t,e,r,n){for(var i=0,a=0,s=new Array(r),o=0,f=1,c=e.length;o<c;o++,f<<=1){var u=e[o];u!==void 0&&o!==n&&(i|=f,s[a++]=u)}return new Ed(t,i,s)}function XF(t,e,r,n,i){for(var a=0,s=new Array(ha),o=0;r!==0;o++,r>>>=1)s[o]=r&1?e[a++]:void 0;return s[n]=i,new Lp(t,a+1,s)}function gB(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function yB(t,e,r,n){var i=n?t:Os(t);return i[e]=r,i}function ZF(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),s=0,o=0;o<i;o++)o===e?(a[o]=r,s=-1):a[o]=t[o+s];return a}function JF(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,s=0;s<n;s++)s===e&&(a=1),i[s]=t[s+a];return i}var e$=ha/4,t$=ha/2,r$=ha/4,vB="@@__IMMUTABLE_LIST__@@";function m2(t){return!!(t&&t[vB])}var Aa=function(t){function e(r){var n=vg();if(r==null)return n;if(m2(r))return r;var i=t(r),a=i.size;return a===0?n:(Ii(a),a>0&&a<ha?Hp(0,a,Ct,null,new ec(i.toArray())):n.withMutations(function(s){s.setSize(a),i.forEach(function(o,f){return s.set(f,o)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=uc(this,n),n>=0&&n<this.size){n+=this._origin;var a=_B(this,n);return a&&a.array[n&Kn]}return i},e.prototype.set=function(n,i){return n$(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ct,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):vg()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){Sf(a,0,i+n.length);for(var s=0;s<n.length;s++)a.set(i+s,n[s])})},e.prototype.pop=function(){return Sf(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Sf(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return Sf(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var s=n[a],o=t(typeof s!="string"&&x8(s)?s:[s]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(f){i.forEach(function(c){return c.forEach(function(u){return f.push(u)})})})},e.prototype.setSize=function(n){return Sf(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){for(var o=0;o<a.size;o++)s.set(o,n.call(i,s.get(o),o,a))})},e.prototype.slice=function(n,i){var a=this.size;return w1(n,i,a)?this:Sf(this,s0(n,a),A1(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,s=gA(this,i);return new tt(function(){var o=s();return o===tp?Wn():Bt(n,i?--a:a++,o)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,s=gA(this,i),o;(o=s())!==tp&&n(o,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Hp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?vg():(this.__ownerID=n,this.__altered=!1,this)},e}(Uu);Aa.isList=m2;var _r=Aa.prototype;_r[vB]=!0;_r[m1]=_r.remove;_r.merge=_r.concat;_r.setIn=k8;_r.deleteIn=_r.removeIn=j8;_r.update=F8;_r.updateIn=$8;_r.mergeIn=q8;_r.mergeDeepIn=K8;_r.withMutations=T1;_r.wasAltered=Q8;_r.asImmutable=B1;_r["@@transducer/init"]=_r.asMutable=O1;_r["@@transducer/step"]=function(t,e){return t.push(e)};_r["@@transducer/result"]=function(t){return t.asImmutable()};var ec=function(e,r){this.array=e,this.ownerID=r};ec.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Kn;if(i>=this.array.length)return new ec([],e);var a=i===0,s;if(r>0){var o=this.array[i];if(s=o&&o.removeBefore(e,r-Ct,n),s===o&&a)return this}if(a&&!s)return this;var f=Sd(this,e);if(!a)for(var c=0;c<i;c++)f.array[c]=void 0;return s&&(f.array[i]=s),f};ec.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Kn;if(i>=this.array.length)return this;var a;if(r>0){var s=this.array[i];if(a=s&&s.removeAfter(e,r-Ct,n),a===s&&i===this.array.length-1)return this}var o=Sd(this,e);return o.array.splice(i+1),a&&(o.array[i]=a),o};var tp={};function gA(t,e){var r=t._origin,n=t._capacity,i=Pp(n),a=t._tail;return s(t._root,t._level,0);function s(c,u,l){return u===0?o(c,l):f(c,u,l)}function o(c,u){var l=u===i?a&&a.array:c&&c.array,p=u>r?0:r-u,g=n-u;return g>ha&&(g=ha),function(){if(p===g)return tp;var m=e?--g:p++;return l&&l[m]}}function f(c,u,l){var p,g=c&&c.array,m=l>r?0:r-l>>u,A=(n-l>>u)+1;return A>ha&&(A=ha),function(){for(;;){if(p){var S=p();if(S!==tp)return S;p=null}if(m===A)return tp;var w=e?--A:m++;p=s(g&&g[w],u-Ct,l+(w<<u))}}}}function Hp(t,e,r,n,i,a,s){var o=Object.create(_r);return o.size=e-t,o._origin=t,o._capacity=e,o._level=r,o._root=n,o._tail=i,o.__ownerID=a,o.__hash=s,o.__altered=!1,o}var yA;function vg(){return yA||(yA=Hp(0,0,Ct))}function n$(t,e,r){if(e=uc(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(s){e<0?Sf(s,e).set(0,r):Sf(s,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=e6();return e>=Pp(t._capacity)?n=s6(n,t.__ownerID,0,e,r,a):i=s6(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Hp(t._origin,t._capacity,t._level,i,n):t}function s6(t,e,r,n,i,a){var s=n>>>r&Kn,o=t&&s<t.array.length;if(!o&&i===void 0)return t;var f;if(r>0){var c=t&&t.array[s],u=s6(c,e,r-Ct,n,i,a);return u===c?t:(f=Sd(t,e),f.array[s]=u,f)}return o&&t.array[s]===i?t:(a&&pa(a),f=Sd(t,e),i===void 0&&s===f.array.length-1?f.array.pop():f.array[s]=i,f)}function Sd(t,e){return e&&t&&e===t.ownerID?t:new ec(t?t.array.slice():[],e)}function _B(t,e){if(e>=Pp(t._capacity))return t._tail;if(e<1<<t._level+Ct){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Kn],n-=Ct;return r}}function Sf(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new E8,i=t._origin,a=t._capacity,s=i+e,o=r===void 0?a:r<0?a+r:i+r;if(s===i&&o===a)return t;if(s>=o)return t.clear();for(var f=t._level,c=t._root,u=0;s+u<0;)c=new ec(c&&c.array.length?[void 0,c]:[],n),f+=Ct,u+=1<<f;u&&(s+=u,i+=u,o+=u,a+=u);for(var l=Pp(a),p=Pp(o);p>=1<<f+Ct;)c=new ec(c&&c.array.length?[c]:[],n),f+=Ct;var g=t._tail,m=p<l?_B(t,o-1):p>l?new ec([],n):g;if(g&&p>l&&s<a&&g.array.length){c=Sd(c,n);for(var A=c,S=f;S>Ct;S-=Ct){var w=l>>>S&Kn;A=A.array[w]=Sd(A.array[w],n)}A.array[l>>>Ct&Kn]=g}if(o<a&&(m=m&&m.removeAfter(n,0,o)),s>=p)s-=p,o-=p,f=Ct,c=null,m=m&&m.removeBefore(n,0,s);else if(s>i||p<l){for(u=0;c;){var C=s>>>f&Kn;if(C!==p>>>f&Kn)break;C&&(u+=(1<<f)*C),f-=Ct,c=c.array[C]}c&&s>i&&(c=c.removeBefore(n,f,s-u)),c&&p<l&&(c=c.removeAfter(n,f,p-u)),u&&(s-=u,o-=u)}return t.__ownerID?(t.size=o-s,t._origin=s,t._capacity=o,t._level=f,t._root=c,t._tail=m,t.__hash=void 0,t.__altered=!0,t):Hp(s,o,f,c,m)}function Pp(t){return t<ha?0:t-1>>>Ct<<Ct}var os=function(t){function e(r){return r==null?Ch():p2(r)?r:Ch().withMutations(function(n){var i=Oa(r);Ii(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ch()},e.prototype.set=function(n,i){return _A(this,n,i)},e.prototype.remove=function(n){return _A(this,n,Ge)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?W8(i,a,n,this.__hash):this.size===0?Ch():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(Zo);os.isOrderedMap=p2;os.prototype[c0]=!0;os.prototype[m1]=os.prototype.remove;function W8(t,e,r,n){var i=Object.create(os.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var vA;function Ch(){return vA||(vA=W8(Va(),vg()))}function _A(t,e,r){var n=t._map,i=t._list,a=n.get(e),s=a!==void 0,o,f;if(r===Ge){if(!s)return t;i.size>=ha&&i.size>=n.size*2?(f=i.filter(function(c,u){return c!==void 0&&a!==u}),o=f.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),t.__ownerID&&(o.__ownerID=f.__ownerID=t.__ownerID)):(o=n.remove(e),f=a===i.size-1?i.pop():i.set(a,void 0))}else if(s){if(r===i.get(a)[1])return t;o=n,f=i.set(a,[e,r])}else o=n.set(e,i.size),f=i.set(i.size,[e,r]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=f,t.__hash=void 0,t.__altered=!0,t):W8(o,f)}var mB="@@__IMMUTABLE_STACK__@@";function Np(t){return!!(t&&t[mB])}var D1=function(t){function e(r){return r==null?jb():Np(r)?r:jb().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=uc(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,s=arguments.length-1;s>=0;s--)a={value:n[s],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Th(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Np(n))return n;Ii(n.size);var i=this.size,a=this._head;return n.__iterate(function(s){i++,a={value:s,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Th(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):jb()},e.prototype.slice=function(n,i){if(w1(n,i,this.size))return this;var a=s0(n,this.size),s=A1(i,this.size);if(s!==this.size)return t.prototype.slice.call(this,n,i);for(var o=this.size-a,f=this._head;a--;)f=f.next;return this.__ownerID?(this.size=o,this._head=f,this.__hash=void 0,this.__altered=!0,this):Th(o,f)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Th(this.size,this._head,n,this.__hash):this.size===0?jb():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new Eu(this.toArray()).__iterate(function(f,c){return n(f,c,a)},i);for(var s=0,o=this._head;o&&n(o.value,s++,this)!==!1;)o=o.next;return s},e.prototype.__iterator=function(n,i){if(i)return new Eu(this.toArray()).__iterator(n,i);var a=0,s=this._head;return new tt(function(){if(s){var o=s.value;return s=s.next,Bt(n,a++,o)}return Wn()})},e}(Uu);D1.isStack=Np;var Xn=D1.prototype;Xn[mB]=!0;Xn.shift=Xn.pop;Xn.unshift=Xn.push;Xn.unshiftAll=Xn.pushAll;Xn.withMutations=T1;Xn.wasAltered=Q8;Xn.asImmutable=B1;Xn["@@transducer/init"]=Xn.asMutable=O1;Xn["@@transducer/step"]=function(t,e){return t.unshift(e)};Xn["@@transducer/result"]=function(t){return t.asImmutable()};function Th(t,e,r,n){var i=Object.create(Xn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var mA;function jb(){return mA||(mA=Th(0))}var wB="@@__IMMUTABLE_SET__@@";function M1(t){return!!(t&&t[wB])}function w2(t){return M1(t)&&Ri(t)}function X8(t,e){if(t===e)return!0;if(!Tn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||gt(t)!==gt(e)||tn(t)!==tn(e)||Ri(t)!==Ri(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!o0(t);if(Ri(t)){var n=t.entries();return e.every(function(f,c){var u=n.next().value;return u&&xr(u[1],f)&&(r||xr(u[0],c))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var s=!0,o=e.__iterate(function(f,c){if(r?!t.has(f):i?!xr(f,t.get(c,Ge)):!xr(t.get(c,Ge),f))return s=!1,!1});return s&&t.size===o}function ku(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function dy(t){if(!t||typeof t!="object")return t;if(!Tn(t)){if(!lc(t))return t;t=On(t)}if(gt(t)){var e={};return t.__iterate(function(n,i){e[i]=dy(n)}),e}var r=[];return t.__iterate(function(n){r.push(dy(n))}),r}var d0=function(t){function e(r){return r==null?Oh():M1(r)&&!Ri(r)?r:Oh().withMutations(function(n){var i=t(r);Ii(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Oa(n).keySeq())},e.intersect=function(n){return n=Ot(n).toArray(),n.length?rn.intersect.apply(e(n.pop()),n):Oh()},e.union=function(n){return n=Ot(n).toArray(),n.length?rn.union.apply(e(n.pop()),n):Oh()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Fb(this,this._map.set(n,n))},e.prototype.remove=function(n){return Fb(this,this._map.remove(n))},e.prototype.clear=function(){return Fb(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,s=!1,o=Fb(this,this._map.mapEntries(function(f){var c=f[1],u=n.call(i,c,c,a);return u!==c&&(s=!0),[u,u]},i));return s?o:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var s=0;s<n.length;s++)typeof n[s]=="string"?a.add(n[s]):t(n[s]).forEach(function(o){return a.add(o)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return t(s)});var a=[];return this.forEach(function(s){n.every(function(o){return o.includes(s)})||a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return t(s)});var a=[];return this.forEach(function(s){n.some(function(o){return o.includes(s)})&&a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},e.prototype.sort=function(n){return xu(Ad(this,n))},e.prototype.sortBy=function(n,i){return xu(Ad(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(s){return n(s,s,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(f0);d0.isSet=M1;var rn=d0.prototype;rn[wB]=!0;rn[m1]=rn.remove;rn.merge=rn.concat=rn.union;rn.withMutations=T1;rn.asImmutable=B1;rn["@@transducer/init"]=rn.asMutable=O1;rn["@@transducer/step"]=function(t,e){return t.add(e)};rn["@@transducer/result"]=function(t){return t.asImmutable()};rn.__empty=Oh;rn.__make=AB;function Fb(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function AB(t,e){var r=Object.create(rn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var wA;function Oh(){return wA||(wA=AB(Va()))}var Z8=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(L8(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(L_)return L_;L_=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+uc(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return w1(n,i,this.size)?this:(n=s0(n,this.size),i=A1(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,f=0;f!==a&&n(o,i?a-++f:f++,this)!==!1;)o+=i?-s:s;return f},e.prototype.__iterator=function(n,i){var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,f=0;return new tt(function(){if(f===a)return Wn();var c=o;return o+=i?-s:s,Bt(n,i?a-++f:f++,c)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:X8(this,n)},e}(Ba),L_;function A2(t,e,r){for(var n=aB(e),i=0;i!==n.length;)if(t=v2(t,n[i++],Ge),t===Ge)return r;return t}function EB(t,e){return A2(this,t,e)}function J8(t,e){return A2(t,e,Ge)!==Ge}function i$(t){return J8(this,t)}function xB(){Ii(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ot.isIterable=Tn;Ot.isKeyed=gt;Ot.isIndexed=tn;Ot.isAssociative=o0;Ot.isOrdered=Ri;Ot.Iterator=tt;ku(Ot,{toArray:function(){Ii(this.size);var e=new Array(this.size||0),r=gt(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new WO(this)},toJS:function(){return dy(this)},toKeyedSeq:function(){return new g2(this,!0)},toMap:function(){return Zo(this.toKeyedSeq())},toObject:xB,toOrderedMap:function(){return os(this.toKeyedSeq())},toOrderedSet:function(){return xu(gt(this)?this.valueSeq():this)},toSet:function(){return d0(gt(this)?this.valueSeq():this)},toSetSeq:function(){return new XO(this)},toSeq:function(){return tn(this)?this.toIndexedSeq():gt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return D1(gt(this)?this.valueSeq():this)},toList:function(){return Aa(gt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return ht(this,FF(this,e))},includes:function(e){return this.some(function(r){return xr(r,e)})},entries:function(){return this.__iterator(wa)},every:function(e,r){Ii(this.size);var n=!0;return this.__iterate(function(i,a,s){if(!e.call(r,i,a,s))return n=!1,!1}),n},filter:function(e,r){return ht(this,tB(this,e,r,!0))},partition:function(e,r){return zF(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Ii(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Ii(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(x1)},map:function(e,r){return ht(this,eB(this,e,r))},reduce:function(e,r,n){return AA(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return AA(this,e,r,n,arguments.length<2,!0)},reverse:function(){return ht(this,B8(this,!0))},slice:function(e,r){return ht(this,D8(this,e,r,!0))},some:function(e,r){Ii(this.size);var n=!1;return this.__iterate(function(i,a,s){if(e.call(r,i,a,s))return n=!0,!1}),n},sort:function(e){return ht(this,Ad(this,e))},values:function(){return this.__iterator(ss)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return wd(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return UF(this,e,r)},equals:function(e){return X8(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Eu(e._cache);var r=e.toSeq().map(s$).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(H_(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,s,o){if(e.call(r,a,s,o))return i=[s,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(UO,null,e)},flatMap:function(e,r){return ht(this,$F(this,e,r))},flatten:function(e){return ht(this,nB(this,e,!0))},fromEntrySeq:function(){return new ZO(this)},get:function(e,r){return this.find(function(n,i){return xr(i,e)},void 0,r)},getIn:EB,groupBy:function(e,r){return kF(this,e,r)},has:function(e){return this.get(e,Ge)!==Ge},hasIn:i$,isSubset:function(e){return e=typeof e.includes=="function"?e:Ot(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ot(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return xr(r,e)})},keySeq:function(){return this.toSeq().map(a$).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return kb(this,e)},maxBy:function(e,r){return kb(this,r,e)},min:function(e){return kb(this,e?EA(e):SA)},minBy:function(e,r){return kb(this,r?EA(r):SA,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return ht(this,rB(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(H_(e),r)},sortBy:function(e,r){return ht(this,Ad(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return ht(this,jF(this,e,r))},takeUntil:function(e,r){return this.takeWhile(H_(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=o$(this))}});var Bn=Ot.prototype;Bn[jO]=!0;Bn[d2]=Bn.values;Bn.toJSON=Bn.toArray;Bn.__toStringMapper=Mp;Bn.inspect=Bn.toSource=function(){return this.toString()};Bn.chain=Bn.flatMap;Bn.contains=Bn.includes;ku(Oa,{flip:function(){return ht(this,JO(this))},mapEntries:function(e,r){var n=this,i=0;return ht(this,this.toSeq().map(function(a,s){return e.call(r,[s,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return ht(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var R1=Oa.prototype;R1[FO]=!0;R1[d2]=Bn.entries;R1.toJSON=xB;R1.__toStringMapper=function(t,e){return Mp(e)+": "+Mp(t)};ku(Uu,{toKeyedSeq:function(){return new g2(this,!1)},filter:function(e,r){return ht(this,tB(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return ht(this,B8(this,!1))},slice:function(e,r){return ht(this,D8(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=s0(e,e<0?this.count():this.size);var i=this.slice(0,e);return ht(this,n===1?i:i.concat(Os(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ht(this,nB(this,e,!1))},get:function(e,r){return e=uc(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=uc(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ht(this,qF(this,e))},interleave:function(){var e=[this].concat(Os(arguments)),r=zb(this.toSeq(),Ba.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),ht(this,n)},keySeq:function(){return Z8(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return ht(this,rB(this,e,r,!1))},zip:function(){var e=[this].concat(Os(arguments));return ht(this,zb(this,xA,e))},zipAll:function(){var e=[this].concat(Os(arguments));return ht(this,zb(this,xA,e,!0))},zipWith:function(e){var r=Os(arguments);return r[0]=this,ht(this,zb(this,e,r))}});var h0=Uu.prototype;h0[$O]=!0;h0[c0]=!0;ku(f0,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Id=f0.prototype;Id.has=Bn.includes;Id.contains=Id.includes;Id.keys=Id.values;ku(wc,R1);ku(Ba,h0);ku(l0,Id);function AA(t,e,r,n,i,a){return Ii(t.size),t.__iterate(function(s,o,f){i?(i=!1,r=s):r=e.call(n,r,s,o,f)},a),r}function a$(t,e){return e}function s$(t,e){return[e,t]}function H_(t){return function(){return!t.apply(this,arguments)}}function EA(t){return function(){return-t.apply(this,arguments)}}function xA(){return Os(arguments)}function SA(t,e){return t<e?1:t>e?-1:0}function o$(t){if(t.size===1/0)return 0;var e=Ri(t),r=gt(t),n=e?1:0,i=t.__iterate(r?e?function(a,s){n=31*n+IA(jn(a),jn(s))|0}:function(a,s){n=n+IA(jn(a),jn(s))|0}:e?function(a){n=31*n+jn(a)|0}:function(a){n=n+jn(a)|0});return f$(i,n)}function f$(t,e){return e=ih(e,3432918353),e=ih(e<<15|e>>>-15,461845907),e=ih(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=ih(e^e>>>16,2246822507),e=ih(e^e>>>13,3266489909),e=b2(e^e>>>16),e}function IA(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var xu=function(t){function e(r){return r==null?o6():w2(r)?r:o6().withMutations(function(n){var i=f0(r);Ii(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Oa(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(d0);xu.isOrderedSet=w2;var zu=xu.prototype;zu[c0]=!0;zu.zip=h0.zip;zu.zipWith=h0.zipWith;zu.zipAll=h0.zipAll;zu.__empty=o6;zu.__make=SB;function SB(t,e){var r=Object.create(zu);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var CA;function o6(){return CA||(CA=SB(Ch()))}var IB={LeftThenRight:-1,RightThenLeft:1};function c$(t){if(mc(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(zi(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var br=function(e,r){var n;c$(e);var i=function(o){var f=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var c=Object.keys(e),u=a._indices={};a._name=r,a._keys=c,a._defaultValues=e;for(var l=0;l<c.length;l++){var p=c[l];u[p]=l,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+t5(this)+' with property "'+p+'" since that property name is part of the Record API.'):u$(a,p)}}return this.__ownerID=void 0,this._values=Aa().withMutations(function(g){g.setSize(f._keys.length),Oa(o).forEach(function(m,A){g.set(f._indices[A],m===f._defaultValues[A]?void 0:m)})}),this},a=i.prototype=Object.create(At);return a.constructor=i,r&&(i.displayName=r),i};br.prototype.toString=function(){for(var e=t5(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+Mp(this.get(n));return e+" }"};br.prototype.equals=function(e){return this===e||mc(e)&&Cd(this).equals(Cd(e))};br.prototype.hashCode=function(){return Cd(this).hashCode()};br.prototype.has=function(e){return this._indices.hasOwnProperty(e)};br.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};br.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return e5(this,n)}return this};br.prototype.remove=function(e){return this.set(e)};br.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:e5(this,e)};br.prototype.wasAltered=function(){return this._values.wasAltered()};br.prototype.toSeq=function(){return Cd(this)};br.prototype.toJS=function(){return dy(this)};br.prototype.entries=function(){return this.__iterator(wa)};br.prototype.__iterator=function(e,r){return Cd(this).__iterator(e,r)};br.prototype.__iterate=function(e,r){return Cd(this).__iterate(e,r)};br.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?e5(this,r,e):(this.__ownerID=e,this._values=r,this)};br.isRecord=mc;br.getDescriptiveName=t5;var At=br.prototype;At[KO]=!0;At[m1]=At.remove;At.deleteIn=At.removeIn=j8;At.getIn=EB;At.hasIn=Bn.hasIn;At.merge=oB;At.mergeWith=fB;At.mergeIn=q8;At.mergeDeep=pB;At.mergeDeepWith=bB;At.mergeDeepIn=K8;At.setIn=k8;At.update=F8;At.updateIn=$8;At.withMutations=T1;At.asMutable=O1;At.asImmutable=B1;At[d2]=At.entries;At.toJSON=At.toObject=Bn.toObject;At.inspect=At.toSource=function(){return this.toString()};function e5(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function t5(t){return t.constructor.displayName||t.constructor.name||"Record"}function Cd(t){return T8(t._keys.map(function(e){return[e,t.get(e)]}))}function u$(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){L8(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var CB=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(P_)return P_;P_=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return xr(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return w1(n,i,a)?this:new e(this._value,A1(i,a)-s0(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return xr(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return xr(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,s=0;s!==a&&n(this._value,i?a-++s:s++,this)!==!1;);return s},e.prototype.__iterator=function(n,i){var a=this,s=this.size,o=0;return new tt(function(){return o===s?Wn():Bt(n,i?s-++o:o++,a._value)})},e.prototype.equals=function(n){return n instanceof e?xr(this._value,n._value):X8(this,n)},e}(Ba),P_;function TB(t,e){return OB([],e||l$,t,"",e&&e.length>2?[]:void 0,{"":t})}function OB(t,e,r,n,i,a){if(typeof r!="string"&&!zi(r)&&(S8(r)||x8(r)||y2(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var s=e.call(a,n,On(r).map(function(o,f){return OB(t,e,o,f,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),s}return r}function l$(t,e){return tn(e)?e.toList():gt(e)?e.toMap():e.toSet()}var BB="4.3.7",d$={version:BB,Collection:Ot,Iterable:Ot,Seq:On,Map:Zo,OrderedMap:os,List:Aa,Stack:D1,Set:d0,OrderedSet:xu,PairSorting:IB,Record:br,Range:Z8,Repeat:CB,is:xr,fromJS:TB,hash:jn,isImmutable:zi,isCollection:Tn,isKeyed:gt,isIndexed:tn,isAssociative:o0,isOrdered:Ri,isValueObject:uy,isPlainObject:y2,isSeq:E1,isList:m2,isMap:S1,isOrderedMap:p2,isStack:Np,isSet:M1,isOrderedSet:w2,isRecord:mc,get:v2,getIn:A2,has:H8,hasIn:J8,merge:uB,mergeDeep:dB,mergeWith:lB,mergeDeepWith:hB,remove:P8,removeIn:z8,set:N8,setIn:U8,update:_2,updateIn:Ac},h$=Ot;const p$=Object.freeze(Object.defineProperty({__proto__:null,Collection:Ot,Iterable:h$,List:Aa,Map:Zo,OrderedMap:os,OrderedSet:xu,PairSorting:IB,Range:Z8,Record:br,Repeat:CB,Seq:On,Set:d0,Stack:D1,default:d$,fromJS:TB,get:v2,getIn:A2,has:H8,hasIn:J8,hash:jn,is:xr,isAssociative:o0,isCollection:Tn,isImmutable:zi,isIndexed:tn,isKeyed:gt,isList:m2,isMap:S1,isOrdered:Ri,isOrderedMap:p2,isOrderedSet:w2,isPlainObject:y2,isRecord:mc,isSeq:E1,isSet:M1,isStack:Np,isValueObject:uy,merge:uB,mergeDeep:dB,mergeDeepWith:hB,mergeWith:lB,remove:P8,removeIn:z8,set:N8,setIn:U8,update:_2,updateIn:Ac,version:BB},Symbol.toStringTag,{value:"Module"})),Jo=lS(p$);var Nr={},DB={};Object.defineProperty(DB,"__esModule",{value:!0});var ju={},MB=function t(e){Object.freeze(e);var r=typeof e=="function",n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(e).forEach(function(i){n.call(e,i)&&(!r||i!=="caller"&&i!=="callee"&&i!=="arguments")&&e[i]!==null&&(typeof e[i]=="object"||typeof e[i]=="function")&&!Object.isFrozen(e[i])&&t(e[i])}),e},p0={};Object.defineProperty(p0,"__esModule",{value:!0});p0.createConfig=r5;p0.predefined=void 0;var b$=g$(MB);function g$(t){return t&&t.__esModule?t:{default:t}}function r5(t){return(0,b$.default)(t)}const y$=r5({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),v$=r5({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});p0.predefined={LINA:y$,AGGRON4:v$};Object.defineProperty(ju,"__esModule",{value:!0});ju.assertHashType=RB;ju.getConfig=x$;ju.initializeConfig=S$;ju.validateConfig=LB;var _$=w$(MB),m$=p0;function w$(t){return t&&t.__esModule?t:{default:t}}function A$(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function TA(t,e){if(A$(t,e),e.length!==66)throw new Error(`${t} must be a hex string of 66 characters long!`)}function E$(t,e){if(e!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function RB(t,e){if(e!=="type"&&e!=="data"&&e!=="data1"&&e!=="data2")throw new Error(`${t} must one of type, data, data1, data2!`)}function OA(t,e="variable"){if(!t)throw new Error(`${e} is not valid`)}function LB(t){OA(typeof t.SCRIPTS=="object"&&t.SCRIPTS!=null,"config.SCRIPT");for(const e of Object.keys(t.SCRIPTS)){const r=t.SCRIPTS[e];OA(r==null?void 0:r.CODE_HASH),TA(`SCRIPTS.${e}.CODE_HASH`,r.CODE_HASH),RB(`SCRIPTS.${e}.HASH_TYPE`,r.HASH_TYPE),TA(`SCRIPTS.${e}.TX_HASH`,r.TX_HASH),E$(`SCRIPTS.${e}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if(n!=="depGroup"&&n!=="code")throw new Error(`SCRIPTS.${e}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(i!=null&&typeof i!="number")throw new Error("SHORT_ID must be a number!")}}let HB=m$.predefined.LINA;function x$(){return HB}function S$(t){LB(t),HB=(0,_$.default)(t)}var E2={};Object.defineProperty(E2,"__esModule",{value:!0});E2.findConfigByScript=I$;E2.nameOfScript=C$;var PB=ju;function I$(t,e){const r=e||(0,PB.getConfig)().SCRIPTS;return Object.values(r).find(n=>(n==null?void 0:n.CODE_HASH)===t.codeHash&&(n==null?void 0:n.HASH_TYPE)===t.hashType)}function C$(t,e){const r=e||(0,PB.getConfig)().SCRIPTS,n=Object.entries(r).find(([,i])=>(i==null?void 0:i.CODE_HASH)===t.codeHash&&(i==null?void 0:i.HASH_TYPE)===t.hashType);if(n)return n[0]}var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.SIGHASH_OUTPUT_LOC=Ci.SIGHASH_GROUP_OUTPUT_LOC=Ci.MULTISIG_OUTPUT_LOC=Ci.MULTISIG_GROUP_OUTPUT_LOC=Ci.DAO_OUTPUT_LOC=void 0;Ci.generateGenesisScriptConfigs=O$;var T$=Ir;const BA=Ci.SIGHASH_OUTPUT_LOC=[0,1],DA=Ci.MULTISIG_OUTPUT_LOC=[0,4],MA=Ci.DAO_OUTPUT_LOC=[0,2],RA=Ci.SIGHASH_GROUP_OUTPUT_LOC=[1,0],LA=Ci.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function O$(t){if(!t||Number(t.header.number)!==0)throw new Error("The block must be a genesis block");const e=t.transactions;return{SECP256K1_BLAKE160:{...N_({transaction:e[BA[0]],outputIndex:BA[1],depGroupTransaction:e[RA[0]],depGroupOutputIndex:RA[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...N_({transaction:e[DA[0]],outputIndex:DA[1],depGroupTransaction:e[LA[0]],depGroupOutputIndex:LA[1]}),SHORT_ID:1},DAO:N_({transaction:e[MA[0]],outputIndex:MA[1]})}}function N_(t){var e;const{transaction:r,outputIndex:n}=t,i=T$.utils.computeScriptHash(U_((e=r.outputs[n])===null||e===void 0?void 0:e.type));if("depGroupTransaction"in t){const{depGroupOutputIndex:a,depGroupTransaction:s}=t;return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"depGroup",TX_HASH:U_(s.hash),INDEX:HA(a)}}return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"code",INDEX:HA(n),TX_HASH:U_(r.hash)}}function U_(t){if(t==null)throw new Error("The block must be a genesis block");return t}function HA(t){return`0x${t.toString(16)}`}var L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.createLatestTypeIdResolver=NB;L1.createRpcResolver=B$;L1.refreshScriptConfigs=D$;function B$(t){return NB(async n=>{const i=await t.createBatchRequest(n.map(a=>["getTransaction",a])).exec();return hy(n,i,(a,s)=>{if(!(s!=null&&s.transaction))throw new Error(`Cannot find transaction ${a}`);return s.transaction})},async n=>(await t.createBatchRequest(n.map(a=>["getCells",{script:a,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"])).exec()).map(a=>a.objects[0]))}function NB(t,e){return async r=>{const n=await t(r.map(s=>s.txHash)),i=hy(r,n,(s,o)=>(rp(s),rp(o,`Cannot find the OutPoint ${s.txHash}#${s.index}`),o.outputs[Number(s.index)].type)),a=await e(i.filter(Boolean));return hy(r,i,(s,o)=>{if(rp(s),!o)return s;const[f]=a.splice(0,1);return f.outPoint})}}async function D$(t,{resolve:e,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const n=Object.entries(t).filter(([o,f])=>!r.includes(o)&&(f==null?void 0:f.HASH_TYPE)==="type"),i=n.map(([o,f])=>({txHash:f.TX_HASH,index:f.INDEX})),a=await e(i),s=Object.fromEntries(hy(n,a,(o,f)=>{rp(o);const[c,u]=o;return rp(f,`Refreshing failed, cannot load config of ${c}, please check whether the scriptConfig is correct`),[c,{...u,TX_HASH:f.txHash,INDEX:f.index}]}));return Object.assign({},t,s)}function hy(t,e,r){return t.map((n,i)=>r(t[i],e[i]))}function rp(t,e="Not nullable"){if(t==null)throw new Error(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return a.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return o.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return o.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return s.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return n.getConfig}}),t.helpers=void 0,Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return n.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return a.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return o.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return n.validateConfig}});var r=DB;Object.keys(r).forEach(function(u){u==="default"||u==="__esModule"||Object.prototype.hasOwnProperty.call(e,u)||u in t&&t[u]===r[u]||Object.defineProperty(t,u,{enumerable:!0,get:function(){return r[u]}})});var n=ju,i=c(E2);t.helpers=i;var a=p0,s=Ci,o=L1;function f(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,p=new WeakMap;return(f=function(g){return g?p:l})(u)}function c(u,l){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var p=f(l);if(p&&p.has(u))return p.get(u);var g={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in u)if(A!=="default"&&{}.hasOwnProperty.call(u,A)){var S=m?Object.getOwnPropertyDescriptor(u,A):null;S&&(S.get||S.set)?Object.defineProperty(g,A,S):g[A]=u[A]}return g.default=u,p&&p.set(u,g),g}})(Nr);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.ADDRESS_FORMAT_SHORT=ba.ADDRESS_FORMAT_FULLTYPE=ba.ADDRESS_FORMAT_FULLDATA=ba.ADDRESS_FORMAT_FULL=void 0;ba.parseDeprecatedCkb2019Address=U$;ba.parseFullFormatAddress=N$;var M$=Ir,zc=st,UB=Nr,py=cc;const kB=1023,R$=ba.ADDRESS_FORMAT_FULL=0,L$=ba.ADDRESS_FORMAT_SHORT=1,H$=ba.ADDRESS_FORMAT_FULLDATA=2,P$=ba.ADDRESS_FORMAT_FULLTYPE=4;function N$(t,{config:e}){e=e||(0,UB.getConfig)();const{words:r,prefix:n}=py.bech32m.decode(t,kB);if(n!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${n}`);const[i,...a]=py.bech32m.fromWords(r);if(i!==R$)throw new Error("Invalid address format type");if(a.length<33)throw new Error("Invalid payload length, too short!");const s=zc.bytes.hexify(a.slice(0,32)),o=M$.blockchain.HashType.unpack(a.slice(32,33)),f=zc.bytes.hexify(a.slice(33));return{codeHash:s,hashType:o,args:f}}function U$(t,{config:e}){e=e||(0,UB.getConfig)();const{prefix:r,words:n}=py.bech32.decode(t,kB);if(r!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${r}`);const[i,...a]=py.bech32.fromWords(n);switch(i){case L$:{const[s,...o]=a;if(o.length!==20)throw Error("Invalid payload length!");const f=Object.values(e.SCRIPTS).find(c=>c&&c.SHORT_ID===s);if(!f)throw Error(`Invalid code hash index: ${s}!`);return{codeHash:f.CODE_HASH,hashType:f.HASH_TYPE,args:zc.bytes.hexify(o)}}case H$:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:zc.bytes.hexify(a.slice(0,32)),hashType:"data",args:zc.bytes.hexify(a.slice(32))}}case P$:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:zc.bytes.hexify(a.slice(0,32)),hashType:"type",args:zc.bytes.hexify(a.slice(32))}}}throw Error(`Invalid payload format type: ${i}`)}var n5={};Object.defineProperty(n5,"__esModule",{value:!0});n5.hexToByteArray=k$;function k$(t){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error("Invalid hex string!");t.startsWith("0x")&&(t=t.slice(2));const e=[];for(;t.length>=2;)e.push(parseInt(t.slice(0,2),16)),t=t.slice(2);return e}var i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.refreshTypeIdCellDeps=z$;async function z$(t,{resolve:e}){const r=t.cellDeps.map(({outPoint:i})=>i).toArray(),n=await e(r);return t.update("cellDeps",i=>i.map((a,s)=>({...a,outPoint:n[s]})))}var k_={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.createModelHelper=F$;Fu.defaultDeepClone=by;var PA=st,j$=St;function F$(t){return{create:e=>t.unpack(t.pack(e)),hash:e=>PA.bytes.bytify((0,j$.ckbHash)(t.pack(e))),equals:(e,r)=>PA.bytes.equal(t.pack(e),t.pack(r)),clone:by}}function by(t){const e=typeof t;if(e==="number"||e==="string"||e==="boolean"||e==="bigint"||t==null)return t;if(Array.isArray(t))return t.map(by);if(e==="object")return Object.entries(t).reduce((r,[n,i])=>Object.assign(r,{[n]:by(i)}),{});throw new Error("Cannot clone the value: "+String(t))}var ah={},sh={},NA;function zB(){if(NA)return sh;NA=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.scriptHelper=void 0;var t=Ir,e=Nr,r=pi(),n=Fu;function i(a){if(a.startsWith("ckb"))return(0,r.parseAddress)(a,{config:e.predefined.LINA});if(a.startsWith("ckt"))return(0,r.parseAddress)(a,{config:e.predefined.AGGRON4});throw new Error(`The address prefix ${a} is unknown`)}return sh.scriptHelper=(0,n.createModelHelper)({pack:a=>t.blockchain.Script.pack(typeof a=="string"?i(a):a),unpack:a=>t.blockchain.Script.unpack(a)}),sh}var H1={};Object.defineProperty(H1,"__esModule",{value:!0});H1.outPointHelper=void 0;var $$=Ir,q$=Fu;H1.outPointHelper=(0,q$.createModelHelper)($$.blockchain.OutPoint);var UA;function K$(){if(UA)return ah;UA=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.cellHelper=void 0;var t=Fu,e=Ir,r=zB(),n=wt,i=st,a=l1,s=H1,o=pi();function f(u){return!u||typeof u!="object"?!1:"lock"in u}const c=(0,a.table)({cellOutput:e.blockchain.CellOutput,data:e.blockchain.Bytes,outPoint:(0,a.option)(e.blockchain.OutPoint)},["cellOutput","data","outPoint"]);return ah.cellHelper=(0,t.createModelHelper)({pack:u=>{const l=f(u)?{cellOutput:{capacity:n.BI.from(u.capacity||"0x0").toHexString(),lock:r.scriptHelper.create(u.lock),type:u.type&&r.scriptHelper.create(u.type)},outPoint:u.outPoint&&s.outPointHelper.create(u.outPoint),data:i.bytes.hexify(u.data||"0x")}:u;return n.BI.from(l.cellOutput.capacity).eq(0)&&(l.cellOutput.capacity=(0,o.minimalCellCapacityCompatible)(l).toHexString()),c.pack(l)},unpack:u=>c.unpack(u)}),ah}var kA;function Q$(){return kA||(kA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return r.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return e.createModelHelper}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return i.outPointHelper}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return n.scriptHelper}});var e=Fu,r=K$(),n=zB(),i=H1}(k_)),k_}var zA;function pi(){return zA||(zA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};t.addressToScript=t.TransactionSkeleton=void 0,t.createTransactionFromSkeleton=x,t.createTransactionSkeleton=E,t.encodeToAddress=v,t.encodeToConfigAddress=d,t.generateAddress=W,t.generateSecp256k1Blake160Address=_,t.generateSecp256k1Blake160MultisigAddress=I,t.locateCellDep=K,t.minimalCellCapacity=M,t.minimalCellCapacityCompatible=N,t.minimalScriptCapacity=w,t.minimalScriptCapacityCompatible=O,t.objectToTransactionSkeleton=F,t.parseAddress=b,Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return p.refreshTypeIdCellDeps}}),t.scriptToAddress=void 0,t.sealTransaction=h,t.transactionSkeletonToObject=T;var r=st,n=Ir,i=cc,a=Jo,s=Nr,o=wt,f=ba,c=n5,u=d8,l=Ee,p=i5,g=Q$();Object.keys(g).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===g[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return g[L]}})});const{bytify:m,hexify:A}=r.bytes,S=1023;function w(L,{validate:k=!0}={}){const $=O(L,{validate:k});return BigInt($.toString())}const C=1e8;function O(L,{validate:k=!0}={}){k&&u.validators.ValidateScript(L);let $=0;return $+=m(L.codeHash).length,$+=m(L.args).length,$+=1,o.BI.from($).mul(C)}function M(L,{validate:k=!0}={}){const $=N(L,{validate:k});return BigInt($.toString())}function N(L,{validate:k=!0}={}){k&&n.blockchain.CellOutput.pack(L.cellOutput);let $=8;return $+=m(L.cellOutput.lock.codeHash).length,$+=m(L.cellOutput.lock.args).length,$+=1,L.cellOutput.type&&($+=m(L.cellOutput.type.codeHash).length,$+=m(L.cellOutput.type.args).length,$+=1),L.data&&($+=m(L.data).length),o.BI.from($).mul(C)}function K(L,{config:k=void 0}={}){k=k||(0,s.getConfig)();const $=Object.values(k.SCRIPTS).find(H=>H&&H.CODE_HASH===L.codeHash&&H.HASH_TYPE===L.hashType);return $?{depType:$.DEP_TYPE,outPoint:{txHash:$.TX_HASH,index:$.INDEX}}:null}let Q=!1;const j=2,G=4;function W(L,{config:k=void 0}={}){k=k||(0,s.getConfig)(),Q||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),Q=!0),u.validators.ValidateScript(L);const $=Object.values(k.SCRIPTS).find(X=>X&&X.CODE_HASH===L.codeHash&&X.HASH_TYPE===L.hashType),H=[];if($&&$.SHORT_ID!==void 0)H.push(1,$.SHORT_ID),H.push(...(0,c.hexToByteArray)(L.args));else{if(L.hashType==="type")H.push(G);else if(L.hashType==="data")H.push(j);else throw new Error(`Invalid hashType ${L.hashType}`);H.push(...(0,c.hexToByteArray)(L.codeHash)),H.push(...(0,c.hexToByteArray)(L.args))}const q=i.bech32.toWords(H);return i.bech32.encode(k.PREFIX,q,S)}t.scriptToAddress=W;function R(L,k,{config:$=void 0}={}){$=$||(0,s.getConfig)();const H=$.SCRIPTS[k];if(!H){const X=Object.keys($.SCRIPTS);throw new Error(`Invalid script type: ${k}, only support: ${X}`)}const q={codeHash:H.CODE_HASH,hashType:H.HASH_TYPE,args:L};return W(q,{config:$})}function _(L,{config:k=void 0}={}){return R(L,"SECP256K1_BLAKE160",{config:k})}function I(L,{config:k=void 0}={}){return R(L,"SECP256K1_BLAKE160_MULTISIG",{config:k})}function b(L,{config:k=void 0}={}){k=k||(0,s.getConfig)();try{return(0,f.parseFullFormatAddress)(L,{config:k})}catch{return(0,f.parseDeprecatedCkb2019Address)(L,{config:k})}}t.addressToScript=b;function v(L,{config:k=void 0}={}){u.validators.ValidateScript(L),k=k||(0,s.getConfig)();const $=r.bytes.concat([0],L.codeHash,l.HashType.pack(L.hashType),L.args);return i.bech32m.encode(k.PREFIX,i.bech32m.toWords($),S)}function d(L,k,$){const H=($==null?void 0:$.config)||(0,s.getConfig)(),q=H.SCRIPTS[k];if(!q){const te=Object.keys(H.SCRIPTS);throw new Error(`Invalid script type: ${String(k)}, only support: ${te}`)}const X={codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,args:L};return v(X,{config:H})}const y=t.TransactionSkeleton=(0,a.Record)({cellProvider:null,cellDeps:(0,a.List)(),headerDeps:(0,a.List)(),inputs:(0,a.List)(),outputs:(0,a.List)(),witnesses:(0,a.List)(),fixedEntries:(0,a.List)(),signingEntries:(0,a.List)(),inputSinces:(0,a.Map)()});function x(L,{validate:k=!0}={}){const $={version:"0x0",cellDeps:L.get("cellDeps").toArray(),headerDeps:L.get("headerDeps").toArray(),inputs:L.get("inputs").map((H,q)=>{if(!H.outPoint)throw new Error(`cannot find OutPoint in Inputs[${q}] when createTransactionFromSkeleton`);return{since:L.get("inputSinces").get(q,"0x0"),previousOutput:H.outPoint}}).toArray(),outputs:L.get("outputs").map(H=>H.cellOutput).toArray(),outputsData:L.get("outputs").map(H=>H.data||"0x0").toArray(),witnesses:L.get("witnesses").toArray()};return k&&u.validators.ValidateTransaction($),$}async function E(L,k){let $=y();$=$.update("cellDeps",X=>X.push(...L.cellDeps)),$=$.update("headerDeps",X=>X.push(...L.headerDeps));const H=await Promise.all(L.inputs.map(X=>k(X.previousOutput)));$=$.update("inputs",X=>X.push(...H)),$=$.update("inputSinces",X=>L.inputs.reduce((te,re,U)=>te.set(U,re.since),X));const q=L.outputs.map((X,te)=>{var re;return{cellOutput:X,data:(re=L.outputsData[te])!==null&&re!==void 0?re:"0x"}});return $=$.update("outputs",X=>X.push(...q)),$=$.update("witnesses",X=>X.push(...L.witnesses)),$}function h(L,k){const $=x(L);if(k.length!==L.get("signingEntries").size)throw new Error(`Requiring ${L.get("signingEntries").size} sealing contents but provided ${k.length}!`);return L.get("signingEntries").forEach((H,q)=>{switch(H.type){case"witness_args_lock":{const X=$.witnesses[H.index],te=n.blockchain.WitnessArgs.unpack(m(X)),re={lock:k[q]},U=te.inputType;U&&(re.inputType=U);const P=te.outputType;P&&(re.outputType=P),$.witnesses[H.index]=A(n.blockchain.WitnessArgs.pack(re));break}default:throw new Error(`Invalid signing entry type: ${H.type}`)}}),$}function T(L){return L.toJS()}function F(L){let k=(0,a.Map)();for(const[H,q]of Object.entries(L.inputSinces))k=k.set(+H,q);return y({cellProvider:L.cellProvider,cellDeps:(0,a.List)(L.cellDeps),headerDeps:(0,a.List)(L.headerDeps),inputs:(0,a.List)(L.inputs),outputs:(0,a.List)(L.outputs),witnesses:(0,a.List)(L.witnesses),fixedEntries:(0,a.List)(L.fixedEntries),signingEntries:(0,a.List)(L.signingEntries),inputSinces:k})}}(C_)),C_}var x2=pi(),jB,FB,$B,qB,KB,QB;const b0=Symbol("immutable"),Oi=Symbol("cellDeps"),fi=Symbol("headerDeps"),du=Symbol("witness"),Ns=Symbol("since");class xn{constructor(e){this[jB]=!0,this.codeHash=e.codeHash,this.hashType=e.hashType,this.args=e.args,this[Oi]=Object.freeze(e[Oi]),this[fi]=Object.freeze(e[fi]),this[du]=e[du],this[Ns]=e[Ns]}static from(e){return Object.freeze(e instanceof xn?e:new xn(e))}}jB=b0;const va=xn.from({codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x",[Oi]:[],[fi]:[],[du]:void 0,[Ns]:"0x0"});class $o{constructor(e){this[FB]=!0,this.txHash=e.txHash,this.index=e.index}static from(e){return Object.freeze(e instanceof $o?e:new $o(e))}}FB=b0;class Up{constructor(e){this[$B]=!0,this.capacity=e.capacity,this.lock=xn.from(e.lock),this.type=e.type?xn.from(e.type):void 0}static from(e){return Object.freeze(e instanceof Up?e:new Up(e))}}$B=b0;class Vt{constructor(e){this[qB]=!0;const{capacity:r,lock:n,type:i}={lock:va,capacity:"0x0",...e.cellOutput,...e};this.cellOutput=Up.from({capacity:r,lock:n,type:i}),this.data=e.data??"0x",this.outPoint=e.outPoint?$o.from(e.outPoint):void 0,this.blockHash=e.blockHash,this.blockNumber=e.blockNumber,this.txIndex=e.txIndex,BigInt(r)<=0n&&(this.cellOutput=Up.from({capacity:x2.minimalCellCapacityCompatible(this,{validate:!1}).toHexString(),lock:n,type:i}))}static from(e){return Object.freeze(e instanceof Vt?e:new Vt(e))}}qB=b0;class hu{constructor(e){this[KB]=!0,this.outPoint=$o.from(e.outPoint),this.depType=e.depType}static from(e){return Object.freeze(e instanceof hu?e:new hu(e))}}KB=b0;class Td{constructor(e){this[QB]=!0,this.timestamp=e.timestamp,this.number=e.number,this.epoch=e.epoch,this.compactTarget=e.compactTarget,this.dao=e.dao,this.hash=e.hash,this.nonce=e.nonce,this.parentHash=e.parentHash,this.proposalsHash=e.proposalsHash,this.transactionsRoot=e.transactionsRoot,this.extraHash=e.extraHash,this.version=e.version}static from(e){return Object.freeze(e instanceof Td?e:new Td(e))}}QB=b0;const V$=Object.freeze(zo.Uint8);Object.freeze(zo.Uint16);const Y$=Object.freeze(zo.Uint32),Od=Object.freeze({...zo.Uint64,unpack:t=>zo.Uint64.unpack(t).toBigInt()}),f6=Object.freeze({...zo.Uint128,unpack:t=>zo.Uint128.unpack(t).toBigInt()}),VB=Object.freeze(st.createFixedBytesCodec({byteLength:4,pack:t=>{const e=new Uint8Array([0,0,0,0]);return new DataView(e.buffer).setInt32(0,t,!0),e},unpack:t=>new DataView(t.buffer).getInt32(0,!0)})),G$=Object.freeze(t8);var yi={},Bd={},S2={},ef={},I2={},yn={},dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.default=dc.ErrorCode=void 0;let W$=dc.ErrorCode=function(t){return t[t.ParameterInvalid=101]="ParameterInvalid",t[t.IdNotMatch=201]="IdNotMatch",t[t.MethodNotFound=202]="MethodNotFound",t[t.PayloadMessage=203]="PayloadMessage",t[t.ResponseMessage=204]="ResponseMessage",t}({});dc.default=W$;Object.defineProperty(yn,"__esModule",{value:!0});yn.default=yn.StringHashTypeException=yn.PageSizeTooSmallException=yn.PageSizeTooLargeException=yn.OutputsValidatorTypeException=yn.HexStringWithout0xException=yn.BigintOrHexStringTypeException=void 0;var g0=X$(dc);function X$(t){return t&&t.__esModule?t:{default:t}}class YB extends RangeError{constructor(r,n){super(`Expect page size to be at most ${n}, but ${r} received`);Yr(this,"code",g0.default.ParameterInvalid)}}yn.PageSizeTooLargeException=YB;class GB extends RangeError{constructor(r,n){super(`Expect page size to be at least ${n}, but ${r} received`);Yr(this,"code",g0.default.ParameterInvalid)}}yn.PageSizeTooSmallException=GB;class WB extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'");Yr(this,"code",g0.default.ParameterInvalid)}}yn.OutputsValidatorTypeException=WB;class XB extends TypeError{constructor(r){super(`Expect number to be bigint or hex string, but ${r} received`);Yr(this,"code",g0.default.ParameterInvalid)}}yn.BigintOrHexStringTypeException=XB;class ZB extends TypeError{constructor(r){super(`Expect hash to be string, but ${r} received`);Yr(this,"code",g0.default.ParameterInvalid)}}yn.StringHashTypeException=ZB;class JB extends Error{constructor(r){super(`Hex string ${r} should start with 0x`);Yr(this,"code",g0.default.ParameterInvalid)}}yn.HexStringWithout0xException=JB;yn.default={PageSizeTooLargeException:YB,PageSizeTooSmallException:GB,OutputsValidatorTypeException:WB,BigintOrHexStringTypeException:XB,StringHashTypeException:ZB,HexStringWithout0xException:JB};var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.default=Ro.ResponseException=Ro.IdNotMatchException=void 0;var eD=Z$(dc);function Z$(t){return t&&t.__esModule?t:{default:t}}class tD extends Error{constructor(r,n){super(`Expect json rpc id to be ${r}, but ${n} received`);Yr(this,"code",eD.default.IdNotMatch)}}Ro.IdNotMatchException=tD;class rD extends Error{constructor(){super(...arguments);Yr(this,"code",eD.default.ResponseMessage)}}Ro.ResponseException=rD;Ro.default={IdNotMatchException:tD,ResponseException:rD};var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.default=Ds.PayloadInBatchException=Ds.MethodInBatchNotFoundException=Ds.IdNotMatchedInBatchException=void 0;var nD=eq(dc),J$=Ro;function eq(t){return t&&t.__esModule?t:{default:t}}const a5="Batch Request";class iD extends Error{constructor(r){super(`[${a5}]: Method ${r} is not found`);Yr(this,"code",nD.default.MethodNotFound)}}Ds.MethodInBatchNotFoundException=iD;class aD extends Error{constructor(r,n){super(`[${a5} ${r}]: ${n}`);Yr(this,"code",nD.default.PayloadMessage);this.index=r}}Ds.PayloadInBatchException=aD;class sD extends J$.IdNotMatchException{constructor(e,r,n){super(r,n),this.message=`[${a5} ${e}]: ${this.message}`,this.index=e}}Ds.IdNotMatchedInBatchException=sD;Ds.default={MethodInBatchNotFoundException:iD,PayloadInBatchException:aD,IdNotMatchedInBatchException:sD};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=yn;Object.keys(e).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===e[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})});var r=Ro;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===r[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[i]}})});var n=Ds;Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===n[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[i]}})})})(I2);Object.defineProperty(ef,"__esModule",{value:!0});ef.formatter=void 0;var nl=I2,z_=wt;const ur=ef.formatter={toOptional:t=>e=>!t||e===void 0||e===null?e:t(e),toArray:t=>e=>typeof t!="function"||!Array.isArray(e)?e:e.map(t),toHash:t=>{if(typeof t!="string")throw new nl.StringHashTypeException(t);return t.startsWith("0x")?t:`0x${t}`},toNumber:t=>{if(typeof t=="bigint")return`0x${t.toString(16)}`;if(typeof t!="string")throw new nl.BigintOrHexStringTypeException(t);if(!t.startsWith("0x"))throw new nl.HexStringWithout0xException(t);return t},toScript:t=>{const{codeHash:e,hashType:r,...n}=t;return{code_hash:ur.toHash(e),hash_type:r,...n}},toOutPoint:t=>{const{txHash:e,index:r,...n}=t;return{tx_hash:ur.toHash(e),index:ur.toNumber(r),...n}},toInput:t=>{if(!t)return t;const{previousOutput:e,since:r,...n}=t;return{previous_output:ur.toOutPoint(e),since:ur.toNumber(r),...n}},toOutput:t=>{if(!t)return t;const{capacity:e,lock:r,type:n=void 0,...i}=t;return{capacity:ur.toNumber(e),lock:ur.toScript(r),type:n&&ur.toScript(n),...i}},toDepType:t=>t==="depGroup"?"dep_group":t,toOrder:t=>t,toCellDep:t=>{if(!t)return t;const{outPoint:e,depType:r="code",...n}=t;return{out_point:ur.toOutPoint(e),dep_type:ur.toDepType(r),...n}},toRawTransaction:t=>{if(!t)return t;const{version:e,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:a=[],headerDeps:s=[],...o}=t,f=n.map(p=>ur.toInput(p)),c=i.map(p=>ur.toOutput(p)),u=r.map(p=>ur.toCellDep(p));return{version:ur.toNumber(e),cell_deps:u,inputs:f,outputs:c,outputs_data:a,header_deps:s,...o}},toPageNumber:(t="0x1")=>ur.toNumber(t),toPageSize:(t="0x32")=>{const e=z_.BI.from(t),r=50,n=0;if(z_.BI.from(e).gt(r))throw new nl.PageSizeTooLargeException(t,r);if(z_.BI.from(e).lt(n))throw new nl.PageSizeTooSmallException(t,n);return ur.toNumber(`0x${e.toString(16)}`)},toReverseOrder:(t=!1)=>!!t,toOutputsValidator:t=>{if(!t)return;if(["default","passthrough"].indexOf(t)>-1)return t;throw new nl.OutputsValidatorTypeException},toBoolean:t=>!!t,toTransactionProof:t=>{if(!t)return t;const{blockHash:e,witnessesRoot:r,...n}=t;return{block_hash:e,witnesses_root:r,...n}},toTransactionAndWitnessProof:t=>({block_hash:t.blockHash,witnesses_proof:t.witnessesProof,transactions_proof:t.transactionsProof}),toSearchFilter:t=>t&&{script:t.script?ur.toScript(t.script):t.script,output_data_len_range:t.outputDataLenRange,output_capacity_range:t.outputCapacityRange,block_range:t.blockRange,script_len_range:t.scriptLenRange},toSearchKey:t=>t&&{script:ur.toScript(t.script),script_type:t.scriptType,filter:t.filter?ur.toSearchFilter(t.filter):t.filter,script_search_mode:t.scriptSearchMode?t.scriptSearchMode:"prefix"},toGetCellsSearchKey:t=>t&&{...ur.toSearchKey(t),with_data:t.withData},toGetTransactionsSearchKey:t=>t&&{...ur.toSearchKey(t),group_by_transaction:t.groupByTransaction}};var he={};Object.defineProperty(he,"__esModule",{value:!0});he.toBannedAddresses=he.toBannedAddress=he.toArray=he.toAlertMessage=void 0;he.toBlock=uD;he.toHash=he.toGetTransactionsResult=he.toGetCellsResult=he.toForkBlockResult=he.toFeeRateStatistics=he.toFeeRate=he.toEstimateCycles=he.toEpoch=he.toDeploymentsInfo=he.toDeploymentInfo=he.toDeployment=he.toDeployState=he.toDepType=he.toConsensus=he.toCellsIncludingOutPoint=he.toCellsCapacity=he.toCells=he.toCellbaseOutputCapacityDetails=he.toCellIncludingOutPoint=he.toCellDep=he.toCell=he.toCapacityByLockHash=he.toBlockchainInfo=he.toBlockFilter=he.toBlockEconomicState=void 0;he.toHeader=C2;he.toTip=he.toSyncState=he.toScript=he.toRemoteNodeInfo=he.toRawTxPool=he.toPeers=he.toOutput=he.toOutPoint=he.toNumber=he.toNullable=he.toLockHashIndexStates=he.toLockHashIndexState=he.toLocalNodeInfo=he.toLiveCellsByLockHash=he.toLiveCellWithStatus=he.toLiveCell=he.toInput=void 0;he.toTransaction=O2;he.toUncleBlock=he.toTxPoolInfo=he.toTransactionsByLockHash=he.toTransactionWithStatus=he.toTransactionProof=he.toTransactionPoint=he.toTransactionAndWitnessProof=void 0;const tq=t=>Array.isArray(t.pending),rq=t=>e=>typeof t!="function"||!Array.isArray(e)?e:e.map(t);he.toArray=rq;const nq=t=>e=>!t||e===null?e:t(e);he.toNullable=nq;const iq=t=>t.toString();he.toNumber=iq;const aq=t=>t;he.toHash=aq;function C2(t){if(typeof t=="string"||!t)return t;const{compact_target:e,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:a,...s}=t;return{compactTarget:e,parentHash:a,transactionsRoot:r,proposalsHash:n,extraHash:i,...s}}const Dd=t=>{if(!t)return t;const{code_hash:e,hash_type:r,...n}=t;return{codeHash:e,hashType:r,...n}};he.toScript=Dd;const oD=t=>{if(!t)return t;const{previous_output:e,...r}=t;return{previousOutput:e&&P1(e),...r}};he.toInput=oD;const T2=t=>{if(!t)return t;const{lock:e,type:r,...n}=t;return{lock:Dd(e),type:r&&Dd(r),...n}};he.toOutput=T2;const P1=t=>{const{tx_hash:e,...r}=t;return{txHash:e,...r}};he.toOutPoint=P1;const fD=t=>t==="dep_group"?"depGroup":t;he.toDepType=fD;const cD=t=>{if(!t)return t;const{out_point:e,dep_type:r="code",...n}=t;return{outPoint:P1(e),depType:fD(r),...n}};he.toCellDep=cD;function O2(t){if(!t||typeof t!="object")return t;const{cell_deps:e=[],inputs:r=[],outputs:n=[],outputs_data:i=[],header_deps:a=[],...s}=t;return{cellDeps:e.map(cD),inputs:r.map(oD),outputs:n.map(T2),outputsData:i,headerDeps:a,...s}}const s5=t=>{if(!t)return t;const{header:e,...r}=t;return{header:C2(e),...r}};he.toUncleBlock=s5;const sq=t=>({blockHash:t.block_hash,blockNumber:t.block_number});he.toTip=sq;function uD(t){if(!t||typeof t=="string")return t;if("block"in t&&"cycles"in t)return{cycles:t.cycles,block:uD(t.block)};const{header:e,uncles:r=[],transactions:n=[],...i}=t;return{header:C2(e),uncles:r.map(s5),transactions:n.map(O2),...i}}const lD=t=>{if(!t)return t;const{notice_until:e,...r}=t;return{noticeUntil:e,...r}};he.toAlertMessage=lD;const oq=t=>{if(!t)return t;const{is_initial_block_download:e,median_time:r,alerts:n,...i}=t;return{isInitialBlockDownload:e,medianTime:r,alerts:n.map(lD),...i}};he.toBlockchainInfo=oq;const fq=t=>{if(!t)return t;const{node_id:e,protocols:r,...n}=t;return{nodeId:e,protocols:r.map(({id:i,name:a,support_versions:s})=>({id:i,name:a,supportVersions:s})),...n}};he.toLocalNodeInfo=fq;const dD=t=>{if(!t)return t;const{node_id:e,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:a,...s}=t;return{nodeId:e,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:a.best_known_header_hash,bestKnownHeaderNumber:a.best_known_header_number,canFetchCount:a.can_fetch_count,inflightCount:a.inflight_count,lastCommonHeaderHash:a.last_common_header_hash,lastCommonHeaderNumber:a.last_common_header_number,unknownHeaderListSize:a.unknown_header_list_size},...s}};he.toRemoteNodeInfo=dD;const cq=t=>{if(!t)return t;const{last_txs_updated_at:e,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:a,min_fee_rate:s,min_rbf_rate:o,tx_size_limit:f,max_tx_pool_size:c,...u}=t;return{lastTxsUpdatedAt:e,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:a,minFeeRate:s,minRbfRate:o,txSizeLimit:f,maxTxPoolSize:c,...u}};he.toTxPoolInfo=cq;const uq=t=>Array.isArray(t)?t.map(dD):[];he.toPeers=uq;const o5=t=>{if(!t)return t;const{lock:e,type:r,...n}=t;return{lock:Dd(e),type:r?Dd(r):void 0,...n}};he.toCell=o5;const hD=t=>{if(!t)return t;const{data:e,output:r,...n}=t;return{data:e,output:T2(r),...n}};he.toLiveCell=hD;const lq=t=>{if(!t)return t;const{cell:e,...r}=t;return{cell:hD(e),...r}};he.toLiveCellWithStatus=lq;const dq=t=>Array.isArray(t)?t.map(o5):[];he.toCells=dq;const pD=t=>{if(!t)return t;const{lock:e,block_hash:r,out_point:n,output_data_len:i,...a}=t;return{blockHash:r,lock:Dd(e),outPoint:P1(n),outputDataLen:i,...a}};he.toCellIncludingOutPoint=pD;const hq=t=>Array.isArray(t)?t.map(pD):[];he.toCellsIncludingOutPoint=hq;const pq=t=>{if(!t)return t;const{transaction:e,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:a,fee:s,...o}=t;return{transaction:O2(e),txStatus:{blockHash:r,status:n,..."reason"in t.tx_status?{reason:t.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:a,fee:s,...o}};he.toTransactionWithStatus=pq;const bq=t=>{if(!t)return t;const{start_number:e,compact_target:r,...n}=t;return{compactTarget:r,startNumber:e,...n}};he.toEpoch=bq;const gy=t=>{if(!t)return t;const{block_number:e,tx_hash:r,...n}=t;return{blockNumber:e,txHash:r,...n}};he.toTransactionPoint=gy;const gq=t=>t&&t.map(e=>({consumedBy:e.consumed_by?gy(e.consumed_by):e.consumed_by,createdBy:gy(e.created_by)}));he.toTransactionsByLockHash=gq;const yq=t=>t&&t.map(e=>({cellOutput:o5(e.cell_output),createdBy:gy(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}));he.toLiveCellsByLockHash=yq;const bD=t=>{if(!t)return t;const{block_hash:e,block_number:r,lock_hash:n,...i}=t;return{blockHash:e,blockNumber:r,lockHash:n,...i}};he.toLockHashIndexState=bD;const vq=t=>t&&t.map(bD);he.toLockHashIndexStates=vq;const gD=t=>{if(!t)return t;const{ban_reason:e,ban_until:r,created_at:n,...i}=t;return{banReason:e,banUntil:r,createdAt:n,...i}};he.toBannedAddress=gD;const _q=t=>t&&t.map(e=>gD(e));he.toBannedAddresses=_q;const mq=t=>{if(!t)return t;const{proposal_reward:e,tx_fee:r,...n}=t;return{proposalReward:e,txFee:r,...n}};he.toCellbaseOutputCapacityDetails=mq;const wq=t=>{if(!t)return t;const{fee_rate:e,...r}=t;return{feeRate:e,...r}};he.toFeeRate=wq;const Aq=t=>{if(!t)return t;const{cells_count:e,block_number:r,capacity:n,...i}=t;return{blockNumber:r,capacity:n,cellsCount:e,...i}};he.toCapacityByLockHash=Aq;const Eq=t=>{if(!t)return t;const{finalized_at:e,miner_reward:r,txs_fee:n,...i}=t;return{finalizedAt:e,minerReward:r,txsFee:n,...i}};he.toBlockEconomicState=Eq;const xq=t=>t&&{bestKnownBlockNumber:t.best_known_block_number,bestKnownBlockTimestamp:t.best_known_block_timestamp,fastTime:t.fast_time,ibd:t.ibd,inflightBlocksCount:t.inflight_blocks_count,lowTime:t.low_time,normalTime:t.normal_time,orphanBlocksCount:t.orphan_blocks_count};he.toSyncState=xq;const Sq=t=>{if(!t)return t;const{block_hash:e,witnesses_root:r,...n}=t;return{blockHash:e,witnessesRoot:r,...n}};he.toTransactionProof=Sq;const Iq=t=>({rfc:t.rfc,epochNumber:t.epoch_number}),yD=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold});he.toDeployment=yD;const jA=t=>"rfc0043"in t?{status:t.status,rfc0043:yD(t.rfc0043)}:t,Cq=t=>{if(!t)return t;const e=t.hardfork_features,r=t.softforks,n=r.light_client&&jA(r.light_client),i=r.testdummy&&jA(r.testdummy);return{blockVersion:t.block_version,cellbaseMaturity:t.cellbase_maturity,daoTypeHash:t.dao_type_hash,epochDurationTarget:t.epoch_duration_target,genesisHash:t.genesis_hash,id:t.id,initialPrimaryEpochReward:t.initial_primary_epoch_reward,maxBlockBytes:t.max_block_bytes,maxBlockCycles:t.max_block_cycles,maxBlockProposalsLimit:t.max_block_proposals_limit,maxUnclesNum:t.max_uncles_num,medianTimeBlockCount:t.median_time_block_count,orphanRateTarget:t.orphan_rate_target,permanentDifficultyInDummy:t.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:t.primary_epoch_reward_halving_interval,proposerRewardRatio:t.proposer_reward_ratio,secondaryEpochReward:t.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:t.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:t.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:t.tx_proposal_window,txVersion:t.tx_version,typeIdCodeHash:t.type_id_code_hash,hardforkFeatures:e.map(Iq),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};he.toConsensus=Cq;const Tq=t=>{if(!t||tq(t))return t;const e=({ancestors_count:i,ancestors_cycles:a,ancestors_size:s,...o})=>({ancestorsCount:i,ancestorsCycles:a,ancestorsSize:s,...o}),r={},n={};return Object.keys(t.proposed).forEach(i=>{r[i]=e(t.proposed[i])}),Object.keys(t.pending).forEach(i=>{n[i]=e(t.pending[i])}),{proposed:r,pending:n}};he.toRawTxPool=Tq;const Oq=t=>t&&{blockNumber:t.block_number,outPoint:P1(t.out_point),output:T2(t.output),outputData:t.output_data,txIndex:t.tx_index},Bq=t=>({lastCursor:t.last_cursor,objects:t.objects.map(e=>Oq(e))});he.toGetCellsResult=Bq;const Dq=t=>!t.cells,Mq=t=>t&&(Dq(t)?{txHash:t.tx_hash,blockNumber:t.block_number,ioIndex:t.io_index,ioType:t.io_type,txIndex:t.tx_index}:{txHash:t.tx_hash,txIndex:t.tx_index,blockNumber:t.block_number,cells:t.cells}),Rq=t=>t&&{lastCursor:t.last_cursor,objects:t.objects.map(e=>Mq(e))};he.toGetTransactionsResult=Rq;const Lq=t=>t&&{capacity:t.capacity,blockHash:t.block_hash,blockNumber:t.block_number};he.toCellsCapacity=Lq;const Hq=t=>({hash:t.hash,data:t.data});he.toBlockFilter=Hq;const Pq=t=>({blockHash:t.block_hash,transactionsProof:t.transactions_proof,witnessesProof:t.witnesses_proof});he.toTransactionAndWitnessProof=Pq;const Nq=t=>({mean:t.mean,median:t.median});he.toFeeRateStatistics=Nq;const Uq=t=>typeof t=="string"?t:{header:C2(t.header),uncles:t.uncles.map(s5),transactions:t.transactions.map(O2),proposals:t.proposals,extension:t.extension};he.toForkBlockResult=Uq;const kq=t=>({cycles:t.cycles});he.toEstimateCycles=kq;const vD=t=>t==="locked_in"?"lockedIn":t;he.toDeployState=vD;const c6=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold,since:t.since,state:vD(t.state)});he.toDeploymentInfo=c6;const zq=t=>{const{light_client:e,testdummy:r}=t.deployments;return{hash:t.hash,epoch:t.epoch,deployments:{...e?{lightClient:c6(e)}:{},...r?{testdummy:c6(r)}:{}}}};he.toDeploymentsInfo=zq;Object.defineProperty(S2,"__esModule",{value:!0});S2.default=void 0;var Ln=ef,ti=jq(he);function _D(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(_D=function(n){return n?r:e})(t)}function jq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=_D(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}S2.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:ti.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:ti.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:ti.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[Ln.formatter.toNumber],resultFormatters:ti.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[Ln.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[Ln.formatter.toNumber],resultFormatters:ti.toBlock},getHeader:{method:"get_header",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[Ln.formatter.toNumber],resultFormatters:ti.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[Ln.formatter.toOutPoint],resultFormatters:ti.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[Ln.formatter.toHash],resultFormatters:ti.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[Ln.formatter.toArray(Ln.formatter.toHash),Ln.formatter.toOptional(Ln.formatter.toHash)],resultFormatters:ti.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[Ln.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:ti.toConsensus}};var B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.default=void 0;var j_=ef;B2.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[j_.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[j_.formatter.toOutPoint,j_.formatter.toHash]}};var D2={};Object.defineProperty(D2,"__esModule",{value:!0});D2.default=void 0;var Fq=ef,$b=$q(he);function mD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(mD=function(n){return n?r:e})(t)}function $q(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=mD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}D2.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:$b.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:$b.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:$b.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:$b.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[Fq.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}};var M2={};Object.defineProperty(M2,"__esModule",{value:!0});M2.default=void 0;var FA=ef,F_=qq(he);function wD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(wD=function(n){return n?r:e})(t)}function qq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=wD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}M2.default={sendTransaction:{method:"send_transaction",paramsFormatters:[FA.formatter.toRawTransaction,FA.formatter.toOutputsValidator],resultFormatters:F_.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:F_.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:F_.toRawTxPool}};var R2={};Object.defineProperty(R2,"__esModule",{value:!0});R2.default=void 0;var $A=Kq(he);function AD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(AD=function(n){return n?r:e})(t)}function Kq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=AD(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}R2.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:$A.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:$A.toDeploymentsInfo}};var L2={};Object.defineProperty(L2,"__esModule",{value:!0});L2.default=void 0;var vt=ef,Br=Qq(he);function ED(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(ED=function(n){return n?r:e})(t)}function Qq(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=ED(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const Vq={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:Br.toTip},getCells:{method:"get_cells",paramsFormatters:[vt.formatter.toGetCellsSearchKey,vt.formatter.toOrder,vt.formatter.toNumber,vt.formatter.toOptional(vt.formatter.toHash)],resultFormatters:Br.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[vt.formatter.toGetTransactionsSearchKey,vt.formatter.toOrder,vt.formatter.toNumber,vt.formatter.toOptional(vt.formatter.toHash)],resultFormatters:Br.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[vt.formatter.toSearchKey],resultFormatters:Br.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[vt.formatter.toHash],resultFormatters:Br.toNullable(Br.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[vt.formatter.toArray(vt.formatter.toHash),vt.formatter.toOptional(vt.formatter.toHash)],resultFormatters:Br.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[vt.formatter.toTransactionAndWitnessProof],resultFormatters:Br.toArray(Br.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[vt.formatter.toHash,vt.formatter.toOptional(vt.formatter.toNumber)],resultFormatters:Br.toNullable(Br.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[vt.formatter.toHash],resultFormatters:Br.toNullable(Br.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[vt.formatter.toRawTransaction],resultFormatters:Br.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[vt.formatter.toOptional(vt.formatter.toNumber)],resultFormatters:Br.toNullable(Br.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[vt.formatter.toOptional(vt.formatter.toNumber)],resultFormatters:Br.toNullable(Br.toFeeRateStatistics)}};L2.default=Vq;Object.defineProperty(Bd,"__esModule",{value:!0});Bd.rpcProperties=Bd.Base=void 0;var Yq=y0(S2),Gq=y0(B2),Wq=y0(D2),Xq=y0(M2),Zq=y0(R2),Jq=y0(L2);function y0(t){return t&&t.__esModule?t:{default:t}}const eK=Bd.rpcProperties={...Yq.default,...Gq.default,...Jq.default,...Wq.default,...Xq.default,...Zq.default};var Fy,cS;let tK=(cS=class{constructor(){Be(this,Fy,eK)}get rpcProperties(){return se(this,Fy)}},Fy=new WeakMap,cS);Bd.Base=tK;var oh={},H2={exports:{}};const{AbortController:xD,AbortSignal:rK}=typeof self<"u"?self:typeof window<"u"?window:void 0;H2.exports=xD;H2.exports.AbortSignal=rK;H2.exports.default=xD;var SD=H2.exports,u6={exports:{}};(function(t,e){var r=typeof self<"u"?self:$n,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(b){return b&&DataView.prototype.isPrototypeOf(b)}if(o.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&c.indexOf(Object.prototype.toString.call(b))>-1};function l(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function p(b){return typeof b!="string"&&(b=String(b)),b}function g(b){var v={next:function(){var d=b.shift();return{done:d===void 0,value:d}}};return o.iterable&&(v[Symbol.iterator]=function(){return v}),v}function m(b){this.map={},b instanceof m?b.forEach(function(v,d){this.append(d,v)},this):Array.isArray(b)?b.forEach(function(v){this.append(v[0],v[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(v){this.append(v,b[v])},this)}m.prototype.append=function(b,v){b=l(b),v=p(v);var d=this.map[b];this.map[b]=d?d+", "+v:v},m.prototype.delete=function(b){delete this.map[l(b)]},m.prototype.get=function(b){return b=l(b),this.has(b)?this.map[b]:null},m.prototype.has=function(b){return this.map.hasOwnProperty(l(b))},m.prototype.set=function(b,v){this.map[l(b)]=p(v)},m.prototype.forEach=function(b,v){for(var d in this.map)this.map.hasOwnProperty(d)&&b.call(v,this.map[d],d,this)},m.prototype.keys=function(){var b=[];return this.forEach(function(v,d){b.push(d)}),g(b)},m.prototype.values=function(){var b=[];return this.forEach(function(v){b.push(v)}),g(b)},m.prototype.entries=function(){var b=[];return this.forEach(function(v,d){b.push([d,v])}),g(b)},o.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function A(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function S(b){return new Promise(function(v,d){b.onload=function(){v(b.result)},b.onerror=function(){d(b.error)}})}function w(b){var v=new FileReader,d=S(v);return v.readAsArrayBuffer(b),d}function C(b){var v=new FileReader,d=S(v);return v.readAsText(b),d}function O(b){for(var v=new Uint8Array(b),d=new Array(v.length),y=0;y<v.length;y++)d[y]=String.fromCharCode(v[y]);return d.join("")}function M(b){if(b.slice)return b.slice(0);var v=new Uint8Array(b.byteLength);return v.set(new Uint8Array(b)),v.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:o.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:o.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():o.arrayBuffer&&o.blob&&f(b)?(this._bodyArrayBuffer=M(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=M(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var K=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Q(b){var v=b.toUpperCase();return K.indexOf(v)>-1?v:b}function j(b,v){v=v||{};var d=v.body;if(b instanceof j){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,v.headers||(this.headers=new m(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!d&&b._bodyInit!=null&&(d=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new m(v.headers)),this.method=Q(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function G(b){var v=new FormData;return b.trim().split("&").forEach(function(d){if(d){var y=d.split("="),x=y.shift().replace(/\+/g," "),E=y.join("=").replace(/\+/g," ");v.append(decodeURIComponent(x),decodeURIComponent(E))}}),v}function W(b){var v=new m,d=b.replace(/\r?\n[\t ]+/g," ");return d.split(/\r?\n/).forEach(function(y){var x=y.split(":"),E=x.shift().trim();if(E){var h=x.join(":").trim();v.append(E,h)}}),v}N.call(j.prototype);function R(b,v){v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"OK",this.headers=new m(v.headers),this.url=v.url||"",this._initBody(b)}N.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},R.error=function(){var b=new R(null,{status:0,statusText:""});return b.type="error",b};var _=[301,302,303,307,308];R.redirect=function(b,v){if(_.indexOf(v)===-1)throw new RangeError("Invalid status code");return new R(null,{status:v,headers:{location:b}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(v,d){this.message=v,this.name=d;var y=Error(v);this.stack=y.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function I(b,v){return new Promise(function(d,y){var x=new j(b,v);if(x.signal&&x.signal.aborted)return y(new s.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function h(){E.abort()}E.onload=function(){var T={status:E.status,statusText:E.statusText,headers:W(E.getAllResponseHeaders()||"")};T.url="responseURL"in E?E.responseURL:T.headers.get("X-Request-URL");var F="response"in E?E.response:E.responseText;d(new R(F,T))},E.onerror=function(){y(new TypeError("Network request failed"))},E.ontimeout=function(){y(new TypeError("Network request failed"))},E.onabort=function(){y(new s.DOMException("Aborted","AbortError"))},E.open(x.method,x.url,!0),x.credentials==="include"?E.withCredentials=!0:x.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&o.blob&&(E.responseType="blob"),x.headers.forEach(function(T,F){E.setRequestHeader(F,T)}),x.signal&&(x.signal.addEventListener("abort",h),E.onreadystatechange=function(){E.readyState===4&&x.signal.removeEventListener("abort",h)}),E.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return I.polyfill=!0,a.fetch||(a.fetch=I,a.Headers=m,a.Request=j,a.Response=R),s.Headers=m,s.Request=j,s.Response=R,s.fetch=I,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(u6,u6.exports);var ID=u6.exports,qA;function nK(){var s,o,f,c;if(qA)return oh;qA=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.Method=void 0;var t=I2,e=P2(),r=i(SD),n=i(ID);function i(u){return u&&u.__esModule?u:{default:u}}class a{constructor(l,p,g={}){Be(this,s);Be(this,o);Be(this,f,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0});Be(this,c);Yr(this,"call",async(...l)=>{const p=this.getPayload(...l),g=new r.default,m=g.signal,A=setTimeout(()=>g.abort(),se(this,o).timeout),S=await se(this,o).fetch(se(this,c).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(p),signal:m}).then(w=>w.json()).then(w=>{var C,O,M;if(w.id!==p.id)throw new t.IdNotMatchException(p.id,w.id);if(w.error)throw new t.ResponseException(JSON.stringify(w.error));return(C=(O=(M=se(this,f)).resultFormatters)===null||O===void 0?void 0:O.call(M,w.result))!==null&&C!==void 0?C:w.result});return clearTimeout(A),S});Yr(this,"getPayload",(...l)=>{const p=l.map((A,S)=>se(this,f).paramsFormatters[S]&&se(this,f).paramsFormatters[S](A)||A);return{id:Math.round(Math.random()*1e4),method:se(this,f).method,params:p,jsonrpc:"2.0"}});ve(this,c,l),ve(this,f,p),ve(this,s,p.name);const{timeout:m=e.DEFAULT_RPC_TIMEOUT,fetch:A=n.default}=g;ve(this,o,{timeout:m,fetch:A}),Object.defineProperty(this.call,"name",{value:p.name,configurable:!1,writable:!1})}get name(){return se(this,s)}}return s=new WeakMap,o=new WeakMap,f=new WeakMap,c=new WeakMap,oh.Method=a,oh}var KA;function P2(){var p,g,m,A;if(KA)return yi;KA=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.ResultFormatter=yi.RPC=yi.ParamsFormatter=yi.DEFAULT_RPC_TIMEOUT=yi.CKBRPC=void 0;var t=Bd,e=nK(),r=ef,n=c(he),i=I2,a=o(ID),s=o(SD);function o(S){return S&&S.__esModule?S:{default:S}}function f(S){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(f=function(O){return O?C:w})(S)}function c(S,w){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var C=f(w);if(C&&C.has(S))return C.get(S);var O={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in S)if(N!=="default"&&{}.hasOwnProperty.call(S,N)){var K=M?Object.getOwnPropertyDescriptor(S,N):null;K&&(K.get||K.set)?Object.defineProperty(O,N,K):O[N]=S[N]}return O.default=S,C&&C.set(S,O),O}yi.ParamsFormatter=r.formatter,yi.ResultFormatter=n;const u=yi.DEFAULT_RPC_TIMEOUT=3e4;class l extends t.Base{constructor(C,O={}){super();Be(this,p);Be(this,g,{url:""});Be(this,m,r.formatter);Be(this,A,n);Yr(this,"addMethod",(C,O)=>{const M=new e.Method(this.node,C,O);Object.defineProperty(this,C.name,{value:M.call,enumerable:!0})});Yr(this,"createBatchRequest",(C=[])=>{const O=this,M=new Proxy([],{set(...N){const K=Object.keys(O);if(N[1]!=="length"){var Q;const j=N==null||(Q=N[2])===null||Q===void 0?void 0:Q[0];if(K.indexOf(j)===-1)throw new i.MethodInBatchNotFoundException(j)}return Reflect.set(...N)}});return Object.defineProperties(M,{add:{value(...N){return this.push(N),this}},remove:{value(N){return this.splice(N,1),this}},exec:{async value(){const N=M.map(([W,...R],_)=>{try{return new e.Method(O.node,{...O.rpcProperties[W],name:W}).getPayload(...R)}catch(I){throw new i.PayloadInBatchException(_,I.message)}}),K=new s.default,Q=K.signal,j=setTimeout(()=>K.abort(),se(O,p).timeout),G=await se(O,p).fetch(se(O,g).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(N),signal:Q}).then(W=>W.json());return clearTimeout(j),G.map((W,R)=>{var _,I,b;return W.id!==N[R].id?new i.IdNotMatchedInBatchException(R,N[R].id,W.id):(_=(I=(b=O.rpcProperties[M[R][0]]).resultFormatters)===null||I===void 0?void 0:I.call(b,W.result))!==null&&_!==void 0?_:W.result})}}}),C.forEach(N=>M.push(N)),M});this.setNode({url:C});const{timeout:M=u,fetch:N=a.default}=O;ve(this,p,{timeout:M,fetch:N}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach(K=>{this.addMethod({name:K,...this.rpcProperties[K]},se(this,p))})}get node(){return se(this,g)}get paramsFormatter(){return se(this,m)}get resultFormatter(){return se(this,A)}setNode(C){return Object.assign(this.node,C),this.node}}return p=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakMap,yi.RPC=yi.CKBRPC=l,yi}var $_=P2();async function CD(t,e=aK(t),r=!1,...n){const i=sK(e);let a=cK(t==="mainnet"?Nr.predefined.LINA:t==="testnet"?Nr.predefined.AGGRON4:{PREFIX:"ckt",SCRIPTS:Nr.generateGenesisScriptConfigs(await i.getBlockByNumber("0x0"))}),s=a.SCRIPTS;for(const o of n)s=Object.freeze({...s,...o(t,s)});return a=new TD(a.prefix,s),Nr.initializeConfig(r?{PREFIX:"",SCRIPTS:{}}:a),{chain:t,rpcUrl:e,rpc:i,config:a}}const iK=Object.freeze({mainnet:"https://rpc.ankr.com/nervos_ckb",testnet:"https://testnet.ckb.dev",devnet:"http://127.0.0.1:8114/"});function aK(t){return iK[t]}function sK(t){const e=new $_.RPC(t);return e.addMethod({name:"getCellsByLock",method:"get_cells",paramsFormatters:[r=>({script:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},script_type:"lock",script_search_mode:"exact"}),r=>r,r=>r==="max"?"0xffffffff":$_.ParamsFormatter.toNumber(r)],resultFormatters:r=>r.objects.map(({output:{capacity:n,lock:i,type:a},block_number:s,out_point:o,output_data:f,tx_index:c})=>({cellOutput:{capacity:n,lock:{codeHash:i.code_hash,hashType:i.hash_type,args:i.args},type:a?{codeHash:a.code_hash,hashType:a.hash_type,args:a.args}:void 0},data:f??"0x",outPoint:{index:o.index,txHash:o.tx_hash},blockNumber:s,txIndex:c}))}),e.addMethod({name:"getFeeRate",method:"get_fee_rate_statistics",paramsFormatters:[r=>$_.ParamsFormatter.toNumber(r)],resultFormatters:r=>!r||!r.median?1000n:BigInt(r.median)}),e}class f5 extends Error{constructor(e){super(oK),this.missingScriptName=e,Object.setPrototypeOf(this,f5.prototype)}}const oK="Script name not found";class TD{constructor(e,r){return this.prefix=e,this.scripts=Object.freeze(r),Object.freeze(this)}defaultScript(e){const r=this.scripts[e];if(!r)throw new f5(e);return r.defaultScript}get PREFIX(){return this.prefix}get SCRIPTS(){return this.scripts}}class np{constructor(e,r=0){return e[Oi][r].depType,this.defaultScript=e,this.index=r,Object.freeze(this)}get CODE_HASH(){return this.defaultScript.codeHash}get HASH_TYPE(){return this.defaultScript.hashType}get TX_HASH(){return this.defaultScript[Oi][this.index].outPoint.txHash}get INDEX(){return this.defaultScript[Oi][this.index].outPoint.index}get DEP_TYPE(){return this.defaultScript[Oi][this.index].depType}}function fK(t){if(t instanceof np)return t;const e=hu.from({outPoint:$o.from({txHash:t.TX_HASH,index:t.INDEX}),depType:t.DEP_TYPE});return new np(xn.from({...va,codeHash:t.CODE_HASH,hashType:t.HASH_TYPE,[Oi]:[e]}))}function cK(t){const e={};for(const r in t.SCRIPTS)e[r]=fK(t.SCRIPTS[r]);return new TD(t.PREFIX,e)}var Hn={},Dn={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.SECP_SIGNATURE_PLACEHOLDER=void 0;lt.addCellDep=OD;lt.default=void 0;lt.ensureScript=UD;lt.generateDaoScript=BD;lt.hashWitness=_g;lt.isAcpAddress=PD;lt.isAcpScript=l5;lt.isDaoScript=LD;lt.isOmnilockAddress=pK;lt.isOmnilockScript=MD;lt.isSecp256k1Blake160Address=DD;lt.isSecp256k1Blake160MultisigAddress=RD;lt.isSecp256k1Blake160MultisigScript=u5;lt.isSecp256k1Blake160Script=c5;lt.isSudtScript=HD;lt.prepareSigningEntries=ND;var uK=Jo,N1=pi(),QA=st,Fl=Ir,lK=i0;const{CKBHasher:dK,ckbHash:hK}=Fl.utils;function OD(t,e){return t.get("cellDeps").find(n=>n.depType===e.depType&&new Fl.values.OutPointValue(n.outPoint,{validate:!1}).equals(new Fl.values.OutPointValue(e.outPoint,{validate:!1})))||(t=t.update("cellDeps",n=>n.push({outPoint:e.outPoint,depType:e.depType}))),t}function BD(t){const e=t.SCRIPTS.DAO;return{codeHash:e.CODE_HASH,hashType:e.HASH_TYPE,args:"0x"}}function c5(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function DD(t,e){const r=(0,N1.parseAddress)(t,{config:e});return c5(r,e)}function MD(t,e){const r=e.SCRIPTS.OMNILOCK;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function pK(t,e){const r=(0,N1.parseAddress)(t,{config:e});return MD(r,e)}function u5(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function RD(t,e){const r=(0,N1.parseAddress)(t,{config:e});return u5(r,e)}function LD(t,e){const r=e.SCRIPTS.DAO;return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function HD(t,e){const r=e.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function l5(t,e){const r=e.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function PD(t,e){const r=(0,N1.parseAddress)(t,{config:e});return l5(r,e)}function _g(t,e){const r=QA.bytes.hexify(lK.Uint64.pack(QA.bytes.bytify(e).length));t.update(r),t.update(e)}function ND(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);let i=(0,uK.Set)();const a=(0,N1.createTransactionFromSkeleton)(t),s=hK(Fl.blockchain.RawTransaction.pack(a)),o=t.get("inputs"),f=t.get("witnesses");let c=t.get("signingEntries");for(let u=0;u<o.size;u++){const l=o.get(u);if(n.CODE_HASH===l.cellOutput.lock.codeHash&&n.HASH_TYPE===l.cellOutput.lock.hashType&&!i.has(l.cellOutput.lock.args)){i=i.add(l.cellOutput.lock.args);const p=new Fl.values.ScriptValue(l.cellOutput.lock,{validate:!1}),g=new dK;if(g.update(s),u>=f.size)throw new Error(`The first witness in the script group starting at input index ${u} does not exist, maybe some other part has invalidly tampered the transaction?`);_g(g,f.get(u));for(let A=u+1;A<o.size&&A<f.size;A++){const S=o.get(A);p.equals(new Fl.values.ScriptValue(S.cellOutput.lock,{validate:!1}))&&_g(g,f.get(A))}for(let A=o.size;A<f.size;A++)_g(g,f.get(A));const m={type:"witness_args_lock",index:u,message:g.digestHex()};c=c.push(m)}}return t=t.set("signingEntries",c),t}function UD(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==t.codeHash||n.HASH_TYPE!==t.hashType)throw new Error(`Provided script is not ${r} script!`)}lt.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";lt.default={addCellDep:OD,generateDaoScript:BD,isSecp256k1Blake160Script:c5,isSecp256k1Blake160MultisigScript:u5,isDaoScript:LD,isSudtScript:HD,prepareSigningEntries:ND,isSecp256k1Blake160Address:DD,isSecp256k1Blake160MultisigAddress:RD,ensureScript:UD,isAcpScript:l5,isAcpAddress:PD};var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.isMultisigFromInfo=vK;ei.multisigArgs=zD;ei.parseFromInfo=_K;ei.serializeMultisigScript=kD;var bK=Ir,VA=pi(),gK=Nr,YA=st;const{CKBHasher:yK}=bK.utils;function vK(t){if(!t||typeof t!="object")return!1;const e=t;return typeof(e==null?void 0:e.R)=="number"&&typeof(e==null?void 0:e.M)=="number"&&Array.isArray(e==null?void 0:e.publicKeyHashes)}function kD({R:t,M:e,publicKeyHashes:r}){if(t<0||t>255)throw new Error("`R` should be less than 256!");if(e<0||e>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+t.toString(16)).slice(-2)+("00"+e.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map(n=>n.slice(2)).join("")}function zD(t,e){let r="0x";return e!=null&&(r=YA.bytes.hexify(YA.number.Uint64LE.pack(e))),new yK().update(t).digestHex().slice(0,42)+r.slice(2)}function _K(t,{config:e=void 0}={}){e=e||(0,gK.getConfig)();let r,n,i,a;if(typeof t=="string")r=(0,VA.parseAddress)(t,{config:e});else if("R"in t){const s=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!s)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=kD(t);const o=zD(n,t.since);r={codeHash:s.CODE_HASH,hashType:s.HASH_TYPE,args:o}}else if("address"in t){const s=e.SCRIPTS.ANYONE_CAN_PAY;if(!s)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=t.address;if(r=(0,VA.parseAddress)(o,{config:e}),i=t.destroyable,r.codeHash!==s.CODE_HASH||r.hashType!==s.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else if("script"in t)r=t.script,a=t.customData;else throw new Error("Invalid fromInfo format!");return{fromScript:r,multisigScript:n,destroyable:i,customData:a}}Object.defineProperty(Dn,"__esModule",{value:!0});Dn.default=Dn.CellCollector=void 0;Dn.injectCapacity=qD;Dn.payFee=$D;Dn.prepareSigningEntries=KD;Dn.setupInputCell=jD;Dn.transfer=FD;Dn.transferCompatible=U1;var mK=Jo,qb=pi(),$l=st,kp=Ir,v0=Nr,tc=lt,wK=ei,If=wt;const{ScriptValue:Il}=kp.values,AK=Dn.CellCollector=class{constructor(e,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,v0.getConfig)(),this.fromScript=(0,wK.parseFromInfo)(e,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,tc.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function jD(t,e,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,v0.getConfig)();const s=e.cellOutput.lock;if(!(0,tc.isSecp256k1Blake160Script)(s,n))throw new Error("Not SECP256K1_BLAKE160 input!");t=t.update("inputs",l=>l.push(e));const o={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",l=>l.push(o)),a&&(t=t.update("inputSinces",l=>l.set(t.get("inputs").size-1,a))),t=t.update("witnesses",l=>l.push(i));const f=n.SCRIPTS.SECP256K1_BLAKE160;if(!f)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const c={txHash:f.TX_HASH,index:f.INDEX};t=(0,tc.addCellDep)(t,{outPoint:c,depType:f.DEP_TYPE});const u=t.get("inputs").findIndex(l=>new Il(l.cellOutput.lock,{validate:!1}).equals(new Il(s,{validate:!1})));if(u!==-1){for(;u>=t.get("witnesses").size;)t=t.update("witnesses",g=>g.push("0x"));let l=t.get("witnesses").get(u);const p={lock:tc.SECP_SIGNATURE_PLACEHOLDER};if(l!=="0x"){const g=kp.blockchain.WitnessArgs.unpack($l.bytes.bytify(l)),m=g.lock;if(m&&p.lock&&!$l.bytes.equal(m,p.lock))throw new Error("Lock field in first witness is set aside for signature!");const A=g.inputType;A&&(p.inputType=A);const S=g.outputType;S&&(p.outputType=S)}l=$l.bytes.hexify(kp.blockchain.WitnessArgs.pack(p)),t=t.update("witnesses",g=>g.set(u,l))}return t}async function FD(t,e,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){const o=await U1(t,e,r,n,{config:i,requireToAddress:a,assertAmountEnough:s});let f,c;return o instanceof Array?(f=o[0],c=BigInt(o[1].toString()),[f,c]):(f=o,f)}async function U1(t,e,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){i=i||(0,v0.getConfig)();const o=i.SCRIPTS.SECP256K1_BLAKE160;if(!o)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const f={txHash:o.TX_HASH,index:o.INDEX};t=(0,tc.addCellDep)(t,{outPoint:f,depType:o.DEP_TYPE});const c=(0,qb.parseAddress)(e,{config:i});if((0,tc.ensureScript)(c,i,"SECP256K1_BLAKE160"),a&&!r)throw new Error("You must provide a to address!");let u=If.BI.from(n);if(r){const m=(0,qb.parseAddress)(r,{config:i});t=t.update("outputs",A=>A.push({cellOutput:{capacity:"0x"+u.toString(16),lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const l=t.get("fixedEntries").filter(({field:m})=>m==="outputs").maxBy(({index:m})=>m);let p=l?l.index+1:0;for(;p<t.get("outputs").size&&u.gt(0);p++){const m=t.get("outputs").get(p);if(new Il(m.cellOutput.lock,{validate:!1}).equals(new Il(c,{validate:!1}))){const A=If.BI.from(m.cellOutput.capacity);let S;u.gte(A)?S=A:(S=A.sub((0,qb.minimalCellCapacityCompatible)(m)),S.gt(u)&&(S=u)),u=u.sub(S),m.cellOutput.capacity="0x"+A.sub(S).toString(16)}}if(t=t.update("outputs",m=>m.filter(A=>!If.BI.from(A.cellOutput.capacity).eq(0))),u.gt(0)){const m=t.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const A=m.collector({lock:c}),S={cellOutput:{capacity:"0x0",lock:c,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let w=If.BI.from(0),C=(0,mK.Set)();for(const O of t.get("inputs"))C=C.add(`${O.outPoint.txHash}_${O.outPoint.index}`);for await(const O of A.collect()){if(C.has(`${O.outPoint.txHash}_${O.outPoint.index}`))continue;t=t.update("inputs",K=>K.push(O)),t=t.update("witnesses",K=>K.push("0x"));const M=If.BI.from(O.cellOutput.capacity);let N=M;if(N.gt(u)&&(N=u),u=u.sub(N),w=w.add(M).sub(N),u.eq(0)&&(w.eq(0)||w.gt((0,qb.minimalCellCapacityCompatible)(S))))break}w.gt(0)&&(S.cellOutput.capacity="0x"+w.toString(16),t=t.update("outputs",O=>O.push(S)))}if(u.gt(0)&&s)throw new Error("Not enough capacity in from address!");const g=t.get("inputs").findIndex(m=>new Il(m.cellOutput.lock,{validate:!1}).equals(new Il(c,{validate:!1})));if(g!==-1){for(;g>=t.get("witnesses").size;)t=t.update("witnesses",S=>S.push("0x"));let m=t.get("witnesses").get(g);const A={lock:tc.SECP_SIGNATURE_PLACEHOLDER};if(m!=="0x"){const S=kp.blockchain.WitnessArgs.unpack($l.bytes.bytify(m)),w=S.lock;if(w&&A.lock&&!$l.bytes.equal(w,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const C=S.inputType;C&&(A.inputType=C);const O=S.outputType;O&&(A.outputType=O)}m=$l.bytes.hexify(kp.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",S=>S.set(g,m))}return s?t:[t,If.BI.from(u)]}async function $D(t,e,r,{config:n=void 0}={}){return n=n||(0,v0.getConfig)(),await U1(t,e,null,r,{config:n,requireToAddress:!1})}async function qD(t,e,r,{config:n=void 0}={}){if(n=n||(0,v0.getConfig)(),e>=t.get("outputs").size)throw new Error("Invalid output index!");const i=If.BI.from(t.get("outputs").get(e).cellOutput.capacity);return await U1(t,r,null,If.BI.from(i),{config:n,requireToAddress:!1})}function KD(t,{config:e=void 0}={}){return e=e||(0,v0.getConfig)(),(0,tc.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160")}Dn.default={transfer:FD,transferCompatible:U1,payFee:$D,prepareSigningEntries:KD,injectCapacity:qD,setupInputCell:jD,CellCollector:AK};var k1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=A,Object.defineProperty(t,"multisigArgs",{enumerable:!0,get:function(){return o.multisigArgs}}),t.payFee=m,t.prepareSigningEntries=S,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return o.serializeMultisigScript}}),t.setupInputCell=l,t.transfer=p,t.transferCompatible=g;var e=pi(),r=st,n=Ir,i=Nr,a=Jo,s=lt,o=ei,f=wt;const{ScriptValue:c}=n.values,u=t.CellCollector=class{constructor(C,O,{config:M=void 0,queryOptions:N={}}={}){if(!O)throw new Error("Cell provider is missing!");M=M||(0,i.getConfig)();const K=(0,o.parseFromInfo)(C,{config:M});this.fromScript=K.fromScript,this.multisigScript=K.multisigScript,this.config=M,N={...N,lock:this.fromScript,type:N.type||"empty"},this.cellCollector=O.collector(N)}async*collect(){if((0,s.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const C of this.cellCollector.collect())yield C}};async function l(w,C,O,{config:M=void 0,defaultWitness:N="0x",since:K=void 0,requireMultisigScript:Q=!0}={}){if(M=M||(0,i.getConfig)(),Q&&typeof O!="object")throw new Error("`fromInfo` must be MultisigScript format!");const j=C.cellOutput.lock;if(O){const I=(0,o.parseFromInfo)(O,{config:M}).fromScript;if(!new c(I,{validate:!1}).equals(new c(j,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,s.isSecp256k1Blake160MultisigScript)(j,M))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");w=w.update("inputs",I=>I.push(C)),K&&(w=w.update("inputSinces",I=>I.set(w.get("inputs").size-1,K))),w=w.update("witnesses",I=>I.push(N));const G={cellOutput:{capacity:C.cellOutput.capacity,lock:C.cellOutput.lock,type:C.cellOutput.type},data:C.data};w=w.update("outputs",I=>I.push(G));const W=M.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!W)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const R={txHash:W.TX_HASH,index:W.INDEX};w=(0,s.addCellDep)(w,{outPoint:R,depType:W.DEP_TYPE});const _=w.get("inputs").findIndex(I=>new c(I.cellOutput.lock,{validate:!1}).equals(new c(j,{validate:!1})));if(_!==-1){for(;_>=w.get("witnesses").size;)w=w.update("witnesses",b=>b.push("0x"));if(w.get("witnesses").get(_)==="0x"&&typeof O!="object")throw new Error("`fromInfo` must be MultisigScript format!");if(typeof O=="object"){const b=(0,o.parseFromInfo)(O,{config:M}).multisigScript;let v=w.get("witnesses").get(_);const d={lock:"0x"+b.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(O.M)};if(v!=="0x"){const y=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(v)),x=y.lock;if(x&&d.lock&&!r.bytes.equal(x,d.lock))throw new Error("Lock field in first witness is set aside for signature!");const E=y.inputType;E&&(d.inputType=E);const h=y.outputType;h&&(d.outputType=h)}v=r.bytes.hexify(n.blockchain.WitnessArgs.pack(d)),w=w.update("witnesses",y=>y.set(_,v))}}return w}async function p(w,C,O,M,{config:N=void 0,requireToAddress:K=!0,assertAmountEnough:Q=!0}={}){const j=await g(w,C,O,M,{config:N,requireToAddress:K,assertAmountEnough:Q});let G,W;return j instanceof Array?(G=j[0],W=BigInt(j[1].toString()),[G,W]):(G=j,G)}async function g(w,C,O,M,{config:N=void 0,requireToAddress:K=!0,assertAmountEnough:Q=!0}={}){N=N||(0,i.getConfig)();const j=N.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!j)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const G={txHash:j.TX_HASH,index:j.INDEX};w=(0,s.addCellDep)(w,{outPoint:G,depType:j.DEP_TYPE});const{fromScript:W,multisigScript:R}=(0,o.parseFromInfo)(C,{config:N});(0,s.ensureScript)(W,N,"SECP256K1_BLAKE160_MULTISIG");const _=!w.get("inputs").find(y=>new c(y.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1})));if(_&&C==="string")throw new Error("MultisigScript is required for witness!");if(K&&!O)throw new Error("You must provide a to address!");let I=M?f.BI.from(M):f.BI.from(0);if(O){const y=(0,e.parseAddress)(O,{config:N});w=w.update("outputs",x=>x.push({cellOutput:{capacity:"0x"+I.toString(16),lock:y,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const b=w.get("fixedEntries").filter(({field:y})=>y==="outputs").maxBy(({index:y})=>y);let v=b?b.index+1:0;for(;v<w.get("outputs").size&&I.gt(0);++v){const y=w.get("outputs").get(v);if(new c(y.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1}))){const x=f.BI.from(y.cellOutput.capacity);let E;I.gte(x)?E=x:(E=x.sub((0,e.minimalCellCapacityCompatible)(y)),E.gt(I)&&(E=I)),I=I.sub(E),y.cellOutput.capacity="0x"+x.sub(E).toString(16)}}if(w=w.update("outputs",y=>y.filter(x=>!f.BI.from(x.cellOutput.capacity).eq(0))),I.gt(0)){const y=w.get("cellProvider");if(!y)throw new Error("cell provider is missing!");const x=y.collector({lock:W}),E={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let h=f.BI.from(0),T=(0,a.Set)();for(const F of w.get("inputs"))T=T.add(`${F.outPoint.txHash}_${F.outPoint.index}`);for await(const F of x.collect()){if(T.has(`${F.outPoint.txHash}_${F.outPoint.index}`))continue;w=w.update("inputs",$=>$.push(F)),w=w.update("witnesses",$=>$.push("0x"));const L=f.BI.from(F.cellOutput.capacity);let k=L;if(k.gt(I)&&(k=I),I=I.sub(k),h=h.add(L.sub(k)),I.eq(0)&&(h.eq(0)||h.gt((0,e.minimalCellCapacityCompatible)(E))))break}h.gt(0)&&(E.cellOutput.capacity="0x"+h.toString(16),w=w.update("outputs",F=>F.push(E)))}if(I.gt(0)&&Q)throw new Error("Not enough capacity in from address!");const d=w.get("inputs").findIndex(y=>new c(y.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1})));if(d!==-1){for(;f.BI.from(d).gte(w.get("witnesses").size);)w=w.update("witnesses",y=>y.push("0x"));if(_||typeof C!="string"){let y=w.get("witnesses").get(d);const x={lock:"0x"+R.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(C.M)};if(y!=="0x"){const E=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(y)),h=E.lock;if(h&&x.lock&&!r.bytes.equal(h,x.lock))throw new Error("Lock field in first witness is set aside for signature!");const T=E.inputType;T&&(x.inputType=T);const F=E.outputType;F&&(x.outputType=F)}y=r.bytes.hexify(n.blockchain.WitnessArgs.pack(x)),w=w.update("witnesses",E=>E.set(d,y))}}return Q?w:[w,f.BI.from(I)]}async function m(w,C,O,{config:M=void 0}={}){return M=M||(0,i.getConfig)(),g(w,C,void 0,O,{config:M,requireToAddress:!1})}async function A(w,C,O,{config:M=void 0}={}){if(M=M||(0,i.getConfig)(),C>=w.get("outputs").size)throw new Error("Invalid output index!");const N=f.BI.from(w.get("outputs").get(C).cellOutput.capacity);return g(w,O,void 0,N,{config:M,requireToAddress:!1})}function S(w,{config:C=void 0}={}){return C=C||(0,i.getConfig)(),(0,s.prepareSigningEntries)(w,C,"SECP256K1_BLAKE160_MULTISIG")}t.default={transfer:p,transferCompatible:g,payFee:m,prepareSigningEntries:S,serializeMultisigScript:o.serializeMultisigScript,multisigArgs:o.multisigArgs,injectCapacity:A,setupInputCell:l,CellCollector:u}})(k1);var Yi={},vi={},q_={},bs={},_i={},GA;function d5(){if(GA)return _i;GA=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.CellCollector=void 0,_i.checkLimit=m,_i.default=void 0,_i.injectCapacity=S,_i.prepareSigningEntries=w,_i.setupInputCell=g,_i.setupOutputCell=A,_i.withdraw=C;var t=Ir,e=st,r=Nr,n=pi(),i=Jo,a=wt,s=ei,o=lt,f=QD();const{ScriptValue:c}=t.values,{CKBHasher:u,ckbHash:l}=t.utils,p=_i.CellCollector=class{constructor(M,N,{config:K=void 0,queryOptions:Q={}}={}){if(!N)throw new Error("Cell provider is missing!");K=K||(0,r.getConfig)(),this.fromScript=(0,s.parseFromInfo)(M,{config:K}).fromScript,this.config=K,Q={...Q,lock:this.fromScript,type:Q.type||"empty"},this.cellCollector=N.collector(Q)}async*collect(){if((0,o.isAcpScript)(this.fromScript,this.config))for await(const M of this.cellCollector.collect())yield M}};async function g(O,M,N,{config:K=void 0,defaultWitness:Q="0x",since:j=void 0}={}){K=K||(0,r.getConfig)();const G=M.cellOutput.lock;if(!(0,o.isAcpScript)(G,K))throw new Error("Not anyone-can-pay input!");O=O.update("inputs",b=>b.push(M)),j&&(O=O.update("inputSinces",b=>b.set(O.get("inputs").size-1,j))),O=O.update("witnesses",b=>b.push(Q));const W={cellOutput:{capacity:M.cellOutput.capacity,lock:M.cellOutput.lock,type:M.cellOutput.type},data:M.data};O=O.update("outputs",b=>b.push(W)),O=O.update("fixedEntries",b=>b.push({field:"outputs",index:O.get("outputs").size-1}));const R=K.SCRIPTS.ANYONE_CAN_PAY;if(!R)throw new Error("ANYONE_CAN_PAY script not defined in config!");const _={txHash:R.TX_HASH,index:R.INDEX};O=(0,o.addCellDep)(O,{outPoint:_,depType:R.DEP_TYPE});const I=O.get("inputs").findIndex(b=>new c(b.cellOutput.lock,{validate:!1}).equals(new c(G,{validate:!1})));if(I!==-1){for(;I>=O.get("witnesses").size;)O=O.update("witnesses",d=>d.push("0x"));let b=O.get("witnesses").get(I);const v={lock:o.SECP_SIGNATURE_PLACEHOLDER};if(b!=="0x"){const d=t.blockchain.WitnessArgs.unpack(e.bytes.bytify(b)),y=d.lock;if(y&&v.lock&&!e.bytes.equal(y,v.lock))throw new Error("Lock field in first witness is set aside for signature!");const x=d.inputType;x&&(v.inputType=x);const E=d.outputType;E&&(v.outputType=E)}b=e.bytes.hexify(t.blockchain.WitnessArgs.pack(v)),O=O.update("witnesses",d=>d.set(I,b))}return O}function m(O,M){const N=a.BI.from(M);let K,Q;if(O.length>=46&&(K=a.BI.from(10).pow("0x"+O.slice(44,46))),O.length>=44){const j=a.BI.from(10).pow("0x"+O.slice(42,44)),G=a.BI.from(10).pow(8);Q=j.mul(G)}if(Q&&K){if(N.lt(Q))throw new Error(`capacity(${M}) less than toAddress minimal capacity limit(${Q}), and amount less then toAddress minimal amount limit(${K})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(Q&&N.lt(Q))throw new Error(`capacity(${M}) less than toAddress minimal capacity limit(${Q})!`)}async function A(O,M,{config:N=void 0}={}){N=N||(0,r.getConfig)();const K=M.cellOutput.lock,Q=a.BI.from(M.cellOutput.capacity);m(K.args,Q.toString());const j=O.get("cellProvider");if(!j)throw new Error("Cell Provider is missing!");const G=(0,n.generateAddress)(K,{config:N}),R=(await new p(G,j,{config:N}).collect().next()).value;let _=Q;if(R&&(_=Q.add(R.cellOutput.capacity),O=O.update("inputs",I=>I.push(R)),O=O.update("witnesses",I=>I.push("0x"))),M.cellOutput.capacity="0x"+_.toString(16),O=O.update("outputs",I=>I.push(M)),R){const I=N.SCRIPTS.ANYONE_CAN_PAY;if(!I)throw new Error("ANYONE_CAN_PAY script not defined in config!");const b={txHash:I.TX_HASH,index:I.INDEX};O=(0,o.addCellDep)(O,{outPoint:b,depType:I.DEP_TYPE})}return O}async function S(O,M,N,K,{config:Q=void 0}={}){if(Q=Q||(0,r.getConfig)(),N>=M.get("outputs").size)throw new Error("Invalid output index!");let j=a.BI.from(K);if(!Q.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const W=O.fromScript,R=M.get("fixedEntries").filter(({field:b})=>b==="outputs").maxBy(({index:b})=>b);let _=R?R.index+1:0;for(;_<M.get("outputs").size&&j.gt(0);_++){const b=M.get("outputs").get(_);if(new c(b.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1}))){const v=a.BI.from(b.cellOutput.capacity),d=v.sub((0,n.minimalCellCapacityCompatible)(b)),y=j.gte(d)?d:j;j=j.sub(y),b.cellOutput.capacity="0x"+v.sub(y).toString(16)}}M=M.update("outputs",b=>b.filter(v=>!a.BI.from(v.cellOutput.capacity).eq(0)));const I=b=>`${b.outPoint.txHash}_${b.outPoint.index}`;if(j.gt(0)){const b={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let v=a.BI.from(0);const d=a.BI.from((0,n.minimalCellCapacityCompatible)(b));let y=(0,i.Set)();for(const x of M.get("inputs"))y=y.add(I(x));for await(const x of O.collect()){if(y.has(I(x)))continue;M=await g(M,x,void 0,{config:Q});const E=M.get("outputs").size-1;M=M.update("outputs",L=>L.remove(E));const h=M.get("fixedEntries").findIndex(L=>L.field==="outputs"&&L.index===E);h>=0&&(M=M.update("fixedEntries",L=>L.remove(h)));const T=a.BI.from(x.cellOutput.capacity);let F=T;if(F.gt(j)&&(F=j),j=j.sub(F),v=v.add(T.sub(F)),j.eq(0)&&v.gte(d))break;b.cellOutput.capacity="0x"+v.toString(16),M=M.update("outputs",L=>L.push(b))}if(j.gt(0)||v<d)throw new Error("Not enough capacity in from address!");b.cellOutput.capacity="0x"+v.toString(16),M=M.update("outputs",x=>x.push(b))}return M}function w(O,{config:M=void 0}={}){M=M||(0,r.getConfig)();const N="ANYONE_CAN_PAY",K=M.SCRIPTS[N];if(!K)throw new Error(`Provided config does not have ${N} script setup!`);let Q=(0,i.Set)();const j=(0,n.createTransactionFromSkeleton)(O),G=l(t.blockchain.RawTransaction.pack(j)),W=O.get("inputs"),R=O.get("witnesses");let _=O.get("signingEntries");for(let I=0;I<W.size;I++){const b=W.get(I);if(K.CODE_HASH===b.cellOutput.lock.codeHash&&K.HASH_TYPE===b.cellOutput.lock.hashType&&!Q.has(b.cellOutput.lock.args)){Q=Q.add(b.cellOutput.lock.args);const v=O.get("outputs").filter(k=>new c(k.cellOutput.lock,{validate:!1}).equals(new c(b.cellOutput.lock,{validate:!1}))),d=v.map(k=>a.BI.from(k.cellOutput.capacity)).reduce((k,$)=>k.add($),a.BI.from(0)),y=v.filter(k=>k.data!=="0x").map(k=>(0,f.unpackAmount)(k.data)).reduce((k,$)=>k.add($),a.BI.from(0)),x=W.filter(k=>new c(k.cellOutput.lock,{validate:!1}).equals(new c(b.cellOutput.lock,{validate:!1}))),E=x.map(k=>a.BI.from(k.cellOutput.capacity)).reduce((k,$)=>k.add($),a.BI.from(0)),h=x.filter(k=>k.data!=="0x").map(k=>a.BI.from((0,f.unpackAmount)(k.data))).reduce((k,$)=>k.add($),a.BI.from(0));if(E.lte(d)&&h.lte(y))continue;const T=new t.values.ScriptValue(b.cellOutput.lock,{validate:!1}),F=new u;if(F.update(G),I>=R.size)throw new Error(`The first witness in the script group starting at input index ${I} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,o.hashWitness)(F,R.get(I));for(let k=I+1;k<W.size&&k<R.size;k++){const $=W.get(k);T.equals(new t.values.ScriptValue($.cellOutput.lock,{validate:!1}))&&(0,o.hashWitness)(F,R.get(k))}for(let k=W.size;k<R.size;k++)(0,o.hashWitness)(F,R.get(k));const L={type:"witness_args_lock",index:I,message:F.digestHex()};_=_.push(L)}}return O=O.set("signingEntries",_),O}async function C(O,M,N,K,{config:Q=void 0}={}){if(Q=Q||(0,r.getConfig)(),!(0,o.isAcpScript)(M.cellOutput.lock,Q))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const j=a.BI.from(K),G=a.BI.from(M.cellOutput.capacity),W=a.BI.from((0,n.minimalCellCapacityCompatible)(M));if(!(j.gte(0)&&j.lte(G.sub(W))||j.eq(G)))throw new Error(`capacity must be in [0, ${G.sub(W)}] or ${G} !`);const R=(0,n.parseAddress)(N,{config:Q}),_={cellOutput:{capacity:"0x"+K.toString(16),lock:R,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,o.isAcpScript)(R,Q)){m(R.args,K);const v=O.get("cellProvider");if(!v)throw new Error("Cell Provider is missing!");const y=(await new p(N,v,{config:Q}).collect().next()).value;if(!y)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const x=j.add(y.cellOutput.capacity);_.cellOutput.capacity="0x"+x.toString(16),O=O.update("inputs",E=>E.push(y)),O=O.update("witnesses",E=>E.push("0x"))}O=O.update("outputs",v=>v.push(_)),O=await g(O,M,(0,n.generateAddress)(M.cellOutput.lock,{config:Q}),{config:Q});const I=O.get("outputs").size-1;O=O.update("outputs",v=>v.remove(I));const b=O.get("fixedEntries").findIndex(v=>v.field==="outputs"&&v.index===I);return b>=0&&(O=O.update("fixedEntries",v=>v.remove(b))),j.eq(G)||(O=O.update("outputs",v=>v.push({cellOutput:{capacity:"0x"+G.sub(K).toString(16),lock:M.cellOutput.lock,type:M.cellOutput.type},data:M.data}))),O}return _i.default={CellCollector:p,setupInputCell:g,setupOutputCell:A,injectCapacity:S,prepareSigningEntries:w,withdraw:C},_i}var WA;function QD(){if(WA)return bs;WA=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=void 0,bs.issueToken=C,bs.ownerForSudt=N,bs.packAmount=Q,bs.transfer=O,bs.unpackAmount=K;var t=lt,e=Ir,r=A(k1),n=ei,i=A(A5()),a=pi(),s=Jo,o=Nr,f=w5(),c=m(d5()),u=A(Dn),l=wt,p=st;function g(j){if(typeof WeakMap!="function")return null;var G=new WeakMap,W=new WeakMap;return(g=function(R){return R?W:G})(j)}function m(j,G){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var W=g(G);if(W&&W.has(j))return W.get(j);var R={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in j)if(I!=="default"&&{}.hasOwnProperty.call(j,I)){var b=_?Object.getOwnPropertyDescriptor(j,I):null;b&&(b.get||b.set)?Object.defineProperty(R,I,b):R[I]=j[I]}return R.default=j,W&&W.set(j,R),R}function A(j){return j&&j.__esModule?j:{default:j}}const{computeScriptHash:S}=e.utils,{ScriptValue:w}=e.values;async function C(j,G,W,R,_,{config:I=void 0}={}){I=I||(0,o.getConfig)();const b=I.SCRIPTS.SUDT;if(!b)throw new Error("Provided config does not have SUDT script setup!");j=(0,t.addCellDep)(j,{outPoint:{txHash:b.TX_HASH,index:b.INDEX},depType:b.DEP_TYPE});const v=(0,n.parseFromInfo)(G,{config:I}).fromScript,d=v,y={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:S(v)},x={cellOutput:{capacity:"0x0",lock:d,type:y},data:p.bytes.hexify(p.number.Uint128LE.pack(W)),outPoint:void 0,blockHash:void 0};R||(R=(0,a.minimalCellCapacityCompatible)(x));const E=l.BI.from(R);x.cellOutput.capacity="0x"+E.toString(16),j=j.update("outputs",T=>T.push(x));const h=j.get("outputs").size-1;return j=j.update("fixedEntries",T=>T.push({field:"outputs",index:h})),j=await i.default.injectCapacity(j,[G],l.BI.from(l.BI.from(x.cellOutput.capacity)),void 0,_,{config:I}),j}async function O(j,G,W,R,_,I,b,v,{config:d=void 0,LocktimePoolCellCollector:y=f.CellCollector,splitChangeCell:x=!1}={}){d=d||(0,o.getConfig)();let E=l.BI.from(_),h=b?l.BI.from(b):void 0;const T=d.SCRIPTS.SUDT;if(!T)throw new Error("Provided config does not have SUDT script setup!");if(G.length===0)throw new Error("`fromInfos` can't be empty!");if(!R)throw new Error("You must provide a to address!");const F=(0,a.parseAddress)(R,{config:d}),L=G.map(J=>(0,n.parseFromInfo)(J,{config:d}).fromScript),k=I?(0,a.parseAddress)(I,{config:d}):L[0];if(E.lte(0))throw new Error("amount must be greater than 0");const $=M(W,d),H=j.get("cellProvider");if(!H)throw new Error("Cell provider is missing!");let q=l.BI.from(0),X=l.BI.from(0);if((0,t.isAcpScript)(F,d)){const ie=(await new c.CellCollector(R,H,{config:d,queryOptions:{type:$,data:"any"}}).collect().next()).value;if(!ie)throw new Error("toAddress ANYONE_CAN_PAY input not found!");j=j.update("inputs",ue=>ue.push(ie)),j=j.update("witnesses",ue=>ue.push("0x")),q=l.BI.from(ie.cellOutput.capacity),X=K(ie.data)}const te={cellOutput:{capacity:"0x0",lock:F,type:$},data:p.bytes.hexify(p.number.Uint128LE.pack(E)),outPoint:void 0,blockHash:void 0};(0,t.isAcpScript)(F,d)?(h||(h=l.BI.from(0)),te.cellOutput.capacity="0x"+q.add(h).toString(16),te.data=p.bytes.hexify(p.number.Uint128LE.pack(X.add(E)))):(h||(h=l.BI.from((0,a.minimalCellCapacityCompatible)(te))),te.cellOutput.capacity="0x"+h.toString(16)),j=j.update("outputs",J=>J.push(te)),j=j.update("fixedEntries",J=>J.push({field:"outputs",index:j.get("outputs").size-1})),j=(0,t.addCellDep)(j,{outPoint:{txHash:T.TX_HASH,index:T.INDEX},depType:T.DEP_TYPE});const re={cellOutput:{capacity:"0x0",lock:k,type:$},data:p.bytes.hexify(p.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},U={cellOutput:{capacity:"0x0",lock:k,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let P=l.BI.from(0),ne=l.BI.from(0),fe=(0,s.Set)();for(const J of j.get("inputs"))fe=fe.add(`${J.outPoint.txHash}_${J.outPoint.index}`);let de=(0,s.List)();v&&G.forEach((J,ie)=>{const ue=new y(J,H,{config:d,tipHeader:v,queryOptions:{type:$,data:"any"}});de=de.push({cellCollector:ue,index:ie})}),G.forEach((J,ie)=>{const ue=new u.default.CellCollector(J,H,{config:d,queryOptions:{type:$,data:"any"}}),ye=new r.default.CellCollector(J,H,{config:d,queryOptions:{type:$,data:"any"}}),ge=new c.default.CellCollector(J,H,{config:d,queryOptions:{type:$,data:"any"}});de=de.push({cellCollector:ue,index:ie},{cellCollector:ye,index:ie},{cellCollector:ge,index:ie,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})}),v&&G.forEach((J,ie)=>{const ue=new y(J,H,{config:d,tipHeader:v});de=de.push({cellCollector:ue,index:ie})}),G.forEach((J,ie)=>{const ue=new u.default.CellCollector(J,H,{config:d}),ye=new r.default.CellCollector(J,H,{config:d}),ge=new c.default.CellCollector(J,H,{config:d});de=de.push({cellCollector:ue,index:ie},{cellCollector:ye,index:ie},{cellCollector:ge,index:ie,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})});for(const{index:J,cellCollector:ie,isAnyoneCanPay:ue,destroyable:ye}of de)for await(const ge of ie.collect()){const Se=`${ge.outPoint.txHash}_${ge.outPoint.index}`;if(fe.has(Se))continue;fe=fe.add(Se);const zt=G[J];j=await i.default.setupInputCell(j,ge,zt,{config:d});const He=j.get("outputs").size-1;j=j.update("outputs",ce=>ce.remove(He));const $e=j.get("fixedEntries").findIndex(ce=>ce.field==="outputs"&&ce.index===He);$e>=0&&(j=j.update("fixedEntries",ce=>ce.remove($e)));const fn=l.BI.from(ge.cellOutput.capacity),z=ge.cellOutput.type?K(ge.data):l.BI.from(0);let B=ue&&!ye?fn.sub((0,a.minimalCellCapacityCompatible)(ge)):fn,D=z;B.gt(h)&&(B=l.BI.from(h)),h=h.sub(B);const V=fn.sub(B);(!ue||ue&&ye)&&(P=P.add(V)),D.gt(E)&&(D=E),E=E.sub(D);const ae=z.sub(D);if((!ue||ue&&ye)&&(ne=ne.add(ae)),ue&&!ye){const ce={cellOutput:{capacity:"0x"+V.toString(16),lock:ge.cellOutput.lock,type:ge.cellOutput.type},data:ge.cellOutput.type?p.bytes.hexify(p.number.Uint128LE.pack(ae)):"0x"};j=j.update("outputs",le=>le.push(ce)),ge.cellOutput.type&&(j=j.update("fixedEntries",le=>le.push({field:"outputs",index:j.get("outputs").size-1})))}if(h.eq(0)&&E.eq(0)&&(P.eq(0)&&ne.eq(0)||P.gt((0,a.minimalCellCapacityCompatible)(U))&&ne.eq(0))){re.cellOutput.type=void 0,re.data="0x";break}if(h.eq(0)&&E.eq(0)&&P.gt((0,a.minimalCellCapacityCompatible)(U))&&ne.gt(0))break}let Y=-1;if((0,t.isAcpScript)(re.cellOutput.lock,d)&&(Y=j.get("outputs").findIndex(J=>new w(re.cellOutput.lock,{validate:!1}).equals(new w(J.cellOutput.lock,{validate:!1}))&&(ne.eq(0)&&!re.cellOutput.type&&!J.cellOutput.type||ne.gte(0)&&!!re.cellOutput.type&&!!J.cellOutput.type&&new w(re.cellOutput.type,{validate:!1}).equals(new w(J.cellOutput.type,{validate:!1})))))!==-1&&j.get("fixedEntries").findIndex(J=>J.field==="output"&&J.index===Y)===-1){const J=j.get("outputs").get(Y),ie=JSON.parse(JSON.stringify(J));ie.cellOutput.capacity="0x"+l.BI.from(J.cellOutput.capacity).add(P).toString(16),ne.gt(0)&&(ie.data=p.bytes.hexify(p.number.Uint128LE.pack(K(J.data).add(ne))));const ue=l.BI.from((0,a.minimalCellCapacityCompatible)(re)),ye=l.BI.from((0,a.minimalCellCapacityCompatible)(U));let ge=!1;ne.gt(0)&&x&&P.gte(ue.add(ye))&&(ie.cellOutput.capacity=J.cellOutput.capacity,U.cellOutput.capacity="0x"+P.toString(16),ge=!0),j=j.update("outputs",Se=>Se.set(Y,ie)),ge&&(j=j.update("outputs",Se=>Se.push(U)))}else if(P.gte((0,a.minimalCellCapacityCompatible)(re))){re.cellOutput.capacity="0x"+P.toString(16),ne.gt(0)&&(re.data=p.bytes.hexify(p.number.Uint128LE.pack(ne)));const J=l.BI.from((0,a.minimalCellCapacityCompatible)(re)),ie=l.BI.from((0,a.minimalCellCapacityCompatible)(U));let ue=!1;ne.gt(0)&&x&&P.gte(J.add(ie))&&(re.cellOutput.capacity="0x"+J.toString(16),U.cellOutput.capacity="0x"+P.sub(J).toString(16),ue=!0),j=j.update("outputs",ye=>ye.push(re)),ne.gt(0)&&(j=j.update("fixedEntries",ye=>ye.push({field:"outputs",index:j.get("outputs").size-1}))),ue&&(j=j.update("outputs",ye=>ye.push(U)))}else if(ne.gt(0)&&P.lt((0,a.minimalCellCapacityCompatible)(re)))throw new Error("Not enough capacity for change in from infos!");if(h.gt(0))throw new Error("Not enough capacity in from infos!");if(E.gt(0))throw new Error("Not enough amount in from infos!");return j}function M(j,G){const W=G.SCRIPTS.SUDT;return{codeHash:W.CODE_HASH,hashType:W.HASH_TYPE,args:j}}function N(j,{config:G=void 0}={}){G=G||(0,o.getConfig)();const{fromScript:W}=(0,n.parseFromInfo)(j,{config:G});return S(W)}function K(j){return p.number.Uint128LE.unpack(p.bytes.bytify(j).slice(0,16))}function Q(j){return p.bytes.hexify(p.number.Uint128LE.pack(j))}return bs.default={issueToken:C,transfer:O,ownerForSudt:N,packAmount:Q,unpackAmount:K},bs}var h5={};Object.defineProperty(h5,"__esModule",{value:!0});h5.createP2PKHMessageGroup=OK;var Gc=Ir,EK=pi(),dl=st,xK=wt;function SK(t,e){const r=new Set;for(const i of e){const a=Gc.utils.ckbHash(Gc.blockchain.Script.pack(i));r.add(a)}const n=new Map;for(let i=0;i<t.length;i++){const a=Gc.utils.ckbHash(Gc.blockchain.Script.pack(t[i].cellOutput.lock));r.has(a)&&(n.get(a)===void 0&&n.set(a,[]),n.get(a).push(i))}return n}function IK(t){const e=(0,EK.createTransactionFromSkeleton)(t),r={cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData,version:e.version};return Gc.utils.ckbHash(Gc.blockchain.RawTransaction.pack(r))}const CK=()=>{const t=new Gc.utils.CKBHasher;return{update:e=>t.update(e.buffer),digest:()=>dl.bytes.bytify(t.digestHex())}};function TK(t){return t instanceof Function?t():t}function OK(t,e,{hasher:r=CK}={}){const n=SK(t.inputs.toArray(),e),i=IK(t);if(e.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const a=[];for(const s of n.keys()){const o=TK(r),f=n.get(s),c=f[0],u=t.witnesses.get(c);if(u===void 0)throw new Error("Please fill witnesses with 0 first!");o.update(dl.bytes.bytify(i));const l=new ArrayBuffer(8),p=new DataView(l),g=xK.BI.from(dl.bytes.bytify(u).length).toString(16);g.length<=8&&(p.setUint32(0,+("0x"+g),!0),p.setUint32(4,+"0x00000000",!0)),g.length>8&&g.length<=16&&(p.setUint32(0,+("0x"+g.slice(-8)),!0),p.setUint32(4,+("0x"+g.slice(0,-8)),!0)),o.update(new Uint8Array(l)),o.update(dl.bytes.bytify(u));for(let S=1;S<f.length;S++){const w=t.witnesses.get(f[S]);o.update(new Uint8Array(l)),o.update(dl.bytes.bytify(w))}for(let S=t.inputs.toArray().length;S<t.witnesses.toArray().length;S++){const w=t.witnesses.get(S);o.update(new Uint8Array(l)),o.update(dl.bytes.bytify(w))}const m=o.digest(),A={index:c,lock:t.inputs.get(c).cellOutput.lock,message:"0x"+Array.prototype.map.call(m,S=>("00"+S.toString(16)).slice(-2)).join("")};a.push(A)}return a}var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.compareScriptBinaryWithOnChainData=ZD;Ec.default=void 0;Ec.generateDeployWithDataTx=GD;Ec.generateDeployWithTypeIdTx=WD;Ec.generateUpgradeTypeIdDataTx=XD;var fs=Ir,ip=st,yy=Nr,xc=pi(),BK=Jo,N2=ei,vn=wt;const{ScriptValue:XA}=fs.values;function p5(t){let e="0x";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}async function DK(t,e){const r=e.collector({lock:t,type:"empty",data:"0x"}),n=[];for await(const i of r.collect())n.push(i);return n}function b5(t,e){const r=(0,xc.minimalCellCapacityCompatible)(e);return e.cellOutput.capacity=`0x${r.toString(16)}`,t=t.update("outputs",n=>n.push(e)),t}function g5(t,e){t=t.update("cellDeps",i=>i.clear()),e=e||(0,yy.getConfig)();const r=e.SCRIPTS.SECP256K1_BLAKE160,n=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return t=t.update("cellDeps",i=>i.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})),t}async function y5(t,e,r,n){const i=t.get("inputs").map(o=>vn.BI.from(o.cellOutput.capacity)).reduce((o,f)=>o.add(f),vn.BI.from(0)),s=t.get("outputs").map(o=>vn.BI.from(o.cellOutput.capacity)).reduce((o,f)=>o.add(f),vn.BI.from(0)).sub(i);return t=await MK(t,e,vn.BI.from(s),{config:r,feeRate:n}),t}async function MK(t,e,r,{config:n=void 0,feeRate:i=void 0}){n=n||(0,yy.getConfig)();const a=i||1e3;let s=vn.BI.from(r);const{fromScript:o,multisigScript:f}=(0,N2.parseFromInfo)(e,{config:n});s=s.add(vn.BI.from(10).pow(8));let c=vn.BI.from(10).pow(8);const u={cellOutput:{capacity:"0x0",lock:o,type:void 0},data:"0x"},l=vn.BI.from((0,xc.minimalCellCapacityCompatible)(u)).add(vn.BI.from(10).pow(8));if(s.lt(0)&&(c=c.sub(s),s=vn.BI.from(0)),s.gt(0)||c.lt(l)){const m=t.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const A=m.collector({lock:o,type:"empty",data:"0x"});let S=(0,BK.Set)();for(const w of t.get("inputs"))S=S.add(`${w.outPoint.txHash}_${w.outPoint.index}`);for await(const w of A.collect()){if(S.has(`${w.outPoint.txHash}_${w.outPoint.index}`))continue;t=t.update("inputs",M=>M.push(w)),t=t.update("witnesses",M=>M.push("0x"));const C=vn.BI.from(w.cellOutput.capacity);let O=C;if(O.gt(s)&&(O=s),s=s.sub(O),c=c.add(C).sub(O),s.eq(0)&&(c.eq(0)||c.gte(l)))break}}if(c.gt(0)&&(u.cellOutput.capacity="0x"+c.toString(16),t=t.update("outputs",m=>m.push(u))),s.gt(0)||c.lt(l))throw new Error("Not enough capacity in from address!");const p=t.get("inputs").findIndex(m=>new XA(m.cellOutput.lock,{validate:!1}).equals(new XA(o,{validate:!1})));if(p!==-1){for(;p>=t.get("witnesses").size;)t=t.update("witnesses",w=>w.push("0x"));let m=t.get("witnesses").get(p),A;const S="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(typeof e!="string"?A={lock:"0x"+f.slice(2)+S.slice(2).repeat(e.M)}:A={lock:S},m!=="0x"){const w=fs.blockchain.WitnessArgs.unpack(ip.bytes.bytify(m)),C=w.lock;if(C&&A.lock&&!ip.bytes.equal(C,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const O=w.inputType;O&&(A.inputType=O);const M=w.outputType;M&&(A.outputType=M)}m=ip.bytes.hexify(fs.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",w=>w.set(p,m))}const g=VD(t,a);return c=c.sub(g),t=t.update("outputs",m=>m.pop()),c.gt(0)&&(u.cellOutput.capacity="0x"+c.toString(16),t=t.update("outputs",m=>m.push(u))),t}function RK(t){const e=(0,xc.createTransactionFromSkeleton)(t);return LK(e)}function LK(t){return fs.blockchain.Transaction.pack(t).byteLength+4}function HK(t,e){const r=vn.BI.from(1e3),n=vn.BI.from(t).mul(e),i=n.div(r);return i.mul(r).lt(n)?i.add(1):vn.BI.from(i)}function VD(t,e){const r=RK(t);return vn.BI.from(HK(r,e))}function PK(t){const e=t.valueOf();return new fs.utils.CKBHasher().update(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)).digestHex()}async function NK(t,e){const r=t.txHash,n=parseInt(t.index,10),i=await e.getTransaction(r);if(!i)throw new Error(`TxHash(${r}) is not found`);const a=i.transaction.outputsData[n];if(!a)throw new Error("cannot find output data");return new fs.utils.CKBHasher().update(ip.bytes.bytify(a)).digestHex()}function YD(t){const e=(0,xc.createTransactionFromSkeleton)(t);return fs.utils.ckbHash(fs.blockchain.RawTransaction.pack(e))}function UK(t,e){const r=t.outputs.get(e).data,n=fs.utils.ckbHash(ip.bytes.bytify(r)),i=YD(t);return{CODE_HASH:n,HASH_TYPE:"data2",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function kK(t,e){const r=t.outputs.get(e).cellOutput.type,n=fs.utils.computeScriptHash(r),i=YD(t);return{CODE_HASH:n,HASH_TYPE:"type",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function v5(t,e){const r=t.outputs.get(e);if(r==null)throw new Error("Invalid txSkeleton or outputIndex");return r.cellOutput.type!==void 0?kK(t,e):UK(t,e)}function zK(t){return typeof t!="object"?!1:"M"in t&&"R"in t&&Array.isArray(t.publicKeyHashes)}function _5(t,{config:e=void 0}={}){if(e=e||(0,yy.getConfig)(),typeof t=="string"){if(yy.helpers.nameOfScript((0,xc.parseAddress)(t,{config:e}),e.SCRIPTS)!=="SECP256K1_BLAKE160")throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!zK(t))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function GD(t){_5(t.fromInfo,{config:t.config});let e=(0,xc.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,N2.parseFromInfo)(t.fromInfo,{config:t.config}),n={cellOutput:{capacity:"0x0",lock:r},data:p5(t.scriptBinary)};e=b5(e,n),e=g5(e,t.config),e=await y5(e,t.fromInfo,t.config,t.feeRate);const i=v5(e,0);return{txSkeleton:e,scriptConfig:i}}async function WD(t){_5(t.fromInfo,{config:t.config});let e=(0,xc.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,N2.parseFromInfo)(t.fromInfo,{config:t.config}),[n]=await DK(r,t.cellProvider);if(!n)throw new Error("fromAddress has no live ckb");const i=fs.utils.generateTypeIdScript({previousOutput:n.outPoint,since:"0x0"},"0x0"),a={cellOutput:{capacity:"0x0",lock:r,type:i},data:p5(t.scriptBinary)};e=b5(e,a),e=g5(e,t.config),e=await y5(e,t.fromInfo,t.config,t.feeRate);const s=v5(e,0);return{txSkeleton:e,scriptConfig:s,typeId:i}}async function XD(t){_5(t.fromInfo,{config:t.config});let e=(0,xc.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,N2.parseFromInfo)(t.fromInfo,{config:t.config}),n=t.cellProvider.collector({type:t.typeId}),i=[];for await(const f of n.collect())i.push(f);if(i.length!==1)throw new Error("the typeid maybe wrong");const a=i[0];e=e.update("inputs",f=>f.push(a));const s={cellOutput:{capacity:"0x0",lock:r,type:t.typeId},data:p5(t.scriptBinary)};e=b5(e,s),e=g5(e,t.config),e=await y5(e,t.fromInfo,t.config,t.feeRate);const o=v5(e,0);return{txSkeleton:e,scriptConfig:o}}async function ZD(t,e,r){const n=PK(t),i=await NK(e,r);return n===i}Ec.default={generateDeployWithDataTx:GD,generateDeployWithTypeIdTx:WD,generateUpgradeTypeIdDataTx:XD,compareScriptBinaryWithOnChainData:ZD,__tests__:{calculateTxFee:VD}};var Sn={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.WitnessArgs=_n.BytesVec=_n.BytesOpt=_n.Bytes=_n.Byte32Vec=_n.Byte32=void 0;_n.WitnessArgsOf=rM;_n.createFixedHexBytesCodec=eM;var JD=Go,Md=Ca,$a=l1;function eM(t){return(0,JD.createFixedBytesCodec)({byteLength:t,pack:e=>(0,Md.bytify)(e),unpack:e=>(0,Md.hexify)(e)})}const tM=_n.Bytes=(0,$a.byteVecOf)({pack:Md.bytify,unpack:Md.hexify});_n.BytesOpt=(0,$a.option)(tM);_n.BytesVec=(0,$a.vector)(tM);const jK=_n.Byte32=eM(32);_n.Byte32Vec=(0,$a.vector)(jK);function rM(t){return(0,$a.table)({lock:(0,$a.option)((0,$a.byteVecOf)(t.lock)),input_type:(0,$a.option)((0,$a.byteVecOf)(t.input_type)),output_type:(0,$a.option)((0,$a.byteVecOf)(t.output_type))},["lock","input_type","output_type"])}const K_=(0,JD.createBytesCodec)({pack:Md.bytify,unpack:Md.hexify});_n.WitnessArgs=rM({lock:K_,input_type:K_,output_type:K_});var U2={};function FK(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,A=0,S=0,w=g.length;S!==w&&g[S]===0;)S++,m++;for(var C=(w-S)*c+1>>>0,O=new Uint8Array(C);S!==w;){for(var M=g[S],N=0,K=C-1;(M!==0||N<A)&&K!==-1;K--,N++)M+=256*O[K]>>>0,O[K]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");A=N,S++}for(var Q=C-A;Q!==C&&O[Q]===0;)Q++;for(var j=o.repeat(m);Q<C;++Q)j+=t.charAt(O[Q]);return j}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var m=0,A=0,S=0;g[m]===o;)A++,m++;for(var w=(g.length-m)*f+1>>>0,C=new Uint8Array(w);g[m];){var O=e[g.charCodeAt(m)];if(O===255)return;for(var M=0,N=w-1;(O!==0||M<S)&&N!==-1;N--,M++)O+=s*C[N]>>>0,C[N]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=M,m++}for(var K=w-S;K!==w&&C[K]===0;)K++;for(var Q=new Uint8Array(A+(w-K)),j=A;K!==w;)Q[j++]=C[K++];return Q}function p(g){var m=l(g);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:p}}var $K=FK;const qK=$K,KK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var nM=qK(KK);Object.defineProperty(U2,"__esModule",{value:!0});U2.decodeAddress=YK;U2.signMessage=GK;var Q_=st,ZA=cc,JA=QK(nM);function QK(t){return t&&t.__esModule?t:{default:t}}const VK="CKB (Bitcoin Layer) transaction: 0x";function YK(t){try{if(t.startsWith("bc1q"))return ZA.bech32.fromWords(ZA.bech32.decode(t).words.slice(1));if(t.startsWith("1")||t.startsWith("3"))return JA.default.decode(t).slice(1,21)}catch{if(t.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.")}throw new Error(`Unsupported bitcoin address ${t}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`)}async function GK(t,e,r){const n=(()=>{if(r)return r;if(typeof window<"u"){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),i=await n.requestAccounts(),a=Q_.bytes.hexify(t).slice(2),s=await n.signMessage(`${VK}${a}`,e),o=Q_.bytes.bytify(WK(s)),f=i[0];if(f.startsWith("bc1q"))o[0]=39+(o[0]-27)%4;else if(f.startsWith("3"))o[0]=35+(o[0]-27)%4;else if(f.startsWith("1"))o[0]=31+(o[0]-27)%4;else throw new Error(`Unsupported bitcoin address ${f}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`);return Q_.bytes.hexify(o)}function WK(t){const e=atob(t);let r="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n).toString(16);r+=i.length===2?i:"0"+i}return"0x"+r}var m5={};Object.defineProperty(m5,"__esModule",{value:!0});m5.signMessage=ZK;var V_=st;const XK="CKB transaction: 0x";async function ZK(t,e){const r=(()=>{if(e)return e;if(typeof window<"u"&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),i=V_.bytes.hexify(t).slice(2),a=await r.signMessage(new TextEncoder().encode(`${XK}${i}`));return V_.bytes.hexify(V_.bytes.concat(a.signature,a.publicKey.toBytes()))}Object.defineProperty(Sn,"__esModule",{value:!0});Sn.bitcoin=Sn.OmnilockWitnessLock=Sn.CellCollector=void 0;Sn.createOmnilockScript=fM;Sn.default=void 0;Sn.prepareSigningEntries=dM;Sn.setupInputCell=lM;Sn.solana=void 0;var Zi=st,iM=Ir,k2=Nr,ap=lt,JK=ei,Su=l1,l6=_n,eE=Ca,aM=oM(U2);Sn.bitcoin=aM;var eQ=oM(m5);Sn.solana=eQ;var tQ=nM,rQ=St;function sM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(sM=function(n){return n?r:e})(t)}function oM(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=sM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const{ScriptValue:tE}=iM.values;var Io=function(t){return t[t.IdentityFlagsCkb=0]="IdentityFlagsCkb",t[t.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",t[t.IdentityFlagsEos=2]="IdentityFlagsEos",t[t.IdentityFlagsTron=3]="IdentityFlagsTron",t[t.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",t[t.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",t[t.IdentityCkbMultisig=6]="IdentityCkbMultisig",t[t.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",t[t.IdentityFlagsSolana=19]="IdentityFlagsSolana",t[t.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",t[t.IdentityFlagsExec=253]="IdentityFlagsExec",t[t.IdentityFlagsDl=254]="IdentityFlagsDl",t}(Io||{});const nQ=20,iQ=65,aQ=96;function fM(t,e){const n=((e==null?void 0:e.config)||(0,k2.getConfig)()).SCRIPTS.OMNILOCK;if(!n)throw new Error("OMNILOCK script config not found.");const a=[0],s=(()=>{const o=t.auth.flag;switch(o){case"ETHEREUM":return Zi.bytes.hexify(Zi.bytes.concat([Io.IdentityFlagsEthereum],t.auth.content,a));case"SECP256K1_BLAKE160":return Zi.bytes.hexify(Zi.bytes.concat([Io.IdentityFlagsCkb],t.auth.content,a));case"BITCOIN":return Zi.bytes.hexify(Zi.bytes.concat([Io.IdentityFlagsBitcoin],aM.decodeAddress(t.auth.content),a));case"SOLANA":{const f=Zi.bytes.bytify((0,rQ.ckbHash)((0,tQ.decode)(t.auth.content))).slice(0,nQ);return Zi.bytes.hexify(Zi.bytes.concat([Io.IdentityFlagsSolana],f,a))}default:throw new Error(`Not supported flag: ${o}.`)}})();return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:s}}const cM={pack:eE.bytify,unpack:eE.hexify},sQ=21,oQ=(0,l6.createFixedHexBytesCodec)(sQ),fQ=(0,Su.byteVecOf)(cM),cQ=(0,Su.table)({mask:(0,Su.byteOf)(cM),proof:fQ},["mask","proof"]),uQ=(0,Su.vector)(cQ),lQ=(0,Su.table)({identity:oQ,proofs:uQ},["identity","proofs"]),dQ=(0,Su.option)(lQ),uM=Sn.OmnilockWitnessLock=(0,Su.table)({signature:l6.BytesOpt,omni_identity:dQ,preimage:l6.BytesOpt},["signature","omni_identity","preimage"]),hQ=Sn.CellCollector=class{constructor(e,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,k2.getConfig)(),this.fromScript=(0,JK.parseFromInfo)(e,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,ap.isOmnilockScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function lM(t,e,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,k2.getConfig)();const s=e.cellOutput.lock;if(!(0,ap.isOmnilockScript)(s,n))throw new Error("Not OMNILOCK input!");t=t.update("inputs",g=>g.push(e));const o={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",g=>g.push(o)),a&&(t=t.update("inputSinces",g=>g.set(t.get("inputs").size-1,a))),t=t.update("witnesses",g=>g.push(i));const f=n.SCRIPTS.OMNILOCK,c=n.SCRIPTS.SECP256K1_BLAKE160;if(!f)throw new Error("OMNILOCK script not defined in config!");if(!c)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const u={txHash:f.TX_HASH,index:f.INDEX},l={txHash:c.TX_HASH,index:c.INDEX};t=(0,ap.addCellDep)(t,{outPoint:u,depType:f.DEP_TYPE}),t=(0,ap.addCellDep)(t,{outPoint:l,depType:c.DEP_TYPE});const p=t.get("inputs").findIndex(g=>new tE(g.cellOutput.lock,{validate:!1}).equals(new tE(s,{validate:!1})));if(p!==-1){for(;p>=t.get("witnesses").size;)t=t.update("witnesses",S=>S.push("0x"));let g=t.get("witnesses").get(p);const m=(()=>{const S=Zi.bytes.bytify(e.cellOutput.lock.args)[0];switch(S){case Io.IdentityFlagsSolana:return aQ;case Io.IdentityFlagsCkb:case Io.IdentityFlagsEthereum:case Io.IdentityFlagsBitcoin:return iQ;default:throw new Error(`Unsupported flag: ${S}, please check if the script.args is expected`)}})(),A={lock:pQ(m)};g=Zi.bytes.hexify(iM.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",S=>S.set(p,g))}return t}function pQ(t){const e=uM.pack({signature:new Uint8Array(t)}).byteLength;return Zi.bytes.hexify(new Uint8Array(e))}function dM(t,{config:e=void 0}={}){return e=e||(0,k2.getConfig)(),(0,ap.prepareSigningEntries)(t,e,"OMNILOCK")}Sn.default={prepareSigningEntries:dM,setupInputCell:lM,CellCollector:hQ,OmnilockWitnessLock:uM,createOmnilockScript:fM};var rE;function bQ(){return rE||(rE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return c.createP2PKHMessageGroup}}),Object.defineProperty(t,"dao",{enumerable:!0,get:function(){return i.default}}),t.default=void 0,Object.defineProperty(t,"deploy",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"locktimePool",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"omnilock",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return n.parseFromInfo}}),Object.defineProperty(t,"secp256k1Blake160",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"sudt",{enumerable:!0,get:function(){return o.default}});var e=p(Dn),r=p(k1),n=ei,i=p(E5()),a=p(w5()),s=p(A5()),o=p(QD()),f=p(d5()),c=h5,u=p(Ec),l=p(Sn);function p(g){return g&&g.__esModule?g:{default:g}}t.default={secp256k1Blake160:e.default,secp256k1Blake160Multisig:r.default,dao:i.default,locktimePool:a.default,common:s.default,sudt:o.default,anyoneCanPay:f.default}}(q_)),q_}var nE;function w5(){if(nE)return vi;nE=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.default=vi.CellCollector=void 0,vi.injectCapacity=R,vi.payFee=G,vi.prepareSigningEntries=W,vi.setupInputCell=I,vi.transfer=M,vi.transferCompatible=N;var t=pi(),e=st,r=ei,n=g(Dn),i=E5(),a=Ir,s=lt,o=Jo,f=Nr,c=bQ(),u=Pi,l=wt,p=P2();function g(v){return v&&v.__esModule?v:{default:v}}const{ScriptValue:m}=a.values,{parseEpoch:A,maximumAbsoluteEpochSince:S,generateAbsoluteEpochSince:w,validateSince:C}=a.since,O=vi.CellCollector=class{constructor(d,y,{config:x=void 0,queryOptions:E={},tipHeader:h=void 0,NodeRPC:T=p.RPC}={}){if(!y)throw new Error("Cell provider is missing!");x=x||(0,f.getConfig)();const F=(0,r.parseFromInfo)(d,{config:x}),L=F.fromScript;this.multisigScript=F.multisigScript,this.fromScript=L,this.config=x,this.tipHeader=h,h&&(this.tipSinceValidationInfo={blockNumber:h.number,epoch:h.epoch,median_timestamp:""}),this.rpc=new T(y.uri),E={...E,lock:this.fromScript};let k=(0,o.List)([]);if((0,s.isSecp256k1Blake160MultisigScript)(L,x)){const $={codeHash:L.codeHash,hashType:L.hashType,args:L.args.slice(0,42)};k=k.push(y.collector({lock:$,argsLen:E.argsLen||28,type:E.type||"empty",data:E.data||"0x"})),!E.type&&(!E.data||E.data==="any")&&(k=k.push(y.collector({lock:$,type:(0,s.generateDaoScript)(x),data:"any"})),k=k.push(y.collector({lock:$,argsLen:28,type:(0,s.generateDaoScript)(x),data:"any"})))}else(0,s.isSecp256k1Blake160Script)(L,x)&&!E.type&&(!E.data||E.data==="any")&&(k=k.push(y.collector({lock:L,type:(0,s.generateDaoScript)(x),data:"any"})));this.cellCollectors=k}async*collect(){for(const d of this.cellCollectors)for await(const y of d.collect()){const x=y.cellOutput.lock;let E,h,T,F,L;if(x.args.length===58){const $=await this.rpc.getHeader(y.blockHash);E="0x"+b(x.args).toString(16),L={epoch:$.epoch,blockNumber:$.number,median_timestamp:""}}if((0,s.isDaoScript)(y.cellOutput.type,this.config)){if(y.data==="0x0000000000000000")continue;const $=await this.rpc.getTransaction(y.outPoint.txHash);F=$.txStatus.blockHash;const q=$.transaction.inputs[+y.outPoint.index].previousOutput;T=(await this.rpc.getTransaction(q.txHash)).txStatus.blockHash;const X=await this.rpc.getHeader(T),te=await this.rpc.getHeader(F);let re="0x"+(0,i.calculateDaoEarliestSinceCompatible)(X.epoch,te.epoch).toString(16);h=(0,i.calculateMaximumWithdrawCompatible)(y,X.dao,te.dao);const U=A(te.epoch),P={number:U.number+4,length:U.length,index:U.index};if(re=S(re,w(P)),E){const ne=(0,u.parseSinceCompatible)(E);if(!(ne.relative===!1&&ne.type==="epochNumber"))continue;try{E=S(re,E)}catch{E=re}}else E=re}if((0,u.parseSinceCompatible)(E).type==="blockTimestamp"||this.tipHeader&&!C(E,this.tipSinceValidationInfo,L))continue;const k={...y,since:E,depositBlockHash:T,withdrawBlockHash:F,sinceValidationInfo:L};k.cellOutput.capacity="0x"+(h||l.BI.from(y.cellOutput.capacity)).toString(16),yield k}}};async function M(v,d,y,x,E,{config:h=void 0,requireToAddress:T=!0,assertAmountEnough:F=!0,LocktimeCellCollector:L=O}={}){const k=await N(v,d,y,x,E,{config:h,requireToAddress:T,assertAmountEnough:F,LocktimeCellCollector:L});let $,H;return k instanceof Array?($=k[0],H=BigInt(k[1].toString()),[$,H]):($=k,$)}async function N(v,d,y,x,E,{config:h=void 0,requireToAddress:T=!0,assertAmountEnough:F=!0,LocktimeCellCollector:L=O}={}){let k=l.BI.from(x);for(const[$,H]of d.entries()){const q=await K(v,H,$===0?y:void 0,k,E,{config:h,requireToAddress:$===0?T:!1,assertAmountEnough:!1,LocktimeCellCollector:L});if(v=q[0],k=q[1],k.eq(0))return F?v:[v,l.BI.from(k)]}if(F)throw new Error("Not enough capacity in from addresses!");return[v,l.BI.from(k)]}async function K(v,d,y,x,E,{config:h=void 0,requireToAddress:T=!0,assertAmountEnough:F=!0,LocktimeCellCollector:L=O,changeAddress:k=void 0}){h=h||(0,f.getConfig)();const{fromScript:$}=(0,r.parseFromInfo)(d,{config:h});if(!(0,s.isSecp256k1Blake160MultisigScript)($,h)&&!(0,s.isSecp256k1Blake160Script)($,h))throw new Error("fromInfo not supported!");if(T&&!y)throw new Error("You must provide a to address!");let H=l.BI.from(x||0);if(y){const te=(0,t.parseAddress)(y,{config:h});v=v.update("outputs",re=>re.push({cellOutput:{capacity:"0x"+H.toString(16),lock:te,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const q=v.get("fixedEntries").filter(({field:te})=>te==="outputs").maxBy(({index:te})=>te);let X=q?q.index+1:0;for(;X<v.get("outputs").size&&H.gt(0);++X){const te=v.get("outputs").get(X);if(new m(te.cellOutput.lock,{validate:!1}).equals(new m($,{validate:!1}))){const re=l.BI.from(te.cellOutput.capacity);let U;H.gte(re)?U=re:(U=re.sub((0,t.minimalCellCapacityCompatible)(te)),U.gt(H)&&(U=H)),H=H.sub(U);const P=JSON.parse(JSON.stringify(te));P.cellOutput.capacity="0x"+re.sub(U).toString(16),v=v.update("outputs",ne=>ne.update(X,()=>P))}}if(v=v.update("outputs",te=>te.filter(re=>!l.BI.from(re.cellOutput.capacity).eq(0))),H.gt(0)){const te=v.get("cellProvider");if(!te)throw new Error("cell provider is missing!");const U={cellOutput:{capacity:"0x0",lock:k?(0,t.parseAddress)(k,{config:h}):$,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let P=l.BI.from(0),ne=(0,o.Set)();for(const de of v.get("inputs"))ne=ne.add(`${de.outPoint.txHash}_${de.outPoint.index}`);const fe=new L(d,te,{config:h,tipHeader:E});for await(const de of fe.collect()){const Y=de;if(ne.has(`${Y.outPoint.txHash}_${Y.outPoint.index}`))continue;let J;if((0,s.isSecp256k1Blake160MultisigScript)($,h)){const ge=Y.cellOutput.lock.args;J=ge.length===58?l.BI.from(b(ge)):void 0}let ie="0x";if((0,s.isDaoScript)(Y.cellOutput.type,h)){const ge=h.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:ge.DEP_TYPE,outPoint:{txHash:ge.TX_HASH,index:ge.INDEX}}),v=v.update("headerDeps",He=>He.push(Y.depositBlockHash,Y.withdrawBlockHash));const Se=v.get("headerDeps").size-2,zt={inputType:e.bytes.hexify(e.number.Uint64.pack(Se))};ie=e.bytes.hexify(a.blockchain.WitnessArgs.pack(zt))}v=await _(v,Y,(0,s.isSecp256k1Blake160MultisigScript)($,h)?Object.assign({},d,{since:J}):d,{config:h,defaultWitness:ie,since:Y.since});const ue=l.BI.from(Y.cellOutput.capacity);let ye=ue;if(ye.gt(H)&&(ye=H),H=H.sub(ye),P=P.add(ue).sub(ye),(0,s.isDaoScript)(Y.cellOutput.type,h)&&(v=v.update("fixedEntries",ge=>ge.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),H.eq(0)&&(P.eq(0)||P.gt((0,t.minimalCellCapacityCompatible)(U))))break}P.gt(0)&&(U.cellOutput.capacity="0x"+P.toString(16),v=v.update("outputs",de=>de.push(U)))}if(!F)return[v,H];if(H.gt(0))throw new Error("Not enough capacity in from address!");return v}async function Q(v,d,y,x,E,{config:h=void 0,LocktimeCellCollector:T=O,enableDeductCapacity:F=!0}){h=h||(0,f.getConfig)();let L=l.BI.from(y);const k=l.BI.from(E);if(F)for(const H of d){const q=(0,r.parseFromInfo)(H,{config:h}).fromScript;if(!(0,s.isSecp256k1Blake160MultisigScript)(q,h)&&!(0,s.isSecp256k1Blake160Script)(q,h))continue;const X=v.get("fixedEntries").filter(({field:re})=>re==="outputs").maxBy(({index:re})=>re);let te=X?X.index+1:0;for(;te<v.get("outputs").size&&L.gt(0);++te){const re=v.get("outputs").get(te);if(new m(re.cellOutput.lock,{validate:!1}).equals(new m(q,{validate:!1}))){const U=JSON.parse(JSON.stringify(re)),P=l.BI.from(U.cellOutput.capacity);let ne;L.gte(P)?ne=P:(ne=P.sub((0,t.minimalCellCapacityCompatible)(U)),ne.gt(L)&&(ne=L)),L=L.sub(ne),U.cellOutput.capacity="0x"+P.sub(ne).toString(16),v=v.update("outputs",fe=>fe.update(te,()=>U))}}v=v.update("outputs",re=>re.filter(U=>!l.BI.from(U.cellOutput.capacity).eq(0)))}let $=l.BI.from(0);if(L.gt(0)){const H=v.get("cellProvider");if(!H)throw new Error("cell provider is missing!");const q=te=>`${te.outPoint.txHash}_${te.outPoint.index}`;let X=(0,o.Set)();for(const te of v.get("inputs"))X=X.add(q(te));for(const te of d){const re=(0,r.parseFromInfo)(te,{config:h}).fromScript,U=new T(te,H,{config:h,tipHeader:x});for await(const P of U.collect()){const ne=P;if(X.has(q(ne)))continue;let fe="0x";if((0,s.isDaoScript)(ne.cellOutput.type,h)){const ie=h.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:ie.DEP_TYPE,outPoint:{txHash:ie.TX_HASH,index:ie.INDEX}}),v=v.update("headerDeps",ge=>ge.push(ne.depositBlockHash,ne.withdrawBlockHash));const ue=v.get("headerDeps").size-2,ye={inputType:e.bytes.hexify(e.number.Uint64.pack(ue))};fe=e.bytes.hexify(a.blockchain.WitnessArgs.pack(ye))}let de;if((0,s.isSecp256k1Blake160MultisigScript)(re,h)){const ie=ne.cellOutput.lock.args;de=ie.length===58?l.BI.from(b(ie)):void 0}v=await _(v,ne,Object.assign({},te,{since:de}),{config:h,defaultWitness:fe,since:ne.since});const Y=l.BI.from(ne.cellOutput.capacity);let J=Y;if(J.gt(L)&&(J=L),L=L.sub(J),$=$.add(Y).sub(J),(0,s.isDaoScript)(ne.cellOutput.type,h)&&(v=v.update("fixedEntries",ie=>ie.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),L.eq(0)&&($.eq(0)||$.gt(k)))break}}}return{txSkeleton:v,capacity:l.BI.from(L.toString()),changeCapacity:l.BI.from($.toString())}}async function j(v,d,y,x,E,{config:h=void 0,LocktimeCellCollector:T=O,enableDeductCapacity:F=!0}){const L=await Q(v,d,y,x,E,{config:h,LocktimeCellCollector:T,enableDeductCapacity:F});return{txSkeleton:L.txSkeleton,capacity:L.capacity.toBigInt(),changeCapacity:L.changeCapacity.toBigInt()}}async function G(v,d,y,x,{config:E=void 0,LocktimeCellCollector:h=O}={}){return N(v,d,void 0,y,x,{config:E,requireToAddress:!1,LocktimeCellCollector:h})}function W(v,{config:d=void 0}={}){return d=d||(0,f.getConfig)(),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160"),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160_MULTISIG"),v}async function R(v,d,y,x,{config:E=void 0,LocktimeCellCollector:h=O}={}){if(E=E||(0,f.getConfig)(),d>=v.get("outputs").size)throw new Error("Invalid output index!");const T=l.BI.from(v.get("outputs").get(d).cellOutput.capacity);return N(v,y,void 0,l.BI.from(T),x,{config:E,requireToAddress:!1,LocktimeCellCollector:h})}async function _(v,d,y,{config:x=void 0,since:E=void 0,defaultWitness:h="0x"}={}){return x=x||(0,f.getConfig)(),v=await I(v,d,y,{config:x,since:E,defaultWitness:h}),v=v.update("outputs",T=>T.remove(T.size-1)),v}async function I(v,d,y,{config:x=void 0,since:E=void 0,defaultWitness:h="0x"}={}){x=x||(0,f.getConfig)();const T=d.cellOutput.lock;if((0,s.isSecp256k1Blake160Script)(T,x))return n.default.setupInputCell(v,d,y,{config:x,defaultWitness:h,since:E});if((0,s.isSecp256k1Blake160MultisigScript)(T,x))return c.secp256k1Blake160Multisig.setupInputCell(v,d,y,{config:x,defaultWitness:h,since:E});throw new Error("Not supported input lock!")}function b(v){if(v.length!==58)throw new Error("Invalid multisig with since args!");return e.number.Uint64LE.unpack("0x"+v.slice(42))}return vi.default={CellCollector:O,transfer:M,transferCompatible:N,payFee:G,prepareSigningEntries:W,injectCapacity:R,setupInputCell:I,injectCapacityWithoutChange:j,injectCapacityWithoutChangeCompatible:Q},vi}var iE;function A5(){if(iE)return Yi;iE=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.default=void 0,Yi.injectCapacity=Q,Yi.payFee=j,Yi.payFeeByFeeRate=v,Yi.prepareSigningEntries=G,Yi.registerCustomLockScriptInfos=M,Yi.setupInputCell=b,Yi.transfer=K;var t=pi(),e=m(k1),r=ei,n=m(Dn),i=Nr,a=g(w5()),s=Ir,o=m(d5()),f=Jo,c=lt,u=wt,l=m(Sn);function p(h){if(typeof WeakMap!="function")return null;var T=new WeakMap,F=new WeakMap;return(p=function(L){return L?F:T})(h)}function g(h,T){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var F=p(T);if(F&&F.has(h))return F.get(h);var L={__proto__:null},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in h)if($!=="default"&&{}.hasOwnProperty.call(h,$)){var H=k?Object.getOwnPropertyDescriptor(h,$):null;H&&(H.get||H.set)?Object.defineProperty(L,$,H):L[$]=h[$]}return L.default=h,F&&F.set(h,L),L}function m(h){return h&&h.__esModule?h:{default:h}}const{ScriptValue:A}=s.values;function S(h,T){console.log(`[${h}] ${T}`)}const w={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function C(){w.configHashCode=0,w._predefinedInfos=[],w._customInfos=[]}function O(){return w}function M(h){w._customInfos=h}function N({config:h=void 0}={}){h=h||(0,i.getConfig)();const T=()=>{var L,k,$,H;const q=(L=h)===null||L===void 0?void 0:L.SCRIPTS.SECP256K1_BLAKE160,X=(k=h)===null||k===void 0?void 0:k.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,te=($=h)===null||$===void 0?void 0:$.SCRIPTS.ANYONE_CAN_PAY,re=(H=h)===null||H===void 0?void 0:H.SCRIPTS.OMNILOCK,U=[];return q?U.push({codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,lockScriptInfo:n.default}):S("warn","SECP256K1_BLAKE160 script info not found in config!"),X?U.push({codeHash:X.CODE_HASH,hashType:X.HASH_TYPE,lockScriptInfo:e.default}):S("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),te?U.push({codeHash:te.CODE_HASH,hashType:te.HASH_TYPE,lockScriptInfo:o.default}):S("warn","ANYONE_CAN_PAY script info not found in config!"),re?U.push({codeHash:re.CODE_HASH,hashType:re.HASH_TYPE,lockScriptInfo:l.default}):S("warn","OMNILOCK script info not found in config!"),U},F=s.utils.hashCode(Buffer.from(JSON.stringify(h)));w.infos.length===0?(w._predefinedInfos=T(),w.configHashCode=F):F!==w.configHashCode&&(S("warn","`config` changed, regenerate lockScriptInfos!"),w._predefinedInfos=T(),w.configHashCode=F)}async function K(h,T,F,L,k,$,{config:H=void 0,useLocktimeCellsFirst:q=!0,LocktimePoolCellCollector:X=a.CellCollector}={}){var te;H=H||(0,i.getConfig)();const re=u.BI.from(L);if(!F)throw new Error("You must provide a to address!");const U=(0,t.parseAddress)(F,{config:H}),P={cellOutput:{capacity:"0x"+re.toString(16),lock:U,type:void 0},data:"0x"};N({config:H});const ne=w.infos.find(fe=>fe.codeHash===U.codeHash&&fe.hashType===U.hashType);return ne&&(te=ne.lockScriptInfo)!==null&&te!==void 0&&te.setupOutputCell?h=await ne.lockScriptInfo.setupOutputCell(h,P,{config:H}):h=h.update("outputs",fe=>fe.push(P)),h=await Q(h,T,re.toString(),k,$,{config:H,useLocktimeCellsFirst:q,LocktimePoolCellCollector:X}),h}async function Q(h,T,F,L,k,{config:$=void 0,useLocktimeCellsFirst:H=!0,LocktimePoolCellCollector:q=a.CellCollector,enableDeductCapacity:X=!0}={}){$=$||(0,i.getConfig)();let re=u.BI.from(F);if(T.length===0)throw new Error("No from info provided!");const P={cellOutput:{capacity:"0x0",lock:(0,r.parseFromInfo)(L||T[0],{config:$}).fromScript,type:void 0},data:"0x"},ne=u.BI.from((0,t.minimalCellCapacityCompatible)(P));let fe=u.BI.from(0);if(H){if(k){const de=await a.default.injectCapacityWithoutChangeCompatible(h,T,re.toString(),k,ne.toString(),{config:$,LocktimeCellCollector:q,enableDeductCapacity:X});h=de.txSkeleton,re=u.BI.from(de.capacity),fe=u.BI.from(de.changeCapacity)}if(re.gt(0)){const de=await R(h,T,re,ne,{config:$,enableDeductCapacity:X});h=de.txSkeleton,re=de.capacity,fe=de.changeCapacity}else if(re.eq(0)&&fe.gt(0)&&fe.lt(ne)){const de=await R(h,T,ne.sub(fe),u.BI.from(0),{config:$,enableDeductCapacity:X});h=de.txSkeleton,re=de.capacity,fe=de.changeCapacity}}else{const de=await R(h,T,re,ne,{config:$,enableDeductCapacity:X});if(h=de.txSkeleton,re=de.capacity,fe=de.changeCapacity,k){if(re.gt(0)){const Y=await a.default.injectCapacityWithoutChangeCompatible(h,T,re.toString(),k,ne.toString(),{config:$,LocktimeCellCollector:q,enableDeductCapacity:X});h=Y.txSkeleton,re=u.BI.from(Y.capacity),fe=u.BI.from(Y.changeCapacity)}else if(re.eq(0)&&fe.gt(0)&&fe.lt(ne)){const Y=await a.default.injectCapacityWithoutChangeCompatible(h,T,ne.sub(fe).toString(),k,0,{config:$,LocktimeCellCollector:q,enableDeductCapacity:X});h=Y.txSkeleton,re=u.BI.from(Y.capacity),fe=u.BI.from(Y.changeCapacity)}}}if(re.gt(0))throw new Error("Not enough capacity in from infos!");if(fe.gt(0)&&fe.lt(ne))throw new Error("Not enough capacity in from infos for change!");return fe.gt(0)&&(P.cellOutput.capacity="0x"+fe.toString(16),h=h.update("outputs",de=>de.push(P))),h}async function j(h,T,F,L,{config:k=void 0,useLocktimeCellsFirst:$=!0,enableDeductCapacity:H=!0}={}){return Q(h,T,F,void 0,L,{config:k,useLocktimeCellsFirst:$,enableDeductCapacity:H})}function G(h,{config:T=void 0}={}){T=T||(0,i.getConfig)(),N({config:T});for(const F of w.infos)h=F.lockScriptInfo.prepareSigningEntries(h,{config:T});return h}async function W(h,T,F,L,{config:k=void 0,enableDeductCapacity:$=!0}={}){const H=await R(h,T,F,L,{config:k,enableDeductCapacity:$});return{txSkeleton:H.txSkeleton,capacity:BigInt(H.capacity.toString()),changeCapacity:BigInt(H.changeCapacity.toString())}}async function R(h,T,F,L,{config:k=void 0,enableDeductCapacity:$=!0}={}){k=k||(0,i.getConfig)();let H=u.BI.from(F);const q=h.get("cellProvider");if(!q)throw new Error("Cell Provider is missing!");const X=P=>{var ne,fe;return`${(ne=P.outPoint)===null||ne===void 0?void 0:ne.txHash}_${(fe=P.outPoint)===null||fe===void 0?void 0:fe.index}`};let te=(0,f.Set)();for(const P of h.get("inputs"))te=te.add(X(P));const re=T.map(P=>(0,r.parseFromInfo)(P,{config:k}).fromScript);for(const P of re)$&&H.gt(0)&&([h,H]=_(h,P,H));N({config:k});let U=u.BI.from(0);if(H.gt(0))e:for(const P of T){const ne=w.infos.map(fe=>new fe.lockScriptInfo.CellCollector(P,q,{config:k}));for(const fe of ne)for await(const de of fe.collect()){const Y=X(de);if(te.has(Y))continue;te=te.add(Y);const J=await I(h,de,P,{config:k,needCapacity:H});h=J.txSkeleton;const ie=u.BI.from(J.availableCapacity);let ue=ie;if(ue.gt(H)&&(ue=H),H=H.sub(ue),U=U.add(ie.sub(ue)),H.eq(0)&&(U.eq(0)||U.gt(L)))break e}}return{txSkeleton:h,capacity:H,changeCapacity:U}}function _(h,T,F){let L=u.BI.from(F);const k=h.get("fixedEntries").filter(({field:H})=>H==="outputs").maxBy(({index:H})=>H);let $=k?k.index+1:0;for(;$<h.get("outputs").size&&L.gt(0);$++){const H=h.get("outputs").get($);if(H&&new A(H.cellOutput.lock,{validate:!1}).equals(new A(T,{validate:!1}))){const q=JSON.parse(JSON.stringify(H)),X=u.BI.from(q.cellOutput.capacity),te=X;let re;L.gte(te)?re=te:(re=X.sub((0,t.minimalCellCapacityCompatible)(q)),re.gt(F)&&(re=F)),L=L.sub(re),q.cellOutput.capacity="0x"+X.sub(re).toString(16),h=h.update("outputs",U=>U.update($,()=>q))}}return h=h.update("outputs",H=>H.filter(q=>u.BI.from(q.cellOutput.capacity).toString()!==u.BI.from(0).toString())),[h,L]}async function I(h,T,F,{config:L=void 0,since:k=void 0,defaultWitness:$="0x",needCapacity:H=void 0}={}){L=L||(0,i.getConfig)(),h=await b(h,T,F,{config:L,since:k,defaultWitness:$});const q=h.get("outputs").size-1,X=h.get("outputs").get(q);if(!X)throw new Error("Impossible: can not find last output");const te=u.BI.from(X.cellOutput.capacity),re=h.get("fixedEntries").findIndex(fe=>fe.field==="outputs"&&fe.index===q),U=T.cellOutput.lock;let P=u.BI.from(0);if(L.SCRIPTS.ANYONE_CAN_PAY&&(0,c.isAcpScript)(U,L)){const fe=!!(F&&typeof F=="object"&&"destroyable"in F&&F.destroyable),de=H?u.BI.from(H):te;if(fe)P=te,h=h.update("outputs",Y=>Y.remove(q)),re>=0&&(h=h.update("fixedEntries",Y=>Y.remove(re)));else{const Y=u.BI.from((0,t.minimalCellCapacityCompatible)(X)),J=te.sub(Y),ie=JSON.parse(JSON.stringify(X));let ue=Y;P=J,de.lt(J)&&(ue=te.sub(de),P=de),ie.cellOutput.capacity="0x"+ue.toString(16),h=h.update("outputs",ye=>ye.update(q,()=>ie))}}else if(re<0){var ne;P=u.BI.from((ne=h.get("outputs").get(q))===null||ne===void 0?void 0:ne.cellOutput.capacity),h=h.update("outputs",fe=>fe.remove(q))}return{txSkeleton:h,availableCapacity:P}}async function b(h,T,F,{config:L=void 0,since:k=void 0,defaultWitness:$=void 0}={}){L=L||(0,i.getConfig)(),N({config:L});const H=T.cellOutput.lock,q=w.infos.find(X=>X.codeHash===H.codeHash&&X.hashType===H.hashType);if(!q)throw new Error("No LockScriptInfo found for setupInputCell!");return q.lockScriptInfo.setupInputCell(h,T,F,{config:L,since:k,defaultWitness:$})}async function v(h,T,F,L,{config:k=void 0,useLocktimeCellsFirst:$=!0,enableDeductCapacity:H=!0}={}){let q=0,X=h,te=x(X);for(;te>q;){q=te;const re=y(q,F);X=await j(h,T,re,L,{config:k,useLocktimeCellsFirst:$,enableDeductCapacity:H}),te=x(X)}return X}function d(h,T){const F=y(h,T);return BigInt(F.toString())}function y(h,T){const F=u.BI.from(1e3),L=u.BI.from(h).mul(T),k=L.div(F);return k.mul(F).lt(L)?k.add(1):u.BI.from(k)}function x(h){const T=(0,t.createTransactionFromSkeleton)(h);return E(T)}function E(h){return s.blockchain.Transaction.pack(h).byteLength+4}return Yi.default={transfer:K,payFee:j,prepareSigningEntries:G,injectCapacity:Q,setupInputCell:b,registerCustomLockScriptInfos:M,payFeeByFeeRate:v,__tests__:{_commonTransfer:W,resetLockScriptInfos:C,getLockScriptInfos:O,generateLockScriptInfos:N,getTransactionSizeByTx:E,getTransactionSize:x,calculateFee:d,calculateFeeCompatible:y}},Yi}var aE;function E5(){if(aE)return Hn;aE=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.CellCollector=void 0,Hn.calculateDaoEarliestSince=Q,Hn.calculateDaoEarliestSinceCompatible=j,Hn.calculateMaximumWithdraw=_,Hn.calculateMaximumWithdrawCompatible=I,Hn.default=void 0,Hn.deposit=w,Hn.extractDaoDataCompatible=R,Hn.listDaoCells=S,Hn.unlock=K;var t=pi(),e=Ir,r=st,n=Nr,i=l(Dn),a=l(k1),s=ei,o=lt,f=wt,c=P2(),u=l(A5());function l(b){return b&&b.__esModule?b:{default:b}}const{parseSince:p}=e.since,g="0x0000000000000000",m=f.BI.from(180);class A{constructor(v,d,y,{config:x=void 0}={}){if(!d)throw new Error("Cell Provider is missing!");x=x||(0,n.getConfig)();const E=(0,s.parseFromInfo)(v,{config:x}).fromScript,h=(0,o.generateDaoScript)(x),T=y==="deposit"?g:"any";this.cellType=y,this.cellCollector=d.collector({lock:E,type:h,data:T})}async*collect(){for await(const v of this.cellCollector.collect())this.cellType==="withdraw"&&v.data===g||(yield v)}}Hn.CellCollector=A;async function*S(b,v,d,{config:y=void 0}={}){const x=new A(v,b,d,{config:y});for await(const E of x.collect())yield E}async function w(b,v,d,y,{config:x=void 0,enableNonSystemScript:E=!1}={}){x=x||(0,n.getConfig)();const h=x.SCRIPTS.DAO;if(!h)throw new Error("Provided config does not have DAO script setup!");if(C(v,x),b=W(b,x),!d)throw new Error("You must provide a to address!");const T=(0,t.parseAddress)(d,{config:x}),F={codeHash:h.CODE_HASH,hashType:h.HASH_TYPE,args:"0x"};b=b.update("outputs",k=>k.push({cellOutput:{capacity:"0x"+f.BI.from(y).toString(16),lock:T,type:F},data:g,outPoint:void 0,blockHash:void 0}));const L=b.get("outputs").size-1;if(b=b.update("fixedEntries",k=>k.push({field:"outputs",index:L})),typeof v=="string"){const k=(0,t.parseAddress)(v,{config:x});(0,o.isSecp256k1Blake160Script)(k,x)?b=await i.default.injectCapacity(b,L,v,{config:x}):(0,o.isSecp256k1Blake160MultisigScript)(k,x)?b=await a.default.injectCapacity(b,L,v,{config:x}):E&&(b=await u.default.injectCapacity(b,[v],y,(0,t.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:x}),void 0,{config:x}))}else v&&((0,s.isMultisigFromInfo)(v)?b=await a.default.injectCapacity(b,L,v,{config:x}):E&&(b=await u.default.injectCapacity(b,[v],y,(0,t.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:x}),void 0,{config:x})));return b}function C(b,v){let d;if(typeof b=="string"){const x=(0,t.parseAddress)(b,{config:v}).args;x.length===58&&(d=r.number.Uint64LE.unpack("0x"+x.slice(42)).toHexString())}else"R"in b&&(d=b.since);if(d!=null){const{relative:y,type:x}=p(d);if(!(!y&&x==="epochNumber"))throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}async function O(b,v,d,{config:y=void 0,enableNonSystemScript:x=!1}={}){if(y=y||(0,n.getConfig)(),G(y),b=W(b,y),b.get("inputs").size!==b.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!y.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!b.get("cellProvider"))throw new Error("Cell provider is missing!");const h=v.cellOutput.type,T=y.SCRIPTS.DAO;if(!h||h.codeHash!==T.CODE_HASH||h.hashType!==T.HASH_TYPE||v.data!==g)throw new Error("fromInput is not a DAO deposit cell.");const F=v.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(F,y)?b=await i.default.setupInputCell(b,v,void 0,{config:y}):(0,o.isSecp256k1Blake160MultisigScript)(F,y)?b=await a.default.setupInputCell(b,v,d||(0,t.generateAddress)(F,{config:y}),{config:y}):x&&(b=await u.default.setupInputCell(b,v,d||(0,t.encodeToAddress)(F,{config:y}),{config:y}));const L=b.get("outputs").size-1,k=b.get("outputs").get(L),$=JSON.parse(JSON.stringify(k));if(v.blockNumber)$.data=r.bytes.hexify(r.number.Uint64.pack(v.blockNumber));else throw new Error("fromInput has no blockNumber!");return b=b.update("outputs",H=>H.update(L,()=>$)),b=b.update("headerDeps",H=>H.push(v.blockHash)),b=b.update("fixedEntries",H=>H.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1})),b}function M(b){const v=f.BI.from(b);return{length:v.shr(40).and(4095),index:v.shr(24).and(4095),number:v.and(16777215)}}function N({length:b,index:v,number:d}){const y=f.BI.from(b),x=f.BI.from(v),E=f.BI.from(d);return f.BI.from(32).shl(56).add(y.shl(40)).add(x.shl(24)).add(E)}async function K(b,v,d,y,x,{config:E=void 0,RpcClient:h=c.RPC}={}){if(E=E||(0,n.getConfig)(),G(E),b=W(b,E),!E.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const T=b.get("cellProvider");if(!T)throw new Error("Cell provider is missing!");const F=new h(T.uri),L=v.cellOutput.type,k=E.SCRIPTS.DAO;if(!L||L.codeHash!==k.CODE_HASH||L.hashType!==k.HASH_TYPE||v.data!==g)throw new Error("depositInput is not a DAO deposit cell.");const $=d.cellOutput.type;if(!$||$.codeHash!==k.CODE_HASH||$.hashType!==k.HASH_TYPE||d.data===g)throw new Error("withdrawInput is not a DAO withdraw cell.");const H=await F.getHeader(v.blockHash),q=M(H.epoch),X=await F.getHeader(d.blockHash),te=M(X.epoch),re=te.index.mul(q.length),U=q.index.mul(te.length);let P=te.number.sub(q.number);re.gt(U)&&(P=P.add(1));const ne=P.add(m).sub(1).div(m).mul(m),fe={number:f.BI.from(q.number.add(ne)),index:f.BI.from(q.index),length:f.BI.from(q.length)},de=N(fe),Y="0x"+I(d,H.dao,X.dao).toString(16),J=(0,t.parseAddress)(y,{config:E});b=b.update("outputs",He=>He.push({cellOutput:{capacity:Y,lock:J,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}));const ie="0x"+de.toString(16);for(;b.get("witnesses").size<b.get("inputs").size-1;)b=b.update("witnesses",He=>He.push("0x"));b=b.update("headerDeps",He=>He.push(v.blockHash,d.blockHash));const ue=b.get("headerDeps").size-2,ye={inputType:r.bytes.hexify(r.number.Uint64LE.pack(ue))},ge=r.bytes.hexify(e.blockchain.WitnessArgs.pack(ye)),Se=d.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(Se,E)?b=await i.default.setupInputCell(b,d,void 0,{config:E,since:ie,defaultWitness:ge}):(0,o.isSecp256k1Blake160MultisigScript)(Se,E)&&(b=await a.default.setupInputCell(b,d,x||(0,t.generateAddress)(Se,{config:E}),{config:E,since:ie,defaultWitness:ge}));const zt=b.get("outputs").size-1;return b=b.update("outputs",He=>He.remove(zt)),b=b.update("fixedEntries",He=>He.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1},{field:"witnesses",index:b.get("witnesses").size-1},{field:"headerDeps",index:b.get("headerDeps").size-2})),b}function Q(b,v){const d=j(b,v);return BigInt(d.toString())}function j(b,v){const d=M(b),y=M(v),x=y.index.mul(d.length),E=d.index.mul(y.length);let h=y.number.sub(d.number);x.gt(E)&&(h=h.add(1));const T=h.add(m).sub(1).div(m).mul(m),F={number:f.BI.from(d.number.add(T)),index:f.BI.from(d.index),length:f.BI.from(d.length)};return N(F)}function G(b){if(!b.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function W(b,v){const d=v.SCRIPTS.DAO;return(0,o.addCellDep)(b,{outPoint:{txHash:d.TX_HASH,index:d.INDEX},depType:d.DEP_TYPE})}function R(b){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(b))throw new Error("Invalid dao format!");const v=8*2,d=b.startsWith("0x")?b.slice(2):b;return["c","ar","s","u"].map((y,x)=>({[y]:r.number.Uint64LE.unpack("0x"+d.slice(v*x,v*(x+1)))})).reduce((y,x)=>({...y,...x}),{})}function _(b,v,d){return I(b,v,d).toBigInt()}function I(b,v,d){const y=f.BI.from(R(v).ar),x=f.BI.from(R(d).ar),E=f.BI.from((0,t.minimalCellCapacityCompatible)(b));return f.BI.from(b.cellOutput.capacity).sub(E).mul(x).div(y).add(E)}return Hn.default={deposit:w,withdraw:O,unlock:K,calculateMaximumWithdraw:_,calculateMaximumWithdrawCompatible:I,calculateDaoEarliestSince:Q,calculateDaoEarliestSinceCompatible:j,CellCollector:A,listDaoCells:S},Hn}var z2=E5();const Nt=100000000n;function Sc(t){return"0x"+t.toString(16)}function zp(...t){return t.reduce((e,r)=>e>r?e:r)}function gQ(...t){return t.reduce((e,r)=>e<r?e:r)}function d6(t){return e=>En(e.cellOutput.lock,t)?t:void 0}function yQ(t,e){const r=[],n=[];for(const i of t){if(i.cellOutput.type!==void 0||i.data!=="0x"){n.push(i);continue}const a=e(i);if(!a){n.push(i);continue}r.push(Vt.from({...i,cellOutput:{lock:a,capacity:i.cellOutput.capacity}}))}return{capacities:r,notCapacities:n}}function vQ(t,e,r){const n=[],i=[];for(const a of t){if(!En(a.cellOutput.type,e)){i.push(a);continue}const s=r(a);if(!s){i.push(a);continue}n.push(Vt.from({...a,cellOutput:{lock:s,type:e,capacity:a.cellOutput.capacity}}))}return{types:n,notTypes:i}}function _Q(t,e,r){const n=b1(r.epoch),i=[],a=[];for(const s of t)j2(n,Bp(e(s)))>=0?i.push(s):a.push(s);return{mature:i,notMature:a}}const mQ="Comparing two Scripts that both are undefined";function En(t,e){if(!t&&!e)throw Error(mQ);return!t||!e?!1:t.codeHash===e.codeHash&&t.hashType===e.hashType&&t.args===e.args}function j2(t,e){if(t.number<e.number)return-1;if(t.number>e.number)return 1;const r=t.index*e.length,n=e.index*t.length;return r<n?-1:r>n?1:0}const wQ="Zero EpochSinceValue length";function hM(t,e){if(t.length===0||e.length===0)throw Error(wQ);t.length!==e.length&&(e={length:t.length,index:Math.ceil(e.index*t.length/e.length),number:e.number});const r=t.index+e.index,n=t.length,i=r%n,a=t.number+(r-i)/n;return{length:n,index:i,number:a}}function AQ(t){const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e}function EQ(t,e){let[r,n]=[0,t];for(;r<n;){const i=Math.trunc((r+n)/2);e(i)?n=i:r=i+1}return r}const xQ="Unable to modify entries without messing up fixed entries",SQ="Input and output have different length",IQ="Signing Entries are not empty";function Ea(t,e,r,n){const i=x5(t),a=Aa(r),s=Aa(n);if(e==="matched"){if(a.size!==s.size)throw Error(SQ);if(i.inputs!==i.outputs)throw Error(xQ);if(t.signingEntries.size>0)throw Error(IQ)}const o=e=="matched",f=o?i.inputs+1:t.inputs.size,c=o?i.outputs+1:t.outputs.size;return t=BQ(t,a,s),t=OQ(t,a,s),t=TQ(t,f,a),t=CQ(t,f,a,c,s),t=t.update("inputs",u=>u.splice(f,0,...a)),t=t.update("outputs",u=>u.splice(c,0,...s)),o&&(t=S5(t,i.set("inputs",i.inputs+a.size).set("outputs",i.outputs+s.size))),t}const sE=vc(ry.pack({lock:void 0,inputType:void 0,outputType:void 0}));function CQ(t,e,r,n,i){const a=zp(t.inputs.size,t.outputs.size,t.witnesses.size,e,n),s=[],o=[],f=[];for(let l=0;l<a;l++){const{lock:p,inputType:g,outputType:m}=ry.unpack(t.witnesses.get(l,sE));s.push(p),o.push(g),f.push(m)}s.splice(e,0,...r.map(l=>l.cellOutput.lock[du])),o.splice(e,0,...r.map(l=>{var p;return(p=l.cellOutput.type)==null?void 0:p[du]})),f.splice(n,0,...i.map(l=>{var p;return(p=l.cellOutput.type)==null?void 0:p[du]}));const c=zp(o.length,f.length),u=[];for(let l=0;l<c;l++)u.push(st.bytes.hexify(ry.pack({lock:s[l],inputType:o[l],outputType:f[l]})));for(;u[u.length-1]===sE;)u.pop();return t.set("witnesses",Aa(u))}function TQ(t,e,r){const n=va[Ns],i=Array.from({length:t.inputs.size},(s,o)=>t.inputSinces.get(o,n)),a=[];for(const s of r){const o=s.cellOutput.lock[Ns],f=s.cellOutput.type?s.cellOutput.type[Ns]:o;o===n||o===f?a.push(f):f===n?a.push(o):j2(Bp(o),Bp(f))==-1?a.push(f):a.push(o)}return i.splice(e,0,...a),t.set("inputSinces",Zo(i.map((s,o)=>[o,s]).filter(({1:s})=>s!==n)))}function OQ(t,e,r){const n=[];for(const i of e){const a=i.cellOutput.lock;n.push(...a[fi])}for(const i of[...e,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[fi])}return pM(t,...n.map(i=>i.hash))}function pM(t,...e){const r=x5(t);let n=t.headerDeps.push(...e);return n=Aa(new Set(n)),t=S5(t,r.set("headerDeps",n.size-1)),t.set("headerDeps",n)}function BQ(t,e,r){const n=[];for(const i of e){const a=i.cellOutput.lock;n.push(...a[Oi])}for(const i of[...e,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[Oi])}return MQ(t,...n)}const DQ=t=>`${t.outPoint.txHash}-${t.outPoint.index}-${t.depType}`;function MQ(t,...e){const r=x5(t);let n=t.cellDeps.push(...e);return n=Aa(new Map(n.map(i=>[DQ(i),i])).values()),t=S5(t,r.set("cellDeps",n.size-1)),t.set("cellDeps",n)}function x5(t){return NQ(t.fixedEntries.sort((e,r)=>e.index-r.index).map(e=>[e.field,e.index]))}const RQ=Aa(["cellDeps","headerDeps","inputs","outputs"]);function S5(t,e){return t.set("fixedEntries",RQ.map(r=>Object.freeze({field:r,index:e[r]})).filter(({index:r})=>r>=0))}function LQ(t){return t.inputs.size>0&&t.outputs.size>0}function HQ(t){return r8.pack(x2.createTransactionFromSkeleton(t)).byteLength+4}function PQ(t,e){const r=1000n,n=BigInt(t)*e,i=n/r;return i*r<n?i+1n:i}const NQ=br({cellDeps:-1,headerDeps:-1,inputs:-1,outputs:-1}),bM="Encountered an input cell with blockNumber undefined";function oE(t,e,r,n){const i=[],a=[],s=[],o=n.defaultScript("DAO"),f=(c,u,l,p,g)=>Vt.from({...c,cellOutput:{lock:u,type:xn.from({...o,[fi]:p?[l,p]:[l],[Ns]:g??o[Ns]}),capacity:c.cellOutput.capacity},blockHash:l.hash});for(const c of t){const u=e(c);if(!u||!I5(c,n)){s.push(c);continue}if(!c.blockNumber)throw Error(bM);const l=r(c.blockNumber,c);if(c.data===F2)i.push(f(c,u,l));else{const p=r(Sc(Od.unpack(c.data)),c),g=z2.calculateDaoEarliestSinceCompatible(p.epoch,l.epoch).toHexString();a.push(f(c,u,l,p,g))}}return{deposits:i,withdrawalRequests:a,notDaos:s}}const F2="0x0000000000000000";function I5(t,e){return En(t.cellOutput.type,e.defaultScript("DAO"))}function gM(t,e){return I5(t,e)&&t.data===F2}function yM(t,e){return I5(t,e)&&t.data!==F2}function UQ(t,e,r,n){const i=Vt.from({lock:r,type:n.defaultScript("DAO"),data:F2}),a=e.map(s=>Vt.from({...i,capacity:Sc(s)}));return Ea(t,"append",[],a)}const kQ="Withdrawal request lock has different size";function zQ(t,e,r){const n=[];for(const i of e){if(i.cellOutput.lock.args.length!=r.args.length)throw Error(kQ);n.push(Vt.from({...i.cellOutput,lock:r,data:vc(Od.pack(BigInt(i.blockNumber)))}))}return Ea(t,"matched",e,n)}function jQ(t,e){const r=[];for(const a of e)r.push(...a.cellOutput.type[fi].map(s=>s.hash));t=pM(t,...r);const n=[],i=new Map(t.headerDeps.map((a,s)=>[a,s]));for(const a of e){const s=a.cellOutput.type[fi][1];n.push(Vt.from({...a,type:xn.from({...a.cellOutput.type,[du]:vc(Od.pack(i.get(s.hash)))})}))}return Ea(t,"append",n,[])}function FQ(t,e){const r=Wj(e),n=t.cellOutput.type[fi][0].epoch;return Bp(z2.calculateDaoEarliestSinceCompatible(n,r).toHexString())}function mg(t,e){let r=0n;for(const n of t.inputs)if(yM(n,e)){const i=n,[a,s]=i.cellOutput.type[fi],o=z2.calculateMaximumWithdraw(n,s.dao,a.dao);r+=o}else r+=BigInt(n.cellOutput.capacity);return t.outputs.forEach(n=>r-=BigInt(n.cellOutput.capacity)),r}function $Q(t,e,r,n){let i=Vt.from({lock:e});const a=BigInt(i.cellOutput.capacity),s=Ea(t,"append",[],[i]),o=r(s),f=mg(s,n)-o;return f>0n?(i=Vt.from({...i,capacity:Sc(a+f)}),t=Ea(t,"append",[],[i])):t=s,{tx:t,txFee:o,freeCkb:f}}function qQ(){const t=s2.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=_e.jsx(_e.Fragment,{children:_e.jsxs("h1",{className:"flex flex-row items-center justify-center py-4 text-5xl font-medium",children:[_e.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),_e.jsx("span",{children:"iCKB"}),_e.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"})]})}),t[0]=e):e=t[0],e}function fE(t){const e=s2.c(8),{walletConfig:r}=t,{chain:n,address:i}=r,a=`https://${n!=="mainnet"?"testnet.":""}explorer.nervos.org/address/${i}`;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=_e.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),o={direction:"rtl"},e[0]=s,e[1]=o):(s=e[0],o=e[1]);let f;e[2]!==i?(f=_e.jsx("h1",{style:o,className:"-ml-3 truncate text-3xl",children:i}),e[2]=i,e[3]=f):f=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=_e.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"}),e[4]=c):c=e[4];let u;return e[5]!==a||e[6]!==f?(u=_e.jsxs("a",{href:a,target:"_blank",className:"flex flex-row items-center justify-center rounded-2xl py-4 font-medium",children:[s,f,c]}),e[5]=a,e[6]=f,e[7]=u):u=e[7],u}function vM(t){return t==="C"}function h6(t){return t?"C":"I"}function KQ(t){let e=0;for(;e<t.length;e++){const a=t[e];if("1"<=a&&a<="9"||a===".")break}let r="";const n=[];for(;e<t.length;e++){const a=t[e];if("0"<=a&&a<="9")n.push(a);else if(a=="."){r=".";break}}const i=[];for(;e<t.length&&i.length<8;e++){const a=t[e];"0"<=a&&a<="9"&&i.push(a)}return(n.length>0?BigInt(n.join("")).toLocaleString("en-US"):r.length>0?"0":"")+r+i.join("")}function $2(t){return(t/Nt).toLocaleString("en-US")+String(Number(t%Nt)/Number(Nt)).slice(1)}function QQ(t){const[e,...r]=t.split(",").join("").split(".");return BigInt((e??"0")+((r??[]).join("")+"00000000").slice(0,8))}function _M(t,e,r){return Object.freeze(hM(b1(r.epoch),{number:0,index:1+Number(e/(t?100000n*Nt:200n*Nt)),length:4*60}))}function mM(t){return t.reduce((e,r)=>j2(e,r)===-1?r:e)}const wM=Object.freeze({number:0,index:0,length:1}),ql=Object.freeze({tx:x2.TransactionSkeleton(),error:"",fee:0n,estimatedMaturity:wM}),AM=1000n*Nt,{union:VQ,struct:$u}=st.molecule;function YQ(t){return st.createFixedBytesCodec({pack:st.bytes.bytify,unpack:st.bytes.hexify,byteLength:t})}const GQ=YQ(32),EM=$u({depositQuantity:Y$,depositAmount:Od},["depositQuantity","depositAmount"]),xM=$u({ownedDistance:VB},["ownedDistance"]),cE=$u({ckbMultiplier:Od,udtMultiplier:Od},["ckbMultiplier","udtMultiplier"]),SM=$u({ckbToUdt:cE,udtToCkb:cE,ckbMinMatchLog:V$},["ckbToUdt","udtToCkb","ckbMinMatchLog"]),WQ=$u({padding:GQ,masterDistance:VB,orderInfo:SM},["padding","masterDistance","orderInfo"]),XQ=$u({masterOutpoint:G$,orderInfo:SM},["masterOutpoint","orderInfo"]),uE=VQ({MintOrderData:WQ,MatchOrderData:XQ},["MintOrderData","MatchOrderData"]),Bh=$u({udtAmount:f6},["udtAmount"]),C5=st.createBytesCodec({pack:t=>st.bytes.concat(Bh.pack(t),uE.pack(t)),unpack:t=>{const e=t.slice(0,Bh.byteLength),r=t.slice(Bh.byteLength),n=Bh.unpack(e),i=uE.unpack(r);return{...n,...i}}}),ZQ=[{name:"ICKB_LOGIC",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null},{name:"XUDT",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:3,occupied_capacity:33757e8,data_hash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",type_id:null}],JQ=[{name:"ickb_dep_group",tx_hash:"0x0152f73978779b99eb5aeed9ae9879a7004bd7c69fd858da443b535cb2c9df1d",index:0,data_hash:"0xb208b98b17ff0f740464299171f2285cbd4dcf6792a4058a9ff365eed15e19e3",occupied_capacity:353e8}],eV={cell_recipes:ZQ,dep_group_recipes:JQ},tV=[{name:"ICKB_LOGIC",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],rV=[{name:"ickb_dep_group",tx_hash:"0xf7ece4fb33d8378344cab11fcd6a4c6f382fd4207ac921cf5821f30712dcd311",index:0,data_hash:"0x8d3a9737808fc4a3c7f9e554be9045333c5082bf3b82f8a33873c367a2b2307f",occupied_capacity:353e8}],nV={cell_recipes:tV,dep_group_recipes:rV},iV=[{name:"ICKB_LOGIC",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],aV=[{name:"ickb_dep_group",tx_hash:"0x621a6f38de3b9f453016780edac3b26bfcbfa3e2ecb47c2da275471a5d3ed165",index:0,data_hash:"0x94d59795c742dfb381c8e8d8beee0362d0bf8f8921212ed15f87acd89a3ce78b",occupied_capacity:353e8}],sV={cell_recipes:iV,dep_group_recipes:aV},oV="The requested script is missing in the old config";function IM(t,e){const{cell_recipes:r,dep_group_recipes:n}=t==="mainnet"?sV:t==="testnet"?nV:eV,{tx_hash:i,index:a}=n[0],s=$o.from({txHash:i,index:Sc(a)}),o={};for(const c of r)o[c.name]=new np(xn.from({...va,codeHash:c.type_id??c.data_hash,hashType:c.type_id?"type":"data1",[Oi]:[hu.from({outPoint:s,depType:"depGroup"})]}));const f=["SECP256K1_BLAKE160","DAO","SECP256K1_BLAKE160_MULTISIG"];if(t!=="devnet")if(t==="testnet")f.push("XUDT"),e={...e,XUDT:new np(xn.from({...va,codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",[Oi]:[hu.from({outPoint:$o.from({txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"}),depType:"code"})]}))};else{if(e.XUDT.HASH_TYPE!=="data1")throw Error("Expected data1 hashType for XUDT");f.push("XUDT")}for(const c of f){const u=e[c];if(!u)throw Error(oV);o[c]=new np(xn.from({...u.defaultScript,[Oi]:[hu.from({outPoint:s,depType:"depGroup"})]}))}return o}function lE(t,e,r,n){const i=z1(n),a=_0(n),s=[],o=[];let f=[],c=[],u=[];for(const w of t){const C=e(w);if(!C){u.push(w);continue}if(En(w.cellOutput.type,i)){s.push(Vt.from({...w,cellOutput:{lock:C,type:i,capacity:w.cellOutput.capacity}}));continue}if(!En(w.cellOutput.type,a)){u.push(w);continue}if(!w.blockNumber)throw Error(bM);o.push(Vt.from({...w,cellOutput:{lock:C,type:xn.from({...a,[fi]:[r(w.blockNumber,w)]}),capacity:w.cellOutput.capacity}}))}let l;({deposits:c,withdrawalRequests:l,notDaos:u}=oE(u,d6(a),r,n)),u=u.concat(l);const p=K2(n);({deposits:l,withdrawalRequests:f,notDaos:u}=oE(u,d6(p),r,n)),u=u.concat(l);let g;({types:g,notTypes:u}=vQ(u,p,e));const m=w=>w.txHash+w.index,A=new Map(f.map(w=>[m(w.outPoint),w])),S=[];for(const w of g){const{ownedDistance:C}=xM.unpack(w.data),O=Sc(Number(w.outPoint.index)+C),M=m({...w.outPoint,index:O}),N=A.get(M);N?(S.push(Object.freeze({owner:w,ownedWithdrawalRequest:N})),A.delete(M)):u.push(w)}return u=u.concat(Array.from(A.values())),{udts:s,receipts:o,withdrawalRequestGroups:S,ickbPool:c,notIckbs:u}}function fV(t,e,r,n){let i=t.map(a=>Object.freeze({deposit:a,ickbValue:p6(BigInt(a.cellOutput.capacity)-q2,a.cellOutput.type[fi][0]),estimatedMaturity:{length:1,index:0,number:0}}));if(r){const a=hM(b1(e.epoch),r);i=i.map(s=>Object.freeze({...s,estimatedMaturity:FQ(s.deposit,a)})).sort((s,o)=>j2(s.estimatedMaturity,o.estimatedMaturity))}return i}function cV(t,e,r,n){return UQ(t,Array(e).fill(r),_0(n),n)}function uV(t,e,r){return zQ(t,e,K2(r))}function lV(t,e){const r=[],n=[];for(const{ownedWithdrawalRequest:i,owner:a}of e)r.push(i),n.push(a);return r.length>0&&(t=jQ(t,r),t=Ea(t,"append",n,[])),t}function wg(t,e){const r=z1(e),n=_0(e);let i=0n;for(const a of t.inputs){if(En(a.cellOutput.type,r)){i+=f6.unpack(a.data.slice(0,2+16*2));continue}if(En(a.cellOutput.lock,n)&&gM(a,e)){const s=a.cellOutput.type[fi][0],o=BigInt(a.cellOutput.capacity)-q2;i-=p6(o,s);continue}if(En(a.cellOutput.type,n)){const s=a.cellOutput.type[fi][0],{depositQuantity:o,depositAmount:f}=EM.unpack(a.data);i+=p6(f,s)*BigInt(o)}}for(const a of t.outputs)En(a.cellOutput.type,r)&&(i-=f6.unpack(a.data.slice(0,2+16*2)));return i}function p6(t,e){let r=CM(t,e,!1);return vy<r&&(r-=(r-vy)/10n),r}function dV(t,e,r){const n=wg(t,r);if(n>0n){const i=Vt.from({lock:e,type:z1(r),data:vc(Bh.pack({udtAmount:n}))});t=Ea(t,"append",[],[i])}return{tx:t,freeIckbUdt:n}}function hV(t,e,r){const n=[],i=K2(r);for(const[a,s]of t.outputs.entries()){if(!yM(s,r)||!En(s.cellOutput.lock,i))continue;const o=t.outputs.size+n.length,f=a-o;n.push(Vt.from({lock:e,type:i,data:vc(xM.pack({ownedDistance:f}))}))}return n.length>0?Ea(t,"append",[],n):t}function pV(t,e,r){const n=_0(r),i=new Map;for(const s of t.outputs){if(!gM(s,r)||!En(s.cellOutput.lock,n))continue;const o=BigInt(s.cellOutput.capacity)-q2;let f=i.get(o);f?f.depositQuantity+=1:i.set(o,{depositQuantity:1,depositAmount:o})}const a=[];for(const s of i.values())a.push(Vt.from({lock:e,type:n,data:vc(EM.pack(s))}));return a.length>0?Ea(t,"append",[],a):t}const vy=100000n*Nt;function bV(t){return _y(vy,t)}function CM(t,e,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=T5(e,r);return t*n/i}function _y(t,e,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=T5(e,r);return t*i/n}const TM=10000000000000000n,q2=82n*Nt,gV=q2*TM/vy;function T5(t,e=!0){const n=z2.extractDaoDataCompatible(t.dao).ar.toBigInt();return{ckbMultiplier:TM,udtMultiplier:e?n+gV:n}}function z1(t){return xn.from({...t.defaultScript("XUDT"),args:wj(_0(t))+"00000080"})}function _0(t){return t.defaultScript("ICKB_LOGIC")}function K2(t){return t.defaultScript("OWNED_OWNER")}function dE(t,e){return t.ckbMultiplier===e.ckbMultiplier&&t.udtMultiplier===e.udtMultiplier}function OM(t,e){return dE(t.ckbToUdt,e.ckbToUdt)&&dE(t.udtToCkb,e.udtToCkb)&&t.ckbMinMatchLog===e.ckbMinMatchLog}function hE(t,e,r,n,i=z1(n)){const a=O5(n),{groups:s,unknowns:o}=BM(t,e,a,i),f=yV([...s.values()].map(l=>{var p;return((p=l.master)==null?void 0:p.outPoint)??l.orders[0].info.masterOutpoint}),r,a,i),c=[],u=[];for(const[l,p]of s){const g=f.get(l);if(g===void 0){const S=p.master===void 0?[]:[p.master];o.push(...S,...p.orders.map(w=>w.cell));continue}let m=-1,A=g;for(let S=0;S<p.orders.length;S++){const w=p.orders[S];if(!OM(g.info,w.info)||!En(g.cell.cellOutput.type,w.cell.cellOutput.type)||w.info.absTotal<g.info.absTotal){o.push(w.cell);continue}if(w.info.absProgress<A.info.absProgress){o.push(w.cell);continue}if(w.info.absProgress===A.info.absProgress&&!w.info.isMint){o.push(w.cell);continue}m>=0&&o.push(A.cell),m=S,A=w}if(m===-1){p.master!==void 0&&o.push(p.master);continue}p.master!==void 0?u.push(Object.freeze({...A,master:p.master})):c.push(Object.freeze(A))}return{myOrders:u,orders:c,notOrders:o}}function yV(t,e,r,n){const i=new Map,a=s=>xn.from({...va,...s.cellOutput.lock});for(const s of new Set(t.map(o=>o.txHash)))for(const[o,f]of BM(e(s),a,r,n).groups)f.master===void 0||f.orders.length!==1||!f.orders[0].info.isMint||i.set(o,{...f.orders[0],master:f.master});return i}function BM(t,e,r,n){const i=new Map,a=o=>{const f=o.txHash+o.index;let c=i.get(f);return c===void 0&&(c={master:void 0,orders:[]},i.set(f,c)),c},s=[];for(const o of t){const{lock:f,type:c}=o.cellOutput;if(En(c,r)){const u=e(o);if(u){a(o.outPoint).master=Vt.from({...o,cellOutput:{lock:u,type:r,capacity:o.cellOutput.capacity}});continue}}else if(En(f,r)&&En(c,n)){const u=vV(o);if(u!==void 0){a(u.masterOutpoint).orders.push({cell:Vt.from({...o,cellOutput:{lock:r,type:n,capacity:o.cellOutput.capacity}}),info:u});continue}}s.push(o)}return{groups:i,unknowns:s}}function vV(t){let e;try{e=C5.unpack(t.data)}catch{return}const r=e.value.orderInfo,n=my(r.ckbToUdt),i=my(r.udtToCkb),a=DM(r.ckbMinMatchLog);if(!OM({ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a},r)||e.type==="MintOrderData"&&e.value.padding!==B5||t.cellOutput.type===void 0||t.cellOutput.type.args.length<2)return;const s=e.type==="MintOrderData",o=$o.from(e.type==="MintOrderData"?{txHash:t.outPoint.txHash,index:Sc(Number(t.outPoint.index)+e.value.masterDistance)}:e.value.masterOutpoint),f=1n<<BigInt(a),c=e.udtAmount,u=BigInt(t.cellOutput.capacity),l=EV+BigInt((t.cellOutput.type.args.length-2)/2)*Nt,p=u-l,g=n!==Co,m=i!==Co,A=g&&m,S=g?p*n.ckbMultiplier+c*n.udtMultiplier:0n,w=m?p*i.ckbMultiplier+c*i.udtMultiplier:0n,C=S===0n?w:w===0n?S:S*i.ckbMultiplier*i.udtMultiplier+w*n.ckbMultiplier*n.udtMultiplier>>1n,O=A?C:g?c*n.udtMultiplier:p*i.ckbMultiplier,M=g&&p>0n,N=m&&c>0n;return Object.freeze({isMint:s,masterOutpoint:o,ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a,ckbMinMatch:f,udtAmount:c,ckbAmount:u,ckbOccupied:l,ckbUnoccupied:p,absTotal:C,absProgress:O,isCkb2Udt:g,isUdt2Ckb:m,isDualRatio:A,isCkb2UdtMatchable:M,isUdt2CkbMatchable:N,isMatchable:M||N})}const _V=33;function mV(t,...e){const{master:r,order:n}=wV(...e);return Ea(t,"append",[],[r,n])}const pE="Order ratio are invalid";function wV(t,e,r=0n,n=0n,i=Co,a=Co,s=_V,o=z1(e)){if(i=my(i),a=my(a),s=DM(s),i===Co&&a===Co||i.ckbMultiplier*a.udtMultiplier<i.udtMultiplier*a.ckbMultiplier)throw Error(pE);const f=O5(e),c=Vt.from({lock:t,type:f});let u=Vt.from({lock:f,type:o,data:vc(C5.pack({udtAmount:n,type:"MintOrderData",value:{padding:B5,masterDistance:-1,orderInfo:{ckbToUdt:i,udtToCkb:a,ckbMinMatchLog:s}}}))});return r>0n&&(u=Vt.from({...u,capacity:Sc(BigInt(u.cellOutput.capacity)+r)})),{master:c,order:u}}function AV(t,e){return Ea(t,"append",e.flatMap(r=>[r.cell,r.master]),[])}function O5(t){return t.defaultScript("LIMIT_ORDER")}function DM(t){return t>64?64:t}function my(t){return t.ckbMultiplier===0n||t.udtMultiplier===0n?Co:Object.freeze({...t})}const Co=Object.freeze({ckbMultiplier:0n,udtMultiplier:0n}),B5="0x0000000000000000000000000000000000000000000000000000000000000000",EV=BigInt(Vt.from({lock:va,type:va,data:vc(C5.pack({udtAmount:0n,type:"MintOrderData",value:{masterDistance:0,padding:B5,orderInfo:{ckbToUdt:Co,udtToCkb:Co,ckbMinMatchLog:0}}}))}).cellOutput.capacity);function xV({rawText:t,setRawText:e,amount:r,tipHeader:n,isFrozen:i,ckbNative:a,ickbNative:s,ckbAvailable:o,ickbAvailable:f,ckbBalance:c,ickbBalance:u}){const l=t[0],p=t.slice(1),g=vM(l),m=()=>e(h6(!g)+p),A=gQ(zp(o-AM,0n),a);let S={name:"CKB",native:A,locked:c-A,status:c===a?"✅":c===o?"⌛️":"⏳"},w={name:"ICKB",native:s,locked:u-s,status:u===s?"✅":u===f?"⌛️":"⏳"};return g||([S,w]=[w,S]),_e.jsx(_e.Fragment,{children:_e.jsxs("span",{className:"grid grid-cols-3 items-center justify-items-center gap-y-4 leading-relaxed font-bold tracking-wider uppercase",children:[_e.jsx("span",{className:"text-amber-400",children:Kb(S.native,"✅")}),_e.jsx("span",{className:"text-2xl text-amber-400",children:S.name}),_e.jsx("span",{className:"cursor-wait text-amber-400",children:Kb(S.locked,S.status)}),_e.jsx("input",{placeholder:"0",disabled:i,autoFocus:!0,value:p,onChange:C=>e(l+C.target.value),autoComplete:"off",inputMode:"decimal",type:"text",className:"col-span-3 w-full rounded border-0 bg-transparent text-center text-3xl text-amber-400 outline-none disabled:cursor-default","aria-label":"Amount to be converted"}),_e.jsx("span",{className:"",children:"1 "+S.name}),_e.jsx("button",{className:"rotate-90 cursor-pointer border-0 bg-transparent text-5xl text-slate-300 disabled:cursor-default",disabled:i,onClick:m,children:"⇌"}),_e.jsx("span",{className:"text-center",children:bE(g,Nt,n)+" "+w.name}),_e.jsxs("span",{className:"col-span-3 text-center text-3xl text-amber-400",children:["⏳",bE(g,r,n)]}),_e.jsx("span",{className:"text-amber-400",children:Kb(w.native,"✅")}),_e.jsx("span",{className:"text-2xl text-amber-400",children:w.name}),_e.jsx("span",{className:"cursor-wait text-amber-400",children:Kb(w.locked,w.status)})]})})}function Kb(t,e){const r=e==="⏳";return _e.jsxs("span",{className:"flex flex-row "+(r?"cursor-wait":""),children:[_e.jsx("span",{className:r?"animate-pulse":"",children:e}),_e.jsxs("span",{className:"sm:hidden",children:[String(t/Nt),t%Nt===0n?"":"+"]}),_e.jsx("span",{className:"hidden sm:block",children:$2(t)})]})}function bE(t,e,r){let n=t?CM(e,r):_y(e,r);return n-=n/1000n,$2(n)}function Y_({txInfo:t=ql,capacities:e=new Array,udts:r=new Array,receipts:n=new Array,wrGroups:i=new Array,myOrders:a=new Array,tipHeader:s=V2}){let{tx:o}=t;const f=[t.estimatedMaturity,b1(s.epoch)];if(a.length>0){o=AV(o,a);for(const{info:l}of a){if(!l.isMatchable||l.isDualRatio)continue;const p=l.isCkb2UdtMatchable;f.push(_M(p,p?l.ckbUnoccupied:l.udtAmount,s))}}const c=[e,r,n].flat();c.length>0&&(o=Ea(o,"append",c,[])),i.length>0&&(o=lV(o,i),f.push(...i.map(l=>Bp(l.ownedWithdrawalRequest.cellOutput.type[Ns]))));const u=Object.freeze(mM(f));return Object.freeze({...t,tx:o,estimatedMaturity:u})}function SV(t,e,r,n,i,a,s){if(t.error!=="")return t;const o=[];if(!e){let A=0n;for(const S of n){const w=A+S.ickbValue;if(!(w>r)&&(A=w,o.push(Object.freeze({...S,ickbCumulative:A})),o.length>=30))break}}Object.freeze(o);const{ckbMultiplier:f,udtMultiplier:c}=T5(i),u={ckbMultiplier:f,udtMultiplier:c+(e?1n:-1n)*(c/1000n)},l=bV(i),p=e?Number(r/l):o.length,g=Array(p),m=A=>(A=p-A,g[A]=g[A]??IV(A,e,r,t,u,l,o,i,a,s));return Object.freeze(m(EQ(p,A=>m(A).error==="")))}function IV(t,e,r,n,i,a,s,o,f,c){let{tx:u}=n;const{accountLocks:l,config:p}=c,g=[n.estimatedMaturity];if(t>0)if(e){if(r-=a*BigInt(t),r<0n)return{...n,error:"Too many Deposits respectfully to the amount"};u=cV(u,t,a,p),u=pV(u,l[0],p)}else{if(s.length<t)return{...n,error:"Not enough Deposits to withdraw from"};if(r-=s[t-1].ickbCumulative,r<0n)return{...n,error:"Too many Withdrawal Requests respectfully to the amount"};s=s.slice(0,t);const S=s.map(w=>w.deposit);u=uV(u,S,p),u=hV(u,l[0],p),g.push(...s.map(w=>w.estimatedMaturity))}let m=n.fee;r>0n&&(u=mV(u,l[0],p,e?r:void 0,e?void 0:r,e?i:void 0,e?void 0:i),m+=e?r-_y(r*i.ckbMultiplier/i.udtMultiplier,o):_y(r,o)-r*i.udtMultiplier/i.ckbMultiplier,g.push(_M(e,r,o)));const A=mM(g);return MM({...n,tx:u,estimatedMaturity:A,fee:m},f,c)}function MM(t,e,r){let{tx:n}=t;const{accountLocks:i,config:a}=r;let s,o,f;({tx:n,freeIckbUdt:f}=dV(n,i[0],a)),{tx:n,txFee:s,freeCkb:o}=$Q(n,i[0],e,a);const c=t.fee+s;return t={...t,tx:n,fee:c},o<0n?{...t,error:"Not enough CKB"}:f<0n?{...t,error:"Not enough iCKB"}:n.outputs.size>64?{...t,error:"More than 64 output cells"}:t}function Q2(t,e){return{retry:!0,refetchInterval:({state:r})=>{var n;return 6e4*((n=r.data)!=null&&n.hasMatchable?1:10)},staleTime:1e4,queryKey:[t.chain,t.address,"l1State"],queryFn:async()=>{try{return await CV(t)}catch(r){throw console.log(r),r}},placeholderData:{ckbNative:6n*Nt*Nt,ickbNative:3n*Nt*Nt,ckbAvailable:6n*Nt*Nt,ickbAvailable:3n*Nt*Nt,ckbBalance:6n*Nt*Nt,ickbBalance:3n*Nt*Nt,tipHeader:V2,txBuilder:()=>ql,hasMatchable:!1},enabled:!e}}async function CV(t){const{rpc:e,config:r,expander:n,getTxSizeOverhead:i}=t,a=await TV(t),s=e.getFeeRate(61n),o=e.getTipHeader(),f=new Set;lE(a,n,re=>(f.add(re),V2),r);const u=BV(f,t),l=new Set;hE(a,n,re=>(l.add(re),[]),r);const g=OV(l,t),{capacities:m,notCapacities:A}=yQ(a,n),S=await u,{udts:w,receipts:C,withdrawalRequestGroups:O,ickbPool:M,notIckbs:N}=lE(A,n,re=>S.get(re),r),K=Td.from(await o),{mature:Q,notMature:j}=_Q(O,re=>re.ownedWithdrawalRequest.cellOutput.type[Ns],K);let W=fV(M,K,{length:4,index:1,number:0});if(W.length>40){const re=zp(Math.round(W.length/180),40);W=AQ(W.slice(0,re).map((U,P)=>({d:U,i:P}))).slice(0,40).sort((U,P)=>U.i-P.i).map(U=>U.d)}const R=await g,{myOrders:_}=hE(N,n,re=>R.get(re)??[],r),I=[],b=[];for(const re of _){const{isMatchable:U,isDualRatio:P}=re.info;U&&!P?I.push(re):b.push(re)}const v=I.length>0,d=Q.length>0||C.length>0||b.length>0;let y=Y_({capacities:m,udts:w,tipHeader:K});const x=mg(y.tx,r),E=wg(y.tx,r);y=Y_({txInfo:y,myOrders:b,receipts:C,wrGroups:Q,tipHeader:K});const h=i(y.tx),T=mg(y.tx,r),F=wg(y.tx,r),L=Y_({txInfo:y,myOrders:I,wrGroups:j,tipHeader:K}),k=mg(L.tx,r),$=wg(L.tx,r);y=Object.freeze({...y,estimatedMaturity:L.estimatedMaturity});const[H,q]=await Promise.all([h,s]),X=re=>{const U=PQ(HQ(re)+H,q),P=1249n;return(U+(P-1n))/P*P};return{ckbNative:x,ickbNative:E,ckbBalance:k,ickbBalance:$,ckbAvailable:T,ickbAvailable:F,tipHeader:K,txBuilder:(re,U)=>U>0n?SV(y,re,U,W,K,X,t):d?MM(y,X,t):Object.freeze({...y,error:"Nothing to do for now"}),hasMatchable:v}}async function RM(t){const{queryClient:e}=t,r={...t,accountLocks:[va],address:x2.encodeToAddress(va,t),expander:d6(va),getTxSizeOverhead:()=>Promise.resolve(0),sendSigned:()=>Promise.resolve("0x0")};return e.prefetchQuery(Q2(r,!1))}async function TV(t){const{accountLocks:e,config:r,rpc:n}=t;return Object.freeze((await Promise.all([...e,_0(r),K2(r),O5(r)].map(i=>n.getCellsByLock(i,"desc","max")))).flat())}async function OV(t,e){const{chain:r,rpc:n,queryClient:i}=e,a=i.getQueryData([r,"txsOutputs"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const c of t){const u=a.get(c);if(u!==void 0){s.set(c,u);continue}o.add("getTransaction",c)}if(o.length===0)return a;for(const c of(await o.exec()).map(({transaction:u})=>u))s.set(c.hash,Object.freeze(c.outputs.map(({lock:u,type:l,capacity:p},g)=>Object.freeze({cellOutput:Object.freeze({lock:Object.freeze(u),type:Object.freeze(l),capacity:Object.freeze(p)}),data:Object.freeze(c.outputsData[g]??"0x"),outPoint:Object.freeze({txHash:c.hash,index:Sc(g)})}))));const f=Object.freeze(s);return i.setQueryData([r,"txsOutputs"],f),f}async function BV(t,e){const{chain:r,rpc:n,queryClient:i}=e,a=i.getQueryData([r,"headers"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const c of t){const u=a.get(c);if(u!==void 0){s.set(c,u);continue}o.add("getHeaderByNumber",c)}if(o.length===0)return a;for(const c of await o.exec())s.set(c.number,Td.from(c));const f=Object.freeze(s);return i.setQueryData([r,"headers"],f),f}const V2=Td.from({compactTarget:"0x1a08a97e",parentHash:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionsRoot:"0x31bf3fdf4bc16d6ea195dbae808e2b9a8eca6941d589f6959b1d070d51ac28f7",proposalsHash:"0x0000000000000000000000000000000000000000000000000000000000000000",extraHash:"0x0000000000000000000000000000000000000000000000000000000000000000",dao:"0x8874337e541ea12e0000c16ff286230029bfa3320800000000710b00c0fefe06",epoch:"0x0",hash:"0x92b197aa1fba0f63633922c61c92375c9c074a93e85963554f5499fe1450d0e5",nonce:"0x0",number:"0x0",timestamp:"0x16e70e6985c",version:"0x0"});function D5(t){const e=s2.c(7),{children:r,isDone:n}=t;if(n){let o;return e[0]!==r?(o=_e.jsx("span",{className:"col-span-full w-full pb-4",children:r}),e[0]=r,e[1]=o):o=e[1],o}let i;e[2]!==r?(i=_e.jsx("span",{className:"pb-2",children:r}),e[2]=r,e[3]=i):i=e[3];let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=_e.jsxs("span",{className:"flex h-2 w-full flex-row overflow-hidden rounded",children:[_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-3.00s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.85s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.70s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.55s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.40s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.25s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.10s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.95s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.80s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.65s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.50s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.35s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.20s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.05s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.90s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.75s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.60s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.45s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.30s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.15s] [animation-duration:6s]"}),_e.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-duration:6s]"})]}),e[4]=a):a=e[4];let s;return e[5]!==i?(s=_e.jsxs("span",{className:"col-span-full flex w-full flex-col",children:[i,a]}),e[5]=i,e[6]=s):s=e[6],s}function DV({isCkb2Udt:t,amount:e,freeze:r,formReset:n,walletConfig:i}){const[a,s]=pr.useState(""),[o,f]=pr.useState(ql),c=M=>{f(M),r(M!=ql)},u=o!==ql,{data:l,isStale:p,isFetching:g}=Y4(Q2(i,u)),{txBuilder:m,tipHeader:A}=l,S=u?o:m(t,e),w=LQ(S.tx)&&S.fee>0n&&S.estimatedMaturity!==wM&&S.error==="",{maturity:C,isReady:O}=RV(S.estimatedMaturity,A);return _e.jsxs("span",{className:"grid grid-cols-2 items-center justify-items-center gap-y-4",children:[_e.jsx(D5,{isDone:!g&&!u,children:_e.jsx("button",{className:"text-s col-span-2 min-h-12 w-full cursor-pointer rounded border-2 border-amber-400 px-8 leading-relaxed font-bold tracking-wider text-amber-400 uppercase disabled:cursor-default disabled:opacity-50",onClick:p?()=>i.queryClient.invalidateQueries({queryKey:[i.chain,i.address,"l1State"]}):()=>MV(S,c,s,n,i),disabled:g||u||!w,children:u?a:g?"refreshing...":S.error!==""?S.error:w?p?`refresh before ${e>0?`converting to ${t?"iCKB":"CKB"}`:"collecting converted funds"}`:e>0?`request conversion to ${t?"iCKB":"CKB"}`:`${O?"fully":"partially"} collect converted funds`:"finding a goose egg"})}),_e.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Fee:"}),_e.jsxs("span",{children:[$2(S.fee)," CKB"]}),_e.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Maturity:"}),_e.jsx("span",{children:C})]})}async function MV(t,e,r,n,i){const{rpc:a,sendSigned:s,queryClient:o}=i;try{e(t),r("Waiting for user confirmation...");const f=await s(t.tx);let c="pending";for(;c==="pending"||c==="proposed";)r("Waiting for network confirmation..."),await new Promise(u=>setTimeout(u,1e4)),c=(await a.getTransaction(f)).txStatus.status;c==="committed"?(r("Transaction confirmed!!!"),n()):r("Something went wrong, retry in a minute"),o.invalidateQueries(Q2(i,!0)),await new Promise(u=>setTimeout(u,1e4))}finally{r(""),e(ql)}}function RV(t,e){const r=b1(e.epoch),n=t.index/t.length-r.index/r.length+t.number-r.number;return n<=0?{maturity:"⌛️ Ready",isReady:!0}:n<=.375?{maturity:`⏳ ${String(Math.ceil(n*4*60))} minutes`,isReady:!1}:n<=6?{maturity:`⏳ ${String(1+Math.ceil(n*4))} hours`,isReady:!1}:{maturity:`⏳ ${String(1+Math.ceil(n/6))} days`,isReady:!1}}function LV({walletConfig:t}){const[e,r]=pr.useState(!1),[n,i]=pr.useState(h6(!0)),a=n[0],s=vM(a);let o=KQ(n),f=QQ(o);const{ckbNative:c,ickbNative:u,ckbAvailable:l,ickbAvailable:p,ckbBalance:g,ickbBalance:m,tipHeader:A}=Y4(Q2(t,e)).data,S=s?zp(l-AM,0n):p;f>S&&(f=S,o=$2(S));const w=()=>i(h6(s)),C=pr.useDeferredValue({isCkb2Udt:s,amount:f,freeze:r,formReset:w,walletConfig:t});return A===V2?_e.jsxs(_e.Fragment,{children:[_e.jsx(fE,{walletConfig:t}),_e.jsx(D5,{children:"Downloading the latest L1 Cell data, just for you. Hang tight!"})]}):_e.jsxs(_e.Fragment,{children:[_e.jsx(fE,{walletConfig:t}),_e.jsx(xV,{rawText:a+o,setRawText:i,amount:f,tipHeader:A,isFrozen:e,ckbNative:c,ickbNative:u,ckbAvailable:l,ickbAvailable:p,ckbBalance:g,ickbBalance:m}),_e.jsx(DV,{...C})]})}var qo={},Y2={};Y2.byteLength=NV;Y2.toByteArray=kV;Y2.fromByteArray=FV;var Bs=[],Ji=[],HV=typeof Uint8Array<"u"?Uint8Array:Array,G_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var il=0,PV=G_.length;il<PV;++il)Bs[il]=G_[il],Ji[G_.charCodeAt(il)]=il;Ji[45]=62;Ji[95]=63;function LM(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function NV(t){var e=LM(t),r=e[0],n=e[1];return(r+n)*3/4-n}function UV(t,e,r){return(e+r)*3/4-r}function kV(t){var e,r=LM(t),n=r[0],i=r[1],a=new HV(UV(t,n,i)),s=0,o=i>0?n-4:n,f;for(f=0;f<o;f+=4)e=Ji[t.charCodeAt(f)]<<18|Ji[t.charCodeAt(f+1)]<<12|Ji[t.charCodeAt(f+2)]<<6|Ji[t.charCodeAt(f+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=Ji[t.charCodeAt(f)]<<2|Ji[t.charCodeAt(f+1)]>>4,a[s++]=e&255),i===1&&(e=Ji[t.charCodeAt(f)]<<10|Ji[t.charCodeAt(f+1)]<<4|Ji[t.charCodeAt(f+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function zV(t){return Bs[t>>18&63]+Bs[t>>12&63]+Bs[t>>6&63]+Bs[t&63]}function jV(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(zV(n));return i.join("")}function FV(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(jV(t,s,s+a>o?o:s+a));return n===1?(e=t[r-1],i.push(Bs[e>>2]+Bs[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Bs[e>>10]+Bs[e>>4&63]+Bs[e<<2&63]+"=")),i.join("")}var M5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */M5.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,c=f>>1,u=-7,l=r?i-1:0,p=r?-1:1,g=t[e+l];for(l+=p,a=g&(1<<-u)-1,g>>=-u,u+=o;u>0;a=a*256+t[e+l],l+=p,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+t[e+l],l+=p,u-=8);if(a===0)a=1-c;else{if(a===f)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(g?-1:1)*s*Math.pow(2,a-n)};M5.write=function(t,e,r,n,i,a){var s,o,f,c=a*8-i-1,u=(1<<c)-1,l=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,m=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+l>=1?e+=p/f:e+=p*Math.pow(2,1-l),e*f>=2&&(s++,f/=2),s+l>=u?(o=0,s=u):s+l>=1?(o=(e*f-1)*Math.pow(2,i),s=s+l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+g]=o&255,g+=m,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+g]=s&255,g+=m,s/=256,c-=8);t[r+g-m]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Y2,r=M5,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const z=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(z,B),z.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const B=new Uint8Array(z);return Object.setPrototypeOf(B,o.prototype),B}function o(z,B,D){if(typeof z=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(z)}return f(z,B,D)}o.poolSize=8192;function f(z,B,D){if(typeof z=="string")return p(z,B);if(ArrayBuffer.isView(z))return m(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Se(z,ArrayBuffer)||z&&Se(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(z,SharedArrayBuffer)||z&&Se(z.buffer,SharedArrayBuffer)))return A(z,B,D);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=z.valueOf&&z.valueOf();if(V!=null&&V!==z)return o.from(V,B,D);const ae=S(z);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return o.from(z[Symbol.toPrimitive]("string"),B,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}o.from=function(z,B,D){return f(z,B,D)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function u(z,B,D){return c(z),z<=0?s(z):B!==void 0?typeof D=="string"?s(z).fill(B,D):s(z).fill(B):s(z)}o.alloc=function(z,B,D){return u(z,B,D)};function l(z){return c(z),s(z<0?0:w(z)|0)}o.allocUnsafe=function(z){return l(z)},o.allocUnsafeSlow=function(z){return l(z)};function p(z,B){if((typeof B!="string"||B==="")&&(B="utf8"),!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const D=O(z,B)|0;let V=s(D);const ae=V.write(z,B);return ae!==D&&(V=V.slice(0,ae)),V}function g(z){const B=z.length<0?0:w(z.length)|0,D=s(B);for(let V=0;V<B;V+=1)D[V]=z[V]&255;return D}function m(z){if(Se(z,Uint8Array)){const B=new Uint8Array(z);return A(B.buffer,B.byteOffset,B.byteLength)}return g(z)}function A(z,B,D){if(B<0||z.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<B+(D||0))throw new RangeError('"length" is outside of buffer bounds');let V;return B===void 0&&D===void 0?V=new Uint8Array(z):D===void 0?V=new Uint8Array(z,B):V=new Uint8Array(z,B,D),Object.setPrototypeOf(V,o.prototype),V}function S(z){if(o.isBuffer(z)){const B=w(z.length)|0,D=s(B);return D.length===0||z.copy(D,0,0,B),D}if(z.length!==void 0)return typeof z.length!="number"||zt(z.length)?s(0):g(z);if(z.type==="Buffer"&&Array.isArray(z.data))return g(z.data)}function w(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function C(z){return+z!=z&&(z=0),o.alloc(+z)}o.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==o.prototype},o.compare=function(B,D){if(Se(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),Se(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),!o.isBuffer(B)||!o.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===D)return 0;let V=B.length,ae=D.length;for(let ce=0,le=Math.min(V,ae);ce<le;++ce)if(B[ce]!==D[ce]){V=B[ce],ae=D[ce];break}return V<ae?-1:ae<V?1:0},o.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(B,D){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return o.alloc(0);let V;if(D===void 0)for(D=0,V=0;V<B.length;++V)D+=B[V].length;const ae=o.allocUnsafe(D);let ce=0;for(V=0;V<B.length;++V){let le=B[V];if(Se(le,Uint8Array))ce+le.length>ae.length?(o.isBuffer(le)||(le=o.from(le)),le.copy(ae,ce)):Uint8Array.prototype.set.call(ae,le,ce);else if(o.isBuffer(le))le.copy(ae,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=le.length}return ae};function O(z,B){if(o.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Se(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const D=z.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&D===0)return 0;let ae=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return J(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return ye(z).length;default:if(ae)return V?-1:J(z).length;B=(""+B).toLowerCase(),ae=!0}}o.byteLength=O;function M(z,B,D){let V=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,B>>>=0,D<=B))return"";for(z||(z="utf8");;)switch(z){case"hex":return E(this,B,D);case"utf8":case"utf-8":return b(this,B,D);case"ascii":return y(this,B,D);case"latin1":case"binary":return x(this,B,D);case"base64":return I(this,B,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,B,D);default:if(V)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),V=!0}}o.prototype._isBuffer=!0;function N(z,B,D){const V=z[B];z[B]=z[D],z[D]=V}o.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<B;D+=2)N(this,D,D+1);return this},o.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<B;D+=4)N(this,D,D+3),N(this,D+1,D+2);return this},o.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<B;D+=8)N(this,D,D+7),N(this,D+1,D+6),N(this,D+2,D+5),N(this,D+3,D+4);return this},o.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?b(this,0,B):M.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(B){if(!o.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:o.compare(this,B)===0},o.prototype.inspect=function(){let B="";const D=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(B+=" ... "),"<Buffer "+B+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(B,D,V,ae,ce){if(Se(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(D===void 0&&(D=0),V===void 0&&(V=B?B.length:0),ae===void 0&&(ae=0),ce===void 0&&(ce=this.length),D<0||V>B.length||ae<0||ce>this.length)throw new RangeError("out of range index");if(ae>=ce&&D>=V)return 0;if(ae>=ce)return-1;if(D>=V)return 1;if(D>>>=0,V>>>=0,ae>>>=0,ce>>>=0,this===B)return 0;let le=ce-ae,Oe=V-D;const nt=Math.min(le,Oe),Re=this.slice(ae,ce),Le=B.slice(D,V);for(let Ze=0;Ze<nt;++Ze)if(Re[Ze]!==Le[Ze]){le=Re[Ze],Oe=Le[Ze];break}return le<Oe?-1:Oe<le?1:0};function K(z,B,D,V,ae){if(z.length===0)return-1;if(typeof D=="string"?(V=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,zt(D)&&(D=ae?0:z.length-1),D<0&&(D=z.length+D),D>=z.length){if(ae)return-1;D=z.length-1}else if(D<0)if(ae)D=0;else return-1;if(typeof B=="string"&&(B=o.from(B,V)),o.isBuffer(B))return B.length===0?-1:Q(z,B,D,V,ae);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(z,B,D):Uint8Array.prototype.lastIndexOf.call(z,B,D):Q(z,[B],D,V,ae);throw new TypeError("val must be string, number or Buffer")}function Q(z,B,D,V,ae){let ce=1,le=z.length,Oe=B.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(z.length<2||B.length<2)return-1;ce=2,le/=2,Oe/=2,D/=2}function nt(Le,Ze){return ce===1?Le[Ze]:Le.readUInt16BE(Ze*ce)}let Re;if(ae){let Le=-1;for(Re=D;Re<le;Re++)if(nt(z,Re)===nt(B,Le===-1?0:Re-Le)){if(Le===-1&&(Le=Re),Re-Le+1===Oe)return Le*ce}else Le!==-1&&(Re-=Re-Le),Le=-1}else for(D+Oe>le&&(D=le-Oe),Re=D;Re>=0;Re--){let Le=!0;for(let Ze=0;Ze<Oe;Ze++)if(nt(z,Re+Ze)!==nt(B,Ze)){Le=!1;break}if(Le)return Re}return-1}o.prototype.includes=function(B,D,V){return this.indexOf(B,D,V)!==-1},o.prototype.indexOf=function(B,D,V){return K(this,B,D,V,!0)},o.prototype.lastIndexOf=function(B,D,V){return K(this,B,D,V,!1)};function j(z,B,D,V){D=Number(D)||0;const ae=z.length-D;V?(V=Number(V),V>ae&&(V=ae)):V=ae;const ce=B.length;V>ce/2&&(V=ce/2);let le;for(le=0;le<V;++le){const Oe=parseInt(B.substr(le*2,2),16);if(zt(Oe))return le;z[D+le]=Oe}return le}function G(z,B,D,V){return ge(J(B,z.length-D),z,D,V)}function W(z,B,D,V){return ge(ie(B),z,D,V)}function R(z,B,D,V){return ge(ye(B),z,D,V)}function _(z,B,D,V){return ge(ue(B,z.length-D),z,D,V)}o.prototype.write=function(B,D,V,ae){if(D===void 0)ae="utf8",V=this.length,D=0;else if(V===void 0&&typeof D=="string")ae=D,V=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(V)?(V=V>>>0,ae===void 0&&(ae="utf8")):(ae=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-D;if((V===void 0||V>ce)&&(V=ce),B.length>0&&(V<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let le=!1;for(;;)switch(ae){case"hex":return j(this,B,D,V);case"utf8":case"utf-8":return G(this,B,D,V);case"ascii":case"latin1":case"binary":return W(this,B,D,V);case"base64":return R(this,B,D,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,B,D,V);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),le=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(z,B,D){return B===0&&D===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(B,D))}function b(z,B,D){D=Math.min(z.length,D);const V=[];let ae=B;for(;ae<D;){const ce=z[ae];let le=null,Oe=ce>239?4:ce>223?3:ce>191?2:1;if(ae+Oe<=D){let nt,Re,Le,Ze;switch(Oe){case 1:ce<128&&(le=ce);break;case 2:nt=z[ae+1],(nt&192)===128&&(Ze=(ce&31)<<6|nt&63,Ze>127&&(le=Ze));break;case 3:nt=z[ae+1],Re=z[ae+2],(nt&192)===128&&(Re&192)===128&&(Ze=(ce&15)<<12|(nt&63)<<6|Re&63,Ze>2047&&(Ze<55296||Ze>57343)&&(le=Ze));break;case 4:nt=z[ae+1],Re=z[ae+2],Le=z[ae+3],(nt&192)===128&&(Re&192)===128&&(Le&192)===128&&(Ze=(ce&15)<<18|(nt&63)<<12|(Re&63)<<6|Le&63,Ze>65535&&Ze<1114112&&(le=Ze))}}le===null?(le=65533,Oe=1):le>65535&&(le-=65536,V.push(le>>>10&1023|55296),le=56320|le&1023),V.push(le),ae+=Oe}return d(V)}const v=4096;function d(z){const B=z.length;if(B<=v)return String.fromCharCode.apply(String,z);let D="",V=0;for(;V<B;)D+=String.fromCharCode.apply(String,z.slice(V,V+=v));return D}function y(z,B,D){let V="";D=Math.min(z.length,D);for(let ae=B;ae<D;++ae)V+=String.fromCharCode(z[ae]&127);return V}function x(z,B,D){let V="";D=Math.min(z.length,D);for(let ae=B;ae<D;++ae)V+=String.fromCharCode(z[ae]);return V}function E(z,B,D){const V=z.length;(!B||B<0)&&(B=0),(!D||D<0||D>V)&&(D=V);let ae="";for(let ce=B;ce<D;++ce)ae+=He[z[ce]];return ae}function h(z,B,D){const V=z.slice(B,D);let ae="";for(let ce=0;ce<V.length-1;ce+=2)ae+=String.fromCharCode(V[ce]+V[ce+1]*256);return ae}o.prototype.slice=function(B,D){const V=this.length;B=~~B,D=D===void 0?V:~~D,B<0?(B+=V,B<0&&(B=0)):B>V&&(B=V),D<0?(D+=V,D<0&&(D=0)):D>V&&(D=V),D<B&&(D=B);const ae=this.subarray(B,D);return Object.setPrototypeOf(ae,o.prototype),ae};function T(z,B,D){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+B>D)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(B,D,V){B=B>>>0,D=D>>>0,V||T(B,D,this.length);let ae=this[B],ce=1,le=0;for(;++le<D&&(ce*=256);)ae+=this[B+le]*ce;return ae},o.prototype.readUintBE=o.prototype.readUIntBE=function(B,D,V){B=B>>>0,D=D>>>0,V||T(B,D,this.length);let ae=this[B+--D],ce=1;for(;D>0&&(ce*=256);)ae+=this[B+--D]*ce;return ae},o.prototype.readUint8=o.prototype.readUInt8=function(B,D){return B=B>>>0,D||T(B,1,this.length),this[B]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(B,D){return B=B>>>0,D||T(B,2,this.length),this[B]|this[B+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(B,D){return B=B>>>0,D||T(B,2,this.length),this[B]<<8|this[B+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(B,D){return B=B>>>0,D||T(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(B,D){return B=B>>>0,D||T(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},o.prototype.readBigUInt64LE=$e(function(B){B=B>>>0,ne(B,"offset");const D=this[B],V=this[B+7];(D===void 0||V===void 0)&&fe(B,this.length-8);const ae=D+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,ce=this[++B]+this[++B]*2**8+this[++B]*2**16+V*2**24;return BigInt(ae)+(BigInt(ce)<<BigInt(32))}),o.prototype.readBigUInt64BE=$e(function(B){B=B>>>0,ne(B,"offset");const D=this[B],V=this[B+7];(D===void 0||V===void 0)&&fe(B,this.length-8);const ae=D*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],ce=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+V;return(BigInt(ae)<<BigInt(32))+BigInt(ce)}),o.prototype.readIntLE=function(B,D,V){B=B>>>0,D=D>>>0,V||T(B,D,this.length);let ae=this[B],ce=1,le=0;for(;++le<D&&(ce*=256);)ae+=this[B+le]*ce;return ce*=128,ae>=ce&&(ae-=Math.pow(2,8*D)),ae},o.prototype.readIntBE=function(B,D,V){B=B>>>0,D=D>>>0,V||T(B,D,this.length);let ae=D,ce=1,le=this[B+--ae];for(;ae>0&&(ce*=256);)le+=this[B+--ae]*ce;return ce*=128,le>=ce&&(le-=Math.pow(2,8*D)),le},o.prototype.readInt8=function(B,D){return B=B>>>0,D||T(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},o.prototype.readInt16LE=function(B,D){B=B>>>0,D||T(B,2,this.length);const V=this[B]|this[B+1]<<8;return V&32768?V|4294901760:V},o.prototype.readInt16BE=function(B,D){B=B>>>0,D||T(B,2,this.length);const V=this[B+1]|this[B]<<8;return V&32768?V|4294901760:V},o.prototype.readInt32LE=function(B,D){return B=B>>>0,D||T(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},o.prototype.readInt32BE=function(B,D){return B=B>>>0,D||T(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},o.prototype.readBigInt64LE=$e(function(B){B=B>>>0,ne(B,"offset");const D=this[B],V=this[B+7];(D===void 0||V===void 0)&&fe(B,this.length-8);const ae=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(V<<24);return(BigInt(ae)<<BigInt(32))+BigInt(D+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),o.prototype.readBigInt64BE=$e(function(B){B=B>>>0,ne(B,"offset");const D=this[B],V=this[B+7];(D===void 0||V===void 0)&&fe(B,this.length-8);const ae=(D<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(ae)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+V)}),o.prototype.readFloatLE=function(B,D){return B=B>>>0,D||T(B,4,this.length),r.read(this,B,!0,23,4)},o.prototype.readFloatBE=function(B,D){return B=B>>>0,D||T(B,4,this.length),r.read(this,B,!1,23,4)},o.prototype.readDoubleLE=function(B,D){return B=B>>>0,D||T(B,8,this.length),r.read(this,B,!0,52,8)},o.prototype.readDoubleBE=function(B,D){return B=B>>>0,D||T(B,8,this.length),r.read(this,B,!1,52,8)};function F(z,B,D,V,ae,ce){if(!o.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ae||B<ce)throw new RangeError('"value" argument is out of bounds');if(D+V>z.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(B,D,V,ae){if(B=+B,D=D>>>0,V=V>>>0,!ae){const Oe=Math.pow(2,8*V)-1;F(this,B,D,V,Oe,0)}let ce=1,le=0;for(this[D]=B&255;++le<V&&(ce*=256);)this[D+le]=B/ce&255;return D+V},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(B,D,V,ae){if(B=+B,D=D>>>0,V=V>>>0,!ae){const Oe=Math.pow(2,8*V)-1;F(this,B,D,V,Oe,0)}let ce=V-1,le=1;for(this[D+ce]=B&255;--ce>=0&&(le*=256);)this[D+ce]=B/le&255;return D+V},o.prototype.writeUint8=o.prototype.writeUInt8=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,1,255,0),this[D]=B&255,D+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,2,65535,0),this[D]=B&255,this[D+1]=B>>>8,D+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,2,65535,0),this[D]=B>>>8,this[D+1]=B&255,D+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,4,4294967295,0),this[D+3]=B>>>24,this[D+2]=B>>>16,this[D+1]=B>>>8,this[D]=B&255,D+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,4,4294967295,0),this[D]=B>>>24,this[D+1]=B>>>16,this[D+2]=B>>>8,this[D+3]=B&255,D+4};function L(z,B,D,V,ae){P(B,V,ae,z,D,7);let ce=Number(B&BigInt(4294967295));z[D++]=ce,ce=ce>>8,z[D++]=ce,ce=ce>>8,z[D++]=ce,ce=ce>>8,z[D++]=ce;let le=Number(B>>BigInt(32)&BigInt(4294967295));return z[D++]=le,le=le>>8,z[D++]=le,le=le>>8,z[D++]=le,le=le>>8,z[D++]=le,D}function k(z,B,D,V,ae){P(B,V,ae,z,D,7);let ce=Number(B&BigInt(4294967295));z[D+7]=ce,ce=ce>>8,z[D+6]=ce,ce=ce>>8,z[D+5]=ce,ce=ce>>8,z[D+4]=ce;let le=Number(B>>BigInt(32)&BigInt(4294967295));return z[D+3]=le,le=le>>8,z[D+2]=le,le=le>>8,z[D+1]=le,le=le>>8,z[D]=le,D+8}o.prototype.writeBigUInt64LE=$e(function(B,D=0){return L(this,B,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=$e(function(B,D=0){return k(this,B,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(B,D,V,ae){if(B=+B,D=D>>>0,!ae){const nt=Math.pow(2,8*V-1);F(this,B,D,V,nt-1,-nt)}let ce=0,le=1,Oe=0;for(this[D]=B&255;++ce<V&&(le*=256);)B<0&&Oe===0&&this[D+ce-1]!==0&&(Oe=1),this[D+ce]=(B/le>>0)-Oe&255;return D+V},o.prototype.writeIntBE=function(B,D,V,ae){if(B=+B,D=D>>>0,!ae){const nt=Math.pow(2,8*V-1);F(this,B,D,V,nt-1,-nt)}let ce=V-1,le=1,Oe=0;for(this[D+ce]=B&255;--ce>=0&&(le*=256);)B<0&&Oe===0&&this[D+ce+1]!==0&&(Oe=1),this[D+ce]=(B/le>>0)-Oe&255;return D+V},o.prototype.writeInt8=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,1,127,-128),B<0&&(B=255+B+1),this[D]=B&255,D+1},o.prototype.writeInt16LE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,2,32767,-32768),this[D]=B&255,this[D+1]=B>>>8,D+2},o.prototype.writeInt16BE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,2,32767,-32768),this[D]=B>>>8,this[D+1]=B&255,D+2},o.prototype.writeInt32LE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,4,2147483647,-2147483648),this[D]=B&255,this[D+1]=B>>>8,this[D+2]=B>>>16,this[D+3]=B>>>24,D+4},o.prototype.writeInt32BE=function(B,D,V){return B=+B,D=D>>>0,V||F(this,B,D,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[D]=B>>>24,this[D+1]=B>>>16,this[D+2]=B>>>8,this[D+3]=B&255,D+4},o.prototype.writeBigInt64LE=$e(function(B,D=0){return L(this,B,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=$e(function(B,D=0){return k(this,B,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(z,B,D,V,ae,ce){if(D+V>z.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function H(z,B,D,V,ae){return B=+B,D=D>>>0,ae||$(z,B,D,4),r.write(z,B,D,V,23,4),D+4}o.prototype.writeFloatLE=function(B,D,V){return H(this,B,D,!0,V)},o.prototype.writeFloatBE=function(B,D,V){return H(this,B,D,!1,V)};function q(z,B,D,V,ae){return B=+B,D=D>>>0,ae||$(z,B,D,8),r.write(z,B,D,V,52,8),D+8}o.prototype.writeDoubleLE=function(B,D,V){return q(this,B,D,!0,V)},o.prototype.writeDoubleBE=function(B,D,V){return q(this,B,D,!1,V)},o.prototype.copy=function(B,D,V,ae){if(!o.isBuffer(B))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ae&&ae!==0&&(ae=this.length),D>=B.length&&(D=B.length),D||(D=0),ae>0&&ae<V&&(ae=V),ae===V||B.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),B.length-D<ae-V&&(ae=B.length-D+V);const ce=ae-V;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,V,ae):Uint8Array.prototype.set.call(B,this.subarray(V,ae),D),ce},o.prototype.fill=function(B,D,V,ae){if(typeof B=="string"){if(typeof D=="string"?(ae=D,D=0,V=this.length):typeof V=="string"&&(ae=V,V=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!o.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(B.length===1){const le=B.charCodeAt(0);(ae==="utf8"&&le<128||ae==="latin1")&&(B=le)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(D<0||this.length<D||this.length<V)throw new RangeError("Out of range index");if(V<=D)return this;D=D>>>0,V=V===void 0?this.length:V>>>0,B||(B=0);let ce;if(typeof B=="number")for(ce=D;ce<V;++ce)this[ce]=B;else{const le=o.isBuffer(B)?B:o.from(B,ae),Oe=le.length;if(Oe===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(ce=0;ce<V-D;++ce)this[ce+D]=le[ce%Oe]}return this};const X={};function te(z,B,D){X[z]=class extends D{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(z,B){return`The "${z}" argument must be of type number. Received type ${typeof B}`},TypeError),te("ERR_OUT_OF_RANGE",function(z,B,D){let V=`The value of "${z}" is out of range.`,ae=D;return Number.isInteger(D)&&Math.abs(D)>2**32?ae=re(String(D)):typeof D=="bigint"&&(ae=String(D),(D>BigInt(2)**BigInt(32)||D<-(BigInt(2)**BigInt(32)))&&(ae=re(ae)),ae+="n"),V+=` It must be ${B}. Received ${ae}`,V},RangeError);function re(z){let B="",D=z.length;const V=z[0]==="-"?1:0;for(;D>=V+4;D-=3)B=`_${z.slice(D-3,D)}${B}`;return`${z.slice(0,D)}${B}`}function U(z,B,D){ne(B,"offset"),(z[B]===void 0||z[B+D]===void 0)&&fe(B,z.length-(D+1))}function P(z,B,D,V,ae,ce){if(z>D||z<B){const le=typeof B=="bigint"?"n":"";let Oe;throw B===0||B===BigInt(0)?Oe=`>= 0${le} and < 2${le} ** ${(ce+1)*8}${le}`:Oe=`>= -(2${le} ** ${(ce+1)*8-1}${le}) and < 2 ** ${(ce+1)*8-1}${le}`,new X.ERR_OUT_OF_RANGE("value",Oe,z)}U(V,ae,ce)}function ne(z,B){if(typeof z!="number")throw new X.ERR_INVALID_ARG_TYPE(B,"number",z)}function fe(z,B,D){throw Math.floor(z)!==z?(ne(z,D),new X.ERR_OUT_OF_RANGE("offset","an integer",z)):B<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,z)}const de=/[^+/0-9A-Za-z-_]/g;function Y(z){if(z=z.split("=")[0],z=z.trim().replace(de,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function J(z,B){B=B||1/0;let D;const V=z.length;let ae=null;const ce=[];for(let le=0;le<V;++le){if(D=z.charCodeAt(le),D>55295&&D<57344){if(!ae){if(D>56319){(B-=3)>-1&&ce.push(239,191,189);continue}else if(le+1===V){(B-=3)>-1&&ce.push(239,191,189);continue}ae=D;continue}if(D<56320){(B-=3)>-1&&ce.push(239,191,189),ae=D;continue}D=(ae-55296<<10|D-56320)+65536}else ae&&(B-=3)>-1&&ce.push(239,191,189);if(ae=null,D<128){if((B-=1)<0)break;ce.push(D)}else if(D<2048){if((B-=2)<0)break;ce.push(D>>6|192,D&63|128)}else if(D<65536){if((B-=3)<0)break;ce.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((B-=4)<0)break;ce.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ce}function ie(z){const B=[];for(let D=0;D<z.length;++D)B.push(z.charCodeAt(D)&255);return B}function ue(z,B){let D,V,ae;const ce=[];for(let le=0;le<z.length&&!((B-=2)<0);++le)D=z.charCodeAt(le),V=D>>8,ae=D%256,ce.push(ae),ce.push(V);return ce}function ye(z){return e.toByteArray(Y(z))}function ge(z,B,D,V){let ae;for(ae=0;ae<V&&!(ae+D>=B.length||ae>=z.length);++ae)B[ae+D]=z[ae];return ae}function Se(z,B){return z instanceof B||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===B.name}function zt(z){return z!==z}const He=function(){const z="0123456789abcdef",B=new Array(256);for(let D=0;D<16;++D){const V=D*16;for(let ae=0;ae<16;++ae)B[V+ae]=z[D]+z[ae]}return B}();function $e(z){return typeof BigInt>"u"?fn:z}function fn(){throw new Error("BigInt not supported")}})(qo);function j1(...t){return new Uint8Array(t.reduce((e,r)=>(e.push(...Te(r)),e),[]))}function $V(t,e){return qo.Buffer.from(Te(t)).toString(e)}function Te(t,e){if(t instanceof Uint8Array)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(e!==void 0)return qo.Buffer.from(t,e);const n=t.startsWith("0x")?t.slice(2):t,i=n.length%2===0?n:`0${n}`,a=qo.Buffer.from(i,"hex");if(a.length*2!==i.length)throw new Error(`Invalid bytes ${t}`);return a}if(Array.from(t).some(n=>n<0||255<n))throw new Error(`Invalid bytes ${JSON.stringify(t)}`);return new Uint8Array(t)}function sp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function qV(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function R5(t,...e){if(!qV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Rd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function L5(t,e){R5(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jp=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),W_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gs=(t,e)=>t<<32-e|t>>>e,Qb=(t,e)=>t<<e|t>>>32-e>>>0,co=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,HM=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,fo=co?t=>t:t=>HM(t);function Cf(t){for(let e=0;e<t.length;e++)t[e]=HM(t[e])}function KV(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function rc(t){return typeof t=="string"&&(t=KV(t)),R5(t),t}let H5=class{clone(){return this._cloneInto()}};function P5(t){const e=n=>t().update(rc(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function QV(t){const e=(n,i)=>t(i).update(rc(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const VV=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class YV extends H5{constructor(e,r,n={},i,a,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,sp(e),sp(r),sp(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error("key length must be undefined or 1.."+i);if(n.salt!==void 0&&n.salt.length!==a)throw new Error("salt must be undefined or "+a);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error("personalization must be undefined or "+s);this.buffer=new Uint8Array(e),this.buffer32=jp(this.buffer)}update(e){Rd(this);const{blockLen:r,buffer:n,buffer32:i}=this;e=rc(e);const a=e.length,s=e.byteOffset,o=e.buffer;for(let f=0;f<a;){this.pos===r&&(co||Cf(i),this.compress(i,0,!1),co||Cf(i),this.pos=0);const c=Math.min(r-this.pos,a-f),u=s+f;if(c===r&&!(u%4)&&f+c<a){const l=new Uint32Array(o,u,Math.floor((a-f)/4));co||Cf(l);for(let p=0;f+r<a;p+=i.length,f+=r)this.length+=r,this.compress(l,p,!1);co||Cf(l);continue}n.set(e.subarray(f,f+c),this.pos),this.pos+=c,this.length+=c,f+=c}return this}digestInto(e){Rd(this),L5(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),co||Cf(n),this.compress(n,0,!0),co||Cf(n);const i=jp(e);this.get().forEach((a,s)=>i[s]=fo(a))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:a,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=a,e.outputLen=s,e.buffer.set(r),e.pos=o,e}}const Vb=BigInt(2**32-1),b6=BigInt(32);function PM(t,e=!1){return e?{h:Number(t&Vb),l:Number(t>>b6&Vb)}:{h:Number(t>>b6&Vb)|0,l:Number(t&Vb)|0}}function NM(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=PM(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const GV=(t,e)=>BigInt(t>>>0)<<b6|BigInt(e>>>0),WV=(t,e,r)=>t>>>r,XV=(t,e,r)=>t<<32-r|e>>>r,ZV=(t,e,r)=>t>>>r|e<<32-r,JV=(t,e,r)=>t<<32-r|e>>>r,eY=(t,e,r)=>t<<64-r|e>>>r-32,tY=(t,e,r)=>t>>>r-32|e<<64-r,rY=(t,e)=>e,nY=(t,e)=>t,UM=(t,e,r)=>t<<r|e>>>32-r,kM=(t,e,r)=>e<<r|t>>>32-r,zM=(t,e,r)=>e<<r-32|t>>>64-r,jM=(t,e,r)=>t<<r-32|e>>>64-r;function iY(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const aY=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),sY=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,oY=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),fY=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,cY=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),uY=(t,e,r,n,i,a)=>e+r+n+i+a+(t/2**32|0)|0,kn={fromBig:PM,split:NM,toBig:GV,shrSH:WV,shrSL:XV,rotrSH:ZV,rotrSL:JV,rotrBH:eY,rotrBL:tY,rotr32H:rY,rotr32L:nY,rotlSH:UM,rotlSL:kM,rotlBH:zM,rotlBL:jM,add:iY,add3L:aY,add3H:sY,add4L:oY,add4H:fY,add5H:uY,add5L:cY},mr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ae=new Uint32Array(32);function uf(t,e,r,n,i,a){const s=i[a],o=i[a+1];let f=Ae[2*t],c=Ae[2*t+1],u=Ae[2*e],l=Ae[2*e+1],p=Ae[2*r],g=Ae[2*r+1],m=Ae[2*n],A=Ae[2*n+1],S=kn.add3L(f,u,s);c=kn.add3H(S,c,l,o),f=S|0,{Dh:A,Dl:m}={Dh:A^c,Dl:m^f},{Dh:A,Dl:m}={Dh:kn.rotr32H(A,m),Dl:kn.rotr32L(A,m)},{h:g,l:p}=kn.add(g,p,A,m),{Bh:l,Bl:u}={Bh:l^g,Bl:u^p},{Bh:l,Bl:u}={Bh:kn.rotrSH(l,u,24),Bl:kn.rotrSL(l,u,24)},Ae[2*t]=f,Ae[2*t+1]=c,Ae[2*e]=u,Ae[2*e+1]=l,Ae[2*r]=p,Ae[2*r+1]=g,Ae[2*n]=m,Ae[2*n+1]=A}function lf(t,e,r,n,i,a){const s=i[a],o=i[a+1];let f=Ae[2*t],c=Ae[2*t+1],u=Ae[2*e],l=Ae[2*e+1],p=Ae[2*r],g=Ae[2*r+1],m=Ae[2*n],A=Ae[2*n+1],S=kn.add3L(f,u,s);c=kn.add3H(S,c,l,o),f=S|0,{Dh:A,Dl:m}={Dh:A^c,Dl:m^f},{Dh:A,Dl:m}={Dh:kn.rotrSH(A,m,16),Dl:kn.rotrSL(A,m,16)},{h:g,l:p}=kn.add(g,p,A,m),{Bh:l,Bl:u}={Bh:l^g,Bl:u^p},{Bh:l,Bl:u}={Bh:kn.rotrBH(l,u,63),Bl:kn.rotrBL(l,u,63)},Ae[2*t]=f,Ae[2*t+1]=c,Ae[2*e]=u,Ae[2*e+1]=l,Ae[2*r]=p,Ae[2*r+1]=g,Ae[2*n]=m,Ae[2*n+1]=A}class lY extends YV{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=mr[0]|0,this.v0h=mr[1]|0,this.v1l=mr[2]|0,this.v1h=mr[3]|0,this.v2l=mr[4]|0,this.v2h=mr[5]|0,this.v3l=mr[6]|0,this.v3h=mr[7]|0,this.v4l=mr[8]|0,this.v4h=mr[9]|0,this.v5l=mr[10]|0,this.v5h=mr[11]|0,this.v6l=mr[12]|0,this.v6h=mr[13]|0,this.v7l=mr[14]|0,this.v7h=mr[15]|0;const r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){const n=jp(rc(e.salt));this.v4l^=fo(n[0]),this.v4h^=fo(n[1]),this.v5l^=fo(n[2]),this.v5h^=fo(n[3])}if(e.personalization){const n=jp(rc(e.personalization));this.v6l^=fo(n[0]),this.v6h^=fo(n[1]),this.v7l^=fo(n[2]),this.v7h^=fo(n[3])}if(e.key){const n=new Uint8Array(this.blockLen);n.set(rc(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:a,v2h:s,v3l:o,v3h:f,v4l:c,v4h:u,v5l:l,v5h:p,v6l:g,v6h:m,v7l:A,v7h:S}=this;return[e,r,n,i,a,s,o,f,c,u,l,p,g,m,A,S]}set(e,r,n,i,a,s,o,f,c,u,l,p,g,m,A,S){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=a|0,this.v2h=s|0,this.v3l=o|0,this.v3h=f|0,this.v4l=c|0,this.v4h=u|0,this.v5l=l|0,this.v5h=p|0,this.v6l=g|0,this.v6h=m|0,this.v7l=A|0,this.v7h=S|0}compress(e,r,n){this.get().forEach((f,c)=>Ae[c]=f),Ae.set(mr,16);let{h:i,l:a}=kn.fromBig(BigInt(this.length));Ae[24]=mr[8]^a,Ae[25]=mr[9]^i,n&&(Ae[28]=~Ae[28],Ae[29]=~Ae[29]);let s=0;const o=VV;for(let f=0;f<12;f++)uf(0,4,8,12,e,r+2*o[s++]),lf(0,4,8,12,e,r+2*o[s++]),uf(1,5,9,13,e,r+2*o[s++]),lf(1,5,9,13,e,r+2*o[s++]),uf(2,6,10,14,e,r+2*o[s++]),lf(2,6,10,14,e,r+2*o[s++]),uf(3,7,11,15,e,r+2*o[s++]),lf(3,7,11,15,e,r+2*o[s++]),uf(0,5,10,15,e,r+2*o[s++]),lf(0,5,10,15,e,r+2*o[s++]),uf(1,6,11,12,e,r+2*o[s++]),lf(1,6,11,12,e,r+2*o[s++]),uf(2,7,8,13,e,r+2*o[s++]),lf(2,7,8,13,e,r+2*o[s++]),uf(3,4,9,14,e,r+2*o[s++]),lf(3,4,9,14,e,r+2*o[s++]);this.v0l^=Ae[0]^Ae[16],this.v0h^=Ae[1]^Ae[17],this.v1l^=Ae[2]^Ae[18],this.v1h^=Ae[3]^Ae[19],this.v2l^=Ae[4]^Ae[20],this.v2h^=Ae[5]^Ae[21],this.v3l^=Ae[6]^Ae[22],this.v3h^=Ae[7]^Ae[23],this.v4l^=Ae[8]^Ae[24],this.v4h^=Ae[9]^Ae[25],this.v5l^=Ae[10]^Ae[26],this.v5h^=Ae[11]^Ae[27],this.v6l^=Ae[12]^Ae[28],this.v6h^=Ae[13]^Ae[29],this.v7l^=Ae[14]^Ae[30],this.v7h^=Ae[15]^Ae[31],Ae.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dY=QV(t=>new lY(t));function me(t){return`0x${$V(Te(t),"hex")}`}function hY(t,...e){let r=Ie(t);return e.forEach(n=>{const i=Ie(n);i>r&&(r=i)}),r}function Ie(t){return typeof t=="bigint"?t:BigInt(typeof t=="string"||typeof t=="number"?t:me(t))}function Qa(t){return`0x${Ie(t).toString(16)}`}function mn(t,e){return pY(t,e)}function pY(t,e){return bY(t,e).reverse()}function bY(t,e){const r=Te(Ie(t).toString(16));return e==null?r:j1(Array.from(Array(e-r.length),()=>0),r)}function G2(t){return Dh(t)}function Dh(t){return gY([...Te(t)].reverse())}function gY(t){return Ie(Te(t))}const yY="ckb-default-hash";class FM{constructor(e=32,r=yY){this.hasher=dY.create({personalization:r,dkLen:e})}update(e){return this.hasher.update(Te(e)),this}digest(){return me(this.hasher.digest())}}function F1(...t){const e=new FM;return t.forEach(r=>e.update(r)),e.digest()}const $M=[],qM=[],KM=[],vY=BigInt(0),fh=BigInt(1),_Y=BigInt(2),mY=BigInt(7),wY=BigInt(256),AY=BigInt(113);for(let t=0,e=fh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],$M.push(2*(5*n+r)),qM.push((t+1)*(t+2)/2%64);let i=vY;for(let a=0;a<7;a++)e=(e<<fh^(e>>mY)*AY)%wY,e&_Y&&(i^=fh<<(fh<<BigInt(a))-fh);KM.push(i)}const[EY,xY]=NM(KM,!0),gE=(t,e,r)=>r>32?zM(t,e,r):UM(t,e,r),yE=(t,e,r)=>r>32?jM(t,e,r):kM(t,e,r);function SY(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,f=(s+2)%10,c=r[f],u=r[f+1],l=gE(c,u,1)^r[o],p=yE(c,u,1)^r[o+1];for(let g=0;g<50;g+=10)t[s+g]^=l,t[s+g+1]^=p}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=qM[s],f=gE(i,a,o),c=yE(i,a,o),u=$M[s];i=t[u],a=t[u+1],t[u]=f,t[u+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=EY[n],t[1]^=xY[n]}r.fill(0)}let IY=class QM extends H5{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sp(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=jp(this.state)}keccak(){co||Cf(this.state32),SY(this.state32,this.rounds),co||Cf(this.state32),this.posOut=0,this.pos=0}update(e){Rd(this);const{blockLen:r,state:n}=this;e=rc(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Rd(this,!1),R5(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(L5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new QM(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const CY=(t,e,r)=>P5(()=>new IY(e,t,r)),TY=CY(1,136,256/8);class OY{constructor(){this.hasher=TY.create()}update(e){return this.hasher.update(Te(e)),this}digest(){return me(this.hasher.digest())}}function wy(t,e){throw new Error(`Invalid data length! Required: ${e}, actual: ${t}`)}function ls(t,e){t!==e&&wy(t,e)}function Rn(t){if(t instanceof Object&&t.toArrayBuffer instanceof Function&&(t=t.toArrayBuffer()),t instanceof Uint8Array)return t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset);if(!(t instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return t}function N5(t,e,r){t.byteLength<4&&wy(t.byteLength,">4");const n=t.getUint32(0,!0);if(ls(t.byteLength,n),n===4)return[n];n<8&&wy(t.byteLength,">8");const i=t.getUint32(4,!0);if(i%4!==0||i<8)throw new Error(`Invalid first offset: ${i}`);const a=i/4-1;if(a<e)throw new Error(`Item count not enough! Required: ${e}, actual: ${a}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const s=[];for(let o=0;o<a;o++){const f=4+o*4;s.push(t.getUint32(f,!0))}s.push(n);for(let o=0;o<s.length-1;o++)if(s[o]>s[o+1])throw new Error(`Offset index ${o}: ${s[o]} is larger than offset index ${o+1}: ${s[o+1]}`);return s}function qu(t){const e=t.length;let r=4*(e+1);const n=[];for(let o=0;o<e;o++)n.push(r),r+=t[o].byteLength;const i=new ArrayBuffer(r),a=new Uint8Array(i),s=new DataView(i);s.setUint32(0,r,!0);for(let o=0;o<e;o++)s.setUint32(4+o*4,n[o],!0),a.set(new Uint8Array(t[o]),n[o]);return i}class Ag{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){ls(this.view.byteLength,4)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function VM(t){const e=Rn(t);return ls(e.byteLength,4),e}class vo{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){ls(this.view.byteLength,8)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 8}}function YM(t){const e=Rn(t);return ls(e.byteLength,8),e}class Ya{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){ls(this.view.byteLength,32)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 32}}function U5(t){const e=Rn(t);return ls(e.byteLength,32),e}class g6{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){this.view.byteLength<4&&wy(this.view.byteLength,">4");const r=this.length()+4;ls(this.view.byteLength,r)}raw(){return this.view.buffer.slice(4)}indexAt(e){return this.view.getUint8(4+e)}length(){return this.view.getUint32(0,!0)}}function k5(t){const e=Rn(t),r=new Uint8Array(4+e.byteLength);return new DataView(r.buffer).setUint32(0,e.byteLength,!0),r.set(new Uint8Array(e),4),r.buffer}class al{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new g6(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function X_(t){return t?k5(t):new ArrayBuffer(0)}function GM(t){return qu(t.map(e=>k5(e)))}function BY(t){const e=new Uint8Array(4+Ya.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=U5(t[r]);e.set(new Uint8Array(n),4+r*Ya.size())}return e.buffer}class vE{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new Fp(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function DY(t){return t?z5(t):new ArrayBuffer(0)}function MY(t){const e=new Uint8Array(4+Ey.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=tR(t[r]);e.set(new Uint8Array(n),4+r*Ey.size())}return e.buffer}function RY(t){const e=new Uint8Array(4+Ay.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=ZM(t[r]);e.set(new Uint8Array(n),4+r*Ay.size())}return e.buffer}function LY(t){return qu(t.map(e=>JM(e)))}let Fp=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){const r=N5(this.view,0);if(new Ya(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),r[2]-r[1]!==1)throw new Error(`Invalid offset for hashType: ${r[1]} - ${r[2]}`);new g6(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCodeHash(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new Ya(this.view.buffer.slice(r,n),{validate:!1})}getHashType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(r,n)).getUint8(0)}getArgs(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new g6(this.view.buffer.slice(r,n),{validate:!1})}};function z5(t){const e=[];e.push(U5(t.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,t.hashType),e.push(r.buffer),e.push(k5(t.args)),qu(e)}let ga=class WM{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}getTxHash(){return new Ya(this.view.buffer.slice(0,0+Ya.size()),{validate:!1})}getIndex(){return new Ag(this.view.buffer.slice(0+Ya.size(),0+Ya.size()+Ag.size()),{validate:!1})}validate(e=!1){ls(this.view.byteLength,WM.size()),this.getTxHash().validate(e),this.getIndex().validate(e)}static size(){return 0+Ya.size()+Ag.size()}};function j5(t){const e=new Uint8Array(0+Ya.size()+Ag.size());return new DataView(e.buffer),e.set(new Uint8Array(U5(t.txHash)),0),e.set(new Uint8Array(VM(t.index)),0+Ya.size()),e.buffer}let Ay=class XM{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}getSince(){return new vo(this.view.buffer.slice(0,0+vo.size()),{validate:!1})}getPreviousOutput(){return new ga(this.view.buffer.slice(0+vo.size(),0+vo.size()+ga.size()),{validate:!1})}validate(e=!1){ls(this.view.byteLength,XM.size()),this.getSince().validate(e),this.getPreviousOutput().validate(e)}static size(){return 0+vo.size()+ga.size()}};function ZM(t){const e=new Uint8Array(0+vo.size()+ga.size());return new DataView(e.buffer),e.set(new Uint8Array(YM(t.since)),0),e.set(new Uint8Array(j5(t.previousOutput)),0+vo.size()),e.buffer}let _E=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){const r=N5(this.view,0);new vo(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new Fp(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new vE(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCapacity(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new vo(this.view.buffer.slice(r,n),{validate:!1})}getLock(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new Fp(this.view.buffer.slice(r,n),{validate:!1})}getType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new vE(this.view.buffer.slice(r,n),{validate:!1})}};function JM(t){const e=[];return e.push(YM(t.capacity)),e.push(z5(t.lock)),e.push(DY(t.type)),qu(e)}let Ey=class eR{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}getOutPoint(){return new ga(this.view.buffer.slice(0,0+ga.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+ga.size())}validate(e=!1){ls(this.view.byteLength,eR.size()),this.getOutPoint().validate(e)}static size(){return 0+ga.size()+1}};function tR(t){const e=new Uint8Array(0+ga.size()+1),r=new DataView(e.buffer);return e.set(new Uint8Array(j5(t.outPoint)),0),r.setUint8(0+ga.size(),t.depType),e.buffer}function rR(t){const e=[];return e.push(VM(t.version)),e.push(MY(t.cellDeps)),e.push(BY(t.headerDeps)),e.push(RY(t.inputs)),e.push(LY(t.outputs)),e.push(GM(t.outputsData)),qu(e)}function HY(t){const e=[];return e.push(rR(t.raw)),e.push(GM(t.witnesses)),qu(e)}let mE=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Rn(e)),r&&this.validate()}validate(e=!1){const r=N5(this.view,0);new al(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new al(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new al(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getLock(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new al(this.view.buffer.slice(r,n),{validate:!1})}getInputType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new al(this.view.buffer.slice(r,n),{validate:!1})}getOutputType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new al(this.view.buffer.slice(r,n),{validate:!1})}};function PY(t){const e=[];return e.push(X_(t.lock)),e.push(X_(t.inputType)),e.push(X_(t.outputType)),qu(e)}function Eg(t){if(t.hasValue())return t.value()}const nR={type:1,data:0,data1:2,data2:4},y6={1:"type",0:"data",2:"data1",4:"data2"},NY=Object.keys(nR);function W2(t){const e=(()=>{if(typeof t=="number")return y6[t];if(typeof t=="bigint")return y6[Number(t)];if(NY.includes(t))return t})();if(e===void 0)throw new Error(`Invalid hash type ${t}`);return e}function iR(t){return Te([nR[W2(t)]])}function aR(t){return y6[Te(t)[0]]}class at{constructor(e,r,n){this.codeHash=e,this.hashType=r,this.args=n}get occupiedSize(){return 33+Te(this.args).length}clone(){return new at(this.codeHash,this.hashType,this.args)}static from(e){return e instanceof at?e:new at(me(e.codeHash),W2(e.hashType),me(e.args))}static async fromKnownScript(e,r,n){const i=await e.getKnownScript(r);return new at(i.codeHash,i.hashType,me(n))}_toMolData(){return{codeHash:Te(this.codeHash),hashType:iR(this.hashType),args:Te(this.args)}}toBytes(){return Te(z5(this._toMolData()))}hash(){return F1(this.toBytes())}static fromBytes(e){const r=e instanceof Fp?e:new Fp(Te(e));return new at(me(r.getCodeHash().raw()),aR([r.getHashType()]),me(r.getArgs().raw()))}eq(e){const r=at.from(e);return this.codeHash===r.codeHash&&this.args===r.args&&this.hashType===r.hashType}}function UY(t,e=8){const r=op(t).toString();if(e===0)return r;const n=r.length<=e?"0":r.slice(0,-e),i=r.slice(-e).padStart(e,"0").replace(/0*$/,"");return i===""?n:`${n}.${i}`}function op(t,e=8){if(typeof t=="bigint")return t;const[r,n]=(typeof t=="number"?t.toFixed(e):t.toString()).split("."),i=BigInt(r.padEnd(r.length+e,"0"));return n===void 0?i:i+BigInt(n.slice(0,e).padEnd(e,"0"))}const ka=0n;op("1");function Pe(t,e){if(e!=null)return t(e)}async function Ld(t,e,r){if(r===void 0){if(t.length===0)throw new TypeError("Reduce of empty array with no initial value");r=t[0],t=t.slice(1)}return t.reduce((n,i,a,s)=>n.then(o=>Promise.resolve(e(o,i,a,s)).then(f=>f??o)),Promise.resolve(r))}function kY(t){return new Promise(e=>setTimeout(e,Number(Ie(t))))}function zY(t){return/webview|wv|ip((?!.*Safari)|(?=.*like Safari))/i.test(t)}const jY={code:0,depGroup:1},v6={0:"code",1:"depGroup"};function F5(t){const e=typeof t=="number"?v6[t]:typeof t=="bigint"?v6[Number(t)]:t;if(e===void 0)throw new Error(`Invalid dep type ${t}`);return e}function FY(t){return Te([jY[F5(t)]])}function $Y(t){return v6[Te(t)[0]]}class Er{constructor(e,r){this.txHash=e,this.index=r}clone(){return new Er(this.txHash,this.index)}static from(e){return e instanceof Er?e:new Er(me(e.txHash),Ie(e.index))}_toMolData(){return{txHash:Te(this.txHash),index:mn(this.index,4)}}toBytes(){return Te(j5(this._toMolData()))}static fromBytes(e){const r=e instanceof ga?e:new ga(Te(e));return new Er(me(r.getTxHash().raw()),G2(r.getIndex().raw()))}eq(e){const r=Er.from(e);return this.txHash===r.txHash&&this.index===r.index}}class Xa{constructor(e,r,n){this.capacity=e,this.lock=r,this.type=n}get occupiedSize(){var e;return 8+this.lock.occupiedSize+(((e=this.type)==null?void 0:e.occupiedSize)??0)}clone(){var e;return new Xa(this.capacity,this.lock.clone(),(e=this.type)==null?void 0:e.clone())}static from(e){return e instanceof Xa?e:new Xa(Ie(e.capacity),at.from(e.lock),Pe(at.from,e.type))}_toMolData(){var e;return{capacity:mn(this.capacity,8),lock:this.lock._toMolData(),type:(e=this.type)==null?void 0:e._toMolData()}}toBytes(){return Te(JM(this._toMolData()))}static fromBytes(e){const r=e instanceof _E?e:new _E(Te(e));return new Xa(G2(r.getCapacity().raw()),at.fromBytes(r.getLock()),Pe(at.fromBytes,Eg(r.getType())))}}class ns{constructor(e,r,n){this.outPoint=e,this.cellOutput=r,this.outputData=n}static from(e){return e instanceof ns?e:new ns(Er.from(e.outPoint),Xa.from(e.cellOutput),me(e.outputData))}clone(){return new ns(this.outPoint.clone(),this.cellOutput.clone(),this.outputData)}}function qY(t){const e=Te(me(t));return[Ie(e.slice(4,7)),Ie(e.slice(2,4)),Ie(e.slice(0,2))]}class jc{constructor(e,r,n){this.relative=e,this.metric=r,this.value=n}clone(){return new jc(this.relative,this.metric,this.value)}static from(e){return e instanceof jc?e:typeof e=="object"&&"relative"in e?new jc(e.relative,e.metric,Ie(e.value)):jc.fromNum(e)}toNum(){return this.value|(this.relative==="absolute"?ka:Ie("0x8000000000000000"))|{blockNumber:Ie("0x0000000000000000"),epoch:Ie("0x2000000000000000"),timestamp:Ie("0x4000000000000000")}[this.metric]}static fromNum(e){const r=Ie(e),n=r>>Ie(63)===ka?"absolute":"relative",i=["blockNumber","epoch","timestamp"][Number(r>>Ie(61)&Ie(3))],a=r&Ie("0x00ffffffffffffff");return new jc(n,i,a)}}class Ms{constructor(e,r,n,i){this.previousOutput=e,this.since=r,this.cellOutput=n,this.outputData=i}clone(){var e;return new Ms(this.previousOutput.clone(),this.since,(e=this.cellOutput)==null?void 0:e.clone(),this.outputData)}static from(e){return e instanceof Ms?e:new Ms(Er.from(e.previousOutput),jc.from(e.since??0).toNum(),Pe(Xa.from,e.cellOutput),Pe(me,e.outputData))}async completeExtraInfos(e){if(this.cellOutput&&this.outputData)return;const r=await e.getCell(this.previousOutput);r&&(this.cellOutput=r.cellOutput,this.outputData=r.outputData)}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:mn(this.since,8)}}toBytes(){return Te(ZM(this._toMolData()))}static fromBytes(e){const r=e instanceof Ay?e:new Ay(Te(e));return new Ms(Er.fromBytes(r.getPreviousOutput()),G2(r.getSince().raw()))}}class Ti{constructor(e,r){this.outPoint=e,this.depType=r}clone(){return new Ti(this.outPoint.clone(),this.depType)}static from(e){return e instanceof Ti?e:new Ti(Er.from(e.outPoint),F5(e.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:FY(this.depType)}}toBytes(){return Te(tR(this._toMolData()))}fromBytes(e){const r=e instanceof Ey?e:new Ey(Te(e));return new Ti(Er.fromBytes(r.getOutPoint()),$Y([r.getDepType()]))}eq(e){const r=Ti.from(e);return this.outPoint.eq(r.outPoint)&&this.depType===r.depType}}class is{constructor(e,r,n){this.lock=e,this.inputType=r,this.outputType=n}static from(e){return e instanceof is?e:new is(Pe(me,e.lock),Pe(me,e.inputType),Pe(me,e.outputType))}_toMolData(){return{lock:Pe(Te,this.lock),inputType:Pe(Te,this.inputType),outputType:Pe(Te,this.outputType)}}toBytes(){return Te(PY(this._toMolData()))}static fromBytes(e){var n,i,a;const r=e instanceof mE?e:new mE(Te(e));return new is(Pe(me,(n=Eg(r.getLock()))==null?void 0:n.raw()),Pe(me,(i=Eg(r.getInputType()))==null?void 0:i.raw()),Pe(me,(a=Eg(r.getOutputType()))==null?void 0:a.raw()))}}function Z_(t){const e=Te(t).slice(0,16);if(e.length!==16)throw new Error("Invalid UDT cell data");return G2(e)}class Ut{constructor(e,r,n,i,a,s,o){this.version=e,this.cellDeps=r,this.headerDeps=n,this.inputs=i,this.outputs=a,this.outputsData=s,this.witnesses=o}static default(){return new Ut(0n,[],[],[],[],[],[])}copy(e){const r=Ut.from(e);this.version=r.version,this.cellDeps=r.cellDeps,this.headerDeps=r.headerDeps,this.inputs=r.inputs,this.outputs=r.outputs,this.outputsData=r.outputsData,this.witnesses=r.witnesses}clone(){return new Ut(0n,this.cellDeps.map(e=>e.clone()),[...this.headerDeps],this.inputs.map(e=>e.clone()),this.outputs.map(e=>e.clone()),[...this.outputsData],[...this.witnesses])}static from(e){var i,a,s,o,f;if(e instanceof Ut)return e;const r=((i=e.outputs)==null?void 0:i.map((c,u)=>{var p,g;const l=Xa.from({...c,capacity:c.capacity??0});return l.capacity===ka&&(l.capacity=op(l.occupiedSize+(((g=Pe(Te,(p=e.outputsData)==null?void 0:p[u]))==null?void 0:g.length)??0))),l}))??[],n=r.map((c,u)=>{var l;return me(((l=e.outputsData)==null?void 0:l[u])??"0x")});return e.outputsData!=null&&n.length<e.outputsData.length&&n.push(...e.outputsData.slice(n.length).map(c=>me(c))),new Ut(Ie(e.version??0),((a=e.cellDeps)==null?void 0:a.map(c=>Ti.from(c)))??[],((s=e.headerDeps)==null?void 0:s.map(me))??[],((o=e.inputs)==null?void 0:o.map(c=>Ms.from(c)))??[],r,n,((f=e.witnesses)==null?void 0:f.map(me))??[])}static fromLumosSkeleton(e){return Ut.from({version:0n,cellDeps:e.cellDeps.toArray(),headerDeps:e.headerDeps.toArray(),inputs:e.inputs.toArray().map((r,n)=>{if(!r.outPoint)throw new Error("outPoint is required in input");return Ms.from({previousOutput:r.outPoint,since:e.inputSinces.get(n,"0x0"),cellOutput:r.cellOutput,outputData:r.data})}),outputs:e.outputs.toArray().map(r=>r.cellOutput),outputsData:e.outputs.toArray().map(r=>r.data),witnesses:e.witnesses.toArray()})}stringify(){return JSON.stringify(this,(e,r)=>typeof r=="bigint"?Qa(r):r)}rawToBytes(){return Te(rR({version:mn(this.version,4),cellDeps:this.cellDeps.map(e=>e._toMolData()),headerDeps:this.headerDeps.map(e=>Te(e)),inputs:this.inputs.map(e=>e._toMolData()),outputs:this.outputs.map(e=>e._toMolData()),outputsData:this.outputsData.map(e=>Te(e))}))}toBytes(){return Te(HY({raw:{version:mn(this.version,4),cellDeps:this.cellDeps.map(e=>e._toMolData()),headerDeps:this.headerDeps.map(e=>Te(e)),inputs:this.inputs.map(e=>e._toMolData()),outputs:this.outputs.map(e=>e._toMolData()),outputsData:this.outputsData.map(e=>Te(e))},witnesses:this.witnesses.map(e=>Te(e))}))}hash(){return F1(this.rawToBytes())}static hashWitnessToHasher(e,r){const n=Te(me(e));r.update(mn(n.length,8)),r.update(n)}async getSignHashInfo(e,r,n=new FM){const i=at.from(e);let a=-1;n.update(this.hash());for(let s=0;s<this.witnesses.length;s+=1){const o=this.inputs[s];if(o){if(await o.completeExtraInfos(r),!o.cellOutput)throw new Error("Unable to complete input");if(!i.eq(o.cellOutput.lock))continue;a===-1&&(a=s)}if(a===-1)return;Ut.hashWitnessToHasher(this.witnesses[s],n)}if(a!==-1)return{message:n.digest(),position:a}}async findInputIndexByLockId(e,r){const n=at.from({...e,args:"0x"});for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.codeHash===a.cellOutput.lock.codeHash&&n.hashType===a.cellOutput.lock.hashType)return i}}async findInputIndexByLock(e,r){const n=at.from(e);for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}async findLastInputIndexByLock(e,r){const n=at.from(e);for(let i=this.inputs.length-1;i>=0;i-=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}addCellDeps(...e){e.flat().forEach(r=>{const n=Ti.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.push(n)})}addCellDepsAtStart(...e){e.flat().forEach(r=>{const n=Ti.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.unshift(n)})}async addCellDepInfos(e,...r){this.addCellDeps(await e.getCellDeps(...r))}async addCellDepsOfKnownScripts(e,...r){await Promise.all(r.flat().map(async n=>this.addCellDepInfos(e,(await e.getKnownScript(n)).cellDeps)))}setOutputDataAt(e,r){this.outputsData.length<e&&this.outputsData.push(...Array.from(new Array(e-this.outputsData.length),()=>"0x")),this.outputsData[e]=me(r)}addOutput(e,r="0x"){const n=Xa.from({...e,capacity:e.capacity??0});n.capacity===ka&&(n.capacity=op(n.occupiedSize+Te(r).length));const i=this.outputs.push(n)-1;this.setOutputDataAt(i,r)}getWitnessArgsAt(e){const r=this.witnesses[e];return(r??"0x")!=="0x"?is.fromBytes(r):void 0}setWitnessArgsAt(e,r){this.witnesses.length<e&&this.witnesses.push(...Array.from(new Array(e-this.witnesses.length),()=>"0x")),this.witnesses[e]=me(r.toBytes())}async prepareSighashAllWitness(e,r,n){const i=await this.findInputIndexByLock(e,n);if(i===void 0)return;const a=this.getWitnessArgsAt(i)??is.from({});a.lock=me(Array.from(new Array(r),()=>0)),this.setWitnessArgsAt(i,a)}async getInputsCapacity(e){return Ld(this.inputs,async(r,n)=>{if(await n.completeExtraInfos(e),!n.cellOutput)throw new Error("Unable to complete input");return r+n.cellOutput.capacity},Ie(0))}getOutputsCapacity(){return this.outputs.reduce((e,{capacity:r})=>e+r,Ie(0))}async getInputsUdtBalance(e,r){return Ld(this.inputs,async(n,i)=>{var a;if(await i.completeExtraInfos(e),!i.cellOutput||!i.outputData)throw new Error("Unable to complete input");if((a=i.cellOutput.type)!=null&&a.eq(r))return n+Z_(i.outputData)},Ie(0))}getOutputsUdtBalance(e){return this.outputs.reduce((r,n,i)=>{var a;return(a=n.type)!=null&&a.eq(e)?r+Z_(this.outputsData[i]):r},Ie(0))}async completeInputs(e,r,n,i){const a=[];let s=i,o=!1;for await(const f of e.findCells(r,!0)){if(this.inputs.some(({previousOutput:l})=>l.eq(f.outPoint)))continue;const c=a.push(f),u=await Promise.resolve(n(s,f,c-1,a));if(u===void 0){o=!0;break}s=u}return this.inputs.push(...a.map(({outPoint:f,outputData:c,cellOutput:u})=>Ms.from({previousOutput:f,outputData:c,cellOutput:u}))),o?{addedCount:a.length}:{addedCount:a.length,accumulated:s}}async completeInputsByCapacity(e,r,n){const i=this.getOutputsCapacity()+Ie(r??0),a=await this.getInputsCapacity(e.client);if(a>=i)return 0;const{addedCount:s,accumulated:o}=await this.completeInputs(e,n??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(f,{cellOutput:{capacity:c}})=>{const u=f+c;return u>=i?void 0:u},a);if(o===void 0)return s;throw new Error(`Insufficient CKB, need ${UY(i-o)} extra CKB`)}async completeInputsAll(e,r){const{addedCount:n}=await this.completeInputs(e,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(i,{cellOutput:{capacity:a}})=>i+a,ka);return n}async completeInputsByUdt(e,r){const n=this.getOutputsUdtBalance(r),i=await this.getInputsUdtBalance(e.client,r);if(i>=n)return 0;const{addedCount:a,accumulated:s}=await this.completeInputs(e,{script:r,outputDataLenRange:[16,Ie("0xffffffff")]},(o,{outputData:f})=>{const c=Z_(f),u=o+c;return u>=n?void 0:u},i);if(s===void 0)return a;throw new Error(`Insufficient coin, need ${n-s} extra coin`)}estimateFee(e){const r=this.toBytes().length+4;return(Ie(r)*Ie(e)+Ie(1e3))/Ie(1e3)}async completeFee(e,r,n,i){const a=n??await e.client.getFeeRate();await this.getInputsCapacity(e.client);let s=ka,o=ka;for(;;){const f=this.clone(),c=await(async()=>{try{return await f.completeInputsByCapacity(e,s+o,i)}catch(g){throw o!==ka?new Error("Not enough capacity for the change cell"):g}})();await e.prepareTransaction(f),s===ka&&(s=f.estimateFee(a));const u=await f.getInputsCapacity(e.client)-f.getOutputsCapacity();if(u===s)return this.copy(f),[c,!1];const l=Ie(await Promise.resolve(r(f,u-s)));if(l>ka){o=l;continue}if(await f.getInputsCapacity(e.client)-f.getOutputsCapacity()!==s)throw new Error("The change function doesn't use all available capacity");await e.prepareTransaction(f);const p=f.estimateFee(a);if(s>p)throw new Error("The change function removed existed transaction data");if(s===p)return this.copy(f),[c,!0];s=p}}completeFeeChangeToLock(e,r,n,i){const a=at.from(r);return this.completeFee(e,(s,o)=>{const f=Xa.from({capacity:0,lock:a}),c=op(f.occupiedSize);return o<c?c:(f.capacity=o,s.addOutput(f),0)},n,i)}async completeFeeBy(e,r,n){const{script:i}=await e.getRecommendedAddressObj();return this.completeFeeChangeToLock(e,i,r,n)}completeFeeChangeToOutput(e,r,n,i){const a=Number(Ie(r));if(!this.outputs[a])throw new Error("Non-existed output to change");return this.completeFee(e,(s,o)=>(s.outputs[a].capacity+=o,0),n,i)}}class KY{async markTransactions(...e){await Promise.all([this.recordTransactions(...e),...e.flat().map(r=>{const n=Ut.from(r),i=n.hash();return Promise.all([...n.inputs.map(a=>this.markUnusable(a.previousOutput)),...n.outputs.map((a,s)=>this.markUsable({cellOutput:a,outputData:n.outputsData[s],outPoint:{txHash:i,index:s}}))])})])}async recordTransactions(...e){}async getTransaction(e){}async recordCells(...e){}}function Mh([t,e]){return[Ie(t),Ie(e)]}var De;(function(t){t.NervosDao="NervosDao",t.Secp256k1Blake160="Secp256k1Blake160",t.Secp256k1Multisig="Secp256k1Multisig",t.AnyoneCanPay="AnyoneCanPay",t.TypeId="TypeId",t.XUdt="XUdt",t.JoyId="JoyId",t.COTA="COTA",t.PWLock="PWLock",t.OmniLock="OmniLock",t.NostrLock="NostrLock",t.UniqueType="UniqueType",t.AlwaysSuccess="AlwaysSuccess",t.InputTypeProxyLock="InputTypeProxyLock",t.OutputTypeProxyLock="OutputTypeProxyLock",t.LockProxyLock="LockProxyLock",t.SingleUseLock="SingleUseLock",t.TypeBurnLock="TypeBurnLock",t.EasyToDiscoverType="EasyToDiscoverType",t.TimeLock="TimeLock"})(De||(De={}));class X2{constructor(e,r){this.cellDep=e,this.type=r}static from(e){return new X2(Ti.from(e.cellDep),Pe(at.from,e.type))}}class Z2{constructor(e,r,n){this.codeHash=e,this.hashType=r,this.cellDeps=n}static from(e){return new Z2(me(e.codeHash),W2(e.hashType),e.cellDeps.map(r=>X2.from(r)))}}class J2{constructor(e,r,n,i,a,s,o){this.script=e,this.scriptLenRange=r,this.outputData=n,this.outputDataSearchMode=i,this.outputDataLenRange=a,this.outputCapacityRange=s,this.blockRange=o}static from(e){return new J2(Pe(at.from,e.script),Pe(Mh,e.scriptLenRange),Pe(me,e.outputData),e.outputDataSearchMode??void 0,Pe(Mh,e.outputDataLenRange),Pe(Mh,e.outputCapacityRange),Pe(Mh,e.blockRange))}}class $1{constructor(e,r,n,i,a){this.script=e,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.withData=a}static from(e){return new $1(at.from(e.script),e.scriptType,e.scriptSearchMode,Pe(J2.from,e.filter),e.withData??void 0)}}class $5{constructor(e,r,n,i,a){this.script=e,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.groupByTransaction=a}static from(e){return new $5(at.from(e.script),e.scriptType,e.scriptSearchMode,Pe(J2.from,e.filter),e.groupByTransaction??void 0)}}class q1 extends Error{constructor(e){super(`Client request error ${e.message}`),this.code=e.code,this.data=e.data}}class QY extends q1{constructor(e,r){super(e),this.outPoint=Er.from(r)}}class VY extends q1{constructor(e,r,n,i,a,s){super(e),this.source=r,this.errorCode=i,this.scriptHashType=a,this.sourceIndex=Ie(n),this.scriptCodeHash=me(s)}}class YY extends q1{constructor(e,r){super(e),this.txHash=me(r)}}class GY extends q1{constructor(e,r,n){super(e),this.currentFee=Ie(r),this.leastFee=Ie(n)}}class WY extends Error{constructor(){super("Wait transaction timeout")}}function sR(t,e,r){if(!e)return!0;const n=me(t),i=me(e);return!(r==="exact"&&n!==i||r==="prefix"&&!n.startsWith(i)||r==="partial"&&n.search(i)===-1)}function Yb(t,e,r){if(!e)return!0;if(!t)return!1;const n=at.from(t),i=at.from(e);return n.codeHash!==i.codeHash||n.hashType!==i.hashType?!1:sR(n.args,i==null?void 0:i.args,r)}function _6(t,e){if(!e)return!0;const r=Ie(t),[n,i]=Mh(e);return n<=r&&r<i}function wE(t,e){if(!e)return!0;const r=t?Te(at.from(t).args).length+33:0;return _6(r,e)}function XY(t,e){var i,a,s,o,f,c,u,l;const r=$1.from(t),n=ns.from(e);return!(r.scriptType==="lock"&&(!Yb(n.cellOutput.lock,r.script,r.scriptSearchMode)||!Yb(n.cellOutput.type,(i=r.filter)==null?void 0:i.script,"prefix")||!wE(n.cellOutput.type,(a=r.filter)==null?void 0:a.scriptLenRange))||r.scriptType==="type"&&(!Yb(n.cellOutput.type,r.script,r.scriptSearchMode)||!Yb(n.cellOutput.lock,(s=r.filter)==null?void 0:s.script,"prefix")||!wE(n.cellOutput.lock,(o=r.filter)==null?void 0:o.scriptLenRange))||!sR(n.outputData,(f=r.filter)==null?void 0:f.outputData,((c=r.filter)==null?void 0:c.outputDataSearchMode)??"prefix")||!_6(Te(n.outputData).length,(u=r.filter)==null?void 0:u.outputDataLenRange)||!_6(n.cellOutput.capacity,(l=r.filter)==null?void 0:l.outputCapacityRange))}class ZY extends KY{constructor(){super(...arguments),this.cells=new Map,this.knownTransactions=new Map}async markUsable(...e){e.flat().forEach(r=>{const n=ns.from(r).clone(),i=me(n.outPoint.toBytes());this.cells.set(i,[!0,n])})}async markUnusable(...e){e.flat().forEach(r=>{const n=Er.from(r),i=me(n.toBytes()),a=this.cells.get(i);if(a){a[0]=!1;return}this.cells.set(i,[!1,{outPoint:n}])})}async clear(){for(const e of this.cells.values())e[0]=void 0}async*findCells(e){for(const[r,n]of this.cells.values())r&&XY(e,n)&&(yield n.clone())}async getCell(e){var i;const r=Er.from(e),n=(i=this.cells.get(me(r.toBytes())))==null?void 0:i[1];if(n&&n.cellOutput&&n.outputData)return ns.from(n.clone())}async isUnusable(e){var n;const r=Er.from(e);return!(((n=this.cells.get(me(r.toBytes())))==null?void 0:n[0])??!0)}async recordTransactions(...e){e.flat().map(r=>{const n=Ut.from(r);this.knownTransactions.set(n.hash(),n)})}async getTransaction(e){var n;const r=me(e);return(n=this.knownTransactions.get(r))==null?void 0:n.clone()}async recordCells(...e){e.flat().map(r=>{const n=ns.from(r),i=me(n.outPoint.toBytes());this.cells.get(i)||this.cells.set(i,[void 0,n])})}}class JY{constructor(e){this.cache=(e==null?void 0:e.cache)??new ZY}async getFeeRate(e){return hY((await this.getFeeRateStatistics(e)).median,1e3)}async getCell(e){const r=Er.from(e),n=await this.cache.getCell(r);if(n)return n;const i=await this.getTransactionNoCache(r.txHash);if(!i)return;const a=Number(Ie(r.index));if(a>=i.transaction.outputs.length)return;const s=ns.from({outPoint:r,cellOutput:i.transaction.outputs[a],outputData:i.transaction.outputsData[a]??"0x"});return await this.cache.recordCells(s),s}async getCellLive(e,r,n){const i=await this.getCellLiveNoCache(e,r,n);return r&&i&&await this.cache.recordCells(i),i}async findCellsPaged(e,r,n,i){const a=await this.findCellsPagedNoCache(e,r,n,i);return await this.cache.recordCells(a.cells),a}async*findCellsOnChain(e,r,n=10){let i;for(;;){const{cells:a,lastCursor:s}=await this.findCellsPaged(e,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}async*findCells(e,r,n=10){const i=$1.from(e),a=[];for await(const s of this.cache.findCells(i))a.push(s.outPoint),yield s;for await(const s of this.findCellsOnChain(i,r,n))await this.cache.isUnusable(s.outPoint)||a.some(o=>o.eq(s.outPoint))||(yield s)}findCellsByLock(e,r,n=!0,i,a=10){return this.findCells({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},withData:n},i,a)}findCellsByType(e,r=!0,n,i=10){return this.findCells({script:e,scriptType:"type",scriptSearchMode:"exact",withData:r},n,i)}async findSingletonCellByType(e,r=!1){for await(const n of this.findCellsByType(e,r,void 0,1))return n}async getCellDeps(...e){return Promise.all(e.flat().map(async r=>{const{cellDep:n,type:i}=X2.from(r);if(i===void 0)return n;const a=await this.findSingletonCellByType(i);return a?Ti.from({outPoint:a.outPoint,depType:n.depType}):n}))}async*findTransactions(e,r,n=10){let i;for(;;){const{transactions:a,lastCursor:s}=await this.findTransactionsPaged(e,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}findTransactionsByLock(e,r,n,i,a=10){return this.findTransactions({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},groupByTransaction:n},i,a)}findTransactionsByType(e,r,n,i=10){return this.findTransactions({script:e,scriptType:"type",scriptSearchMode:"exact",groupByTransaction:r},n,i)}async getBalanceSingle(e){return this.getCellsCapacity({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{scriptLenRange:[0,1],outputDataLenRange:[0,1]}})}async getBalance(e){return Ld(e,async(r,n)=>r+await this.getBalanceSingle(n),ka)}async sendTransaction(e,r){const n=Ut.from(e),i=await this.sendTransactionNoCache(n,r);return await this.cache.recordTransactions(n),await this.cache.markTransactions(n),i}async getTransaction(e){const r=me(e),n=await this.getTransactionNoCache(r);if(n!=null&&n.transaction)return n;const i=await this.cache.getTransaction(r);if(i)return n?{...n,transaction:i}:{transaction:i,status:"sent"}}async waitTransaction(e,r=0,n=3e4,i=2e3){const a=Date.now();let s;const o=async()=>{const f=await this.getTransaction(e);if(!(!f||f.blockNumber==null||["sent","pending","proposed"].includes(f.status)))return s=f,f};for(;;){if(s){if(r===0)return s;if((await this.getTipHeader()).number-s.blockNumber>=r)return s}else if(await o())continue;if(Date.now()-a+i>=n)throw new WY;await kY(i)}}}var hl=null;typeof WebSocket<"u"?hl=WebSocket:typeof MozWebSocket<"u"?hl=MozWebSocket:typeof global<"u"?hl=global.WebSocket||global.MozWebSocket:typeof window<"u"?hl=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(hl=self.WebSocket||self.MozWebSocket);const q5=hl,eG=Object.freeze({[De.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:2},depType:"code"}}]},[De.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[De.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[De.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[De.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[De.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[De.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf05188e5f3a6767fc4687faf45ba5f1a6e25d3ada6129dae8722cb282f262493",index:0},depType:"depGroup"}}]},[De.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[De.PWLock]:{codeHash:"0xbf43c3602455798c1a61a596e0d95278864c552fafe231c063b3fabf97a8febc",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x1d60cb8f4666e039f418ea94730b1a8c5aa0bf2f7781474406387462924d15d4",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x42ade2f25eb938b5dbfd3d8f07b8b07aa593d848e7ff14bdfbbea5aeb6175261"}}]},[De.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[De.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[De.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[De.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:0},depType:"code"}}]},[De.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:1},depType:"code"}}]},[De.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]},[De.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:3},depType:"code"}}]},[De.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[De.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:5},depType:"code"}}]},[De.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:0},depType:"code"}}]},[De.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:1},depType:"code"}}]}});class tG{constructor(e,r=3e4){this.url=e,this.timeout=r}async request(e){const r=new AbortController,n=setTimeout(()=>r.abort(),this.timeout),i=await(await fetch(this.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:r.signal})).json();return clearTimeout(n),i}}class rG{constructor(e,r=3e4){this.url=e,this.timeout=r,this.ongoing=new Map}request(e){const r=(()=>{if(this.socket&&this.socket.readyState!==this.socket.CLOSING&&this.socket.readyState!==this.socket.CLOSED&&this.openSocket)return this.openSocket;const n=new q5(this.url),i=({data:s})=>{const o=JSON.parse(s);if(typeof o!="object"||o===null||typeof o.id!="number")throw new Error(`Unknown response ${s}`);const f=o.id,c=this.ongoing.get(f);if(!c)return;const[u,l,p]=c;clearTimeout(p),this.ongoing.delete(f),u(o)},a=()=>{this.ongoing.forEach(([s,o,f])=>{clearTimeout(f),o(new Error("Connection closed"))}),this.ongoing.clear()};return n.onclose=a,n.onerror=a,n.onmessage=i,this.socket=n,this.openSocket=new Promise(s=>{n.readyState===n.OPEN?s(n):n.onopen=()=>{s(n)}}),this.openSocket})();return new Promise((n,i)=>{const a=[n,i,setTimeout(()=>{this.ongoing.delete(e.id),r.then(s=>s.close()),i(new Error("Request timeout"))},this.timeout)];this.ongoing.set(e.id,a),r.then(s=>{s.readyState===s.CLOSED||s.readyState===s.CLOSING?(clearTimeout(a[2]),this.ongoing.delete(e.id),i(new Error("Connection closed"))):s.send(JSON.stringify(e))})})}}function nG(t,e){return t.startsWith("wss://")?new rG(t,e==null?void 0:e.timeout):new tG(t,e==null?void 0:e.timeout)}class Me{static hashTypeFrom(e){return W2(e)}static hashTypeTo(e){return e}static depTypeFrom(e){switch(F5(e)){case"code":return"code";case"depGroup":return"dep_group"}}static depTypeTo(e){switch(e){case"code":return"code";case"dep_group":return"depGroup"}}static scriptFrom(e){const r=at.from(e);return{code_hash:r.codeHash,hash_type:Me.hashTypeFrom(r.hashType),args:r.args}}static scriptTo(e){return at.from({codeHash:e.code_hash,hashType:Me.hashTypeTo(e.hash_type),args:e.args})}static outPointFrom(e){const r=Er.from(e);return{index:Qa(r.index),tx_hash:r.txHash}}static outPointTo(e){return Er.from({index:e.index,txHash:e.tx_hash})}static cellInputFrom(e){const r=Ms.from(e);return{previous_output:Me.outPointFrom(r.previousOutput),since:Qa(r.since)}}static cellInputTo(e){return Ms.from({previousOutput:Me.outPointTo(e.previous_output),since:e.since})}static cellOutputFrom(e){return{capacity:Qa(e.capacity),lock:Me.scriptFrom(e.lock),type:Pe(Me.scriptFrom,e.type)}}static cellOutputTo(e){return Xa.from({capacity:e.capacity,lock:Me.scriptTo(e.lock),type:Pe(Me.scriptTo,e.type)})}static cellDepFrom(e){return{out_point:Me.outPointFrom(e.outPoint),dep_type:Me.depTypeFrom(e.depType)}}static cellDepTo(e){return Ti.from({outPoint:Me.outPointTo(e.out_point),depType:Me.depTypeTo(e.dep_type)})}static transactionFrom(e){const r=Ut.from(e);return{version:Qa(r.version),cell_deps:r.cellDeps.map(n=>Me.cellDepFrom(n)),header_deps:r.headerDeps,inputs:r.inputs.map(n=>Me.cellInputFrom(n)),outputs:r.outputs.map(n=>Me.cellOutputFrom(n)),outputs_data:r.outputsData,witnesses:r.witnesses}}static transactionTo(e){return Ut.from({version:e.version,cellDeps:e.cell_deps.map(r=>Me.cellDepTo(r)),headerDeps:e.header_deps,inputs:e.inputs.map(r=>Me.cellInputTo(r)),outputs:e.outputs.map(r=>Me.cellOutputTo(r)),outputsData:e.outputs_data,witnesses:e.witnesses})}static transactionResponseTo({cycles:e,tx_status:{status:r,block_number:n,block_hash:i,tx_index:a,reason:s},transaction:o}){if(o!=null)return{transaction:Me.transactionTo(o),status:r,cycles:Pe(Ie,e),blockHash:Pe(me,i),blockNumber:Pe(Ie,n),txIndex:Pe(Ie,a),reason:s}}static blockHeaderTo(e){const r=Te(e.dao);return{compactTarget:Ie(e.compact_target),dao:{c:Dh(r.slice(0,8)),ar:Dh(r.slice(8,16)),s:Dh(r.slice(16,24)),u:Dh(r.slice(24,32))},epoch:qY(e.epoch),extraHash:e.extra_hash,hash:e.hash,nonce:Ie(e.nonce),number:Ie(e.number),parentHash:e.parent_hash,proposalsHash:e.proposals_hash,timestamp:Ie(e.timestamp),transactionsRoot:e.transactions_root,version:Ie(e.version)}}static blockUncleTo(e){return{header:Me.blockHeaderTo(e.header),proposals:e.proposals}}static blockTo(e){return{header:Me.blockHeaderTo(e.header),proposals:e.proposals,transactions:e.transactions.map(r=>Me.transactionTo(r)),uncles:e.uncles.map(r=>Me.blockUncleTo(r))}}static rangeFrom([e,r]){return[Qa(e),Qa(r)]}static indexerSearchKeyFilterFrom(e){return{script:Pe(Me.scriptFrom,e.script),script_len_range:Pe(Me.rangeFrom,e.scriptLenRange),output_data:e.outputData,output_data_filter_mode:e.outputDataSearchMode,output_data_len_range:Pe(Me.rangeFrom,e.outputDataLenRange),output_capacity_range:Pe(Me.rangeFrom,e.outputCapacityRange),block_range:Pe(Me.rangeFrom,e.blockRange)}}static indexerSearchKeyFrom(e){const r=$1.from(e);return{script:Me.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Pe(Me.indexerSearchKeyFilterFrom,r.filter),with_data:r.withData}}static findCellsResponseTo({last_cursor:e,objects:r}){return{lastCursor:e,cells:r.map(n=>ns.from({outPoint:Me.outPointTo(n.out_point),cellOutput:Me.cellOutputTo(n.output),outputData:n.output_data??"0x"}))}}static indexerSearchKeyTransactionFrom(e){const r=$5.from(e);return{script:Me.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Pe(Me.indexerSearchKeyFilterFrom,r.filter),group_by_transaction:r.groupByTransaction}}static findTransactionsResponseTo({last_cursor:e,objects:r}){return r.length===0?{lastCursor:e,transactions:[]}:"io_index"in r[0]?{lastCursor:e,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Ie(n.block_number),txIndex:Ie(n.tx_index),cellIndex:Ie(n.io_index),isInput:n.io_type==="input"}))}:{lastCursor:e,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Ie(n.block_number),txIndex:Ie(n.tx_index),cells:n.cells.map(([i,a])=>({isInput:i==="input",cellIndex:Ie(a)}))}))}}}function AE(t,e){return e?e(t):t}const iG=[["Resolve\\(Unknown\\(OutPoint\\((0x.*)\\)\\)\\)",(t,e)=>new QY(t,Er.fromBytes(e[1]))],["Verification\\(Error { kind: Script, inner: TransactionScriptError { source: (Inputs|Outputs)\\[([0-9]*)\\].(Lock|Type), cause: ValidationFailure: see error code (-?[0-9])* on page https://nervosnetwork\\.github\\.io/ckb-script-error-codes/by-(type|data)-hash/(.*)\\.html",(t,e)=>new VY(t,e[3]==="Lock"?"lock":e[1]==="Inputs"?"inputType":"outputType",e[2],Number(e[4]),e[5]==="data"?"data":"type",e[6])],["Duplicated\\(Byte32\\((0x.*)\\)\\)",(t,e)=>new YY(t,e[1])],[`RBFRejected\\("Tx's current fee is ([0-9]*), expect it to >= ([0-9]*) to replace old txs"\\)`,(t,e)=>new GY(t,e[1],e[2])]];class oR extends JY{constructor(e,r){super(r),this.url_=e,this.id=0,this.getFeeRateStatistics=this.buildSender("get_fee_rate_statistics",[n=>Pe(Ie,n)],({mean:n,median:i})=>({mean:Ie(n),median:Ie(i)})),this.getTip=this.buildSender("get_tip_block_number",[],Ie),this.getTipHeader=this.buildSender("get_tip_header",[],n=>Pe(Me.blockHeaderTo,n)),this.getBlockByNumber=this.buildSender("get_block_by_number",[n=>Qa(Ie(n))],n=>Pe(Me.blockTo,n)),this.getBlockByHash=this.buildSender("get_block",[me],n=>Pe(Me.blockTo,n)),this.getHeaderByNumber=this.buildSender("get_header_by_number",[n=>Qa(Ie(n))],n=>Pe(Me.blockHeaderTo,n)),this.getHeaderByHash=this.buildSender("get_header",[me],n=>Pe(Me.blockHeaderTo,n)),this.estimateCycles=this.buildSender("estimate_cycles",[Me.transactionFrom],({cycles:n})=>Ie(n)),this.sendTransactionDry=this.buildSender("test_tx_pool_accept",[Me.transactionFrom],({cycles:n})=>Ie(n)),this.sendTransactionNoCache=this.buildSender("send_transaction",[Me.transactionFrom],me),this.getTransactionNoCache=this.buildSender("get_transaction",[me],Me.transactionResponseTo),this.findCellsPagedNoCache=this.buildSender("get_cells",[Me.indexerSearchKeyFrom,n=>n??"asc",n=>Qa(n??10)],Me.findCellsResponseTo),this.findTransactionsPaged=this.buildSender("get_transactions",[Me.indexerSearchKeyTransactionFrom,n=>n??"asc",n=>Qa(n??10)],Me.findTransactionsResponseTo),this.getCellsCapacity=this.buildSender("get_cells_capacity",[Me.indexerSearchKeyFrom],({capacity:n})=>Ie(n)),this.transport=nG(e,r)}get url(){return this.url_}getCellLiveNoCache(e,r,n){return this.buildSender("get_live_cell",[Me.outPointFrom],({cell:i})=>Pe(({output:a,data:s})=>ns.from({cellOutput:Me.cellOutputTo(a),outputData:(s==null?void 0:s.content)??"0x",outPoint:e}),i))(e,r??!0,n)}buildSender(e,r,n){return async(...i)=>{const a=this.buildPayload(e,i.concat(Array.from(new Array(Math.max(r.length-i.length,0)))).map((s,o)=>AE(s,r[o])));try{return AE(await this.send(a),n)}catch(s){if(typeof s!="object"||s===null||!("data"in s)||typeof s.data!="string")throw s;const o=s;for(const[f,c]of iG){const u=o.data.match(f);if(u)throw c(o,u)}throw new q1(o)}}}async send(e){const r=await this.transport.request(e);if(r.id!==e.id)throw new Error(`Id mismatched, got ${r.id}, expected ${e.id}`);if(r.error)throw r.error;return r.result}buildPayload(e,r){return{id:this.id++,method:e,params:r,jsonrpc:"2.0"}}}class aG extends oR{constructor(e){super((e==null?void 0:e.url)??(typeof q5<"u"?"wss://mainnet.ckb.dev/ws":"https://mainnet.ckb.dev/"),e),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??eG}get addressPrefix(){return"ckb"}async getKnownScript(e){const r=this.scripts[e];if(!r)throw new Error(`No script information was found for ${e} on ${this.addressPrefix}`);return Z2.from(r)}}const sG=Object.freeze({[De.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:2},depType:"code"}}]},[De.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[De.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[De.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[De.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[De.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[De.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4dcf3f3b09efac8995d6cbee87c5345e812d310094651e0c3d9a730f32dc9263",index:0},depType:"depGroup"}}]},[De.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[De.PWLock]:{codeHash:"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x57a62003daeab9d54aa29b944fc3b451213a5ebdf2e232216a3cfed0dde61b38",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xf6d90bfe3041d0fd7e01c45770241697f5f837974bd6ae1672a7ec0f9f523268"}}]},[De.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[De.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[De.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[De.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:0},depType:"code"}}]},[De.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:1},depType:"code"}}]},[De.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]},[De.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:3},depType:"code"}}]},[De.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[De.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:5},depType:"code"}}]},[De.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:0},depType:"code"}}]},[De.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:1},depType:"code"}}]}});class oG extends oR{constructor(e){super((e==null?void 0:e.url)??(typeof q5<"u"?"wss://testnet.ckb.dev/ws":"https://testnet.ckb.dev/"),e),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??sG}get addressPrefix(){return"ckt"}async getKnownScript(e){const r=this.scripts[e];return Z2.from(r)}}function fG(t){try{const{words:e,prefix:r}=Dp.decode(t,m6),[n,...i]=Dp.fromWords(e);if(n===Ga.Full)return{prefix:r,format:Ga.Full,payload:i}}catch{}try{const{prefix:e,words:r}=Au.decode(t,m6),[n,...i]=Au.fromWords(r);if([Ga.FullData,Ga.FullType,Ga.Short].includes(n))return{prefix:e,format:n,payload:i}}catch{}throw Error(`Unknown address format ${t}`)}async function cG(t,e,r,n){if(e===Ga.Full){if(r.length<33)throw new Error(`Invalid full address without enough payload ${me(r)}`);return{script:{codeHash:r.slice(0,32),hashType:aR(r.slice(32,33)),args:r.slice(33)},prefix:t}}if(e===Ga.FullData){if(r.length<32)throw new Error(`Invalid full data address without enough payload ${me(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"data",args:r.slice(32)},prefix:t}}if(e===Ga.FullType){if(r.length<32)throw new Error(`Invalid full type address without enough payload ${me(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"type",args:r.slice(32)},prefix:t}}if(r.length!==21)throw new Error(`Invalid short address without enough payload ${me(r)}`);const i=[De.Secp256k1Blake160,De.Secp256k1Multisig,De.AnyoneCanPay][r[0]];if(i===void 0)throw new Error(`Invalid short address with unknown script ${me(r)}`);return{script:await at.fromKnownScript(n,i,r.slice(1)),prefix:t}}var Ga;(function(t){t[t.Full=0]="Full",t[t.Short=1]="Short",t[t.FullData=2]="FullData",t[t.FullType=4]="FullType"})(Ga||(Ga={}));const m6=1023;class ca{constructor(e,r){this.script=e,this.prefix=r}static from(e){return e instanceof ca?e:new ca(at.from(e.script),e.prefix)}static async fromString(e,r){const{prefix:n,format:i,payload:a}=fG(e),s=r[n]??r;if(!s)throw new Error(`Unknown address prefix ${n}`);const o=s.addressPrefix;if(o!==n)throw new Error(`Unknown address prefix ${n}, expected ${o}`);return ca.from(await cG(n,i,a,s))}static fromScript(e,r){return ca.from({script:e,prefix:r.addressPrefix})}static async fromKnownScript(e,r,n){return ca.from({script:await at.fromKnownScript(e,r,n),prefix:e.addressPrefix})}toString(){const e=j1([Ga.Full],Te(this.script.codeHash),iR(this.script.hashType),Te(this.script.args));return Dp.encode(this.prefix,Dp.toWords(e),m6)}}function uG(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,o,n)}const lG=(t,e,r)=>t&e^~t&r,dG=(t,e,r)=>t&e^t&r^e&r;let fR=class extends H5{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=W_(this.buffer)}update(e){Rd(this);const{view:r,buffer:n,blockLen:i}=this;e=rc(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=W_(e);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rd(this),L5(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;uG(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=W_(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}};const hG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),df=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hf=new Uint32Array(64);let pG=class extends fR{constructor(){super(64,32,8,!1),this.A=df[0]|0,this.B=df[1]|0,this.C=df[2]|0,this.D=df[3]|0,this.E=df[4]|0,this.F=df[5]|0,this.G=df[6]|0,this.H=df[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[e,r,n,i,a,s,o,f]}set(e,r,n,i,a,s,o,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)hf[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const p=hf[l-15],g=hf[l-2],m=gs(p,7)^gs(p,18)^p>>>3,A=gs(g,17)^gs(g,19)^g>>>10;hf[l]=A+hf[l-7]+m+hf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const p=gs(o,6)^gs(o,11)^gs(o,25),g=u+p+lG(o,f,c)+hG[l]+hf[l]|0,A=(gs(n,2)^gs(n,13)^gs(n,22))+dG(n,i,a)|0;u=c,c=f,f=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){hf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const cR=P5(()=>new pG),bG=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),uR=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),gG=uR.map(t=>(9*t+5)%16);let K5=[uR],Q5=[gG];for(let t=0;t<4;t++)for(let e of[K5,Q5])e.push(e[t].map(r=>bG[r]));const lR=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),yG=K5.map((t,e)=>t.map(r=>lR[e][r])),vG=Q5.map((t,e)=>t.map(r=>lR[e][r])),_G=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),mG=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function EE(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const Gb=new Uint32Array(16);let wG=class extends fR{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:i,h4:a}=this;return[e,r,n,i,a]}set(e,r,n,i,a){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=a|0}process(e,r){for(let g=0;g<16;g++,r+=4)Gb[g]=e.getUint32(r,!0);let n=this.h0|0,i=n,a=this.h1|0,s=a,o=this.h2|0,f=o,c=this.h3|0,u=c,l=this.h4|0,p=l;for(let g=0;g<5;g++){const m=4-g,A=_G[g],S=mG[g],w=K5[g],C=Q5[g],O=yG[g],M=vG[g];for(let N=0;N<16;N++){const K=Qb(n+EE(g,a,o,c)+Gb[w[N]]+A,O[N])+l|0;n=l,l=c,c=Qb(o,10)|0,o=a,a=K}for(let N=0;N<16;N++){const K=Qb(i+EE(m,s,f,u)+Gb[C[N]]+S,M[N])+p|0;i=p,p=u,u=Qb(f,10)|0,f=s,s=K}}this.set(this.h1+o+u|0,this.h2+c+p|0,this.h3+l+i|0,this.h4+n+s|0,this.h0+a+f|0)}roundClean(){Gb.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};const AG=P5(()=>new wG);function xE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function EG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ev(t,...e){if(!EG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function xG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xE(t.outputLen),xE(t.blockLen)}function xy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SG(t,e){ev(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const sl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys=(t,e)=>t<<32-e|t>>>e;function IG(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function V5(t){return typeof t=="string"&&(t=IG(t)),ev(t),t}function CG(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ev(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}let dR=class{clone(){return this._cloneInto()}};function TG(t){const e=n=>t().update(V5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function hR(t=32){if(sl&&typeof sl.getRandomValues=="function")return sl.getRandomValues(new Uint8Array(t));if(sl&&typeof sl.randomBytes=="function")return sl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function OG(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,o,n)}const BG=(t,e,r)=>t&e^~t&r,DG=(t,e,r)=>t&e^t&r^e&r;class MG extends dR{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=J_(this.buffer)}update(e){xy(this);const{view:r,buffer:n,blockLen:i}=this;e=V5(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=J_(e);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xy(this),SG(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;OG(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=J_(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const RG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bf=new Uint32Array(64);let LG=class extends MG{constructor(){super(64,32,8,!1),this.A=pf[0]|0,this.B=pf[1]|0,this.C=pf[2]|0,this.D=pf[3]|0,this.E=pf[4]|0,this.F=pf[5]|0,this.G=pf[6]|0,this.H=pf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[e,r,n,i,a,s,o,f]}set(e,r,n,i,a,s,o,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)bf[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const p=bf[l-15],g=bf[l-2],m=ys(p,7)^ys(p,18)^p>>>3,A=ys(g,17)^ys(g,19)^g>>>10;bf[l]=A+bf[l-7]+m+bf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const p=ys(o,6)^ys(o,11)^ys(o,25),g=u+p+BG(o,f,c)+RG[l]+bf[l]|0,A=(ys(n,2)^ys(n,13)^ys(n,22))+DG(n,i,a)|0;u=c,c=f,f=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){bf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const w6=TG(()=>new LG);let pR=class extends dR{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,xG(e);const n=V5(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return xy(this),this.iHash.update(e),this}digestInto(e){xy(this),ev(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const bR=(t,e,r)=>new pR(t,e).update(r).digest();bR.create=(t,e)=>new pR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tv=BigInt(0),rv=BigInt(1),HG=BigInt(2);function Iu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function K1(t){if(!Iu(t))throw new Error("Uint8Array expected")}function Hd(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const PG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pd(t){K1(t);let e="";for(let r=0;r<t.length;r++)e+=PG[t[r]];return e}function Cl(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Y5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?tv:BigInt("0x"+t)}const so={_0:48,_9:57,A:65,F:70,a:97,f:102};function SE(t){if(t>=so._0&&t<=so._9)return t-so._0;if(t>=so.A&&t<=so.F)return t-(so.A-10);if(t>=so.a&&t<=so.f)return t-(so.a-10)}function Nd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,a=0;i<r;i++,a+=2){const s=SE(t.charCodeAt(a)),o=SE(t.charCodeAt(a+1));if(s===void 0||o===void 0){const f=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}n[i]=s*16+o}return n}function Lo(t){return Y5(Pd(t))}function G5(t){return K1(t),Y5(Pd(Uint8Array.from(t).reverse()))}function hc(t,e){return Nd(t.toString(16).padStart(e*2,"0"))}function W5(t,e){return hc(t,e).reverse()}function NG(t){return Nd(Cl(t))}function gn(t,e,r){let n;if(typeof e=="string")try{n=Nd(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Iu(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Cu(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];K1(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}function UG(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function kG(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const em=t=>typeof t=="bigint"&&tv<=t;function Ud(t,e,r){return em(t)&&em(e)&&em(r)&&e<=t&&t<r}function nc(t,e,r,n){if(!Ud(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function gR(t){let e;for(e=0;t>tv;t>>=rv,e+=1);return e}function zG(t,e){return t>>BigInt(e)&rv}function jG(t,e,r){return t|(r?rv:tv)<<BigInt(e)}const X5=t=>(HG<<BigInt(t-1))-rv,tm=t=>new Uint8Array(t),IE=t=>Uint8Array.from(t);function yR(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=tm(t),i=tm(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),f=(l=tm())=>{i=o(IE([0]),l),n=o(),l.length!==0&&(i=o(IE([1]),l),n=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<e;){n=o();const g=n.slice();p.push(g),l+=n.length}return Cu(...p)};return(l,p)=>{s(),f(l);let g;for(;!(g=p(c()));)f();return s(),g}}const FG={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Iu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Q1(t,e,r={}){const n=(i,a,s)=>{const o=FG[a];if(typeof o!="function")throw new Error("invalid validator function");const f=t[i];if(!(s&&f===void 0)&&!o(f,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+f)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const $G=()=>{throw new Error("not implemented")};function A6(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const a=t(r,...n);return e.set(r,a),a}}const qG=Object.freeze(Object.defineProperty({__proto__:null,aInRange:nc,abool:Hd,abytes:K1,bitGet:zG,bitLen:gR,bitMask:X5,bitSet:jG,bytesToHex:Pd,bytesToNumberBE:Lo,bytesToNumberLE:G5,concatBytes:Cu,createHmacDrbg:yR,ensureBytes:gn,equalBytes:UG,hexToBytes:Nd,hexToNumber:Y5,inRange:Ud,isBytes:Iu,memoized:A6,notImplemented:$G,numberToBytesBE:hc,numberToBytesLE:W5,numberToHexUnpadded:Cl,numberToVarBytesBE:NG,utf8ToBytes:kG,validateObject:Q1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ur=BigInt(0),dr=BigInt(1),Fc=BigInt(2),KG=BigInt(3),E6=BigInt(4),CE=BigInt(5),TE=BigInt(8);function Wr(t,e){const r=t%e;return r>=Ur?r:e+r}function QG(t,e,r){if(e<Ur)throw new Error("invalid exponent, negatives unsupported");if(r<=Ur)throw new Error("invalid modulus");if(r===dr)return Ur;let n=dr;for(;e>Ur;)e&dr&&(n=n*t%r),t=t*t%r,e>>=dr;return n}function Gi(t,e,r){let n=t;for(;e-- >Ur;)n*=n,n%=r;return n}function x6(t,e){if(t===Ur)throw new Error("invert: expected non-zero number");if(e<=Ur)throw new Error("invert: expected positive modulus, got "+e);let r=Wr(t,e),n=e,i=Ur,a=dr;for(;r!==Ur;){const o=n/r,f=n%r,c=i-a*o;n=r,r=f,i=a,a=c}if(n!==dr)throw new Error("invert: does not exist");return Wr(i,e)}function VG(t){const e=(t-dr)/Fc;let r,n,i;for(r=t-dr,n=0;r%Fc===Ur;r/=Fc,n++);for(i=Fc;i<t&&QG(i,e,t)!==t-dr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const s=(t+dr)/E6;return function(f,c){const u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(r+dr)/Fc;return function(o,f){if(o.pow(f,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(f,a),p=o.pow(f,r);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let g=1;for(let A=o.sqr(p);g<c&&!o.eql(A,o.ONE);g++)A=o.sqr(A);const m=o.pow(u,dr<<BigInt(c-g-1));u=o.sqr(m),l=o.mul(l,m),p=o.mul(p,u),c=g}return l}}function YG(t){if(t%E6===KG){const e=(t+dr)/E6;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%TE===CE){const e=(t-CE)/TE;return function(n,i){const a=n.mul(i,Fc),s=n.pow(a,e),o=n.mul(i,s),f=n.mul(n.mul(o,Fc),s),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return VG(t)}const GG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function WG(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=GG.reduce((n,i)=>(n[i]="function",n),e);return Q1(t,r)}function XG(t,e,r){if(r<Ur)throw new Error("invalid exponent, negatives unsupported");if(r===Ur)return t.ONE;if(r===dr)return e;let n=t.ONE,i=e;for(;r>Ur;)r&dr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=dr;return n}function ZG(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function vR(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function _R(t,e,r=!1,n={}){if(t<=Ur)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:a}=vR(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:X5(i),ZERO:Ur,ONE:dr,create:f=>Wr(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Ur<=f&&f<t},is0:f=>f===Ur,isOdd:f=>(f&dr)===dr,neg:f=>Wr(-f,t),eql:(f,c)=>f===c,sqr:f=>Wr(f*f,t),add:(f,c)=>Wr(f+c,t),sub:(f,c)=>Wr(f-c,t),mul:(f,c)=>Wr(f*c,t),pow:(f,c)=>XG(o,f,c),div:(f,c)=>Wr(f*x6(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>x6(f,t),sqrt:n.sqrt||(f=>(s||(s=YG(t)),s(o,f))),invertBatch:f=>ZG(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?W5(f,a):hc(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return r?G5(f):Lo(f)}});return Object.freeze(o)}function mR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function wR(t){const e=mR(t);return e+Math.ceil(e/2)}function JG(t,e,r=!1){const n=t.length,i=mR(e),a=wR(e);if(n<16||n<a||n>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+n);const s=r?Lo(t):G5(t),o=Wr(s,e-dr)+dr;return r?W5(o,i):hc(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OE=BigInt(0),Wb=BigInt(1);function rm(t,e){const r=e.negate();return t?r:e}function AR(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function nm(t,e){AR(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function eW(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function tW(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const im=new WeakMap,ER=new WeakMap;function am(t){return ER.get(t)||1}function rW(t,e){return{constTimeNegate:rm,hasPrecomputes(r){return am(r)!==1},unsafeLadder(r,n,i=t.ZERO){let a=r;for(;n>OE;)n&Wb&&(i=i.add(a)),a=a.double(),n>>=Wb;return i},precomputeWindow(r,n){const{windows:i,windowSize:a}=nm(n,e),s=[];let o=r,f=o;for(let c=0;c<i;c++){f=o,s.push(f);for(let u=1;u<a;u++)f=f.add(o),s.push(f);o=f.double()}return s},wNAF(r,n,i){const{windows:a,windowSize:s}=nm(r,e);let o=t.ZERO,f=t.BASE;const c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let p=0;p<a;p++){const g=p*s;let m=Number(i&c);i>>=l,m>s&&(m-=u,i+=Wb);const A=g,S=g+Math.abs(m)-1,w=p%2!==0,C=m<0;m===0?f=f.add(rm(w,n[A])):o=o.add(rm(C,n[S]))}return{p:o,f}},wNAFUnsafe(r,n,i,a=t.ZERO){const{windows:s,windowSize:o}=nm(r,e),f=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let l=0;l<s;l++){const p=l*o;if(i===OE)break;let g=Number(i&f);if(i>>=u,g>o&&(g-=c,i+=Wb),g===0)continue;let m=n[p+Math.abs(g)-1];g<0&&(m=m.negate()),a=a.add(m)}return a},getPrecomputes(r,n,i){let a=im.get(n);return a||(a=this.precomputeWindow(n,r),r!==1&&im.set(n,i(a))),a},wNAFCached(r,n,i){const a=am(r);return this.wNAF(a,this.getPrecomputes(a,r,i),n)},wNAFCachedUnsafe(r,n,i,a){const s=am(r);return s===1?this.unsafeLadder(r,n,a):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,a)},setWindowSize(r,n){AR(n,e),ER.set(r,n),im.delete(r)}}}function nW(t,e,r,n){if(eW(r,t),tW(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,a=gR(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,f=new Array(o+1).fill(i),c=Math.floor((e.BITS-1)/s)*s;let u=i;for(let l=c;l>=0;l-=s){f.fill(i);for(let g=0;g<n.length;g++){const m=n[g],A=Number(m>>BigInt(l)&BigInt(o));f[A]=f[A].add(r[g])}let p=i;for(let g=f.length-1,m=i;g>0;g--)m=m.add(f[g]),p=p.add(m);if(u=u.add(p),l!==0)for(let g=0;g<s;g++)u=u.double()}return u}function xR(t){return WG(t.Fp),Q1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BE(t){t.lowS!==void 0&&Hd("lowS",t.lowS),t.prehash!==void 0&&Hd("prehash",t.prehash)}function iW(t){const e=xR(t);Q1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:aW,hexToBytes:sW}=qG,uo={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:r}=uo;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Cl(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const a=n>127?Cl(i.length/2|128):"";return Cl(t)+a+i+e},decode(t,e){const{Err:r}=uo;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],a=!!(i&128);let s=0;if(!a)s=i;else{const f=i&127;if(!f)throw new r("tlv.decode(long): indefinite length not supported");if(f>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+f);if(c.length!==f)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(n+=f,s<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=uo;if(t<_o)throw new e("integer: negative integers are not allowed");let r=Cl(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=uo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return aW(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=uo,i=typeof t=="string"?sW(t):t;K1(i);const{v:a,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:f}=n.decode(2,a),{v:c,l:u}=n.decode(2,f);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=uo,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),a=n+i;return e.encode(48,a)}},_o=BigInt(0),Mr=BigInt(1);BigInt(2);const DE=BigInt(3);BigInt(4);function oW(t){const e=iW(t),{Fp:r}=e,n=_R(e.n,e.nBitLength),i=e.toBytes||((A,S,w)=>{const C=S.toAffine();return Cu(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),a=e.fromBytes||(A=>{const S=A.subarray(1),w=r.fromBytes(S.subarray(0,r.BYTES)),C=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:w,y:C}});function s(A){const{a:S,b:w}=e,C=r.sqr(A),O=r.mul(C,A);return r.add(r.add(O,r.mul(A,S)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return Ud(A,Mr,e.n)}function f(A){const{allowedPrivateKeyLengths:S,nByteLength:w,wrapPrivateKey:C,n:O}=e;if(S&&typeof A!="bigint"){if(Iu(A)&&(A=Pd(A)),typeof A!="string"||!S.includes(A.length))throw new Error("invalid private key");A=A.padStart(w*2,"0")}let M;try{M=typeof A=="bigint"?A:Lo(gn("private key",A,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof A)}return C&&(M=Wr(M,O)),nc("private key",M,Mr,O),M}function c(A){if(!(A instanceof p))throw new Error("ProjectivePoint expected")}const u=A6((A,S)=>{const{px:w,py:C,pz:O}=A;if(r.eql(O,r.ONE))return{x:w,y:C};const M=A.is0();S==null&&(S=M?r.ONE:r.inv(O));const N=r.mul(w,S),K=r.mul(C,S),Q=r.mul(O,S);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:N,y:K}}),l=A6(A=>{if(A.is0()){if(e.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=A.toAffine();if(!r.isValid(S)||!r.isValid(w))throw new Error("bad point: x or y not FE");const C=r.sqr(w),O=s(S);if(!r.eql(C,O))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(S,w,C){if(this.px=S,this.py=w,this.pz=C,S==null||!r.isValid(S))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(S){const{x:w,y:C}=S||{};if(!S||!r.isValid(w)||!r.isValid(C))throw new Error("invalid affine point");if(S instanceof p)throw new Error("projective point not allowed");const O=M=>r.eql(M,r.ZERO);return O(w)&&O(C)?p.ZERO:new p(w,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const w=r.invertBatch(S.map(C=>C.pz));return S.map((C,O)=>C.toAffine(w[O])).map(p.fromAffine)}static fromHex(S){const w=p.fromAffine(a(gn("pointHex",S)));return w.assertValidity(),w}static fromPrivateKey(S){return p.BASE.multiply(f(S))}static msm(S,w){return nW(p,n,S,w)}_setWindowSize(S){m.setWindowSize(this,S)}assertValidity(){l(this)}hasEvenY(){const{y:S}=this.toAffine();if(r.isOdd)return!r.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){c(S);const{px:w,py:C,pz:O}=this,{px:M,py:N,pz:K}=S,Q=r.eql(r.mul(w,K),r.mul(M,O)),j=r.eql(r.mul(C,K),r.mul(N,O));return Q&&j}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){const{a:S,b:w}=e,C=r.mul(w,DE),{px:O,py:M,pz:N}=this;let K=r.ZERO,Q=r.ZERO,j=r.ZERO,G=r.mul(O,O),W=r.mul(M,M),R=r.mul(N,N),_=r.mul(O,M);return _=r.add(_,_),j=r.mul(O,N),j=r.add(j,j),K=r.mul(S,j),Q=r.mul(C,R),Q=r.add(K,Q),K=r.sub(W,Q),Q=r.add(W,Q),Q=r.mul(K,Q),K=r.mul(_,K),j=r.mul(C,j),R=r.mul(S,R),_=r.sub(G,R),_=r.mul(S,_),_=r.add(_,j),j=r.add(G,G),G=r.add(j,G),G=r.add(G,R),G=r.mul(G,_),Q=r.add(Q,G),R=r.mul(M,N),R=r.add(R,R),G=r.mul(R,_),K=r.sub(K,G),j=r.mul(R,W),j=r.add(j,j),j=r.add(j,j),new p(K,Q,j)}add(S){c(S);const{px:w,py:C,pz:O}=this,{px:M,py:N,pz:K}=S;let Q=r.ZERO,j=r.ZERO,G=r.ZERO;const W=e.a,R=r.mul(e.b,DE);let _=r.mul(w,M),I=r.mul(C,N),b=r.mul(O,K),v=r.add(w,C),d=r.add(M,N);v=r.mul(v,d),d=r.add(_,I),v=r.sub(v,d),d=r.add(w,O);let y=r.add(M,K);return d=r.mul(d,y),y=r.add(_,b),d=r.sub(d,y),y=r.add(C,O),Q=r.add(N,K),y=r.mul(y,Q),Q=r.add(I,b),y=r.sub(y,Q),G=r.mul(W,d),Q=r.mul(R,b),G=r.add(Q,G),Q=r.sub(I,G),G=r.add(I,G),j=r.mul(Q,G),I=r.add(_,_),I=r.add(I,_),b=r.mul(W,b),d=r.mul(R,d),I=r.add(I,b),b=r.sub(_,b),b=r.mul(W,b),d=r.add(d,b),_=r.mul(I,d),j=r.add(j,_),_=r.mul(y,d),Q=r.mul(v,Q),Q=r.sub(Q,_),_=r.mul(v,I),G=r.mul(y,G),G=r.add(G,_),new p(Q,j,G)}subtract(S){return this.add(S.negate())}is0(){return this.equals(p.ZERO)}wNAF(S){return m.wNAFCached(this,S,p.normalizeZ)}multiplyUnsafe(S){const{endo:w,n:C}=e;nc("scalar",S,_o,C);const O=p.ZERO;if(S===_o)return O;if(this.is0()||S===Mr)return this;if(!w||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,S,p.normalizeZ);let{k1neg:M,k1:N,k2neg:K,k2:Q}=w.splitScalar(S),j=O,G=O,W=this;for(;N>_o||Q>_o;)N&Mr&&(j=j.add(W)),Q&Mr&&(G=G.add(W)),W=W.double(),N>>=Mr,Q>>=Mr;return M&&(j=j.negate()),K&&(G=G.negate()),G=new p(r.mul(G.px,w.beta),G.py,G.pz),j.add(G)}multiply(S){const{endo:w,n:C}=e;nc("scalar",S,Mr,C);let O,M;if(w){const{k1neg:N,k1:K,k2neg:Q,k2:j}=w.splitScalar(S);let{p:G,f:W}=this.wNAF(K),{p:R,f:_}=this.wNAF(j);G=m.constTimeNegate(N,G),R=m.constTimeNegate(Q,R),R=new p(r.mul(R.px,w.beta),R.py,R.pz),O=G.add(R),M=W.add(_)}else{const{p:N,f:K}=this.wNAF(S);O=N,M=K}return p.normalizeZ([O,M])[0]}multiplyAndAddUnsafe(S,w,C){const O=p.BASE,M=(K,Q)=>Q===_o||Q===Mr||!K.equals(O)?K.multiplyUnsafe(Q):K.multiply(Q),N=M(this,w).add(M(S,C));return N.is0()?void 0:N}toAffine(S){return u(this,S)}isTorsionFree(){const{h:S,isTorsionFree:w}=e;if(S===Mr)return!0;if(w)return w(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:w}=e;return S===Mr?this:w?w(p,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return Hd("isCompressed",S),this.assertValidity(),i(p,this,S)}toHex(S=!0){return Hd("isCompressed",S),Pd(this.toRawBytes(S))}}p.BASE=new p(e.Gx,e.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);const g=e.nBitLength,m=rW(p,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:o}}function fW(t){const e=xR(t);return Q1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function cW(t){const e=fW(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(b){return Wr(b,n)}function o(b){return x6(b,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:l}=oW({...e,toBytes(b,v,d){const y=v.toAffine(),x=r.toBytes(y.x),E=Cu;return Hd("isCompressed",d),d?E(Uint8Array.from([v.hasEvenY()?2:3]),x):E(Uint8Array.from([4]),x,r.toBytes(y.y))},fromBytes(b){const v=b.length,d=b[0],y=b.subarray(1);if(v===i&&(d===2||d===3)){const x=Lo(y);if(!Ud(x,Mr,r.ORDER))throw new Error("Point is not on curve");const E=u(x);let h;try{h=r.sqrt(E)}catch(L){const k=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+k)}const T=(h&Mr)===Mr;return(d&1)===1!==T&&(h=r.neg(h)),{x,y:h}}else if(v===a&&d===4){const x=r.fromBytes(y.subarray(0,r.BYTES)),E=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x,y:E}}else{const x=i,E=a;throw new Error("invalid Point, expected length of "+x+", or uncompressed "+E+", got "+v)}}}),p=b=>Pd(hc(b,e.nByteLength));function g(b){const v=n>>Mr;return b>v}function m(b){return g(b)?s(-b):b}const A=(b,v,d)=>Lo(b.slice(v,d));class S{constructor(v,d,y){this.r=v,this.s=d,this.recovery=y,this.assertValidity()}static fromCompact(v){const d=e.nByteLength;return v=gn("compactSignature",v,d*2),new S(A(v,0,d),A(v,d,2*d))}static fromDER(v){const{r:d,s:y}=uo.toSig(gn("DER",v));return new S(d,y)}assertValidity(){nc("r",this.r,Mr,n),nc("s",this.s,Mr,n)}addRecoveryBit(v){return new S(this.r,this.s,v)}recoverPublicKey(v){const{r:d,s:y,recovery:x}=this,E=K(gn("msgHash",v));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const h=x===2||x===3?d+e.n:d;if(h>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=x&1?"03":"02",F=f.fromHex(T+p(h)),L=o(h),k=s(-E*L),$=s(y*L),H=f.BASE.multiplyAndAddUnsafe(F,k,$);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Nd(this.toDERHex())}toDERHex(){return uo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nd(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(b){try{return c(b),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const b=wR(e.n);return JG(e.randomBytes(b),e.n)},precompute(b=8,v=f.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function C(b,v=!0){return f.fromPrivateKey(b).toRawBytes(v)}function O(b){const v=Iu(b),d=typeof b=="string",y=(v||d)&&b.length;return v?y===i||y===a:d?y===2*i||y===2*a:b instanceof f}function M(b,v,d=!0){if(O(b))throw new Error("first arg must be private key");if(!O(v))throw new Error("second arg must be public key");return f.fromHex(v).multiply(c(b)).toRawBytes(d)}const N=e.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const v=Lo(b),d=b.length*8-e.nBitLength;return d>0?v>>BigInt(d):v},K=e.bits2int_modN||function(b){return s(N(b))},Q=X5(e.nBitLength);function j(b){return nc("num < 2^"+e.nBitLength,b,_o,Q),hc(b,e.nByteLength)}function G(b,v,d=W){if(["recovered","canonical"].some(X=>X in d))throw new Error("sign() legacy options not supported");const{hash:y,randomBytes:x}=e;let{lowS:E,prehash:h,extraEntropy:T}=d;E==null&&(E=!0),b=gn("msgHash",b),BE(d),h&&(b=gn("prehashed msgHash",y(b)));const F=K(b),L=c(v),k=[j(L),j(F)];if(T!=null&&T!==!1){const X=T===!0?x(r.BYTES):T;k.push(gn("extraEntropy",X))}const $=Cu(...k),H=F;function q(X){const te=N(X);if(!l(te))return;const re=o(te),U=f.BASE.multiply(te).toAffine(),P=s(U.x);if(P===_o)return;const ne=s(re*s(H+P*L));if(ne===_o)return;let fe=(U.x===P?0:2)|Number(U.y&Mr),de=ne;return E&&g(ne)&&(de=m(ne),fe^=1),new S(P,de,fe)}return{seed:$,k2sig:q}}const W={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function _(b,v,d=W){const{seed:y,k2sig:x}=G(b,v,d),E=e;return yR(E.hash.outputLen,E.nByteLength,E.hmac)(y,x)}f.BASE._setWindowSize(8);function I(b,v,d,y=R){var fe;const x=b;v=gn("msgHash",v),d=gn("publicKey",d);const{lowS:E,prehash:h,format:T}=y;if(BE(y),"strict"in y)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const F=typeof x=="string"||Iu(x),L=!F&&!T&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!F&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let k,$;try{if(L&&(k=new S(x.r,x.s)),F){try{T!=="compact"&&(k=S.fromDER(x))}catch(de){if(!(de instanceof uo.Err))throw de}!k&&T!=="der"&&(k=S.fromCompact(x))}$=f.fromHex(d)}catch{return!1}if(!k||E&&k.hasHighS())return!1;h&&(v=e.hash(v));const{r:H,s:q}=k,X=K(v),te=o(q),re=s(X*te),U=s(H*te),P=(fe=f.BASE.multiplyAndAddUnsafe($,re,U))==null?void 0:fe.toAffine();return P?s(P.x)===H:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:M,sign:_,verify:I,ProjectivePoint:f,Signature:S,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uW(t){return{hash:t,hmac:(e,...r)=>bR(t,e,CG(...r)),randomBytes:hR}}function lW(t,e){const r=n=>cW({...t,...uW(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$p=BigInt(1),Iy=BigInt(2),ME=(t,e)=>(t+e/Iy)/e;function SR(t){const e=V1,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Gi(u,r,e)*u%e,p=Gi(l,r,e)*u%e,g=Gi(p,Iy,e)*c%e,m=Gi(g,i,e)*g%e,A=Gi(m,a,e)*m%e,S=Gi(A,o,e)*A%e,w=Gi(S,f,e)*S%e,C=Gi(w,o,e)*A%e,O=Gi(C,r,e)*u%e,M=Gi(O,s,e)*m%e,N=Gi(M,n,e)*c%e,K=Gi(N,Iy,e);if(!S6.eql(S6.sqr(K),t))throw new Error("Cannot find square root");return K}const S6=_R(V1,void 0,void 0,{sqrt:SR}),kd=lW({a:BigInt(0),b:BigInt(7),Fp:S6,n:Sy,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Sy,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-$p*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=ME(a*t,e),f=ME(-n*t,e);let c=Wr(t-o*r-f*i,e),u=Wr(-o*n-f*a,e);const l=c>s,p=u>s;if(l&&(c=e-c),p&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:u}}}},w6),IR=BigInt(0),RE={};function Cy(t,...e){let r=RE[t];if(r===void 0){const n=w6(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Cu(n,n),RE[t]=r}return w6(Cu(r,...e))}const Z5=t=>t.toRawBytes(!0).slice(1),I6=t=>hc(t,32),sm=t=>Wr(t,V1),qp=t=>Wr(t,Sy),J5=kd.ProjectivePoint,dW=(t,e,r)=>J5.BASE.multiplyAndAddUnsafe(t,e,r);function C6(t){let e=kd.utils.normPrivateKeyToScalar(t),r=J5.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:qp(-e),bytes:Z5(r)}}function CR(t){nc("x",t,$p,V1);const e=sm(t*t),r=sm(e*t+BigInt(7));let n=SR(r);n%Iy!==IR&&(n=sm(-n));const i=new J5(t,n,$p);return i.assertValidity(),i}const Kl=Lo;function TR(...t){return qp(Kl(Cy("BIP0340/challenge",...t)))}function hW(t){return C6(t).bytes}function pW(t,e,r=hR(32)){const n=gn("message",t),{bytes:i,scalar:a}=C6(e),s=gn("auxRand",r,32),o=I6(a^Kl(Cy("BIP0340/aux",s))),f=Cy("BIP0340/nonce",o,i,n),c=qp(Kl(f));if(c===IR)throw new Error("sign failed: k is zero");const{bytes:u,scalar:l}=C6(c),p=TR(u,i,n),g=new Uint8Array(64);if(g.set(u,0),g.set(I6(qp(l+p*a)),32),!OR(g,n,i))throw new Error("sign: Invalid signature produced");return g}function OR(t,e,r){const n=gn("signature",t,64),i=gn("message",e),a=gn("publicKey",r,32);try{const s=CR(Kl(a)),o=Kl(n.subarray(0,32));if(!Ud(o,$p,V1))return!1;const f=Kl(n.subarray(32,64));if(!Ud(f,$p,Sy))return!1;const c=TR(I6(o),Z5(s),i),u=dW(s,f,qp(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==o)}catch{return!1}}const bW={getPublicKey:hW,sign:pW,verify:OR,utils:{randomPrivateKey:kd.utils.randomPrivateKey,lift_x:CR,pointToBytes:Z5,numberToBytesBE:hc,bytesToNumberBE:Lo,taggedHash:Cy,mod:Wr}};function gW(t){const e=typeof t=="string"?t:me(t),r=Te(`Nervos Message:${e}`,"utf8");return F1(r)}function yW(t,e,r){const n=Te(e);return kd.verify(new kd.Signature(Ie(n.slice(0,32)),Ie(n.slice(32,64))).addRecoveryBit(Number(Ie(n.slice(64,65)))),Te(gW(t)),Te(r))}function vW(t,e){let r,n,i,a="";for(r in t)if((i=t[r])!==void 0)if(Array.isArray(i))for(n=0;n<i.length;n++)a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i[n])}`;else a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;return""+a}function _W(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(a=>{const s=n[a];typeof s>"u"||s===void 0?delete n[a]:n[a]=r(s)});const i=vW(n).toString();return i?`?${i}`:""}}var mW=_W(JSON.stringify,JSON.parse);function Ty(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4,n=e.padEnd(e.length+r,"="),i=atob(n),a=new ArrayBuffer(i.length),s=new Uint8Array(a);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return a}function Wc(t){const e=new Uint8Array(t);let r="";for(let i=0;i<e.length;i++){const a=e[i];a!=null&&(r+=String.fromCharCode(a))}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function BR(t){const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=Number.parseInt(t.substring(r,r+2),16);return e.buffer}function wW(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}function AW(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r.buffer}function EW(t){return new TextEncoder().encode(t)}function xW(t){let e="";for(let r=0;r<t.length;r+=2)e+=String.fromCharCode(Number.parseInt(t.substr(r,2),16));return e}function DR(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone}var T6=(t=>(t[t.RS256=-257]="RS256",t[t.ES256=-7]="ES256",t))(T6||{}),Us=(t=>(t.Auth="Auth",t.SignMessage="SignMessage",t.SignEvm="SignEvm",t.SignPsbt="SignPsbt",t.BatchSignPsbt="BatchSignPsbt",t.SignCkbTx="SignCkbTx",t.SignCotaNFT="SignCotaNFT",t.SignCkbRawTx="SignCkbRawTx",t.SignNostrEvent="SignNostrEvent",t.EncryptNostrMessage="EncryptNostrMessage",t.EvmWeb2Login="EvmWeb2Login",t.DecryptNostrMessage="DecryptNostrMessage",t.AuthMiniApp="AuthMiniApp",t.SignMiniAppMessage="SignMiniAppMessage",t.SignMiniAppEvm="SignMiniAppEvm",t))(Us||{}),SW={joyidAppURL:"https://testnet.joyid.dev"},IW=()=>SW,ew=class MR extends Error{constructor(e,r){super(r),this.error=e,this.error_description=r,Object.setPrototypeOf(this,MR.prototype)}},CW=class RR extends ew{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,RR.prototype)}},TW=class LR extends CW{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,LR.prototype)}},HR=class PR extends ew{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,PR.prototype)}},OW=class extends ew{constructor(t){super("NotSupported","Popup window is blocked by browser. see: https://docs.joy.id/guide/best-practice#popup-window-blocked"),this.popup=t,Object.setPrototypeOf(this,HR.prototype)}},Ho=(t,e,r)=>{const n=t.joyidAppURL??IW().joyidAppURL,i=new URL(`${n}`);i.pathname=r;let a=t.redirectURL;i.searchParams.set("type",e);const s=mW({...t,redirectURL:a});return i.searchParams.set("_data_",s),i.href},BW=(t="")=>{const n=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(t,"joyid:authorize:popup",`left=${n},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)},DW="joyid-block-dialog-style",tw="joyid-block-dialog-approve",rw="joyid-block-dialog-reject",MW=`
.joyid-block-dialog {
  position: fixed;
  top: 32px;
  left: 50%;
  width: 340px;
  margin-left: -170px;
  background: white;
  color: #333;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  height: 110px;
  z-index: 100002;
  box-sizing: border-box;
  border: 1px solid #ffffff;
  border-radius: 8px;
  padding: 16px 20px;
}
.joyid-block-dialog-bg {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  position: fixed;
  top: 0;
  left: 0;
  display: none;
  z-index: 100001;
  display: block;
}
.joyid-block-dialog-title {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 8px;
}
.joyid-block-dialog-tip {
  font-size: 12px;
  color: #777;
}
.joyid-block-dialog-btn {
  width: 90px;
  height: 35px;
  font-size: 12px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
}
.joyid-block-dialog-action {
  text-align: right;
}
#${tw} {
  border: 1px solid #333;
  color: #333;
  background: #D2FF00;
  margin-bottom: 8px;
}

#${rw} {
  background: transparent;
}
`,RW=`
<div class="joyid-block-dialog">
  <div class="joyid-block-dialog-content">
    <div class="joyid-block-dialog-title">
      Request Pop-up
    </div>
    <div class="joyid-block-dialog-tip">
      Click Approve to complete creating or using wallet
    </div>
  </div>
  <div class="joyid-block-dialog-action">
    <button class="joyid-block-dialog-btn" id="${tw}">Approve</button>
    <button class="joyid-block-dialog-btn" id="${rw}">Reject</button>
  </div>
</div>
`,LW=()=>{if(document.getElementById(DW)!=null)return;const e=document.createElement("style");e.appendChild(document.createTextNode(MW)),(document.head??document.getElementsByTagName("head")[0]).appendChild(e)},HW=async t=>{LW();const e=document.createElement("div");e.innerHTML=RW,document.body.appendChild(e);const r=document.createElement("div");r.className="joyid-block-dialog-bg",document.body.appendChild(r);const n=document.getElementById(tw),i=document.getElementById(rw),a=()=>{document.body.removeChild(e),document.body.removeChild(r)};return new Promise((s,o)=>{n==null||n.addEventListener("click",async()=>{try{const f=await t();a(),s(f)}catch(f){a(),o(f)}}),i==null||i.addEventListener("click",()=>{a(),o(new Error("User Rejected"))})})};class ee extends Array{constructor(e,r){if(e>ee.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(e),this.sign=r}static BigInt(e){var r=Math.floor,n=Number.isFinite;if(typeof e=="number"){if(e===0)return ee.__zero();if((0|e)===e)return 0>e?ee.__oneDigit(-e,!0):ee.__oneDigit(e,!1);if(!n(e)||r(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return ee.__fromDouble(e)}if(typeof e=="string"){const i=ee.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?ee.__oneDigit(1,!1):ee.__zero();if(typeof e=="object"){if(e.constructor===ee)return e;const i=ee.__toPrimitive(e);return ee.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const r of this)e.push((r&&(r>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?ee.__toStringGeneric(this,e,!1):ee.__toStringBasePowerOfTwo(this,e)}static toNumber(e){var r=Math.clz32;const n=e.length;if(n===0)return 0;if(n===1){const w=e.__unsignedDigit(0);return e.sign?-w:w}const i=e.__digit(n-1),a=r(i),s=32*n-a;if(1024<s)return e.sign?-1/0:1/0;let o=s-1,f=i,c=n-1;const u=a+1;let l=u===32?0:f<<u;l>>>=12;const p=u-12;let g=12<=u?0:f<<20+u,m=20+u;0<p&&0<c&&(c--,f=e.__digit(c),l|=f>>>32-p,g=f<<p,m=p),0<m&&0<c&&(c--,f=e.__digit(c),g|=f>>>32-m,m-=32);const A=ee.__decideRounding(e,m,c,f);if((A===1||A===0&&(1&g)==1)&&(g=g+1>>>0,g===0&&(l++,l>>>20!=0&&(l=0,o++,1023<o))))return e.sign?-1/0:1/0;const S=e.sign?-2147483648:0;return o=o+1023<<20,ee.__kBitConversionInts[1]=S|o|l,ee.__kBitConversionInts[0]=g,ee.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const r=e.__copy();return r.sign=!e.sign,r}static bitwiseNot(e){return e.sign?ee.__absoluteSubOne(e).__trim():ee.__absoluteAddOne(e,!0)}static exponentiate(e,r){if(r.sign)throw new RangeError("Exponent must be positive");if(r.length===0)return ee.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&r.__digit(0))?ee.unaryMinus(e):e;if(1<r.length)throw new RangeError("BigInt too big");let n=r.__unsignedDigit(0);if(n===1)return e;if(n>=ee.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const s=1+(n>>>5),o=e.sign&&(1&n)!=0,f=new ee(s,o);f.__initializeDigits();const c=1<<(31&n);return f.__setDigit(s-1,c),f}let i=null,a=e;for(1&n&&(i=e),n>>=1;n!==0;n>>=1)a=ee.multiply(a,a),1&n&&(i===null?i=a:i=ee.multiply(i,a));return i}static multiply(e,r){if(e.length===0)return e;if(r.length===0)return r;let n=e.length+r.length;32<=e.__clzmsd()+r.__clzmsd()&&n--;const i=new ee(n,e.sign!==r.sign);i.__initializeDigits();for(let a=0;a<e.length;a++)ee.__multiplyAccumulate(r,e.__digit(a),i,a);return i.__trim()}static divide(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>ee.__absoluteCompare(e,r))return ee.__zero();const n=e.sign!==r.sign,i=r.__unsignedDigit(0);let a;if(r.length===1&&65535>=i){if(i===1)return n===e.sign?e:ee.unaryMinus(e);a=ee.__absoluteDivSmall(e,i,null)}else a=ee.__absoluteDivLarge(e,r,!0,!1);return a.sign=n,a.__trim()}static remainder(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>ee.__absoluteCompare(e,r))return e;const n=r.__unsignedDigit(0);if(r.length===1&&65535>=n){if(n===1)return ee.__zero();const a=ee.__absoluteModSmall(e,n);return a===0?ee.__zero():ee.__oneDigit(a,e.sign)}const i=ee.__absoluteDivLarge(e,r,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,r){const n=e.sign;return n===r.sign?ee.__absoluteAdd(e,r,n):0<=ee.__absoluteCompare(e,r)?ee.__absoluteSub(e,r,n):ee.__absoluteSub(r,e,!n)}static subtract(e,r){const n=e.sign;return n===r.sign?0<=ee.__absoluteCompare(e,r)?ee.__absoluteSub(e,r,n):ee.__absoluteSub(r,e,!n):ee.__absoluteAdd(e,r,n)}static leftShift(e,r){return r.length===0||e.length===0?e:r.sign?ee.__rightShiftByAbsolute(e,r):ee.__leftShiftByAbsolute(e,r)}static signedRightShift(e,r){return r.length===0||e.length===0?e:r.sign?ee.__leftShiftByAbsolute(e,r):ee.__rightShiftByAbsolute(e,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,r){return 0>ee.__compareToBigInt(e,r)}static lessThanOrEqual(e,r){return 0>=ee.__compareToBigInt(e,r)}static greaterThan(e,r){return 0<ee.__compareToBigInt(e,r)}static greaterThanOrEqual(e,r){return 0<=ee.__compareToBigInt(e,r)}static equal(e,r){if(e.sign!==r.sign||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==r.__digit(n))return!1;return!0}static notEqual(e,r){return!ee.equal(e,r)}static bitwiseAnd(e,r){var n=Math.max;if(!e.sign&&!r.sign)return ee.__absoluteAnd(e,r).__trim();if(e.sign&&r.sign){const i=n(e.length,r.length)+1;let a=ee.__absoluteSubOne(e,i);const s=ee.__absoluteSubOne(r);return a=ee.__absoluteOr(a,s,a),ee.__absoluteAddOne(a,!0,a).__trim()}return e.sign&&([e,r]=[r,e]),ee.__absoluteAndNot(e,ee.__absoluteSubOne(r)).__trim()}static bitwiseXor(e,r){var n=Math.max;if(!e.sign&&!r.sign)return ee.__absoluteXor(e,r).__trim();if(e.sign&&r.sign){const s=n(e.length,r.length),o=ee.__absoluteSubOne(e,s),f=ee.__absoluteSubOne(r);return ee.__absoluteXor(o,f,o).__trim()}const i=n(e.length,r.length)+1;e.sign&&([e,r]=[r,e]);let a=ee.__absoluteSubOne(r,i);return a=ee.__absoluteXor(a,e,a),ee.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(e,r){var n=Math.max;const i=n(e.length,r.length);if(!e.sign&&!r.sign)return ee.__absoluteOr(e,r).__trim();if(e.sign&&r.sign){let s=ee.__absoluteSubOne(e,i);const o=ee.__absoluteSubOne(r);return s=ee.__absoluteAnd(s,o,s),ee.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,r]=[r,e]);let a=ee.__absoluteSubOne(r,i);return a=ee.__absoluteAndNot(a,e,a),ee.__absoluteAddOne(a,!0,a).__trim()}static asIntN(e,r){if(r.length===0)return r;if(e===0)return ee.__zero();if(e>=ee.__kMaxLengthBits)return r;const n=e+31>>>5;if(r.length<n)return r;const i=r.__unsignedDigit(n-1),a=1<<(31&e-1);if(r.length===n&&i<a)return r;if((i&a)!==a)return ee.__truncateToNBits(e,r);if(!r.sign)return ee.__truncateAndSubFromPowerOfTwo(e,r,!0);if(!(i&a-1)){for(let s=n-2;0<=s;s--)if(r.__digit(s)!==0)return ee.__truncateAndSubFromPowerOfTwo(e,r,!1);return r.length===n&&i===a?r:ee.__truncateToNBits(e,r)}return ee.__truncateAndSubFromPowerOfTwo(e,r,!1)}static asUintN(e,r){if(r.length===0)return r;if(e===0)return ee.__zero();if(r.sign){if(e>ee.__kMaxLengthBits)throw new RangeError("BigInt too big");return ee.__truncateAndSubFromPowerOfTwo(e,r,!1)}if(e>=ee.__kMaxLengthBits)return r;const n=e+31>>>5;if(r.length<n)return r;const i=31&e;return r.length==n&&(i===0||!(r.__digit(n-1)>>>i))?r:ee.__truncateToNBits(e,r)}static ADD(e,r){if(e=ee.__toPrimitive(e),r=ee.__toPrimitive(r),typeof e=="string")return typeof r!="string"&&(r=r.toString()),e+r;if(typeof r=="string")return e.toString()+r;if(e=ee.__toNumeric(e),r=ee.__toNumeric(r),ee.__isBigInt(e)&&ee.__isBigInt(r))return ee.add(e,r);if(typeof e=="number"&&typeof r=="number")return e+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,r){return ee.__compare(e,r,0)}static LE(e,r){return ee.__compare(e,r,1)}static GT(e,r){return ee.__compare(e,r,2)}static GE(e,r){return ee.__compare(e,r,3)}static EQ(e,r){for(;;){if(ee.__isBigInt(e))return ee.__isBigInt(r)?ee.equal(e,r):ee.EQ(r,e);if(typeof e=="number"){if(ee.__isBigInt(r))return ee.__equalToNumber(r,e);if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="string"){if(ee.__isBigInt(r))return e=ee.__fromString(e),e!==null&&ee.equal(e,r);if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="boolean"){if(ee.__isBigInt(r))return ee.__equalToNumber(r,+e);if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="symbol"){if(ee.__isBigInt(r))return!1;if(typeof r!="object")return e==r;r=ee.__toPrimitive(r)}else if(typeof e=="object"){if(typeof r=="object"&&r.constructor!==ee)return e==r;e=ee.__toPrimitive(e)}else return e==r}}static NE(e,r){return!ee.EQ(e,r)}static __zero(){return new ee(0,!1)}static __oneDigit(e,r){const n=new ee(1,r);return n.__setDigit(0,e),n}__copy(){const e=new ee(this.length,this.sign);for(let r=0;r<this.length;r++)e[r]=this[r];return e}__trim(){let e=this.length,r=this[e-1];for(;r===0;)e--,r=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,r,n,i){if(0<r)return-1;let a;if(0>r)a=-r-1;else{if(n===0)return-1;n--,i=e.__digit(n),a=31}let s=1<<a;if(!(i&s))return-1;if(s-=1,(i&s)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}static __fromDouble(e){ee.__kBitConversionDouble[0]=e;const r=2047&ee.__kBitConversionInts[1]>>>20,n=r-1023,i=(n>>>5)+1,a=new ee(i,0>e);let s=1048575&ee.__kBitConversionInts[1]|1048576,o=ee.__kBitConversionInts[0];const f=20,c=31&n;let u,l=0;if(c<20){const p=f-c;l=p+32,u=s>>>p,s=s<<32-p|o>>>p,o<<=32-p}else if(c===20)l=32,u=s,s=o;else{const p=c-f;l=32-p,u=s<<p|o>>>32-p,s=o<<p}a.__setDigit(i-1,u);for(let p=i-2;0<=p;p--)0<l?(l-=32,u=s,s=o):u=0,a.__setDigit(p,u);return a.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,r=0){let n=0;const i=e.length;let a=0;if(a===i)return ee.__zero();let s=e.charCodeAt(a);for(;ee.__isWhitespace(s);){if(++a===i)return ee.__zero();s=e.charCodeAt(a)}if(s===43){if(++a===i)return null;s=e.charCodeAt(a),n=1}else if(s===45){if(++a===i)return null;s=e.charCodeAt(a),n=-1}if(r===0){if(r=10,s===48){if(++a===i)return ee.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(r=16,++a===i)return null;s=e.charCodeAt(a)}else if(s===79||s===111){if(r=8,++a===i)return null;s=e.charCodeAt(a)}else if(s===66||s===98){if(r=2,++a===i)return null;s=e.charCodeAt(a)}}}else if(r===16&&s===48){if(++a===i)return ee.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(++a===i)return null;s=e.charCodeAt(a)}}for(;s===48;){if(++a===i)return ee.__zero();s=e.charCodeAt(a)}const o=i-a;let f=ee.__kMaxBitsPerChar[r],c=ee.__kBitsPerCharTableMultiplier-1;if(o>1073741824/f)return null;const u=f*o+c>>>ee.__kBitsPerCharTableShift,l=new ee(u+31>>>5,!1),p=10>r?r:10,g=10<r?r-10:0;if(r&r-1){l.__initializeDigits();let m=!1,A=0;do{let S=0,w=1;for(;;){let O;if(s-48>>>0<p)O=s-48;else if((32|s)-97>>>0<g)O=(32|s)-87;else{m=!0;break}const M=w*r;if(4294967295<M)break;if(w=M,S=S*r+O,A++,++a===i){m=!0;break}s=e.charCodeAt(a)}c=32*ee.__kBitsPerCharTableMultiplier-1;const C=f*A+c>>>ee.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(w,S,C)}while(!m)}else{f>>=ee.__kBitsPerCharTableShift;const m=[],A=[];let S=!1;do{let w=0,C=0;for(;;){let O;if(s-48>>>0<p)O=s-48;else if((32|s)-97>>>0<g)O=(32|s)-87;else{S=!0;break}if(C+=f,w=w<<f|O,++a===i){S=!0;break}if(s=e.charCodeAt(a),32<C+f)break}m.push(w),A.push(C)}while(!S);ee.__fillFromParts(l,m,A)}if(a!==i){if(!ee.__isWhitespace(s))return null;for(a++;a<i;a++)if(s=e.charCodeAt(a),!ee.__isWhitespace(s))return null}return n!=0&&r!==10?null:(l.sign=n==-1,l.__trim())}static __fillFromParts(e,r,n){let i=0,a=0,s=0;for(let o=r.length-1;0<=o;o--){const f=r[o],c=n[o];a|=f<<s,s+=c,s===32?(e.__setDigit(i++,a),s=0,a=0):32<s&&(e.__setDigit(i++,a),s-=32,a=f>>>c-s)}if(a!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,a)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,r){var n=Math.clz32;const i=e.length;let a=r-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const s=a,o=r-1,f=e.__digit(i-1),c=n(f);let u=0|(32*i-c+s-1)/s;if(e.sign&&u++,268435456<u)throw new Error("string too long");const l=Array(u);let p=u-1,g=0,m=0;for(let S=0;S<i-1;S++){const w=e.__digit(S),C=(g|w<<m)&o;l[p--]=ee.__kConversionChars[C];const O=s-m;for(g=w>>>O,m=32-O;m>=s;)l[p--]=ee.__kConversionChars[g&o],g>>>=s,m-=s}const A=(g|f<<m)&o;for(l[p--]=ee.__kConversionChars[A],g=f>>>s-m;g!==0;)l[p--]=ee.__kConversionChars[g&o],g>>>=s;if(e.sign&&(l[p--]="-"),p!=-1)throw new Error("implementation bug");return l.join("")}static __toStringGeneric(e,r,n){var i=Math.clz32;const a=e.length;if(a===0)return"";if(a===1){let S=e.__unsignedDigit(0).toString(r);return n===!1&&e.sign&&(S="-"+S),S}const s=32*a-i(e.__digit(a-1)),o=ee.__kMaxBitsPerChar[r],f=o-1;let c=s*ee.__kBitsPerCharTableMultiplier;c+=f-1,c=0|c/f;const u=c+1>>1,l=ee.exponentiate(ee.__oneDigit(r,!1),ee.__oneDigit(u,!1));let p,g;const m=l.__unsignedDigit(0);if(l.length===1&&65535>=m){p=new ee(e.length,!1),p.__initializeDigits();let S=0;for(let w=2*e.length-1;0<=w;w--){const C=S<<16|e.__halfDigit(w);p.__setHalfDigit(w,0|C/m),S=0|C%m}g=S.toString(r)}else{const S=ee.__absoluteDivLarge(e,l,!0,!0);p=S.quotient;const w=S.remainder.__trim();g=ee.__toStringGeneric(w,r,!0)}p.__trim();let A=ee.__toStringGeneric(p,r,!0);for(;g.length<u;)g="0"+g;return n===!1&&e.sign&&(A="-"+A),A+g}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,r){const n=e.sign;if(n!==r.sign)return ee.__unequalSign(n);const i=ee.__absoluteCompare(e,r);return 0<i?ee.__absoluteGreater(n):0>i?ee.__absoluteLess(n):0}static __compareToNumber(e,r){if(r|!0){const n=e.sign,i=0>r;if(n!==i)return ee.__unequalSign(n);if(e.length===0){if(i)throw new Error("implementation bug");return r===0?0:-1}if(1<e.length)return ee.__absoluteGreater(n);const a=Math.abs(r),s=e.__unsignedDigit(0);return s>a?ee.__absoluteGreater(n):s<a?ee.__absoluteLess(n):0}return ee.__compareToDouble(e,r)}static __compareToDouble(e,r){var n=Math.clz32;if(r!==r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const i=e.sign;if(i!==0>r)return ee.__unequalSign(i);if(r===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;ee.__kBitConversionDouble[0]=r;const a=2047&ee.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const s=a-1023;if(0>s)return ee.__absoluteGreater(i);const o=e.length;let f=e.__digit(o-1);const c=n(f),u=32*o-c,l=s+1;if(u<l)return ee.__absoluteLess(i);if(u>l)return ee.__absoluteGreater(i);let p=1048576|1048575&ee.__kBitConversionInts[1],g=ee.__kBitConversionInts[0];const m=20,A=31-c;if(A!==(u-1)%31)throw new Error("implementation bug");let S,w=0;if(20>A){const C=m-A;w=C+32,S=p>>>C,p=p<<32-C|g>>>C,g<<=32-C}else if(A===20)w=32,S=p,p=g;else{const C=A-m;w=32-C,S=p<<C|g>>>32-C,p=g<<C}if(f>>>=0,S>>>=0,f>S)return ee.__absoluteGreater(i);if(f<S)return ee.__absoluteLess(i);for(let C=o-2;0<=C;C--){0<w?(w-=32,S=p>>>0,p=g,g=0):S=0;const O=e.__unsignedDigit(C);if(O>S)return ee.__absoluteGreater(i);if(O<S)return ee.__absoluteLess(i)}if(p!==0||g!==0){if(w===0)throw new Error("implementation bug");return ee.__absoluteLess(i)}return 0}static __equalToNumber(e,r){var n=Math.abs;return r|r===0?r===0?e.length===0:e.length===1&&e.sign===0>r&&e.__unsignedDigit(0)===n(r):ee.__compareToDouble(e,r)===0}static __comparisonResultToBool(e,r){switch(r){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}static __compare(e,r,n){if(e=ee.__toPrimitive(e),r=ee.__toPrimitive(r),typeof e=="string"&&typeof r=="string")switch(n){case 0:return e<r;case 1:return e<=r;case 2:return e>r;case 3:return e>=r}if(ee.__isBigInt(e)&&typeof r=="string")return r=ee.__fromString(r),r!==null&&ee.__comparisonResultToBool(ee.__compareToBigInt(e,r),n);if(typeof e=="string"&&ee.__isBigInt(r))return e=ee.__fromString(e),e!==null&&ee.__comparisonResultToBool(ee.__compareToBigInt(e,r),n);if(e=ee.__toNumeric(e),r=ee.__toNumeric(r),ee.__isBigInt(e)){if(ee.__isBigInt(r))return ee.__comparisonResultToBool(ee.__compareToBigInt(e,r),n);if(typeof r!="number")throw new Error("implementation bug");return ee.__comparisonResultToBool(ee.__compareToNumber(e,r),n)}if(typeof e!="number")throw new Error("implementation bug");if(ee.__isBigInt(r))return ee.__comparisonResultToBool(ee.__compareToNumber(r,e),2^n);if(typeof r!="number")throw new Error("implementation bug");return n===0?e<r:n===1?e<=r:n===2?e>r:n===3?e>=r:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(e,r,n){if(e.length<r.length)return ee.__absoluteAdd(r,e,n);if(e.length===0)return e;if(r.length===0)return e.sign===n?e:ee.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||r.length===e.length&&r.__clzmsd()===0)&&i++;const a=new ee(i,n);let s=0,o=0;for(;o<r.length;o++){const f=r.__digit(o),c=e.__digit(o),u=(65535&c)+(65535&f)+s,l=(c>>>16)+(f>>>16)+(u>>>16);s=l>>>16,a.__setDigit(o,65535&u|l<<16)}for(;o<e.length;o++){const f=e.__digit(o),c=(65535&f)+s,u=(f>>>16)+(c>>>16);s=u>>>16,a.__setDigit(o,65535&c|u<<16)}return o<a.length&&a.__setDigit(o,s),a.__trim()}static __absoluteSub(e,r,n){if(e.length===0)return e;if(r.length===0)return e.sign===n?e:ee.unaryMinus(e);const i=new ee(e.length,n);let a=0,s=0;for(;s<r.length;s++){const o=e.__digit(s),f=r.__digit(s),c=(65535&o)-(65535&f)-a;a=1&c>>>16;const u=(o>>>16)-(f>>>16)-a;a=1&u>>>16,i.__setDigit(s,65535&c|u<<16)}for(;s<e.length;s++){const o=e.__digit(s),f=(65535&o)-a;a=1&f>>>16;const c=(o>>>16)-a;a=1&c>>>16,i.__setDigit(s,65535&f|c<<16)}return i.__trim()}static __absoluteAddOne(e,r,n=null){const i=e.length;n===null?n=new ee(i,r):n.sign=r;let a=!0;for(let s,o=0;o<i;o++){if(s=e.__digit(o),a){const f=s===-1;s=0|s+1,a=f}n.__setDigit(o,s)}return a&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(e,r){const n=e.length;r=r||n;const i=new ee(r,!1);let a=!0;for(let s,o=0;o<n;o++){if(s=e.__digit(o),a){const f=s===0;s=0|s-1,a=f}i.__setDigit(o,s)}if(a)throw new Error("implementation bug");for(let s=n;s<r;s++)i.__setDigit(s,0);return i}static __absoluteAnd(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const c=e,u=i;e=r,i=a,r=c,a=u}let o=s;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)&r.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteAndNot(e,r,n=null){const i=e.length,a=r.length;let s=a;i<a&&(s=i);let o=i;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)&~r.__digit(f));for(;f<i;f++)n.__setDigit(f,e.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteOr(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const c=e,u=i;e=r,i=a,r=c,a=u}let o=i;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)|r.__digit(f));for(;f<i;f++)n.__setDigit(f,e.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteXor(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const c=e,u=i;e=r,i=a,r=c,a=u}let o=i;n===null?n=new ee(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,e.__digit(f)^r.__digit(f));for(;f<i;f++)n.__setDigit(f,e.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteCompare(e,r){const n=e.length-r.length;if(n!=0)return n;let i=e.length-1;for(;0<=i&&e.__digit(i)===r.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>r.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,r,n,i){var a=Math.imul;if(r===0)return;const s=65535&r,o=r>>>16;let f=0,c=0,u=0;for(let l=0;l<e.length;l++,i++){let p=n.__digit(i),g=65535&p,m=p>>>16;const A=e.__digit(l),S=65535&A,w=A>>>16,C=a(S,s),O=a(S,o),M=a(w,s),N=a(w,o);g+=c+(65535&C),m+=u+f+(g>>>16)+(C>>>16)+(65535&O)+(65535&M),f=m>>>16,c=(O>>>16)+(M>>>16)+(65535&N)+f,f=c>>>16,c&=65535,u=N>>>16,p=65535&g|m<<16,n.__setDigit(i,p)}for(;f!=0||c!==0||u!==0;i++){let l=n.__digit(i);const p=(65535&l)+c,g=(l>>>16)+(p>>>16)+u+f;c=0,u=0,f=g>>>16,l=65535&p|g<<16,n.__setDigit(i,l)}}static __internalMultiplyAdd(e,r,n,i,a){var s=Math.imul;let o=n,f=0;for(let c=0;c<i;c++){const u=e.__digit(c),l=s(65535&u,r),p=(65535&l)+f+o;o=p>>>16;const g=s(u>>>16,r),m=(65535&g)+(l>>>16)+o;o=m>>>16,f=g>>>16,a.__setDigit(c,m<<16|65535&p)}if(a.length>i)for(a.__setDigit(i++,o+f);i<a.length;)a.__setDigit(i++,0);else if(o+f!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,r,n){var i=Math.imul;n>this.length&&(n=this.length);const a=65535&e,s=e>>>16;let o=0,f=65535&r,c=r>>>16;for(let u=0;u<n;u++){const l=this.__digit(u),p=65535&l,g=l>>>16,m=i(p,a),A=i(p,s),S=i(g,a),w=i(g,s),C=f+(65535&m),O=c+o+(C>>>16)+(m>>>16)+(65535&A)+(65535&S);f=(A>>>16)+(S>>>16)+(65535&w)+(O>>>16),o=f>>>16,f&=65535,c=w>>>16,this.__setDigit(u,65535&C|O<<16)}if(o!=0||f!==0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,r,n){n===null&&(n=new ee(e.length,!1));let i=0;for(let a,s=2*e.length-1;0<=s;s-=2){a=(i<<16|e.__halfDigit(s))>>>0;const o=0|a/r;i=0|a%r,a=(i<<16|e.__halfDigit(s-1))>>>0;const f=0|a/r;i=0|a%r,n.__setDigit(s>>>1,o<<16|f)}return n}static __absoluteModSmall(e,r){let n=0;for(let i=2*e.length-1;0<=i;i--)n=0|((n<<16|e.__halfDigit(i))>>>0)%r;return n}static __absoluteDivLarge(e,r,n,i){var a=Math.imul;const s=r.__halfDigitLength(),o=r.length,f=e.__halfDigitLength()-s;let c=null;n&&(c=new ee(f+2>>>1,!1),c.__initializeDigits());const u=new ee(s+2>>>1,!1);u.__initializeDigits();const l=ee.__clz16(r.__halfDigit(s-1));0<l&&(r=ee.__specialLeftShift(r,l,0));const p=ee.__specialLeftShift(e,l,1),g=r.__halfDigit(s-1);let m=0;for(let A,S=f;0<=S;S--){A=65535;const w=p.__halfDigit(S+s);if(w!==g){const O=(w<<16|p.__halfDigit(S+s-1))>>>0;A=0|O/g;let M=0|O%g;const N=r.__halfDigit(s-2),K=p.__halfDigit(S+s-2);for(;a(A,N)>>>0>(M<<16|K)>>>0&&(A--,M+=g,!(65535<M)););}ee.__internalMultiplyAdd(r,A,0,o,u);let C=p.__inplaceSub(u,S,s+1);C!==0&&(C=p.__inplaceAdd(r,S,s),p.__setHalfDigit(S+s,p.__halfDigit(S+s)+C),A--),n&&(1&S?m=A<<16:c.__setDigit(S>>>1,m|A))}return i?(p.__inplaceRightShift(l),n?{quotient:c,remainder:p}:p):n?c:void 0}static __clz16(e){return Math.clz32(e)-16}__inplaceAdd(e,r,n){let i=0;for(let a=0;a<n;a++){const s=this.__halfDigit(r+a)+e.__halfDigit(a)+i;i=s>>>16,this.__setHalfDigit(r+a,s)}return i}__inplaceSub(e,r,n){let i=0;if(1&r){r>>=1;let a=this.__digit(r),s=65535&a,o=0;for(;o<n-1>>>1;o++){const u=e.__digit(o),l=(a>>>16)-(65535&u)-i;i=1&l>>>16,this.__setDigit(r+o,l<<16|65535&s),a=this.__digit(r+o+1),s=(65535&a)-(u>>>16)-i,i=1&s>>>16}const f=e.__digit(o),c=(a>>>16)-(65535&f)-i;if(i=1&c>>>16,this.__setDigit(r+o,c<<16|65535&s),r+o+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(a=this.__digit(r+o+1),s=(65535&a)-(f>>>16)-i,i=1&s>>>16,this.__setDigit(r+e.length,4294901760&a|65535&s))}else{r>>=1;let a=0;for(;a<e.length-1;a++){const u=this.__digit(r+a),l=e.__digit(a),p=(65535&u)-(65535&l)-i;i=1&p>>>16;const g=(u>>>16)-(l>>>16)-i;i=1&g>>>16,this.__setDigit(r+a,g<<16|65535&p)}const s=this.__digit(r+a),o=e.__digit(a),f=(65535&s)-(65535&o)-i;i=1&f>>>16;let c=0;!(1&n)&&(c=(s>>>16)-(o>>>16)-i,i=1&c>>>16),this.__setDigit(r+a,c<<16|65535&f)}return i}__inplaceRightShift(e){if(e===0)return;let r=this.__digit(0)>>>e;const n=this.length-1;for(let i=0;i<n;i++){const a=this.__digit(i+1);this.__setDigit(i,a<<32-e|r),r=a>>>e}this.__setDigit(n,r)}static __specialLeftShift(e,r,n){const i=e.length,a=new ee(i+n,!1);if(r===0){for(let o=0;o<i;o++)a.__setDigit(o,e.__digit(o));return 0<n&&a.__setDigit(i,0),a}let s=0;for(let o=0;o<i;o++){const f=e.__digit(o);a.__setDigit(o,f<<r|s),s=f>>>32-r}return 0<n&&a.__setDigit(i,s),a}static __leftShiftByAbsolute(e,r){const n=ee.__toShiftAmount(r);if(0>n)throw new RangeError("BigInt too big");const i=n>>>5,a=31&n,s=e.length,o=a!==0&&e.__digit(s-1)>>>32-a!=0,f=s+i+(o?1:0),c=new ee(f,e.sign);if(a===0){let u=0;for(;u<i;u++)c.__setDigit(u,0);for(;u<f;u++)c.__setDigit(u,e.__digit(u-i))}else{let u=0;for(let l=0;l<i;l++)c.__setDigit(l,0);for(let l=0;l<s;l++){const p=e.__digit(l);c.__setDigit(l+i,p<<a|u),u=p>>>32-a}if(o)c.__setDigit(s+i,u);else if(u!==0)throw new Error("implementation bug")}return c.__trim()}static __rightShiftByAbsolute(e,r){const n=e.length,i=e.sign,a=ee.__toShiftAmount(r);if(0>a)return ee.__rightShiftByMaximum(i);const s=a>>>5,o=31&a;let f=n-s;if(0>=f)return ee.__rightShiftByMaximum(i);let c=!1;if(i){if(e.__digit(s)&(1<<o)-1)c=!0;else for(let l=0;l<s;l++)if(e.__digit(l)!==0){c=!0;break}}c&&o===0&&!~e.__digit(n-1)&&f++;let u=new ee(f,i);if(o===0)for(let l=s;l<n;l++)u.__setDigit(l-s,e.__digit(l));else{let l=e.__digit(s)>>>o;const p=n-s-1;for(let g=0;g<p;g++){const m=e.__digit(g+s+1);u.__setDigit(g,m<<32-o|l),l=m>>>o}u.__setDigit(p,l)}return c&&(u=ee.__absoluteAddOne(u,!0,u)),u.__trim()}static __rightShiftByMaximum(e){return e?ee.__oneDigit(1,!0):ee.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const r=e.__unsignedDigit(0);return r>ee.__kMaxLengthBits?-1:r}static __toPrimitive(e,r="default"){if(typeof e!="object"||e.constructor===ee)return e;const n=e[Symbol.toPrimitive];if(n){const s=n(r);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}const i=e.valueOf;if(i){const s=i.call(e);if(typeof s!="object")return s}const a=e.toString;if(a){const s=a.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return ee.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e.constructor===ee}static __truncateToNBits(e,r){const n=e+31>>>5,i=new ee(n,r.sign),a=n-1;for(let o=0;o<a;o++)i.__setDigit(o,r.__digit(o));let s=r.__digit(a);if(31&e){const o=32-(31&e);s=s<<o>>>o}return i.__setDigit(a,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,r,n){var i=Math.min;const a=e+31>>>5,s=new ee(a,n);let o=0;const f=a-1;let c=0;for(const g=i(f,r.length);o<g;o++){const m=r.__digit(o),A=0-(65535&m)-c;c=1&A>>>16;const S=0-(m>>>16)-c;c=1&S>>>16,s.__setDigit(o,65535&A|S<<16)}for(;o<f;o++)s.__setDigit(o,0|-c);let u=f<r.length?r.__digit(f):0;const l=31&e;let p;if(l==0){const g=0-(65535&u)-c;c=1&g>>>16;const m=0-(u>>>16)-c;p=65535&g|m<<16}else{const g=32-l;u=u<<g>>>g;const m=1<<32-g,A=(65535&m)-(65535&u)-c;c=1&A>>>16;const S=(m>>>16)-(u>>>16)-c;p=65535&A|S<<16,p&=m-1}return s.__setDigit(f,p),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,r){this[e]=0|r}__setDigitGrow(e,r){this[e]=0|r}__halfDigitLength(){const e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 65535&this[e>>>1]>>>((1&e)<<4)}__setHalfDigit(e,r){const n=e>>>1,i=this.__digit(n),a=1&e?65535&i|r<<16:4294901760&i|65535&r;this.__setDigit(n,a)}static __digitPow(e,r){let n=1;for(;0<r;)1&r&&(n*=e),r>>>=1,e*=e;return n}}ee.__kMaxLength=33554432,ee.__kMaxLengthBits=ee.__kMaxLength<<5,ee.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ee.__kBitsPerCharTableShift=5,ee.__kBitsPerCharTableMultiplier=1<<ee.__kBitsPerCharTableShift,ee.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ee.__kBitConversionBuffer=new ArrayBuffer(8),ee.__kBitConversionDouble=new Float64Array(ee.__kBitConversionBuffer),ee.__kBitConversionInts=new Int32Array(ee.__kBitConversionBuffer);var NR={};const PW="elliptic",NW="6.6.0",UW="EC cryptography",kW="lib/elliptic.js",zW=["lib"],jW={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},FW={type:"git",url:"git@github.com:indutny/elliptic"},$W=["EC","Elliptic","curve","Cryptography"],qW="Fedor Indutny <fedor@indutny.com>",KW="MIT",QW={url:"https://github.com/indutny/elliptic/issues"},VW="https://github.com/indutny/elliptic",YW={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},GW={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},WW={name:PW,version:NW,description:UW,main:kW,files:zW,scripts:jW,repository:FW,keywords:$W,author:qW,license:KW,bugs:QW,homepage:VW,devDependencies:YW,dependencies:GW};var ji={},nw={exports:{}};const XW={},ZW=Object.freeze(Object.defineProperty({__proto__:null,default:XW},Symbol.toStringTag,{value:"Module"})),Y1=lS(ZW);nw.exports;(function(t){(function(e,r){function n(R,_){if(!R)throw new Error(_||"Assertion failed")}function i(R,_){R.super_=_;var I=function(){};I.prototype=_.prototype,R.prototype=new I,R.prototype.constructor=R}function a(R,_,I){if(a.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((_==="le"||_==="be")&&(I=_,_=10),this._init(R||0,_||10,I||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Y1.Buffer}catch{}a.isBN=function(_){return _ instanceof a?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===a.wordSize&&Array.isArray(_.words)},a.max=function(_,I){return _.cmp(I)>0?_:I},a.min=function(_,I){return _.cmp(I)<0?_:I},a.prototype._init=function(_,I,b){if(typeof _=="number")return this._initNumber(_,I,b);if(typeof _=="object")return this._initArray(_,I,b);I==="hex"&&(I=16),n(I===(I|0)&&I>=2&&I<=36),_=_.toString().replace(/\s+/g,"");var v=0;_[0]==="-"&&(v++,this.negative=1),v<_.length&&(I===16?this._parseHex(_,v,b):(this._parseBase(_,I,v),b==="le"&&this._initArray(this.toArray(),I,b)))},a.prototype._initNumber=function(_,I,b){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),I,b)},a.prototype._initArray=function(_,I,b){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d,y,x=0;if(b==="be")for(v=_.length-1,d=0;v>=0;v-=3)y=_[v]|_[v-1]<<8|_[v-2]<<16,this.words[d]|=y<<x&67108863,this.words[d+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);else if(b==="le")for(v=0,d=0;v<_.length;v+=3)y=_[v]|_[v+1]<<8|_[v+2]<<16,this.words[d]|=y<<x&67108863,this.words[d+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);return this.strip()};function o(R,_){var I=R.charCodeAt(_);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function f(R,_,I){var b=o(R,I);return I-1>=_&&(b|=o(R,I-1)<<4),b}a.prototype._parseHex=function(_,I,b){this.length=Math.ceil((_.length-I)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d=0,y=0,x;if(b==="be")for(v=_.length-1;v>=I;v-=2)x=f(_,I,v)<<d,this.words[y]|=x&67108863,d>=18?(d-=18,y+=1,this.words[y]|=x>>>26):d+=8;else{var E=_.length-I;for(v=E%2===0?I+1:I;v<_.length;v+=2)x=f(_,I,v)<<d,this.words[y]|=x&67108863,d>=18?(d-=18,y+=1,this.words[y]|=x>>>26):d+=8}this.strip()};function c(R,_,I,b){for(var v=0,d=Math.min(R.length,I),y=_;y<d;y++){var x=R.charCodeAt(y)-48;v*=b,x>=49?v+=x-49+10:x>=17?v+=x-17+10:v+=x}return v}a.prototype._parseBase=function(_,I,b){this.words=[0],this.length=1;for(var v=0,d=1;d<=67108863;d*=I)v++;v--,d=d/I|0;for(var y=_.length-b,x=y%v,E=Math.min(y,y-x)+b,h=0,T=b;T<E;T+=v)h=c(_,T,T+v,I),this.imuln(d),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(x!==0){var F=1;for(h=c(_,T,_.length,I),T=0;T<x;T++)F*=I;this.imuln(F),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},a.prototype.copy=function(_){_.words=new Array(this.length);for(var I=0;I<this.length;I++)_.words[I]=this.words[I];_.length=this.length,_.negative=this.negative,_.red=this.red},a.prototype.clone=function(){var _=new a(null);return this.copy(_),_},a.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(_,I){_=_||10,I=I|0||1;var b;if(_===16||_==="hex"){b="";for(var v=0,d=0,y=0;y<this.length;y++){var x=this.words[y],E=((x<<v|d)&16777215).toString(16);d=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,y--),d!==0||y!==this.length-1?b=u[6-E.length]+E+b:b=E+b}for(d!==0&&(b=d.toString(16)+b);b.length%I!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(_===(_|0)&&_>=2&&_<=36){var h=l[_],T=p[_];b="";var F=this.clone();for(F.negative=0;!F.isZero();){var L=F.modn(T).toString(_);F=F.idivn(T),F.isZero()?b=L+b:b=u[h-L.length]+L+b}for(this.isZero()&&(b="0"+b);b.length%I!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(_,I){return n(typeof s<"u"),this.toArrayLike(s,_,I)},a.prototype.toArray=function(_,I){return this.toArrayLike(Array,_,I)},a.prototype.toArrayLike=function(_,I,b){var v=this.byteLength(),d=b||Math.max(1,v);n(v<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var y=I==="le",x=new _(d),E,h,T=this.clone();if(y){for(h=0;!T.isZero();h++)E=T.andln(255),T.iushrn(8),x[h]=E;for(;h<d;h++)x[h]=0}else{for(h=0;h<d-v;h++)x[h]=0;for(h=0;!T.isZero();h++)E=T.andln(255),T.iushrn(8),x[d-h-1]=E}return x},Math.clz32?a.prototype._countBits=function(_){return 32-Math.clz32(_)}:a.prototype._countBits=function(_){var I=_,b=0;return I>=4096&&(b+=13,I>>>=13),I>=64&&(b+=7,I>>>=7),I>=8&&(b+=4,I>>>=4),I>=2&&(b+=2,I>>>=2),b+I},a.prototype._zeroBits=function(_){if(_===0)return 26;var I=_,b=0;return I&8191||(b+=13,I>>>=13),I&127||(b+=7,I>>>=7),I&15||(b+=4,I>>>=4),I&3||(b+=2,I>>>=2),I&1||b++,b},a.prototype.bitLength=function(){var _=this.words[this.length-1],I=this._countBits(_);return(this.length-1)*26+I};function g(R){for(var _=new Array(R.bitLength()),I=0;I<_.length;I++){var b=I/26|0,v=I%26;_[I]=(R.words[b]&1<<v)>>>v}return _}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,I=0;I<this.length;I++){var b=this._zeroBits(this.words[I]);if(_+=b,b!==26)break}return _},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},a.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var I=0;I<_.length;I++)this.words[I]=this.words[I]|_.words[I];return this.strip()},a.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},a.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},a.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},a.prototype.iuand=function(_){var I;this.length>_.length?I=_:I=this;for(var b=0;b<I.length;b++)this.words[b]=this.words[b]&_.words[b];return this.length=I.length,this.strip()},a.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},a.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},a.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},a.prototype.iuxor=function(_){var I,b;this.length>_.length?(I=this,b=_):(I=_,b=this);for(var v=0;v<b.length;v++)this.words[v]=I.words[v]^b.words[v];if(this!==I)for(;v<I.length;v++)this.words[v]=I.words[v];return this.length=I.length,this.strip()},a.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},a.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},a.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},a.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var I=Math.ceil(_/26)|0,b=_%26;this._expand(I),b>0&&I--;for(var v=0;v<I;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},a.prototype.notn=function(_){return this.clone().inotn(_)},a.prototype.setn=function(_,I){n(typeof _=="number"&&_>=0);var b=_/26|0,v=_%26;return this._expand(b+1),I?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},a.prototype.iadd=function(_){var I;if(this.negative!==0&&_.negative===0)return this.negative=0,I=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,I=this.isub(_),_.negative=1,I._normSign();var b,v;this.length>_.length?(b=this,v=_):(b=_,v=this);for(var d=0,y=0;y<v.length;y++)I=(b.words[y]|0)+(v.words[y]|0)+d,this.words[y]=I&67108863,d=I>>>26;for(;d!==0&&y<b.length;y++)I=(b.words[y]|0)+d,this.words[y]=I&67108863,d=I>>>26;if(this.length=b.length,d!==0)this.words[this.length]=d,this.length++;else if(b!==this)for(;y<b.length;y++)this.words[y]=b.words[y];return this},a.prototype.add=function(_){var I;return _.negative!==0&&this.negative===0?(_.negative=0,I=this.sub(_),_.negative^=1,I):_.negative===0&&this.negative!==0?(this.negative=0,I=_.sub(this),this.negative=1,I):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},a.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var I=this.iadd(_);return _.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var b=this.cmp(_);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,d;b>0?(v=this,d=_):(v=_,d=this);for(var y=0,x=0;x<d.length;x++)I=(v.words[x]|0)-(d.words[x]|0)+y,y=I>>26,this.words[x]=I&67108863;for(;y!==0&&x<v.length;x++)I=(v.words[x]|0)+y,y=I>>26,this.words[x]=I&67108863;if(y===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(_){return this.clone().isub(_)};function m(R,_,I){I.negative=_.negative^R.negative;var b=R.length+_.length|0;I.length=b,b=b-1|0;var v=R.words[0]|0,d=_.words[0]|0,y=v*d,x=y&67108863,E=y/67108864|0;I.words[0]=x;for(var h=1;h<b;h++){for(var T=E>>>26,F=E&67108863,L=Math.min(h,_.length-1),k=Math.max(0,h-R.length+1);k<=L;k++){var $=h-k|0;v=R.words[$]|0,d=_.words[k]|0,y=v*d+F,T+=y/67108864|0,F=y&67108863}I.words[h]=F|0,E=T|0}return E!==0?I.words[h]=E|0:I.length--,I.strip()}var A=function(_,I,b){var v=_.words,d=I.words,y=b.words,x=0,E,h,T,F=v[0]|0,L=F&8191,k=F>>>13,$=v[1]|0,H=$&8191,q=$>>>13,X=v[2]|0,te=X&8191,re=X>>>13,U=v[3]|0,P=U&8191,ne=U>>>13,fe=v[4]|0,de=fe&8191,Y=fe>>>13,J=v[5]|0,ie=J&8191,ue=J>>>13,ye=v[6]|0,ge=ye&8191,Se=ye>>>13,zt=v[7]|0,He=zt&8191,$e=zt>>>13,fn=v[8]|0,z=fn&8191,B=fn>>>13,D=v[9]|0,V=D&8191,ae=D>>>13,ce=d[0]|0,le=ce&8191,Oe=ce>>>13,nt=d[1]|0,Re=nt&8191,Le=nt>>>13,Ze=d[2]|0,ot=Ze&8191,jt=Ze>>>13,sb=d[3]|0,Wt=sb&8191,Rt=sb>>>13,tf=d[4]|0,Lt=tf&8191,Ht=tf>>>13,Xu=d[5]|0,yt=Xu&8191,Xt=Xu>>>13,ob=d[6]|0,Zt=ob&8191,Jt=ob>>>13,fb=d[7]|0,Ft=fb&8191,Pt=fb>>>13,ps=d[8]|0,er=ps&8191,tr=ps>>>13,cb=d[9]|0,rr=cb&8191,nr=cb>>>13;b.negative=_.negative^I.negative,b.length=19,E=Math.imul(L,le),h=Math.imul(L,Oe),h=h+Math.imul(k,le)|0,T=Math.imul(k,Oe);var bi=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(bi>>>26)|0,bi&=67108863,E=Math.imul(H,le),h=Math.imul(H,Oe),h=h+Math.imul(q,le)|0,T=Math.imul(q,Oe),E=E+Math.imul(L,Re)|0,h=h+Math.imul(L,Le)|0,h=h+Math.imul(k,Re)|0,T=T+Math.imul(k,Le)|0;var R0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(R0>>>26)|0,R0&=67108863,E=Math.imul(te,le),h=Math.imul(te,Oe),h=h+Math.imul(re,le)|0,T=Math.imul(re,Oe),E=E+Math.imul(H,Re)|0,h=h+Math.imul(H,Le)|0,h=h+Math.imul(q,Re)|0,T=T+Math.imul(q,Le)|0,E=E+Math.imul(L,ot)|0,h=h+Math.imul(L,jt)|0,h=h+Math.imul(k,ot)|0,T=T+Math.imul(k,jt)|0;var L0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(L0>>>26)|0,L0&=67108863,E=Math.imul(P,le),h=Math.imul(P,Oe),h=h+Math.imul(ne,le)|0,T=Math.imul(ne,Oe),E=E+Math.imul(te,Re)|0,h=h+Math.imul(te,Le)|0,h=h+Math.imul(re,Re)|0,T=T+Math.imul(re,Le)|0,E=E+Math.imul(H,ot)|0,h=h+Math.imul(H,jt)|0,h=h+Math.imul(q,ot)|0,T=T+Math.imul(q,jt)|0,E=E+Math.imul(L,Wt)|0,h=h+Math.imul(L,Rt)|0,h=h+Math.imul(k,Wt)|0,T=T+Math.imul(k,Rt)|0;var H0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(H0>>>26)|0,H0&=67108863,E=Math.imul(de,le),h=Math.imul(de,Oe),h=h+Math.imul(Y,le)|0,T=Math.imul(Y,Oe),E=E+Math.imul(P,Re)|0,h=h+Math.imul(P,Le)|0,h=h+Math.imul(ne,Re)|0,T=T+Math.imul(ne,Le)|0,E=E+Math.imul(te,ot)|0,h=h+Math.imul(te,jt)|0,h=h+Math.imul(re,ot)|0,T=T+Math.imul(re,jt)|0,E=E+Math.imul(H,Wt)|0,h=h+Math.imul(H,Rt)|0,h=h+Math.imul(q,Wt)|0,T=T+Math.imul(q,Rt)|0,E=E+Math.imul(L,Lt)|0,h=h+Math.imul(L,Ht)|0,h=h+Math.imul(k,Lt)|0,T=T+Math.imul(k,Ht)|0;var P0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(P0>>>26)|0,P0&=67108863,E=Math.imul(ie,le),h=Math.imul(ie,Oe),h=h+Math.imul(ue,le)|0,T=Math.imul(ue,Oe),E=E+Math.imul(de,Re)|0,h=h+Math.imul(de,Le)|0,h=h+Math.imul(Y,Re)|0,T=T+Math.imul(Y,Le)|0,E=E+Math.imul(P,ot)|0,h=h+Math.imul(P,jt)|0,h=h+Math.imul(ne,ot)|0,T=T+Math.imul(ne,jt)|0,E=E+Math.imul(te,Wt)|0,h=h+Math.imul(te,Rt)|0,h=h+Math.imul(re,Wt)|0,T=T+Math.imul(re,Rt)|0,E=E+Math.imul(H,Lt)|0,h=h+Math.imul(H,Ht)|0,h=h+Math.imul(q,Lt)|0,T=T+Math.imul(q,Ht)|0,E=E+Math.imul(L,yt)|0,h=h+Math.imul(L,Xt)|0,h=h+Math.imul(k,yt)|0,T=T+Math.imul(k,Xt)|0;var N0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(N0>>>26)|0,N0&=67108863,E=Math.imul(ge,le),h=Math.imul(ge,Oe),h=h+Math.imul(Se,le)|0,T=Math.imul(Se,Oe),E=E+Math.imul(ie,Re)|0,h=h+Math.imul(ie,Le)|0,h=h+Math.imul(ue,Re)|0,T=T+Math.imul(ue,Le)|0,E=E+Math.imul(de,ot)|0,h=h+Math.imul(de,jt)|0,h=h+Math.imul(Y,ot)|0,T=T+Math.imul(Y,jt)|0,E=E+Math.imul(P,Wt)|0,h=h+Math.imul(P,Rt)|0,h=h+Math.imul(ne,Wt)|0,T=T+Math.imul(ne,Rt)|0,E=E+Math.imul(te,Lt)|0,h=h+Math.imul(te,Ht)|0,h=h+Math.imul(re,Lt)|0,T=T+Math.imul(re,Ht)|0,E=E+Math.imul(H,yt)|0,h=h+Math.imul(H,Xt)|0,h=h+Math.imul(q,yt)|0,T=T+Math.imul(q,Xt)|0,E=E+Math.imul(L,Zt)|0,h=h+Math.imul(L,Jt)|0,h=h+Math.imul(k,Zt)|0,T=T+Math.imul(k,Jt)|0;var Pa=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,E=Math.imul(He,le),h=Math.imul(He,Oe),h=h+Math.imul($e,le)|0,T=Math.imul($e,Oe),E=E+Math.imul(ge,Re)|0,h=h+Math.imul(ge,Le)|0,h=h+Math.imul(Se,Re)|0,T=T+Math.imul(Se,Le)|0,E=E+Math.imul(ie,ot)|0,h=h+Math.imul(ie,jt)|0,h=h+Math.imul(ue,ot)|0,T=T+Math.imul(ue,jt)|0,E=E+Math.imul(de,Wt)|0,h=h+Math.imul(de,Rt)|0,h=h+Math.imul(Y,Wt)|0,T=T+Math.imul(Y,Rt)|0,E=E+Math.imul(P,Lt)|0,h=h+Math.imul(P,Ht)|0,h=h+Math.imul(ne,Lt)|0,T=T+Math.imul(ne,Ht)|0,E=E+Math.imul(te,yt)|0,h=h+Math.imul(te,Xt)|0,h=h+Math.imul(re,yt)|0,T=T+Math.imul(re,Xt)|0,E=E+Math.imul(H,Zt)|0,h=h+Math.imul(H,Jt)|0,h=h+Math.imul(q,Zt)|0,T=T+Math.imul(q,Jt)|0,E=E+Math.imul(L,Ft)|0,h=h+Math.imul(L,Pt)|0,h=h+Math.imul(k,Ft)|0,T=T+Math.imul(k,Pt)|0;var U0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(U0>>>26)|0,U0&=67108863,E=Math.imul(z,le),h=Math.imul(z,Oe),h=h+Math.imul(B,le)|0,T=Math.imul(B,Oe),E=E+Math.imul(He,Re)|0,h=h+Math.imul(He,Le)|0,h=h+Math.imul($e,Re)|0,T=T+Math.imul($e,Le)|0,E=E+Math.imul(ge,ot)|0,h=h+Math.imul(ge,jt)|0,h=h+Math.imul(Se,ot)|0,T=T+Math.imul(Se,jt)|0,E=E+Math.imul(ie,Wt)|0,h=h+Math.imul(ie,Rt)|0,h=h+Math.imul(ue,Wt)|0,T=T+Math.imul(ue,Rt)|0,E=E+Math.imul(de,Lt)|0,h=h+Math.imul(de,Ht)|0,h=h+Math.imul(Y,Lt)|0,T=T+Math.imul(Y,Ht)|0,E=E+Math.imul(P,yt)|0,h=h+Math.imul(P,Xt)|0,h=h+Math.imul(ne,yt)|0,T=T+Math.imul(ne,Xt)|0,E=E+Math.imul(te,Zt)|0,h=h+Math.imul(te,Jt)|0,h=h+Math.imul(re,Zt)|0,T=T+Math.imul(re,Jt)|0,E=E+Math.imul(H,Ft)|0,h=h+Math.imul(H,Pt)|0,h=h+Math.imul(q,Ft)|0,T=T+Math.imul(q,Pt)|0,E=E+Math.imul(L,er)|0,h=h+Math.imul(L,tr)|0,h=h+Math.imul(k,er)|0,T=T+Math.imul(k,tr)|0;var k0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(k0>>>26)|0,k0&=67108863,E=Math.imul(V,le),h=Math.imul(V,Oe),h=h+Math.imul(ae,le)|0,T=Math.imul(ae,Oe),E=E+Math.imul(z,Re)|0,h=h+Math.imul(z,Le)|0,h=h+Math.imul(B,Re)|0,T=T+Math.imul(B,Le)|0,E=E+Math.imul(He,ot)|0,h=h+Math.imul(He,jt)|0,h=h+Math.imul($e,ot)|0,T=T+Math.imul($e,jt)|0,E=E+Math.imul(ge,Wt)|0,h=h+Math.imul(ge,Rt)|0,h=h+Math.imul(Se,Wt)|0,T=T+Math.imul(Se,Rt)|0,E=E+Math.imul(ie,Lt)|0,h=h+Math.imul(ie,Ht)|0,h=h+Math.imul(ue,Lt)|0,T=T+Math.imul(ue,Ht)|0,E=E+Math.imul(de,yt)|0,h=h+Math.imul(de,Xt)|0,h=h+Math.imul(Y,yt)|0,T=T+Math.imul(Y,Xt)|0,E=E+Math.imul(P,Zt)|0,h=h+Math.imul(P,Jt)|0,h=h+Math.imul(ne,Zt)|0,T=T+Math.imul(ne,Jt)|0,E=E+Math.imul(te,Ft)|0,h=h+Math.imul(te,Pt)|0,h=h+Math.imul(re,Ft)|0,T=T+Math.imul(re,Pt)|0,E=E+Math.imul(H,er)|0,h=h+Math.imul(H,tr)|0,h=h+Math.imul(q,er)|0,T=T+Math.imul(q,tr)|0,E=E+Math.imul(L,rr)|0,h=h+Math.imul(L,nr)|0,h=h+Math.imul(k,rr)|0,T=T+Math.imul(k,nr)|0;var z0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(z0>>>26)|0,z0&=67108863,E=Math.imul(V,Re),h=Math.imul(V,Le),h=h+Math.imul(ae,Re)|0,T=Math.imul(ae,Le),E=E+Math.imul(z,ot)|0,h=h+Math.imul(z,jt)|0,h=h+Math.imul(B,ot)|0,T=T+Math.imul(B,jt)|0,E=E+Math.imul(He,Wt)|0,h=h+Math.imul(He,Rt)|0,h=h+Math.imul($e,Wt)|0,T=T+Math.imul($e,Rt)|0,E=E+Math.imul(ge,Lt)|0,h=h+Math.imul(ge,Ht)|0,h=h+Math.imul(Se,Lt)|0,T=T+Math.imul(Se,Ht)|0,E=E+Math.imul(ie,yt)|0,h=h+Math.imul(ie,Xt)|0,h=h+Math.imul(ue,yt)|0,T=T+Math.imul(ue,Xt)|0,E=E+Math.imul(de,Zt)|0,h=h+Math.imul(de,Jt)|0,h=h+Math.imul(Y,Zt)|0,T=T+Math.imul(Y,Jt)|0,E=E+Math.imul(P,Ft)|0,h=h+Math.imul(P,Pt)|0,h=h+Math.imul(ne,Ft)|0,T=T+Math.imul(ne,Pt)|0,E=E+Math.imul(te,er)|0,h=h+Math.imul(te,tr)|0,h=h+Math.imul(re,er)|0,T=T+Math.imul(re,tr)|0,E=E+Math.imul(H,rr)|0,h=h+Math.imul(H,nr)|0,h=h+Math.imul(q,rr)|0,T=T+Math.imul(q,nr)|0;var j0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(j0>>>26)|0,j0&=67108863,E=Math.imul(V,ot),h=Math.imul(V,jt),h=h+Math.imul(ae,ot)|0,T=Math.imul(ae,jt),E=E+Math.imul(z,Wt)|0,h=h+Math.imul(z,Rt)|0,h=h+Math.imul(B,Wt)|0,T=T+Math.imul(B,Rt)|0,E=E+Math.imul(He,Lt)|0,h=h+Math.imul(He,Ht)|0,h=h+Math.imul($e,Lt)|0,T=T+Math.imul($e,Ht)|0,E=E+Math.imul(ge,yt)|0,h=h+Math.imul(ge,Xt)|0,h=h+Math.imul(Se,yt)|0,T=T+Math.imul(Se,Xt)|0,E=E+Math.imul(ie,Zt)|0,h=h+Math.imul(ie,Jt)|0,h=h+Math.imul(ue,Zt)|0,T=T+Math.imul(ue,Jt)|0,E=E+Math.imul(de,Ft)|0,h=h+Math.imul(de,Pt)|0,h=h+Math.imul(Y,Ft)|0,T=T+Math.imul(Y,Pt)|0,E=E+Math.imul(P,er)|0,h=h+Math.imul(P,tr)|0,h=h+Math.imul(ne,er)|0,T=T+Math.imul(ne,tr)|0,E=E+Math.imul(te,rr)|0,h=h+Math.imul(te,nr)|0,h=h+Math.imul(re,rr)|0,T=T+Math.imul(re,nr)|0;var F0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(F0>>>26)|0,F0&=67108863,E=Math.imul(V,Wt),h=Math.imul(V,Rt),h=h+Math.imul(ae,Wt)|0,T=Math.imul(ae,Rt),E=E+Math.imul(z,Lt)|0,h=h+Math.imul(z,Ht)|0,h=h+Math.imul(B,Lt)|0,T=T+Math.imul(B,Ht)|0,E=E+Math.imul(He,yt)|0,h=h+Math.imul(He,Xt)|0,h=h+Math.imul($e,yt)|0,T=T+Math.imul($e,Xt)|0,E=E+Math.imul(ge,Zt)|0,h=h+Math.imul(ge,Jt)|0,h=h+Math.imul(Se,Zt)|0,T=T+Math.imul(Se,Jt)|0,E=E+Math.imul(ie,Ft)|0,h=h+Math.imul(ie,Pt)|0,h=h+Math.imul(ue,Ft)|0,T=T+Math.imul(ue,Pt)|0,E=E+Math.imul(de,er)|0,h=h+Math.imul(de,tr)|0,h=h+Math.imul(Y,er)|0,T=T+Math.imul(Y,tr)|0,E=E+Math.imul(P,rr)|0,h=h+Math.imul(P,nr)|0,h=h+Math.imul(ne,rr)|0,T=T+Math.imul(ne,nr)|0;var rf=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(rf>>>26)|0,rf&=67108863,E=Math.imul(V,Lt),h=Math.imul(V,Ht),h=h+Math.imul(ae,Lt)|0,T=Math.imul(ae,Ht),E=E+Math.imul(z,yt)|0,h=h+Math.imul(z,Xt)|0,h=h+Math.imul(B,yt)|0,T=T+Math.imul(B,Xt)|0,E=E+Math.imul(He,Zt)|0,h=h+Math.imul(He,Jt)|0,h=h+Math.imul($e,Zt)|0,T=T+Math.imul($e,Jt)|0,E=E+Math.imul(ge,Ft)|0,h=h+Math.imul(ge,Pt)|0,h=h+Math.imul(Se,Ft)|0,T=T+Math.imul(Se,Pt)|0,E=E+Math.imul(ie,er)|0,h=h+Math.imul(ie,tr)|0,h=h+Math.imul(ue,er)|0,T=T+Math.imul(ue,tr)|0,E=E+Math.imul(de,rr)|0,h=h+Math.imul(de,nr)|0,h=h+Math.imul(Y,rr)|0,T=T+Math.imul(Y,nr)|0;var $0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+($0>>>26)|0,$0&=67108863,E=Math.imul(V,yt),h=Math.imul(V,Xt),h=h+Math.imul(ae,yt)|0,T=Math.imul(ae,Xt),E=E+Math.imul(z,Zt)|0,h=h+Math.imul(z,Jt)|0,h=h+Math.imul(B,Zt)|0,T=T+Math.imul(B,Jt)|0,E=E+Math.imul(He,Ft)|0,h=h+Math.imul(He,Pt)|0,h=h+Math.imul($e,Ft)|0,T=T+Math.imul($e,Pt)|0,E=E+Math.imul(ge,er)|0,h=h+Math.imul(ge,tr)|0,h=h+Math.imul(Se,er)|0,T=T+Math.imul(Se,tr)|0,E=E+Math.imul(ie,rr)|0,h=h+Math.imul(ie,nr)|0,h=h+Math.imul(ue,rr)|0,T=T+Math.imul(ue,nr)|0;var q0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(q0>>>26)|0,q0&=67108863,E=Math.imul(V,Zt),h=Math.imul(V,Jt),h=h+Math.imul(ae,Zt)|0,T=Math.imul(ae,Jt),E=E+Math.imul(z,Ft)|0,h=h+Math.imul(z,Pt)|0,h=h+Math.imul(B,Ft)|0,T=T+Math.imul(B,Pt)|0,E=E+Math.imul(He,er)|0,h=h+Math.imul(He,tr)|0,h=h+Math.imul($e,er)|0,T=T+Math.imul($e,tr)|0,E=E+Math.imul(ge,rr)|0,h=h+Math.imul(ge,nr)|0,h=h+Math.imul(Se,rr)|0,T=T+Math.imul(Se,nr)|0;var $i=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+($i>>>26)|0,$i&=67108863,E=Math.imul(V,Ft),h=Math.imul(V,Pt),h=h+Math.imul(ae,Ft)|0,T=Math.imul(ae,Pt),E=E+Math.imul(z,er)|0,h=h+Math.imul(z,tr)|0,h=h+Math.imul(B,er)|0,T=T+Math.imul(B,tr)|0,E=E+Math.imul(He,rr)|0,h=h+Math.imul(He,nr)|0,h=h+Math.imul($e,rr)|0,T=T+Math.imul($e,nr)|0;var K0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(K0>>>26)|0,K0&=67108863,E=Math.imul(V,er),h=Math.imul(V,tr),h=h+Math.imul(ae,er)|0,T=Math.imul(ae,tr),E=E+Math.imul(z,rr)|0,h=h+Math.imul(z,nr)|0,h=h+Math.imul(B,rr)|0,T=T+Math.imul(B,nr)|0;var Q0=(x+E|0)+((h&8191)<<13)|0;x=(T+(h>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,E=Math.imul(V,rr),h=Math.imul(V,nr),h=h+Math.imul(ae,rr)|0,T=Math.imul(ae,nr);var V0=(x+E|0)+((h&8191)<<13)|0;return x=(T+(h>>>13)|0)+(V0>>>26)|0,V0&=67108863,y[0]=bi,y[1]=R0,y[2]=L0,y[3]=H0,y[4]=P0,y[5]=N0,y[6]=Pa,y[7]=U0,y[8]=k0,y[9]=z0,y[10]=j0,y[11]=F0,y[12]=rf,y[13]=$0,y[14]=q0,y[15]=$i,y[16]=K0,y[17]=Q0,y[18]=V0,x!==0&&(y[19]=x,b.length++),b};Math.imul||(A=m);function S(R,_,I){I.negative=_.negative^R.negative,I.length=R.length+_.length;for(var b=0,v=0,d=0;d<I.length-1;d++){var y=v;v=0;for(var x=b&67108863,E=Math.min(d,_.length-1),h=Math.max(0,d-R.length+1);h<=E;h++){var T=d-h,F=R.words[T]|0,L=_.words[h]|0,k=F*L,$=k&67108863;y=y+(k/67108864|0)|0,$=$+x|0,x=$&67108863,y=y+($>>>26)|0,v+=y>>>26,y&=67108863}I.words[d]=x,b=y,y=v}return b!==0?I.words[d]=b:I.length--,I.strip()}function w(R,_,I){var b=new C;return b.mulp(R,_,I)}a.prototype.mulTo=function(_,I){var b,v=this.length+_.length;return this.length===10&&_.length===10?b=A(this,_,I):v<63?b=m(this,_,I):v<1024?b=S(this,_,I):b=w(this,_,I),b};function C(R,_){this.x=R,this.y=_}C.prototype.makeRBT=function(_){for(var I=new Array(_),b=a.prototype._countBits(_)-1,v=0;v<_;v++)I[v]=this.revBin(v,b,_);return I},C.prototype.revBin=function(_,I,b){if(_===0||_===b-1)return _;for(var v=0,d=0;d<I;d++)v|=(_&1)<<I-d-1,_>>=1;return v},C.prototype.permute=function(_,I,b,v,d,y){for(var x=0;x<y;x++)v[x]=I[_[x]],d[x]=b[_[x]]},C.prototype.transform=function(_,I,b,v,d,y){this.permute(y,_,I,b,v,d);for(var x=1;x<d;x<<=1)for(var E=x<<1,h=Math.cos(2*Math.PI/E),T=Math.sin(2*Math.PI/E),F=0;F<d;F+=E)for(var L=h,k=T,$=0;$<x;$++){var H=b[F+$],q=v[F+$],X=b[F+$+x],te=v[F+$+x],re=L*X-k*te;te=L*te+k*X,X=re,b[F+$]=H+X,v[F+$]=q+te,b[F+$+x]=H-X,v[F+$+x]=q-te,$!==E&&(re=h*L-T*k,k=h*k+T*L,L=re)}},C.prototype.guessLen13b=function(_,I){var b=Math.max(I,_)|1,v=b&1,d=0;for(b=b/2|0;b;b=b>>>1)d++;return 1<<d+1+v},C.prototype.conjugate=function(_,I,b){if(!(b<=1))for(var v=0;v<b/2;v++){var d=_[v];_[v]=_[b-v-1],_[b-v-1]=d,d=I[v],I[v]=-I[b-v-1],I[b-v-1]=-d}},C.prototype.normalize13b=function(_,I){for(var b=0,v=0;v<I/2;v++){var d=Math.round(_[2*v+1]/I)*8192+Math.round(_[2*v]/I)+b;_[v]=d&67108863,d<67108864?b=0:b=d/67108864|0}return _},C.prototype.convert13b=function(_,I,b,v){for(var d=0,y=0;y<I;y++)d=d+(_[y]|0),b[2*y]=d&8191,d=d>>>13,b[2*y+1]=d&8191,d=d>>>13;for(y=2*I;y<v;++y)b[y]=0;n(d===0),n((d&-8192)===0)},C.prototype.stub=function(_){for(var I=new Array(_),b=0;b<_;b++)I[b]=0;return I},C.prototype.mulp=function(_,I,b){var v=2*this.guessLen13b(_.length,I.length),d=this.makeRBT(v),y=this.stub(v),x=new Array(v),E=new Array(v),h=new Array(v),T=new Array(v),F=new Array(v),L=new Array(v),k=b.words;k.length=v,this.convert13b(_.words,_.length,x,v),this.convert13b(I.words,I.length,T,v),this.transform(x,y,E,h,v,d),this.transform(T,y,F,L,v,d);for(var $=0;$<v;$++){var H=E[$]*F[$]-h[$]*L[$];h[$]=E[$]*L[$]+h[$]*F[$],E[$]=H}return this.conjugate(E,h,v),this.transform(E,h,k,y,v,d),this.conjugate(k,y,v),this.normalize13b(k,v),b.negative=_.negative^I.negative,b.length=_.length+I.length,b.strip()},a.prototype.mul=function(_){var I=new a(null);return I.words=new Array(this.length+_.length),this.mulTo(_,I)},a.prototype.mulf=function(_){var I=new a(null);return I.words=new Array(this.length+_.length),w(this,_,I)},a.prototype.imul=function(_){return this.clone().mulTo(_,this)},a.prototype.imuln=function(_){n(typeof _=="number"),n(_<67108864);for(var I=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*_,d=(v&67108863)+(I&67108863);I>>=26,I+=v/67108864|0,I+=d>>>26,this.words[b]=d&67108863}return I!==0&&(this.words[b]=I,this.length++),this},a.prototype.muln=function(_){return this.clone().imuln(_)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(_){var I=g(_);if(I.length===0)return new a(1);for(var b=this,v=0;v<I.length&&I[v]===0;v++,b=b.sqr());if(++v<I.length)for(var d=b.sqr();v<I.length;v++,d=d.sqr())I[v]!==0&&(b=b.mul(d));return b},a.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26,v=67108863>>>26-I<<26-I,d;if(I!==0){var y=0;for(d=0;d<this.length;d++){var x=this.words[d]&v,E=(this.words[d]|0)-x<<I;this.words[d]=E|y,y=x>>>26-I}y&&(this.words[d]=y,this.length++)}if(b!==0){for(d=this.length-1;d>=0;d--)this.words[d+b]=this.words[d];for(d=0;d<b;d++)this.words[d]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},a.prototype.iushrn=function(_,I,b){n(typeof _=="number"&&_>=0);var v;I?v=(I-I%26)/26:v=0;var d=_%26,y=Math.min((_-d)/26,this.length),x=67108863^67108863>>>d<<d,E=b;if(v-=y,v=Math.max(0,v),E){for(var h=0;h<y;h++)E.words[h]=this.words[h];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,h=0;h<this.length;h++)this.words[h]=this.words[h+y];else this.words[0]=0,this.length=1;var T=0;for(h=this.length-1;h>=0&&(T!==0||h>=v);h--){var F=this.words[h]|0;this.words[h]=T<<26-d|F>>>d,T=F&x}return E&&T!==0&&(E.words[E.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(_,I,b){return n(this.negative===0),this.iushrn(_,I,b)},a.prototype.shln=function(_){return this.clone().ishln(_)},a.prototype.ushln=function(_){return this.clone().iushln(_)},a.prototype.shrn=function(_){return this.clone().ishrn(_)},a.prototype.ushrn=function(_){return this.clone().iushrn(_)},a.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26,v=1<<I;if(this.length<=b)return!1;var d=this.words[b];return!!(d&v)},a.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(I!==0&&b++,this.length=Math.min(b,this.length),I!==0){var v=67108863^67108863>>>I<<I;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(_){return this.clone().imaskn(_)},a.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},a.prototype._iaddn=function(_){this.words[0]+=_;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},a.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},a.prototype.addn=function(_){return this.clone().iaddn(_)},a.prototype.subn=function(_){return this.clone().isubn(_)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(_,I,b){var v=_.length+b,d;this._expand(v);var y,x=0;for(d=0;d<_.length;d++){y=(this.words[d+b]|0)+x;var E=(_.words[d]|0)*I;y-=E&67108863,x=(y>>26)-(E/67108864|0),this.words[d+b]=y&67108863}for(;d<this.length-b;d++)y=(this.words[d+b]|0)+x,x=y>>26,this.words[d+b]=y&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+x,x=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(_,I){var b=this.length-_.length,v=this.clone(),d=_,y=d.words[d.length-1]|0,x=this._countBits(y);b=26-x,b!==0&&(d=d.ushln(b),v.iushln(b),y=d.words[d.length-1]|0);var E=v.length-d.length,h;if(I!=="mod"){h=new a(null),h.length=E+1,h.words=new Array(h.length);for(var T=0;T<h.length;T++)h.words[T]=0}var F=v.clone()._ishlnsubmul(d,1,E);F.negative===0&&(v=F,h&&(h.words[E]=1));for(var L=E-1;L>=0;L--){var k=(v.words[d.length+L]|0)*67108864+(v.words[d.length+L-1]|0);for(k=Math.min(k/y|0,67108863),v._ishlnsubmul(d,k,L);v.negative!==0;)k--,v.negative=0,v._ishlnsubmul(d,1,L),v.isZero()||(v.negative^=1);h&&(h.words[L]=k)}return h&&h.strip(),v.strip(),I!=="div"&&b!==0&&v.iushrn(b),{div:h||null,mod:v}},a.prototype.divmod=function(_,I,b){if(n(!_.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,d,y;return this.negative!==0&&_.negative===0?(y=this.neg().divmod(_,I),I!=="mod"&&(v=y.div.neg()),I!=="div"&&(d=y.mod.neg(),b&&d.negative!==0&&d.iadd(_)),{div:v,mod:d}):this.negative===0&&_.negative!==0?(y=this.divmod(_.neg(),I),I!=="mod"&&(v=y.div.neg()),{div:v,mod:y.mod}):this.negative&_.negative?(y=this.neg().divmod(_.neg(),I),I!=="div"&&(d=y.mod.neg(),b&&d.negative!==0&&d.isub(_)),{div:y.div,mod:d}):_.length>this.length||this.cmp(_)<0?{div:new a(0),mod:this}:_.length===1?I==="div"?{div:this.divn(_.words[0]),mod:null}:I==="mod"?{div:null,mod:new a(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new a(this.modn(_.words[0]))}:this._wordDiv(_,I)},a.prototype.div=function(_){return this.divmod(_,"div",!1).div},a.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},a.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},a.prototype.divRound=function(_){var I=this.divmod(_);if(I.mod.isZero())return I.div;var b=I.div.negative!==0?I.mod.isub(_):I.mod,v=_.ushrn(1),d=_.andln(1),y=b.cmp(v);return y<0||d===1&&y===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},a.prototype.modn=function(_){n(_<=67108863);for(var I=(1<<26)%_,b=0,v=this.length-1;v>=0;v--)b=(I*b+(this.words[v]|0))%_;return b},a.prototype.idivn=function(_){n(_<=67108863);for(var I=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+I*67108864;this.words[b]=v/_|0,I=v%_}return this.strip()},a.prototype.divn=function(_){return this.clone().idivn(_)},a.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var I=this,b=_.clone();I.negative!==0?I=I.umod(_):I=I.clone();for(var v=new a(1),d=new a(0),y=new a(0),x=new a(1),E=0;I.isEven()&&b.isEven();)I.iushrn(1),b.iushrn(1),++E;for(var h=b.clone(),T=I.clone();!I.isZero();){for(var F=0,L=1;!(I.words[0]&L)&&F<26;++F,L<<=1);if(F>0)for(I.iushrn(F);F-- >0;)(v.isOdd()||d.isOdd())&&(v.iadd(h),d.isub(T)),v.iushrn(1),d.iushrn(1);for(var k=0,$=1;!(b.words[0]&$)&&k<26;++k,$<<=1);if(k>0)for(b.iushrn(k);k-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(h),x.isub(T)),y.iushrn(1),x.iushrn(1);I.cmp(b)>=0?(I.isub(b),v.isub(y),d.isub(x)):(b.isub(I),y.isub(v),x.isub(d))}return{a:y,b:x,gcd:b.iushln(E)}},a.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var I=this,b=_.clone();I.negative!==0?I=I.umod(_):I=I.clone();for(var v=new a(1),d=new a(0),y=b.clone();I.cmpn(1)>0&&b.cmpn(1)>0;){for(var x=0,E=1;!(I.words[0]&E)&&x<26;++x,E<<=1);if(x>0)for(I.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);for(var h=0,T=1;!(b.words[0]&T)&&h<26;++h,T<<=1);if(h>0)for(b.iushrn(h);h-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);I.cmp(b)>=0?(I.isub(b),v.isub(d)):(b.isub(I),d.isub(v))}var F;return I.cmpn(1)===0?F=v:F=d,F.cmpn(0)<0&&F.iadd(_),F},a.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var I=this.clone(),b=_.clone();I.negative=0,b.negative=0;for(var v=0;I.isEven()&&b.isEven();v++)I.iushrn(1),b.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;b.isEven();)b.iushrn(1);var d=I.cmp(b);if(d<0){var y=I;I=b,b=y}else if(d===0||b.cmpn(1)===0)break;I.isub(b)}while(!0);return b.iushln(v)},a.prototype.invm=function(_){return this.egcd(_).a.umod(_)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(_){return this.words[0]&_},a.prototype.bincn=function(_){n(typeof _=="number");var I=_%26,b=(_-I)/26,v=1<<I;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var d=v,y=b;d!==0&&y<this.length;y++){var x=this.words[y]|0;x+=d,d=x>>>26,x&=67108863,this.words[y]=x}return d!==0&&(this.words[y]=d,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(_){var I=_<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var b;if(this.length>1)b=1;else{I&&(_=-_),n(_<=67108863,"Number is too big");var v=this.words[0]|0;b=v===_?0:v<_?-1:1}return this.negative!==0?-b|0:b},a.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var I=this.ucmp(_);return this.negative!==0?-I|0:I},a.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var I=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,d=_.words[b]|0;if(v!==d){v<d?I=-1:v>d&&(I=1);break}}return I},a.prototype.gtn=function(_){return this.cmpn(_)===1},a.prototype.gt=function(_){return this.cmp(_)===1},a.prototype.gten=function(_){return this.cmpn(_)>=0},a.prototype.gte=function(_){return this.cmp(_)>=0},a.prototype.ltn=function(_){return this.cmpn(_)===-1},a.prototype.lt=function(_){return this.cmp(_)===-1},a.prototype.lten=function(_){return this.cmpn(_)<=0},a.prototype.lte=function(_){return this.cmp(_)<=0},a.prototype.eqn=function(_){return this.cmpn(_)===0},a.prototype.eq=function(_){return this.cmp(_)===0},a.red=function(_){return new G(_)},a.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(_){return this.red=_,this},a.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},a.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},a.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},a.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},a.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},a.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},a.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},a.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var O={k256:null,p224:null,p192:null,p25519:null};function M(R,_){this.name=R,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var _=new a(null);return _.words=new Array(Math.ceil(this.n/13)),_},M.prototype.ireduce=function(_){var I=_,b;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),b=I.bitLength();while(b>this.n);var v=b<this.n?-1:I.ucmp(this.p);return v===0?(I.words[0]=0,I.length=1):v>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},M.prototype.split=function(_,I){_.iushrn(this.n,0,I)},M.prototype.imulK=function(_){return _.imul(this.k)};function N(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,M),N.prototype.split=function(_,I){for(var b=4194303,v=Math.min(_.length,9),d=0;d<v;d++)I.words[d]=_.words[d];if(I.length=v,_.length<=9){_.words[0]=0,_.length=1;return}var y=_.words[9];for(I.words[I.length++]=y&b,d=10;d<_.length;d++){var x=_.words[d]|0;_.words[d-10]=(x&b)<<4|y>>>22,y=x}y>>>=22,_.words[d-10]=y,y===0&&_.length>10?_.length-=10:_.length-=9},N.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var I=0,b=0;b<_.length;b++){var v=_.words[b]|0;I+=v*977,_.words[b]=I&67108863,I=v*64+(I/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function K(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,M);function Q(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,M);function j(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(j,M),j.prototype.imulK=function(_){for(var I=0,b=0;b<_.length;b++){var v=(_.words[b]|0)*19+I,d=v&67108863;v>>>=26,_.words[b]=d,I=v}return I!==0&&(_.words[_.length++]=I),_},a._prime=function(_){if(O[_])return O[_];var I;if(_==="k256")I=new N;else if(_==="p224")I=new K;else if(_==="p192")I=new Q;else if(_==="p25519")I=new j;else throw new Error("Unknown prime "+_);return O[_]=I,I};function G(R){if(typeof R=="string"){var _=a._prime(R);this.m=_.p,this.prime=_}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}G.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},G.prototype._verify2=function(_,I){n((_.negative|I.negative)===0,"red works only with positives"),n(_.red&&_.red===I.red,"red works only with red numbers")},G.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},G.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},G.prototype.add=function(_,I){this._verify2(_,I);var b=_.add(I);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},G.prototype.iadd=function(_,I){this._verify2(_,I);var b=_.iadd(I);return b.cmp(this.m)>=0&&b.isub(this.m),b},G.prototype.sub=function(_,I){this._verify2(_,I);var b=_.sub(I);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},G.prototype.isub=function(_,I){this._verify2(_,I);var b=_.isub(I);return b.cmpn(0)<0&&b.iadd(this.m),b},G.prototype.shl=function(_,I){return this._verify1(_),this.imod(_.ushln(I))},G.prototype.imul=function(_,I){return this._verify2(_,I),this.imod(_.imul(I))},G.prototype.mul=function(_,I){return this._verify2(_,I),this.imod(_.mul(I))},G.prototype.isqr=function(_){return this.imul(_,_.clone())},G.prototype.sqr=function(_){return this.mul(_,_)},G.prototype.sqrt=function(_){if(_.isZero())return _.clone();var I=this.m.andln(3);if(n(I%2===1),I===3){var b=this.m.add(new a(1)).iushrn(2);return this.pow(_,b)}for(var v=this.m.subn(1),d=0;!v.isZero()&&v.andln(1)===0;)d++,v.iushrn(1);n(!v.isZero());var y=new a(1).toRed(this),x=y.redNeg(),E=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,E).cmp(x)!==0;)h.redIAdd(x);for(var T=this.pow(h,v),F=this.pow(_,v.addn(1).iushrn(1)),L=this.pow(_,v),k=d;L.cmp(y)!==0;){for(var $=L,H=0;$.cmp(y)!==0;H++)$=$.redSqr();n(H<k);var q=this.pow(T,new a(1).iushln(k-H-1));F=F.redMul(q),T=q.redSqr(),L=L.redMul(T),k=H}return F},G.prototype.invm=function(_){var I=_._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},G.prototype.pow=function(_,I){if(I.isZero())return new a(1).toRed(this);if(I.cmpn(1)===0)return _.clone();var b=4,v=new Array(1<<b);v[0]=new a(1).toRed(this),v[1]=_;for(var d=2;d<v.length;d++)v[d]=this.mul(v[d-1],_);var y=v[0],x=0,E=0,h=I.bitLength()%26;for(h===0&&(h=26),d=I.length-1;d>=0;d--){for(var T=I.words[d],F=h-1;F>=0;F--){var L=T>>F&1;if(y!==v[0]&&(y=this.sqr(y)),L===0&&x===0){E=0;continue}x<<=1,x|=L,E++,!(E!==b&&(d!==0||F!==0))&&(y=this.mul(y,v[x]),E=0,x=0)}h=26}return y},G.prototype.convertTo=function(_){var I=_.umod(this.m);return I===_?I.clone():I},G.prototype.convertFrom=function(_){var I=_.clone();return I.red=null,I},a.mont=function(_){return new W(_)};function W(R){G.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,G),W.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},W.prototype.convertFrom=function(_){var I=this.imod(_.mul(this.rinv));return I.red=null,I},W.prototype.imul=function(_,I){if(_.isZero()||I.isZero())return _.words[0]=0,_.length=1,_;var b=_.imul(I),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},W.prototype.mul=function(_,I){if(_.isZero()||I.isZero())return new a(0)._forceRed(this);var b=_.mul(I),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},W.prototype.invm=function(_){var I=this.imod(_._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(t,$n)})(nw);var Cr=nw.exports,Ic=UR;function UR(t,e){if(!t)throw new Error(e||"Assertion failed")}UR.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var nv={};(function(t){var e=t;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var f=0;f<a.length;f++)o[f]=a[f]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var f=0;f<a.length;f+=2)o.push(parseInt(a[f]+a[f+1],16))}else for(var f=0;f<a.length;f++){var c=a.charCodeAt(f),u=c>>8,l=c&255;u?o.push(u,l):o.push(l)}return o}e.toArray=r;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}e.toHex=i,e.encode=function(s,o){return o==="hex"?i(s):s}})(nv);(function(t){var e=t,r=Cr,n=Ic,i=nv;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(u,l,p){var g=new Array(Math.max(u.bitLength(),p)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var A=1<<l+1,S=u.clone();for(m=0;m<g.length;m++){var w,C=S.andln(A-1);S.isOdd()?(C>(A>>1)-1?w=(A>>1)-C:w=C,S.isubn(w)):w=0,g[m]=w,S.iushrn(1)}return g}e.getNAF=a;function s(u,l){var p=[[],[]];u=u.clone(),l=l.clone();for(var g=0,m=0,A;u.cmpn(-g)>0||l.cmpn(-m)>0;){var S=u.andln(3)+g&3,w=l.andln(3)+m&3;S===3&&(S=-1),w===3&&(w=-1);var C;S&1?(A=u.andln(7)+g&7,(A===3||A===5)&&w===2?C=-S:C=S):C=0,p[0].push(C);var O;w&1?(A=l.andln(7)+m&7,(A===3||A===5)&&S===2?O=-w:O=w):O=0,p[1].push(O),2*g===C+1&&(g=1-g),2*m===O+1&&(m=1-m),u.iushrn(1),l.iushrn(1)}return p}e.getJSF=s;function o(u,l,p){var g="_"+l;u.prototype[l]=function(){return this[g]!==void 0?this[g]:this[g]=p.call(this)}}e.cachedProperty=o;function f(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=f;function c(u){return new r(u,"hex","le")}e.intFromLE=c})(ji);var iw={exports:{}},om;iw.exports=function(e){return om||(om=new $f(null)),om.generate(e)};function $f(t){this.rand=t}iw.exports.Rand=$f;$f.prototype.generate=function(e){return this._rand(e)};$f.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?$f.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?$f.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&($f.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var LE=Y1;if(typeof LE.randomBytes!="function")throw new Error("Not supported");$f.prototype._rand=function(e){return LE.randomBytes(e)}}catch{}var iv=iw.exports,aw={},Lc=Cr,G1=ji,Oy=G1.getNAF,JW=G1.getJSF,By=G1.assert;function Cc(t,e){this.type=t,this.p=new Lc(e.p,16),this.red=e.prime?Lc.red(e.prime):Lc.mont(this.p),this.zero=new Lc(0).toRed(this.red),this.one=new Lc(1).toRed(this.red),this.two=new Lc(2).toRed(this.red),this.n=e.n&&new Lc(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var av=Cc;Cc.prototype.point=function(){throw new Error("Not implemented")};Cc.prototype.validate=function(){throw new Error("Not implemented")};Cc.prototype._fixedNafMul=function(e,r){By(e.precomputed);var n=e._getDoubles(),i=Oy(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),p=a;p>0;p--){for(o=0;o<s.length;o++)f=s[o],f===p?l=l.mixedAdd(n.points[o]):f===-p&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Cc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Oy(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];By(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Cc.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,l,p;for(u=0;u<i;u++){p=r[u];var g=p._getNAFPoints(e);s[u]=g.wnd,o[u]=g.points}for(u=i-1;u>=1;u-=2){var m=u-1,A=u;if(s[m]!==1||s[A]!==1){f[m]=Oy(n[m],s[m],this._bitLength),f[A]=Oy(n[A],s[A],this._bitLength),c=Math.max(f[m].length,c),c=Math.max(f[A].length,c);continue}var S=[r[m],null,null,r[A]];r[m].y.cmp(r[A].y)===0?(S[1]=r[m].add(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg())):r[m].y.cmp(r[A].y.redNeg())===0?(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].add(r[A].neg())):(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=JW(n[m],n[A]);for(c=Math.max(C[0].length,c),f[m]=new Array(c),f[A]=new Array(c),l=0;l<c;l++){var O=C[0][l]|0,M=C[1][l]|0;f[m][l]=w[(O+1)*3+(M+1)],f[A][l]=0,o[m]=S}}var N=this.jpoint(null,null,null),K=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var j=!0;for(l=0;l<i;l++)K[l]=f[l][u]|0,K[l]!==0&&(j=!1);if(!j)break;Q++,u--}if(u>=0&&Q++,N=N.dblp(Q),u<0)break;for(l=0;l<i;l++){var G=K[l];G!==0&&(G>0?p=o[l][G-1>>1]:G<0&&(p=o[l][-G-1>>1].neg()),p.type==="affine"?N=N.mixedAdd(p):N=N.add(p))}}for(u=0;u<i;u++)o[u]=null;return a?N:N.toP()};function Da(t,e){this.curve=t,this.type=e,this.precomputed=null}Cc.BasePoint=Da;Da.prototype.eq=function(){throw new Error("Not implemented")};Da.prototype.validate=function(){return this.curve.validate(this)};Cc.prototype.decodePoint=function(e,r){e=G1.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?By(e[e.length-1]%2===0):e[0]===7&&By(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Da.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Da.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Da.prototype.encode=function(e,r){return G1.encode(this._encode(r),e)};Da.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Da.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Da.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Da.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Da.prototype._getBeta=function(){return null};Da.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var O6={exports:{}};typeof Object.create=="function"?O6.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:O6.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Gt=O6.exports,eX=ji,fr=Cr,sw=Gt,m0=av,tX=eX.assert;function Ma(t){m0.call(this,"short",t),this.a=new fr(t.a,16).toRed(this.red),this.b=new fr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}sw(Ma,m0);var rX=Ma;Ma.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new fr(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],tX(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new fr(o.a,16),b:new fr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ma.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fr.mont(e),n=new fr(2).toRed(r).redInvm(),i=n.redNeg(),a=new fr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ma.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new fr(1),s=new fr(0),o=new fr(0),f=new fr(1),c,u,l,p,g,m,A,S=0,w,C;n.cmpn(0)!==0;){var O=i.div(n);w=i.sub(O.mul(n)),C=o.sub(O.mul(a));var M=f.sub(O.mul(s));if(!l&&w.cmp(r)<0)c=A.neg(),u=a,l=w.neg(),p=C;else if(l&&++S===2)break;A=w,i=n,n=w,o=a,a=C,f=s,s=M}g=w.neg(),m=C;var N=l.sqr().add(p.sqr()),K=g.sqr().add(m.sqr());return K.cmp(N)>=0&&(g=c,m=u),l.negative&&(l=l.neg(),p=p.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:l,b:p},{a:g,b:m}]};Ma.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),l=e.sub(o).sub(f),p=c.add(u).neg();return{k1:l,k2:p}};Ma.prototype.pointFromX=function(e,r){e=new fr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Ma.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ma.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function Kr(t,e,r,n){m0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fr(e,16),this.y=new fr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}sw(Kr,m0.BasePoint);Ma.prototype.point=function(e,r,n){return new Kr(this,e,r,n)};Ma.prototype.pointFromJSON=function(e,r){return Kr.fromJSON(this,e,r)};Kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Kr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Kr.prototype.isInfinity=function(){return this.inf};Kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Kr.prototype.getX=function(){return this.x.fromRed()};Kr.prototype.getY=function(){return this.y.fromRed()};Kr.prototype.mul=function(e){return e=new fr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Kr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Kr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Kr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Kr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function nn(t,e,r,n){m0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fr(0)):(this.x=new fr(e,16),this.y=new fr(r,16),this.z=new fr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}sw(nn,m0.BasePoint);Ma.prototype.jpoint=function(e,r,n){return new nn(this,e,r,n)};nn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};nn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};nn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),p=i.redMul(u),g=c.redSqr().redIAdd(l).redISub(p).redISub(p),m=c.redMul(p.redISub(g)).redISub(s.redMul(l)),A=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(g,m,A)};nn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),p=f.redSqr().redIAdd(u).redISub(l).redISub(l),g=f.redMul(l.redISub(p)).redISub(a.redMul(u)),m=this.z.redMul(o);return this.curve.jpoint(p,g,m)};nn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),p=u.redSqr(),g=p.redSqr(),m=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),A=s.redMul(p),S=m.redSqr().redISub(A.redAdd(A)),w=A.redISub(S),C=m.redMul(w);C=C.redIAdd(C).redISub(g);var O=u.redMul(f);r+1<e&&(c=c.redMul(g)),s=S,f=O,u=C}return this.curve.jpoint(s,u.redMul(a),f)};nn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};nn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),m=this.x.redAdd(p).redSqr().redISub(l).redISub(g);m=m.redIAdd(m);var A=l.redAdd(l).redIAdd(l),S=A.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=S.redISub(m).redISub(m),r=A.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};nn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),g=this.x.redMul(p),m=this.x.redSub(l).redMul(this.x.redAdd(l));m=m.redAdd(m).redIAdd(m);var A=g.redIAdd(g);A=A.redIAdd(A);var S=A.redAdd(A);e=m.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var w=p.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(A.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};nn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),l=f.redSqr().redISub(u.redAdd(u)),p=u.redISub(l),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=f.redMul(p).redISub(g),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,m,A)};nn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(f).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(p,g,m)};nn.prototype.mul=function(e,r){return e=new fr(e,r),this.curve._wnafMul(this,e)};nn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};nn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};nn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};nn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Tl=Cr,kR=Gt,sv=av,nX=ji;function w0(t){sv.call(this,"mont",t),this.a=new Tl(t.a,16).toRed(this.red),this.b=new Tl(t.b,16).toRed(this.red),this.i4=new Tl(4).toRed(this.red).redInvm(),this.two=new Tl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}kR(w0,sv);var iX=w0;w0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function $r(t,e,r){sv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Tl(e,16),this.z=new Tl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}kR($r,sv.BasePoint);w0.prototype.decodePoint=function(e,r){return this.point(nX.toArray(e,r),1)};w0.prototype.point=function(e,r){return new $r(this,e,r)};w0.prototype.pointFromJSON=function(e){return $r.fromJSON(this,e)};$r.prototype.precompute=function(){};$r.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};$r.fromJSON=function(e,r){return new $r(e,r[0],r[1]||e.one)};$r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};$r.prototype.isInfinity=function(){return this.z.cmpn(0)===0};$r.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};$r.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};$r.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};$r.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};$r.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};$r.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};$r.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};$r.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};$r.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var aX=ji,To=Cr,zR=Gt,ov=av,sX=aX.assert;function Zs(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,ov.call(this,"edwards",t),this.a=new To(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new To(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new To(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),sX(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}zR(Zs,ov);var oX=Zs;Zs.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Zs.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Zs.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Zs.prototype.pointFromX=function(e,r){e=new To(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Zs.prototype.pointFromY=function(e,r){e=new To(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Zs.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Et(t,e,r,n,i){ov.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new To(e,16),this.y=new To(r,16),this.z=n?new To(n,16):this.curve.one,this.t=i&&new To(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}zR(Et,ov.BasePoint);Zs.prototype.pointFromJSON=function(e){return Et.fromJSON(this,e)};Zs.prototype.point=function(e,r,n,i){return new Et(this,e,r,n,i)};Et.fromJSON=function(e,r){return new Et(e,r[0],r[1],r[2])};Et.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Et.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Et.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),l=a.redMul(f),p=o.redMul(s);return this.curve.point(c,u,p,l)};Et.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};Et.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Et.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),l=f.redMul(c),p=s.redMul(c),g=o.redMul(f);return this.curve.point(u,l,g,p)};Et.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),l,p;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),p=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),p=this.curve._mulC(o).redMul(f)),this.curve.point(u,l,p)};Et.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Et.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Et.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Et.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Et.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Et.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Et.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Et.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Et.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Et.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Et.prototype.toP=Et.prototype.normalize;Et.prototype.mixedAdd=Et.prototype.add;(function(t){var e=t;e.base=av,e.short=rX,e.mont=iX,e.edwards=oX})(aw);var fv={},A0={},Ke={},fX=Ic,cX=Gt;Ke.inherits=cX;function uX(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function lX(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):uX(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ke.toArray=lX;function dX(t){for(var e="",r=0;r<t.length;r++)e+=FR(t[r].toString(16));return e}Ke.toHex=dX;function jR(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ke.htonl=jR;function hX(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=jR(i)),r+=$R(i.toString(16))}return r}Ke.toHex32=hX;function FR(t){return t.length===1?"0"+t:t}Ke.zero2=FR;function $R(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ke.zero8=$R;function pX(t,e,r,n){var i=r-e;fX(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}Ke.join32=pX;function bX(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ke.split32=bX;function gX(t,e){return t>>>e|t<<32-e}Ke.rotr32=gX;function yX(t,e){return t<<e|t>>>32-e}Ke.rotl32=yX;function vX(t,e){return t+e>>>0}Ke.sum32=vX;function _X(t,e,r){return t+e+r>>>0}Ke.sum32_3=_X;function mX(t,e,r,n){return t+e+r+n>>>0}Ke.sum32_4=mX;function wX(t,e,r,n,i){return t+e+r+n+i>>>0}Ke.sum32_5=wX;function AX(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}Ke.sum64=AX;function EX(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Ke.sum64_hi=EX;function xX(t,e,r,n){var i=e+n;return i>>>0}Ke.sum64_lo=xX;function SX(t,e,r,n,i,a,s,o){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+a>>>0,f+=c<a?1:0,c=c+o>>>0,f+=c<o?1:0;var u=t+r+i+s+f;return u>>>0}Ke.sum64_4_hi=SX;function IX(t,e,r,n,i,a,s,o){var f=e+n+a+o;return f>>>0}Ke.sum64_4_lo=IX;function CX(t,e,r,n,i,a,s,o,f,c){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+o>>>0,u+=l<o?1:0,l=l+c>>>0,u+=l<c?1:0;var p=t+r+i+s+f+u;return p>>>0}Ke.sum64_5_hi=CX;function TX(t,e,r,n,i,a,s,o,f,c){var u=e+n+a+o+c;return u>>>0}Ke.sum64_5_lo=TX;function OX(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ke.rotr64_hi=OX;function BX(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ke.rotr64_lo=BX;function DX(t,e,r){return t>>>r}Ke.shr64_hi=DX;function MX(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ke.shr64_lo=MX;var E0={},HE=Ke,RX=Ic;function cv(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}E0.BlockHash=cv;cv.prototype.update=function(e,r){if(e=HE.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=HE.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};cv.prototype.digest=function(e){return this.update(this._pad()),RX(this.pending===null),this._digest(e)};cv.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var x0={},Js={},LX=Ke,ks=LX.rotr32;function HX(t,e,r,n){if(t===0)return qR(e,r,n);if(t===1||t===3)return QR(e,r,n);if(t===2)return KR(e,r,n)}Js.ft_1=HX;function qR(t,e,r){return t&e^~t&r}Js.ch32=qR;function KR(t,e,r){return t&e^t&r^e&r}Js.maj32=KR;function QR(t,e,r){return t^e^r}Js.p32=QR;function PX(t){return ks(t,2)^ks(t,13)^ks(t,22)}Js.s0_256=PX;function NX(t){return ks(t,6)^ks(t,11)^ks(t,25)}Js.s1_256=NX;function UX(t){return ks(t,7)^ks(t,18)^t>>>3}Js.g0_256=UX;function kX(t){return ks(t,17)^ks(t,19)^t>>>10}Js.g1_256=kX;var zd=Ke,zX=E0,jX=Js,fm=zd.rotl32,ch=zd.sum32,FX=zd.sum32_5,$X=jX.ft_1,VR=zX.BlockHash,qX=[1518500249,1859775393,2400959708,3395469782];function qs(){if(!(this instanceof qs))return new qs;VR.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}zd.inherits(qs,VR);var KX=qs;qs.blockSize=512;qs.outSize=160;qs.hmacStrength=80;qs.padLength=64;qs.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=fm(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),l=FX(fm(a,5),$X(u,s,o,f),c,n[i],qX[u]);c=f,f=o,o=fm(s,30),s=a,a=l}this.h[0]=ch(this.h[0],a),this.h[1]=ch(this.h[1],s),this.h[2]=ch(this.h[2],o),this.h[3]=ch(this.h[3],f),this.h[4]=ch(this.h[4],c)};qs.prototype._digest=function(e){return e==="hex"?zd.toHex32(this.h,"big"):zd.split32(this.h,"big")};var jd=Ke,QX=E0,S0=Js,VX=Ic,Ua=jd.sum32,YX=jd.sum32_4,GX=jd.sum32_5,WX=S0.ch32,XX=S0.maj32,ZX=S0.s0_256,JX=S0.s1_256,eZ=S0.g0_256,tZ=S0.g1_256,YR=QX.BlockHash,rZ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ks(){if(!(this instanceof Ks))return new Ks;YR.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=rZ,this.W=new Array(64)}jd.inherits(Ks,YR);var GR=Ks;Ks.blockSize=512;Ks.outSize=256;Ks.hmacStrength=192;Ks.padLength=64;Ks.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=YX(tZ(n[i-2]),n[i-7],eZ(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7];for(VX(this.k.length===n.length),i=0;i<n.length;i++){var g=GX(p,JX(c),WX(c,u,l),this.k[i],n[i]),m=Ua(ZX(a),XX(a,s,o));p=l,l=u,u=c,c=Ua(f,g),f=o,o=s,s=a,a=Ua(g,m)}this.h[0]=Ua(this.h[0],a),this.h[1]=Ua(this.h[1],s),this.h[2]=Ua(this.h[2],o),this.h[3]=Ua(this.h[3],f),this.h[4]=Ua(this.h[4],c),this.h[5]=Ua(this.h[5],u),this.h[6]=Ua(this.h[6],l),this.h[7]=Ua(this.h[7],p)};Ks.prototype._digest=function(e){return e==="hex"?jd.toHex32(this.h,"big"):jd.split32(this.h,"big")};var B6=Ke,WR=GR;function Ko(){if(!(this instanceof Ko))return new Ko;WR.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}B6.inherits(Ko,WR);var nZ=Ko;Ko.blockSize=512;Ko.outSize=224;Ko.hmacStrength=192;Ko.padLength=64;Ko.prototype._digest=function(e){return e==="hex"?B6.toHex32(this.h.slice(0,7),"big"):B6.split32(this.h.slice(0,7),"big")};var ci=Ke,iZ=E0,aZ=Ic,zs=ci.rotr64_hi,js=ci.rotr64_lo,XR=ci.shr64_hi,ZR=ci.shr64_lo,gf=ci.sum64,cm=ci.sum64_hi,um=ci.sum64_lo,sZ=ci.sum64_4_hi,oZ=ci.sum64_4_lo,fZ=ci.sum64_5_hi,cZ=ci.sum64_5_lo,JR=iZ.BlockHash,uZ=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function cs(){if(!(this instanceof cs))return new cs;JR.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=uZ,this.W=new Array(160)}ci.inherits(cs,JR);var eL=cs;cs.blockSize=1024;cs.outSize=512;cs.hmacStrength=192;cs.padLength=128;cs.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=wZ(n[i-4],n[i-3]),s=AZ(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],c=_Z(n[i-30],n[i-29]),u=mZ(n[i-30],n[i-29]),l=n[i-32],p=n[i-31];n[i]=sZ(a,s,o,f,c,u,l,p),n[i+1]=oZ(a,s,o,f,c,u,l,p)}};cs.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],p=this.h[8],g=this.h[9],m=this.h[10],A=this.h[11],S=this.h[12],w=this.h[13],C=this.h[14],O=this.h[15];aZ(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var N=C,K=O,Q=yZ(p,g),j=vZ(p,g),G=lZ(p,g,m,A,S),W=dZ(p,g,m,A,S,w),R=this.k[M],_=this.k[M+1],I=n[M],b=n[M+1],v=fZ(N,K,Q,j,G,W,R,_,I,b),d=cZ(N,K,Q,j,G,W,R,_,I,b);N=bZ(i,a),K=gZ(i,a),Q=hZ(i,a,s,o,f),j=pZ(i,a,s,o,f,c);var y=cm(N,K,Q,j),x=um(N,K,Q,j);C=S,O=w,S=m,w=A,m=p,A=g,p=cm(u,l,v,d),g=um(l,l,v,d),u=f,l=c,f=s,c=o,s=i,o=a,i=cm(v,d,y,x),a=um(v,d,y,x)}gf(this.h,0,i,a),gf(this.h,2,s,o),gf(this.h,4,f,c),gf(this.h,6,u,l),gf(this.h,8,p,g),gf(this.h,10,m,A),gf(this.h,12,S,w),gf(this.h,14,C,O)};cs.prototype._digest=function(e){return e==="hex"?ci.toHex32(this.h,"big"):ci.split32(this.h,"big")};function lZ(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function dZ(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function hZ(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function pZ(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function bZ(t,e){var r=zs(t,e,28),n=zs(e,t,2),i=zs(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function gZ(t,e){var r=js(t,e,28),n=js(e,t,2),i=js(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function yZ(t,e){var r=zs(t,e,14),n=zs(t,e,18),i=zs(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function vZ(t,e){var r=js(t,e,14),n=js(t,e,18),i=js(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function _Z(t,e){var r=zs(t,e,1),n=zs(t,e,8),i=XR(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function mZ(t,e){var r=js(t,e,1),n=js(t,e,8),i=ZR(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function wZ(t,e){var r=zs(t,e,19),n=zs(e,t,29),i=XR(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function AZ(t,e){var r=js(t,e,19),n=js(e,t,29),i=ZR(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var D6=Ke,tL=eL;function Qo(){if(!(this instanceof Qo))return new Qo;tL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}D6.inherits(Qo,tL);var EZ=Qo;Qo.blockSize=1024;Qo.outSize=384;Qo.hmacStrength=192;Qo.padLength=128;Qo.prototype._digest=function(e){return e==="hex"?D6.toHex32(this.h.slice(0,12),"big"):D6.split32(this.h.slice(0,12),"big")};x0.sha1=KX;x0.sha224=nZ;x0.sha256=GR;x0.sha384=EZ;x0.sha512=eL;var rL={},Tu=Ke,xZ=E0,Xb=Tu.rotl32,PE=Tu.sum32,uh=Tu.sum32_3,NE=Tu.sum32_4,nL=xZ.BlockHash;function Qs(){if(!(this instanceof Qs))return new Qs;nL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Tu.inherits(Qs,nL);rL.ripemd160=Qs;Qs.blockSize=512;Qs.outSize=160;Qs.hmacStrength=192;Qs.padLength=64;Qs.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,c=i,u=a,l=s,p=o,g=0;g<80;g++){var m=PE(Xb(NE(n,UE(g,i,a,s),e[CZ[g]+r],SZ(g)),OZ[g]),o);n=o,o=s,s=Xb(a,10),a=i,i=m,m=PE(Xb(NE(f,UE(79-g,c,u,l),e[TZ[g]+r],IZ(g)),BZ[g]),p),f=p,p=l,l=Xb(u,10),u=c,c=m}m=uh(this.h[1],a,l),this.h[1]=uh(this.h[2],s,p),this.h[2]=uh(this.h[3],o,f),this.h[3]=uh(this.h[4],n,c),this.h[4]=uh(this.h[0],i,u),this.h[0]=m};Qs.prototype._digest=function(e){return e==="hex"?Tu.toHex32(this.h,"little"):Tu.split32(this.h,"little")};function UE(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function SZ(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function IZ(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var CZ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],TZ=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],OZ=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],BZ=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],DZ=Ke,MZ=Ic;function Fd(t,e,r){if(!(this instanceof Fd))return new Fd(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(DZ.toArray(e,r))}var RZ=Fd;Fd.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),MZ(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Fd.prototype.update=function(e,r){return this.inner.update(e,r),this};Fd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ke,e.common=E0,e.sha=x0,e.ripemd=rL,e.hmac=RZ,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(A0);var lm,kE;function LZ(){return kE||(kE=1,lm={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),lm}(function(t){var e=t,r=A0,n=aw,i=ji,a=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=LZ()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(fv);var HZ=A0,pu=nv,iL=Ic;function pc(t){if(!(this instanceof pc))return new pc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=pu.toArray(t.entropy,t.entropyEnc||"hex"),r=pu.toArray(t.nonce,t.nonceEnc||"hex"),n=pu.toArray(t.pers,t.persEnc||"hex");iL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var aL=pc;pc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};pc.prototype._hmac=function(){return new HZ.hmac(this.hash,this.K)};pc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};pc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=pu.toArray(e,r),n=pu.toArray(n,i),iL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};pc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=pu.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,pu.encode(s,r)};var PZ=Cr,NZ=ji,M6=NZ.assert;function In(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var UZ=In;In.fromPublic=function(e,r,n){return r instanceof In?r:new In(e,{pub:r,pubEnc:n})};In.fromPrivate=function(e,r,n){return r instanceof In?r:new In(e,{priv:r,privEnc:n})};In.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};In.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};In.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};In.prototype._importPrivate=function(e,r){this.priv=new PZ(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};In.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?M6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&M6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};In.prototype.derive=function(e){return e.validate()||M6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};In.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};In.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};In.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Dy=Cr,ow=ji,kZ=ow.assert;function uv(t,e){if(t instanceof uv)return t;this._importDER(t,e)||(kZ(t.r&&t.s,"Signature without r or s"),this.r=new Dy(t.r,16),this.s=new Dy(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zZ=uv;function jZ(){this.place=0}function dm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function zE(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}uv.prototype._importDER=function(e,r){e=ow.toArray(e,r);var n=new jZ;if(e[n.place++]!==48)return!1;var i=dm(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=dm(e,n);if(a===!1||e[n.place]&128)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=dm(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Dy(s),this.s=new Dy(f),this.recoveryParam=null,!0};function hm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}uv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=zE(r),n=zE(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];hm(i,r.length),i=i.concat(r),i.push(2),hm(i,n.length);var a=i.concat(n),s=[48];return hm(s,a.length),s=s.concat(a),ow.encode(s,e)};var Oo=Cr,sL=aL,FZ=ji,pm=fv,$Z=iv,oL=FZ.assert,fw=UZ,lv=zZ;function xa(t){if(!(this instanceof xa))return new xa(t);typeof t=="string"&&(oL(Object.prototype.hasOwnProperty.call(pm,t),"Unknown curve "+t),t=pm[t]),t instanceof pm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var qZ=xa;xa.prototype.keyPair=function(e){return new fw(this,e)};xa.prototype.keyFromPrivate=function(e,r){return fw.fromPrivate(this,e,r)};xa.prototype.keyFromPublic=function(e,r){return fw.fromPublic(this,e,r)};xa.prototype.genKeyPair=function(e){e||(e={});for(var r=new sL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$Z(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Oo(2));;){var a=new Oo(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};xa.prototype._truncateToN=function(e,r,n){var i;if(Oo.isBN(e)||typeof e=="number")e=new Oo(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Oo(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new Oo(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};xa.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength);for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new sL({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Oo(1)),u=0;;u++){var l=i.k?i.k(u):new Oo(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(c)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var A=l.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var S=(p.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),S^=1),new lv({r:m,s:A,recoveryParam:S})}}}}}};xa.prototype.verify=function(e,r,n,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new lv(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),c=f.mul(e).umod(this.n),u=f.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};xa.prototype.recoverPubKey=function(t,e,r,n){oL((3&r)===r,"The recovery param is more than two bits"),e=new lv(e,n);var i=this.n,a=new Oo(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),p=o.mul(u).umod(i);return this.g.mulAdd(l,s,p)};xa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new lv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var W1=ji,fL=W1.assert,jE=W1.parseBytes,I0=W1.cachedProperty;function jr(t,e){this.eddsa=t,this._secret=jE(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=jE(e.pub)}jr.fromPublic=function(e,r){return r instanceof jr?r:new jr(e,{pub:r})};jr.fromSecret=function(e,r){return r instanceof jr?r:new jr(e,{secret:r})};jr.prototype.secret=function(){return this._secret};I0(jr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});I0(jr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});I0(jr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});I0(jr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});I0(jr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});I0(jr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});jr.prototype.sign=function(e){return fL(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};jr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};jr.prototype.getSecret=function(e){return fL(this._secret,"KeyPair is public only"),W1.encode(this.secret(),e)};jr.prototype.getPublic=function(e){return W1.encode(this.pubBytes(),e)};var KZ=jr,QZ=Cr,dv=ji,FE=dv.assert,hv=dv.cachedProperty,VZ=dv.parseBytes;function Ku(t,e){this.eddsa=t,typeof e!="object"&&(e=VZ(e)),Array.isArray(e)&&(FE(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),FE(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof QZ&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}hv(Ku,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});hv(Ku,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});hv(Ku,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});hv(Ku,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ku.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ku.prototype.toHex=function(){return dv.encode(this.toBytes(),"hex").toUpperCase()};var YZ=Ku,GZ=A0,WZ=fv,$d=ji,XZ=$d.assert,cL=$d.parseBytes,uL=KZ,$E=YZ;function ui(t){if(XZ(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ui))return new ui(t);t=WZ[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=GZ.sha512}var ZZ=ui;ui.prototype.sign=function(e,r){e=cL(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};ui.prototype.verify=function(e,r,n){if(e=cL(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};ui.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return $d.intFromLE(e.digest()).umod(this.curve.n)};ui.prototype.keyFromPublic=function(e){return uL.fromPublic(this,e)};ui.prototype.keyFromSecret=function(e){return uL.fromSecret(this,e)};ui.prototype.makeSignature=function(e){return e instanceof $E?e:new $E(this,e)};ui.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ui.prototype.decodePoint=function(e){e=$d.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=$d.intFromLE(n);return this.curve.pointFromY(a,i)};ui.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ui.prototype.decodeInt=function(e){return $d.intFromLE(e)};ui.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=WW.version,e.utils=ji,e.rand=iv,e.curve=aw,e.curves=fv,e.ec=qZ,e.eddsa=ZZ})(NR);const JZ=uS(NR);var qE;(function(t){t[t.ParameterInvalid=101]="ParameterInvalid",t[t.ParameterRequired=102]="ParameterRequired",t[t.SignMessageFailed=103]="SignMessageFailed",t[t.AddressInvalid=104]="AddressInvalid",t[t.ReconciliationFailed=105]="ReconciliationFailed"})(qE||(qE={}));new JZ.ec("secp256k1");var KE;(function(t){t.Mainnet="ckb",t.Testnet="ckt"})(KE||(KE={}));var QE;(function(t){t.FullVersion="0x00",t.HashIdx="0x01",t.DataCodeHash="0x02",t.TypeCodeHash="0x04"})(QE||(QE={}));var VE;(function(t){t.Bech32="bech32",t.Bech32m="bech32m"})(VE||(VE={}));var R6={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof $n<"u"&&$n,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof o<"u"&&o,f={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function c(v){return v&&DataView.prototype.isPrototypeOf(v)}if(f.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function p(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function g(v){return typeof v!="string"&&(v=String(v)),v}function m(v){var d={next:function(){var y=v.shift();return{done:y===void 0,value:y}}};return f.iterable&&(d[Symbol.iterator]=function(){return d}),d}function A(v){this.map={},v instanceof A?v.forEach(function(d,y){this.append(y,d)},this):Array.isArray(v)?v.forEach(function(d){this.append(d[0],d[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(d){this.append(d,v[d])},this)}A.prototype.append=function(v,d){v=p(v),d=g(d);var y=this.map[v];this.map[v]=y?y+", "+d:d},A.prototype.delete=function(v){delete this.map[p(v)]},A.prototype.get=function(v){return v=p(v),this.has(v)?this.map[v]:null},A.prototype.has=function(v){return this.map.hasOwnProperty(p(v))},A.prototype.set=function(v,d){this.map[p(v)]=g(d)},A.prototype.forEach=function(v,d){for(var y in this.map)this.map.hasOwnProperty(y)&&v.call(d,this.map[y],y,this)},A.prototype.keys=function(){var v=[];return this.forEach(function(d,y){v.push(y)}),m(v)},A.prototype.values=function(){var v=[];return this.forEach(function(d){v.push(d)}),m(v)},A.prototype.entries=function(){var v=[];return this.forEach(function(d,y){v.push([y,d])}),m(v)},f.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function S(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function w(v){return new Promise(function(d,y){v.onload=function(){d(v.result)},v.onerror=function(){y(v.error)}})}function C(v){var d=new FileReader,y=w(d);return d.readAsArrayBuffer(v),y}function O(v){var d=new FileReader,y=w(d);return d.readAsText(v),y}function M(v){for(var d=new Uint8Array(v),y=new Array(d.length),x=0;x<d.length;x++)y[x]=String.fromCharCode(d[x]);return y.join("")}function N(v){if(v.slice)return v.slice(0);var d=new Uint8Array(v.byteLength);return d.set(new Uint8Array(v)),d.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:f.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:f.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():f.arrayBuffer&&f.blob&&c(v)?(this._bodyArrayBuffer=N(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||l(v))?this._bodyArrayBuffer=N(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=S(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(v){var d=v.toUpperCase();return Q.indexOf(d)>-1?d:v}function G(v,d){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d=d||{};var y=d.body;if(v instanceof G){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,d.headers||(this.headers=new A(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!y&&v._bodyInit!=null&&(y=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new A(d.headers)),this.method=j(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(y),(this.method==="GET"||this.method==="HEAD")&&(d.cache==="no-store"||d.cache==="no-cache")){var x=/([?&])_=[^&]*/;if(x.test(this.url))this.url=this.url.replace(x,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function W(v){var d=new FormData;return v.trim().split("&").forEach(function(y){if(y){var x=y.split("="),E=x.shift().replace(/\+/g," "),h=x.join("=").replace(/\+/g," ");d.append(decodeURIComponent(E),decodeURIComponent(h))}}),d}function R(v){var d=new A,y=v.replace(/\r?\n[\t ]+/g," ");return y.split("\r").map(function(x){return x.indexOf(`
`)===0?x.substr(1,x.length):x}).forEach(function(x){var E=x.split(":"),h=E.shift().trim();if(h){var T=E.join(":").trim();d.append(h,T)}}),d}K.call(G.prototype);function _(v,d){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText=d.statusText===void 0?"":""+d.statusText,this.headers=new A(d.headers),this.url=d.url||"",this._initBody(v)}K.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},_.error=function(){var v=new _(null,{status:0,statusText:""});return v.type="error",v};var I=[301,302,303,307,308];_.redirect=function(v,d){if(I.indexOf(d)===-1)throw new RangeError("Invalid status code");return new _(null,{status:d,headers:{location:v}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,y){this.message=d,this.name=y;var x=Error(d);this.stack=x.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(v,d){return new Promise(function(y,x){var E=new G(v,d);if(E.signal&&E.signal.aborted)return x(new s.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function T(){h.abort()}h.onload=function(){var L={status:h.status,statusText:h.statusText,headers:R(h.getAllResponseHeaders()||"")};L.url="responseURL"in h?h.responseURL:L.headers.get("X-Request-URL");var k="response"in h?h.response:h.responseText;setTimeout(function(){y(new _(k,L))},0)},h.onerror=function(){setTimeout(function(){x(new TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){x(new TypeError("Network request failed"))},0)},h.onabort=function(){setTimeout(function(){x(new s.DOMException("Aborted","AbortError"))},0)};function F(L){try{return L===""&&o.location.href?o.location.href:L}catch{return L}}h.open(E.method,F(E.url),!0),E.credentials==="include"?h.withCredentials=!0:E.credentials==="omit"&&(h.withCredentials=!1),"responseType"in h&&(f.blob?h.responseType="blob":f.arrayBuffer&&E.headers.get("Content-Type")&&E.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(h.responseType="arraybuffer")),d&&typeof d.headers=="object"&&!(d.headers instanceof A)?Object.getOwnPropertyNames(d.headers).forEach(function(L){h.setRequestHeader(L,g(d.headers[L]))}):E.headers.forEach(function(L,k){h.setRequestHeader(k,L)}),E.signal&&(E.signal.addEventListener("abort",T),h.onreadystatechange=function(){h.readyState===4&&E.signal.removeEventListener("abort",T)}),h.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=A,o.Request=G,o.Response=_),s.Headers=A,s.Request=G,s.Response=_,s.fetch=b,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(R6,R6.exports);var eJ=R6.exports;const tJ=uS(eJ),rJ=globalThis.crypto,fp=rJ.subtle;var nJ=()=>Date.now(),iJ=class{constructor(t){this.url=t}async baseRPC(t,e,r=this.url){const n={id:nJ(),jsonrpc:"2.0",method:t,params:e??null},i=JSON.stringify(n,null,""),a=await tJ(r,{method:"post",headers:{"Content-Type":"application/json"},body:i}).then(async s=>s.json());if(a.error!=null)throw new Error(`RPC error: ${JSON.stringify(a.error)}`);return a.result}async generateSubkeyUnlockSmt(t){return await this.baseRPC("generate_subkey_unlock_smt",t)}};function aJ(t){const e=Array.from(new Uint8Array(t),s=>`00${s.toString(16)}`.slice(-2)).join(""),r=Number.parseInt(e.substr(6,2),16)*2;let n=e.substr(8,r),i=e.substr(12+r);n=n.length>64?n.substr(-64):n.padStart(64,"0"),i=i.length>64?i.substr(-64):i.padStart(64,"0");const a=`${n}${i}`;return new Uint8Array(a.match(/[\da-f]{2}/gi).map(s=>Number.parseInt(s,16)))}var sJ=(t,e)=>{try{const r=xW(wW(e));return JSON.parse(r).challenge===Wc(EW(t))}catch{return!1}},oJ=async(t,e,r)=>{try{const n="RSASSA-PKCS1-v1_5",i=BR(r),a=Ty(t),s=Ty(e),o=new Uint8Array(i.slice(0,3)).reverse(),f=new Uint8Array(i.slice(4)).reverse(),c={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Wc(o),n:Wc(f)},u=await fp.importKey("jwk",c,{name:n,hash:"SHA-256"},!1,["verify"]);return await fp.verify(n,u,s,a)}catch(n){return console.error(n),!1}},fJ=async({message:t,signature:e,pubkey:r,challenge:n,alg:i})=>{try{const a=BR(`${r}`),s=Ty(t),o=Ty(e),f=s.slice(0,37),c=s.slice(37);if(!sJ(n,c))return!1;const u=await fp.digest("SHA-256",c),l=AW(f,u),p=i===T6.ES256,g=p?{kty:"EC",crv:"P-256",x:Wc(a.slice(0,32)),y:Wc(a.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Wc(new Uint8Array(a.slice(0,3)).reverse()),n:Wc(new Uint8Array(a.slice(4)).reverse())},m=p?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},A=await fp.importKey("jwk",g,m,!1,["verify"]);return await fp.verify(m,A,i===T6.RS256?o:aJ(o),l)}catch(a){return console.error(a),!1}},cJ=async t=>{const{message:e,signature:r,pubkey:n,keyType:i}=t;return i==="main_key"||i==="sub_key"?fJ(t):oJ(e,r,n)};function uJ(t,e,r){const n=typeof t=="string"?t:me(t).slice(2),{publicKey:i,keyType:a}=JSON.parse(r);return cJ({challenge:n,pubkey:i,keyType:a,...JSON.parse(e)})}const lJ="6.13.4";function YE(t,e,r){for(let n in e){let i=e[n];Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Ol(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Ol).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Ol(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Ol(r)}: ${Ol(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function dJ(t,e,r){let n=t;{const a=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Ol(r)}`);for(const s in r){if(s==="shortMessage")continue;const o=r[s];a.push(s+"="+Ol(o))}}a.push(`code=${e}`),a.push(`version=${lJ}`),a.length&&(t+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return YE(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&YE(i,{shortMessage:n}),i}function X1(t,e,r,n){if(!t)throw dJ(e,r,n)}function pt(t,e,r,n){X1(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function hJ(t,e,r){if(t!==e){let n=r,i="new";n+=".",i+=" "+r,X1(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function lL(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let a=0;a<n.length;a++)n[a]=parseInt(t.substring(i,i+2),16),i+=2;return n}pt(!1,"invalid BytesLike value",e||"value",t)}function ua(t,e){return lL(t,e,!1)}function lh(t,e){return lL(t,e,!0)}function L6(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}const GE="0123456789abcdef";function Un(t){const e=ua(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=GE[(i&240)>>4]+GE[i&15]}return r}function My(t){return"0x"+t.map(e=>Un(e).substring(2)).join("")}function cp(t){return L6(t,!0)?(t.length-2)/2:ua(t).length}function pJ(t,e,r){const n=ua(t);X1(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(n,e-n.length),Un(i)}function bJ(t,e){return pJ(t,e)}const dL=BigInt(0);BigInt(1);const Bl=9007199254740991;function Rh(t,e){switch(typeof t){case"bigint":return t;case"number":return pt(Number.isInteger(t),"underflow",e||"value",t),pt(t>=-Bl&&t<=Bl,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){pt(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}pt(!1,"invalid BigNumberish value",e||"value",t)}function hL(t,e){const r=Rh(t,e);return X1(r>=dL,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}function up(t,e){switch(typeof t){case"bigint":return pt(t>=-Bl&&t<=Bl,"overflow",e||"value",t),Number(t);case"number":return pt(Number.isInteger(t),"underflow",e||"value",t),pt(t>=-Bl&&t<=Bl,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return up(BigInt(t),e)}catch(r){pt(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}pt(!1,"invalid numeric value",e||"value",t)}function WE(t,e){let n=hL(t,"value").toString(16);{const i=up(e,"width");for(X1(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function gJ(t){const e=hL(t,"value");if(e===dL)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const a=i*2;n[i]=parseInt(r.substring(a,a+2),16)}return n}function bm(t,e){pt(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);pt(n<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function Ry(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function cw(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function yJ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ry(t.outputLen),Ry(t.blockLen)}function qd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pL(t,e){cw(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const gm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bL=t=>t instanceof Uint8Array,vJ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ym=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vs=(t,e)=>t<<32-e|t>>>e,_J=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_J)throw new Error("Non little-endian hardware is not supported");function mJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function pv(t){if(typeof t=="string"&&(t=mJ(t)),!bL(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function wJ(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!bL(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let uw=class{clone(){return this._cloneInto()}};function gL(t){const e=n=>t().update(pv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function AJ(t=32){if(gm&&typeof gm.getRandomValues=="function")return gm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class yL extends uw{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,yJ(e);const n=pv(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return qd(this),this.iHash.update(e),this}digestInto(e){qd(this),cw(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vL=(t,e,r)=>new yL(t,e).update(r).digest();vL.create=(t,e)=>new yL(t,e);function EJ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,o,n)}class xJ extends uw{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ym(this.buffer)}update(e){qd(this);const{view:r,buffer:n,blockLen:i}=this;e=pv(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=ym(e);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qd(this),pL(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;EJ(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=ym(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const SJ=(t,e,r)=>t&e^~t&r,IJ=(t,e,r)=>t&e^t&r^e&r,CJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vf=new Uint32Array(64);class TJ extends xJ{constructor(){super(64,32,8,!1),this.A=yf[0]|0,this.B=yf[1]|0,this.C=yf[2]|0,this.D=yf[3]|0,this.E=yf[4]|0,this.F=yf[5]|0,this.G=yf[6]|0,this.H=yf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[e,r,n,i,a,s,o,f]}set(e,r,n,i,a,s,o,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)vf[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const p=vf[l-15],g=vf[l-2],m=vs(p,7)^vs(p,18)^p>>>3,A=vs(g,17)^vs(g,19)^g>>>10;vf[l]=A+vf[l-7]+m+vf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const p=vs(o,6)^vs(o,11)^vs(o,25),g=u+p+SJ(o,f,c)+CJ[l]+vf[l]|0,A=(vs(n,2)^vs(n,13)^vs(n,22))+IJ(n,i,a)|0;u=c,c=f,f=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){vf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const OJ=gL(()=>new TJ),Zb=BigInt(2**32-1),XE=BigInt(32);function BJ(t,e=!1){return e?{h:Number(t&Zb),l:Number(t>>XE&Zb)}:{h:Number(t>>XE&Zb)|0,l:Number(t&Zb)|0}}function DJ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=BJ(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const MJ=(t,e,r)=>t<<r|e>>>32-r,RJ=(t,e,r)=>e<<r|t>>>32-r,LJ=(t,e,r)=>e<<r-32|t>>>64-r,HJ=(t,e,r)=>t<<r-32|e>>>64-r,[_L,mL,wL]=[[],[],[]],PJ=BigInt(0),dh=BigInt(1),NJ=BigInt(2),UJ=BigInt(7),kJ=BigInt(256),zJ=BigInt(113);for(let t=0,e=dh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],_L.push(2*(5*n+r)),mL.push((t+1)*(t+2)/2%64);let i=PJ;for(let a=0;a<7;a++)e=(e<<dh^(e>>UJ)*zJ)%kJ,e&NJ&&(i^=dh<<(dh<<BigInt(a))-dh);wL.push(i)}const[jJ,FJ]=DJ(wL,!0),ZE=(t,e,r)=>r>32?LJ(t,e,r):MJ(t,e,r),JE=(t,e,r)=>r>32?HJ(t,e,r):RJ(t,e,r);function $J(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,f=(s+2)%10,c=r[f],u=r[f+1],l=ZE(c,u,1)^r[o],p=JE(c,u,1)^r[o+1];for(let g=0;g<50;g+=10)t[s+g]^=l,t[s+g+1]^=p}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=mL[s],f=ZE(i,a,o),c=JE(i,a,o),u=_L[s];i=t[u],a=t[u+1],t[u]=f,t[u+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=jJ[n],t[1]^=FJ[n]}r.fill(0)}class lw extends uw{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ry(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vJ(this.state)}keccak(){$J(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){qd(this);const{blockLen:r,state:n}=this;e=pv(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){qd(this,!1),cw(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ry(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new lw(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const qJ=(t,e,r)=>gL(()=>new lw(e,t,r)),KJ=qJ(1,136,256/8);let AL=!1;const EL=function(t){return KJ(t)};let xL=EL;function Qu(t){const e=ua(t,"data");return Un(xL(e))}Qu._=EL;Qu.lock=function(){AL=!0};Qu.register=function(t){if(AL)throw new TypeError("keccak256 is locked");xL=t};Object.freeze(Qu);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SL=BigInt(0),bv=BigInt(1),QJ=BigInt(2),gv=t=>t instanceof Uint8Array,VJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kd(t){if(!gv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=VJ[t[r]];return e}function IL(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function dw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Qd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,a=t.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function bu(t){return dw(Kd(t))}function hw(t){if(!gv(t))throw new Error("Uint8Array expected");return dw(Kd(Uint8Array.from(t).reverse()))}function Vd(t,e){return Qd(t.toString(16).padStart(e*2,"0"))}function pw(t,e){return Vd(t,e).reverse()}function YJ(t){return Qd(IL(t))}function za(t,e,r){let n;if(typeof e=="string")try{n=Qd(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(gv(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Kp(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!gv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function GJ(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function WJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function XJ(t){let e;for(e=0;t>SL;t>>=bv,e+=1);return e}function ZJ(t,e){return t>>BigInt(e)&bv}const JJ=(t,e,r)=>t|(r?bv:SL)<<BigInt(e),bw=t=>(QJ<<BigInt(t-1))-bv,vm=t=>new Uint8Array(t),ex=t=>Uint8Array.from(t);function CL(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=vm(t),i=vm(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),f=(l=vm())=>{i=o(ex([0]),l),n=o(),l.length!==0&&(i=o(ex([1]),l),n=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<e;){n=o();const g=n.slice();p.push(g),l+=n.length}return Kp(...p)};return(l,p)=>{s(),f(l);let g;for(;!(g=p(c()));)f();return s(),g}}const eee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Z1(t,e,r={}){const n=(i,a,s)=>{const o=eee[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const f=t[i];if(!(s&&f===void 0)&&!o(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const tee=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ZJ,bitLen:XJ,bitMask:bw,bitSet:JJ,bytesToHex:Kd,bytesToNumberBE:bu,bytesToNumberLE:hw,concatBytes:Kp,createHmacDrbg:CL,ensureBytes:za,equalBytes:GJ,hexToBytes:Qd,hexToNumber:dw,numberToBytesBE:Vd,numberToBytesLE:pw,numberToHexUnpadded:IL,numberToVarBytesBE:YJ,utf8ToBytes:WJ,validateObject:Z1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kr=BigInt(0),hr=BigInt(1),$c=BigInt(2),ree=BigInt(3),H6=BigInt(4),tx=BigInt(5),rx=BigInt(8);BigInt(9);BigInt(16);function ai(t,e){const r=t%e;return r>=kr?r:e+r}function nee(t,e,r){if(r<=kr||e<kr)throw new Error("Expected power/modulo > 0");if(r===hr)return kr;let n=hr;for(;e>kr;)e&hr&&(n=n*t%r),t=t*t%r,e>>=hr;return n}function Wi(t,e,r){let n=t;for(;e-- >kr;)n*=n,n%=r;return n}function P6(t,e){if(t===kr||e<=kr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ai(t,e),n=e,i=kr,a=hr;for(;r!==kr;){const o=n/r,f=n%r,c=i-a*o;n=r,r=f,i=a,a=c}if(n!==hr)throw new Error("invert: does not exist");return ai(i,e)}function iee(t){const e=(t-hr)/$c;let r,n,i;for(r=t-hr,n=0;r%$c===kr;r/=$c,n++);for(i=$c;i<t&&nee(i,e,t)!==t-hr;i++);if(n===1){const s=(t+hr)/H6;return function(f,c){const u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(r+hr)/$c;return function(o,f){if(o.pow(f,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(f,a),p=o.pow(f,r);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let g=1;for(let A=o.sqr(p);g<c&&!o.eql(A,o.ONE);g++)A=o.sqr(A);const m=o.pow(u,hr<<BigInt(c-g-1));u=o.sqr(m),l=o.mul(l,m),p=o.mul(p,u),c=g}return l}}function aee(t){if(t%H6===ree){const e=(t+hr)/H6;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%rx===tx){const e=(t-tx)/rx;return function(n,i){const a=n.mul(i,$c),s=n.pow(a,e),o=n.mul(i,s),f=n.mul(n.mul(o,$c),s),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return iee(t)}const see=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oee(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=see.reduce((n,i)=>(n[i]="function",n),e);return Z1(t,r)}function fee(t,e,r){if(r<kr)throw new Error("Expected power > 0");if(r===kr)return t.ONE;if(r===hr)return e;let n=t.ONE,i=e;for(;r>kr;)r&hr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=hr;return n}function cee(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function TL(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function uee(t,e,r=!1,n={}){if(t<=kr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=TL(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=aee(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:bw(i),ZERO:kr,ONE:hr,create:f=>ai(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return kr<=f&&f<t},is0:f=>f===kr,isOdd:f=>(f&hr)===hr,neg:f=>ai(-f,t),eql:(f,c)=>f===c,sqr:f=>ai(f*f,t),add:(f,c)=>ai(f+c,t),sub:(f,c)=>ai(f-c,t),mul:(f,c)=>ai(f*c,t),pow:(f,c)=>fee(o,f,c),div:(f,c)=>ai(f*P6(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>P6(f,t),sqrt:n.sqrt||(f=>s(o,f)),invertBatch:f=>cee(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?pw(f,a):Vd(f,a),fromBytes:f=>{if(f.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${f.length}`);return r?hw(f):bu(f)}});return Object.freeze(o)}function OL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function BL(t){const e=OL(t);return e+Math.ceil(e/2)}function lee(t,e,r=!1){const n=t.length,i=OL(e),a=BL(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?bu(t):hw(t),o=ai(s,e-hr)+hr;return r?pw(o,i):Vd(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dee=BigInt(0),_m=BigInt(1);function hee(t,e){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=t.ZERO,o=i;for(;a>dee;)a&_m&&(s=s.add(o)),o=o.double(),a>>=_m;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),f=[];let c=i,u=c;for(let l=0;l<s;l++){u=c,f.push(u);for(let p=1;p<o;p++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,a,s){const{windows:o,windowSize:f}=n(i);let c=t.ZERO,u=t.BASE;const l=BigInt(2**i-1),p=2**i,g=BigInt(i);for(let m=0;m<o;m++){const A=m*f;let S=Number(s&l);s>>=g,S>f&&(S-=p,s+=_m);const w=A,C=A+Math.abs(S)-1,O=m%2!==0,M=S<0;S===0?u=u.add(r(O,a[w])):c=c.add(r(M,a[C]))}return{p:c,f:u}},wNAFCached(i,a,s,o){const f=i._WINDOW_SIZE||1;let c=a.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&a.set(i,o(c))),this.wNAF(f,c,s)}}}function DL(t){return oee(t.Fp),Z1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...TL(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pee(t){const e=DL(t);Z1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:bee,hexToBytes:gee}=tee,Xc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Xc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:bee(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Xc,r=typeof t=="string"?gee(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=Xc._parseInt(r.subarray(2)),{d:s,l:o}=Xc._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),a=n.length/2,s=i.length/2,o=r(a),f=r(s);return`30${r(s+a+4)}02${f}${i}02${o}${n}`}},mo=BigInt(0),na=BigInt(1);BigInt(2);const nx=BigInt(3);BigInt(4);function yee(t){const e=pee(t),{Fp:r}=e,n=e.toBytes||((m,A,S)=>{const w=A.toAffine();return Kp(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),i=e.fromBytes||(m=>{const A=m.subarray(1),S=r.fromBytes(A.subarray(0,r.BYTES)),w=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:S,y:w}});function a(m){const{a:A,b:S}=e,w=r.sqr(m),C=r.mul(w,m);return r.add(r.add(C,r.mul(m,A)),S)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function s(m){return typeof m=="bigint"&&mo<m&&m<e.n}function o(m){if(!s(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(m){const{allowedPrivateKeyLengths:A,nByteLength:S,wrapPrivateKey:w,n:C}=e;if(A&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Kd(m)),typeof m!="string"||!A.includes(m.length))throw new Error("Invalid key");m=m.padStart(S*2,"0")}let O;try{O=typeof m=="bigint"?m:bu(za("private key",m,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof m}`)}return w&&(O=ai(O,C)),o(O),O}const c=new Map;function u(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(A,S,w){if(this.px=A,this.py=S,this.pz=w,A==null||!r.isValid(A))throw new Error("x required");if(S==null||!r.isValid(S))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required")}static fromAffine(A){const{x:S,y:w}=A||{};if(!A||!r.isValid(S)||!r.isValid(w))throw new Error("invalid affine point");if(A instanceof l)throw new Error("projective point not allowed");const C=O=>r.eql(O,r.ZERO);return C(S)&&C(w)?l.ZERO:new l(S,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const S=r.invertBatch(A.map(w=>w.pz));return A.map((w,C)=>w.toAffine(S[C])).map(l.fromAffine)}static fromHex(A){const S=l.fromAffine(i(za("pointHex",A)));return S.assertValidity(),S}static fromPrivateKey(A){return l.BASE.multiply(f(A))}_setWindowSize(A){this._WINDOW_SIZE=A,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:S}=this.toAffine();if(!r.isValid(A)||!r.isValid(S))throw new Error("bad point: x or y not FE");const w=r.sqr(S),C=a(A);if(!r.eql(w,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){u(A);const{px:S,py:w,pz:C}=this,{px:O,py:M,pz:N}=A,K=r.eql(r.mul(S,N),r.mul(O,C)),Q=r.eql(r.mul(w,N),r.mul(M,C));return K&&Q}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:S}=e,w=r.mul(S,nx),{px:C,py:O,pz:M}=this;let N=r.ZERO,K=r.ZERO,Q=r.ZERO,j=r.mul(C,C),G=r.mul(O,O),W=r.mul(M,M),R=r.mul(C,O);return R=r.add(R,R),Q=r.mul(C,M),Q=r.add(Q,Q),N=r.mul(A,Q),K=r.mul(w,W),K=r.add(N,K),N=r.sub(G,K),K=r.add(G,K),K=r.mul(N,K),N=r.mul(R,N),Q=r.mul(w,Q),W=r.mul(A,W),R=r.sub(j,W),R=r.mul(A,R),R=r.add(R,Q),Q=r.add(j,j),j=r.add(Q,j),j=r.add(j,W),j=r.mul(j,R),K=r.add(K,j),W=r.mul(O,M),W=r.add(W,W),j=r.mul(W,R),N=r.sub(N,j),Q=r.mul(W,G),Q=r.add(Q,Q),Q=r.add(Q,Q),new l(N,K,Q)}add(A){u(A);const{px:S,py:w,pz:C}=this,{px:O,py:M,pz:N}=A;let K=r.ZERO,Q=r.ZERO,j=r.ZERO;const G=e.a,W=r.mul(e.b,nx);let R=r.mul(S,O),_=r.mul(w,M),I=r.mul(C,N),b=r.add(S,w),v=r.add(O,M);b=r.mul(b,v),v=r.add(R,_),b=r.sub(b,v),v=r.add(S,C);let d=r.add(O,N);return v=r.mul(v,d),d=r.add(R,I),v=r.sub(v,d),d=r.add(w,C),K=r.add(M,N),d=r.mul(d,K),K=r.add(_,I),d=r.sub(d,K),j=r.mul(G,v),K=r.mul(W,I),j=r.add(K,j),K=r.sub(_,j),j=r.add(_,j),Q=r.mul(K,j),_=r.add(R,R),_=r.add(_,R),I=r.mul(G,I),v=r.mul(W,v),_=r.add(_,I),I=r.sub(R,I),I=r.mul(G,I),v=r.add(v,I),R=r.mul(_,v),Q=r.add(Q,R),R=r.mul(d,v),K=r.mul(b,K),K=r.sub(K,R),R=r.mul(b,_),j=r.mul(d,j),j=r.add(j,R),new l(K,Q,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(l.ZERO)}wNAF(A){return g.wNAFCached(this,c,A,S=>{const w=r.invertBatch(S.map(C=>C.pz));return S.map((C,O)=>C.toAffine(w[O])).map(l.fromAffine)})}multiplyUnsafe(A){const S=l.ZERO;if(A===mo)return S;if(o(A),A===na)return this;const{endo:w}=e;if(!w)return g.unsafeLadder(this,A);let{k1neg:C,k1:O,k2neg:M,k2:N}=w.splitScalar(A),K=S,Q=S,j=this;for(;O>mo||N>mo;)O&na&&(K=K.add(j)),N&na&&(Q=Q.add(j)),j=j.double(),O>>=na,N>>=na;return C&&(K=K.negate()),M&&(Q=Q.negate()),Q=new l(r.mul(Q.px,w.beta),Q.py,Q.pz),K.add(Q)}multiply(A){o(A);let S=A,w,C;const{endo:O}=e;if(O){const{k1neg:M,k1:N,k2neg:K,k2:Q}=O.splitScalar(S);let{p:j,f:G}=this.wNAF(N),{p:W,f:R}=this.wNAF(Q);j=g.constTimeNegate(M,j),W=g.constTimeNegate(K,W),W=new l(r.mul(W.px,O.beta),W.py,W.pz),w=j.add(W),C=G.add(R)}else{const{p:M,f:N}=this.wNAF(S);w=M,C=N}return l.normalizeZ([w,C])[0]}multiplyAndAddUnsafe(A,S,w){const C=l.BASE,O=(N,K)=>K===mo||K===na||!N.equals(C)?N.multiplyUnsafe(K):N.multiply(K),M=O(this,S).add(O(A,w));return M.is0()?void 0:M}toAffine(A){const{px:S,py:w,pz:C}=this,O=this.is0();A==null&&(A=O?r.ONE:r.inv(C));const M=r.mul(S,A),N=r.mul(w,A),K=r.mul(C,A);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:M,y:N}}isTorsionFree(){const{h:A,isTorsionFree:S}=e;if(A===na)return!0;if(S)return S(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:S}=e;return A===na?this:S?S(l,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return this.assertValidity(),n(l,this,A)}toHex(A=!0){return Kd(this.toRawBytes(A))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,g=hee(l,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:s}}function vee(t){const e=DL(t);return Z1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _ee(t){const e=vee(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(v){return mo<v&&v<r.ORDER}function o(v){return ai(v,n)}function f(v){return P6(v,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:p}=yee({...e,toBytes(v,d,y){const x=d.toAffine(),E=r.toBytes(x.x),h=Kp;return y?h(Uint8Array.from([d.hasEvenY()?2:3]),E):h(Uint8Array.from([4]),E,r.toBytes(x.y))},fromBytes(v){const d=v.length,y=v[0],x=v.subarray(1);if(d===i&&(y===2||y===3)){const E=bu(x);if(!s(E))throw new Error("Point is not on curve");const h=l(E);let T=r.sqrt(h);const F=(T&na)===na;return(y&1)===1!==F&&(T=r.neg(T)),{x:E,y:T}}else if(d===a&&y===4){const E=r.fromBytes(x.subarray(0,r.BYTES)),h=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:E,y:h}}else throw new Error(`Point of length ${d} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),g=v=>Kd(Vd(v,e.nByteLength));function m(v){const d=n>>na;return v>d}function A(v){return m(v)?o(-v):v}const S=(v,d,y)=>bu(v.slice(d,y));class w{constructor(d,y,x){this.r=d,this.s=y,this.recovery=x,this.assertValidity()}static fromCompact(d){const y=e.nByteLength;return d=za("compactSignature",d,y*2),new w(S(d,0,y),S(d,y,2*y))}static fromDER(d){const{r:y,s:x}=Xc.toSig(za("DER",d));return new w(y,x)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(d){return new w(this.r,this.s,d)}recoverPublicKey(d){const{r:y,s:x,recovery:E}=this,h=Q(za("msgHash",d));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const T=E===2||E===3?y+e.n:y;if(T>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=E&1?"03":"02",L=c.fromHex(F+g(T)),k=f(T),$=o(-h*k),H=o(x*k),q=c.BASE.multiplyAndAddUnsafe(L,$,H);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Qd(this.toDERHex())}toDERHex(){return Xc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Qd(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const C={isValidPrivateKey(v){try{return u(v),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const v=BL(e.n);return lee(e.randomBytes(v),e.n)},precompute(v=8,d=c.BASE){return d._setWindowSize(v),d.multiply(BigInt(3)),d}};function O(v,d=!0){return c.fromPrivateKey(v).toRawBytes(d)}function M(v){const d=v instanceof Uint8Array,y=typeof v=="string",x=(d||y)&&v.length;return d?x===i||x===a:y?x===2*i||x===2*a:v instanceof c}function N(v,d,y=!0){if(M(v))throw new Error("first arg must be private key");if(!M(d))throw new Error("second arg must be public key");return c.fromHex(d).multiply(u(v)).toRawBytes(y)}const K=e.bits2int||function(v){const d=bu(v),y=v.length*8-e.nBitLength;return y>0?d>>BigInt(y):d},Q=e.bits2int_modN||function(v){return o(K(v))},j=bw(e.nBitLength);function G(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(mo<=v&&v<j))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Vd(v,e.nByteLength)}function W(v,d,y=R){if(["recovered","canonical"].some(te=>te in y))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:E}=e;let{lowS:h,prehash:T,extraEntropy:F}=y;h==null&&(h=!0),v=za("msgHash",v),T&&(v=za("prehashed msgHash",x(v)));const L=Q(v),k=u(d),$=[G(k),G(L)];if(F!=null){const te=F===!0?E(r.BYTES):F;$.push(za("extraEntropy",te))}const H=Kp(...$),q=L;function X(te){const re=K(te);if(!p(re))return;const U=f(re),P=c.BASE.multiply(re).toAffine(),ne=o(P.x);if(ne===mo)return;const fe=o(U*o(q+ne*k));if(fe===mo)return;let de=(P.x===ne?0:2)|Number(P.y&na),Y=fe;return h&&m(fe)&&(Y=A(fe),de^=1),new w(ne,Y,de)}return{seed:H,k2sig:X}}const R={lowS:e.lowS,prehash:!1},_={lowS:e.lowS,prehash:!1};function I(v,d,y=R){const{seed:x,k2sig:E}=W(v,d,y),h=e;return CL(h.hash.outputLen,h.nByteLength,h.hmac)(x,E)}c.BASE._setWindowSize(8);function b(v,d,y,x=_){var P;const E=v;if(d=za("msgHash",d),y=za("publicKey",y),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:T}=x;let F,L;try{if(typeof E=="string"||E instanceof Uint8Array)try{F=w.fromDER(E)}catch(ne){if(!(ne instanceof Xc.Err))throw ne;F=w.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:ne,s:fe}=E;F=new w(ne,fe)}else throw new Error("PARSE");L=c.fromHex(y)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&F.hasHighS())return!1;T&&(d=e.hash(d));const{r:k,s:$}=F,H=Q(d),q=f($),X=o(H*q),te=o(k*q),re=(P=c.BASE.multiplyAndAddUnsafe(L,X,te))==null?void 0:P.toAffine();return re?o(re.x)===k:!1}return{CURVE:e,getPublicKey:O,getSharedSecret:N,sign:I,verify:b,ProjectivePoint:c,Signature:w,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mee(t){return{hash:t,hmac:(e,...r)=>vL(t,e,wJ(...r)),randomBytes:AJ}}function wee(t,e){const r=n=>_ee({...t,...mee(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ML=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ix=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Aee=BigInt(1),N6=BigInt(2),ax=(t,e)=>(t+e/N6)/e;function Eee(t){const e=ML,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Wi(u,r,e)*u%e,p=Wi(l,r,e)*u%e,g=Wi(p,N6,e)*c%e,m=Wi(g,i,e)*g%e,A=Wi(m,a,e)*m%e,S=Wi(A,o,e)*A%e,w=Wi(S,f,e)*S%e,C=Wi(w,o,e)*A%e,O=Wi(C,r,e)*u%e,M=Wi(O,s,e)*m%e,N=Wi(M,n,e)*c%e,K=Wi(N,N6,e);if(!U6.eql(U6.sqr(K),t))throw new Error("Cannot find square root");return K}const U6=uee(ML,void 0,void 0,{sqrt:Eee}),Af=wee({a:BigInt(0),b:BigInt(7),Fp:U6,n:ix,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=ix,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Aee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=ax(a*t,e),f=ax(-n*t,e);let c=ai(t-o*r-f*i,e),u=ai(-o*n-f*a,e);const l=c>s,p=u>s;if(l&&(c=e-c),p&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:u}}}},OJ);BigInt(0);Af.ProjectivePoint;const sx="0x0000000000000000000000000000000000000000000000000000000000000000",xee=`Ethereum Signed Message:
`,ox=BigInt(0),fx=BigInt(1),cx=BigInt(2),ux=BigInt(27),lx=BigInt(28),Jb=BigInt(35),ol={};function dx(t){return bJ(gJ(t),32)}var od,fd,cd,au,ii;let hx=(ii=class{constructor(e,r,n,i){Be(this,od);Be(this,fd);Be(this,cd);Be(this,au);hJ(e,ol,"Signature"),ve(this,od,r),ve(this,fd,n),ve(this,cd,i),ve(this,au,null)}get r(){return se(this,od)}set r(e){pt(cp(e)===32,"invalid r","value",e),ve(this,od,Un(e))}get s(){return se(this,fd)}set s(e){pt(cp(e)===32,"invalid s","value",e);const r=Un(e);pt(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),ve(this,fd,r)}get v(){return se(this,cd)}set v(e){const r=up(e,"value");pt(r===27||r===28,"invalid v","v",e),ve(this,cd,r)}get networkV(){return se(this,au)}get legacyChainId(){const e=this.networkV;return e==null?null:ii.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ua(this.s);return this.yParity&&(e[0]|=128),Un(e)}get compactSerialized(){return My([this.r,this.yParityAndS])}get serialized(){return My([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ii(ol,this.r,this.s,this.v);return this.networkV&&ve(e,au,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Rh(e,"v");return r==ux||r==lx?ox:(pt(r>=Jb,"invalid EIP-155 v","v",e),(r-Jb)/cx)}static getChainIdV(e,r){return Rh(e)*cx+BigInt(35+r-27)}static getNormalizedV(e){const r=Rh(e);return r===ox||r===ux?27:r===fx||r===lx?28:(pt(r>=Jb,"invalid v","v",e),r&fx?27:28)}static from(e){function r(c,u){pt(c,u,"signature",e)}if(e==null)return new ii(ol,sx,sx,27);if(typeof e=="string"){const c=ua(e,"signature");if(c.length===64){const u=Un(c.slice(0,32)),l=c.slice(32,64),p=l[0]&128?28:27;return l[0]&=127,new ii(ol,u,Un(l),p)}if(c.length===65){const u=Un(c.slice(0,32)),l=c.slice(32,64);r((l[0]&128)===0,"non-canonical s");const p=ii.getNormalizedV(c[64]);return new ii(ol,u,Un(l),p)}r(!1,"invalid raw signature length")}if(e instanceof ii)return e.clone();const n=e.r;r(n!=null,"missing r");const i=dx(n),a=function(c,u){if(c!=null)return dx(c);if(u!=null){r(L6(u,32),"invalid yParityAndS");const l=ua(u);return l[0]&=127,Un(l)}r(!1,"missing s")}(e.s,e.yParityAndS);r((ua(a)[0]&128)==0,"non-canonical s");const{networkV:s,v:o}=function(c,u,l){if(c!=null){const p=Rh(c);return{networkV:p>=Jb?p:void 0,v:ii.getNormalizedV(p)}}if(u!=null)return r(L6(u,32),"invalid yParityAndS"),{v:ua(u)[0]&128?28:27};if(l!=null){switch(up(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),f=new ii(ol,i,a,o);return s&&ve(f,au,s),r(e.yParity==null||up(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}},od=new WeakMap,fd=new WeakMap,cd=new WeakMap,au=new WeakMap,ii);var lo;const Kc=class Kc{constructor(e){Be(this,lo);pt(cp(e)===32,"invalid private key","privateKey","[REDACTED]"),ve(this,lo,Un(e))}get privateKey(){return se(this,lo)}get publicKey(){return Kc.computePublicKey(se(this,lo))}get compressedPublicKey(){return Kc.computePublicKey(se(this,lo),!0)}sign(e){pt(cp(e)===32,"invalid digest length","digest",e);const r=Af.sign(lh(e),lh(se(this,lo)),{lowS:!0});return hx.from({r:WE(r.r,32),s:WE(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Kc.computePublicKey(e);return Un(Af.getSharedSecret(lh(se(this,lo)),ua(r),!1))}static computePublicKey(e,r){let n=ua(e,"key");if(n.length===32){const a=Af.getPublicKey(n,!!r);return Un(a)}if(n.length===64){const a=new Uint8Array(65);a[0]=4,a.set(n,1),n=a}const i=Af.ProjectivePoint.fromHex(n);return Un(i.toRawBytes(r))}static recoverPublicKey(e,r){pt(cp(e)===32,"invalid digest length","digest",e);const n=hx.from(r);let i=Af.Signature.fromCompact(lh(My([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const a=i.recoverPublicKey(lh(e));return pt(a!=null,"invalid signautre for digest","signature",r),"0x"+a.toHex(!1)}static addPoints(e,r,n){const i=Af.ProjectivePoint.fromHex(Kc.computePublicKey(e).substring(2)),a=Af.ProjectivePoint.fromHex(Kc.computePublicKey(r).substring(2));return"0x"+i.add(a).toHex(!!n)}};lo=new WeakMap;let Ly=Kc;const See=BigInt(0),Iee=BigInt(36);function px(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ua(Qu(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const gw={};for(let t=0;t<10;t++)gw[String(t)]=String(t);for(let t=0;t<26;t++)gw[String.fromCharCode(65+t)]=String(10+t);const bx=15;function Cee(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>gw[n]).join("");for(;e.length>=bx;){let n=e.substring(0,bx);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Tee=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function Oee(t){t=t.toLowerCase();let e=See;for(let r=0;r<t.length;r++)e=e*Iee+Tee[t[r]];return e}function Bee(t){if(pt(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=px(t);return pt(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pt(t.substring(2,4)===Cee(t),"bad icap checksum","address",t);let e=Oee(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return px("0x"+e)}pt(!1,"invalid address","address",t)}function Dee(t){let e;return typeof t=="string"?e=Ly.computePublicKey(t,!1):e=t.publicKey,Bee(Qu("0x"+e.substring(4)).substring(26))}function Mee(t,e){return Dee(Ly.recoverPublicKey(t,e))}function Ree(t){return typeof t=="string"&&(t=bm(t)),Qu(My([bm(xee),bm(String(t.length)),t]))}function Lee(t,e){const r=Ree(t);return Mee(r,e)}function Hee(t,e,r){return r.toLowerCase()===Lee(typeof t=="string"?t:Te(t),e).toLowerCase()}function RL(t){if(typeof t=="string")try{const e=JSON.parse(t);if(typeof e=="object"&&typeof e.created_at=="number"&&typeof e.kind=="number"&&typeof e.content=="string"&&Array.isArray(e.args)&&e.args.every(r=>Array.isArray(r)&&r.every(n=>typeof n=="string")))return e}catch{}return{kind:23335,created_at:0,content:typeof t=="string"?t:me(t),tags:[]}}function Pee(t,e,r){const{words:n}=Au.decode(r),i=me(Au.fromWords(n)).slice(2),a=RL(t),s=JSON.stringify([0,i,a.created_at,a.kind,a.tags,a.content]),o=me(cR(Te(s,"utf8")));try{return bW.verify(e.slice(2),o.slice(2),i)}catch{return!1}}var si;(function(t){t.Unknown="Unknown",t.BtcEcdsa="BtcEcdsa",t.EvmPersonal="EvmPersonal",t.JoyId="JoyId",t.NostrEvent="NostrEvent",t.CkbSecp256k1="CkbSecp256k1"})(si||(si={}));var as;(function(t){t.EVM="EVM",t.BTC="BTC",t.CKB="CKB",t.Nostr="Nostr"})(as||(as={}));class bc{constructor(e){this.client_=e}get client(){return this.client_}matchNetworkPreference(e,r){if(!(r!==void 0&&e.some(({signerType:n,addressPrefix:i,network:a})=>{n===this.type&&this.client.addressPrefix})))return e.find(({signerType:n,addressPrefix:i})=>n===this.type&&i===this.client.addressPrefix)}static async verifyMessage(e,r){switch(r.signType){case si.EvmPersonal:return Hee(e,r.signature,r.identity);case si.BtcEcdsa:return tae(e,r.signature,r.identity);case si.JoyId:return uJ(e,r.signature,r.identity);case si.NostrEvent:return Pee(e,r.signature,r.identity);case si.CkbSecp256k1:return yW(e,r.signature,r.identity);case si.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(e){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(e){return(await this.getAddressObjs())[0]}async getRecommendedAddress(e){return(await this.getRecommendedAddressObj(e)).toString()}async getAddresses(){return this.getAddressObjs().then(e=>e.map(r=>r.toString()))}async*findCells(e,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findCells({script:s,scriptType:"lock",filter:e,scriptSearchMode:"exact",withData:r},n,i))yield o}async*findTransactions(e,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findTransactions({script:s,scriptType:"lock",filter:e,scriptSearchMode:"exact",groupByTransaction:r},n,i))yield o}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map(({script:e})=>e))}async signMessage(e){return{signature:await this.signMessageRaw(e),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(e){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(e,r){return typeof r=="string"?bc.verifyMessage(e,{signType:this.signType,signature:r,identity:await this.getIdentity()}):r.identity!==await this.getIdentity()||![si.Unknown,this.signType].includes(r.signType)?!1:bc.verifyMessage(e,r)}async sendTransaction(e){return this.client.sendTransaction(await this.signTransaction(e))}async signTransaction(e){const r=await this.prepareTransaction(e);return this.signOnlyTransaction(r)}prepareTransaction(e){throw Error("Signer.prepareTransaction not implemented")}signOnlyTransaction(e){throw Error("Signer.signOnlyTransaction not implemented")}}let Nee=class extends bc{get type(){return as.BTC}get signType(){return si.BtcEcdsa}async getInternalAddress(){return this.getBtcAccount()}async getIdentity(){return me(await this.getBtcPublicKey()).slice(2)}async getAddressObjs(){const e=await this.getBtcPublicKey(),r=AG(cR(Te(e)));return[await ca.fromKnownScript(this.client,De.OmniLock,me([4,...r,0]))]}async prepareTransaction(e){const r=Ut.from(e),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,De.OmniLock),await r.prepareSighashAllWitness(n,85,this.client),r}async signOnlyTransaction(e){const r=Ut.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Te(await this.signMessageRaw(`CKB (Bitcoin Layer) transaction: ${i.message}`),"base64");a[0]=31+(a[0]-27)%4;const s=is.fromBytes(r.witnesses[i.position]);return s.lock=me(j1(mn(5*4+a.length,4),mn(4*4,4),mn(5*4+a.length,4),mn(5*4+a.length,4),mn(a.length,4),a)),r.setWitnessArgsAt(i.position,s),r}};var k6={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=qo,n=r.Buffer;function i(s,o){for(var f in s)o[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,f){return n(s,o,f)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,f)},a.alloc=function(s,o,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return o!==void 0?typeof f=="string"?c.fill(o,f):c.fill(o):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(k6,k6.exports);var an=k6.exports,z6={exports:{}},yw={exports:{}},Ql=typeof Reflect=="object"?Reflect:null,gx=Ql&&typeof Ql.apply=="function"?Ql.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},xg;Ql&&typeof Ql.ownKeys=="function"?xg=Ql.ownKeys:Object.getOwnPropertySymbols?xg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:xg=function(e){return Object.getOwnPropertyNames(e)};function Uee(t){console&&console.warn&&console.warn(t)}var LL=Number.isNaN||function(e){return e!==e};function ut(){ut.init.call(this)}yw.exports=ut;yw.exports.once=Fee;ut.EventEmitter=ut;ut.prototype._events=void 0;ut.prototype._eventsCount=0;ut.prototype._maxListeners=void 0;var yx=10;function yv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ut,"defaultMaxListeners",{enumerable:!0,get:function(){return yx},set:function(t){if(typeof t!="number"||t<0||LL(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");yx=t}});ut.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ut.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||LL(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function HL(t){return t._maxListeners===void 0?ut.defaultMaxListeners:t._maxListeners}ut.prototype.getMaxListeners=function(){return HL(this)};ut.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")gx(f,this,r);else for(var c=f.length,u=zL(f,c),n=0;n<c;++n)gx(u[n],this,r);return!0};function PL(t,e,r,n){var i,a,s;if(yv(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=HL(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,Uee(o)}return t}ut.prototype.addListener=function(e,r){return PL(this,e,r,!1)};ut.prototype.on=ut.prototype.addListener;ut.prototype.prependListener=function(e,r){return PL(this,e,r,!0)};function kee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function NL(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=kee.bind(n);return i.listener=r,n.wrapFn=i,i}ut.prototype.once=function(e,r){return yv(r),this.on(e,NL(this,e,r)),this};ut.prototype.prependOnceListener=function(e,r){return yv(r),this.prependListener(e,NL(this,e,r)),this};ut.prototype.removeListener=function(e,r){var n,i,a,s,o;if(yv(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():zee(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};ut.prototype.off=ut.prototype.removeListener;ut.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function UL(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?jee(i):zL(i,i.length)}ut.prototype.listeners=function(e){return UL(this,e,!0)};ut.prototype.rawListeners=function(e){return UL(this,e,!1)};ut.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):kL.call(t,e)};ut.prototype.listenerCount=kL;function kL(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ut.prototype.eventNames=function(){return this._eventsCount>0?xg(this._events):[]};function zL(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function zee(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function jee(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Fee(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}jL(t,e,a,{once:!0}),e!=="error"&&$ee(t,i,{once:!0})})}function $ee(t,e,r){typeof t.on=="function"&&jL(t,"error",e,r)}function jL(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var FL=yw.exports,$L=FL.EventEmitter,mm,vx;function qee(){if(vx)return mm;vx=1;function t(m,A){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(m);A&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),S.push.apply(S,w)}return S}function e(m){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{};A%2?t(Object(S),!0).forEach(function(w){r(m,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(w){Object.defineProperty(m,w,Object.getOwnPropertyDescriptor(S,w))})}return m}function r(m,A,S){return A=s(A),A in m?Object.defineProperty(m,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[A]=S,m}function n(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")}function i(m,A){for(var S=0;S<A.length;S++){var w=A[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,s(w.key),w)}}function a(m,A,S){return A&&i(m.prototype,A),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var A=o(m,"string");return typeof A=="symbol"?A:String(A)}function o(m,A){if(typeof m!="object"||m===null)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var w=S.call(m,A||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(m)}var f=qo,c=f.Buffer,u=Y1,l=u.inspect,p=l&&l.custom||"inspect";function g(m,A,S){c.prototype.copy.call(m,A,S)}return mm=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return a(m,[{key:"push",value:function(S){var w={data:S,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(S){var w={data:S,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var w=this.head,C=""+w.data;w=w.next;)C+=S+w.data;return C}},{key:"concat",value:function(S){if(this.length===0)return c.alloc(0);for(var w=c.allocUnsafe(S>>>0),C=this.head,O=0;C;)g(C.data,w,O),O+=C.data.length,C=C.next;return w}},{key:"consume",value:function(S,w){var C;return S<this.head.data.length?(C=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?C=this.shift():C=w?this._getString(S):this._getBuffer(S),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var w=this.head,C=1,O=w.data;for(S-=O.length;w=w.next;){var M=w.data,N=S>M.length?M.length:S;if(N===M.length?O+=M:O+=M.slice(0,S),S-=N,S===0){N===M.length?(++C,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(N));break}++C}return this.length-=C,O}},{key:"_getBuffer",value:function(S){var w=c.allocUnsafe(S),C=this.head,O=1;for(C.data.copy(w),S-=C.data.length;C=C.next;){var M=C.data,N=S>M.length?M.length:S;if(M.copy(w,w.length-S,0,N),S-=N,S===0){N===M.length?(++O,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=M.slice(N));break}++O}return this.length-=O,w}},{key:p,value:function(S,w){return l(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),m}(),mm}function Kee(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(j6,this,t)):process.nextTick(j6,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(Sg,r):(r._writableState.errorEmitted=!0,process.nextTick(_x,r,a)):process.nextTick(_x,r,a):e?(process.nextTick(Sg,r),e(a)):process.nextTick(Sg,r)}),this)}function _x(t,e){j6(t,e),Sg(t)}function Sg(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Qee(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function j6(t,e){t.emit("error",e)}function Vee(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var qL={destroy:Kee,undestroy:Qee,errorOrDestroy:Vee},Vu={};function Yee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var KL={};function Ra(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Yee(s,a);function s(o,f,c){return a.call(this,n(o,f,c))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,KL[t]=i}function mx(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Gee(t,e,r){return t.substr(0,e.length)===e}function Wee(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Xee(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ra("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ra("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Gee(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Wee(t," argument"))i="The ".concat(t," ").concat(n," ").concat(mx(e,"type"));else{var a=Xee(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(mx(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ra("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ra("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ra("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ra("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ra("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ra("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ra("ERR_STREAM_WRITE_AFTER_END","write after end");Ra("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ra("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ra("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Vu.codes=KL;var Zee=Vu.codes.ERR_INVALID_OPT_VALUE;function Jee(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ete(t,e,r,n){var i=Jee(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new Zee(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var QL={getHighWaterMark:ete},tte=rte;function rte(t,e){if(wm("noDeprecation"))return t;var r=!1;function n(){if(!r){if(wm("throwDeprecation"))throw new Error(e);wm("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function wm(t){try{if(!$n.localStorage)return!1}catch{return!1}var e=$n.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Am,wx;function VL(){if(wx)return Am;wx=1,Am=j;function t(H){var q=this;this.next=null,this.entry=null,this.finish=function(){$(q,H)}}var e;j.WritableState=K;var r={deprecate:tte},n=$L,i=qo.Buffer,a=(typeof $n<"u"?$n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(H){return i.from(H)}function o(H){return i.isBuffer(H)||H instanceof a}var f=qL,c=QL,u=c.getHighWaterMark,l=Vu.codes,p=l.ERR_INVALID_ARG_TYPE,g=l.ERR_METHOD_NOT_IMPLEMENTED,m=l.ERR_MULTIPLE_CALLBACK,A=l.ERR_STREAM_CANNOT_PIPE,S=l.ERR_STREAM_DESTROYED,w=l.ERR_STREAM_NULL_VALUES,C=l.ERR_STREAM_WRITE_AFTER_END,O=l.ERR_UNKNOWN_ENCODING,M=f.errorOrDestroy;Gt(j,n);function N(){}function K(H,q,X){e=e||Yd(),H=H||{},typeof X!="boolean"&&(X=q instanceof e),this.objectMode=!!H.objectMode,X&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=u(this,H,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=H.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){d(q,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}K.prototype.getBuffer=function(){for(var q=this.bufferedRequest,X=[];q;)X.push(q),q=q.next;return X},function(){try{Object.defineProperty(K.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(q){return Q.call(this,q)?!0:this!==j?!1:q&&q._writableState instanceof K}})):Q=function(q){return q instanceof this};function j(H){e=e||Yd();var q=this instanceof e;if(!q&&!Q.call(j,this))return new j(H);this._writableState=new K(H,this,q),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),n.call(this)}j.prototype.pipe=function(){M(this,new A)};function G(H,q){var X=new C;M(H,X),process.nextTick(q,X)}function W(H,q,X,te){var re;return X===null?re=new w:typeof X!="string"&&!q.objectMode&&(re=new p("chunk",["string","Buffer"],X)),re?(M(H,re),process.nextTick(te,re),!1):!0}j.prototype.write=function(H,q,X){var te=this._writableState,re=!1,U=!te.objectMode&&o(H);return U&&!i.isBuffer(H)&&(H=s(H)),typeof q=="function"&&(X=q,q=null),U?q="buffer":q||(q=te.defaultEncoding),typeof X!="function"&&(X=N),te.ending?G(this,X):(U||W(this,te,H,X))&&(te.pendingcb++,re=_(this,te,U,H,q,X)),re},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&E(this,H))},j.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new O(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(H,q,X){return!H.objectMode&&H.decodeStrings!==!1&&typeof q=="string"&&(q=i.from(q,X)),q}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(H,q,X,te,re,U){if(!X){var P=R(q,te,re);te!==P&&(X=!0,re="buffer",te=P)}var ne=q.objectMode?1:te.length;q.length+=ne;var fe=q.length<q.highWaterMark;if(fe||(q.needDrain=!0),q.writing||q.corked){var de=q.lastBufferedRequest;q.lastBufferedRequest={chunk:te,encoding:re,isBuf:X,callback:U,next:null},de?de.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else I(H,q,!1,ne,te,re,U);return fe}function I(H,q,X,te,re,U,P){q.writelen=te,q.writecb=P,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new S("write")):X?H._writev(re,q.onwrite):H._write(re,U,q.onwrite),q.sync=!1}function b(H,q,X,te,re){--q.pendingcb,X?(process.nextTick(re,te),process.nextTick(L,H,q),H._writableState.errorEmitted=!0,M(H,te)):(re(te),H._writableState.errorEmitted=!0,M(H,te),L(H,q))}function v(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function d(H,q){var X=H._writableState,te=X.sync,re=X.writecb;if(typeof re!="function")throw new m;if(v(X),q)b(H,X,te,q,re);else{var U=h(X)||H.destroyed;!U&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&E(H,X),te?process.nextTick(y,H,X,U,re):y(H,X,U,re)}}function y(H,q,X,te){X||x(H,q),q.pendingcb--,te(),L(H,q)}function x(H,q){q.length===0&&q.needDrain&&(q.needDrain=!1,H.emit("drain"))}function E(H,q){q.bufferProcessing=!0;var X=q.bufferedRequest;if(H._writev&&X&&X.next){var te=q.bufferedRequestCount,re=new Array(te),U=q.corkedRequestsFree;U.entry=X;for(var P=0,ne=!0;X;)re[P]=X,X.isBuf||(ne=!1),X=X.next,P+=1;re.allBuffers=ne,I(H,q,!0,q.length,re,"",U.finish),q.pendingcb++,q.lastBufferedRequest=null,U.next?(q.corkedRequestsFree=U.next,U.next=null):q.corkedRequestsFree=new t(q),q.bufferedRequestCount=0}else{for(;X;){var fe=X.chunk,de=X.encoding,Y=X.callback,J=q.objectMode?1:fe.length;if(I(H,q,!1,J,fe,de,Y),X=X.next,q.bufferedRequestCount--,q.writing)break}X===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=X,q.bufferProcessing=!1}j.prototype._write=function(H,q,X){X(new g("_write()"))},j.prototype._writev=null,j.prototype.end=function(H,q,X){var te=this._writableState;return typeof H=="function"?(X=H,H=null,q=null):typeof q=="function"&&(X=q,q=null),H!=null&&this.write(H,q),te.corked&&(te.corked=1,this.uncork()),te.ending||k(this,te,X),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function T(H,q){H._final(function(X){q.pendingcb--,X&&M(H,X),q.prefinished=!0,H.emit("prefinish"),L(H,q)})}function F(H,q){!q.prefinished&&!q.finalCalled&&(typeof H._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,process.nextTick(T,H,q)):(q.prefinished=!0,H.emit("prefinish")))}function L(H,q){var X=h(q);if(X&&(F(H,q),q.pendingcb===0&&(q.finished=!0,H.emit("finish"),q.autoDestroy))){var te=H._readableState;(!te||te.autoDestroy&&te.endEmitted)&&H.destroy()}return X}function k(H,q,X){q.ending=!0,L(H,q),X&&(q.finished?process.nextTick(X):H.once("finish",X)),q.ended=!0,H.writable=!1}function $(H,q,X){var te=H.entry;for(H.entry=null;te;){var re=te.callback;q.pendingcb--,re(X),te=te.next}q.corkedRequestsFree.next=H}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),j.prototype.destroy=f.destroy,j.prototype._undestroy=f.undestroy,j.prototype._destroy=function(H,q){q(H)},Am}var Em,Ax;function Yd(){if(Ax)return Em;Ax=1;var t=Object.keys||function(c){var u=[];for(var l in c)u.push(l);return u};Em=s;var e=GL(),r=VL();Gt(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(c){if(!(this instanceof s))return new s(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(f,this)}function f(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),Em}var Hy={},vw=an.Buffer,Ex=vw.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function nte(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ite(t){var e=nte(t);if(typeof e!="string"&&(vw.isEncoding===Ex||!Ex(t)))throw new Error("Unknown encoding: "+t);return e||t}Hy.StringDecoder=J1;function J1(t){this.encoding=ite(t);var e;switch(this.encoding){case"utf16le":this.text=ute,this.end=lte,e=4;break;case"utf8":this.fillLast=ote,e=4;break;case"base64":this.text=dte,this.end=hte,e=3;break;default:this.write=pte,this.end=bte;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vw.allocUnsafe(e)}J1.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};J1.prototype.end=cte;J1.prototype.text=fte;J1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function xm(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function ate(t,e,r){var n=e.length-1;if(n<r)return 0;var i=xm(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=xm(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=xm(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function ste(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function ote(t){var e=this.lastTotal-this.lastNeed,r=ste(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function fte(t,e){var r=ate(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function cte(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function ute(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function lte(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function dte(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function hte(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function pte(t){return t.toString(this.encoding)}function bte(t){return t&&t.length?this.write(t):""}var xx=Vu.codes.ERR_STREAM_PREMATURE_CLOSE;function gte(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function yte(){}function vte(t){return t.setHeader&&typeof t.abort=="function"}function YL(t,e,r){if(typeof e=="function")return YL(t,null,e);e||(e={}),r=gte(r||yte);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,f=!0,i||r.call(t)},u=function(m){r.call(t,m)},l=function(){var m;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(m=new xx),r.call(t,m);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(m=new xx),r.call(t,m)},p=function(){t.req.on("finish",o)};return vte(t)?(t.on("complete",o),t.on("abort",l),t.req?p():t.on("request",p)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",c),t.on("finish",o),e.error!==!1&&t.on("error",u),t.on("close",l),function(){t.removeListener("complete",o),t.removeListener("abort",l),t.removeListener("request",p),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",l)}}var _w=YL,Sm,Sx;function _te(){if(Sx)return Sm;Sx=1;var t;function e(O,M,N){return M=r(M),M in O?Object.defineProperty(O,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[M]=N,O}function r(O){var M=n(O,"string");return typeof M=="symbol"?M:String(M)}function n(O,M){if(typeof O!="object"||O===null)return O;var N=O[Symbol.toPrimitive];if(N!==void 0){var K=N.call(O,M||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(O)}var i=_w,a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function p(O,M){return{value:O,done:M}}function g(O){var M=O[a];if(M!==null){var N=O[l].read();N!==null&&(O[c]=null,O[a]=null,O[s]=null,M(p(N,!1)))}}function m(O){process.nextTick(g,O)}function A(O,M){return function(N,K){O.then(function(){if(M[f]){N(p(void 0,!0));return}M[u](N,K)},K)}}var S=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var M=this,N=this[o];if(N!==null)return Promise.reject(N);if(this[f])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(G,W){process.nextTick(function(){M[o]?W(M[o]):G(p(void 0,!0))})});var K=this[c],Q;if(K)Q=new Promise(A(K,this));else{var j=this[l].read();if(j!==null)return Promise.resolve(p(j,!1));Q=new Promise(this[u])}return this[c]=Q,Q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var M=this;return new Promise(function(N,K){M[l].destroy(null,function(Q){if(Q){K(Q);return}N(p(void 0,!0))})})}),t),S),C=function(M){var N,K=Object.create(w,(N={},e(N,l,{value:M,writable:!0}),e(N,a,{value:null,writable:!0}),e(N,s,{value:null,writable:!0}),e(N,o,{value:null,writable:!0}),e(N,f,{value:M._readableState.endEmitted,writable:!0}),e(N,u,{value:function(j,G){var W=K[l].read();W?(K[c]=null,K[a]=null,K[s]=null,j(p(W,!1))):(K[a]=j,K[s]=G)},writable:!0}),N));return K[c]=null,i(M,function(Q){if(Q&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=K[s];j!==null&&(K[c]=null,K[a]=null,K[s]=null,j(Q)),K[o]=Q;return}var G=K[a];G!==null&&(K[c]=null,K[a]=null,K[s]=null,G(p(void 0,!0))),K[f]=!0}),M.on("readable",m.bind(null,K)),K};return Sm=C,Sm}var Im,Ix;function mte(){return Ix||(Ix=1,Im=function(){throw new Error("Readable.from is not available in the browser")}),Im}var Cm,Cx;function GL(){if(Cx)return Cm;Cx=1,Cm=G;var t;G.ReadableState=j,FL.EventEmitter;var e=function(P,ne){return P.listeners(ne).length},r=$L,n=qo.Buffer,i=(typeof $n<"u"?$n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(U){return n.from(U)}function s(U){return n.isBuffer(U)||U instanceof i}var o=Y1,f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var c=qee(),u=qL,l=QL,p=l.getHighWaterMark,g=Vu.codes,m=g.ERR_INVALID_ARG_TYPE,A=g.ERR_STREAM_PUSH_AFTER_EOF,S=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,O,M;Gt(G,r);var N=u.errorOrDestroy,K=["error","close","destroy","pause","resume"];function Q(U,P,ne){if(typeof U.prependListener=="function")return U.prependListener(P,ne);!U._events||!U._events[P]?U.on(P,ne):Array.isArray(U._events[P])?U._events[P].unshift(ne):U._events[P]=[ne,U._events[P]]}function j(U,P,ne){t=t||Yd(),U=U||{},typeof ne!="boolean"&&(ne=P instanceof t),this.objectMode=!!U.objectMode,ne&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",ne),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(C||(C=Hy.StringDecoder),this.decoder=new C(U.encoding),this.encoding=U.encoding)}function G(U){if(t=t||Yd(),!(this instanceof G))return new G(U);var P=this instanceof t;this._readableState=new j(U,this,P),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),r.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),G.prototype.destroy=u.destroy,G.prototype._undestroy=u.undestroy,G.prototype._destroy=function(U,P){P(U)},G.prototype.push=function(U,P){var ne=this._readableState,fe;return ne.objectMode?fe=!0:typeof U=="string"&&(P=P||ne.defaultEncoding,P!==ne.encoding&&(U=n.from(U,P),P=""),fe=!0),W(this,U,P,!1,fe)},G.prototype.unshift=function(U){return W(this,U,null,!0,!1)};function W(U,P,ne,fe,de){f("readableAddChunk",P);var Y=U._readableState;if(P===null)Y.reading=!1,d(U,Y);else{var J;if(de||(J=_(Y,P)),J)N(U,J);else if(Y.objectMode||P&&P.length>0)if(typeof P!="string"&&!Y.objectMode&&Object.getPrototypeOf(P)!==n.prototype&&(P=a(P)),fe)Y.endEmitted?N(U,new w):R(U,Y,P,!0);else if(Y.ended)N(U,new A);else{if(Y.destroyed)return!1;Y.reading=!1,Y.decoder&&!ne?(P=Y.decoder.write(P),Y.objectMode||P.length!==0?R(U,Y,P,!1):E(U,Y)):R(U,Y,P,!1)}else fe||(Y.reading=!1,E(U,Y))}return!Y.ended&&(Y.length<Y.highWaterMark||Y.length===0)}function R(U,P,ne,fe){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,U.emit("data",ne)):(P.length+=P.objectMode?1:ne.length,fe?P.buffer.unshift(ne):P.buffer.push(ne),P.needReadable&&y(U)),E(U,P)}function _(U,P){var ne;return!s(P)&&typeof P!="string"&&P!==void 0&&!U.objectMode&&(ne=new m("chunk",["string","Buffer","Uint8Array"],P)),ne}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(U){C||(C=Hy.StringDecoder);var P=new C(U);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var ne=this._readableState.buffer.head,fe="";ne!==null;)fe+=P.write(ne.data),ne=ne.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var I=1073741824;function b(U){return U>=I?U=I:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function v(U,P){return U<=0||P.length===0&&P.ended?0:P.objectMode?1:U!==U?P.flowing&&P.length?P.buffer.head.data.length:P.length:(U>P.highWaterMark&&(P.highWaterMark=b(U)),U<=P.length?U:P.ended?P.length:(P.needReadable=!0,0))}G.prototype.read=function(U){f("read",U),U=parseInt(U,10);var P=this._readableState,ne=U;if(U!==0&&(P.emittedReadable=!1),U===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return f("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?X(this):y(this),null;if(U=v(U,P),U===0&&P.ended)return P.length===0&&X(this),null;var fe=P.needReadable;f("need readable",fe),(P.length===0||P.length-U<P.highWaterMark)&&(fe=!0,f("length less than watermark",fe)),P.ended||P.reading?(fe=!1,f("reading or ended",fe)):fe&&(f("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(U=v(ne,P)));var de;return U>0?de=q(U,P):de=null,de===null?(P.needReadable=P.length<=P.highWaterMark,U=0):(P.length-=U,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),ne!==U&&P.ended&&X(this)),de!==null&&this.emit("data",de),de};function d(U,P){if(f("onEofChunk"),!P.ended){if(P.decoder){var ne=P.decoder.end();ne&&ne.length&&(P.buffer.push(ne),P.length+=P.objectMode?1:ne.length)}P.ended=!0,P.sync?y(U):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,x(U)))}}function y(U){var P=U._readableState;f("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(f("emitReadable",P.flowing),P.emittedReadable=!0,process.nextTick(x,U))}function x(U){var P=U._readableState;f("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&(U.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,H(U)}function E(U,P){P.readingMore||(P.readingMore=!0,process.nextTick(h,U,P))}function h(U,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var ne=P.length;if(f("maybeReadMore read 0"),U.read(0),ne===P.length)break}P.readingMore=!1}G.prototype._read=function(U){N(this,new S("_read()"))},G.prototype.pipe=function(U,P){var ne=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=U;break;case 1:fe.pipes=[fe.pipes,U];break;default:fe.pipes.push(U);break}fe.pipesCount+=1,f("pipe count=%d opts=%j",fe.pipesCount,P);var de=(!P||P.end!==!1)&&U!==process.stdout&&U!==process.stderr,Y=de?ie:fn;fe.endEmitted?process.nextTick(Y):ne.once("end",Y),U.on("unpipe",J);function J(z,B){f("onunpipe"),z===ne&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,ge())}function ie(){f("onend"),U.end()}var ue=T(ne);U.on("drain",ue);var ye=!1;function ge(){f("cleanup"),U.removeListener("close",He),U.removeListener("finish",$e),U.removeListener("drain",ue),U.removeListener("error",zt),U.removeListener("unpipe",J),ne.removeListener("end",ie),ne.removeListener("end",fn),ne.removeListener("data",Se),ye=!0,fe.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&ue()}ne.on("data",Se);function Se(z){f("ondata");var B=U.write(z);f("dest.write",B),B===!1&&((fe.pipesCount===1&&fe.pipes===U||fe.pipesCount>1&&re(fe.pipes,U)!==-1)&&!ye&&(f("false write response, pause",fe.awaitDrain),fe.awaitDrain++),ne.pause())}function zt(z){f("onerror",z),fn(),U.removeListener("error",zt),e(U,"error")===0&&N(U,z)}Q(U,"error",zt);function He(){U.removeListener("finish",$e),fn()}U.once("close",He);function $e(){f("onfinish"),U.removeListener("close",He),fn()}U.once("finish",$e);function fn(){f("unpipe"),ne.unpipe(U)}return U.emit("pipe",ne),fe.flowing||(f("pipe resume"),ne.resume()),U};function T(U){return function(){var ne=U._readableState;f("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&e(U,"data")&&(ne.flowing=!0,H(U))}}G.prototype.unpipe=function(U){var P=this._readableState,ne={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return U&&U!==P.pipes?this:(U||(U=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,U&&U.emit("unpipe",this,ne),this);if(!U){var fe=P.pipes,de=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var Y=0;Y<de;Y++)fe[Y].emit("unpipe",this,{hasUnpiped:!1});return this}var J=re(P.pipes,U);return J===-1?this:(P.pipes.splice(J,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),U.emit("unpipe",this,ne),this)},G.prototype.on=function(U,P){var ne=r.prototype.on.call(this,U,P),fe=this._readableState;return U==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):U==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,f("on readable",fe.length,fe.reading),fe.length?y(this):fe.reading||process.nextTick(L,this)),ne},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(U,P){var ne=r.prototype.removeListener.call(this,U,P);return U==="readable"&&process.nextTick(F,this),ne},G.prototype.removeAllListeners=function(U){var P=r.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&process.nextTick(F,this),P};function F(U){var P=U._readableState;P.readableListening=U.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:U.listenerCount("data")>0&&U.resume()}function L(U){f("readable nexttick read 0"),U.read(0)}G.prototype.resume=function(){var U=this._readableState;return U.flowing||(f("resume"),U.flowing=!U.readableListening,k(this,U)),U.paused=!1,this};function k(U,P){P.resumeScheduled||(P.resumeScheduled=!0,process.nextTick($,U,P))}function $(U,P){f("resume",P.reading),P.reading||U.read(0),P.resumeScheduled=!1,U.emit("resume"),H(U),P.flowing&&!P.reading&&U.read(0)}G.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function H(U){var P=U._readableState;for(f("flow",P.flowing);P.flowing&&U.read()!==null;);}G.prototype.wrap=function(U){var P=this,ne=this._readableState,fe=!1;U.on("end",function(){if(f("wrapped end"),ne.decoder&&!ne.ended){var J=ne.decoder.end();J&&J.length&&P.push(J)}P.push(null)}),U.on("data",function(J){if(f("wrapped data"),ne.decoder&&(J=ne.decoder.write(J)),!(ne.objectMode&&J==null)&&!(!ne.objectMode&&(!J||!J.length))){var ie=P.push(J);ie||(fe=!0,U.pause())}});for(var de in U)this[de]===void 0&&typeof U[de]=="function"&&(this[de]=function(ie){return function(){return U[ie].apply(U,arguments)}}(de));for(var Y=0;Y<K.length;Y++)U.on(K[Y],this.emit.bind(this,K[Y]));return this._read=function(J){f("wrapped _read",J),fe&&(fe=!1,U.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=_te()),O(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),G._fromList=q,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q(U,P){if(P.length===0)return null;var ne;return P.objectMode?ne=P.buffer.shift():!U||U>=P.length?(P.decoder?ne=P.buffer.join(""):P.buffer.length===1?ne=P.buffer.first():ne=P.buffer.concat(P.length),P.buffer.clear()):ne=P.buffer.consume(U,P.decoder),ne}function X(U){var P=U._readableState;f("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,process.nextTick(te,P,U))}function te(U,P){if(f("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,P.readable=!1,P.emit("end"),U.autoDestroy)){var ne=P._writableState;(!ne||ne.autoDestroy&&ne.finished)&&P.destroy()}}typeof Symbol=="function"&&(G.from=function(U,P){return M===void 0&&(M=mte()),M(G,U,P)});function re(U,P){for(var ne=0,fe=U.length;ne<fe;ne++)if(U[ne]===P)return ne;return-1}return Cm}var WL=Vo,vv=Vu.codes,wte=vv.ERR_METHOD_NOT_IMPLEMENTED,Ate=vv.ERR_MULTIPLE_CALLBACK,Ete=vv.ERR_TRANSFORM_ALREADY_TRANSFORMING,xte=vv.ERR_TRANSFORM_WITH_LENGTH_0,_v=Yd();Gt(Vo,_v);function Ste(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Ate);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Vo(t){if(!(this instanceof Vo))return new Vo(t);_v.call(this,t),this._transformState={afterTransform:Ste.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ite)}function Ite(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Tx(t,e,r)}):Tx(this,null,null)}Vo.prototype.push=function(t,e){return this._transformState.needTransform=!1,_v.prototype.push.call(this,t,e)};Vo.prototype._transform=function(t,e,r){r(new wte("_transform()"))};Vo.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Vo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Vo.prototype._destroy=function(t,e){_v.prototype._destroy.call(this,t,function(r){e(r)})};function Tx(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new xte;if(t._transformState.transforming)throw new Ete;return t.push(null)}var Cte=Qp,XL=WL;Gt(Qp,XL);function Qp(t){if(!(this instanceof Qp))return new Qp(t);XL.call(this,t)}Qp.prototype._transform=function(t,e,r){r(null,t)};var Tm;function Tte(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ZL=Vu.codes,Ote=ZL.ERR_MISSING_ARGS,Bte=ZL.ERR_STREAM_DESTROYED;function Ox(t){if(t)throw t}function Dte(t){return t.setHeader&&typeof t.abort=="function"}function Mte(t,e,r,n){n=Tte(n);var i=!1;t.on("close",function(){i=!0}),Tm===void 0&&(Tm=_w),Tm(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,Dte(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Bte("pipe"))}}}function Bx(t){t()}function Rte(t,e){return t.pipe(e)}function Lte(t){return!t.length||typeof t[t.length-1]!="function"?Ox:t.pop()}function Hte(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Lte(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Ote("streams");var i,a=e.map(function(s,o){var f=o<e.length-1,c=o>0;return Mte(s,f,c,function(u){i||(i=u),u&&a.forEach(Bx),!f&&(a.forEach(Bx),n(i))})});return e.reduce(Rte)}var Pte=Hte;(function(t,e){e=t.exports=GL(),e.Stream=e,e.Readable=e,e.Writable=VL(),e.Duplex=Yd(),e.Transform=WL,e.PassThrough=Cte,e.finished=_w,e.pipeline=Pte})(z6,z6.exports);var Nte=z6.exports,Py=an.Buffer,JL=Nte.Transform,Ute=Gt;function kte(t,e){if(!Py.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Tc(t){JL.call(this),this._block=Py.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Ute(Tc,JL);Tc.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Tc.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Tc.prototype.update=function(t,e){if(kte(t,"Data"),this._finalized)throw new Error("Digest already called");Py.isBuffer(t)||(t=Py.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};Tc.prototype._update=function(){throw new Error("_update is not implemented")};Tc.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Tc.prototype._digest=function(){throw new Error("_digest is not implemented")};var eH=Tc,zte=Gt,tH=eH,jte=an.Buffer,Fte=new Array(16);function mv(){tH.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}zte(mv,tH);mv.prototype._update=function(){for(var t=Fte,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=ln(r,n,i,a,t[0],3614090360,7),a=ln(a,r,n,i,t[1],3905402710,12),i=ln(i,a,r,n,t[2],606105819,17),n=ln(n,i,a,r,t[3],3250441966,22),r=ln(r,n,i,a,t[4],4118548399,7),a=ln(a,r,n,i,t[5],1200080426,12),i=ln(i,a,r,n,t[6],2821735955,17),n=ln(n,i,a,r,t[7],4249261313,22),r=ln(r,n,i,a,t[8],1770035416,7),a=ln(a,r,n,i,t[9],2336552879,12),i=ln(i,a,r,n,t[10],4294925233,17),n=ln(n,i,a,r,t[11],2304563134,22),r=ln(r,n,i,a,t[12],1804603682,7),a=ln(a,r,n,i,t[13],4254626195,12),i=ln(i,a,r,n,t[14],2792965006,17),n=ln(n,i,a,r,t[15],1236535329,22),r=dn(r,n,i,a,t[1],4129170786,5),a=dn(a,r,n,i,t[6],3225465664,9),i=dn(i,a,r,n,t[11],643717713,14),n=dn(n,i,a,r,t[0],3921069994,20),r=dn(r,n,i,a,t[5],3593408605,5),a=dn(a,r,n,i,t[10],38016083,9),i=dn(i,a,r,n,t[15],3634488961,14),n=dn(n,i,a,r,t[4],3889429448,20),r=dn(r,n,i,a,t[9],568446438,5),a=dn(a,r,n,i,t[14],3275163606,9),i=dn(i,a,r,n,t[3],4107603335,14),n=dn(n,i,a,r,t[8],1163531501,20),r=dn(r,n,i,a,t[13],2850285829,5),a=dn(a,r,n,i,t[2],4243563512,9),i=dn(i,a,r,n,t[7],1735328473,14),n=dn(n,i,a,r,t[12],2368359562,20),r=hn(r,n,i,a,t[5],4294588738,4),a=hn(a,r,n,i,t[8],2272392833,11),i=hn(i,a,r,n,t[11],1839030562,16),n=hn(n,i,a,r,t[14],4259657740,23),r=hn(r,n,i,a,t[1],2763975236,4),a=hn(a,r,n,i,t[4],1272893353,11),i=hn(i,a,r,n,t[7],4139469664,16),n=hn(n,i,a,r,t[10],3200236656,23),r=hn(r,n,i,a,t[13],681279174,4),a=hn(a,r,n,i,t[0],3936430074,11),i=hn(i,a,r,n,t[3],3572445317,16),n=hn(n,i,a,r,t[6],76029189,23),r=hn(r,n,i,a,t[9],3654602809,4),a=hn(a,r,n,i,t[12],3873151461,11),i=hn(i,a,r,n,t[15],530742520,16),n=hn(n,i,a,r,t[2],3299628645,23),r=pn(r,n,i,a,t[0],4096336452,6),a=pn(a,r,n,i,t[7],1126891415,10),i=pn(i,a,r,n,t[14],2878612391,15),n=pn(n,i,a,r,t[5],4237533241,21),r=pn(r,n,i,a,t[12],1700485571,6),a=pn(a,r,n,i,t[3],2399980690,10),i=pn(i,a,r,n,t[10],4293915773,15),n=pn(n,i,a,r,t[1],2240044497,21),r=pn(r,n,i,a,t[8],1873313359,6),a=pn(a,r,n,i,t[15],4264355552,10),i=pn(i,a,r,n,t[6],2734768916,15),n=pn(n,i,a,r,t[13],1309151649,21),r=pn(r,n,i,a,t[4],4149444226,6),a=pn(a,r,n,i,t[11],3174756917,10),i=pn(i,a,r,n,t[2],718787259,15),n=pn(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};mv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=jte.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function wv(t,e){return t<<e|t>>>32-e}function ln(t,e,r,n,i,a,s){return wv(t+(e&r|~e&n)+i+a|0,s)+e|0}function dn(t,e,r,n,i,a,s){return wv(t+(e&n|r&~n)+i+a|0,s)+e|0}function hn(t,e,r,n,i,a,s){return wv(t+(e^r^n)+i+a|0,s)+e|0}function pn(t,e,r,n,i,a,s){return wv(t+(r^(e|~n))+i+a|0,s)+e|0}var $te=mv,Om=qo.Buffer,qte=Gt,rH=eH,Kte=new Array(16),hh=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ph=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],bh=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],gh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yh=[0,1518500249,1859775393,2400959708,2840853838],vh=[1352829926,1548603684,1836072691,2053994217,0];function Av(){rH.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}qte(Av,rH);Av.prototype._update=function(){for(var t=Kte,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,f=this._b|0,c=this._c|0,u=this._d|0,l=this._e|0,p=0;p<80;p+=1){var g,m;p<16?(g=Dx(r,n,i,a,s,t[hh[p]],yh[0],bh[p]),m=Hx(o,f,c,u,l,t[ph[p]],vh[0],gh[p])):p<32?(g=Mx(r,n,i,a,s,t[hh[p]],yh[1],bh[p]),m=Lx(o,f,c,u,l,t[ph[p]],vh[1],gh[p])):p<48?(g=Rx(r,n,i,a,s,t[hh[p]],yh[2],bh[p]),m=Rx(o,f,c,u,l,t[ph[p]],vh[2],gh[p])):p<64?(g=Lx(r,n,i,a,s,t[hh[p]],yh[3],bh[p]),m=Mx(o,f,c,u,l,t[ph[p]],vh[3],gh[p])):(g=Hx(r,n,i,a,s,t[hh[p]],yh[4],bh[p]),m=Dx(o,f,c,u,l,t[ph[p]],vh[4],gh[p])),r=s,s=a,a=Ou(i,10),i=n,n=g,o=l,l=u,u=Ou(c,10),c=f,f=m}var A=this._b+i+u|0;this._b=this._c+a+l|0,this._c=this._d+s+o|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=A};Av.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Om.alloc?Om.alloc(20):new Om(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Ou(t,e){return t<<e|t>>>32-e}function Dx(t,e,r,n,i,a,s,o){return Ou(t+(e^r^n)+a+s|0,o)+i|0}function Mx(t,e,r,n,i,a,s,o){return Ou(t+(e&r|~e&n)+a+s|0,o)+i|0}function Rx(t,e,r,n,i,a,s,o){return Ou(t+((e|~r)^n)+a+s|0,o)+i|0}function Lx(t,e,r,n,i,a,s,o){return Ou(t+(e&n|r&~n)+a+s|0,o)+i|0}function Hx(t,e,r,n,i,a,s,o){return Ou(t+(e^(r|~n))+a+s|0,o)+i|0}var Qte=Av,nH={exports:{}},iH=an.Buffer;function Ev(t,e){this._block=iH.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Ev.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=iH.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var o=a%n,f=Math.min(i-s,n-o),c=0;c<f;c++)r[o+c]=t[s+c];a+=f,s+=f,a%n===0&&this._update(r)}return this._len+=i,this};Ev.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};Ev.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var C0=Ev,Vte=Gt,aH=C0,Yte=an.Buffer,Gte=[1518500249,1859775393,-1894007588,-899497514],Wte=new Array(80);function eb(){this.init(),this._w=Wte,aH.call(this,64,56)}Vte(eb,aH);eb.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xte(t){return t<<5|t>>>27}function Zte(t){return t<<30|t>>>2}function Jte(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}eb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var f=0;f<80;++f){var c=~~(f/20),u=Xte(r)+Jte(c,n,i,a)+s+e[f]+Gte[c]|0;s=a,a=i,i=Zte(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};eb.prototype._hash=function(){var t=Yte.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var ere=eb,tre=Gt,sH=C0,rre=an.Buffer,nre=[1518500249,1859775393,-1894007588,-899497514],ire=new Array(80);function tb(){this.init(),this._w=ire,sH.call(this,64,56)}tre(tb,sH);tb.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function are(t){return t<<1|t>>>31}function sre(t){return t<<5|t>>>27}function ore(t){return t<<30|t>>>2}function fre(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}tb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=are(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var f=0;f<80;++f){var c=~~(f/20),u=sre(r)+fre(c,n,i,a)+s+e[f]+nre[c]|0;s=a,a=i,i=ore(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};tb.prototype._hash=function(){var t=rre.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var cre=tb,ure=Gt,oH=C0,lre=an.Buffer,dre=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],hre=new Array(64);function rb(){this.init(),this._w=hre,oH.call(this,64,56)}ure(rb,oH);rb.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function pre(t,e,r){return r^t&(e^r)}function bre(t,e,r){return t&e|r&(t|e)}function gre(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function yre(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function vre(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function _re(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}rb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,f=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=_re(e[u-2])+e[u-7]+vre(e[u-15])+e[u-16]|0;for(var l=0;l<64;++l){var p=c+yre(s)+pre(s,o,f)+dre[l]+e[l]|0,g=gre(r)+bre(r,n,i)|0;c=f,f=o,o=s,s=a+p|0,a=i,i=n,n=r,r=p+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};rb.prototype._hash=function(){var t=lre.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var fH=rb,mre=Gt,wre=fH,Are=C0,Ere=an.Buffer,xre=new Array(64);function xv(){this.init(),this._w=xre,Are.call(this,64,56)}mre(xv,wre);xv.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};xv.prototype._hash=function(){var t=Ere.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Sre=xv,Ire=Gt,cH=C0,Cre=an.Buffer,Px=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Tre=new Array(160);function nb(){this.init(),this._w=Tre,cH.call(this,128,112)}Ire(nb,cH);nb.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Nx(t,e,r){return r^t&(e^r)}function Ux(t,e,r){return t&e|r&(t|e)}function kx(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function zx(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Ore(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Bre(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Dre(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Mre(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Dr(t,e){return t>>>0<e>>>0?1:0}nb.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,f=this._gh|0,c=this._hh|0,u=this._al|0,l=this._bl|0,p=this._cl|0,g=this._dl|0,m=this._el|0,A=this._fl|0,S=this._gl|0,w=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var O=e[C-30],M=e[C-15*2+1],N=Ore(O,M),K=Bre(M,O);O=e[C-2*2],M=e[C-2*2+1];var Q=Dre(O,M),j=Mre(M,O),G=e[C-7*2],W=e[C-7*2+1],R=e[C-16*2],_=e[C-16*2+1],I=K+W|0,b=N+G+Dr(I,K)|0;I=I+j|0,b=b+Q+Dr(I,j)|0,I=I+_|0,b=b+R+Dr(I,_)|0,e[C]=b,e[C+1]=I}for(var v=0;v<160;v+=2){b=e[v],I=e[v+1];var d=Ux(r,n,i),y=Ux(u,l,p),x=kx(r,u),E=kx(u,r),h=zx(s,m),T=zx(m,s),F=Px[v],L=Px[v+1],k=Nx(s,o,f),$=Nx(m,A,S),H=w+T|0,q=c+h+Dr(H,w)|0;H=H+$|0,q=q+k+Dr(H,$)|0,H=H+L|0,q=q+F+Dr(H,L)|0,H=H+I|0,q=q+b+Dr(H,I)|0;var X=E+y|0,te=x+d+Dr(X,E)|0;c=f,w=S,f=o,S=A,o=s,A=m,m=g+H|0,s=a+q+Dr(m,g)|0,a=i,g=p,i=n,p=l,n=r,l=u,u=H+X|0,r=q+te+Dr(u,H)|0}this._al=this._al+u|0,this._bl=this._bl+l|0,this._cl=this._cl+p|0,this._dl=this._dl+g|0,this._el=this._el+m|0,this._fl=this._fl+A|0,this._gl=this._gl+S|0,this._hl=this._hl+w|0,this._ah=this._ah+r+Dr(this._al,u)|0,this._bh=this._bh+n+Dr(this._bl,l)|0,this._ch=this._ch+i+Dr(this._cl,p)|0,this._dh=this._dh+a+Dr(this._dl,g)|0,this._eh=this._eh+s+Dr(this._el,m)|0,this._fh=this._fh+o+Dr(this._fl,A)|0,this._gh=this._gh+f+Dr(this._gl,S)|0,this._hh=this._hh+c+Dr(this._hl,w)|0};nb.prototype._hash=function(){var t=Cre.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var uH=nb,Rre=Gt,Lre=uH,Hre=C0,Pre=an.Buffer,Nre=new Array(160);function Sv(){this.init(),this._w=Nre,Hre.call(this,128,112)}Rre(Sv,Lre);Sv.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sv.prototype._hash=function(){var t=Pre.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Ure=Sv,Yu=nH.exports=function(e){e=e.toLowerCase();var r=Yu[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Yu.sha=ere;Yu.sha1=cre;Yu.sha224=Sre;Yu.sha256=fH;Yu.sha384=Ure;Yu.sha512=uH;var kre=nH.exports,_s=an.Buffer,lH=Y1.Transform,zre=Hy.StringDecoder,jre=Gt;function ds(t){lH.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}jre(ds,lH);var Fre=typeof Uint8Array<"u",$re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(_s.prototype instanceof Uint8Array||_s.TYPED_ARRAY_SUPPORT);function qre(t,e){if(t instanceof _s)return t;if(typeof t=="string")return _s.from(t,e);if($re&&ArrayBuffer.isView(t)){if(t.byteLength===0)return _s.alloc(0);var r=_s.from(t.buffer,t.byteOffset,t.byteLength);if(r.byteLength===t.byteLength)return r}if(Fre&&t instanceof Uint8Array||_s.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return _s.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}ds.prototype.update=function(t,e,r){var n=qre(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};ds.prototype.setAutoPadding=function(){};ds.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ds.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ds.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ds.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};ds.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};ds.prototype._finalOrDigest=function(t){var e=this.__final()||_s.alloc(0);return t&&(e=this._toString(e,t,!0)),e};ds.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new zre(e),this._encoding=e),this._encoding!==e)throw new Error("can’t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var Kre=ds,Qre=Gt,Vre=$te,Yre=Qte,Gre=kre,dH=Kre;function Iv(t){dH.call(this,"digest"),this._hash=t}Qre(Iv,dH);Iv.prototype._update=function(t){this._hash.update(t)};Iv.prototype._final=function(){return this._hash.digest()};var mw=function(e){return e=e.toLowerCase(),e==="md5"?new Vre:e==="rmd160"||e==="ripemd160"?new Yre:new Iv(Gre(e))},eg=an.Buffer;function Wre(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=eg.from(g)),!eg.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var m=0,A=0,S=0,w=g.length;S!==w&&g[S]===0;)S++,m++;for(var C=(w-S)*c+1>>>0,O=new Uint8Array(C);S!==w;){for(var M=g[S],N=0,K=C-1;(M!==0||N<A)&&K!==-1;K--,N++)M+=256*O[K]>>>0,O[K]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");A=N,S++}for(var Q=C-A;Q!==C&&O[Q]===0;)Q++;for(var j=o.repeat(m);Q<C;++Q)j+=t.charAt(O[Q]);return j}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return eg.alloc(0);for(var m=0,A=0,S=0;g[m]===o;)A++,m++;for(var w=(g.length-m)*f+1>>>0,C=new Uint8Array(w);m<g.length;){var O=e[g.charCodeAt(m)];if(O===255)return;for(var M=0,N=w-1;(O!==0||M<S)&&N!==-1;N--,M++)O+=s*C[N]>>>0,C[N]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=M,m++}for(var K=w-S;K!==w&&C[K]===0;)K++;var Q=eg.allocUnsafe(A+(w-K));Q.fill(0,0,A);for(var j=A;K!==w;)Q[j++]=C[K++];return Q}function p(g){var m=l(g);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:p}}var Xre=Wre,Zre=Xre,Jre="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ene=Zre(Jre),Bm=ene,tne=an.Buffer,rne=function(t){function e(a){var s=t(a);return Bm.encode(tne.concat([a,s],a.length+4))}function r(a){var s=a.slice(0,-4),o=a.slice(-4),f=t(s);if(!(o[0]^f[0]|o[1]^f[1]|o[2]^f[2]|o[3]^f[3]))return s}function n(a){var s=Bm.decodeUnsafe(a);if(s)return r(s)}function i(a){var s=Bm.decode(a),o=r(s);if(!o)throw new Error("Invalid checksum");return o}return{encode:e,decode:i,decodeUnsafe:n}},jx=mw,nne=rne;function ine(t){var e=jx("sha256").update(t).digest();return jx("sha256").update(e).digest()}var ane=nne(ine),Ny="qpzry9x8gf2tvdw0s3jn54khce6mua7l",F6={};for(var tg=0;tg<Ny.length;tg++){var Dm=Ny.charAt(tg);if(F6[Dm]!==void 0)throw new TypeError(Dm+" is ambiguous");F6[Dm]=tg}function Vl(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function hH(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Vl(e)^n>>5}for(e=Vl(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Vl(e)^i&31}return e}function sne(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=hH(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");n=Vl(n)^s,i+=Ny.charAt(s)}for(a=0;a<6;++a)n=Vl(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=Ny.charAt(o)}return i}function pH(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var o=hH(a);if(typeof o=="string")return o;for(var f=[],c=0;c<s.length;++c){var u=s.charAt(c),l=F6[u];if(l===void 0)return"Unknown character "+u;o=Vl(o)^l,!(c+6>=s.length)&&f.push(l)}return o!==1?"Invalid checksum for "+t:{prefix:a,words:f}}function one(){var t=pH.apply(null,arguments);if(typeof t=="object")return t}function fne(t){var e=pH.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Cv(t,e,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],f=0;f<t.length;++f)for(i=i<<e|t[f],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function cne(t){var e=Cv(t,8,5,!0);if(Array.isArray(e))return e}function une(t){var e=Cv(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function lne(t){var e=Cv(t,5,8,!1);if(Array.isArray(e))return e}function dne(t){var e=Cv(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var hne={decodeUnsafe:one,decode:fne,encode:sne,toWordsUnsafe:cne,toWords:une,fromWordsUnsafe:lne,fromWords:dne},pne=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},hs={},Tv=Object.prototype.toString;hs.isArray=function(t,e){if(!Array.isArray(t))throw TypeError(e)};hs.isBoolean=function(t,e){if(Tv.call(t)!=="[object Boolean]")throw TypeError(e)};hs.isBuffer=function(t,e){if(!Buffer.isBuffer(t))throw TypeError(e)};hs.isFunction=function(t,e){if(Tv.call(t)!=="[object Function]")throw TypeError(e)};hs.isNumber=function(t,e){if(Tv.call(t)!=="[object Number]")throw TypeError(e)};hs.isObject=function(t,e){if(Tv.call(t)!=="[object Object]")throw TypeError(e)};hs.isBufferLength=function(t,e,r){if(t.length!==e)throw RangeError(r)};hs.isBufferLength2=function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)};hs.isLengthGTZero=function(t,e){if(t.length===0)throw RangeError(e)};hs.isNumberInInterval=function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)};var T0={},bne=an.Buffer;function gne(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;var e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;var r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}function yne(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");var e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");var r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}function vne(t,e){var r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");var i=bne.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}var _ne={check:gne,decode:yne,encode:vne},Za=an.Buffer,bH=_ne,mne=Za.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wne=Za.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);T0.privateKeyExport=function(t,e,r){var n=Za.from(r?mne:wne);return t.copy(n,r?8:9),e.copy(n,r?181:214),n};T0.privateKeyImport=function(t){var e=t.length,r=0;if(!(e<r+1||t[r]!==48)&&(r+=1,!(e<r+1||!(t[r]&128)))){var n=t[r]&127;if(r+=1,!(n<1||n>2)&&!(e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(r+=n,!(e<r+i)&&!(e<r+3||t[r]!==2||t[r+1]!==1||t[r+2]!==1)&&(r+=3,!(e<r+2||t[r]!==4||t[r+1]>32||e<r+2+t[r+1])))return t.slice(r+2,r+2+t[r+1])}}};T0.signatureExport=function(t){for(var e=Za.concat([Za.from([0]),t.r]),r=33,n=0;r>1&&e[n]===0&&!(e[n+1]&128);--r,++n);for(var i=Za.concat([Za.from([0]),t.s]),a=33,s=0;a>1&&i[s]===0&&!(i[s+1]&128);--a,++s);return bH.encode(e.slice(n),i.slice(s))};T0.signatureImport=function(t){var e=Za.alloc(32,0),r=Za.alloc(32,0);try{var n=bH.decode(t);if(n.r.length===33&&n.r[0]===0&&(n.r=n.r.slice(1)),n.r.length>32)throw new Error("R length is too long");if(n.s.length===33&&n.s[0]===0&&(n.s=n.s.slice(1)),n.s.length>32)throw new Error("S length is too long")}catch{return}return n.r.copy(e,32-n.r.length),n.s.copy(r,32-n.s.length),{r:e,s:r}};T0.signatureImportLax=function(t){var e=Za.alloc(32,0),r=Za.alloc(32,0),n=t.length,i=0;if(t[i++]===48){var a=t[i++];if(!(a&128&&(i+=a-128,i>n))&&t[i++]===2){var s=t[i++];if(s&128){if(a=s-128,i+a>n)return;for(;a>0&&t[i]===0;i+=1,a-=1);for(s=0;a>0;i+=1,a-=1)s=(s<<8)+t[i]}if(!(s>n-i)){var o=i;if(i+=s,t[i++]===2){var f=t[i++];if(f&128){if(a=f-128,i+a>n)return;for(;a>0&&t[i]===0;i+=1,a-=1);for(f=0;a>0;i+=1,a-=1)f=(f<<8)+t[i]}if(!(f>n-i)){var c=i;for(i+=f;s>0&&t[o]===0;s-=1,o+=1);if(!(s>32)){var u=t.slice(o,o+s);for(u.copy(e,32-u.length);f>0&&t[c]===0;f-=1,c+=1);if(!(f>32)){var l=t.slice(c,c+f);return l.copy(r,32-l.length),{r:e,s:r}}}}}}}}};const Ane="compressed should be a boolean",Ene="private key should be a Buffer",xne="private key length is invalid",Sne="private key range is invalid",Ine="tweak out of range or resulting private key is invalid",Cne="tweak out of range",Tne="couldn't export to DER format",One="couldn't import from DER format",Bne="public keys should be an Array",Dne="public keys Array should have at least 1 element",Mne="public key should be a Buffer",Rne="public key length is invalid",Lne="the public key could not be parsed or is invalid",Hne="private was invalid, try again",Pne="tweak out of range or resulting public key is invalid",Nne="tweak out of range",Une="the sum of the public keys is not valid",kne="scalar was invalid (zero or overflow)",zne="signature should be a Buffer",jne="signature length is invalid",Fne="couldn't parse signature",$ne="couldn't parse DER signature",qne="couldn't serialize signature to DER format",Kne="nonce generation function failed or private key is invalid",Qne="couldn't recover public key from signature",Vne="message should be a Buffer",Yne="message length is invalid",Gne="options should be an Object",Wne="options.data should be a Buffer",Xne="options.data length is invalid",Zne="options.noncefn should be a Function",Jne="recovery should be a Number",eie="recovery should have value between -1 and 4",tie="tweak should be a Buffer",rie="tweak length is invalid",gH={COMPRESSED_TYPE_INVALID:Ane,EC_PRIVATE_KEY_TYPE_INVALID:Ene,EC_PRIVATE_KEY_LENGTH_INVALID:xne,EC_PRIVATE_KEY_RANGE_INVALID:Sne,EC_PRIVATE_KEY_TWEAK_ADD_FAIL:Ine,EC_PRIVATE_KEY_TWEAK_MUL_FAIL:Cne,EC_PRIVATE_KEY_EXPORT_DER_FAIL:Tne,EC_PRIVATE_KEY_IMPORT_DER_FAIL:One,EC_PUBLIC_KEYS_TYPE_INVALID:Bne,EC_PUBLIC_KEYS_LENGTH_INVALID:Dne,EC_PUBLIC_KEY_TYPE_INVALID:Mne,EC_PUBLIC_KEY_LENGTH_INVALID:Rne,EC_PUBLIC_KEY_PARSE_FAIL:Lne,EC_PUBLIC_KEY_CREATE_FAIL:Hne,EC_PUBLIC_KEY_TWEAK_ADD_FAIL:Pne,EC_PUBLIC_KEY_TWEAK_MUL_FAIL:Nne,EC_PUBLIC_KEY_COMBINE_FAIL:Une,ECDH_FAIL:kne,ECDSA_SIGNATURE_TYPE_INVALID:zne,ECDSA_SIGNATURE_LENGTH_INVALID:jne,ECDSA_SIGNATURE_PARSE_FAIL:Fne,ECDSA_SIGNATURE_PARSE_DER_FAIL:$ne,ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:qne,ECDSA_SIGN_FAIL:Kne,ECDSA_RECOVER_FAIL:Qne,MSG32_TYPE_INVALID:Vne,MSG32_LENGTH_INVALID:Yne,OPTIONS_TYPE_INVALID:Gne,OPTIONS_DATA_TYPE_INVALID:Wne,OPTIONS_DATA_LENGTH_INVALID:Xne,OPTIONS_NONCEFN_TYPE_INVALID:Zne,RECOVERY_ID_TYPE_INVALID:Jne,RECOVERY_ID_VALUE_INVALID:eie,TWEAK_TYPE_INVALID:tie,TWEAK_LENGTH_INVALID:rie};var xe=hs,_h=T0,we=gH;function _f(t,e){return t===void 0?e:(xe.isBoolean(t,we.COMPRESSED_TYPE_INVALID),t)}var nie=function(t){return{privateKeyVerify:function(e){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),e.length===32&&t.privateKeyVerify(e)},privateKeyExport:function(e,r){xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),r=_f(r,!0);var n=t.privateKeyExport(e,r);return _h.privateKeyExport(e,n,r)},privateKeyImport:function(e){if(xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),e=_h.privateKeyImport(e),e&&e.length===32&&t.privateKeyVerify(e))return e;throw new Error(we.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyNegate(e)},privateKeyModInverse:function(e){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,r){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),t.privateKeyTweakAdd(e,r)},privateKeyTweakMul:function(e,r){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),t.privateKeyTweakMul(e,r)},publicKeyCreate:function(e,r){return xe.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),r=_f(r,!0),t.publicKeyCreate(e,r)},publicKeyConvert:function(e,r){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),r=_f(r,!0),t.publicKeyConvert(e,r)},publicKeyVerify:function(e){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),t.publicKeyVerify(e)},publicKeyTweakAdd:function(e,r,n){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),n=_f(n,!0),t.publicKeyTweakAdd(e,r,n)},publicKeyTweakMul:function(e,r,n){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.TWEAK_TYPE_INVALID),xe.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),n=_f(n,!0),t.publicKeyTweakMul(e,r,n)},publicKeyCombine:function(e,r){xe.isArray(e,we.EC_PUBLIC_KEYS_TYPE_INVALID),xe.isLengthGTZero(e,we.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var n=0;n<e.length;++n)xe.isBuffer(e[n],we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e[n],33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID);return r=_f(r,!0),t.publicKeyCombine(e,r)},signatureNormalize:function(e){return xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(e,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),t.signatureNormalize(e)},signatureExport:function(e){xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(e,64,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=t.signatureExport(e);return _h.signatureExport(r)},signatureImport:function(e){xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isLengthGTZero(e,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=_h.signatureImport(e);if(r)return t.signatureImport(r);throw new Error(we.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){xe.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isLengthGTZero(e,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=_h.signatureImportLax(e);if(r)return t.signatureImport(r);throw new Error(we.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,r,n){xe.isBuffer(e,we.MSG32_TYPE_INVALID),xe.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),xe.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID);var i=null,a=null;return n!==void 0&&(xe.isObject(n,we.OPTIONS_TYPE_INVALID),n.data!==void 0&&(xe.isBuffer(n.data,we.OPTIONS_DATA_TYPE_INVALID),xe.isBufferLength(n.data,32,we.OPTIONS_DATA_LENGTH_INVALID),i=n.data),n.noncefn!==void 0&&(xe.isFunction(n.noncefn,we.OPTIONS_NONCEFN_TYPE_INVALID),a=n.noncefn)),t.sign(e,r,a,i)},verify:function(e,r,n){return xe.isBuffer(e,we.MSG32_TYPE_INVALID),xe.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),xe.isBuffer(r,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(r,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),xe.isBuffer(n,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(n,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),t.verify(e,r,n)},recover:function(e,r,n,i){return xe.isBuffer(e,we.MSG32_TYPE_INVALID),xe.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),xe.isBuffer(r,we.ECDSA_SIGNATURE_TYPE_INVALID),xe.isBufferLength(r,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),xe.isNumber(n,we.RECOVERY_ID_TYPE_INVALID),xe.isNumberInInterval(n,-1,4,we.RECOVERY_ID_VALUE_INVALID),i=_f(i,!0),t.recover(e,r,n,i)},ecdh:function(e,r){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.ecdh(e,r)},ecdhUnsafe:function(e,r,n){return xe.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),xe.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),xe.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),xe.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),n=_f(n,!0),t.ecdhUnsafe(e,r,n)}}},yH={},vH={};const iie="elliptic",aie="6.6.1",sie="EC cryptography",oie="lib/elliptic.js",fie=["lib"],cie={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},uie={type:"git",url:"git@github.com:indutny/elliptic"},lie=["EC","Elliptic","curve","Cryptography"],die="Fedor Indutny <fedor@indutny.com>",hie="MIT",pie={url:"https://github.com/indutny/elliptic/issues"},bie="https://github.com/indutny/elliptic",gie={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},yie={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},vie={name:iie,version:aie,description:sie,main:oie,files:fie,scripts:cie,repository:uie,keywords:lie,author:die,license:hie,bugs:pie,homepage:bie,devDependencies:gie,dependencies:yie};var Fi={};(function(t){var e=t,r=Cr,n=Ic,i=nv;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(u,l,p){var g=new Array(Math.max(u.bitLength(),p)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var A=1<<l+1,S=u.clone();for(m=0;m<g.length;m++){var w,C=S.andln(A-1);S.isOdd()?(C>(A>>1)-1?w=(A>>1)-C:w=C,S.isubn(w)):w=0,g[m]=w,S.iushrn(1)}return g}e.getNAF=a;function s(u,l){var p=[[],[]];u=u.clone(),l=l.clone();for(var g=0,m=0,A;u.cmpn(-g)>0||l.cmpn(-m)>0;){var S=u.andln(3)+g&3,w=l.andln(3)+m&3;S===3&&(S=-1),w===3&&(w=-1);var C;S&1?(A=u.andln(7)+g&7,(A===3||A===5)&&w===2?C=-S:C=S):C=0,p[0].push(C);var O;w&1?(A=l.andln(7)+m&7,(A===3||A===5)&&S===2?O=-w:O=w):O=0,p[1].push(O),2*g===C+1&&(g=1-g),2*m===O+1&&(m=1-m),u.iushrn(1),l.iushrn(1)}return p}e.getJSF=s;function o(u,l,p){var g="_"+l;u.prototype[l]=function(){return this[g]!==void 0?this[g]:this[g]=p.call(this)}}e.cachedProperty=o;function f(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=f;function c(u){return new r(u,"hex","le")}e.intFromLE=c})(Fi);var ww={},Hc=Cr,ib=Fi,Uy=ib.getNAF,_ie=ib.getJSF,ky=ib.assert;function Oc(t,e){this.type=t,this.p=new Hc(e.p,16),this.red=e.prime?Hc.red(e.prime):Hc.mont(this.p),this.zero=new Hc(0).toRed(this.red),this.one=new Hc(1).toRed(this.red),this.two=new Hc(2).toRed(this.red),this.n=e.n&&new Hc(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ov=Oc;Oc.prototype.point=function(){throw new Error("Not implemented")};Oc.prototype.validate=function(){throw new Error("Not implemented")};Oc.prototype._fixedNafMul=function(e,r){ky(e.precomputed);var n=e._getDoubles(),i=Uy(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),p=a;p>0;p--){for(o=0;o<s.length;o++)f=s[o],f===p?l=l.mixedAdd(n.points[o]):f===-p&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Oc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Uy(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];ky(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Oc.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,l,p;for(u=0;u<i;u++){p=r[u];var g=p._getNAFPoints(e);s[u]=g.wnd,o[u]=g.points}for(u=i-1;u>=1;u-=2){var m=u-1,A=u;if(s[m]!==1||s[A]!==1){f[m]=Uy(n[m],s[m],this._bitLength),f[A]=Uy(n[A],s[A],this._bitLength),c=Math.max(f[m].length,c),c=Math.max(f[A].length,c);continue}var S=[r[m],null,null,r[A]];r[m].y.cmp(r[A].y)===0?(S[1]=r[m].add(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg())):r[m].y.cmp(r[A].y.redNeg())===0?(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].add(r[A].neg())):(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=_ie(n[m],n[A]);for(c=Math.max(C[0].length,c),f[m]=new Array(c),f[A]=new Array(c),l=0;l<c;l++){var O=C[0][l]|0,M=C[1][l]|0;f[m][l]=w[(O+1)*3+(M+1)],f[A][l]=0,o[m]=S}}var N=this.jpoint(null,null,null),K=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var j=!0;for(l=0;l<i;l++)K[l]=f[l][u]|0,K[l]!==0&&(j=!1);if(!j)break;Q++,u--}if(u>=0&&Q++,N=N.dblp(Q),u<0)break;for(l=0;l<i;l++){var G=K[l];G!==0&&(G>0?p=o[l][G-1>>1]:G<0&&(p=o[l][-G-1>>1].neg()),p.type==="affine"?N=N.mixedAdd(p):N=N.add(p))}}for(u=0;u<i;u++)o[u]=null;return a?N:N.toP()};function La(t,e){this.curve=t,this.type=e,this.precomputed=null}Oc.BasePoint=La;La.prototype.eq=function(){throw new Error("Not implemented")};La.prototype.validate=function(){return this.curve.validate(this)};Oc.prototype.decodePoint=function(e,r){e=ib.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?ky(e[e.length-1]%2===0):e[0]===7&&ky(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};La.prototype.encodeCompressed=function(e){return this.encode(e,!0)};La.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};La.prototype.encode=function(e,r){return ib.encode(this._encode(r),e)};La.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};La.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};La.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};La.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};La.prototype._getBeta=function(){return null};La.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var mie=Fi,cr=Cr,Aw=Gt,O0=Ov,wie=mie.assert;function Ha(t){O0.call(this,"short",t),this.a=new cr(t.a,16).toRed(this.red),this.b=new cr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Aw(Ha,O0);var Aie=Ha;Ha.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new cr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new cr(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],wie(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new cr(o.a,16),b:new cr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ha.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:cr.mont(e),n=new cr(2).toRed(r).redInvm(),i=n.redNeg(),a=new cr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ha.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new cr(1),s=new cr(0),o=new cr(0),f=new cr(1),c,u,l,p,g,m,A,S=0,w,C;n.cmpn(0)!==0;){var O=i.div(n);w=i.sub(O.mul(n)),C=o.sub(O.mul(a));var M=f.sub(O.mul(s));if(!l&&w.cmp(r)<0)c=A.neg(),u=a,l=w.neg(),p=C;else if(l&&++S===2)break;A=w,i=n,n=w,o=a,a=C,f=s,s=M}g=w.neg(),m=C;var N=l.sqr().add(p.sqr()),K=g.sqr().add(m.sqr());return K.cmp(N)>=0&&(g=c,m=u),l.negative&&(l=l.neg(),p=p.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:l,b:p},{a:g,b:m}]};Ha.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),l=e.sub(o).sub(f),p=c.add(u).neg();return{k1:l,k2:p}};Ha.prototype.pointFromX=function(e,r){e=new cr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Ha.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ha.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function Qr(t,e,r,n){O0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new cr(e,16),this.y=new cr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Aw(Qr,O0.BasePoint);Ha.prototype.point=function(e,r,n){return new Qr(this,e,r,n)};Ha.prototype.pointFromJSON=function(e,r){return Qr.fromJSON(this,e,r)};Qr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qr.prototype.isInfinity=function(){return this.inf};Qr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Qr.prototype.getX=function(){return this.x.fromRed()};Qr.prototype.getY=function(){return this.y.fromRed()};Qr.prototype.mul=function(e){return e=new cr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Qr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Qr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function sn(t,e,r,n){O0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new cr(0)):(this.x=new cr(e,16),this.y=new cr(r,16),this.z=new cr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Aw(sn,O0.BasePoint);Ha.prototype.jpoint=function(e,r,n){return new sn(this,e,r,n)};sn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};sn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};sn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),p=i.redMul(u),g=c.redSqr().redIAdd(l).redISub(p).redISub(p),m=c.redMul(p.redISub(g)).redISub(s.redMul(l)),A=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(g,m,A)};sn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),p=f.redSqr().redIAdd(u).redISub(l).redISub(l),g=f.redMul(l.redISub(p)).redISub(a.redMul(u)),m=this.z.redMul(o);return this.curve.jpoint(p,g,m)};sn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),p=u.redSqr(),g=p.redSqr(),m=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),A=s.redMul(p),S=m.redSqr().redISub(A.redAdd(A)),w=A.redISub(S),C=m.redMul(w);C=C.redIAdd(C).redISub(g);var O=u.redMul(f);r+1<e&&(c=c.redMul(g)),s=S,f=O,u=C}return this.curve.jpoint(s,u.redMul(a),f)};sn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};sn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),m=this.x.redAdd(p).redSqr().redISub(l).redISub(g);m=m.redIAdd(m);var A=l.redAdd(l).redIAdd(l),S=A.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=S.redISub(m).redISub(m),r=A.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};sn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),g=this.x.redMul(p),m=this.x.redSub(l).redMul(this.x.redAdd(l));m=m.redAdd(m).redIAdd(m);var A=g.redIAdd(g);A=A.redIAdd(A);var S=A.redAdd(A);e=m.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var w=p.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(A.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};sn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),l=f.redSqr().redISub(u.redAdd(u)),p=u.redISub(l),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=f.redMul(p).redISub(g),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,m,A)};sn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(f).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(p,g,m)};sn.prototype.mul=function(e,r){return e=new cr(e,r),this.curve._wnafMul(this,e)};sn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};sn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};sn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};sn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Dl=Cr,_H=Gt,Bv=Ov,Eie=Fi;function B0(t){Bv.call(this,"mont",t),this.a=new Dl(t.a,16).toRed(this.red),this.b=new Dl(t.b,16).toRed(this.red),this.i4=new Dl(4).toRed(this.red).redInvm(),this.two=new Dl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}_H(B0,Bv);var xie=B0;B0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function qr(t,e,r){Bv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Dl(e,16),this.z=new Dl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}_H(qr,Bv.BasePoint);B0.prototype.decodePoint=function(e,r){return this.point(Eie.toArray(e,r),1)};B0.prototype.point=function(e,r){return new qr(this,e,r)};B0.prototype.pointFromJSON=function(e){return qr.fromJSON(this,e)};qr.prototype.precompute=function(){};qr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};qr.fromJSON=function(e,r){return new qr(e,r[0],r[1]||e.one)};qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};qr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};qr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};qr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};qr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};qr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};qr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};qr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};qr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};qr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};qr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Sie=Fi,Bo=Cr,mH=Gt,Dv=Ov,Iie=Sie.assert;function eo(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Dv.call(this,"edwards",t),this.a=new Bo(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Bo(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Bo(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Iie(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}mH(eo,Dv);var Cie=eo;eo.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};eo.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};eo.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};eo.prototype.pointFromX=function(e,r){e=new Bo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};eo.prototype.pointFromY=function(e,r){e=new Bo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};eo.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function xt(t,e,r,n,i){Dv.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Bo(e,16),this.y=new Bo(r,16),this.z=n?new Bo(n,16):this.curve.one,this.t=i&&new Bo(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}mH(xt,Dv.BasePoint);eo.prototype.pointFromJSON=function(e){return xt.fromJSON(this,e)};eo.prototype.point=function(e,r,n,i){return new xt(this,e,r,n,i)};xt.fromJSON=function(e,r){return new xt(e,r[0],r[1],r[2])};xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};xt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};xt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),l=a.redMul(f),p=o.redMul(s);return this.curve.point(c,u,p,l)};xt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};xt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),l=f.redMul(c),p=s.redMul(c),g=o.redMul(f);return this.curve.point(u,l,g,p)};xt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),l,p;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),p=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),p=this.curve._mulC(o).redMul(f)),this.curve.point(u,l,p)};xt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};xt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};xt.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};xt.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};xt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};xt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};xt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};xt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};xt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};xt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};xt.prototype.toP=xt.prototype.normalize;xt.prototype.mixedAdd=xt.prototype.add;(function(t){var e=t;e.base=Ov,e.short=Aie,e.mont=xie,e.edwards=Cie})(ww);var Mv={},Mm,Fx;function Tie(){return Fx||(Fx=1,Mm={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Mm}(function(t){var e=t,r=A0,n=ww,i=Fi,a=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=Tie()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(Mv);var Oie=Cr,Bie=Fi,$6=Bie.assert;function Cn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Die=Cn;Cn.fromPublic=function(e,r,n){return r instanceof Cn?r:new Cn(e,{pub:r,pubEnc:n})};Cn.fromPrivate=function(e,r,n){return r instanceof Cn?r:new Cn(e,{priv:r,privEnc:n})};Cn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Cn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Cn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Cn.prototype._importPrivate=function(e,r){this.priv=new Oie(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Cn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?$6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&$6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Cn.prototype.derive=function(e){return e.validate()||$6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Cn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Cn.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Cn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var zy=Cr,Ew=Fi,Mie=Ew.assert;function Rv(t,e){if(t instanceof Rv)return t;this._importDER(t,e)||(Mie(t.r&&t.s,"Signature without r or s"),this.r=new zy(t.r,16),this.s=new zy(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Rie=Rv;function Lie(){this.place=0}function Rm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function $x(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Rv.prototype._importDER=function(e,r){e=Ew.toArray(e,r);var n=new Lie;if(e[n.place++]!==48)return!1;var i=Rm(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Rm(e,n);if(a===!1||e[n.place]&128)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Rm(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new zy(s),this.s=new zy(f),this.recoveryParam=null,!0};function Lm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Rv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=$x(r),n=$x(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Lm(i,r.length),i=i.concat(r),i.push(2),Lm(i,n.length);var a=i.concat(n),s=[48];return Lm(s,a.length),s=s.concat(a),Ew.encode(s,e)};var Ja=Cr,wH=aL,Hie=Fi,Hm=Mv,Pie=iv,qc=Hie.assert,xw=Die,Lv=Rie;function Sa(t){if(!(this instanceof Sa))return new Sa(t);typeof t=="string"&&(qc(Object.prototype.hasOwnProperty.call(Hm,t),"Unknown curve "+t),t=Hm[t]),t instanceof Hm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Nie=Sa;Sa.prototype.keyPair=function(e){return new xw(this,e)};Sa.prototype.keyFromPrivate=function(e,r){return xw.fromPrivate(this,e,r)};Sa.prototype.keyFromPublic=function(e,r){return xw.fromPublic(this,e,r)};Sa.prototype.genKeyPair=function(e){e||(e={});for(var r=new wH({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Pie(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ja(2));;){var a=new Ja(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Sa.prototype._truncateToN=function(e,r,n){var i;if(Ja.isBN(e)||typeof e=="number")e=new Ja(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Ja(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new Ja(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Sa.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Ja.isBN(e)){qc(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),qc(e.length>>>0===e.length);for(var a=0;a<e.length;a++)qc((e[a]&255)===e[a])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),qc(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),f=e.toArray("be",s);qc(new Ja(f).eq(e),"Can not sign message");for(var c=new wH({hash:this.hash,entropy:o,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Ja(1)),l=0;;l++){var p=i.k?i.k(l):new Ja(c.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(u)>=0)){var g=this.g.mul(p);if(!g.isInfinity()){var m=g.getX(),A=m.umod(this.n);if(A.cmpn(0)!==0){var S=p.invm(this.n).mul(A.mul(r.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var w=(g.getY().isOdd()?1:0)|(m.cmp(A)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),w^=1),new Lv({r:A,s:S,recoveryParam:w})}}}}}};Sa.prototype.verify=function(e,r,n,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new Lv(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),c=f.mul(e).umod(this.n),u=f.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};Sa.prototype.recoverPubKey=function(t,e,r,n){qc((3&r)===r,"The recovery param is more than two bits"),e=new Lv(e,n);var i=this.n,a=new Ja(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),p=o.mul(u).umod(i);return this.g.mulAdd(l,s,p)};Sa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Lv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ab=Fi,AH=ab.assert,qx=ab.parseBytes,D0=ab.cachedProperty;function Fr(t,e){this.eddsa=t,this._secret=qx(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=qx(e.pub)}Fr.fromPublic=function(e,r){return r instanceof Fr?r:new Fr(e,{pub:r})};Fr.fromSecret=function(e,r){return r instanceof Fr?r:new Fr(e,{secret:r})};Fr.prototype.secret=function(){return this._secret};D0(Fr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});D0(Fr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});D0(Fr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});D0(Fr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});D0(Fr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});D0(Fr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Fr.prototype.sign=function(e){return AH(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Fr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Fr.prototype.getSecret=function(e){return AH(this._secret,"KeyPair is public only"),ab.encode(this.secret(),e)};Fr.prototype.getPublic=function(e){return ab.encode(this.pubBytes(),e)};var Uie=Fr,kie=Cr,Hv=Fi,Kx=Hv.assert,Pv=Hv.cachedProperty,zie=Hv.parseBytes;function Gu(t,e){this.eddsa=t,typeof e!="object"&&(e=zie(e)),Array.isArray(e)&&(Kx(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Kx(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof kie&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Pv(Gu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Pv(Gu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Pv(Gu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Pv(Gu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Gu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Gu.prototype.toHex=function(){return Hv.encode(this.toBytes(),"hex").toUpperCase()};var jie=Gu,Fie=A0,$ie=Mv,Gd=Fi,qie=Gd.assert,EH=Gd.parseBytes,xH=Uie,Qx=jie;function li(t){if(qie(t==="ed25519","only tested with ed25519 so far"),!(this instanceof li))return new li(t);t=$ie[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Fie.sha512}var Kie=li;li.prototype.sign=function(e,r){e=EH(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};li.prototype.verify=function(e,r,n){if(e=EH(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};li.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Gd.intFromLE(e.digest()).umod(this.curve.n)};li.prototype.keyFromPublic=function(e){return xH.fromPublic(this,e)};li.prototype.keyFromSecret=function(e){return xH.fromSecret(this,e)};li.prototype.makeSignature=function(e){return e instanceof Qx?e:new Qx(this,e)};li.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};li.prototype.decodePoint=function(e){e=Gd.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Gd.intFromLE(n);return this.curve.pointFromY(a,i)};li.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};li.prototype.decodeInt=function(e){return Gd.intFromLE(e)};li.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=vie.version,e.utils=Fi,e.rand=iv,e.curve=ww,e.curves=Mv,e.ec=Nie,e.eddsa=Kie})(vH);(function(t){var e=an.Buffer,r=mw,n=Cr,i=vH.ec,a=gH,s=new i("secp256k1"),o=s.curve;function f(l,p){var g=new n(p);if(g.cmp(o.p)>=0)return null;g=g.toRed(o.red);var m=g.redSqr().redIMul(g).redIAdd(o.b).redSqrt();l===3!==m.isOdd()&&(m=m.redNeg());const A=g.redSqr().redIMul(g);return m.redSqr().redISub(A.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:g,y:m}}):null}function c(l,p,g){var m=new n(p),A=new n(g);if(m.cmp(o.p)>=0||A.cmp(o.p)>=0||(m=m.toRed(o.red),A=A.toRed(o.red),(l===6||l===7)&&A.isOdd()!==(l===7)))return null;var S=m.redSqr().redIMul(m);return A.redSqr().redISub(S.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:m,y:A}}):null}function u(l){var p=l[0];switch(p){case 2:case 3:return l.length!==33?null:f(p,l.slice(1,33));case 4:case 6:case 7:return l.length!==65?null:c(p,l.slice(1,33),l.slice(33,65));default:return null}}t.privateKeyVerify=function(l){var p=new n(l);return p.cmp(o.n)<0&&!p.isZero()},t.privateKeyExport=function(l,p){var g=new n(l);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return e.from(s.keyFromPrivate(l).getPublic(p,!0))},t.privateKeyNegate=function(l){var p=new n(l);return p.isZero()?e.alloc(32):o.n.sub(p).umod(o.n).toArrayLike(e,"be",32)},t.privateKeyModInverse=function(l){var p=new n(l);if(p.cmp(o.n)>=0||p.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return p.invm(o.n).toArrayLike(e,"be",32)},t.privateKeyTweakAdd=function(l,p){var g=new n(p);if(g.cmp(o.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(g.iadd(new n(l)),g.cmp(o.n)>=0&&g.isub(o.n),g.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return g.toArrayLike(e,"be",32)},t.privateKeyTweakMul=function(l,p){var g=new n(p);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return g.imul(new n(l)),g.cmp(o.n)&&(g=g.umod(o.n)),g.toArrayLike(e,"be",32)},t.publicKeyCreate=function(l,p){var g=new n(l);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return e.from(s.keyFromPrivate(l).getPublic(p,!0))},t.publicKeyConvert=function(l,p){var g=u(l);if(g===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return e.from(g.getPublic(p,!0))},t.publicKeyVerify=function(l){return u(l)!==null},t.publicKeyTweakAdd=function(l,p,g){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(p=new n(p),p.cmp(o.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var A=o.g.mul(p).add(m.pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return e.from(A.encode(!0,g))},t.publicKeyTweakMul=function(l,p,g){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(p=new n(p),p.cmp(o.n)>=0||p.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return e.from(m.pub.mul(p).encode(!0,g))},t.publicKeyCombine=function(l,p){for(var g=new Array(l.length),m=0;m<l.length;++m)if(g[m]=u(l[m]),g[m]===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var A=g[0].pub,S=1;S<g.length;++S)A=A.add(g[S].pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return e.from(A.encode(!0,p))},t.signatureNormalize=function(l){var p=new n(l.slice(0,32)),g=new n(l.slice(32,64));if(p.cmp(o.n)>=0||g.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var m=e.from(l);return g.cmp(s.nh)===1&&o.n.sub(g).toArrayLike(e,"be",32).copy(m,32),m},t.signatureExport=function(l){var p=l.slice(0,32),g=l.slice(32,64);if(new n(p).cmp(o.n)>=0||new n(g).cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:p,s:g}},t.signatureImport=function(l){var p=new n(l.r);p.cmp(o.n)>=0&&(p=new n(0));var g=new n(l.s);return g.cmp(o.n)>=0&&(g=new n(0)),e.concat([p.toArrayLike(e,"be",32),g.toArrayLike(e,"be",32)])},t.sign=function(l,p,g,m){if(typeof g=="function"){var A=g;g=function(C){var O=A(l,p,null,m,C);if(!e.isBuffer(O)||O.length!==32)throw new Error(a.ECDSA_SIGN_FAIL);return new n(O)}}var S=new n(p);if(S.cmp(o.n)>=0||S.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var w=s.sign(l,p,{canonical:!0,k:g,pers:m});return{signature:e.concat([w.r.toArrayLike(e,"be",32),w.s.toArrayLike(e,"be",32)]),recovery:w.recoveryParam}},t.verify=function(l,p,g){var m={r:p.slice(0,32),s:p.slice(32,64)},A=new n(m.r),S=new n(m.s);if(A.cmp(o.n)>=0||S.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(S.cmp(s.nh)===1||A.isZero()||S.isZero())return!1;var w=u(g);if(w===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return s.verify(l,m,{x:w.pub.x,y:w.pub.y})},t.recover=function(l,p,g,m){var A={r:p.slice(0,32),s:p.slice(32,64)},S=new n(A.r),w=new n(A.s);if(S.cmp(o.n)>=0||w.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(S.isZero()||w.isZero())throw new Error;var C=s.recoverPubKey(l,A,g);return e.from(C.encode(!0,m))}catch{throw new Error(a.ECDSA_RECOVER_FAIL)}},t.ecdh=function(l,p){var g=t.ecdhUnsafe(l,p,!0);return r("sha256").update(g).digest()},t.ecdhUnsafe=function(l,p,g){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var A=new n(p);if(A.cmp(o.n)>=0||A.isZero())throw new Error(a.ECDH_FAIL);return e.from(m.pub.mul(A).encode(!0,g))}})(yH);var Qie=nie(yH),q6=an.Buffer,Vie=9007199254740991;function Sw(t){if(t<0||t>Vie||t%1!==0)throw new RangeError("value out of range")}function Lh(t,e,r){if(Sw(t),e||(e=q6.allocUnsafe(SH(t))),!q6.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Lh.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Lh.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Lh.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Lh.bytes=9),e}function Hh(t,e){if(!q6.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Hh.bytes=1,r;if(r===253)return Hh.bytes=3,t.readUInt16LE(e+1);if(r===254)return Hh.bytes=5,t.readUInt32LE(e+1);Hh.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),a=i*4294967296+n;return Sw(a),a}function SH(t){return Sw(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var Yie={encode:Lh,decode:Hh,encodingLength:SH};const Pm=ane,Vx=hne,rg=pne,IH=mw,Iw=Qie,Yx=Yie,qf={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function K6(t){return IH("sha256").update(t).digest()}function Gie(t){return K6(K6(t))}function CH(t){return IH("ripemd160").update(K6(t)).digest()}function TH(t,e,r,n){return n!==void 0?(e+=8,n===qf.P2WPKH&&(e+=4)):r&&(e+=4),Buffer.concat([Buffer.alloc(1,e+27),t])}function Wie(t){if(t.length!==65)throw new Error("Invalid signature length");const e=t.readUInt8(0)-27;if(e>15||e<0)throw new Error("Invalid signature parameter");return{compressed:!!(e&12),segwitType:e&8?e&4?qf.P2WPKH:qf.P2SH_P2WPKH:null,recovery:e&3,signature:t.slice(1)}}function Nv(t,e){e=e||`Bitcoin Signed Message:
`,Buffer.isBuffer(e)||(e=Buffer.from(e,"utf8")),Buffer.isBuffer(t)||(t=Buffer.from(t,"utf8"));const r=Yx.encodingLength(t.length),n=Buffer.allocUnsafe(e.length+r+t.length);return e.copy(n,0),Yx.encode(t.length,n,e.length),t.copy(n,e.length+r),Gie(n)}function OH(t,e){typeof t=="object"&&e===void 0&&(e=t,t=void 0);let{segwitType:r,extraEntropy:n}=e||{};if(r&&(typeof r=="string"||r instanceof String)&&(r=r.toLowerCase()),r&&r!==qf.P2SH_P2WPKH&&r!==qf.P2WPKH)throw new Error('Unrecognized segwitType: use "'+qf.P2SH_P2WPKH+'" or "'+qf.P2WPKH+'"');return{messagePrefixArg:t,segwitType:r,extraEntropy:n}}function BH(t){return t&&typeof t.sign=="function"}function Xie(t,e,r,n,i){const{messagePrefixArg:a,segwitType:s,extraEntropy:o}=OH(n,i),f=Nv(t,a),c=BH(e)?e.sign(f,o):Iw.sign(f,e,{data:o});return TH(c.signature,c.recovery,r,s)}function Zie(t,e,r,n,i){let a,s,o;return Promise.resolve().then(()=>{({messagePrefixArg:a,segwitType:s,extraEntropy:o}=OH(n,i));const f=Nv(t,a);return BH(e)?e.sign(f,o):Iw.sign(f,e,{data:o})}).then(f=>TH(f.signature,f.recovery,r,s))}function Gx(t){const e=Buffer.concat([Buffer.from("0014","hex"),t]);return CH(e)}function Wx(t){const e=Vx.decode(t),r=Vx.fromWords(e.words.slice(1));return Buffer.from(r)}function Jie(t,e,r,n,i){Buffer.isBuffer(r)||(r=Buffer.from(r,"base64"));const a=Wie(r);if(i&&!a.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const s=Nv(t,n),o=Iw.recover(s,a.signature,a.recovery,a.compressed),f=CH(o);let c,u;if(a.segwitType)a.segwitType===qf.P2SH_P2WPKH?(c=Gx(f),u=Pm.decode(e).slice(1)):(c=f,u=Wx(e));else if(i)try{return u=Wx(e),rg(f,u)}catch{const p=Gx(f);return u=Pm.decode(e).slice(1),rg(f,u)||rg(p,u)}else c=f,u=Pm.decode(e).slice(1);return rg(c,u)}var eae={magicHash:Nv,sign:Xie,signAsync:Zie,verify:Jie};function tae(t,e,r){const n=typeof t=="string"?t:me(t).slice(2),[i,...a]=Te(e,"base64");return kd.verify(Te(a),eae.magicHash(n),r)}class rae extends bc{get signType(){return si.Unknown}constructor(e,r){super(e),this.type=r}async isConnected(){return!1}async getInternalAddress(){throw new Error("Can't get address from SignerDummy")}async getAddressObjs(){throw new Error("Can't get addresses from SignerDummy")}}class nae extends rae{constructor(e,r,n){super(e,r),this.message=n}async connect(){throw new Error(this.message)}}class iae extends bc{get type(){return as.EVM}get signType(){return si.EvmPersonal}async getInternalAddress(){return this.getEvmAccount()}async getAddressObjs(){const e=await this.getEvmAccount();return(await Promise.all([this._getOmniLockAddresses(e),this._getPWLockAddresses(e)])).flat()}_getOmniLockAddresses(e){return Promise.all([this._getOmniLockEvmAddressObj(e),this._getOmniLockOldEvmAddressObj(e)])}async _getPWLockAddresses(e){const r=await this._getPWLockEvmAddressObj(e);return r?[r]:[]}async _getOmniLockEvmAddressObj(e){return ca.fromKnownScript(this.client,De.OmniLock,me([18,...Te(e),0]))}async _getOmniLockOldEvmAddressObj(e){return ca.fromKnownScript(this.client,De.OmniLock,me([1,...Te(e),0]))}async _getPWLockEvmAddressObj(e){try{return ca.fromKnownScript(this.client,De.PWLock,me(Te(e)))}catch{}}async prepareTransaction(e){const r=Ut.from(e);await r.findInputIndexByLockId(await this.client.getKnownScript(De.OmniLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,De.OmniLock),await r.findInputIndexByLockId(await this.client.getKnownScript(De.PWLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,De.PWLock);const n=await this.getEvmAccount(),i=await this._getOmniLockAddresses(n),a=await this._getPWLockAddresses(n),s=Ld(i,(o,{script:f})=>o.prepareSighashAllWitness(f,85,this.client),r);return Ld(a,(o,{script:f})=>o.prepareSighashAllWitness(f,65,this.client),s)}async signOnlyTransaction(e){let r=Ut.from(e);const n=await this.getEvmAccount(),{script:i}=await this._getOmniLockEvmAddressObj(n),{script:a}=await this._getOmniLockOldEvmAddressObj(n);r=await this._signOmniLockScriptForTransaction(r,i,o=>`CKB transaction: ${o}`),r=await this._signOmniLockScriptForTransaction(r,a,o=>Te(o));const s=await this._getPWLockEvmAddressObj(n);return s&&(r=await this._signPWLockScriptForTransaction(r,s.script,o=>Te(o))),r}async _signOmniLockScriptForTransaction(e,r,n){const i=await this._signPersonalEvmForTransaction(e,r,n);if(!i)return e;const a=is.fromBytes(e.witnesses[i.position]);return a.lock=me(j1(mn(5*4+i.signature.length,4),mn(4*4,4),mn(5*4+i.signature.length,4),mn(5*4+i.signature.length,4),mn(i.signature.length,4),i.signature)),e.setWitnessArgsAt(i.position,a),e}async _signPWLockScriptForTransaction(e,r,n){const i=await this._signPersonalEvmForTransaction(e,r,n,new OY);if(!i)return e;const a=is.fromBytes(e.witnesses[i.position]);return a.lock=me(i.signature),e.setWitnessArgsAt(i.position,a),e}async _signPersonalEvmForTransaction(e,r,n,i){const a=await e.getSignHashInfo(r,this.client,i);if(!a)return;const s=Te(await this.signMessageRaw(n(a.message)));return s[s.length-1]>=27&&(s[s.length-1]-=27),{signature:s,position:a.position}}}class ic extends bc{get type(){return as.Nostr}get signType(){return si.NostrEvent}async signMessageRaw(e){return me((await this.signNostrEvent(RL(e))).sig)}async getInternalAddress(){return Au.encode("npub",Au.toWords(Te(await this.getNostrPublicKey())))}async getAddressObjs(){const e=await this.getNostrPublicKey();return[await ca.fromKnownScript(this.client,De.NostrLock,me(j1([0],F1(e).slice(0,42))))]}async prepareTransaction(e){const r=Ut.from(e),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,De.NostrLock),await r.prepareSighashAllWitness(n,572,this.client),r}async signOnlyTransaction(e){const r=Ut.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Te(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[ic.CKB_SIG_HASH_ALL_TAG,i.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:ic.CKB_UNLOCK_EVENT_KIND,content:ic.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),s=is.fromBytes(r.witnesses[i.position]);return s.lock=me(a),r.setWitnessArgsAt(i.position,s),r}}ic.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all";ic.CKB_UNLOCK_EVENT_KIND=23334;ic.CKB_UNLOCK_EVENT_CONTENT=`Signing a CKB transaction

IMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message
`;async function Fs(t,e){return e.popup==null&&(e.popup=BW(""),e.popup==null)?HW(async()=>Fs(t,e)):(e.popup.location.href=t,new Promise((r,n)=>{DR()&&n(new OW(e.popup));let i,a;const s=setInterval(()=>{var o;(o=e.popup)!=null&&o.closed&&(clearInterval(s),clearTimeout(a),window.removeEventListener("message",i,!1),n(new HR(e.popup)))},1e3);a=setTimeout(()=>{clearInterval(s),n(new TW(e.popup)),window.removeEventListener("message",i,!1)},(e.timeoutInSeconds??3e3)*1e3),i=o=>{var u;const{joyidAppURL:f}=e,c=new URL(f);o.origin===c.origin&&(!o.data||((u=o.data)==null?void 0:u.type)!==e.type||(clearTimeout(a),clearInterval(s),window.removeEventListener("message",i,!1),e.popup.close(),o.data.error&&n(new Error(o.data.error)),r(o.data.data)))},window.addEventListener("message",i)}))}function Nm(t,e){return t.uri===e.uri&&t.addressType.startsWith(e.addressType)}class Uv{constructor(e="ccc-joy-id-signer"){this.storageKey=e}async readConnections(){return JSON.parse(window.localStorage.getItem(this.storageKey)??"[]")}async get(e){var r;return(r=(await this.readConnections()).find(([n])=>Nm(e,n)))==null?void 0:r[1]}async set(e,r){const n=await this.readConnections();if(r){const i=n.find(([a])=>Nm(a,e));i?i[1]=r:n.push([e,r]),window.localStorage.setItem(this.storageKey,JSON.stringify(n))}else window.localStorage.setItem(this.storageKey,JSON.stringify(n.filter(([i])=>!Nm(i,e))))}}class Um extends Nee{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i=[{addressPrefix:"ckb",signerType:as.BTC,network:"btc"},{addressPrefix:"ckt",signerType:as.BTC,network:"btcTestnet"}],a="auto",s,o=new Uv){super(e),this.name=r,this.icon=n,this.preferredNetworks=i,this.addressType=a,this._appUri=s,this.connectionsRepo=o,this.network="btcTestnet"}getConfig(){const{network:e}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network!==e&&(this.connection=void 0),this.network=e;const r={btc:"https://app.joy.id",btcTestnet:"https://testnet.joyid.dev"}[e];if(!r)throw new Error(`JoyID wallet doesn't support the requested chain ${this.network}`);return{redirectURL:location.href,joyidAppURL:this._appUri??r,requestNetwork:`btc-${this.addressType}`,name:this.name,logo:this.icon}}async disconnect(){await super.disconnect(),await this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"btc"},void 0)}async getBtcAccount(){const{address:e}=await this.assertConnection();return e}async getBtcPublicKey(){const{publicKey:e}=await this.assertConnection();return e}async connect(){const e=this.getConfig(),r=await Fs(Ho(e,"popup","/auth"),{...e,type:Us.Auth}),{address:n,pubkey:i}=this.addressType==="auto"?r.btcAddressType==="p2wpkh"?r.nativeSegwit:r.taproot:this.addressType==="p2wpkh"?r.nativeSegwit:r.taproot;this.connection={address:n,publicKey:me(i),keyType:r.keyType},await Promise.all([this.connectionsRepo.set({uri:e.joyidAppURL,addressType:`btc-${r.btcAddressType}`},this.connection),this.connectionsRepo.set({uri:e.joyidAppURL,addressType:"btc-auto"},this.connection)])}async isConnected(){return this.connection?!0:(this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:`btc-${this.addressType}`}),this.connection!==void 0)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:me(e).slice(2),i=this.getConfig(),{signature:a}=await Fs(Ho({...i,challenge:n,address:r,signMessageType:"ecdsa"},"popup","/sign-message"),{...i,type:Us.SignMessage});return a}}class aae extends bc{get type(){return as.CKB}get signType(){return si.JoyId}async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a,s=new Uv){super(e),this.name=r,this.icon=n,this._appUri=i,this._aggregatorUri=a,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),name:this.name,logo:this.icon}}getAggregatorUri(){return this._aggregatorUri??(this.client.addressPrefix==="ckb"?"https://cota.nervina.dev/mainnet-aggregator":"https://cota.nervina.dev/aggregator")}async connect(){const e=this.getConfig(),r=await Fs(Ho(e,"popup","/auth"),{...e,type:Us.Auth});this.connection={address:r.address,publicKey:me(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getInternalAddress(){return(await this.assertConnection()).address}async getIdentity(){const e=await this.assertConnection();return JSON.stringify({keyType:e.keyType,publicKey:e.publicKey.slice(2)})}async getAddressObj(){return await ca.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async prepareTransaction(e){const r=Ut.from(e);await r.addCellDepsOfKnownScripts(this.client,De.JoyId);const n=await r.findInputIndexByLock((await this.getAddressObj()).script,this.client);if(n===void 0)return r;const i=r.getWitnessArgsAt(n)??is.from({});return i.lock=me("00".repeat(1e3)),await this.prepareTransactionForSubKey(r,i),r.setWitnessArgsAt(n,i),r}async prepareTransactionForSubKey(e,r){var f;if(((f=this.connection)==null?void 0:f.keyType)!=="sub_key"||(r.outputType??"0x")!=="0x")return;const n=F1(this.connection.publicKey).substring(0,42),i=(await this.getAddressObj()).script,a=new iJ(this.getAggregatorUri()),{unlock_entry:s}=await a.generateSubkeyUnlockSmt({alg_index:1,pubkey_hash:n,lock_script:me(i.toBytes())});r.outputType=me(s);const o=[];for await(const c of this.client.findCellsByLock(i,await at.fromKnownScript(this.client,De.COTA,"0x")))o.push(Ti.from({depType:"code",outPoint:c.outPoint}));if(o.length===0)throw new Error("No COTA cells for sub key wallet");e.addCellDepsAtStart(o)}async signOnlyTransaction(e){const r=Ut.from(e),{script:n}=await this.getAddressObj(),i=await Ld(r.inputs,async(o,f,c)=>{if(await f.completeExtraInfos(this.client),!f.cellOutput)throw new Error("Unable to complete input");f.cellOutput.lock.eq(n)&&o.push(c)},[]);await r.prepareSighashAllWitness(n,0,this.client),r.inputs.forEach(o=>{o.cellOutput=void 0,o.outputData=void 0});const a=this.getConfig(),s=await Fs(Ho({...a,tx:JSON.parse(r.stringify()),signerAddress:(await this.assertConnection()).address,witnessIndexes:i},"popup","/sign-ckb-raw-tx"),{...a,type:Us.SignCkbRawTx});return Ut.from(s.tx)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:me(e).slice(2),i=this.getConfig(),a=await Fs(Ho({...i,challenge:n,isData:typeof e!="string",address:r},"popup","/sign-message"),{...i,type:Us.SignMessage});return JSON.stringify({signature:a.signature,alg:a.alg,message:a.message})}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ckb"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ckb"})}}class sae extends iae{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a=new Uv){super(e),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"ethereum",name:this.name,logo:this.icon}}async getEvmAccount(){return(await this.assertConnection()).address}async connect(){const e=this.getConfig(),r=await Fs(Ho(e,"popup","/auth"),{...e,type:Us.Auth});this.connection={address:r.ethAddress,publicKey:me(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:me(e).slice(2),i=this.getConfig(),{signature:a}=await Fs(Ho({...i,challenge:n,isData:typeof e!="string",address:r},"popup","/sign-message"),{...i,type:Us.SignMessage});return me(a)}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ethereum"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ethereum"})}}class oae extends ic{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a=new Uv){super(e),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"nostr",name:this.name,logo:this.icon}}async connect(){const e=this.getConfig(),r=await Fs(Ho(e,"popup","/auth"),{...e,type:Us.Auth});this.connection={address:"",publicKey:me(r.nostrPubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getNostrPublicKey(){return(await this.assertConnection()).publicKey}async signNostrEvent(e){const r=this.getConfig();return(await Fs(Ho({...r,event:e},"popup","/sign-nostr-event"),{...r,type:Us.SignNostrEvent})).event}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"nostr"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"nostr"})}}function fae(t,e,r,n){return DR()||zY(window.navigator.userAgent)?[as.CKB,as.EVM,as.BTC].map(i=>({name:i,signer:new nae(t,i,"JoyID can only be used with standard browsers")})):[{name:"CKB",signer:new aae(t,e,r)},{name:"BTC",signer:new Um(t,e,r,n)},{name:"Nostr",signer:new oae(t,e,r)},{name:"EVM",signer:new sae(t,e,r)},{name:"BTC (P2WPKH)",signer:new Um(t,e,r,n,"p2wpkh")},{name:"BTC (P2TR)",signer:new Um(t,e,r,n,"p2tr")}]}var km;function cae(t){return km==null?void 0:km.get(t)}var zm;function uae(t){return zm==null?void 0:zm.get(t)}var jm;function lae(t,e){var r;return(r=jm==null?void 0:jm.get(t))==null?void 0:r.get(e)}function kv(t){var r,n;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((n=(r=Object.getPrototypeOf(t))==null?void 0:r.constructor)==null?void 0:n.name))??"null":e}function Hi(t,e,r,n,i){const a=i&&"input"in i?i.input:r.value,s=(i==null?void 0:i.expected)??t.expects??null,o=(i==null?void 0:i.received)??kv(a),f={kind:t.kind,type:t.type,input:a,expected:s,received:o,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=t.kind==="schema",u=(i==null?void 0:i.message)??t.message??lae(t.reference,f.lang)??(c?uae(f.lang):null)??n.message??cae(f.lang);u&&(f.message=typeof u=="function"?u(f):u),c&&(r.typed=!1),r.issues?r.issues.push(f):r.issues=[f]}function dae(t,e){return Object.hasOwn(t,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function Cw(t,e){const r=[...new Set(t)];return r.length>1?`(${r.join(` ${e} `)})`:r[0]??"never"}function DH(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function Bu(t,e){return{kind:"schema",type:"array",reference:Bu,expects:"Array",async:!1,item:t,message:e,_run(r,n){var a;const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<i.length;s++){const o=i[s],f=this.item._run({typed:!1,value:o},n);if(f.issues){const c={type:"array",origin:"value",input:i,key:s,value:o};for(const u of f.issues)u.path?u.path.unshift(c):u.path=[c],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=f.issues),n.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),r.value.push(f.value)}}else Hi(this,"type",r,n);return r}}}function Du(t,e){const r=Object.entries(t).filter(([n])=>isNaN(+n)).map(([,n])=>n);return{kind:"schema",type:"enum",reference:Du,expects:Cw(r.map(kv),"|"),async:!1,enum:t,options:r,message:e,_run(n,i){return this.options.includes(n.value)?n.typed=!0:Hi(this,"type",n,i),n}}}function on(t,e){return{kind:"schema",type:"literal",reference:on,expects:kv(t),async:!1,literal:t,message:e,_run(r,n){return r.value===this.literal?r.typed=!0:Hi(this,"type",r,n),r}}}function MH(t,e){return{kind:"schema",type:"loose_object",reference:MH,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=i[s],f=this.entries[s]._run({typed:!1,value:o},n);if(f.issues){const c={type:"object",origin:"value",input:i,key:s,value:o};for(const u of f.issues)u.path?u.path.unshift(c):u.path=[c],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=f.issues),n.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),(f.value!==void 0||s in i)&&(r.value[s]=f.value)}if(!r.issues||!n.abortEarly)for(const s in i)dae(i,s)&&!(s in this.entries)&&(r.value[s]=i[s])}else Hi(this,"type",r,n);return r}}}function Tw(t,e){return{kind:"schema",type:"non_optional",reference:Tw,expects:"!undefined",async:!1,wrapped:t,message:e,_run(r,n){return r.value===void 0?(Hi(this,"type",r,n),r):this.wrapped._run(r,n)}}}function M0(t){return{kind:"schema",type:"null",reference:M0,expects:"null",async:!1,message:t,_run(e,r){return e.value===null?e.typed=!0:Hi(this,"type",e,r),e}}}function zv(t,...e){const r={kind:"schema",type:"nullish",reference:zv,expects:`(${t.expects} | null | undefined)`,async:!1,wrapped:t,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=DH(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function RH(t){return{kind:"schema",type:"number",reference:RH,expects:"number",async:!1,message:t,_run(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Hi(this,"type",e,r),e}}}function rt(t,e){return{kind:"schema",type:"object",reference:rt,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=i[s],f=this.entries[s]._run({typed:!1,value:o},n);if(f.issues){const c={type:"object",origin:"value",input:i,key:s,value:o};for(const u of f.issues)u.path?u.path.unshift(c):u.path=[c],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=f.issues),n.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),(f.value!==void 0||s in i)&&(r.value[s]=f.value)}}else Hi(this,"type",r,n);return r}}}function Wu(t,...e){const r={kind:"schema",type:"optional",reference:Wu,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=DH(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function LH(t,e){return{kind:"schema",type:"picklist",reference:LH,expects:Cw(t.map(kv),"|"),async:!1,options:t,message:e,_run(r,n){return this.options.includes(r.value)?r.typed=!0:Hi(this,"type",r,n),r}}}function Yt(t){return{kind:"schema",type:"string",reference:Yt,expects:"string",async:!1,message:t,_run(e,r){return typeof e.value=="string"?e.typed=!0:Hi(this,"type",e,r),e}}}function Ow(t){return{kind:"schema",type:"undefined",reference:Ow,expects:"undefined",async:!1,message:t,_run(e,r){return e.value===void 0?e.typed=!0:Hi(this,"type",e,r),e}}}function Xx(t){let e;if(t)for(const r of t)e?e.push(...r.issues):e=r.issues;return e}function jv(t,e){return{kind:"schema",type:"union",reference:jv,expects:Cw(t.map(r=>r.expects),"|"),async:!1,options:t,message:e,_run(r,n){let i,a,s;for(const o of this.options){const f=o._run({typed:!1,value:r.value},n);if(f.typed)if(f.issues)a?a.push(f):a=[f];else{i=f;break}else s?s.push(f):s=[f]}if(i)return i;if(a){if(a.length===1)return a[0];Hi(this,"type",r,n,{issues:Xx(a)}),r.typed=!0}else{if((s==null?void 0:s.length)===1)return s[0];Hi(this,"type",r,n,{issues:Xx(s)})}return r}}}function Fv(){return{kind:"schema",type:"unknown",reference:Fv,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}var Zx;(function(t){t.Mainnet="Mainnet",t.Testnet="Testnet",t.Signet="Signet"})(Zx||(Zx={}));const Bw=Wu(jv([Yt(),RH(),M0()])),Bc=rt({jsonrpc:on("2.0"),method:Yt(),params:Wu(jv([Bu(Fv()),MH({}),M0()])),id:Bw});var Jx;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",t[t.USER_REJECTION=-32e3]="USER_REJECTION",t[t.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",t[t.ACCESS_DENIED=-32002]="ACCESS_DENIED"})(Jx||(Jx={}));const hae=rt({jsonrpc:on("2.0"),result:Tw(Fv()),id:Bw}),pae=rt({jsonrpc:on("2.0"),error:Tw(Fv()),id:Bw});jv([hae,pae]);const bae=["software","ledger"],gae=LH(bae),yae="wallet_requestPermissions",vae=Ow();on(!0);rt({...Bc.entries,...rt({method:on(yae),params:vae,id:Yt()}).entries});const _ae="wallet_renouncePermissions",mae=Ow();on(!0);rt({...Bc.entries,...rt({method:on(_ae),params:mae,id:Yt()}).entries});const wae="wallet_getWalletType";zv(M0());rt({...Bc.entries,...rt({method:on(wae),id:Yt()}).entries});var Vp;(function(t){t.Ordinals="ordinals",t.Payment="payment",t.Stacks="stacks"})(Vp||(Vp={}));var Q6;(function(t){t.p2pkh="p2pkh",t.p2sh="p2sh",t.p2wpkh="p2wpkh",t.p2wsh="p2wsh",t.p2tr="p2tr",t.stacks="stacks"})(Q6||(Q6={}));const Aae=rt({address:Yt(),publicKey:Yt(),purpose:Du(Vp),addressType:Du(Q6)}),Eae="getInfo",xae=zv(M0());rt({version:Yt(),methods:Wu(Bu(Yt())),supports:Bu(Yt())});rt({...Bc.entries,...rt({method:on(Eae),params:xae,id:Yt()}).entries});const Sae="getAddresses",Iae=rt({purposes:Bu(Du(Vp)),message:Wu(Yt())});rt({...Bc.entries,...rt({method:on(Sae),params:Iae,id:Yt()}).entries});const Cae="signMessage";var jy;(function(t){t.ECDSA="ECDSA",t.BIP322="BIP322"})(jy||(jy={}));const Tae=rt({address:Yt(),message:Yt(),protocol:Wu(Du(jy))});rt({signature:Yt(),messageHash:Yt(),address:Yt(),protocol:Du(jy)});rt({...Bc.entries,...rt({method:on(Cae),params:Tae,id:Yt()}).entries});const Oae="getAccounts",Bae=rt({purposes:Bu(Du(Vp)),message:Wu(Yt())});Bu(rt({...Aae.entries,...rt({walletType:gae}).entries}));rt({...Bc.entries,...rt({method:on(Oae),params:Bae,id:Yt()}).entries});const Dae="getBalance";zv(M0());rt({...Bc.entries,...rt({method:on(Dae),id:Yt()}).entries});const Mae="accountChange";rt({type:on(Mae)});const Rae="networkChange";rt({type:on(Rae)});const Lae="disconnect";rt({type:on(Lae)});function Hae(t){const e=s2.c(11),{rootConfig:r,signer:n,walletName:i}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["walletConfig"],e[0]=a):a=e[0];let s;e[1]!==r||e[2]!==n?(s={queryKey:a,queryFn:async()=>{await n.isConnected()||await n.connect();const[l,p,g]=await Promise.all([n.getRecommendedAddress(),n.getRecommendedAddressObj(),n.getAddressObjs()]);let m;return m=[p,...g].map(Nae),m=[...new Map(m.map(Pae)).values()],{...r,address:l,accountLocks:m,expander:C=>{const O=C.cellOutput.lock;for(const M of m)if(En(O,M))return M},getTxSizeOverhead:async C=>{const O=Ut.fromLumosSkeleton(C),M=O.toBytes().length;return(await n.prepareTransaction(O)).toBytes().length-M},sendSigned:async C=>n.sendTransaction(Ut.fromLumosSkeleton(C))}}},e[1]=r,e[2]=n,e[3]=s):s=e[3];const{isPending:o,error:f,data:c}=Y4(s);if(o){let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=_e.jsx(qQ,{}),e[4]=l):l=e[4];let p;return e[5]!==i?(p=_e.jsxs(_e.Fragment,{children:[l,_e.jsxs(D5,{children:["Waiting for ",i," authorization..."]})]}),e[5]=i,e[6]=p):p=e[6],p}if(f){setTimeout(function(){console.log(f),location.reload()},1e4);let l;return e[7]!==i?(l=_e.jsxs("p",{children:["Unable to connect to ",i," ⚠️"]}),e[7]=i,e[8]=l):l=e[8],l}let u;return e[9]!==c?(u=_e.jsx(LV,{walletConfig:c}),e[9]=c,e[10]=u):u=e[10],u}function Pae(t){return[`${t.args}-${t.hashType}-${t.codeHash}`,t]}function Nae(t){return xn.from({...va,...t.script})}const Uae="/favicon.png",kae="iCKB DApp",zae=CD("testnet",void 0,!0,IM).then(t=>{const e={...t,queryClient:new dT,cccClient:new oG};return RM(e),e}),jae=CD("mainnet",void 0,!0,IM).then(t=>{const e={...t,queryClient:new dT,cccClient:new aG};return RM(e),e});async function dse(t){const[e,r]=t.split("_"),n=await(r==="mainnet"?jae:zae),i=fae(n.cccClient,kae,"https://ickb.org"+Uae).filter(o=>o.name==="CKB")[0].signer,a=document.getElementById("app"),s=rk.createRoot(a);a.textContent="",s.render(_e.jsx(pr.StrictMode,{children:_e.jsx(Ak,{client:n.queryClient,children:_e.jsx(Hae,{rootConfig:n,signer:i,walletName:e})})}))}export{dse as startApp};
