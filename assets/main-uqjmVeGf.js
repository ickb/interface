var rT=Object.defineProperty;var nA=e=>{throw TypeError(e)};var nT=(e,t,r)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Yr=(e,t,r)=>nT(e,typeof t!="symbol"?t+"":t,r),ky=(e,t,r)=>t.has(e)||nA("Cannot "+r);var yt=(e,t,r)=>(ky(e,t,"read from private field"),r?r.call(e):t.get(e)),Vt=(e,t,r)=>t.has(e)?nA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),kt=(e,t,r,n)=>(ky(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ge=(e,t,r)=>(ky(e,t,"access private method"),r);var tp=(e,t,r,n)=>({set _(a){kt(e,t,a,r)},get _(){return yt(e,t,n)}});var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wx(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var qy={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function iT(){if(iA)return nh;iA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:u,ref:a!==void 0?a:null,props:s}}return nh.Fragment=t,nh.jsx=r,nh.jsxs=r,nh}var aA;function aT(){return aA||(aA=1,qy.exports=iT()),qy.exports}var qt=aT(),zy={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function sT(){if(sA)return ae;sA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),y=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=y&&b[y]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function E(b,R,Y){this.props=b,this.context=R,this.refs=A,this.updater=Y||w}E.prototype.isReactComponent={},E.prototype.setState=function(b,R){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,R,"setState")},E.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function x(){}x.prototype=E.prototype;function L(b,R,Y){this.props=b,this.context=R,this.refs=A,this.updater=Y||w}var U=L.prototype=new x;U.constructor=L,S(U,E.prototype),U.isPureReactComponent=!0;var O=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function q(b,R,Y,Q,W,J){return Y=J.ref,{$$typeof:e,type:b,key:R,ref:Y!==void 0?Y:null,props:J}}function j(b,R){return q(b.type,R,void 0,void 0,void 0,b.props)}function F(b){return typeof b=="object"&&b!==null&&b.$$typeof===e}function X(b){var R={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return R[Y]})}var z=/\/+/g;function I(b,R){return typeof b=="object"&&b!==null&&b.key!=null?X(""+b.key):R.toString(36)}function M(){}function m(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(M,M):(b.status="pending",b.then(function(R){b.status==="pending"&&(b.status="fulfilled",b.value=R)},function(R){b.status==="pending"&&(b.status="rejected",b.reason=R)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function C(b,R,Y,Q,W){var J=typeof b;(J==="undefined"||J==="boolean")&&(b=null);var G=!1;if(b===null)G=!0;else switch(J){case"bigint":case"string":case"number":G=!0;break;case"object":switch(b.$$typeof){case e:case t:G=!0;break;case d:return G=b._init,C(G(b._payload),R,Y,Q,W)}}if(G)return W=W(b),G=Q===""?"."+I(b,0):Q,O(W)?(Y="",G!=null&&(Y=G.replace(z,"$&/")+"/"),C(W,R,Y,"",function(ut){return ut})):W!=null&&(F(W)&&(W=j(W,Y+(W.key==null||b&&b.key===W.key?"":(""+W.key).replace(z,"$&/")+"/")+G)),R.push(W)),1;G=0;var et=Q===""?".":Q+":";if(O(b))for(var it=0;it<b.length;it++)Q=b[it],J=et+I(Q,it),G+=C(Q,R,Y,J,W);else if(it=_(b),typeof it=="function")for(b=it.call(b),it=0;!(Q=b.next()).done;)Q=Q.value,J=et+I(Q,it++),G+=C(Q,R,Y,J,W);else if(J==="object"){if(typeof b.then=="function")return C(m(b),R,Y,Q,W);throw R=String(b),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return G}function p(b,R,Y){if(b==null)return b;var Q=[],W=0;return C(b,Q,"","",function(J){return R.call(Y,J,W++)}),Q}function v(b){if(b._status===-1){var R=b._result;R=R(),R.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=R)}if(b._status===1)return b._result.default;throw b._result}var D=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function B(){}return ae.Children={map:p,forEach:function(b,R,Y){p(b,function(){R.apply(this,arguments)},Y)},count:function(b){var R=0;return p(b,function(){R++}),R},toArray:function(b){return p(b,function(R){return R})||[]},only:function(b){if(!F(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ae.Component=E,ae.Fragment=r,ae.Profiler=a,ae.PureComponent=L,ae.StrictMode=n,ae.Suspense=f,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ae.__COMPILER_RUNTIME={__proto__:null,c:function(b){return H.H.useMemoCache(b)}},ae.cache=function(b){return function(){return b.apply(null,arguments)}},ae.cloneElement=function(b,R,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Q=S({},b.props),W=b.key,J=void 0;if(R!=null)for(G in R.ref!==void 0&&(J=void 0),R.key!==void 0&&(W=""+R.key),R)!P.call(R,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&R.ref===void 0||(Q[G]=R[G]);var G=arguments.length-2;if(G===1)Q.children=Y;else if(1<G){for(var et=Array(G),it=0;it<G;it++)et[it]=arguments[it+2];Q.children=et}return q(b.type,W,void 0,void 0,J,Q)},ae.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:s,_context:b},b},ae.createElement=function(b,R,Y){var Q,W={},J=null;if(R!=null)for(Q in R.key!==void 0&&(J=""+R.key),R)P.call(R,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(W[Q]=R[Q]);var G=arguments.length-2;if(G===1)W.children=Y;else if(1<G){for(var et=Array(G),it=0;it<G;it++)et[it]=arguments[it+2];W.children=et}if(b&&b.defaultProps)for(Q in G=b.defaultProps,G)W[Q]===void 0&&(W[Q]=G[Q]);return q(b,J,void 0,void 0,null,W)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(b){return{$$typeof:c,render:b}},ae.isValidElement=F,ae.lazy=function(b){return{$$typeof:d,_payload:{_status:-1,_result:b},_init:v}},ae.memo=function(b,R){return{$$typeof:h,type:b,compare:R===void 0?null:R}},ae.startTransition=function(b){var R=H.T,Y={};H.T=Y;try{var Q=b(),W=H.S;W!==null&&W(Y,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(B,D)}catch(J){D(J)}finally{H.T=R}},ae.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ae.use=function(b){return H.H.use(b)},ae.useActionState=function(b,R,Y){return H.H.useActionState(b,R,Y)},ae.useCallback=function(b,R){return H.H.useCallback(b,R)},ae.useContext=function(b){return H.H.useContext(b)},ae.useDebugValue=function(){},ae.useDeferredValue=function(b,R){return H.H.useDeferredValue(b,R)},ae.useEffect=function(b,R,Y){var Q=H.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(b,R)},ae.useId=function(){return H.H.useId()},ae.useImperativeHandle=function(b,R,Y){return H.H.useImperativeHandle(b,R,Y)},ae.useInsertionEffect=function(b,R){return H.H.useInsertionEffect(b,R)},ae.useLayoutEffect=function(b,R){return H.H.useLayoutEffect(b,R)},ae.useMemo=function(b,R){return H.H.useMemo(b,R)},ae.useOptimistic=function(b,R){return H.H.useOptimistic(b,R)},ae.useReducer=function(b,R,Y){return H.H.useReducer(b,R,Y)},ae.useRef=function(b){return H.H.useRef(b)},ae.useState=function(b){return H.H.useState(b)},ae.useSyncExternalStore=function(b,R,Y){return H.H.useSyncExternalStore(b,R,Y)},ae.useTransition=function(){return H.H.useTransition()},ae.version="19.1.0",ae}var oA;function n1(){return oA||(oA=1,zy.exports=sT()),zy.exports}var Pr=n1(),jy={exports:{}},ih={},Fy={exports:{}},Ky={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function oT(){return uA||(uA=1,function(e){function t(p,v){var D=p.length;p.push(v);t:for(;0<D;){var B=D-1>>>1,b=p[B];if(0<a(b,v))p[B]=v,p[D]=b,D=B;else break t}}function r(p){return p.length===0?null:p[0]}function n(p){if(p.length===0)return null;var v=p[0],D=p.pop();if(D!==v){p[0]=D;t:for(var B=0,b=p.length,R=b>>>1;B<R;){var Y=2*(B+1)-1,Q=p[Y],W=Y+1,J=p[W];if(0>a(Q,D))W<b&&0>a(J,Q)?(p[B]=J,p[W]=D,B=W):(p[B]=Q,p[Y]=D,B=Y);else if(W<b&&0>a(J,D))p[B]=J,p[W]=D,B=W;else break t}}return v}function a(p,v){var D=p.sortIndex-v.sortIndex;return D!==0?D:p.id-v.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var f=[],h=[],d=1,y=null,_=3,w=!1,S=!1,A=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function O(p){for(var v=r(h);v!==null;){if(v.callback===null)n(h);else if(v.startTime<=p)n(h),v.sortIndex=v.expirationTime,t(f,v);else break;v=r(h)}}function H(p){if(A=!1,O(p),!S)if(r(f)!==null)S=!0,P||(P=!0,I());else{var v=r(h);v!==null&&C(H,v.startTime-p)}}var P=!1,q=-1,j=5,F=-1;function X(){return E?!0:!(e.unstable_now()-F<j)}function z(){if(E=!1,P){var p=e.unstable_now();F=p;var v=!0;try{t:{S=!1,A&&(A=!1,L(q),q=-1),w=!0;var D=_;try{e:{for(O(p),y=r(f);y!==null&&!(y.expirationTime>p&&X());){var B=y.callback;if(typeof B=="function"){y.callback=null,_=y.priorityLevel;var b=B(y.expirationTime<=p);if(p=e.unstable_now(),typeof b=="function"){y.callback=b,O(p),v=!0;break e}y===r(f)&&n(f),O(p)}else n(f);y=r(f)}if(y!==null)v=!0;else{var R=r(h);R!==null&&C(H,R.startTime-p),v=!1}}break t}finally{y=null,_=D,w=!1}v=void 0}}finally{v?I():P=!1}}}var I;if(typeof U=="function")I=function(){U(z)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,m=M.port2;M.port1.onmessage=z,I=function(){m.postMessage(null)}}else I=function(){x(z,0)};function C(p,v){q=x(function(){p(e.unstable_now())},v)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(p){p.callback=null},e.unstable_forceFrameRate=function(p){0>p||125<p?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<p?Math.floor(1e3/p):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(p){switch(_){case 1:case 2:case 3:var v=3;break;default:v=_}var D=_;_=v;try{return p()}finally{_=D}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(p,v){switch(p){case 1:case 2:case 3:case 4:case 5:break;default:p=3}var D=_;_=p;try{return v()}finally{_=D}},e.unstable_scheduleCallback=function(p,v,D){var B=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?B+D:B):D=B,p){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=D+b,p={id:d++,callback:v,priorityLevel:p,startTime:D,expirationTime:b,sortIndex:-1},D>B?(p.sortIndex=D,t(h,p),r(f)===null&&p===r(h)&&(A?(L(q),q=-1):A=!0,C(H,D-B))):(p.sortIndex=b,t(f,p),S||w||(S=!0,P||(P=!0,I()))),p},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(p){var v=_;return function(){var D=_;_=v;try{return p.apply(this,arguments)}finally{_=D}}}}(Ky)),Ky}var cA;function uT(){return cA||(cA=1,Fy.exports=oT()),Fy.exports}var Qy={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function cT(){if(fA)return on;fA=1;var e=n1();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:h,implementation:d}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,on.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,d)},on.flushSync=function(f){var h=u.T,d=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=h,n.p=d,n.d.f()}},on.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},on.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},on.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,y=c(d,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):d==="script"&&n.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},on.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},on.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,y=c(d,h.crossOrigin);n.d.L(f,d,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},on.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},on.requestFormReset=function(f){n.d.r(f)},on.unstable_batchedUpdates=function(f,h){return f(h)},on.useFormState=function(f,h,d){return u.H.useFormState(f,h,d)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.1.0",on}var lA;function fT(){if(lA)return Qy.exports;lA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qy.exports=cT(),Qy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function lT(){if(hA)return ih;hA=1;var e=uT(),t=n1(),r=fT();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,g=o;;){var T=l.return;if(T===null)break;var N=T.alternate;if(N===null){if(g=T.return,g!==null){l=g;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===l)return c(T),i;if(N===g)return c(T),o;N=N.sibling}throw Error(n(188))}if(l.return!==g.return)l=T,g=N;else{for(var Z=!1,rt=T.child;rt;){if(rt===l){Z=!0,l=T,g=N;break}if(rt===g){Z=!0,g=T,l=N;break}rt=rt.sibling}if(!Z){for(rt=N.child;rt;){if(rt===l){Z=!0,l=N,g=T;break}if(rt===g){Z=!0,g=N,l=T;break}rt=rt.sibling}if(!Z)throw Error(n(189))}}if(l.alternate!==g)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var d=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function m(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case U:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return o=i.displayName||null,o!==null?o:m(i.type)||"Memo";case j:o=i._payload,i=i._init;try{return m(i(o))}catch{}}return null}var C=Array.isArray,p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,v=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},B=[],b=-1;function R(i){return{current:i}}function Y(i){0>b||(i.current=B[b],B[b]=null,b--)}function Q(i,o){b++,B[b]=i.current,i.current=o}var W=R(null),J=R(null),G=R(null),et=R(null);function it(i,o){switch(Q(G,o),Q(J,i),Q(W,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?D6(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=D6(o),i=M6(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(W),Q(W,i)}function ut(){Y(W),Y(J),Y(G)}function ct(i){i.memoizedState!==null&&Q(et,i);var o=W.current,l=M6(o,i.type);o!==l&&(Q(J,i),Q(W,l))}function tt(i){J.current===i&&(Y(W),Y(J)),et.current===i&&(Y(et),Zl._currentValue=D)}var V=Object.prototype.hasOwnProperty,ot=e.unstable_scheduleCallback,mt=e.unstable_cancelCallback,Tt=e.unstable_shouldYield,st=e.unstable_requestPaint,ft=e.unstable_now,dt=e.unstable_getCurrentPriorityLevel,At=e.unstable_ImmediatePriority,Nt=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,pe=e.unstable_IdlePriority,Xt=e.log,ne=e.unstable_setDisableYieldValue,at=null,$=null;function k(i){if(typeof Xt=="function"&&ne(i),$&&typeof $.setStrictMode=="function")try{$.setStrictMode(at,i)}catch{}}var K=Math.clz32?Math.clz32:wt,nt=Math.log,pt=Math.LN2;function wt(i){return i>>>=0,i===0?32:31-(nt(i)/pt|0)|0}var Ct=256,Kt=4194304;function se(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wt(i,o,l){var g=i.pendingLanes;if(g===0)return 0;var T=0,N=i.suspendedLanes,Z=i.pingedLanes;i=i.warmLanes;var rt=g&134217727;return rt!==0?(g=rt&~N,g!==0?T=se(g):(Z&=rt,Z!==0?T=se(Z):l||(l=rt&~i,l!==0&&(T=se(l))))):(rt=g&~N,rt!==0?T=se(rt):Z!==0?T=se(Z):l||(l=g&~i,l!==0&&(T=se(l)))),T===0?0:o!==0&&o!==T&&(o&N)===0&&(N=T&-T,l=o&-o,N>=l||N===32&&(l&4194048)!==0)?o:T}function Zt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function _e(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(){var i=Ct;return Ct<<=1,(Ct&4194048)===0&&(Ct=256),i}function Qe(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function Ns(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function De(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ye(i,o,l,g,T,N){var Z=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var rt=i.entanglements,gt=i.expirationTimes,xt=i.hiddenUpdates;for(l=Z&~l;0<l;){var Bt=31-K(l),Rt=1<<Bt;rt[Bt]=0,gt[Bt]=-1;var St=xt[Bt];if(St!==null)for(xt[Bt]=null,Bt=0;Bt<St.length;Bt++){var It=St[Bt];It!==null&&(It.lane&=-536870913)}l&=~Rt}g!==0&&Yi(i,g,0),N!==0&&T===0&&i.tag!==0&&(i.suspendedLanes|=N&~(Z&~o))}function Yi(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var g=31-K(o);i.entangledLanes|=o,i.entanglements[g]=i.entanglements[g]|1073741824|l&4194090}function ke(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var g=31-K(l),T=1<<g;T&o|i[g]&o&&(i[g]|=o),l&=~T}}function Me(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _a(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ce(){var i=v.p;return i!==0?i:(i=window.event,i===void 0?32:W6(i.type))}function nr(i,o){var l=v.p;try{return v.p=i,o()}finally{v.p=l}}var Vn=Math.random().toString(36).slice(2),ue="__reactFiber$"+Vn,le="__reactProps$"+Vn,Vi="__reactContainer$"+Vn,qe="__reactEvents$"+Vn,Ve="__reactListeners$"+Vn,yi="__reactHandles$"+Vn,We="__reactResources$"+Vn,Re="__reactMarker$"+Vn;function Us(i){delete i[ue],delete i[le],delete i[qe],delete i[Ve],delete i[yi]}function Ie(i){var o=i[ue];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Vi]||l[ue]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=N6(i);i!==null;){if(l=i[ue])return l;i=N6(i)}return o}i=l,l=i.parentNode}return null}function Te(i){if(i=i[ue]||i[Vi]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Ir(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function bi(i){var o=i[We];return o||(o=i[We]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ir(i){i[Re]=!0}var Ps=new Set,ks={};function $n(i,o){Mr(i,o),Mr(i+"Capture",o)}function Mr(i,o){for(ks[i]=o,i=0;i<o.length;i++)Ps.add(o[i])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},zs={};function nu(i){return V.call(zs,i)?!0:V.call(qs,i)?!1:ru.test(i)?zs[i]=!0:(qs[i]=!0,!1)}function ma(i,o,l){if(nu(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Gn(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function vn(i,o,l,g){if(g===null)i.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+g)}}var $a,wn;function _i(i){if($a===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$a=o&&o[1]||"",wn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+i+wn}var Ga=!1;function Xa(i,o){if(!i||Ga)return"";Ga=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(It){var St=It}Reflect.construct(i,[],Rt)}else{try{Rt.call()}catch(It){St=It}i.call(Rt.prototype)}}else{try{throw Error()}catch(It){St=It}(Rt=i())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(It){if(It&&St&&typeof It.stack=="string")return[It.stack,St.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),Z=N[0],rt=N[1];if(Z&&rt){var gt=Z.split(`
`),xt=rt.split(`
`);for(T=g=0;g<gt.length&&!gt[g].includes("DetermineComponentFrameRoot");)g++;for(;T<xt.length&&!xt[T].includes("DetermineComponentFrameRoot");)T++;if(g===gt.length||T===xt.length)for(g=gt.length-1,T=xt.length-1;1<=g&&0<=T&&gt[g]!==xt[T];)T--;for(;1<=g&&0<=T;g--,T--)if(gt[g]!==xt[T]){if(g!==1||T!==1)do if(g--,T--,0>T||gt[g]!==xt[T]){var Bt=`
`+gt[g].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=g&&0<=T);break}}}finally{Ga=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?_i(l):""}function j1(i){switch(i.tag){case 26:case 27:case 5:return _i(i.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Xa(i.type,!1);case 11:return Xa(i.type.render,!1);case 1:return Xa(i.type,!0);case 31:return _i("Activity");default:return""}}function Qd(i){try{var o="";do o+=j1(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function iu(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function F1(i){var o=iu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),g=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var T=l.get,N=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return T.call(this)},set:function(Z){g=""+Z,N.call(this,Z)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return g},setValue:function(Z){g=""+Z},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function va(i){i._valueTracker||(i._valueTracker=F1(i))}function fl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),g="";return i&&(g=iu(i)?i.checked?"true":"false":i.value),i=g,i!==l?(o.setValue(i),!0):!1}function au(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var K1=/[\n"\\]/g;function Ln(i){return i.replace(K1,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ll(i,o,l,g,T,N,Z,rt){i.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?i.type=Z:i.removeAttribute("type"),o!=null?Z==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Hn(o)):i.value!==""+Hn(o)&&(i.value=""+Hn(o)):Z!=="submit"&&Z!=="reset"||i.removeAttribute("value"),o!=null?pc(i,Z,Hn(o)):l!=null?pc(i,Z,Hn(l)):g!=null&&i.removeAttribute("value"),T==null&&N!=null&&(i.defaultChecked=!!N),T!=null&&(i.checked=T&&typeof T!="function"&&typeof T!="symbol"),rt!=null&&typeof rt!="function"&&typeof rt!="symbol"&&typeof rt!="boolean"?i.name=""+Hn(rt):i.removeAttribute("name")}function Yd(i,o,l,g,T,N,Z,rt){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||l!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;l=l!=null?""+Hn(l):"",o=o!=null?""+Hn(o):l,rt||o===i.value||(i.value=o),i.defaultValue=o}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=rt?i.checked:!!g,i.defaultChecked=!!g,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(i.name=Z)}function pc(i,o,l){o==="number"&&au(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function js(i,o,l,g){if(i=i.options,o){o={};for(var T=0;T<l.length;T++)o["$"+l[T]]=!0;for(l=0;l<i.length;l++)T=o.hasOwnProperty("$"+i[l].value),i[l].selected!==T&&(i[l].selected=T),T&&g&&(i[l].defaultSelected=!0)}else{for(l=""+Hn(l),o=null,T=0;T<i.length;T++){if(i[T].value===l){i[T].selected=!0,g&&(i[T].defaultSelected=!0);return}o!==null||i[T].disabled||(o=i[T])}o!==null&&(o.selected=!0)}}function Vd(i,o,l){if(o!=null&&(o=""+Hn(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Hn(l):""}function hl(i,o,l,g){if(o==null){if(g!=null){if(l!=null)throw Error(n(92));if(C(g)){if(1<g.length)throw Error(n(93));g=g[0]}l=g}l==null&&(l=""),o=l}l=Hn(o),i.defaultValue=l,g=i.textContent,g===l&&g!==""&&g!==null&&(i.value=g)}function $i(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(i,o,l){var g=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?g?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":g?i.setProperty(o,l):typeof l!="number"||l===0||Fs.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function Gd(i,o,l){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,l!=null){for(var g in l)!l.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var T in o)g=o[T],o.hasOwnProperty(T)&&l[T]!==g&&$d(i,T,g)}else for(var N in o)o.hasOwnProperty(N)&&$d(i,N,o[N])}function mi(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gc(i){return Y1.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var dl=null;function pl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Nn=null,Wa=null;function Xd(i){var o=Te(i);if(o&&(i=o.stateNode)){var l=i[le]||null;t:switch(i=o.stateNode,o.type){case"input":if(ll(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ln(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var g=l[o];if(g!==i&&g.form===i.form){var T=g[le]||null;if(!T)throw Error(n(90));ll(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(o=0;o<l.length;o++)g=l[o],g.form===i.form&&fl(g)}break t;case"textarea":Vd(i,l.value,l.defaultValue);break t;case"select":o=l.value,o!=null&&js(i,!!l.multiple,o,!1)}}}var Ks=!1;function Wd(i,o,l){if(Ks)return i(o,l);Ks=!0;try{var g=i(o);return g}finally{if(Ks=!1,(Nn!==null||Wa!==null)&&(R0(),Nn&&(o=Nn,i=Wa,Wa=Nn=null,Xd(o),i)))for(o=0;o<i.length;o++)Xd(i[o])}}function Za(i,o){var l=i.stateNode;if(l===null)return null;var g=l[le]||null;if(g===null)return null;l=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=!1;if(Gi)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{yc=!1}var Xi=null,Ja=null,su=null;function Zd(){if(su)return su;var i,o=Ja,l=o.length,g,T="value"in Xi?Xi.value:Xi.textContent,N=T.length;for(i=0;i<l&&o[i]===T[i];i++);var Z=l-i;for(g=1;g<=Z&&o[l-g]===T[N-g];g++);return su=T.slice(i,1<g?1-g:void 0)}function bc(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function _c(){return!0}function lt(){return!1}function _t(i){function o(l,g,T,N,Z){this._reactName=l,this._targetInst=T,this.type=g,this.nativeEvent=N,this.target=Z,this.currentTarget=null;for(var rt in i)i.hasOwnProperty(rt)&&(l=i[rt],this[rt]=l?l(N):N[rt]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?_c:lt,this.isPropagationStopped=lt,this}return d(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),o}var Mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jt=_t(Mt),Ee=d({},Mt,{view:0,detail:0}),ie=_t(Ee),$e,lr,or,He=d({},Ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V1,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==or&&(or&&i.type==="mousemove"?($e=i.screenX-or.screenX,lr=i.screenY-or.screenY):lr=$e=0,or=i),$e)},movementY:function(i){return"movementY"in i?i.movementY:lr}}),nn=_t(He),Xn=d({},He,{dataTransfer:0}),Rr=_t(Xn),Un=d({},Ee,{relatedTarget:0}),an=_t(Un),wa=d({},Mt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wi=_t(wa),ts=d({},Mt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=_t(ts),mc=d({},Mt,{data:0}),ou=_t(mc),lC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pC(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=dC[i])?!!o[i]:!1}function V1(){return pC}var gC=d({},Ee,{key:function(i){if(i.key){var o=lC[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=bc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V1,charCode:function(i){return i.type==="keypress"?bc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yC=_t(gC),bC=d({},He,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k2=_t(bC),_C=d({},Ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V1}),mC=_t(_C),vC=d({},Mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=_t(vC),AC=d({},He,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),EC=_t(AC),xC=d({},Mt,{newState:0,oldState:0}),SC=_t(xC),CC=[9,13,27,32],$1=Gi&&"CompositionEvent"in window,gl=null;Gi&&"documentMode"in document&&(gl=document.documentMode);var IC=Gi&&"TextEvent"in window&&!gl,q2=Gi&&(!$1||gl&&8<gl&&11>=gl),z2=" ",j2=!1;function F2(i,o){switch(i){case"keyup":return CC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vc=!1;function TC(i,o){switch(i){case"compositionend":return K2(o);case"keypress":return o.which!==32?null:(j2=!0,z2);case"textInput":return i=o.data,i===z2&&j2?null:i;default:return null}}function BC(i,o){if(vc)return i==="compositionend"||!$1&&F2(i,o)?(i=Zd(),su=Ja=Xi=null,vc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return q2&&o.locale!=="ko"?null:o.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!OC[i.type]:o==="textarea"}function Y2(i,o,l,g){Nn?Wa?Wa.push(g):Wa=[g]:Nn=g,o=k0(o,"onChange"),0<o.length&&(l=new jt("onChange","change",null,l,g),i.push({event:l,listeners:o}))}var yl=null,bl=null;function DC(i){C6(i,0)}function t0(i){var o=Ir(i);if(fl(o))return i}function V2(i,o){if(i==="change")return o}var $2=!1;if(Gi){var G1;if(Gi){var X1="oninput"in document;if(!X1){var G2=document.createElement("div");G2.setAttribute("oninput","return;"),X1=typeof G2.oninput=="function"}G1=X1}else G1=!1;$2=G1&&(!document.documentMode||9<document.documentMode)}function X2(){yl&&(yl.detachEvent("onpropertychange",W2),bl=yl=null)}function W2(i){if(i.propertyName==="value"&&t0(bl)){var o=[];Y2(o,bl,i,pl(i)),Wd(DC,o)}}function MC(i,o,l){i==="focusin"?(X2(),yl=o,bl=l,yl.attachEvent("onpropertychange",W2)):i==="focusout"&&X2()}function RC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return t0(bl)}function HC(i,o){if(i==="click")return t0(o)}function LC(i,o){if(i==="input"||i==="change")return t0(o)}function NC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wn=typeof Object.is=="function"?Object.is:NC;function _l(i,o){if(Wn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),g=Object.keys(o);if(l.length!==g.length)return!1;for(g=0;g<l.length;g++){var T=l[g];if(!V.call(o,T)||!Wn(i[T],o[T]))return!1}return!0}function Z2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function J2(i,o){var l=Z2(i);i=0;for(var g;l;){if(l.nodeType===3){if(g=i+l.textContent.length,i<=o&&g>=o)return{node:l,offset:o-i};i=g}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Z2(l)}}function tw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?tw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ew(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=au(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=au(i.document)}return o}function W1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var UC=Gi&&"documentMode"in document&&11>=document.documentMode,wc=null,Z1=null,ml=null,J1=!1;function rw(i,o,l){var g=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;J1||wc==null||wc!==au(g)||(g=wc,"selectionStart"in g&&W1(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ml&&_l(ml,g)||(ml=g,g=k0(Z1,"onSelect"),0<g.length&&(o=new jt("onSelect","select",null,o,l),i.push({event:o,listeners:g}),o.target=wc)))}function uu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ac={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionrun:uu("Transition","TransitionRun"),transitionstart:uu("Transition","TransitionStart"),transitioncancel:uu("Transition","TransitionCancel"),transitionend:uu("Transition","TransitionEnd")},tg={},nw={};Gi&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function cu(i){if(tg[i])return tg[i];if(!Ac[i])return i;var o=Ac[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in nw)return tg[i]=o[l];return i}var iw=cu("animationend"),aw=cu("animationiteration"),sw=cu("animationstart"),PC=cu("transitionrun"),kC=cu("transitionstart"),qC=cu("transitioncancel"),ow=cu("transitionend"),uw=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eg.push("scrollEnd");function Zi(i,o){uw.set(i,o),$n(o,[i])}var cw=new WeakMap;function vi(i,o){if(typeof i=="object"&&i!==null){var l=cw.get(i);return l!==void 0?l:(o={value:i,source:o,stack:Qd(o)},cw.set(i,o),o)}return{value:i,source:o,stack:Qd(o)}}var wi=[],Ec=0,rg=0;function e0(){for(var i=Ec,o=rg=Ec=0;o<i;){var l=wi[o];wi[o++]=null;var g=wi[o];wi[o++]=null;var T=wi[o];wi[o++]=null;var N=wi[o];if(wi[o++]=null,g!==null&&T!==null){var Z=g.pending;Z===null?T.next=T:(T.next=Z.next,Z.next=T),g.pending=T}N!==0&&fw(l,T,N)}}function r0(i,o,l,g){wi[Ec++]=i,wi[Ec++]=o,wi[Ec++]=l,wi[Ec++]=g,rg|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function ng(i,o,l,g){return r0(i,o,l,g),n0(i)}function xc(i,o){return r0(i,null,null,o),n0(i)}function fw(i,o,l){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l);for(var T=!1,N=i.return;N!==null;)N.childLanes|=l,g=N.alternate,g!==null&&(g.childLanes|=l),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(T=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,T&&o!==null&&(T=31-K(l),i=N.hiddenUpdates,g=i[T],g===null?i[T]=[o]:g.push(o),o.lane=l|536870912),N):null}function n0(i){if(50<Kl)throw Kl=0,cy=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Sc={};function zC(i,o,l,g){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,o,l,g){return new zC(i,o,l,g)}function ig(i){return i=i.prototype,!(!i||!i.isReactComponent)}function es(i,o){var l=i.alternate;return l===null?(l=Zn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function lw(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function i0(i,o,l,g,T,N){var Z=0;if(g=i,typeof i=="function")ig(i)&&(Z=1);else if(typeof i=="string")Z=FI(i,l,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case F:return i=Zn(31,l,o,T),i.elementType=F,i.lanes=N,i;case S:return fu(l.children,T,N,o);case A:Z=8,T|=24;break;case E:return i=Zn(12,l,o,T|2),i.elementType=E,i.lanes=N,i;case H:return i=Zn(13,l,o,T),i.elementType=H,i.lanes=N,i;case P:return i=Zn(19,l,o,T),i.elementType=P,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:case U:Z=10;break t;case L:Z=9;break t;case O:Z=11;break t;case q:Z=14;break t;case j:Z=16,g=null;break t}Z=29,l=Error(n(130,i===null?"null":typeof i,"")),g=null}return o=Zn(Z,l,o,T),o.elementType=i,o.type=g,o.lanes=N,o}function fu(i,o,l,g){return i=Zn(7,i,g,o),i.lanes=l,i}function ag(i,o,l){return i=Zn(6,i,null,o),i.lanes=l,i}function sg(i,o,l){return o=Zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Cc=[],Ic=0,a0=null,s0=0,Ai=[],Ei=0,lu=null,rs=1,ns="";function hu(i,o){Cc[Ic++]=s0,Cc[Ic++]=a0,a0=i,s0=o}function hw(i,o,l){Ai[Ei++]=rs,Ai[Ei++]=ns,Ai[Ei++]=lu,lu=i;var g=rs;i=ns;var T=32-K(g)-1;g&=~(1<<T),l+=1;var N=32-K(o)+T;if(30<N){var Z=T-T%5;N=(g&(1<<Z)-1).toString(32),g>>=Z,T-=Z,rs=1<<32-K(o)+T|l<<T|g,ns=N+i}else rs=1<<N|l<<T|g,ns=i}function og(i){i.return!==null&&(hu(i,1),hw(i,1,0))}function ug(i){for(;i===a0;)a0=Cc[--Ic],Cc[Ic]=null,s0=Cc[--Ic],Cc[Ic]=null;for(;i===lu;)lu=Ai[--Ei],Ai[Ei]=null,ns=Ai[--Ei],Ai[Ei]=null,rs=Ai[--Ei],Ai[Ei]=null}var An=null,hr=null,xe=!1,du=null,Aa=!1,cg=Error(n(519));function pu(i){var o=Error(n(418,""));throw Al(vi(o,i)),cg}function dw(i){var o=i.stateNode,l=i.type,g=i.memoizedProps;switch(o[ue]=i,o[le]=g,l){case"dialog":de("cancel",o),de("close",o);break;case"iframe":case"object":case"embed":de("load",o);break;case"video":case"audio":for(l=0;l<Yl.length;l++)de(Yl[l],o);break;case"source":de("error",o);break;case"img":case"image":case"link":de("error",o),de("load",o);break;case"details":de("toggle",o);break;case"input":de("invalid",o),Yd(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),va(o);break;case"select":de("invalid",o);break;case"textarea":de("invalid",o),hl(o,g.value,g.defaultValue,g.children),va(o)}l=g.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||g.suppressHydrationWarning===!0||O6(o.textContent,l)?(g.popover!=null&&(de("beforetoggle",o),de("toggle",o)),g.onScroll!=null&&de("scroll",o),g.onScrollEnd!=null&&de("scrollend",o),g.onClick!=null&&(o.onclick=q0),o=!0):o=!1,o||pu(i)}function pw(i){for(An=i.return;An;)switch(An.tag){case 5:case 13:Aa=!1;return;case 27:case 3:Aa=!0;return;default:An=An.return}}function vl(i){if(i!==An)return!1;if(!xe)return pw(i),xe=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Sy(i.type,i.memoizedProps)),l=!l),l&&hr&&pu(i),pw(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){hr=ta(i.nextSibling);break t}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}hr=null}}else o===27?(o=hr,oo(i.type)?(i=By,By=null,hr=i):hr=o):hr=An?ta(i.stateNode.nextSibling):null;return!0}function wl(){hr=An=null,xe=!1}function gw(){var i=du;return i!==null&&(qn===null?qn=i:qn.push.apply(qn,i),du=null),i}function Al(i){du===null?du=[i]:du.push(i)}var fg=R(null),gu=null,is=null;function Ys(i,o,l){Q(fg,o._currentValue),o._currentValue=l}function as(i){i._currentValue=fg.current,Y(fg)}function lg(i,o,l){for(;i!==null;){var g=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),i===l)break;i=i.return}}function hg(i,o,l,g){var T=i.child;for(T!==null&&(T.return=i);T!==null;){var N=T.dependencies;if(N!==null){var Z=T.child;N=N.firstContext;t:for(;N!==null;){var rt=N;N=T;for(var gt=0;gt<o.length;gt++)if(rt.context===o[gt]){N.lanes|=l,rt=N.alternate,rt!==null&&(rt.lanes|=l),lg(N.return,l,i),g||(Z=null);break t}N=rt.next}}else if(T.tag===18){if(Z=T.return,Z===null)throw Error(n(341));Z.lanes|=l,N=Z.alternate,N!==null&&(N.lanes|=l),lg(Z,l,i),Z=null}else Z=T.child;if(Z!==null)Z.return=T;else for(Z=T;Z!==null;){if(Z===i){Z=null;break}if(T=Z.sibling,T!==null){T.return=Z.return,Z=T;break}Z=Z.return}T=Z}}function El(i,o,l,g){i=null;for(var T=o,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var Z=T.alternate;if(Z===null)throw Error(n(387));if(Z=Z.memoizedProps,Z!==null){var rt=T.type;Wn(T.pendingProps.value,Z.value)||(i!==null?i.push(rt):i=[rt])}}else if(T===et.current){if(Z=T.alternate,Z===null)throw Error(n(387));Z.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(i!==null?i.push(Zl):i=[Zl])}T=T.return}i!==null&&hg(o,i,l,g),o.flags|=262144}function o0(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function yu(i){gu=i,is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return yw(gu,i)}function u0(i,o){return gu===null&&yu(i),yw(i,o)}function yw(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},is===null){if(i===null)throw Error(n(308));is=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else is=is.next=o;return l}var jC=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,g){i.push(g)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},FC=e.unstable_scheduleCallback,KC=e.unstable_NormalPriority,Tr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dg(){return{controller:new jC,data:new Map,refCount:0}}function xl(i){i.refCount--,i.refCount===0&&FC(KC,function(){i.controller.abort()})}var Sl=null,pg=0,Tc=0,Bc=null;function QC(i,o){if(Sl===null){var l=Sl=[];pg=0,Tc=yy(),Bc={status:"pending",value:void 0,then:function(g){l.push(g)}}}return pg++,o.then(bw,bw),o}function bw(){if(--pg===0&&Sl!==null){Bc!==null&&(Bc.status="fulfilled");var i=Sl;Sl=null,Tc=0,Bc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function YC(i,o){var l=[],g={status:"pending",value:null,reason:null,then:function(T){l.push(T)}};return i.then(function(){g.status="fulfilled",g.value=o;for(var T=0;T<l.length;T++)(0,l[T])(o)},function(T){for(g.status="rejected",g.reason=T,T=0;T<l.length;T++)(0,l[T])(void 0)}),g}var _w=p.S;p.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&QC(i,o),_w!==null&&_w(i,o)};var bu=R(null);function gg(){var i=bu.current;return i!==null?i:Ge.pooledCache}function c0(i,o){o===null?Q(bu,bu.current):Q(bu,o.pool)}function mw(){var i=gg();return i===null?null:{parent:Tr._currentValue,pool:i}}var Cl=Error(n(460)),vw=Error(n(474)),f0=Error(n(542)),yg={then:function(){}};function ww(i){return i=i.status,i==="fulfilled"||i==="rejected"}function l0(){}function Aw(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(l0,l0),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xw(i),i;default:if(typeof o.status=="string")o.then(l0,l0);else{if(i=Ge,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(g){if(o.status==="pending"){var T=o;T.status="fulfilled",T.value=g}},function(g){if(o.status==="pending"){var T=o;T.status="rejected",T.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xw(i),i}throw Il=o,Cl}}var Il=null;function Ew(){if(Il===null)throw Error(n(459));var i=Il;return Il=null,i}function xw(i){if(i===Cl||i===f0)throw Error(n(483))}var Vs=!1;function bg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _g(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $s(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,o,l){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Be&2)!==0){var T=g.pending;return T===null?o.next=o:(o.next=T.next,T.next=o),g.pending=o,o=n0(i),fw(i,null,l),o}return r0(i,g,o,l),n0(i)}function Tl(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var g=o.lanes;g&=i.pendingLanes,l|=g,o.lanes=l,ke(i,l)}}function mg(i,o){var l=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,l===g)){var T=null,N=null;if(l=l.firstBaseUpdate,l!==null){do{var Z={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};N===null?T=N=Z:N=N.next=Z,l=l.next}while(l!==null);N===null?T=N=o:N=N.next=o}else T=N=o;l={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var vg=!1;function Bl(){if(vg){var i=Bc;if(i!==null)throw i}}function Ol(i,o,l,g){vg=!1;var T=i.updateQueue;Vs=!1;var N=T.firstBaseUpdate,Z=T.lastBaseUpdate,rt=T.shared.pending;if(rt!==null){T.shared.pending=null;var gt=rt,xt=gt.next;gt.next=null,Z===null?N=xt:Z.next=xt,Z=gt;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,rt=Bt.lastBaseUpdate,rt!==Z&&(rt===null?Bt.firstBaseUpdate=xt:rt.next=xt,Bt.lastBaseUpdate=gt))}if(N!==null){var Rt=T.baseState;Z=0,Bt=xt=gt=null,rt=N;do{var St=rt.lane&-536870913,It=St!==rt.lane;if(It?(me&St)===St:(g&St)===St){St!==0&&St===Tc&&(vg=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:rt.tag,payload:rt.payload,callback:null,next:null});t:{var re=i,Jt=rt;St=o;var Ue=l;switch(Jt.tag){case 1:if(re=Jt.payload,typeof re=="function"){Rt=re.call(Ue,Rt,St);break t}Rt=re;break t;case 3:re.flags=re.flags&-65537|128;case 0:if(re=Jt.payload,St=typeof re=="function"?re.call(Ue,Rt,St):re,St==null)break t;Rt=d({},Rt,St);break t;case 2:Vs=!0}}St=rt.callback,St!==null&&(i.flags|=64,It&&(i.flags|=8192),It=T.callbacks,It===null?T.callbacks=[St]:It.push(St))}else It={lane:St,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},Bt===null?(xt=Bt=It,gt=Rt):Bt=Bt.next=It,Z|=St;if(rt=rt.next,rt===null){if(rt=T.shared.pending,rt===null)break;It=rt,rt=It.next,It.next=null,T.lastBaseUpdate=It,T.shared.pending=null}}while(!0);Bt===null&&(gt=Rt),T.baseState=gt,T.firstBaseUpdate=xt,T.lastBaseUpdate=Bt,N===null&&(T.shared.lanes=0),no|=Z,i.lanes=Z,i.memoizedState=Rt}}function Sw(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function Cw(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Sw(l[i],o)}var Oc=R(null),h0=R(0);function Iw(i,o){i=hs,Q(h0,i),Q(Oc,o),hs=i|o.baseLanes}function wg(){Q(h0,hs),Q(Oc,Oc.current)}function Ag(){hs=h0.current,Y(Oc),Y(h0)}var Xs=0,ce=null,Le=null,Er=null,d0=!1,Dc=!1,_u=!1,p0=0,Dl=0,Mc=null,VC=0;function yr(){throw Error(n(321))}function Eg(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Wn(i[l],o[l]))return!1;return!0}function xg(i,o,l,g,T,N){return Xs=N,ce=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,p.H=i===null||i.memoizedState===null?f3:l3,_u=!1,N=l(g,T),_u=!1,Dc&&(N=Bw(o,l,g,T)),Tw(i),N}function Tw(i){p.H=v0;var o=Le!==null&&Le.next!==null;if(Xs=0,Er=Le=ce=null,d0=!1,Dl=0,Mc=null,o)throw Error(n(300));i===null||Hr||(i=i.dependencies,i!==null&&o0(i)&&(Hr=!0))}function Bw(i,o,l,g){ce=i;var T=0;do{if(Dc&&(Mc=null),Dl=0,Dc=!1,25<=T)throw Error(n(301));if(T+=1,Er=Le=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}p.H=tI,N=o(l,g)}while(Dc);return N}function $C(){var i=p.H,o=i.useState()[0];return o=typeof o.then=="function"?Ml(o):o,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(ce.flags|=1024),o}function Sg(){var i=p0!==0;return p0=0,i}function Cg(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Ig(i){if(d0){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}d0=!1}Xs=0,Er=Le=ce=null,Dc=!1,Dl=p0=0,Mc=null}function Pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?ce.memoizedState=Er=i:Er=Er.next=i,Er}function xr(){if(Le===null){var i=ce.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var o=Er===null?ce.memoizedState:Er.next;if(o!==null)Er=o,Le=i;else{if(i===null)throw ce.alternate===null?Error(n(467)):Error(n(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Er===null?ce.memoizedState=Er=i:Er=Er.next=i}return Er}function Tg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(i){var o=Dl;return Dl+=1,Mc===null&&(Mc=[]),i=Aw(Mc,i,o),o=ce,(Er===null?o.memoizedState:Er.next)===null&&(o=o.alternate,p.H=o===null||o.memoizedState===null?f3:l3),i}function g0(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ml(i);if(i.$$typeof===U)return sn(i)}throw Error(n(438,String(i)))}function Bg(i){var o=null,l=ce.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var g=ce.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(T){return T.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Tg(),ce.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),g=0;g<i;g++)l[g]=X;return o.index++,l}function ss(i,o){return typeof o=="function"?o(i):o}function y0(i){var o=xr();return Og(o,Le,i)}function Og(i,o,l){var g=i.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var T=i.baseQueue,N=g.pending;if(N!==null){if(T!==null){var Z=T.next;T.next=N.next,N.next=Z}o.baseQueue=T=N,g.pending=null}if(N=i.baseState,T===null)i.memoizedState=N;else{o=T.next;var rt=Z=null,gt=null,xt=o,Bt=!1;do{var Rt=xt.lane&-536870913;if(Rt!==xt.lane?(me&Rt)===Rt:(Xs&Rt)===Rt){var St=xt.revertLane;if(St===0)gt!==null&&(gt=gt.next={lane:0,revertLane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),Rt===Tc&&(Bt=!0);else if((Xs&St)===St){xt=xt.next,St===Tc&&(Bt=!0);continue}else Rt={lane:0,revertLane:xt.revertLane,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},gt===null?(rt=gt=Rt,Z=N):gt=gt.next=Rt,ce.lanes|=St,no|=St;Rt=xt.action,_u&&l(N,Rt),N=xt.hasEagerState?xt.eagerState:l(N,Rt)}else St={lane:Rt,revertLane:xt.revertLane,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},gt===null?(rt=gt=St,Z=N):gt=gt.next=St,ce.lanes|=Rt,no|=Rt;xt=xt.next}while(xt!==null&&xt!==o);if(gt===null?Z=N:gt.next=rt,!Wn(N,i.memoizedState)&&(Hr=!0,Bt&&(l=Bc,l!==null)))throw l;i.memoizedState=N,i.baseState=Z,i.baseQueue=gt,g.lastRenderedState=N}return T===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function Dg(i){var o=xr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var g=l.dispatch,T=l.pending,N=o.memoizedState;if(T!==null){l.pending=null;var Z=T=T.next;do N=i(N,Z.action),Z=Z.next;while(Z!==T);Wn(N,o.memoizedState)||(Hr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),l.lastRenderedState=N}return[N,g]}function Ow(i,o,l){var g=ce,T=xr(),N=xe;if(N){if(l===void 0)throw Error(n(407));l=l()}else l=o();var Z=!Wn((Le||T).memoizedState,l);Z&&(T.memoizedState=l,Hr=!0),T=T.queue;var rt=Rw.bind(null,g,T,i);if(Rl(2048,8,rt,[i]),T.getSnapshot!==o||Z||Er!==null&&Er.memoizedState.tag&1){if(g.flags|=2048,Rc(9,b0(),Mw.bind(null,g,T,l,o),null),Ge===null)throw Error(n(349));N||(Xs&124)!==0||Dw(g,o,l)}return l}function Dw(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ce.updateQueue,o===null?(o=Tg(),ce.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Mw(i,o,l,g){o.value=l,o.getSnapshot=g,Hw(o)&&Lw(i)}function Rw(i,o,l){return l(function(){Hw(o)&&Lw(i)})}function Hw(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Wn(i,l)}catch{return!0}}function Lw(i){var o=xc(i,2);o!==null&&ni(o,i,2)}function Mg(i){var o=Pn();if(typeof i=="function"){var l=i;if(i=l(),_u){k(!0);try{l()}finally{k(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},o}function Nw(i,o,l,g){return i.baseState=l,Og(i,Le,typeof g=="function"?g:ss)}function GC(i,o,l,g,T){if(m0(i))throw Error(n(485));if(i=o.action,i!==null){var N={payload:T,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){N.listeners.push(Z)}};p.T!==null?l(!0):N.isTransition=!1,g(N),l=o.pending,l===null?(N.next=o.pending=N,Uw(o,N)):(N.next=l.next,o.pending=l.next=N)}}function Uw(i,o){var l=o.action,g=o.payload,T=i.state;if(o.isTransition){var N=p.T,Z={};p.T=Z;try{var rt=l(T,g),gt=p.S;gt!==null&&gt(Z,rt),Pw(i,o,rt)}catch(xt){Rg(i,o,xt)}finally{p.T=N}}else try{N=l(T,g),Pw(i,o,N)}catch(xt){Rg(i,o,xt)}}function Pw(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(g){kw(i,o,g)},function(g){return Rg(i,o,g)}):kw(i,o,l)}function kw(i,o,l){o.status="fulfilled",o.value=l,qw(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,Uw(i,l)))}function Rg(i,o,l){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=l,qw(o),o=o.next;while(o!==g)}i.action=null}function qw(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function zw(i,o){return o}function jw(i,o){if(xe){var l=Ge.formState;if(l!==null){t:{var g=ce;if(xe){if(hr){e:{for(var T=hr,N=Aa;T.nodeType!==8;){if(!N){T=null;break e}if(T=ta(T.nextSibling),T===null){T=null;break e}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){hr=ta(T.nextSibling),g=T.data==="F!";break t}}pu(g)}g=!1}g&&(o=l[0])}}return l=Pn(),l.memoizedState=l.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zw,lastRenderedState:o},l.queue=g,l=o3.bind(null,ce,g),g.dispatch=l,g=Mg(!1),N=Pg.bind(null,ce,!1,g.queue),g=Pn(),T={state:o,dispatch:null,action:i,pending:null},g.queue=T,l=GC.bind(null,ce,T,N,l),T.dispatch=l,g.memoizedState=i,[o,l,!1]}function Fw(i){var o=xr();return Kw(o,Le,i)}function Kw(i,o,l){if(o=Og(i,o,zw)[0],i=y0(ss)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Ml(o)}catch(Z){throw Z===Cl?f0:Z}else g=o;o=xr();var T=o.queue,N=T.dispatch;return l!==o.memoizedState&&(ce.flags|=2048,Rc(9,b0(),XC.bind(null,T,l),null)),[g,N,i]}function XC(i,o){i.action=o}function Qw(i){var o=xr(),l=Le;if(l!==null)return Kw(o,l,i);xr(),o=o.memoizedState,l=xr();var g=l.queue.dispatch;return l.memoizedState=i,[o,g,!1]}function Rc(i,o,l,g){return i={tag:i,create:l,deps:g,inst:o,next:null},o=ce.updateQueue,o===null&&(o=Tg(),ce.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(g=l.next,l.next=i,i.next=g,o.lastEffect=i),i}function b0(){return{destroy:void 0,resource:void 0}}function Yw(){return xr().memoizedState}function _0(i,o,l,g){var T=Pn();g=g===void 0?null:g,ce.flags|=i,T.memoizedState=Rc(1|o,b0(),l,g)}function Rl(i,o,l,g){var T=xr();g=g===void 0?null:g;var N=T.memoizedState.inst;Le!==null&&g!==null&&Eg(g,Le.memoizedState.deps)?T.memoizedState=Rc(o,N,l,g):(ce.flags|=i,T.memoizedState=Rc(1|o,N,l,g))}function Vw(i,o){_0(8390656,8,i,o)}function $w(i,o){Rl(2048,8,i,o)}function Gw(i,o){return Rl(4,2,i,o)}function Xw(i,o){return Rl(4,4,i,o)}function Ww(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Zw(i,o,l){l=l!=null?l.concat([i]):null,Rl(4,4,Ww.bind(null,o,i),l)}function Hg(){}function Jw(i,o){var l=xr();o=o===void 0?null:o;var g=l.memoizedState;return o!==null&&Eg(o,g[1])?g[0]:(l.memoizedState=[i,o],i)}function t3(i,o){var l=xr();o=o===void 0?null:o;var g=l.memoizedState;if(o!==null&&Eg(o,g[1]))return g[0];if(g=i(),_u){k(!0);try{i()}finally{k(!1)}}return l.memoizedState=[g,o],g}function Lg(i,o,l){return l===void 0||(Xs&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=n6(),ce.lanes|=i,no|=i,l)}function e3(i,o,l,g){return Wn(l,o)?l:Oc.current!==null?(i=Lg(i,l,g),Wn(i,o)||(Hr=!0),i):(Xs&42)===0?(Hr=!0,i.memoizedState=l):(i=n6(),ce.lanes|=i,no|=i,o)}function r3(i,o,l,g,T){var N=v.p;v.p=N!==0&&8>N?N:8;var Z=p.T,rt={};p.T=rt,Pg(i,!1,o,l);try{var gt=T(),xt=p.S;if(xt!==null&&xt(rt,gt),gt!==null&&typeof gt=="object"&&typeof gt.then=="function"){var Bt=YC(gt,g);Hl(i,o,Bt,ri(i))}else Hl(i,o,g,ri(i))}catch(Rt){Hl(i,o,{then:function(){},status:"rejected",reason:Rt},ri())}finally{v.p=N,p.T=Z}}function WC(){}function Ng(i,o,l,g){if(i.tag!==5)throw Error(n(476));var T=n3(i).queue;r3(i,T,o,D,l===null?WC:function(){return i3(i),l(g)})}function n3(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:D},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function i3(i){var o=n3(i).next.queue;Hl(i,o,{},ri())}function Ug(){return sn(Zl)}function a3(){return xr().memoizedState}function s3(){return xr().memoizedState}function ZC(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=ri();i=$s(l);var g=Gs(o,i,l);g!==null&&(ni(g,o,l),Tl(g,o,l)),o={cache:dg()},i.payload=o;return}o=o.return}}function JC(i,o,l){var g=ri();l={lane:g,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},m0(i)?u3(o,l):(l=ng(i,o,l,g),l!==null&&(ni(l,i,g),c3(l,o,g)))}function o3(i,o,l){var g=ri();Hl(i,o,l,g)}function Hl(i,o,l,g){var T={lane:g,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(m0(i))u3(o,T);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var Z=o.lastRenderedState,rt=N(Z,l);if(T.hasEagerState=!0,T.eagerState=rt,Wn(rt,Z))return r0(i,o,T,0),Ge===null&&e0(),!1}catch{}finally{}if(l=ng(i,o,T,g),l!==null)return ni(l,i,g),c3(l,o,g),!0}return!1}function Pg(i,o,l,g){if(g={lane:2,revertLane:yy(),action:g,hasEagerState:!1,eagerState:null,next:null},m0(i)){if(o)throw Error(n(479))}else o=ng(i,l,g,2),o!==null&&ni(o,i,2)}function m0(i){var o=i.alternate;return i===ce||o!==null&&o===ce}function u3(i,o){Dc=d0=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function c3(i,o,l){if((l&4194048)!==0){var g=o.lanes;g&=i.pendingLanes,l|=g,o.lanes=l,ke(i,l)}}var v0={readContext:sn,use:g0,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useInsertionEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useSyncExternalStore:yr,useId:yr,useHostTransitionStatus:yr,useFormState:yr,useActionState:yr,useOptimistic:yr,useMemoCache:yr,useCacheRefresh:yr},f3={readContext:sn,use:g0,useCallback:function(i,o){return Pn().memoizedState=[i,o===void 0?null:o],i},useContext:sn,useEffect:Vw,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,_0(4194308,4,Ww.bind(null,o,i),l)},useLayoutEffect:function(i,o){return _0(4194308,4,i,o)},useInsertionEffect:function(i,o){_0(4,2,i,o)},useMemo:function(i,o){var l=Pn();o=o===void 0?null:o;var g=i();if(_u){k(!0);try{i()}finally{k(!1)}}return l.memoizedState=[g,o],g},useReducer:function(i,o,l){var g=Pn();if(l!==void 0){var T=l(o);if(_u){k(!0);try{l(o)}finally{k(!1)}}}else T=o;return g.memoizedState=g.baseState=T,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:T},g.queue=i,i=i.dispatch=JC.bind(null,ce,i),[g.memoizedState,i]},useRef:function(i){var o=Pn();return i={current:i},o.memoizedState=i},useState:function(i){i=Mg(i);var o=i.queue,l=o3.bind(null,ce,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Hg,useDeferredValue:function(i,o){var l=Pn();return Lg(l,i,o)},useTransition:function(){var i=Mg(!1);return i=r3.bind(null,ce,i.queue,!0,!1),Pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var g=ce,T=Pn();if(xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Ge===null)throw Error(n(349));(me&124)!==0||Dw(g,o,l)}T.memoizedState=l;var N={value:l,getSnapshot:o};return T.queue=N,Vw(Rw.bind(null,g,N,i),[i]),g.flags|=2048,Rc(9,b0(),Mw.bind(null,g,N,l,o),null),l},useId:function(){var i=Pn(),o=Ge.identifierPrefix;if(xe){var l=ns,g=rs;l=(g&~(1<<32-K(g)-1)).toString(32)+l,o=""+o+"R"+l,l=p0++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=VC++,o=""+o+"r"+l.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:Ug,useFormState:jw,useActionState:jw,useOptimistic:function(i){var o=Pn();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Pg.bind(null,ce,!0,l),l.dispatch=o,[i,o]},useMemoCache:Bg,useCacheRefresh:function(){return Pn().memoizedState=ZC.bind(null,ce)}},l3={readContext:sn,use:g0,useCallback:Jw,useContext:sn,useEffect:$w,useImperativeHandle:Zw,useInsertionEffect:Gw,useLayoutEffect:Xw,useMemo:t3,useReducer:y0,useRef:Yw,useState:function(){return y0(ss)},useDebugValue:Hg,useDeferredValue:function(i,o){var l=xr();return e3(l,Le.memoizedState,i,o)},useTransition:function(){var i=y0(ss)[0],o=xr().memoizedState;return[typeof i=="boolean"?i:Ml(i),o]},useSyncExternalStore:Ow,useId:a3,useHostTransitionStatus:Ug,useFormState:Fw,useActionState:Fw,useOptimistic:function(i,o){var l=xr();return Nw(l,Le,i,o)},useMemoCache:Bg,useCacheRefresh:s3},tI={readContext:sn,use:g0,useCallback:Jw,useContext:sn,useEffect:$w,useImperativeHandle:Zw,useInsertionEffect:Gw,useLayoutEffect:Xw,useMemo:t3,useReducer:Dg,useRef:Yw,useState:function(){return Dg(ss)},useDebugValue:Hg,useDeferredValue:function(i,o){var l=xr();return Le===null?Lg(l,i,o):e3(l,Le.memoizedState,i,o)},useTransition:function(){var i=Dg(ss)[0],o=xr().memoizedState;return[typeof i=="boolean"?i:Ml(i),o]},useSyncExternalStore:Ow,useId:a3,useHostTransitionStatus:Ug,useFormState:Qw,useActionState:Qw,useOptimistic:function(i,o){var l=xr();return Le!==null?Nw(l,Le,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Bg,useCacheRefresh:s3},Hc=null,Ll=0;function w0(i){var o=Ll;return Ll+=1,Hc===null&&(Hc=[]),Aw(Hc,i,o)}function Nl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function A0(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function h3(i){var o=i._init;return o(i._payload)}function d3(i){function o(vt,bt){if(i){var Et=vt.deletions;Et===null?(vt.deletions=[bt],vt.flags|=16):Et.push(bt)}}function l(vt,bt){if(!i)return null;for(;bt!==null;)o(vt,bt),bt=bt.sibling;return null}function g(vt){for(var bt=new Map;vt!==null;)vt.key!==null?bt.set(vt.key,vt):bt.set(vt.index,vt),vt=vt.sibling;return bt}function T(vt,bt){return vt=es(vt,bt),vt.index=0,vt.sibling=null,vt}function N(vt,bt,Et){return vt.index=Et,i?(Et=vt.alternate,Et!==null?(Et=Et.index,Et<bt?(vt.flags|=67108866,bt):Et):(vt.flags|=67108866,bt)):(vt.flags|=1048576,bt)}function Z(vt){return i&&vt.alternate===null&&(vt.flags|=67108866),vt}function rt(vt,bt,Et,Dt){return bt===null||bt.tag!==6?(bt=ag(Et,vt.mode,Dt),bt.return=vt,bt):(bt=T(bt,Et),bt.return=vt,bt)}function gt(vt,bt,Et,Dt){var Qt=Et.type;return Qt===S?Bt(vt,bt,Et.props.children,Dt,Et.key):bt!==null&&(bt.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===j&&h3(Qt)===bt.type)?(bt=T(bt,Et.props),Nl(bt,Et),bt.return=vt,bt):(bt=i0(Et.type,Et.key,Et.props,null,vt.mode,Dt),Nl(bt,Et),bt.return=vt,bt)}function xt(vt,bt,Et,Dt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Et.containerInfo||bt.stateNode.implementation!==Et.implementation?(bt=sg(Et,vt.mode,Dt),bt.return=vt,bt):(bt=T(bt,Et.children||[]),bt.return=vt,bt)}function Bt(vt,bt,Et,Dt,Qt){return bt===null||bt.tag!==7?(bt=fu(Et,vt.mode,Dt,Qt),bt.return=vt,bt):(bt=T(bt,Et),bt.return=vt,bt)}function Rt(vt,bt,Et){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=ag(""+bt,vt.mode,Et),bt.return=vt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case _:return Et=i0(bt.type,bt.key,bt.props,null,vt.mode,Et),Nl(Et,bt),Et.return=vt,Et;case w:return bt=sg(bt,vt.mode,Et),bt.return=vt,bt;case j:var Dt=bt._init;return bt=Dt(bt._payload),Rt(vt,bt,Et)}if(C(bt)||I(bt))return bt=fu(bt,vt.mode,Et,null),bt.return=vt,bt;if(typeof bt.then=="function")return Rt(vt,w0(bt),Et);if(bt.$$typeof===U)return Rt(vt,u0(vt,bt),Et);A0(vt,bt)}return null}function St(vt,bt,Et,Dt){var Qt=bt!==null?bt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Qt!==null?null:rt(vt,bt,""+Et,Dt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case _:return Et.key===Qt?gt(vt,bt,Et,Dt):null;case w:return Et.key===Qt?xt(vt,bt,Et,Dt):null;case j:return Qt=Et._init,Et=Qt(Et._payload),St(vt,bt,Et,Dt)}if(C(Et)||I(Et))return Qt!==null?null:Bt(vt,bt,Et,Dt,null);if(typeof Et.then=="function")return St(vt,bt,w0(Et),Dt);if(Et.$$typeof===U)return St(vt,bt,u0(vt,Et),Dt);A0(vt,Et)}return null}function It(vt,bt,Et,Dt,Qt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return vt=vt.get(Et)||null,rt(bt,vt,""+Dt,Qt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case _:return vt=vt.get(Dt.key===null?Et:Dt.key)||null,gt(bt,vt,Dt,Qt);case w:return vt=vt.get(Dt.key===null?Et:Dt.key)||null,xt(bt,vt,Dt,Qt);case j:var fe=Dt._init;return Dt=fe(Dt._payload),It(vt,bt,Et,Dt,Qt)}if(C(Dt)||I(Dt))return vt=vt.get(Et)||null,Bt(bt,vt,Dt,Qt,null);if(typeof Dt.then=="function")return It(vt,bt,Et,w0(Dt),Qt);if(Dt.$$typeof===U)return It(vt,bt,Et,u0(bt,Dt),Qt);A0(bt,Dt)}return null}function re(vt,bt,Et,Dt){for(var Qt=null,fe=null,Gt=bt,ee=bt=0,Nr=null;Gt!==null&&ee<Et.length;ee++){Gt.index>ee?(Nr=Gt,Gt=null):Nr=Gt.sibling;var ve=St(vt,Gt,Et[ee],Dt);if(ve===null){Gt===null&&(Gt=Nr);break}i&&Gt&&ve.alternate===null&&o(vt,Gt),bt=N(ve,bt,ee),fe===null?Qt=ve:fe.sibling=ve,fe=ve,Gt=Nr}if(ee===Et.length)return l(vt,Gt),xe&&hu(vt,ee),Qt;if(Gt===null){for(;ee<Et.length;ee++)Gt=Rt(vt,Et[ee],Dt),Gt!==null&&(bt=N(Gt,bt,ee),fe===null?Qt=Gt:fe.sibling=Gt,fe=Gt);return xe&&hu(vt,ee),Qt}for(Gt=g(Gt);ee<Et.length;ee++)Nr=It(Gt,vt,ee,Et[ee],Dt),Nr!==null&&(i&&Nr.alternate!==null&&Gt.delete(Nr.key===null?ee:Nr.key),bt=N(Nr,bt,ee),fe===null?Qt=Nr:fe.sibling=Nr,fe=Nr);return i&&Gt.forEach(function(ho){return o(vt,ho)}),xe&&hu(vt,ee),Qt}function Jt(vt,bt,Et,Dt){if(Et==null)throw Error(n(151));for(var Qt=null,fe=null,Gt=bt,ee=bt=0,Nr=null,ve=Et.next();Gt!==null&&!ve.done;ee++,ve=Et.next()){Gt.index>ee?(Nr=Gt,Gt=null):Nr=Gt.sibling;var ho=St(vt,Gt,ve.value,Dt);if(ho===null){Gt===null&&(Gt=Nr);break}i&&Gt&&ho.alternate===null&&o(vt,Gt),bt=N(ho,bt,ee),fe===null?Qt=ho:fe.sibling=ho,fe=ho,Gt=Nr}if(ve.done)return l(vt,Gt),xe&&hu(vt,ee),Qt;if(Gt===null){for(;!ve.done;ee++,ve=Et.next())ve=Rt(vt,ve.value,Dt),ve!==null&&(bt=N(ve,bt,ee),fe===null?Qt=ve:fe.sibling=ve,fe=ve);return xe&&hu(vt,ee),Qt}for(Gt=g(Gt);!ve.done;ee++,ve=Et.next())ve=It(Gt,vt,ee,ve.value,Dt),ve!==null&&(i&&ve.alternate!==null&&Gt.delete(ve.key===null?ee:ve.key),bt=N(ve,bt,ee),fe===null?Qt=ve:fe.sibling=ve,fe=ve);return i&&Gt.forEach(function(eT){return o(vt,eT)}),xe&&hu(vt,ee),Qt}function Ue(vt,bt,Et,Dt){if(typeof Et=="object"&&Et!==null&&Et.type===S&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case _:t:{for(var Qt=Et.key;bt!==null;){if(bt.key===Qt){if(Qt=Et.type,Qt===S){if(bt.tag===7){l(vt,bt.sibling),Dt=T(bt,Et.props.children),Dt.return=vt,vt=Dt;break t}}else if(bt.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===j&&h3(Qt)===bt.type){l(vt,bt.sibling),Dt=T(bt,Et.props),Nl(Dt,Et),Dt.return=vt,vt=Dt;break t}l(vt,bt);break}else o(vt,bt);bt=bt.sibling}Et.type===S?(Dt=fu(Et.props.children,vt.mode,Dt,Et.key),Dt.return=vt,vt=Dt):(Dt=i0(Et.type,Et.key,Et.props,null,vt.mode,Dt),Nl(Dt,Et),Dt.return=vt,vt=Dt)}return Z(vt);case w:t:{for(Qt=Et.key;bt!==null;){if(bt.key===Qt)if(bt.tag===4&&bt.stateNode.containerInfo===Et.containerInfo&&bt.stateNode.implementation===Et.implementation){l(vt,bt.sibling),Dt=T(bt,Et.children||[]),Dt.return=vt,vt=Dt;break t}else{l(vt,bt);break}else o(vt,bt);bt=bt.sibling}Dt=sg(Et,vt.mode,Dt),Dt.return=vt,vt=Dt}return Z(vt);case j:return Qt=Et._init,Et=Qt(Et._payload),Ue(vt,bt,Et,Dt)}if(C(Et))return re(vt,bt,Et,Dt);if(I(Et)){if(Qt=I(Et),typeof Qt!="function")throw Error(n(150));return Et=Qt.call(Et),Jt(vt,bt,Et,Dt)}if(typeof Et.then=="function")return Ue(vt,bt,w0(Et),Dt);if(Et.$$typeof===U)return Ue(vt,bt,u0(vt,Et),Dt);A0(vt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,bt!==null&&bt.tag===6?(l(vt,bt.sibling),Dt=T(bt,Et),Dt.return=vt,vt=Dt):(l(vt,bt),Dt=ag(Et,vt.mode,Dt),Dt.return=vt,vt=Dt),Z(vt)):l(vt,bt)}return function(vt,bt,Et,Dt){try{Ll=0;var Qt=Ue(vt,bt,Et,Dt);return Hc=null,Qt}catch(Gt){if(Gt===Cl||Gt===f0)throw Gt;var fe=Zn(29,Gt,null,vt.mode);return fe.lanes=Dt,fe.return=vt,fe}finally{}}}var Lc=d3(!0),p3=d3(!1),xi=R(null),Ea=null;function Ws(i){var o=i.alternate;Q(Br,Br.current&1),Q(xi,i),Ea===null&&(o===null||Oc.current!==null||o.memoizedState!==null)&&(Ea=i)}function g3(i){if(i.tag===22){if(Q(Br,Br.current),Q(xi,i),Ea===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Ea=i)}}else Zs()}function Zs(){Q(Br,Br.current),Q(xi,xi.current)}function os(i){Y(xi),Ea===i&&(Ea=null),Y(Br)}var Br=R(0);function E0(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ty(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function kg(i,o,l,g){o=i.memoizedState,l=l(g,o),l=l==null?o:d({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var qg={enqueueSetState:function(i,o,l){i=i._reactInternals;var g=ri(),T=$s(g);T.payload=o,l!=null&&(T.callback=l),o=Gs(i,T,g),o!==null&&(ni(o,i,g),Tl(o,i,g))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var g=ri(),T=$s(g);T.tag=1,T.payload=o,l!=null&&(T.callback=l),o=Gs(i,T,g),o!==null&&(ni(o,i,g),Tl(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=ri(),g=$s(l);g.tag=2,o!=null&&(g.callback=o),o=Gs(i,g,l),o!==null&&(ni(o,i,l),Tl(o,i,l))}};function y3(i,o,l,g,T,N,Z){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,N,Z):o.prototype&&o.prototype.isPureReactComponent?!_l(l,g)||!_l(T,N):!0}function b3(i,o,l,g){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,g),o.state!==i&&qg.enqueueReplaceState(o,o.state,null)}function mu(i,o){var l=o;if("ref"in o){l={};for(var g in o)g!=="ref"&&(l[g]=o[g])}if(i=i.defaultProps){l===o&&(l=d({},l));for(var T in i)l[T]===void 0&&(l[T]=i[T])}return l}var x0=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _3(i){x0(i)}function m3(i){console.error(i)}function v3(i){x0(i)}function S0(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function w3(i,o,l){try{var g=i.onCaughtError;g(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function zg(i,o,l){return l=$s(l),l.tag=3,l.payload={element:null},l.callback=function(){S0(i,o)},l}function A3(i){return i=$s(i),i.tag=3,i}function E3(i,o,l,g){var T=l.type.getDerivedStateFromError;if(typeof T=="function"){var N=g.value;i.payload=function(){return T(N)},i.callback=function(){w3(o,l,g)}}var Z=l.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(i.callback=function(){w3(o,l,g),typeof T!="function"&&(io===null?io=new Set([this]):io.add(this));var rt=g.stack;this.componentDidCatch(g.value,{componentStack:rt!==null?rt:""})})}function eI(i,o,l,g,T){if(l.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=l.alternate,o!==null&&El(o,l,T,!0),l=xi.current,l!==null){switch(l.tag){case 13:return Ea===null?ly():l.alternate===null&&dr===0&&(dr=3),l.flags&=-257,l.flags|=65536,l.lanes=T,g===yg?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([g]):o.add(g),dy(i,g,T)),!1;case 22:return l.flags|=65536,g===yg?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([g]):l.add(g)),dy(i,g,T)),!1}throw Error(n(435,l.tag))}return dy(i,g,T),ly(),!1}if(xe)return o=xi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=T,g!==cg&&(i=Error(n(422),{cause:g}),Al(vi(i,l)))):(g!==cg&&(o=Error(n(423),{cause:g}),Al(vi(o,l))),i=i.current.alternate,i.flags|=65536,T&=-T,i.lanes|=T,g=vi(g,l),T=zg(i.stateNode,g,T),mg(i,T),dr!==4&&(dr=2)),!1;var N=Error(n(520),{cause:g});if(N=vi(N,l),Fl===null?Fl=[N]:Fl.push(N),dr!==4&&(dr=2),o===null)return!0;g=vi(g,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=T&-T,l.lanes|=i,i=zg(l.stateNode,g,i),mg(l,i),!1;case 1:if(o=l.type,N=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(io===null||!io.has(N))))return l.flags|=65536,T&=-T,l.lanes|=T,T=A3(T),E3(T,i,l,g),mg(l,T),!1}l=l.return}while(l!==null);return!1}var x3=Error(n(461)),Hr=!1;function Fr(i,o,l,g){o.child=i===null?p3(o,null,l,g):Lc(o,i.child,l,g)}function S3(i,o,l,g,T){l=l.render;var N=o.ref;if("ref"in g){var Z={};for(var rt in g)rt!=="ref"&&(Z[rt]=g[rt])}else Z=g;return yu(o),g=xg(i,o,l,Z,N,T),rt=Sg(),i!==null&&!Hr?(Cg(i,o,T),us(i,o,T)):(xe&&rt&&og(o),o.flags|=1,Fr(i,o,g,T),o.child)}function C3(i,o,l,g,T){if(i===null){var N=l.type;return typeof N=="function"&&!ig(N)&&N.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=N,I3(i,o,N,g,T)):(i=i0(l.type,null,g,o,o.mode,T),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Gg(i,T)){var Z=N.memoizedProps;if(l=l.compare,l=l!==null?l:_l,l(Z,g)&&i.ref===o.ref)return us(i,o,T)}return o.flags|=1,i=es(N,g),i.ref=o.ref,i.return=o,o.child=i}function I3(i,o,l,g,T){if(i!==null){var N=i.memoizedProps;if(_l(N,g)&&i.ref===o.ref)if(Hr=!1,o.pendingProps=g=N,Gg(i,T))(i.flags&131072)!==0&&(Hr=!0);else return o.lanes=i.lanes,us(i,o,T)}return jg(i,o,l,g,T)}function T3(i,o,l){var g=o.pendingProps,T=g.children,N=i!==null?i.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=N!==null?N.baseLanes|l:l,i!==null){for(T=o.child=i.child,N=0;T!==null;)N=N|T.lanes|T.childLanes,T=T.sibling;o.childLanes=N&~g}else o.childLanes=0,o.child=null;return B3(i,o,g,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&c0(o,N!==null?N.cachePool:null),N!==null?Iw(o,N):wg(),g3(o);else return o.lanes=o.childLanes=536870912,B3(i,o,N!==null?N.baseLanes|l:l,l)}else N!==null?(c0(o,N.cachePool),Iw(o,N),Zs(),o.memoizedState=null):(i!==null&&c0(o,null),wg(),Zs());return Fr(i,o,T,l),o.child}function B3(i,o,l,g){var T=gg();return T=T===null?null:{parent:Tr._currentValue,pool:T},o.memoizedState={baseLanes:l,cachePool:T},i!==null&&c0(o,null),wg(),g3(o),i!==null&&El(i,o,g,!0),null}function C0(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function jg(i,o,l,g,T){return yu(o),l=xg(i,o,l,g,void 0,T),g=Sg(),i!==null&&!Hr?(Cg(i,o,T),us(i,o,T)):(xe&&g&&og(o),o.flags|=1,Fr(i,o,l,T),o.child)}function O3(i,o,l,g,T,N){return yu(o),o.updateQueue=null,l=Bw(o,g,l,T),Tw(i),g=Sg(),i!==null&&!Hr?(Cg(i,o,N),us(i,o,N)):(xe&&g&&og(o),o.flags|=1,Fr(i,o,l,N),o.child)}function D3(i,o,l,g,T){if(yu(o),o.stateNode===null){var N=Sc,Z=l.contextType;typeof Z=="object"&&Z!==null&&(N=sn(Z)),N=new l(g,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=qg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=g,N.state=o.memoizedState,N.refs={},bg(o),Z=l.contextType,N.context=typeof Z=="object"&&Z!==null?sn(Z):Sc,N.state=o.memoizedState,Z=l.getDerivedStateFromProps,typeof Z=="function"&&(kg(o,l,Z,g),N.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Z=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Z!==N.state&&qg.enqueueReplaceState(N,N.state,null),Ol(o,g,N,T),Bl(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(i===null){N=o.stateNode;var rt=o.memoizedProps,gt=mu(l,rt);N.props=gt;var xt=N.context,Bt=l.contextType;Z=Sc,typeof Bt=="object"&&Bt!==null&&(Z=sn(Bt));var Rt=l.getDerivedStateFromProps;Bt=typeof Rt=="function"||typeof N.getSnapshotBeforeUpdate=="function",rt=o.pendingProps!==rt,Bt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(rt||xt!==Z)&&b3(o,N,g,Z),Vs=!1;var St=o.memoizedState;N.state=St,Ol(o,g,N,T),Bl(),xt=o.memoizedState,rt||St!==xt||Vs?(typeof Rt=="function"&&(kg(o,l,Rt,g),xt=o.memoizedState),(gt=Vs||y3(o,l,gt,g,St,xt,Z))?(Bt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=xt),N.props=g,N.state=xt,N.context=Z,g=gt):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{N=o.stateNode,_g(i,o),Z=o.memoizedProps,Bt=mu(l,Z),N.props=Bt,Rt=o.pendingProps,St=N.context,xt=l.contextType,gt=Sc,typeof xt=="object"&&xt!==null&&(gt=sn(xt)),rt=l.getDerivedStateFromProps,(xt=typeof rt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Z!==Rt||St!==gt)&&b3(o,N,g,gt),Vs=!1,St=o.memoizedState,N.state=St,Ol(o,g,N,T),Bl();var It=o.memoizedState;Z!==Rt||St!==It||Vs||i!==null&&i.dependencies!==null&&o0(i.dependencies)?(typeof rt=="function"&&(kg(o,l,rt,g),It=o.memoizedState),(Bt=Vs||y3(o,l,Bt,g,St,It,gt)||i!==null&&i.dependencies!==null&&o0(i.dependencies))?(xt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,It,gt),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,It,gt)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||Z===i.memoizedProps&&St===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&St===i.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=It),N.props=g,N.state=It,N.context=gt,g=Bt):(typeof N.componentDidUpdate!="function"||Z===i.memoizedProps&&St===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&St===i.memoizedState||(o.flags|=1024),g=!1)}return N=g,C0(i,o),g=(o.flags&128)!==0,N||g?(N=o.stateNode,l=g&&typeof l.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&g?(o.child=Lc(o,i.child,null,T),o.child=Lc(o,null,l,T)):Fr(i,o,l,T),o.memoizedState=N.state,i=o.child):i=us(i,o,T),i}function M3(i,o,l,g){return wl(),o.flags|=256,Fr(i,o,l,g),o.child}var Fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kg(i){return{baseLanes:i,cachePool:mw()}}function Qg(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Si),i}function R3(i,o,l){var g=o.pendingProps,T=!1,N=(o.flags&128)!==0,Z;if((Z=N)||(Z=i!==null&&i.memoizedState===null?!1:(Br.current&2)!==0),Z&&(T=!0,o.flags&=-129),Z=(o.flags&32)!==0,o.flags&=-33,i===null){if(xe){if(T?Ws(o):Zs(),xe){var rt=hr,gt;if(gt=rt){t:{for(gt=rt,rt=Aa;gt.nodeType!==8;){if(!rt){rt=null;break t}if(gt=ta(gt.nextSibling),gt===null){rt=null;break t}}rt=gt}rt!==null?(o.memoizedState={dehydrated:rt,treeContext:lu!==null?{id:rs,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},gt=Zn(18,null,null,0),gt.stateNode=rt,gt.return=o,o.child=gt,An=o,hr=null,gt=!0):gt=!1}gt||pu(o)}if(rt=o.memoizedState,rt!==null&&(rt=rt.dehydrated,rt!==null))return Ty(rt)?o.lanes=32:o.lanes=536870912,null;os(o)}return rt=g.children,g=g.fallback,T?(Zs(),T=o.mode,rt=I0({mode:"hidden",children:rt},T),g=fu(g,T,l,null),rt.return=o,g.return=o,rt.sibling=g,o.child=rt,T=o.child,T.memoizedState=Kg(l),T.childLanes=Qg(i,Z,l),o.memoizedState=Fg,g):(Ws(o),Yg(o,rt))}if(gt=i.memoizedState,gt!==null&&(rt=gt.dehydrated,rt!==null)){if(N)o.flags&256?(Ws(o),o.flags&=-257,o=Vg(i,o,l)):o.memoizedState!==null?(Zs(),o.child=i.child,o.flags|=128,o=null):(Zs(),T=g.fallback,rt=o.mode,g=I0({mode:"visible",children:g.children},rt),T=fu(T,rt,l,null),T.flags|=2,g.return=o,T.return=o,g.sibling=T,o.child=g,Lc(o,i.child,null,l),g=o.child,g.memoizedState=Kg(l),g.childLanes=Qg(i,Z,l),o.memoizedState=Fg,o=T);else if(Ws(o),Ty(rt)){if(Z=rt.nextSibling&&rt.nextSibling.dataset,Z)var xt=Z.dgst;Z=xt,g=Error(n(419)),g.stack="",g.digest=Z,Al({value:g,source:null,stack:null}),o=Vg(i,o,l)}else if(Hr||El(i,o,l,!1),Z=(l&i.childLanes)!==0,Hr||Z){if(Z=Ge,Z!==null&&(g=l&-l,g=(g&42)!==0?1:Me(g),g=(g&(Z.suspendedLanes|l))!==0?0:g,g!==0&&g!==gt.retryLane))throw gt.retryLane=g,xc(i,g),ni(Z,i,g),x3;rt.data==="$?"||ly(),o=Vg(i,o,l)}else rt.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=gt.treeContext,hr=ta(rt.nextSibling),An=o,xe=!0,du=null,Aa=!1,i!==null&&(Ai[Ei++]=rs,Ai[Ei++]=ns,Ai[Ei++]=lu,rs=i.id,ns=i.overflow,lu=o),o=Yg(o,g.children),o.flags|=4096);return o}return T?(Zs(),T=g.fallback,rt=o.mode,gt=i.child,xt=gt.sibling,g=es(gt,{mode:"hidden",children:g.children}),g.subtreeFlags=gt.subtreeFlags&65011712,xt!==null?T=es(xt,T):(T=fu(T,rt,l,null),T.flags|=2),T.return=o,g.return=o,g.sibling=T,o.child=g,g=T,T=o.child,rt=i.child.memoizedState,rt===null?rt=Kg(l):(gt=rt.cachePool,gt!==null?(xt=Tr._currentValue,gt=gt.parent!==xt?{parent:xt,pool:xt}:gt):gt=mw(),rt={baseLanes:rt.baseLanes|l,cachePool:gt}),T.memoizedState=rt,T.childLanes=Qg(i,Z,l),o.memoizedState=Fg,g):(Ws(o),l=i.child,i=l.sibling,l=es(l,{mode:"visible",children:g.children}),l.return=o,l.sibling=null,i!==null&&(Z=o.deletions,Z===null?(o.deletions=[i],o.flags|=16):Z.push(i)),o.child=l,o.memoizedState=null,l)}function Yg(i,o){return o=I0({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function I0(i,o){return i=Zn(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Vg(i,o,l){return Lc(o,i.child,null,l),i=Yg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function H3(i,o,l){i.lanes|=o;var g=i.alternate;g!==null&&(g.lanes|=o),lg(i.return,o,l)}function $g(i,o,l,g,T){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:l,tailMode:T}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=l,N.tailMode=T)}function L3(i,o,l){var g=o.pendingProps,T=g.revealOrder,N=g.tail;if(Fr(i,o,g.children,l),g=Br.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H3(i,l,o);else if(i.tag===19)H3(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}switch(Q(Br,g),T){case"forwards":for(l=o.child,T=null;l!==null;)i=l.alternate,i!==null&&E0(i)===null&&(T=l),l=l.sibling;l=T,l===null?(T=o.child,o.child=null):(T=l.sibling,l.sibling=null),$g(o,!1,T,l,N);break;case"backwards":for(l=null,T=o.child,o.child=null;T!==null;){if(i=T.alternate,i!==null&&E0(i)===null){o.child=T;break}i=T.sibling,T.sibling=l,l=T,T=i}$g(o,!0,l,null,N);break;case"together":$g(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function us(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),no|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(El(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=es(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=es(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Gg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&o0(i)))}function rI(i,o,l){switch(o.tag){case 3:it(o,o.stateNode.containerInfo),Ys(o,Tr,i.memoizedState.cache),wl();break;case 27:case 5:ct(o);break;case 4:it(o,o.stateNode.containerInfo);break;case 10:Ys(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(Ws(o),o.flags|=128,null):(l&o.child.childLanes)!==0?R3(i,o,l):(Ws(o),i=us(i,o,l),i!==null?i.sibling:null);Ws(o);break;case 19:var T=(i.flags&128)!==0;if(g=(l&o.childLanes)!==0,g||(El(i,o,l,!1),g=(l&o.childLanes)!==0),T){if(g)return L3(i,o,l);o.flags|=128}if(T=o.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Q(Br,Br.current),g)break;return null;case 22:case 23:return o.lanes=0,T3(i,o,l);case 24:Ys(o,Tr,i.memoizedState.cache)}return us(i,o,l)}function N3(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)Hr=!0;else{if(!Gg(i,l)&&(o.flags&128)===0)return Hr=!1,rI(i,o,l);Hr=(i.flags&131072)!==0}else Hr=!1,xe&&(o.flags&1048576)!==0&&hw(o,s0,o.index);switch(o.lanes=0,o.tag){case 16:t:{i=o.pendingProps;var g=o.elementType,T=g._init;if(g=T(g._payload),o.type=g,typeof g=="function")ig(g)?(i=mu(g,i),o.tag=1,o=D3(null,o,g,i,l)):(o.tag=0,o=jg(null,o,g,i,l));else{if(g!=null){if(T=g.$$typeof,T===O){o.tag=11,o=S3(null,o,g,i,l);break t}else if(T===q){o.tag=14,o=C3(null,o,g,i,l);break t}}throw o=m(g)||g,Error(n(306,o,""))}}return o;case 0:return jg(i,o,o.type,o.pendingProps,l);case 1:return g=o.type,T=mu(g,o.pendingProps),D3(i,o,g,T,l);case 3:t:{if(it(o,o.stateNode.containerInfo),i===null)throw Error(n(387));g=o.pendingProps;var N=o.memoizedState;T=N.element,_g(i,o),Ol(o,g,null,l);var Z=o.memoizedState;if(g=Z.cache,Ys(o,Tr,g),g!==N.cache&&hg(o,[Tr],l,!0),Bl(),g=Z.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:Z.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=M3(i,o,g,l);break t}else if(g!==T){T=vi(Error(n(424)),o),Al(T),o=M3(i,o,g,l);break t}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(hr=ta(i.firstChild),An=o,xe=!0,du=null,Aa=!0,l=p3(o,null,g,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wl(),g===T){o=us(i,o,l);break t}Fr(i,o,g,l)}o=o.child}return o;case 26:return C0(i,o),i===null?(l=q6(o.type,null,o.pendingProps,null))?o.memoizedState=l:xe||(l=o.type,i=o.pendingProps,g=z0(G.current).createElement(l),g[ue]=o,g[le]=i,Qr(g,l,i),ir(g),o.stateNode=g):o.memoizedState=q6(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ct(o),i===null&&xe&&(g=o.stateNode=U6(o.type,o.pendingProps,G.current),An=o,Aa=!0,T=hr,oo(o.type)?(By=T,hr=ta(g.firstChild)):hr=T),Fr(i,o,o.pendingProps.children,l),C0(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&xe&&((T=g=hr)&&(g=OI(g,o.type,o.pendingProps,Aa),g!==null?(o.stateNode=g,An=o,hr=ta(g.firstChild),Aa=!1,T=!0):T=!1),T||pu(o)),ct(o),T=o.type,N=o.pendingProps,Z=i!==null?i.memoizedProps:null,g=N.children,Sy(T,N)?g=null:Z!==null&&Sy(T,Z)&&(o.flags|=32),o.memoizedState!==null&&(T=xg(i,o,$C,null,null,l),Zl._currentValue=T),C0(i,o),Fr(i,o,g,l),o.child;case 6:return i===null&&xe&&((i=l=hr)&&(l=DI(l,o.pendingProps,Aa),l!==null?(o.stateNode=l,An=o,hr=null,i=!0):i=!1),i||pu(o)),null;case 13:return R3(i,o,l);case 4:return it(o,o.stateNode.containerInfo),g=o.pendingProps,i===null?o.child=Lc(o,null,g,l):Fr(i,o,g,l),o.child;case 11:return S3(i,o,o.type,o.pendingProps,l);case 7:return Fr(i,o,o.pendingProps,l),o.child;case 8:return Fr(i,o,o.pendingProps.children,l),o.child;case 12:return Fr(i,o,o.pendingProps.children,l),o.child;case 10:return g=o.pendingProps,Ys(o,o.type,g.value),Fr(i,o,g.children,l),o.child;case 9:return T=o.type._context,g=o.pendingProps.children,yu(o),T=sn(T),g=g(T),o.flags|=1,Fr(i,o,g,l),o.child;case 14:return C3(i,o,o.type,o.pendingProps,l);case 15:return I3(i,o,o.type,o.pendingProps,l);case 19:return L3(i,o,l);case 31:return g=o.pendingProps,l=o.mode,g={mode:g.mode,children:g.children},i===null?(l=I0(g,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=es(i.child,g),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return T3(i,o,l);case 24:return yu(o),g=sn(Tr),i===null?(T=gg(),T===null&&(T=Ge,N=dg(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=l),T=N),o.memoizedState={parent:g,cache:T},bg(o),Ys(o,Tr,T)):((i.lanes&l)!==0&&(_g(i,o),Ol(o,null,null,l),Bl()),T=i.memoizedState,N=o.memoizedState,T.parent!==g?(T={parent:g,cache:g},o.memoizedState=T,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=T),Ys(o,Tr,g)):(g=N.cache,Ys(o,Tr,g),g!==T.cache&&hg(o,[Tr],l,!0))),Fr(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function cs(i){i.flags|=4}function U3(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Q6(o)){if(o=xi.current,o!==null&&((me&4194048)===me?Ea!==null:(me&62914560)!==me&&(me&536870912)===0||o!==Ea))throw Il=yg,vw;i.flags|=8192}}function T0(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Qe():536870912,i.lanes|=o,kc|=o)}function Ul(i,o){if(!xe)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function ur(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,g=0;if(o)for(var T=i.child;T!==null;)l|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=i,T=T.sibling;else for(T=i.child;T!==null;)l|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=i,T=T.sibling;return i.subtreeFlags|=g,i.childLanes=l,o}function nI(i,o,l){var g=o.pendingProps;switch(ug(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(o),null;case 1:return ur(o),null;case 3:return l=o.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),as(Tr),ut(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vl(o)?cs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gw())),ur(o),null;case 26:return l=o.memoizedState,i===null?(cs(o),l!==null?(ur(o),U3(o,l)):(ur(o),o.flags&=-16777217)):l?l!==i.memoizedState?(cs(o),ur(o),U3(o,l)):(ur(o),o.flags&=-16777217):(i.memoizedProps!==g&&cs(o),ur(o),o.flags&=-16777217),null;case 27:tt(o),l=G.current;var T=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==g&&cs(o);else{if(!g){if(o.stateNode===null)throw Error(n(166));return ur(o),null}i=W.current,vl(o)?dw(o):(i=U6(T,g,l),o.stateNode=i,cs(o))}return ur(o),null;case 5:if(tt(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==g&&cs(o);else{if(!g){if(o.stateNode===null)throw Error(n(166));return ur(o),null}if(i=W.current,vl(o))dw(o);else{switch(T=z0(G.current),i){case 1:i=T.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=T.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=T.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=T.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?i.multiple=!0:g.size&&(i.size=g.size);break;default:i=typeof g.is=="string"?T.createElement(l,{is:g.is}):T.createElement(l)}}i[ue]=o,i[le]=g;t:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)i.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break t;for(;T.sibling===null;){if(T.return===null||T.return===o)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=i;t:switch(Qr(i,l,g),l){case"button":case"input":case"select":case"textarea":i=!!g.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&cs(o)}}return ur(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==g&&cs(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(n(166));if(i=G.current,vl(o)){if(i=o.stateNode,l=o.memoizedProps,g=null,T=An,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}i[ue]=o,i=!!(i.nodeValue===l||g!==null&&g.suppressHydrationWarning===!0||O6(i.nodeValue,l)),i||pu(o)}else i=z0(i).createTextNode(g),i[ue]=o,o.stateNode=i}return ur(o),null;case 13:if(g=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(T=vl(o),g!==null&&g.dehydrated!==null){if(i===null){if(!T)throw Error(n(318));if(T=o.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ue]=o}else wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ur(o),T=!1}else T=gw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=T),T=!0;if(!T)return o.flags&256?(os(o),o):(os(o),null)}if(os(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=g!==null,i=i!==null&&i.memoizedState!==null,l){g=o.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var N=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==T&&(g.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),T0(o,o.updateQueue),ur(o),null;case 4:return ut(),i===null&&vy(o.stateNode.containerInfo),ur(o),null;case 10:return as(o.type),ur(o),null;case 19:if(Y(Br),T=o.memoizedState,T===null)return ur(o),null;if(g=(o.flags&128)!==0,N=T.rendering,N===null)if(g)Ul(T,!1);else{if(dr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=E0(i),N!==null){for(o.flags|=128,Ul(T,!1),i=N.updateQueue,o.updateQueue=i,T0(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)lw(l,i),l=l.sibling;return Q(Br,Br.current&1|2),o.child}i=i.sibling}T.tail!==null&&ft()>D0&&(o.flags|=128,g=!0,Ul(T,!1),o.lanes=4194304)}else{if(!g)if(i=E0(N),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,T0(o,i),Ul(T,!0),T.tail===null&&T.tailMode==="hidden"&&!N.alternate&&!xe)return ur(o),null}else 2*ft()-T.renderingStartTime>D0&&l!==536870912&&(o.flags|=128,g=!0,Ul(T,!1),o.lanes=4194304);T.isBackwards?(N.sibling=o.child,o.child=N):(i=T.last,i!==null?i.sibling=N:o.child=N,T.last=N)}return T.tail!==null?(o=T.tail,T.rendering=o,T.tail=o.sibling,T.renderingStartTime=ft(),o.sibling=null,i=Br.current,Q(Br,g?i&1|2:i&1),o):(ur(o),null);case 22:case 23:return os(o),Ag(),g=o.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(l&536870912)!==0&&(o.flags&128)===0&&(ur(o),o.subtreeFlags&6&&(o.flags|=8192)):ur(o),l=o.updateQueue,l!==null&&T0(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==l&&(o.flags|=2048),i!==null&&Y(bu),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),as(Tr),ur(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function iI(i,o){switch(ug(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return as(Tr),ut(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return tt(o),null;case 13:if(os(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));wl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Y(Br),null;case 4:return ut(),null;case 10:return as(o.type),null;case 22:case 23:return os(o),Ag(),i!==null&&Y(bu),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return as(Tr),null;case 25:return null;default:return null}}function P3(i,o){switch(ug(o),o.tag){case 3:as(Tr),ut();break;case 26:case 27:case 5:tt(o);break;case 4:ut();break;case 13:os(o);break;case 19:Y(Br);break;case 10:as(o.type);break;case 22:case 23:os(o),Ag(),i!==null&&Y(bu);break;case 24:as(Tr)}}function Pl(i,o){try{var l=o.updateQueue,g=l!==null?l.lastEffect:null;if(g!==null){var T=g.next;l=T;do{if((l.tag&i)===i){g=void 0;var N=l.create,Z=l.inst;g=N(),Z.destroy=g}l=l.next}while(l!==T)}}catch(rt){ze(o,o.return,rt)}}function Js(i,o,l){try{var g=o.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var N=T.next;g=N;do{if((g.tag&i)===i){var Z=g.inst,rt=Z.destroy;if(rt!==void 0){Z.destroy=void 0,T=o;var gt=l,xt=rt;try{xt()}catch(Bt){ze(T,gt,Bt)}}}g=g.next}while(g!==N)}}catch(Bt){ze(o,o.return,Bt)}}function k3(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{Cw(o,l)}catch(g){ze(i,i.return,g)}}}function q3(i,o,l){l.props=mu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(g){ze(i,o,g)}}function kl(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof l=="function"?i.refCleanup=l(g):l.current=g}}catch(T){ze(i,o,T)}}function xa(i,o){var l=i.ref,g=i.refCleanup;if(l!==null)if(typeof g=="function")try{g()}catch(T){ze(i,o,T)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(T){ze(i,o,T)}else l.current=null}function z3(i){var o=i.type,l=i.memoizedProps,g=i.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&g.focus();break t;case"img":l.src?g.src=l.src:l.srcSet&&(g.srcset=l.srcSet)}}catch(T){ze(i,i.return,T)}}function Xg(i,o,l){try{var g=i.stateNode;SI(g,i.type,l,o),g[le]=o}catch(T){ze(i,i.return,T)}}function j3(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&oo(i.type)||i.tag===4}function Wg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||j3(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&oo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zg(i,o,l){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=q0));else if(g!==4&&(g===27&&oo(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(Zg(i,o,l),i=i.sibling;i!==null;)Zg(i,o,l),i=i.sibling}function B0(i,o,l){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(g!==4&&(g===27&&oo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(B0(i,o,l),i=i.sibling;i!==null;)B0(i,o,l),i=i.sibling}function F3(i){var o=i.stateNode,l=i.memoizedProps;try{for(var g=i.type,T=o.attributes;T.length;)o.removeAttributeNode(T[0]);Qr(o,g,l),o[ue]=i,o[le]=l}catch(N){ze(i,i.return,N)}}var fs=!1,br=!1,Jg=!1,K3=typeof WeakSet=="function"?WeakSet:Set,Lr=null;function aI(i,o){if(i=i.containerInfo,Ey=V0,i=ew(i),W1(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var g=l.getSelection&&l.getSelection();if(g&&g.rangeCount!==0){l=g.anchorNode;var T=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{l.nodeType,N.nodeType}catch{l=null;break t}var Z=0,rt=-1,gt=-1,xt=0,Bt=0,Rt=i,St=null;e:for(;;){for(var It;Rt!==l||T!==0&&Rt.nodeType!==3||(rt=Z+T),Rt!==N||g!==0&&Rt.nodeType!==3||(gt=Z+g),Rt.nodeType===3&&(Z+=Rt.nodeValue.length),(It=Rt.firstChild)!==null;)St=Rt,Rt=It;for(;;){if(Rt===i)break e;if(St===l&&++xt===T&&(rt=Z),St===N&&++Bt===g&&(gt=Z),(It=Rt.nextSibling)!==null)break;Rt=St,St=Rt.parentNode}Rt=It}l=rt===-1||gt===-1?null:{start:rt,end:gt}}else l=null}l=l||{start:0,end:0}}else l=null;for(xy={focusedElem:i,selectionRange:l},V0=!1,Lr=o;Lr!==null;)if(o=Lr,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Lr=i;else for(;Lr!==null;){switch(o=Lr,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,l=o,T=N.memoizedProps,N=N.memoizedState,g=l.stateNode;try{var re=mu(l.type,T,l.elementType===l.type);i=g.getSnapshotBeforeUpdate(re,N),g.__reactInternalSnapshotBeforeUpdate=i}catch(Jt){ze(l,l.return,Jt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)Iy(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Iy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Lr=i;break}Lr=o.return}}function Q3(i,o,l){var g=l.flags;switch(l.tag){case 0:case 11:case 15:to(i,l),g&4&&Pl(5,l);break;case 1:if(to(i,l),g&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(Z){ze(l,l.return,Z)}else{var T=mu(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(T,o,i.__reactInternalSnapshotBeforeUpdate)}catch(Z){ze(l,l.return,Z)}}g&64&&k3(l),g&512&&kl(l,l.return);break;case 3:if(to(i,l),g&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Cw(i,o)}catch(Z){ze(l,l.return,Z)}}break;case 27:o===null&&g&4&&F3(l);case 26:case 5:to(i,l),o===null&&g&4&&z3(l),g&512&&kl(l,l.return);break;case 12:to(i,l);break;case 13:to(i,l),g&4&&$3(i,l),g&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=pI.bind(null,l),MI(i,l))));break;case 22:if(g=l.memoizedState!==null||fs,!g){o=o!==null&&o.memoizedState!==null||br,T=fs;var N=br;fs=g,(br=o)&&!N?eo(i,l,(l.subtreeFlags&8772)!==0):to(i,l),fs=T,br=N}break;case 30:break;default:to(i,l)}}function Y3(i){var o=i.alternate;o!==null&&(i.alternate=null,Y3(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Us(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ar=null,kn=!1;function ls(i,o,l){for(l=l.child;l!==null;)V3(i,o,l),l=l.sibling}function V3(i,o,l){if($&&typeof $.onCommitFiberUnmount=="function")try{$.onCommitFiberUnmount(at,l)}catch{}switch(l.tag){case 26:br||xa(l,o),ls(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:br||xa(l,o);var g=ar,T=kn;oo(l.type)&&(ar=l.stateNode,kn=!1),ls(i,o,l),$l(l.stateNode),ar=g,kn=T;break;case 5:br||xa(l,o);case 6:if(g=ar,T=kn,ar=null,ls(i,o,l),ar=g,kn=T,ar!==null)if(kn)try{(ar.nodeType===9?ar.body:ar.nodeName==="HTML"?ar.ownerDocument.body:ar).removeChild(l.stateNode)}catch(N){ze(l,o,N)}else try{ar.removeChild(l.stateNode)}catch(N){ze(l,o,N)}break;case 18:ar!==null&&(kn?(i=ar,L6(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),rh(i)):L6(ar,l.stateNode));break;case 4:g=ar,T=kn,ar=l.stateNode.containerInfo,kn=!0,ls(i,o,l),ar=g,kn=T;break;case 0:case 11:case 14:case 15:br||Js(2,l,o),br||Js(4,l,o),ls(i,o,l);break;case 1:br||(xa(l,o),g=l.stateNode,typeof g.componentWillUnmount=="function"&&q3(l,o,g)),ls(i,o,l);break;case 21:ls(i,o,l);break;case 22:br=(g=br)||l.memoizedState!==null,ls(i,o,l),br=g;break;default:ls(i,o,l)}}function $3(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rh(i)}catch(l){ze(o,o.return,l)}}function sI(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new K3),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new K3),o;default:throw Error(n(435,i.tag))}}function ty(i,o){var l=sI(i);o.forEach(function(g){var T=gI.bind(null,i,g);l.has(g)||(l.add(g),g.then(T,T))})}function Jn(i,o){var l=o.deletions;if(l!==null)for(var g=0;g<l.length;g++){var T=l[g],N=i,Z=o,rt=Z;t:for(;rt!==null;){switch(rt.tag){case 27:if(oo(rt.type)){ar=rt.stateNode,kn=!1;break t}break;case 5:ar=rt.stateNode,kn=!1;break t;case 3:case 4:ar=rt.stateNode.containerInfo,kn=!0;break t}rt=rt.return}if(ar===null)throw Error(n(160));V3(N,Z,T),ar=null,kn=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)G3(o,i),o=o.sibling}var Ji=null;function G3(i,o){var l=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jn(o,i),ti(i),g&4&&(Js(3,i,i.return),Pl(3,i),Js(5,i,i.return));break;case 1:Jn(o,i),ti(i),g&512&&(br||l===null||xa(l,l.return)),g&64&&fs&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?g:l.concat(g))));break;case 26:var T=Ji;if(Jn(o,i),ti(i),g&512&&(br||l===null||xa(l,l.return)),g&4){var N=l!==null?l.memoizedState:null;if(g=i.memoizedState,l===null)if(g===null)if(i.stateNode===null){t:{g=i.type,l=i.memoizedProps,T=T.ownerDocument||T;e:switch(g){case"title":N=T.getElementsByTagName("title")[0],(!N||N[Re]||N[ue]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(g),T.head.insertBefore(N,T.querySelector("head > title"))),Qr(N,g,l),N[ue]=i,ir(N),g=N;break t;case"link":var Z=F6("link","href",T).get(g+(l.href||""));if(Z){for(var rt=0;rt<Z.length;rt++)if(N=Z[rt],N.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&N.getAttribute("rel")===(l.rel==null?null:l.rel)&&N.getAttribute("title")===(l.title==null?null:l.title)&&N.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){Z.splice(rt,1);break e}}N=T.createElement(g),Qr(N,g,l),T.head.appendChild(N);break;case"meta":if(Z=F6("meta","content",T).get(g+(l.content||""))){for(rt=0;rt<Z.length;rt++)if(N=Z[rt],N.getAttribute("content")===(l.content==null?null:""+l.content)&&N.getAttribute("name")===(l.name==null?null:l.name)&&N.getAttribute("property")===(l.property==null?null:l.property)&&N.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&N.getAttribute("charset")===(l.charSet==null?null:l.charSet)){Z.splice(rt,1);break e}}N=T.createElement(g),Qr(N,g,l),T.head.appendChild(N);break;default:throw Error(n(468,g))}N[ue]=i,ir(N),g=N}i.stateNode=g}else K6(T,i.type,i.stateNode);else i.stateNode=j6(T,g,i.memoizedProps);else N!==g?(N===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):N.count--,g===null?K6(T,i.type,i.stateNode):j6(T,g,i.memoizedProps)):g===null&&i.stateNode!==null&&Xg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Jn(o,i),ti(i),g&512&&(br||l===null||xa(l,l.return)),l!==null&&g&4&&Xg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Jn(o,i),ti(i),g&512&&(br||l===null||xa(l,l.return)),i.flags&32){T=i.stateNode;try{$i(T,"")}catch(It){ze(i,i.return,It)}}g&4&&i.stateNode!=null&&(T=i.memoizedProps,Xg(i,T,l!==null?l.memoizedProps:T)),g&1024&&(Jg=!0);break;case 6:if(Jn(o,i),ti(i),g&4){if(i.stateNode===null)throw Error(n(162));g=i.memoizedProps,l=i.stateNode;try{l.nodeValue=g}catch(It){ze(i,i.return,It)}}break;case 3:if(K0=null,T=Ji,Ji=j0(o.containerInfo),Jn(o,i),Ji=T,ti(i),g&4&&l!==null&&l.memoizedState.isDehydrated)try{rh(o.containerInfo)}catch(It){ze(i,i.return,It)}Jg&&(Jg=!1,X3(i));break;case 4:g=Ji,Ji=j0(i.stateNode.containerInfo),Jn(o,i),ti(i),Ji=g;break;case 12:Jn(o,i),ti(i);break;case 13:Jn(o,i),ti(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sy=ft()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,ty(i,g)));break;case 22:T=i.memoizedState!==null;var gt=l!==null&&l.memoizedState!==null,xt=fs,Bt=br;if(fs=xt||T,br=Bt||gt,Jn(o,i),br=Bt,fs=xt,ti(i),g&8192)t:for(o=i.stateNode,o._visibility=T?o._visibility&-2:o._visibility|1,T&&(l===null||gt||fs||br||vu(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){gt=l=o;try{if(N=gt.stateNode,T)Z=N.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{rt=gt.stateNode;var Rt=gt.memoizedProps.style,St=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null;rt.style.display=St==null||typeof St=="boolean"?"":(""+St).trim()}}catch(It){ze(gt,gt.return,It)}}}else if(o.tag===6){if(l===null){gt=o;try{gt.stateNode.nodeValue=T?"":gt.memoizedProps}catch(It){ze(gt,gt.return,It)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break t;for(;o.sibling===null;){if(o.return===null||o.return===i)break t;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=i.updateQueue,g!==null&&(l=g.retryQueue,l!==null&&(g.retryQueue=null,ty(i,l))));break;case 19:Jn(o,i),ti(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,ty(i,g)));break;case 30:break;case 21:break;default:Jn(o,i),ti(i)}}function ti(i){var o=i.flags;if(o&2){try{for(var l,g=i.return;g!==null;){if(j3(g)){l=g;break}g=g.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var T=l.stateNode,N=Wg(i);B0(i,N,T);break;case 5:var Z=l.stateNode;l.flags&32&&($i(Z,""),l.flags&=-33);var rt=Wg(i);B0(i,rt,Z);break;case 3:case 4:var gt=l.stateNode.containerInfo,xt=Wg(i);Zg(i,xt,gt);break;default:throw Error(n(161))}}catch(Bt){ze(i,i.return,Bt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function X3(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;X3(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function to(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Q3(i,o.alternate,o),o=o.sibling}function vu(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Js(4,o,o.return),vu(o);break;case 1:xa(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&q3(o,o.return,l),vu(o);break;case 27:$l(o.stateNode);case 26:case 5:xa(o,o.return),vu(o);break;case 22:o.memoizedState===null&&vu(o);break;case 30:vu(o);break;default:vu(o)}i=i.sibling}}function eo(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,T=i,N=o,Z=N.flags;switch(N.tag){case 0:case 11:case 15:eo(T,N,l),Pl(4,N);break;case 1:if(eo(T,N,l),g=N,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(xt){ze(g,g.return,xt)}if(g=N,T=g.updateQueue,T!==null){var rt=g.stateNode;try{var gt=T.shared.hiddenCallbacks;if(gt!==null)for(T.shared.hiddenCallbacks=null,T=0;T<gt.length;T++)Sw(gt[T],rt)}catch(xt){ze(g,g.return,xt)}}l&&Z&64&&k3(N),kl(N,N.return);break;case 27:F3(N);case 26:case 5:eo(T,N,l),l&&g===null&&Z&4&&z3(N),kl(N,N.return);break;case 12:eo(T,N,l);break;case 13:eo(T,N,l),l&&Z&4&&$3(T,N);break;case 22:N.memoizedState===null&&eo(T,N,l),kl(N,N.return);break;case 30:break;default:eo(T,N,l)}o=o.sibling}}function ey(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&xl(l))}function ry(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&xl(i))}function Sa(i,o,l,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)W3(i,o,l,g),o=o.sibling}function W3(i,o,l,g){var T=o.flags;switch(o.tag){case 0:case 11:case 15:Sa(i,o,l,g),T&2048&&Pl(9,o);break;case 1:Sa(i,o,l,g);break;case 3:Sa(i,o,l,g),T&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&xl(i)));break;case 12:if(T&2048){Sa(i,o,l,g),i=o.stateNode;try{var N=o.memoizedProps,Z=N.id,rt=N.onPostCommit;typeof rt=="function"&&rt(Z,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(gt){ze(o,o.return,gt)}}else Sa(i,o,l,g);break;case 13:Sa(i,o,l,g);break;case 23:break;case 22:N=o.stateNode,Z=o.alternate,o.memoizedState!==null?N._visibility&2?Sa(i,o,l,g):ql(i,o):N._visibility&2?Sa(i,o,l,g):(N._visibility|=2,Nc(i,o,l,g,(o.subtreeFlags&10256)!==0)),T&2048&&ey(Z,o);break;case 24:Sa(i,o,l,g),T&2048&&ry(o.alternate,o);break;default:Sa(i,o,l,g)}}function Nc(i,o,l,g,T){for(T=T&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,Z=o,rt=l,gt=g,xt=Z.flags;switch(Z.tag){case 0:case 11:case 15:Nc(N,Z,rt,gt,T),Pl(8,Z);break;case 23:break;case 22:var Bt=Z.stateNode;Z.memoizedState!==null?Bt._visibility&2?Nc(N,Z,rt,gt,T):ql(N,Z):(Bt._visibility|=2,Nc(N,Z,rt,gt,T)),T&&xt&2048&&ey(Z.alternate,Z);break;case 24:Nc(N,Z,rt,gt,T),T&&xt&2048&&ry(Z.alternate,Z);break;default:Nc(N,Z,rt,gt,T)}o=o.sibling}}function ql(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,g=o,T=g.flags;switch(g.tag){case 22:ql(l,g),T&2048&&ey(g.alternate,g);break;case 24:ql(l,g),T&2048&&ry(g.alternate,g);break;default:ql(l,g)}o=o.sibling}}var zl=8192;function Uc(i){if(i.subtreeFlags&zl)for(i=i.child;i!==null;)Z3(i),i=i.sibling}function Z3(i){switch(i.tag){case 26:Uc(i),i.flags&zl&&i.memoizedState!==null&&QI(Ji,i.memoizedState,i.memoizedProps);break;case 5:Uc(i);break;case 3:case 4:var o=Ji;Ji=j0(i.stateNode.containerInfo),Uc(i),Ji=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=zl,zl=16777216,Uc(i),zl=o):Uc(i));break;default:Uc(i)}}function J3(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function jl(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var g=o[l];Lr=g,e6(g,i)}J3(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t6(i),i=i.sibling}function t6(i){switch(i.tag){case 0:case 11:case 15:jl(i),i.flags&2048&&Js(9,i,i.return);break;case 3:jl(i);break;case 12:jl(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,O0(i)):jl(i);break;default:jl(i)}}function O0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var g=o[l];Lr=g,e6(g,i)}J3(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Js(8,o,o.return),O0(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,O0(o));break;default:O0(o)}i=i.sibling}}function e6(i,o){for(;Lr!==null;){var l=Lr;switch(l.tag){case 0:case 11:case 15:Js(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var g=l.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:xl(l.memoizedState.cache)}if(g=l.child,g!==null)g.return=l,Lr=g;else t:for(l=i;Lr!==null;){g=Lr;var T=g.sibling,N=g.return;if(Y3(g),g===l){Lr=null;break t}if(T!==null){T.return=N,Lr=T;break t}Lr=N}}}var oI={getCacheForType:function(i){var o=sn(Tr),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},uI=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ge=null,he=null,me=0,Oe=0,ei=null,ro=!1,Pc=!1,ny=!1,hs=0,dr=0,no=0,wu=0,iy=0,Si=0,kc=0,Fl=null,qn=null,ay=!1,sy=0,D0=1/0,M0=null,io=null,Kr=0,ao=null,qc=null,zc=0,oy=0,uy=null,r6=null,Kl=0,cy=null;function ri(){if((Be&2)!==0&&me!==0)return me&-me;if(p.T!==null){var i=Tc;return i!==0?i:yy()}return Ce()}function n6(){Si===0&&(Si=(me&536870912)===0||xe?Ae():536870912);var i=xi.current;return i!==null&&(i.flags|=32),Si}function ni(i,o,l){(i===Ge&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)&&(jc(i,0),so(i,me,Si,!1)),De(i,l),((Be&2)===0||i!==Ge)&&(i===Ge&&((Be&2)===0&&(wu|=l),dr===4&&so(i,me,Si,!1)),Ca(i))}function i6(i,o,l){if((Be&6)!==0)throw Error(n(327));var g=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Zt(i,o),T=g?lI(i,o):hy(i,o,!0),N=g;do{if(T===0){Pc&&!g&&so(i,o,0,!1);break}else{if(l=i.current.alternate,N&&!cI(l)){T=hy(i,o,!1),N=!1;continue}if(T===2){if(N=o,i.errorRecoveryDisabledLanes&N)var Z=0;else Z=i.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){o=Z;t:{var rt=i;T=Fl;var gt=rt.current.memoizedState.isDehydrated;if(gt&&(jc(rt,Z).flags|=256),Z=hy(rt,Z,!1),Z!==2){if(ny&&!gt){rt.errorRecoveryDisabledLanes|=N,wu|=N,T=4;break t}N=qn,qn=T,N!==null&&(qn===null?qn=N:qn.push.apply(qn,N))}T=Z}if(N=!1,T!==2)continue}}if(T===1){jc(i,0),so(i,o,0,!0);break}t:{switch(g=i,N=T,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:so(g,o,Si,!ro);break t;case 2:qn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(T=sy+300-ft(),10<T)){if(so(g,o,Si,!ro),Wt(g,0,!0)!==0)break t;g.timeoutHandle=R6(a6.bind(null,g,l,qn,M0,ay,o,Si,wu,kc,ro,N,2,-0,0),T);break t}a6(g,l,qn,M0,ay,o,Si,wu,kc,ro,N,0,-0,0)}}break}while(!0);Ca(i)}function a6(i,o,l,g,T,N,Z,rt,gt,xt,Bt,Rt,St,It){if(i.timeoutHandle=-1,Rt=o.subtreeFlags,(Rt&8192||(Rt&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:KI},Z3(o),Rt=YI(),Rt!==null)){i.cancelPendingCommit=Rt(h6.bind(null,i,o,N,l,g,T,Z,rt,gt,Bt,1,St,It)),so(i,N,Z,!xt);return}h6(i,o,N,l,g,T,Z,rt,gt)}function cI(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var g=0;g<l.length;g++){var T=l[g],N=T.getSnapshot;T=T.value;try{if(!Wn(N(),T))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function so(i,o,l,g){o&=~iy,o&=~wu,i.suspendedLanes|=o,i.pingedLanes&=~o,g&&(i.warmLanes|=o),g=i.expirationTimes;for(var T=o;0<T;){var N=31-K(T),Z=1<<N;g[N]=-1,T&=~Z}l!==0&&Yi(i,l,o)}function R0(){return(Be&6)===0?(Ql(0),!1):!0}function fy(){if(he!==null){if(Oe===0)var i=he.return;else i=he,is=gu=null,Ig(i),Hc=null,Ll=0,i=he;for(;i!==null;)P3(i.alternate,i),i=i.return;he=null}}function jc(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,II(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),fy(),Ge=i,he=l=es(i.current,null),me=o,Oe=0,ei=null,ro=!1,Pc=Zt(i,o),ny=!1,kc=Si=iy=wu=no=dr=0,qn=Fl=null,ay=!1,(o&8)!==0&&(o|=o&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=o;0<g;){var T=31-K(g),N=1<<T;o|=i[T],g&=~N}return hs=o,e0(),l}function s6(i,o){ce=null,p.H=v0,o===Cl||o===f0?(o=Ew(),Oe=3):o===vw?(o=Ew(),Oe=4):Oe=o===x3?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ei=o,he===null&&(dr=1,S0(i,vi(o,i.current)))}function o6(){var i=p.H;return p.H=v0,i===null?v0:i}function u6(){var i=p.A;return p.A=oI,i}function ly(){dr=4,ro||(me&4194048)!==me&&xi.current!==null||(Pc=!0),(no&134217727)===0&&(wu&134217727)===0||Ge===null||so(Ge,me,Si,!1)}function hy(i,o,l){var g=Be;Be|=2;var T=o6(),N=u6();(Ge!==i||me!==o)&&(M0=null,jc(i,o)),o=!1;var Z=dr;t:do try{if(Oe!==0&&he!==null){var rt=he,gt=ei;switch(Oe){case 8:fy(),Z=6;break t;case 3:case 2:case 9:case 6:xi.current===null&&(o=!0);var xt=Oe;if(Oe=0,ei=null,Fc(i,rt,gt,xt),l&&Pc){Z=0;break t}break;default:xt=Oe,Oe=0,ei=null,Fc(i,rt,gt,xt)}}fI(),Z=dr;break}catch(Bt){s6(i,Bt)}while(!0);return o&&i.shellSuspendCounter++,is=gu=null,Be=g,p.H=T,p.A=N,he===null&&(Ge=null,me=0,e0()),Z}function fI(){for(;he!==null;)c6(he)}function lI(i,o){var l=Be;Be|=2;var g=o6(),T=u6();Ge!==i||me!==o?(M0=null,D0=ft()+500,jc(i,o)):Pc=Zt(i,o);t:do try{if(Oe!==0&&he!==null){o=he;var N=ei;e:switch(Oe){case 1:Oe=0,ei=null,Fc(i,o,N,1);break;case 2:case 9:if(ww(N)){Oe=0,ei=null,f6(o);break}o=function(){Oe!==2&&Oe!==9||Ge!==i||(Oe=7),Ca(i)},N.then(o,o);break t;case 3:Oe=7;break t;case 4:Oe=5;break t;case 7:ww(N)?(Oe=0,ei=null,f6(o)):(Oe=0,ei=null,Fc(i,o,N,7));break;case 5:var Z=null;switch(he.tag){case 26:Z=he.memoizedState;case 5:case 27:var rt=he;if(!Z||Q6(Z)){Oe=0,ei=null;var gt=rt.sibling;if(gt!==null)he=gt;else{var xt=rt.return;xt!==null?(he=xt,H0(xt)):he=null}break e}}Oe=0,ei=null,Fc(i,o,N,5);break;case 6:Oe=0,ei=null,Fc(i,o,N,6);break;case 8:fy(),dr=6;break t;default:throw Error(n(462))}}hI();break}catch(Bt){s6(i,Bt)}while(!0);return is=gu=null,p.H=g,p.A=T,Be=l,he!==null?0:(Ge=null,me=0,e0(),dr)}function hI(){for(;he!==null&&!Tt();)c6(he)}function c6(i){var o=N3(i.alternate,i,hs);i.memoizedProps=i.pendingProps,o===null?H0(i):he=o}function f6(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=O3(l,o,o.pendingProps,o.type,void 0,me);break;case 11:o=O3(l,o,o.pendingProps,o.type.render,o.ref,me);break;case 5:Ig(o);default:P3(l,o),o=he=lw(o,hs),o=N3(l,o,hs)}i.memoizedProps=i.pendingProps,o===null?H0(i):he=o}function Fc(i,o,l,g){is=gu=null,Ig(o),Hc=null,Ll=0;var T=o.return;try{if(eI(i,T,o,l,me)){dr=1,S0(i,vi(l,i.current)),he=null;return}}catch(N){if(T!==null)throw he=T,N;dr=1,S0(i,vi(l,i.current)),he=null;return}o.flags&32768?(xe||g===1?i=!0:Pc||(me&536870912)!==0?i=!1:(ro=i=!0,(g===2||g===9||g===3||g===6)&&(g=xi.current,g!==null&&g.tag===13&&(g.flags|=16384))),l6(o,i)):H0(o)}function H0(i){var o=i;do{if((o.flags&32768)!==0){l6(o,ro);return}i=o.return;var l=nI(o.alternate,o,hs);if(l!==null){he=l;return}if(o=o.sibling,o!==null){he=o;return}he=o=i}while(o!==null);dr===0&&(dr=5)}function l6(i,o){do{var l=iI(i.alternate,i);if(l!==null){l.flags&=32767,he=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){he=i;return}he=i=l}while(i!==null);dr=6,he=null}function h6(i,o,l,g,T,N,Z,rt,gt){i.cancelPendingCommit=null;do L0();while(Kr!==0);if((Be&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=rg,Ye(i,l,N,Z,rt,gt),i===Ge&&(he=Ge=null,me=0),qc=o,ao=i,zc=l,oy=N,uy=T,r6=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yI(Ot,function(){return b6(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=p.T,p.T=null,T=v.p,v.p=2,Z=Be,Be|=4;try{aI(i,o,l)}finally{Be=Z,v.p=T,p.T=g}}Kr=1,d6(),p6(),g6()}}function d6(){if(Kr===1){Kr=0;var i=ao,o=qc,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=p.T,p.T=null;var g=v.p;v.p=2;var T=Be;Be|=4;try{G3(o,i);var N=xy,Z=ew(i.containerInfo),rt=N.focusedElem,gt=N.selectionRange;if(Z!==rt&&rt&&rt.ownerDocument&&tw(rt.ownerDocument.documentElement,rt)){if(gt!==null&&W1(rt)){var xt=gt.start,Bt=gt.end;if(Bt===void 0&&(Bt=xt),"selectionStart"in rt)rt.selectionStart=xt,rt.selectionEnd=Math.min(Bt,rt.value.length);else{var Rt=rt.ownerDocument||document,St=Rt&&Rt.defaultView||window;if(St.getSelection){var It=St.getSelection(),re=rt.textContent.length,Jt=Math.min(gt.start,re),Ue=gt.end===void 0?Jt:Math.min(gt.end,re);!It.extend&&Jt>Ue&&(Z=Ue,Ue=Jt,Jt=Z);var vt=J2(rt,Jt),bt=J2(rt,Ue);if(vt&&bt&&(It.rangeCount!==1||It.anchorNode!==vt.node||It.anchorOffset!==vt.offset||It.focusNode!==bt.node||It.focusOffset!==bt.offset)){var Et=Rt.createRange();Et.setStart(vt.node,vt.offset),It.removeAllRanges(),Jt>Ue?(It.addRange(Et),It.extend(bt.node,bt.offset)):(Et.setEnd(bt.node,bt.offset),It.addRange(Et))}}}}for(Rt=[],It=rt;It=It.parentNode;)It.nodeType===1&&Rt.push({element:It,left:It.scrollLeft,top:It.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<Rt.length;rt++){var Dt=Rt[rt];Dt.element.scrollLeft=Dt.left,Dt.element.scrollTop=Dt.top}}V0=!!Ey,xy=Ey=null}finally{Be=T,v.p=g,p.T=l}}i.current=o,Kr=2}}function p6(){if(Kr===2){Kr=0;var i=ao,o=qc,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=p.T,p.T=null;var g=v.p;v.p=2;var T=Be;Be|=4;try{Q3(i,o.alternate,o)}finally{Be=T,v.p=g,p.T=l}}Kr=3}}function g6(){if(Kr===4||Kr===3){Kr=0,st();var i=ao,o=qc,l=zc,g=r6;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Kr=5:(Kr=0,qc=ao=null,y6(i,i.pendingLanes));var T=i.pendingLanes;if(T===0&&(io=null),_a(l),o=o.stateNode,$&&typeof $.onCommitFiberRoot=="function")try{$.onCommitFiberRoot(at,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=p.T,T=v.p,v.p=2,p.T=null;try{for(var N=i.onRecoverableError,Z=0;Z<g.length;Z++){var rt=g[Z];N(rt.value,{componentStack:rt.stack})}}finally{p.T=o,v.p=T}}(zc&3)!==0&&L0(),Ca(i),T=i.pendingLanes,(l&4194090)!==0&&(T&42)!==0?i===cy?Kl++:(Kl=0,cy=i):Kl=0,Ql(0)}}function y6(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,xl(o)))}function L0(i){return d6(),p6(),g6(),b6()}function b6(){if(Kr!==5)return!1;var i=ao,o=oy;oy=0;var l=_a(zc),g=p.T,T=v.p;try{v.p=32>l?32:l,p.T=null,l=uy,uy=null;var N=ao,Z=zc;if(Kr=0,qc=ao=null,zc=0,(Be&6)!==0)throw Error(n(331));var rt=Be;if(Be|=4,t6(N.current),W3(N,N.current,Z,l),Be=rt,Ql(0,!1),$&&typeof $.onPostCommitFiberRoot=="function")try{$.onPostCommitFiberRoot(at,N)}catch{}return!0}finally{v.p=T,p.T=g,y6(i,o)}}function _6(i,o,l){o=vi(l,o),o=zg(i.stateNode,o,2),i=Gs(i,o,2),i!==null&&(De(i,2),Ca(i))}function ze(i,o,l){if(i.tag===3)_6(i,i,l);else for(;o!==null;){if(o.tag===3){_6(o,i,l);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(io===null||!io.has(g))){i=vi(l,i),l=A3(2),g=Gs(o,l,2),g!==null&&(E3(l,g,o,i),De(g,2),Ca(g));break}}o=o.return}}function dy(i,o,l){var g=i.pingCache;if(g===null){g=i.pingCache=new uI;var T=new Set;g.set(o,T)}else T=g.get(o),T===void 0&&(T=new Set,g.set(o,T));T.has(l)||(ny=!0,T.add(l),i=dI.bind(null,i,o,l),o.then(i,i))}function dI(i,o,l){var g=i.pingCache;g!==null&&g.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ge===i&&(me&l)===l&&(dr===4||dr===3&&(me&62914560)===me&&300>ft()-sy?(Be&2)===0&&jc(i,0):iy|=l,kc===me&&(kc=0)),Ca(i)}function m6(i,o){o===0&&(o=Qe()),i=xc(i,o),i!==null&&(De(i,o),Ca(i))}function pI(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),m6(i,l)}function gI(i,o){var l=0;switch(i.tag){case 13:var g=i.stateNode,T=i.memoizedState;T!==null&&(l=T.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(o),m6(i,l)}function yI(i,o){return ot(i,o)}var N0=null,Kc=null,py=!1,U0=!1,gy=!1,Au=0;function Ca(i){i!==Kc&&i.next===null&&(Kc===null?N0=Kc=i:Kc=Kc.next=i),U0=!0,py||(py=!0,_I())}function Ql(i,o){if(!gy&&U0){gy=!0;do for(var l=!1,g=N0;g!==null;){if(i!==0){var T=g.pendingLanes;if(T===0)var N=0;else{var Z=g.suspendedLanes,rt=g.pingedLanes;N=(1<<31-K(42|i)+1)-1,N&=T&~(Z&~rt),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(l=!0,E6(g,N))}else N=me,N=Wt(g,g===Ge?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||Zt(g,N)||(l=!0,E6(g,N));g=g.next}while(l);gy=!1}}function bI(){v6()}function v6(){U0=py=!1;var i=0;Au!==0&&(CI()&&(i=Au),Au=0);for(var o=ft(),l=null,g=N0;g!==null;){var T=g.next,N=w6(g,o);N===0?(g.next=null,l===null?N0=T:l.next=T,T===null&&(Kc=l)):(l=g,(i!==0||(N&3)!==0)&&(U0=!0)),g=T}Ql(i)}function w6(i,o){for(var l=i.suspendedLanes,g=i.pingedLanes,T=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var Z=31-K(N),rt=1<<Z,gt=T[Z];gt===-1?((rt&l)===0||(rt&g)!==0)&&(T[Z]=_e(rt,o)):gt<=o&&(i.expiredLanes|=rt),N&=~rt}if(o=Ge,l=me,l=Wt(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,l===0||i===o&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&mt(g),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Zt(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(g!==null&&mt(g),_a(l)){case 2:case 8:l=Nt;break;case 32:l=Ot;break;case 268435456:l=pe;break;default:l=Ot}return g=A6.bind(null,i),l=ot(l,g),i.callbackPriority=o,i.callbackNode=l,o}return g!==null&&g!==null&&mt(g),i.callbackPriority=2,i.callbackNode=null,2}function A6(i,o){if(Kr!==0&&Kr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(L0()&&i.callbackNode!==l)return null;var g=me;return g=Wt(i,i===Ge?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(i6(i,g,o),w6(i,ft()),i.callbackNode!=null&&i.callbackNode===l?A6.bind(null,i):null)}function E6(i,o){if(L0())return null;i6(i,o,!0)}function _I(){TI(function(){(Be&6)!==0?ot(At,bI):v6()})}function yy(){return Au===0&&(Au=Ae()),Au}function x6(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gc(""+i)}function S6(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function mI(i,o,l,g,T){if(o==="submit"&&l&&l.stateNode===T){var N=x6((T[le]||null).action),Z=g.submitter;Z&&(o=(o=Z[le]||null)?x6(o.formAction):Z.getAttribute("formAction"),o!==null&&(N=o,Z=null));var rt=new jt("action","action",null,g,T);i.push({event:rt,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Au!==0){var gt=Z?S6(T,Z):new FormData(T);Ng(l,{pending:!0,data:gt,method:T.method,action:N},null,gt)}}else typeof N=="function"&&(rt.preventDefault(),gt=Z?S6(T,Z):new FormData(T),Ng(l,{pending:!0,data:gt,method:T.method,action:N},N,gt))},currentTarget:T}]})}}for(var by=0;by<eg.length;by++){var _y=eg[by],vI=_y.toLowerCase(),wI=_y[0].toUpperCase()+_y.slice(1);Zi(vI,"on"+wI)}Zi(iw,"onAnimationEnd"),Zi(aw,"onAnimationIteration"),Zi(sw,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(PC,"onTransitionRun"),Zi(kC,"onTransitionStart"),Zi(qC,"onTransitionCancel"),Zi(ow,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function C6(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var g=i[l],T=g.event;g=g.listeners;t:{var N=void 0;if(o)for(var Z=g.length-1;0<=Z;Z--){var rt=g[Z],gt=rt.instance,xt=rt.currentTarget;if(rt=rt.listener,gt!==N&&T.isPropagationStopped())break t;N=rt,T.currentTarget=xt;try{N(T)}catch(Bt){x0(Bt)}T.currentTarget=null,N=gt}else for(Z=0;Z<g.length;Z++){if(rt=g[Z],gt=rt.instance,xt=rt.currentTarget,rt=rt.listener,gt!==N&&T.isPropagationStopped())break t;N=rt,T.currentTarget=xt;try{N(T)}catch(Bt){x0(Bt)}T.currentTarget=null,N=gt}}}}function de(i,o){var l=o[qe];l===void 0&&(l=o[qe]=new Set);var g=i+"__bubble";l.has(g)||(I6(o,i,2,!1),l.add(g))}function my(i,o,l){var g=0;o&&(g|=4),I6(l,i,g,o)}var P0="_reactListening"+Math.random().toString(36).slice(2);function vy(i){if(!i[P0]){i[P0]=!0,Ps.forEach(function(l){l!=="selectionchange"&&(AI.has(l)||my(l,!1,i),my(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[P0]||(o[P0]=!0,my("selectionchange",!1,o))}}function I6(i,o,l,g){switch(W6(o)){case 2:var T=GI;break;case 8:T=XI;break;default:T=Hy}l=T.bind(null,o,l,i),T=void 0,!yc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(T=!0),g?T!==void 0?i.addEventListener(o,l,{capture:!0,passive:T}):i.addEventListener(o,l,!0):T!==void 0?i.addEventListener(o,l,{passive:T}):i.addEventListener(o,l,!1)}function wy(i,o,l,g,T){var N=g;if((o&1)===0&&(o&2)===0&&g!==null)t:for(;;){if(g===null)return;var Z=g.tag;if(Z===3||Z===4){var rt=g.stateNode.containerInfo;if(rt===T)break;if(Z===4)for(Z=g.return;Z!==null;){var gt=Z.tag;if((gt===3||gt===4)&&Z.stateNode.containerInfo===T)return;Z=Z.return}for(;rt!==null;){if(Z=Ie(rt),Z===null)return;if(gt=Z.tag,gt===5||gt===6||gt===26||gt===27){g=N=Z;continue t}rt=rt.parentNode}}g=g.return}Wd(function(){var xt=N,Bt=pl(l),Rt=[];t:{var St=uw.get(i);if(St!==void 0){var It=jt,re=i;switch(i){case"keypress":if(bc(l)===0)break t;case"keydown":case"keyup":It=yC;break;case"focusin":re="focus",It=an;break;case"focusout":re="blur",It=an;break;case"beforeblur":case"afterblur":It=an;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=Rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=mC;break;case iw:case aw:case sw:It=Wi;break;case ow:It=wC;break;case"scroll":case"scrollend":It=ie;break;case"wheel":It=EC;break;case"copy":case"cut":case"paste":It=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=k2;break;case"toggle":case"beforetoggle":It=SC}var Jt=(o&4)!==0,Ue=!Jt&&(i==="scroll"||i==="scrollend"),vt=Jt?St!==null?St+"Capture":null:St;Jt=[];for(var bt=xt,Et;bt!==null;){var Dt=bt;if(Et=Dt.stateNode,Dt=Dt.tag,Dt!==5&&Dt!==26&&Dt!==27||Et===null||vt===null||(Dt=Za(bt,vt),Dt!=null&&Jt.push(Vl(bt,Dt,Et))),Ue)break;bt=bt.return}0<Jt.length&&(St=new It(St,re,null,l,Bt),Rt.push({event:St,listeners:Jt}))}}if((o&7)===0){t:{if(St=i==="mouseover"||i==="pointerover",It=i==="mouseout"||i==="pointerout",St&&l!==dl&&(re=l.relatedTarget||l.fromElement)&&(Ie(re)||re[Vi]))break t;if((It||St)&&(St=Bt.window===Bt?Bt:(St=Bt.ownerDocument)?St.defaultView||St.parentWindow:window,It?(re=l.relatedTarget||l.toElement,It=xt,re=re?Ie(re):null,re!==null&&(Ue=s(re),Jt=re.tag,re!==Ue||Jt!==5&&Jt!==27&&Jt!==6)&&(re=null)):(It=null,re=xt),It!==re)){if(Jt=nn,Dt="onMouseLeave",vt="onMouseEnter",bt="mouse",(i==="pointerout"||i==="pointerover")&&(Jt=k2,Dt="onPointerLeave",vt="onPointerEnter",bt="pointer"),Ue=It==null?St:Ir(It),Et=re==null?St:Ir(re),St=new Jt(Dt,bt+"leave",It,l,Bt),St.target=Ue,St.relatedTarget=Et,Dt=null,Ie(Bt)===xt&&(Jt=new Jt(vt,bt+"enter",re,l,Bt),Jt.target=Et,Jt.relatedTarget=Ue,Dt=Jt),Ue=Dt,It&&re)e:{for(Jt=It,vt=re,bt=0,Et=Jt;Et;Et=Qc(Et))bt++;for(Et=0,Dt=vt;Dt;Dt=Qc(Dt))Et++;for(;0<bt-Et;)Jt=Qc(Jt),bt--;for(;0<Et-bt;)vt=Qc(vt),Et--;for(;bt--;){if(Jt===vt||vt!==null&&Jt===vt.alternate)break e;Jt=Qc(Jt),vt=Qc(vt)}Jt=null}else Jt=null;It!==null&&T6(Rt,St,It,Jt,!1),re!==null&&Ue!==null&&T6(Rt,Ue,re,Jt,!0)}}t:{if(St=xt?Ir(xt):window,It=St.nodeName&&St.nodeName.toLowerCase(),It==="select"||It==="input"&&St.type==="file")var Qt=V2;else if(Q2(St))if($2)Qt=LC;else{Qt=RC;var fe=MC}else It=St.nodeName,!It||It.toLowerCase()!=="input"||St.type!=="checkbox"&&St.type!=="radio"?xt&&mi(xt.elementType)&&(Qt=V2):Qt=HC;if(Qt&&(Qt=Qt(i,xt))){Y2(Rt,Qt,l,Bt);break t}fe&&fe(i,St,xt),i==="focusout"&&xt&&St.type==="number"&&xt.memoizedProps.value!=null&&pc(St,"number",St.value)}switch(fe=xt?Ir(xt):window,i){case"focusin":(Q2(fe)||fe.contentEditable==="true")&&(wc=fe,Z1=xt,ml=null);break;case"focusout":ml=Z1=wc=null;break;case"mousedown":J1=!0;break;case"contextmenu":case"mouseup":case"dragend":J1=!1,rw(Rt,l,Bt);break;case"selectionchange":if(UC)break;case"keydown":case"keyup":rw(Rt,l,Bt)}var Gt;if($1)t:{switch(i){case"compositionstart":var ee="onCompositionStart";break t;case"compositionend":ee="onCompositionEnd";break t;case"compositionupdate":ee="onCompositionUpdate";break t}ee=void 0}else vc?F2(i,l)&&(ee="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ee="onCompositionStart");ee&&(q2&&l.locale!=="ko"&&(vc||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&vc&&(Gt=Zd()):(Xi=Bt,Ja="value"in Xi?Xi.value:Xi.textContent,vc=!0)),fe=k0(xt,ee),0<fe.length&&(ee=new ou(ee,i,null,l,Bt),Rt.push({event:ee,listeners:fe}),Gt?ee.data=Gt:(Gt=K2(l),Gt!==null&&(ee.data=Gt)))),(Gt=IC?TC(i,l):BC(i,l))&&(ee=k0(xt,"onBeforeInput"),0<ee.length&&(fe=new ou("onBeforeInput","beforeinput",null,l,Bt),Rt.push({event:fe,listeners:ee}),fe.data=Gt)),mI(Rt,i,xt,l,Bt)}C6(Rt,o)})}function Vl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function k0(i,o){for(var l=o+"Capture",g=[];i!==null;){var T=i,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Za(i,l),T!=null&&g.unshift(Vl(i,T,N)),T=Za(i,o),T!=null&&g.push(Vl(i,T,N))),i.tag===3)return g;i=i.return}return[]}function Qc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function T6(i,o,l,g,T){for(var N=o._reactName,Z=[];l!==null&&l!==g;){var rt=l,gt=rt.alternate,xt=rt.stateNode;if(rt=rt.tag,gt!==null&&gt===g)break;rt!==5&&rt!==26&&rt!==27||xt===null||(gt=xt,T?(xt=Za(l,N),xt!=null&&Z.unshift(Vl(l,xt,gt))):T||(xt=Za(l,N),xt!=null&&Z.push(Vl(l,xt,gt)))),l=l.return}Z.length!==0&&i.push({event:o,listeners:Z})}var EI=/\r\n?/g,xI=/\u0000|\uFFFD/g;function B6(i){return(typeof i=="string"?i:""+i).replace(EI,`
`).replace(xI,"")}function O6(i,o){return o=B6(o),B6(i)===o}function q0(){}function Ne(i,o,l,g,T,N){switch(l){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||$i(i,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&$i(i,""+g);break;case"className":Gn(i,"class",g);break;case"tabIndex":Gn(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(i,l,g);break;case"style":Gd(i,g,N);break;case"data":if(o!=="object"){Gn(i,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(l);break}g=gc(""+g),i.setAttribute(l,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(l==="formAction"?(o!=="input"&&Ne(i,o,"name",T.name,T,null),Ne(i,o,"formEncType",T.formEncType,T,null),Ne(i,o,"formMethod",T.formMethod,T,null),Ne(i,o,"formTarget",T.formTarget,T,null)):(Ne(i,o,"encType",T.encType,T,null),Ne(i,o,"method",T.method,T,null),Ne(i,o,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(l);break}g=gc(""+g),i.setAttribute(l,g);break;case"onClick":g!=null&&(i.onclick=q0);break;case"onScroll":g!=null&&de("scroll",i);break;case"onScrollEnd":g!=null&&de("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(l=g.__html,l!=null){if(T.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}l=gc(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(l,""+g):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":g===!0?i.setAttribute(l,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(l,g):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(l,g):i.removeAttribute(l);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(l):i.setAttribute(l,g);break;case"popover":de("beforetoggle",i),de("toggle",i),ma(i,"popover",g);break;case"xlinkActuate":vn(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":vn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":vn(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":vn(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":vn(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":vn(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":vn(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":vn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":vn(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ma(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Q1.get(l)||l,ma(i,l,g))}}function Ay(i,o,l,g,T,N){switch(l){case"style":Gd(i,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(l=g.__html,l!=null){if(T.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof g=="string"?$i(i,g):(typeof g=="number"||typeof g=="bigint")&&$i(i,""+g);break;case"onScroll":g!=null&&de("scroll",i);break;case"onScrollEnd":g!=null&&de("scrollend",i);break;case"onClick":g!=null&&(i.onclick=q0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(T=l.endsWith("Capture"),o=l.slice(2,T?l.length-7:void 0),N=i[le]||null,N=N!=null?N[l]:null,typeof N=="function"&&i.removeEventListener(o,N,T),typeof g=="function")){typeof N!="function"&&N!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,g,T);break t}l in i?i[l]=g:g===!0?i.setAttribute(l,""):ma(i,l,g)}}}function Qr(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",i),de("load",i);var g=!1,T=!1,N;for(N in l)if(l.hasOwnProperty(N)){var Z=l[N];if(Z!=null)switch(N){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ne(i,o,N,Z,l,null)}}T&&Ne(i,o,"srcSet",l.srcSet,l,null),g&&Ne(i,o,"src",l.src,l,null);return;case"input":de("invalid",i);var rt=N=Z=T=null,gt=null,xt=null;for(g in l)if(l.hasOwnProperty(g)){var Bt=l[g];if(Bt!=null)switch(g){case"name":T=Bt;break;case"type":Z=Bt;break;case"checked":gt=Bt;break;case"defaultChecked":xt=Bt;break;case"value":N=Bt;break;case"defaultValue":rt=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(n(137,o));break;default:Ne(i,o,g,Bt,l,null)}}Yd(i,N,rt,gt,xt,Z,T,!1),va(i);return;case"select":de("invalid",i),g=Z=N=null;for(T in l)if(l.hasOwnProperty(T)&&(rt=l[T],rt!=null))switch(T){case"value":N=rt;break;case"defaultValue":Z=rt;break;case"multiple":g=rt;default:Ne(i,o,T,rt,l,null)}o=N,l=Z,i.multiple=!!g,o!=null?js(i,!!g,o,!1):l!=null&&js(i,!!g,l,!0);return;case"textarea":de("invalid",i),N=T=g=null;for(Z in l)if(l.hasOwnProperty(Z)&&(rt=l[Z],rt!=null))switch(Z){case"value":g=rt;break;case"defaultValue":T=rt;break;case"children":N=rt;break;case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(91));break;default:Ne(i,o,Z,rt,l,null)}hl(i,g,T,N),va(i);return;case"option":for(gt in l)if(l.hasOwnProperty(gt)&&(g=l[gt],g!=null))switch(gt){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ne(i,o,gt,g,l,null)}return;case"dialog":de("beforetoggle",i),de("toggle",i),de("cancel",i),de("close",i);break;case"iframe":case"object":de("load",i);break;case"video":case"audio":for(g=0;g<Yl.length;g++)de(Yl[g],i);break;case"image":de("error",i),de("load",i);break;case"details":de("toggle",i);break;case"embed":case"source":case"link":de("error",i),de("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xt in l)if(l.hasOwnProperty(xt)&&(g=l[xt],g!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ne(i,o,xt,g,l,null)}return;default:if(mi(o)){for(Bt in l)l.hasOwnProperty(Bt)&&(g=l[Bt],g!==void 0&&Ay(i,o,Bt,g,l,void 0));return}}for(rt in l)l.hasOwnProperty(rt)&&(g=l[rt],g!=null&&Ne(i,o,rt,g,l,null))}function SI(i,o,l,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,Z=null,rt=null,gt=null,xt=null,Bt=null;for(It in l){var Rt=l[It];if(l.hasOwnProperty(It)&&Rt!=null)switch(It){case"checked":break;case"value":break;case"defaultValue":gt=Rt;default:g.hasOwnProperty(It)||Ne(i,o,It,null,g,Rt)}}for(var St in g){var It=g[St];if(Rt=l[St],g.hasOwnProperty(St)&&(It!=null||Rt!=null))switch(St){case"type":N=It;break;case"name":T=It;break;case"checked":xt=It;break;case"defaultChecked":Bt=It;break;case"value":Z=It;break;case"defaultValue":rt=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(n(137,o));break;default:It!==Rt&&Ne(i,o,St,It,g,Rt)}}ll(i,Z,rt,gt,xt,Bt,N,T);return;case"select":It=Z=rt=St=null;for(N in l)if(gt=l[N],l.hasOwnProperty(N)&&gt!=null)switch(N){case"value":break;case"multiple":It=gt;default:g.hasOwnProperty(N)||Ne(i,o,N,null,g,gt)}for(T in g)if(N=g[T],gt=l[T],g.hasOwnProperty(T)&&(N!=null||gt!=null))switch(T){case"value":St=N;break;case"defaultValue":rt=N;break;case"multiple":Z=N;default:N!==gt&&Ne(i,o,T,N,g,gt)}o=rt,l=Z,g=It,St!=null?js(i,!!l,St,!1):!!g!=!!l&&(o!=null?js(i,!!l,o,!0):js(i,!!l,l?[]:"",!1));return;case"textarea":It=St=null;for(rt in l)if(T=l[rt],l.hasOwnProperty(rt)&&T!=null&&!g.hasOwnProperty(rt))switch(rt){case"value":break;case"children":break;default:Ne(i,o,rt,null,g,T)}for(Z in g)if(T=g[Z],N=l[Z],g.hasOwnProperty(Z)&&(T!=null||N!=null))switch(Z){case"value":St=T;break;case"defaultValue":It=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==N&&Ne(i,o,Z,T,g,N)}Vd(i,St,It);return;case"option":for(var re in l)if(St=l[re],l.hasOwnProperty(re)&&St!=null&&!g.hasOwnProperty(re))switch(re){case"selected":i.selected=!1;break;default:Ne(i,o,re,null,g,St)}for(gt in g)if(St=g[gt],It=l[gt],g.hasOwnProperty(gt)&&St!==It&&(St!=null||It!=null))switch(gt){case"selected":i.selected=St&&typeof St!="function"&&typeof St!="symbol";break;default:Ne(i,o,gt,St,g,It)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in l)St=l[Jt],l.hasOwnProperty(Jt)&&St!=null&&!g.hasOwnProperty(Jt)&&Ne(i,o,Jt,null,g,St);for(xt in g)if(St=g[xt],It=l[xt],g.hasOwnProperty(xt)&&St!==It&&(St!=null||It!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(n(137,o));break;default:Ne(i,o,xt,St,g,It)}return;default:if(mi(o)){for(var Ue in l)St=l[Ue],l.hasOwnProperty(Ue)&&St!==void 0&&!g.hasOwnProperty(Ue)&&Ay(i,o,Ue,void 0,g,St);for(Bt in g)St=g[Bt],It=l[Bt],!g.hasOwnProperty(Bt)||St===It||St===void 0&&It===void 0||Ay(i,o,Bt,St,g,It);return}}for(var vt in l)St=l[vt],l.hasOwnProperty(vt)&&St!=null&&!g.hasOwnProperty(vt)&&Ne(i,o,vt,null,g,St);for(Rt in g)St=g[Rt],It=l[Rt],!g.hasOwnProperty(Rt)||St===It||St==null&&It==null||Ne(i,o,Rt,St,g,It)}var Ey=null,xy=null;function z0(i){return i.nodeType===9?i:i.ownerDocument}function D6(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M6(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Sy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cy=null;function CI(){var i=window.event;return i&&i.type==="popstate"?i===Cy?!1:(Cy=i,!0):(Cy=null,!1)}var R6=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,H6=typeof Promise=="function"?Promise:void 0,TI=typeof queueMicrotask=="function"?queueMicrotask:typeof H6<"u"?function(i){return H6.resolve(null).then(i).catch(BI)}:R6;function BI(i){setTimeout(function(){throw i})}function oo(i){return i==="head"}function L6(i,o){var l=o,g=0,T=0;do{var N=l.nextSibling;if(i.removeChild(l),N&&N.nodeType===8)if(l=N.data,l==="/$"){if(0<g&&8>g){l=g;var Z=i.ownerDocument;if(l&1&&$l(Z.documentElement),l&2&&$l(Z.body),l&4)for(l=Z.head,$l(l),Z=l.firstChild;Z;){var rt=Z.nextSibling,gt=Z.nodeName;Z[Re]||gt==="SCRIPT"||gt==="STYLE"||gt==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||l.removeChild(Z),Z=rt}}if(T===0){i.removeChild(N),rh(o);return}T--}else l==="$"||l==="$?"||l==="$!"?T++:g=l.charCodeAt(0)-48;else g=0;l=N}while(l);rh(o)}function Iy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Iy(l),Us(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function OI(i,o,l,g){for(;i.nodeType===1;){var T=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[Re])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==T.rel||i.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||i.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||i.getAttribute("title")!==(T.title==null?null:T.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(T.src==null?null:T.src)||i.getAttribute("type")!==(T.type==null?null:T.type)||i.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ta(i.nextSibling),i===null)break}return null}function DI(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ta(i.nextSibling),i===null))return null;return i}function Ty(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function MI(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var g=function(){o(),l.removeEventListener("DOMContentLoaded",g)};l.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function ta(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var By=null;function N6(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function U6(i,o,l){switch(o=z0(l),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function $l(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Us(i)}var Ci=new Map,P6=new Set;function j0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ds=v.d;v.d={f:RI,r:HI,D:LI,C:NI,L:UI,m:PI,X:qI,S:kI,M:zI};function RI(){var i=ds.f(),o=R0();return i||o}function HI(i){var o=Te(i);o!==null&&o.tag===5&&o.type==="form"?i3(o):ds.r(i)}var Yc=typeof document>"u"?null:document;function k6(i,o,l){var g=Yc;if(g&&typeof o=="string"&&o){var T=Ln(o);T='link[rel="'+i+'"][href="'+T+'"]',typeof l=="string"&&(T+='[crossorigin="'+l+'"]'),P6.has(T)||(P6.add(T),i={rel:i,crossOrigin:l,href:o},g.querySelector(T)===null&&(o=g.createElement("link"),Qr(o,"link",i),ir(o),g.head.appendChild(o)))}}function LI(i){ds.D(i),k6("dns-prefetch",i,null)}function NI(i,o){ds.C(i,o),k6("preconnect",i,o)}function UI(i,o,l){ds.L(i,o,l);var g=Yc;if(g&&i&&o){var T='link[rel="preload"][as="'+Ln(o)+'"]';o==="image"&&l&&l.imageSrcSet?(T+='[imagesrcset="'+Ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(T+='[imagesizes="'+Ln(l.imageSizes)+'"]')):T+='[href="'+Ln(i)+'"]';var N=T;switch(o){case"style":N=Vc(i);break;case"script":N=$c(i)}Ci.has(N)||(i=d({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Ci.set(N,i),g.querySelector(T)!==null||o==="style"&&g.querySelector(Gl(N))||o==="script"&&g.querySelector(Xl(N))||(o=g.createElement("link"),Qr(o,"link",i),ir(o),g.head.appendChild(o)))}}function PI(i,o){ds.m(i,o);var l=Yc;if(l&&i){var g=o&&typeof o.as=="string"?o.as:"script",T='link[rel="modulepreload"][as="'+Ln(g)+'"][href="'+Ln(i)+'"]',N=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=$c(i)}if(!Ci.has(N)&&(i=d({rel:"modulepreload",href:i},o),Ci.set(N,i),l.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xl(N)))return}g=l.createElement("link"),Qr(g,"link",i),ir(g),l.head.appendChild(g)}}}function kI(i,o,l){ds.S(i,o,l);var g=Yc;if(g&&i){var T=bi(g).hoistableStyles,N=Vc(i);o=o||"default";var Z=T.get(N);if(!Z){var rt={loading:0,preload:null};if(Z=g.querySelector(Gl(N)))rt.loading=5;else{i=d({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Ci.get(N))&&Oy(i,l);var gt=Z=g.createElement("link");ir(gt),Qr(gt,"link",i),gt._p=new Promise(function(xt,Bt){gt.onload=xt,gt.onerror=Bt}),gt.addEventListener("load",function(){rt.loading|=1}),gt.addEventListener("error",function(){rt.loading|=2}),rt.loading|=4,F0(Z,o,g)}Z={type:"stylesheet",instance:Z,count:1,state:rt},T.set(N,Z)}}}function qI(i,o){ds.X(i,o);var l=Yc;if(l&&i){var g=bi(l).hoistableScripts,T=$c(i),N=g.get(T);N||(N=l.querySelector(Xl(T)),N||(i=d({src:i,async:!0},o),(o=Ci.get(T))&&Dy(i,o),N=l.createElement("script"),ir(N),Qr(N,"link",i),l.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(T,N))}}function zI(i,o){ds.M(i,o);var l=Yc;if(l&&i){var g=bi(l).hoistableScripts,T=$c(i),N=g.get(T);N||(N=l.querySelector(Xl(T)),N||(i=d({src:i,async:!0,type:"module"},o),(o=Ci.get(T))&&Dy(i,o),N=l.createElement("script"),ir(N),Qr(N,"link",i),l.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(T,N))}}function q6(i,o,l,g){var T=(T=G.current)?j0(T):null;if(!T)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Vc(l.href),l=bi(T).hoistableStyles,g=l.get(o),g||(g={type:"style",instance:null,count:0,state:null},l.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Vc(l.href);var N=bi(T).hoistableStyles,Z=N.get(i);if(Z||(T=T.ownerDocument||T,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,Z),(N=T.querySelector(Gl(i)))&&!N._p&&(Z.instance=N,Z.state.loading=5),Ci.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ci.set(i,l),N||jI(T,i,l,Z.state))),o&&g===null)throw Error(n(528,""));return Z}if(o&&g!==null)throw Error(n(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=$c(l),l=bi(T).hoistableScripts,g=l.get(o),g||(g={type:"script",instance:null,count:0,state:null},l.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Vc(i){return'href="'+Ln(i)+'"'}function Gl(i){return'link[rel="stylesheet"]['+i+"]"}function z6(i){return d({},i,{"data-precedence":i.precedence,precedence:null})}function jI(i,o,l,g){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=i.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),Qr(o,"link",l),ir(o),i.head.appendChild(o))}function $c(i){return'[src="'+Ln(i)+'"]'}function Xl(i){return"script[async]"+i}function j6(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var g=i.querySelector('style[data-href~="'+Ln(l.href)+'"]');if(g)return o.instance=g,ir(g),g;var T=d({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),ir(g),Qr(g,"style",T),F0(g,l.precedence,i),o.instance=g;case"stylesheet":T=Vc(l.href);var N=i.querySelector(Gl(T));if(N)return o.state.loading|=4,o.instance=N,ir(N),N;g=z6(l),(T=Ci.get(T))&&Oy(g,T),N=(i.ownerDocument||i).createElement("link"),ir(N);var Z=N;return Z._p=new Promise(function(rt,gt){Z.onload=rt,Z.onerror=gt}),Qr(N,"link",g),o.state.loading|=4,F0(N,l.precedence,i),o.instance=N;case"script":return N=$c(l.src),(T=i.querySelector(Xl(N)))?(o.instance=T,ir(T),T):(g=l,(T=Ci.get(N))&&(g=d({},l),Dy(g,T)),i=i.ownerDocument||i,T=i.createElement("script"),ir(T),Qr(T,"link",g),i.head.appendChild(T),o.instance=T);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,F0(g,l.precedence,i));return o.instance}function F0(i,o,l){for(var g=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,N=T,Z=0;Z<g.length;Z++){var rt=g[Z];if(rt.dataset.precedence===o)N=rt;else if(N!==T)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function Oy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Dy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var K0=null;function F6(i,o,l){if(K0===null){var g=new Map,T=K0=new Map;T.set(l,g)}else T=K0,g=T.get(l),g||(g=new Map,T.set(l,g));if(g.has(i))return g;for(g.set(i,null),l=l.getElementsByTagName(i),T=0;T<l.length;T++){var N=l[T];if(!(N[Re]||N[ue]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=N.getAttribute(o)||"";Z=i+Z;var rt=g.get(Z);rt?rt.push(N):g.set(Z,[N])}}return g}function K6(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function FI(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Q6(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wl=null;function KI(){}function QI(i,o,l){if(Wl===null)throw Error(n(475));var g=Wl;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var T=Vc(l.href),N=i.querySelector(Gl(T));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(g.count++,g=Q0.bind(g),i.then(g,g)),o.state.loading|=4,o.instance=N,ir(N);return}N=i.ownerDocument||i,l=z6(l),(T=Ci.get(T))&&Oy(l,T),N=N.createElement("link"),ir(N);var Z=N;Z._p=new Promise(function(rt,gt){Z.onload=rt,Z.onerror=gt}),Qr(N,"link",l),o.instance=N}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=Q0.bind(g),i.addEventListener("load",o),i.addEventListener("error",o))}}function YI(){if(Wl===null)throw Error(n(475));var i=Wl;return i.stylesheets&&i.count===0&&My(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&My(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Q0(){if(this.count--,this.count===0){if(this.stylesheets)My(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Y0=null;function My(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Y0=new Map,o.forEach(VI,i),Y0=null,Q0.call(i))}function VI(i,o){if(!(o.state.loading&4)){var l=Y0.get(i);if(l)var g=l.get(null);else{l=new Map,Y0.set(i,l);for(var T=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var Z=T[N];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(l.set(Z.dataset.precedence,Z),g=Z)}g&&l.set(null,g)}T=o.instance,Z=T.getAttribute("data-precedence"),N=l.get(Z)||g,N===g&&l.set(null,T),l.set(Z,T),this.count++,g=Q0.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),N?N.parentNode.insertBefore(T,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(T,i.firstChild)),o.state.loading|=4}}var Zl={$$typeof:U,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function $I(i,o,l,g,T,N,Z,rt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.hiddenUpdates=Ns(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rt,this.incompleteTransitions=new Map}function Y6(i,o,l,g,T,N,Z,rt,gt,xt,Bt,Rt){return i=new $I(i,o,l,Z,rt,gt,xt,Rt),o=1,N===!0&&(o|=24),N=Zn(3,null,null,o),i.current=N,N.stateNode=i,o=dg(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:g,isDehydrated:l,cache:o},bg(N),i}function V6(i){return i?(i=Sc,i):Sc}function $6(i,o,l,g,T,N){T=V6(T),g.context===null?g.context=T:g.pendingContext=T,g=$s(o),g.payload={element:l},N=N===void 0?null:N,N!==null&&(g.callback=N),l=Gs(i,g,o),l!==null&&(ni(l,i,o),Tl(l,i,o))}function G6(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Ry(i,o){G6(i,o),(i=i.alternate)&&G6(i,o)}function X6(i){if(i.tag===13){var o=xc(i,67108864);o!==null&&ni(o,i,67108864),Ry(i,67108864)}}var V0=!0;function GI(i,o,l,g){var T=p.T;p.T=null;var N=v.p;try{v.p=2,Hy(i,o,l,g)}finally{v.p=N,p.T=T}}function XI(i,o,l,g){var T=p.T;p.T=null;var N=v.p;try{v.p=8,Hy(i,o,l,g)}finally{v.p=N,p.T=T}}function Hy(i,o,l,g){if(V0){var T=Ly(g);if(T===null)wy(i,o,g,$0,l),Z6(i,g);else if(ZI(T,i,o,l,g))g.stopPropagation();else if(Z6(i,g),o&4&&-1<WI.indexOf(i)){for(;T!==null;){var N=Te(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var Z=se(N.pendingLanes);if(Z!==0){var rt=N;for(rt.pendingLanes|=2,rt.entangledLanes|=2;Z;){var gt=1<<31-K(Z);rt.entanglements[1]|=gt,Z&=~gt}Ca(N),(Be&6)===0&&(D0=ft()+500,Ql(0))}}break;case 13:rt=xc(N,2),rt!==null&&ni(rt,N,2),R0(),Ry(N,2)}if(N=Ly(g),N===null&&wy(i,o,g,$0,l),N===T)break;T=N}T!==null&&g.stopPropagation()}else wy(i,o,g,null,l)}}function Ly(i){return i=pl(i),Ny(i)}var $0=null;function Ny(i){if($0=null,i=Ie(i),i!==null){var o=s(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return $0=i,null}function W6(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case At:return 2;case Nt:return 8;case Ot:case Pt:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Uy=!1,uo=null,co=null,fo=null,Jl=new Map,th=new Map,lo=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z6(i,o){switch(i){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Jl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(o.pointerId)}}function eh(i,o,l,g,T,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:l,eventSystemFlags:g,nativeEvent:N,targetContainers:[T]},o!==null&&(o=Te(o),o!==null&&X6(o)),i):(i.eventSystemFlags|=g,o=i.targetContainers,T!==null&&o.indexOf(T)===-1&&o.push(T),i)}function ZI(i,o,l,g,T){switch(o){case"focusin":return uo=eh(uo,i,o,l,g,T),!0;case"dragenter":return co=eh(co,i,o,l,g,T),!0;case"mouseover":return fo=eh(fo,i,o,l,g,T),!0;case"pointerover":var N=T.pointerId;return Jl.set(N,eh(Jl.get(N)||null,i,o,l,g,T)),!0;case"gotpointercapture":return N=T.pointerId,th.set(N,eh(th.get(N)||null,i,o,l,g,T)),!0}return!1}function J6(i){var o=Ie(i.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,nr(i.priority,function(){if(l.tag===13){var g=ri();g=Me(g);var T=xc(l,g);T!==null&&ni(T,l,g),Ry(l,g)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function G0(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Ly(i.nativeEvent);if(l===null){l=i.nativeEvent;var g=new l.constructor(l.type,l);dl=g,l.target.dispatchEvent(g),dl=null}else return o=Te(l),o!==null&&X6(o),i.blockedOn=l,!1;o.shift()}return!0}function tA(i,o,l){G0(i)&&l.delete(o)}function JI(){Uy=!1,uo!==null&&G0(uo)&&(uo=null),co!==null&&G0(co)&&(co=null),fo!==null&&G0(fo)&&(fo=null),Jl.forEach(tA),th.forEach(tA)}function X0(i,o){i.blockedOn===o&&(i.blockedOn=null,Uy||(Uy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,JI)))}var W0=null;function eA(i){W0!==i&&(W0=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){W0===i&&(W0=null);for(var o=0;o<i.length;o+=3){var l=i[o],g=i[o+1],T=i[o+2];if(typeof g!="function"){if(Ny(g||l)===null)continue;break}var N=Te(l);N!==null&&(i.splice(o,3),o-=3,Ng(N,{pending:!0,data:T,method:l.method,action:g},g,T))}}))}function rh(i){function o(gt){return X0(gt,i)}uo!==null&&X0(uo,i),co!==null&&X0(co,i),fo!==null&&X0(fo,i),Jl.forEach(o),th.forEach(o);for(var l=0;l<lo.length;l++){var g=lo[l];g.blockedOn===i&&(g.blockedOn=null)}for(;0<lo.length&&(l=lo[0],l.blockedOn===null);)J6(l),l.blockedOn===null&&lo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(g=0;g<l.length;g+=3){var T=l[g],N=l[g+1],Z=T[le]||null;if(typeof N=="function")Z||eA(l);else if(Z){var rt=null;if(N&&N.hasAttribute("formAction")){if(T=N,Z=N[le]||null)rt=Z.formAction;else if(Ny(T)!==null)continue}else rt=Z.action;typeof rt=="function"?l[g+1]=rt:(l.splice(g,3),g-=3),eA(l)}}}function Py(i){this._internalRoot=i}Z0.prototype.render=Py.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var l=o.current,g=ri();$6(l,g,i,o,null,null)},Z0.prototype.unmount=Py.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;$6(i.current,2,null,i,null,null),R0(),o[Vi]=null}};function Z0(i){this._internalRoot=i}Z0.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ce();i={blockedOn:null,target:i,priority:o};for(var l=0;l<lo.length&&o!==0&&o<lo[l].priority;l++);lo.splice(l,0,i),l===0&&J6(i)}};var rA=t.version;if(rA!=="19.1.0")throw Error(n(527,rA,"19.1.0"));v.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var tT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:p,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J0.isDisabled&&J0.supportsFiber)try{at=J0.inject(tT),$=J0}catch{}}return ih.createRoot=function(i,o){if(!a(i))throw Error(n(299));var l=!1,g="",T=_3,N=m3,Z=v3,rt=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(T=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(Z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(rt=o.unstable_transitionCallbacks)),o=Y6(i,1,!1,null,null,l,g,T,N,Z,rt,null),i[Vi]=o.current,vy(i),new Py(o)},ih.hydrateRoot=function(i,o,l){if(!a(i))throw Error(n(299));var g=!1,T="",N=_3,Z=m3,rt=v3,gt=null,xt=null;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(T=l.identifierPrefix),l.onUncaughtError!==void 0&&(N=l.onUncaughtError),l.onCaughtError!==void 0&&(Z=l.onCaughtError),l.onRecoverableError!==void 0&&(rt=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(gt=l.unstable_transitionCallbacks),l.formState!==void 0&&(xt=l.formState)),o=Y6(i,1,!0,o,l??null,g,T,N,Z,rt,gt,xt),o.context=V6(null),l=o.current,g=ri(),g=Me(g),T=$s(g),T.callback=null,Gs(l,T,g),l=g,o.current.lanes=l,De(o,l),Ca(o),i[Vi]=o.current,vy(i),new Z0(o)},ih.version="19.1.0",ih}var dA;function hT(){if(dA)return jy.exports;dA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jy.exports=lT(),jy.exports}var dT=hT(),gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zu=typeof window>"u"||"Deno"in globalThis;function Mi(){}function pT(e,t){return typeof e=="function"?e(t):e}function hm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ax(e,t){return Math.max(e+(t||0)-Date.now(),0)}function af(e,t){return typeof e=="function"?e(t):e}function fa(e,t){return typeof e=="function"?e(t):e}function pA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:u,stale:c}=e;if(u){if(n){if(t.queryHash!==av(u,t.options))return!1}else if(!$h(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||s&&!s(t))}function gA(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Vh(t.options.mutationKey)!==Vh(s))return!1}else if(!$h(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function av(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vh)(e)}function Vh(e){return JSON.stringify(e,(t,r)=>pm(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function $h(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>$h(e[r],t[r])):!1}function Ex(e,t){if(e===t)return e;const r=yA(e)&&yA(t);if(r||pm(e)&&pm(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),u=s.length,c=r?[]:{};let f=0;for(let h=0;h<u;h++){const d=r?h:s[h];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(c[d]=void 0,f++):(c[d]=Ex(e[d],t[d]),c[d]===e[d]&&e[d]!==void 0&&f++)}return a===u&&f===a?e:c}return t}function dm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pm(e){if(!bA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bA(e){return Object.prototype.toString.call(e)==="[object Object]"}function gT(e){return new Promise(t=>{setTimeout(t,e)})}function gm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ex(e,t):t}function yT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function bT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var sv=Symbol();function xx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pu,Bo,ff,lx,_T=(lx=class extends gd{constructor(){super();Vt(this,Pu);Vt(this,Bo);Vt(this,ff);kt(this,ff,t=>{if(!Zu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){yt(this,Bo)||this.setEventListener(yt(this,ff))}onUnsubscribe(){var t;this.hasListeners()||((t=yt(this,Bo))==null||t.call(this),kt(this,Bo,void 0))}setEventListener(t){var r;kt(this,ff,t),(r=yt(this,Bo))==null||r.call(this),kt(this,Bo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){yt(this,Pu)!==t&&(kt(this,Pu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof yt(this,Pu)=="boolean"?yt(this,Pu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pu=new WeakMap,Bo=new WeakMap,ff=new WeakMap,lx),ov=new _T,lf,Oo,hf,hx,mT=(hx=class extends gd{constructor(){super();Vt(this,lf,!0);Vt(this,Oo);Vt(this,hf);kt(this,hf,t=>{if(!Zu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){yt(this,Oo)||this.setEventListener(yt(this,hf))}onUnsubscribe(){var t;this.hasListeners()||((t=yt(this,Oo))==null||t.call(this),kt(this,Oo,void 0))}setEventListener(t){var r;kt(this,hf,t),(r=yt(this,Oo))==null||r.call(this),kt(this,Oo,t(this.setOnline.bind(this)))}setOnline(t){yt(this,lf)!==t&&(kt(this,lf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return yt(this,lf)}},lf=new WeakMap,Oo=new WeakMap,hf=new WeakMap,hx),Pp=new mT;function ym(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function vT(e){return Math.min(1e3*2**e,3e4)}function Sx(e){return(e??"online")==="online"?Pp.isOnline():!0}var Cx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yy(e){return e instanceof Cx}function Ix(e){let t=!1,r=0,n=!1,a;const s=ym(),u=A=>{var E;n||(_(new Cx(A)),(E=e.abort)==null||E.call(e))},c=()=>{t=!0},f=()=>{t=!1},h=()=>ov.isFocused()&&(e.networkMode==="always"||Pp.isOnline())&&e.canRun(),d=()=>Sx(e.networkMode)&&e.canRun(),y=A=>{var E;n||(n=!0,(E=e.onSuccess)==null||E.call(e,A),a==null||a(),s.resolve(A))},_=A=>{var E;n||(n=!0,(E=e.onError)==null||E.call(e,A),a==null||a(),s.reject(A))},w=()=>new Promise(A=>{var E;a=x=>{(n||h())&&A(x)},(E=e.onPause)==null||E.call(e)}).then(()=>{var A;a=void 0,n||(A=e.onContinue)==null||A.call(e)}),S=()=>{if(n)return;let A;const E=r===0?e.initialPromise:void 0;try{A=E??e.fn()}catch(x){A=Promise.reject(x)}Promise.resolve(A).then(y).catch(x=>{var P;if(n)return;const L=e.retry??(Zu?0:3),U=e.retryDelay??vT,O=typeof U=="function"?U(r,x):U,H=L===!0||typeof L=="number"&&r<L||typeof L=="function"&&L(r,x);if(t||!H){_(x);return}r++,(P=e.onFail)==null||P.call(e,r,x),gT(O).then(()=>h()?void 0:w()).then(()=>{t?_(x):S()})})};return{promise:s,cancel:u,continue:()=>(a==null||a(),s),cancelRetry:c,continueRetry:f,canStart:d,start:()=>(d()?S():w().then(S),s)}}var wT=e=>setTimeout(e,0);function AT(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=wT;const s=c=>{t?e.push(c):a(()=>{r(c)})},u=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:c=>{let f;t++;try{f=c()}finally{t--,t||u()}return f},batchCalls:c=>(...f)=>{s(()=>{c(...f)})},schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var Wr=AT(),ku,dx,Tx=(dx=class{constructor(){Vt(this,ku)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hm(this.gcTime)&&kt(this,ku,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zu?1/0:5*60*1e3))}clearGcTimeout(){yt(this,ku)&&(clearTimeout(yt(this,ku)),kt(this,ku,void 0))}},ku=new WeakMap,dx),df,pf,Di,qu,hn,ld,zu,ua,_s,px,ET=(px=class extends Tx{constructor(t){super();Vt(this,ua);Vt(this,df);Vt(this,pf);Vt(this,Di);Vt(this,qu);Vt(this,hn);Vt(this,ld);Vt(this,zu);kt(this,zu,!1),kt(this,ld,t.defaultOptions),this.setOptions(t.options),this.observers=[],kt(this,qu,t.client),kt(this,Di,yt(this,qu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kt(this,df,xT(this.options)),this.state=t.state??yt(this,df),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=yt(this,hn))==null?void 0:t.promise}setOptions(t){this.options={...yt(this,ld),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&yt(this,Di).remove(this)}setData(t,r){const n=gm(this.state.data,t,this.options);return ge(this,ua,_s).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ge(this,ua,_s).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=yt(this,hn))==null?void 0:n.promise;return(a=yt(this,hn))==null||a.cancel(t),r?r.then(Mi).catch(Mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(yt(this,df))}isActive(){return this.observers.some(t=>fa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ax(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=yt(this,hn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=yt(this,hn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),yt(this,Di).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(yt(this,hn)&&(yt(this,zu)?yt(this,hn).cancel({revert:!0}):yt(this,hn).cancelRetry()),this.scheduleGc()),yt(this,Di).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,ua,_s).call(this,{type:"invalidate"})}fetch(t,r){var f,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(yt(this,hn))return yt(this,hn).continueRetry(),yt(this,hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(_=>_.options.queryFn);y&&this.setOptions(y.options)}const n=new AbortController,a=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(kt(this,zu,!0),n.signal)})},s=()=>{const y=xx(this.options,r),_={client:yt(this,qu),queryKey:this.queryKey,meta:this.meta};return a(_),kt(this,zu,!1),this.options.persister?this.options.persister(y,_,this):y(_)},u={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:yt(this,qu),state:this.state,fetchFn:s};a(u),(f=this.options.behavior)==null||f.onFetch(u,this),kt(this,pf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=u.fetchOptions)==null?void 0:h.meta))&&ge(this,ua,_s).call(this,{type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta});const c=y=>{var _,w,S,A;Yy(y)&&y.silent||ge(this,ua,_s).call(this,{type:"error",error:y}),Yy(y)||((w=(_=yt(this,Di).config).onError)==null||w.call(_,y,this),(A=(S=yt(this,Di).config).onSettled)==null||A.call(S,this.state.data,y,this)),this.scheduleGc()};return kt(this,hn,Ix({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:y=>{var _,w,S,A;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(E){c(E);return}(w=(_=yt(this,Di).config).onSuccess)==null||w.call(_,y,this),(A=(S=yt(this,Di).config).onSettled)==null||A.call(S,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,_)=>{ge(this,ua,_s).call(this,{type:"failed",failureCount:y,error:_})},onPause:()=>{ge(this,ua,_s).call(this,{type:"pause"})},onContinue:()=>{ge(this,ua,_s).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),yt(this,hn).start()}},df=new WeakMap,pf=new WeakMap,Di=new WeakMap,qu=new WeakMap,hn=new WeakMap,ld=new WeakMap,zu=new WeakMap,ua=new WeakSet,_s=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Bx(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Yy(a)&&a.revert&&yt(this,pf)?{...yt(this,pf),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Wr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),yt(this,Di).notify({query:this,type:"updated",action:t})})},px);function Bx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ha,gx,ST=(gx=class extends gd{constructor(t={}){super();Vt(this,Ha);this.config=t,kt(this,Ha,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??av(a,r);let u=this.get(s);return u||(u=new ET({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){yt(this,Ha).has(t.queryHash)||(yt(this,Ha).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=yt(this,Ha).get(t.queryHash);r&&(t.destroy(),r===t&&yt(this,Ha).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return yt(this,Ha).get(t)}getAll(){return[...yt(this,Ha).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>pA(t,n)):r}notify(t){Wr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Wr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ha=new WeakMap,gx),La,Sn,ju,Na,Eo,yx,CT=(yx=class extends Tx{constructor(t){super();Vt(this,Na);Vt(this,La);Vt(this,Sn);Vt(this,ju);this.mutationId=t.mutationId,kt(this,Sn,t.mutationCache),kt(this,La,[]),this.state=t.state||IT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){yt(this,La).includes(t)||(yt(this,La).push(t),this.clearGcTimeout(),yt(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kt(this,La,yt(this,La).filter(r=>r!==t)),this.scheduleGc(),yt(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){yt(this,La).length||(this.state.status==="pending"?this.scheduleGc():yt(this,Sn).remove(this))}continue(){var t;return((t=yt(this,ju))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,u,c,f,h,d,y,_,w,S,A,E,x,L,U,O,H,P,q;kt(this,ju,Ix({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,F)=>{ge(this,Na,Eo).call(this,{type:"failed",failureCount:j,error:F})},onPause:()=>{ge(this,Na,Eo).call(this,{type:"pause"})},onContinue:()=>{ge(this,Na,Eo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>yt(this,Sn).canRun(this)}));const r=this.state.status==="pending",n=!yt(this,ju).canStart();try{if(!r){ge(this,Na,Eo).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=yt(this,Sn).config).onMutate)==null?void 0:s.call(a,t,this));const F=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t));F!==this.state.context&&ge(this,Na,Eo).call(this,{type:"pending",context:F,variables:t,isPaused:n})}const j=await yt(this,ju).start();return await((h=(f=yt(this,Sn).config).onSuccess)==null?void 0:h.call(f,j,t,this.state.context,this)),await((y=(d=this.options).onSuccess)==null?void 0:y.call(d,j,t,this.state.context)),await((w=(_=yt(this,Sn).config).onSettled)==null?void 0:w.call(_,j,null,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,j,null,t,this.state.context)),ge(this,Na,Eo).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(E=yt(this,Sn).config).onError)==null?void 0:x.call(E,j,t,this.state.context,this)),await((U=(L=this.options).onError)==null?void 0:U.call(L,j,t,this.state.context)),await((H=(O=yt(this,Sn).config).onSettled)==null?void 0:H.call(O,void 0,j,this.state.variables,this.state.context,this)),await((q=(P=this.options).onSettled)==null?void 0:q.call(P,void 0,j,t,this.state.context)),j}finally{ge(this,Na,Eo).call(this,{type:"error",error:j})}}finally{yt(this,Sn).runNext(this)}}},La=new WeakMap,Sn=new WeakMap,ju=new WeakMap,Na=new WeakSet,Eo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wr.batch(()=>{yt(this,La).forEach(n=>{n.onMutationUpdate(t)}),yt(this,Sn).notify({mutation:this,type:"updated",action:t})})},yx);function IT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,ca,hd,bx,TT=(bx=class extends gd{constructor(t={}){super();Vt(this,As);Vt(this,ca);Vt(this,hd);this.config=t,kt(this,As,new Set),kt(this,ca,new Map),kt(this,hd,0)}build(t,r,n){const a=new CT({mutationCache:this,mutationId:++tp(this,hd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){yt(this,As).add(t);const r=ep(t);if(typeof r=="string"){const n=yt(this,ca).get(r);n?n.push(t):yt(this,ca).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(yt(this,As).delete(t)){const r=ep(t);if(typeof r=="string"){const n=yt(this,ca).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&yt(this,ca).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ep(t);if(typeof r=="string"){const n=yt(this,ca).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=ep(t);if(typeof r=="string"){const a=(n=yt(this,ca).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wr.batch(()=>{yt(this,As).forEach(t=>{this.notify({type:"removed",mutation:t})}),yt(this,As).clear(),yt(this,ca).clear()})}getAll(){return Array.from(yt(this,As))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gA(r,n))}findAll(t={}){return this.getAll().filter(r=>gA(t,r))}notify(t){Wr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Wr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Mi))))}},As=new WeakMap,ca=new WeakMap,hd=new WeakMap,bx);function ep(e){var t;return(t=e.options.scope)==null?void 0:t.id}function _A(e){return{onFetch:(t,r)=>{var d,y,_,w,S;const n=t.options,a=(_=(y=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:y.fetchMore)==null?void 0:_.direction,s=((w=t.state.data)==null?void 0:w.pages)||[],u=((S=t.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let A=!1;const E=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(t.signal.aborted?A=!0:t.signal.addEventListener("abort",()=>{A=!0}),t.signal)})},x=xx(t.options,t.fetchOptions),L=async(U,O,H)=>{if(A)return Promise.reject();if(O==null&&U.pages.length)return Promise.resolve(U);const P={client:t.client,queryKey:t.queryKey,pageParam:O,direction:H?"backward":"forward",meta:t.options.meta};E(P);const q=await x(P),{maxPages:j}=t.options,F=H?bT:yT;return{pages:F(U.pages,q,j),pageParams:F(U.pageParams,O,j)}};if(a&&s.length){const U=a==="backward",O=U?BT:mA,H={pages:s,pageParams:u},P=O(n,H);c=await L(H,P,U)}else{const U=e??s.length;do{const O=f===0?u[0]??n.initialPageParam:mA(n,c);if(f>0&&O==null)break;c=await L(c,O),f++}while(f<U)}return c};t.options.persister?t.fetchFn=()=>{var A,E;return(E=(A=t.options).persister)==null?void 0:E.call(A,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function mA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function BT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var gr,Do,Mo,gf,yf,Ro,bf,_f,_x,Ox=(_x=class{constructor(e={}){Vt(this,gr);Vt(this,Do);Vt(this,Mo);Vt(this,gf);Vt(this,yf);Vt(this,Ro);Vt(this,bf);Vt(this,_f);kt(this,gr,e.queryCache||new ST),kt(this,Do,e.mutationCache||new TT),kt(this,Mo,e.defaultOptions||{}),kt(this,gf,new Map),kt(this,yf,new Map),kt(this,Ro,0)}mount(){tp(this,Ro)._++,yt(this,Ro)===1&&(kt(this,bf,ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),yt(this,gr).onFocus())})),kt(this,_f,Pp.subscribe(async e=>{e&&(await this.resumePausedMutations(),yt(this,gr).onOnline())})))}unmount(){var e,t;tp(this,Ro)._--,yt(this,Ro)===0&&((e=yt(this,bf))==null||e.call(this),kt(this,bf,void 0),(t=yt(this,_f))==null||t.call(this),kt(this,_f,void 0))}isFetching(e){return yt(this,gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return yt(this,Do).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=yt(this,gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=yt(this,gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(af(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return yt(this,gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=yt(this,gr).get(n.queryHash),s=a==null?void 0:a.state.data,u=pT(t,s);if(u!==void 0)return yt(this,gr).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return Wr.batch(()=>yt(this,gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=yt(this,gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=yt(this,gr);Wr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=yt(this,gr);return Wr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Wr.batch(()=>yt(this,gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Mi).catch(Mi)}invalidateQueries(e,t={}){return Wr.batch(()=>(yt(this,gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Wr.batch(()=>yt(this,gr).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Mi)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Mi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=yt(this,gr).build(this,t);return r.isStaleByTime(af(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mi).catch(Mi)}fetchInfiniteQuery(e){return e.behavior=_A(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mi).catch(Mi)}ensureInfiniteQueryData(e){return e.behavior=_A(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pp.isOnline()?yt(this,Do).resumePausedMutations():Promise.resolve()}getQueryCache(){return yt(this,gr)}getMutationCache(){return yt(this,Do)}getDefaultOptions(){return yt(this,Mo)}setDefaultOptions(e){kt(this,Mo,e)}setQueryDefaults(e,t){yt(this,gf).set(Vh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...yt(this,gf).values()],r={};return t.forEach(n=>{$h(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){yt(this,yf).set(Vh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...yt(this,yf).values()],r={};return t.forEach(n=>{$h(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...yt(this,Mo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=av(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...yt(this,Mo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){yt(this,gr).clear(),yt(this,Do).clear()}},gr=new WeakMap,Do=new WeakMap,Mo=new WeakMap,gf=new WeakMap,yf=new WeakMap,Ro=new WeakMap,bf=new WeakMap,_f=new WeakMap,_x),jn,ye,dd,Cn,Fu,mf,Ho,Ua,pd,vf,wf,Ku,Qu,Lo,Af,Se,Bh,bm,_m,mm,vm,wm,Am,Em,Dx,mx,OT=(mx=class extends gd{constructor(t,r){super();Vt(this,Se);Vt(this,jn);Vt(this,ye);Vt(this,dd);Vt(this,Cn);Vt(this,Fu);Vt(this,mf);Vt(this,Ho);Vt(this,Ua);Vt(this,pd);Vt(this,vf);Vt(this,wf);Vt(this,Ku);Vt(this,Qu);Vt(this,Lo);Vt(this,Af,new Set);this.options=r,kt(this,jn,t),kt(this,Ua,null),kt(this,Ho,ym()),this.options.experimental_prefetchInRender||yt(this,Ho).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(yt(this,ye).addObserver(this),vA(yt(this,ye),this.options)?ge(this,Se,Bh).call(this):this.updateResult(),ge(this,Se,vm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xm(yt(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xm(yt(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,Se,wm).call(this),ge(this,Se,Am).call(this),yt(this,ye).removeObserver(this)}setOptions(t){const r=this.options,n=yt(this,ye);if(this.options=yt(this,jn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fa(this.options.enabled,yt(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,Se,Em).call(this),yt(this,ye).setOptions(this.options),r._defaulted&&!dm(this.options,r)&&yt(this,jn).getQueryCache().notify({type:"observerOptionsUpdated",query:yt(this,ye),observer:this});const a=this.hasListeners();a&&wA(yt(this,ye),n,this.options,r)&&ge(this,Se,Bh).call(this),this.updateResult(),a&&(yt(this,ye)!==n||fa(this.options.enabled,yt(this,ye))!==fa(r.enabled,yt(this,ye))||af(this.options.staleTime,yt(this,ye))!==af(r.staleTime,yt(this,ye)))&&ge(this,Se,bm).call(this);const s=ge(this,Se,_m).call(this);a&&(yt(this,ye)!==n||fa(this.options.enabled,yt(this,ye))!==fa(r.enabled,yt(this,ye))||s!==yt(this,Lo))&&ge(this,Se,mm).call(this,s)}getOptimisticResult(t){const r=yt(this,jn).getQueryCache().build(yt(this,jn),t),n=this.createResult(r,t);return MT(this,n)&&(kt(this,Cn,n),kt(this,mf,this.options),kt(this,Fu,yt(this,ye).state)),n}getCurrentResult(){return yt(this,Cn)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){yt(this,Af).add(t)}getCurrentQuery(){return yt(this,ye)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=yt(this,jn).defaultQueryOptions(t),n=yt(this,jn).getQueryCache().build(yt(this,jn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ge(this,Se,Bh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),yt(this,Cn)))}createResult(t,r){var j;const n=yt(this,ye),a=this.options,s=yt(this,Cn),u=yt(this,Fu),c=yt(this,mf),h=t!==n?t.state:yt(this,dd),{state:d}=t;let y={...d},_=!1,w;if(r._optimisticResults){const F=this.hasListeners(),X=!F&&vA(t,r),z=F&&wA(t,n,r,a);(X||z)&&(y={...y,...Bx(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:S,errorUpdatedAt:A,status:E}=y;if(r.select&&y.data!==void 0)if(s&&y.data===(u==null?void 0:u.data)&&r.select===yt(this,pd))w=yt(this,vf);else try{kt(this,pd,r.select),w=r.select(y.data),w=gm(s==null?void 0:s.data,w,r),kt(this,vf,w),kt(this,Ua,null)}catch(F){kt(this,Ua,F)}else w=y.data;if(r.placeholderData!==void 0&&w===void 0&&E==="pending"){let F;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))F=s.data;else if(F=typeof r.placeholderData=="function"?r.placeholderData((j=yt(this,wf))==null?void 0:j.state.data,yt(this,wf)):r.placeholderData,r.select&&F!==void 0)try{F=r.select(F),kt(this,Ua,null)}catch(X){kt(this,Ua,X)}F!==void 0&&(E="success",w=gm(s==null?void 0:s.data,F,r),_=!0)}yt(this,Ua)&&(S=yt(this,Ua),w=yt(this,vf),A=Date.now(),E="error");const x=y.fetchStatus==="fetching",L=E==="pending",U=E==="error",O=L&&x,H=w!==void 0,q={status:E,fetchStatus:y.fetchStatus,isPending:L,isSuccess:E==="success",isError:U,isInitialLoading:O,isLoading:O,data:w,dataUpdatedAt:y.dataUpdatedAt,error:S,errorUpdatedAt:A,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:x,isRefetching:x&&!L,isLoadingError:U&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:U&&H,isStale:uv(t,r),refetch:this.refetch,promise:yt(this,Ho)};if(this.options.experimental_prefetchInRender){const F=I=>{q.status==="error"?I.reject(q.error):q.data!==void 0&&I.resolve(q.data)},X=()=>{const I=kt(this,Ho,q.promise=ym());F(I)},z=yt(this,Ho);switch(z.status){case"pending":t.queryHash===n.queryHash&&F(z);break;case"fulfilled":(q.status==="error"||q.data!==z.value)&&X();break;case"rejected":(q.status!=="error"||q.error!==z.reason)&&X();break}}return q}updateResult(){const t=yt(this,Cn),r=this.createResult(yt(this,ye),this.options);if(kt(this,Fu,yt(this,ye).state),kt(this,mf,this.options),yt(this,Fu).data!==void 0&&kt(this,wf,yt(this,ye)),dm(r,t))return;kt(this,Cn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!yt(this,Af).size)return!0;const u=new Set(s??yt(this,Af));return this.options.throwOnError&&u.add("error"),Object.keys(yt(this,Cn)).some(c=>{const f=c;return yt(this,Cn)[f]!==t[f]&&u.has(f)})};ge(this,Se,Dx).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,Se,vm).call(this)}},jn=new WeakMap,ye=new WeakMap,dd=new WeakMap,Cn=new WeakMap,Fu=new WeakMap,mf=new WeakMap,Ho=new WeakMap,Ua=new WeakMap,pd=new WeakMap,vf=new WeakMap,wf=new WeakMap,Ku=new WeakMap,Qu=new WeakMap,Lo=new WeakMap,Af=new WeakMap,Se=new WeakSet,Bh=function(t){ge(this,Se,Em).call(this);let r=yt(this,ye).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Mi)),r},bm=function(){ge(this,Se,wm).call(this);const t=af(this.options.staleTime,yt(this,ye));if(Zu||yt(this,Cn).isStale||!hm(t))return;const n=Ax(yt(this,Cn).dataUpdatedAt,t)+1;kt(this,Ku,setTimeout(()=>{yt(this,Cn).isStale||this.updateResult()},n))},_m=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(yt(this,ye)):this.options.refetchInterval)??!1},mm=function(t){ge(this,Se,Am).call(this),kt(this,Lo,t),!(Zu||fa(this.options.enabled,yt(this,ye))===!1||!hm(yt(this,Lo))||yt(this,Lo)===0)&&kt(this,Qu,setInterval(()=>{(this.options.refetchIntervalInBackground||ov.isFocused())&&ge(this,Se,Bh).call(this)},yt(this,Lo)))},vm=function(){ge(this,Se,bm).call(this),ge(this,Se,mm).call(this,ge(this,Se,_m).call(this))},wm=function(){yt(this,Ku)&&(clearTimeout(yt(this,Ku)),kt(this,Ku,void 0))},Am=function(){yt(this,Qu)&&(clearInterval(yt(this,Qu)),kt(this,Qu,void 0))},Em=function(){const t=yt(this,jn).getQueryCache().build(yt(this,jn),this.options);if(t===yt(this,ye))return;const r=yt(this,ye);kt(this,ye,t),kt(this,dd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Dx=function(t){Wr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(yt(this,Cn))}),yt(this,jn).getQueryCache().notify({query:yt(this,ye),type:"observerResultsUpdated"})})},mx);function DT(e,t){return fa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vA(e,t){return DT(e,t)||e.state.data!==void 0&&xm(e,t,t.refetchOnMount)}function xm(e,t,r){if(fa(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uv(e,t)}return!1}function wA(e,t,r,n){return(e!==t||fa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uv(e,r)}function uv(e,t){return fa(t.enabled,e)!==!1&&e.isStaleByTime(af(t.staleTime,e))}function MT(e,t){return!dm(e.getCurrentResult(),t)}var Mx=Pr.createContext(void 0),RT=e=>{const t=Pr.useContext(Mx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HT=({client:e,children:t})=>(Pr.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),qt.jsx(Mx.Provider,{value:e,children:t})),Rx=Pr.createContext(!1),LT=()=>Pr.useContext(Rx);Rx.Provider;function NT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UT=Pr.createContext(NT()),PT=()=>Pr.useContext(UT);function kT(e,t){return typeof e=="function"?e(...t):!!e}function AA(){}var qT=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zT=e=>{Pr.useEffect(()=>{e.clearReset()},[e])},jT=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||kT(r,[e.error,n])),FT=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},KT=(e,t)=>e.isLoading&&e.isFetching&&!t,QT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,EA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function YT(e,t,r){var y,_,w,S,A;const n=RT(),a=LT(),s=PT(),u=n.defaultQueryOptions(e);(_=(y=n.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||_.call(y,u),u._optimisticResults=a?"isRestoring":"optimistic",FT(u),qT(u,s),zT(s);const c=!n.getQueryCache().get(u.queryHash),[f]=Pr.useState(()=>new t(n,u)),h=f.getOptimisticResult(u),d=!a&&e.subscribed!==!1;if(Pr.useSyncExternalStore(Pr.useCallback(E=>{const x=d?f.subscribe(Wr.batchCalls(E)):AA;return f.updateResult(),x},[f,d]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),Pr.useEffect(()=>{f.setOptions(u)},[u,f]),QT(u,h))throw EA(u,f,s);if(jT({result:h,errorResetBoundary:s,throwOnError:u.throwOnError,query:n.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw h.error;if((S=(w=n.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,u,h),u.experimental_prefetchInRender&&!Zu&&KT(h,a)){const E=c?EA(u,f,s):(A=n.getQueryCache().get(u.queryHash))==null?void 0:A.promise;E==null||E.catch(AA).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?h:f.trackResult(h)}function cv(e,t){return YT(e,OT)}var Vy={exports:{}},$y={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function VT(){if(xA)return $y;xA=1;var e=n1().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return $y.c=function(t){return e.H.useMemoCache(t)},$y}var SA;function $T(){return SA||(SA=1,Vy.exports=VT()),Vy.exports}var i1=$T(),Gy={},Xy={},Gc={},Ia={},Ta={},CA;function a1(){if(CA)return Ta;CA=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.CodecExecuteError=Ta.CodecBaseParseError=Ta.CODEC_OPTIONAL_PATH=void 0,Ta.isCodecExecuteError=n;const e=Ta.CODEC_OPTIONAL_PATH="__lc_option__";class t extends Error{constructor(u,c){super(u),this.expectedType=c}}Ta.CodecBaseParseError=t;const r="CodecExecuteError";function n(s){return s instanceof Error?s.name===r:!1}class a extends Error{constructor(c){super();Yr(this,"name",r);Yr(this,"keys",[]);this.origin=c}updateKey(c){this.keys.push(c),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var c;const f=(y,_,w)=>(_===e?_=w===0?"?":"?.":typeof _=="number"?_=`[${_}]`:_=`.${_}`,y+_),h=this.keys.reduceRight(f,"input");return`${this.origin instanceof t?`Expect type ${this.origin.expectedType} at ${h} but got error:`:`Error at ${h}:`} ${this.origin.message}
    ${(c=this.origin.stack)===null||c===void 0?void 0:c.replace(/Error:.+?\n/,"")}
    `}}return Ta.CodecExecuteError=a,Ta}var IA;function s1(){if(IA)return Ia;IA=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.assertBufferLength=_,Ia.assertHexDecimal=h,Ia.assertHexString=d,Ia.assertMinBufferLength=w,Ia.assertUtf8String=y,Ia.isObjectLike=S,Ia.trackCodeExecuteError=A;var e=a1();const t=48,r=57,n=65,a=70,s=97,u=102;function c(E){if(!E||!E.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function f(E){const x=E.length;for(let L=2;L<x;L++){const U=E[L].charCodeAt(0);if(!(U>=t&&U<=r||U>=s&&U<=u||U>=n&&U<=a))throw new Error(`Invalid hex character ${E[L]} in the string ${E}`)}}function h(E,x){if(c(E),E.length===2)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const L=E.length;if(typeof x=="number"&&L>x*2+2)throw new Error(`Invalid hex decimal length, should be less than ${x} bytes, got ${L/2-1} bytes`);f(E)}function d(E,x){c(E);const L=E.length;if(L%2)throw new Error("Invalid hex string length, must be even!");if(typeof x=="number"&&L!==x*2+2)throw new Error("Invalid hex string length, not match with byteLength!");f(E)}function y(E){for(let x=0;x<E.length;x++)if(E.charCodeAt(x)>255)throw new Error("Invalid UTF-8 raw string!")}function _(E,x){if(E.byteLength!==x)throw new Error(`Invalid buffer length: ${E.byteLength}, should be ${x}`)}function w(E,x){if(E.byteLength<x)throw new Error(`Invalid buffer length: ${E.byteLength}, should be at least ${x}`)}function S(E){return E?typeof E=="object":!1}function A(E,x){try{return x()}catch(L){const U=(0,e.isCodecExecuteError)(L)?L:new e.CodecExecuteError(L);throw U.updateKey(E),U}}return Ia}var po={},TA;function ac(){if(TA)return po;TA=1,Object.defineProperty(po,"__esModule",{value:!0}),po.bytify=h,po.bytifyRawString=t,po.concat=S,po.equal=d,po.hexify=w;var e=s1();function t(A){(0,e.assertUtf8String)(A);const E=new ArrayBuffer(A.length),x=new DataView(E);for(let L=0;L<A.length;L++){const U=A.charCodeAt(L);x.setUint8(L,U)}return new Uint8Array(E)}const r=48,n=57,a=65,s=70,u=97;function c(A){(0,e.assertHexString)(A);const E=Uint8Array.from({length:A.length/2-1});for(let x=2,L=0;x<A.length;x=x+2,L++){const U=A.charCodeAt(x),O=A.charCodeAt(x+1),H=U<=n?U-r:U<=s?U-a+10:U-u+10,P=O<=n?O-r:O<=s?O-a+10:O-u+10;E[L]=H<<4|P}return E}function f(A){for(let E=0;E<A.length;E++){const x=A[E];if(x<0||x>255||!Number.isInteger(x))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(A)}function h(A){if(A instanceof ArrayBuffer)return new Uint8Array(A);if(A instanceof Uint8Array)return Uint8Array.from(A);if(typeof A=="string")return c(A);if(Array.isArray(A))return f(A);throw new Error(`Cannot convert ${A}`)}function d(A,E){const x=h(A),L=h(E);return y(x,L)}function y(A,E){if(A.length!==E.length)return!1;for(let x=A.length;-1<x;x-=1)if(A[x]!==E[x])return!1;return!0}const _=Array.from({length:256}).map((A,E)=>E.toString(16).padStart(2,"0"));function w(A){let E="";const x=h(A);for(let L=0;L<x.length;L++)E+=_[x[L]];return"0x"+E}function S(...A){const E=A.map(h),x=E.reduce((O,H)=>O+H.length,0),L=new Uint8Array(x);let U=0;return E.forEach(O=>{L.set(O,U),U+=O.length}),L}return po}var BA;function yd(){if(BA)return Gc;BA=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.createBytesCodec=r,Gc.createFixedBytesCodec=a,Gc.isFixedCodec=n;var e=s1(),t=ac();function r(s){return{pack:u=>s.pack(u),unpack:u=>s.unpack((0,t.bytify)(u))}}function n(s){return(0,e.isObjectLike)(s)&&!!s.__isFixedCodec__}function a(s){const u=s.byteLength;return{__isFixedCodec__:!0,byteLength:u,...r({pack:c=>{const f=s.pack(c);return(0,e.assertBufferLength)(f,u),f},unpack:c=>((0,e.assertBufferLength)(c,u),s.unpack(c))})}}return Gc}var Wy={},Eu={},OA;function GT(){if(OA)return Eu;OA=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.createArrayCodec=a,Eu.createNullableCodec=r,Eu.createObjectCodec=n,Eu.enhancePack=s;var e=s1(),t=a1();function r(u){return{pack:c=>c==null?c:(0,e.trackCodeExecuteError)(t.CODEC_OPTIONAL_PATH,()=>u.pack(c)),unpack:c=>c==null?c:u.unpack(c)}}function n(u){const c=Object.entries(u);return{pack:f=>{const h={};return c.forEach(([d,y])=>{Object.assign(h,{[d]:(0,e.trackCodeExecuteError)(d,()=>y.pack(f[d]))})}),h},unpack:f=>{const h={};return c.forEach(([d,y])=>{Object.assign(h,{[d]:y.unpack(f[d])})}),h}}}function a(u){return{pack:c=>c.map((f,h)=>(0,e.trackCodeExecuteError)(h,()=>u.pack(f))),unpack:c=>c.map(f=>u.unpack(f))}}function s(u,c,f){return{pack:h=>c(u.pack(h)),unpack:h=>u.unpack(f(h))}}return Eu}var DA;function Hx(){return DA||(DA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createArrayCodec",{enumerable:!0,get:function(){return t.createArrayCodec}}),Object.defineProperty(e,"createNullableCodec",{enumerable:!0,get:function(){return t.createNullableCodec}}),Object.defineProperty(e,"createObjectCodec",{enumerable:!0,get:function(){return t.createObjectCodec}}),Object.defineProperty(e,"enhancePack",{enumerable:!0,get:function(){return t.enhancePack}});var t=GT()}(Wy)),Wy}var Zy={},Jy={},ea={},Bp={exports:{}},XT=Bp.exports,MA;function WT(){return MA||(MA=1,function(e,t){(function(r,n){e.exports=n()})(XT,function(){var r=Math.imul,n=Math.clz32;function a(X){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a(X)}function s(X,z){if(!(X instanceof z))throw new TypeError("Cannot call a class as a function")}function u(X,z){for(var I,M=0;M<z.length;M++)I=z[M],I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(X,I.key,I)}function c(X,z,I){return z&&u(X.prototype,z),I&&u(X,I),Object.defineProperty(X,"prototype",{writable:!1}),X}function f(X,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(z&&z.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),z&&d(X,z)}function h(X){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},h(X)}function d(X,z){return d=Object.setPrototypeOf||function(I,M){return I.__proto__=M,I},d(X,z)}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(){return _=y()?Reflect.construct:function(X,z,I){var M=[null];M.push.apply(M,z);var m=Function.bind.apply(X,M),C=new m;return I&&d(C,I.prototype),C},_.apply(null,arguments)}function w(X){return Function.toString.call(X).indexOf("[native code]")!==-1}function S(X){var z=typeof Map=="function"?new Map:void 0;return S=function(I){function M(){return _(I,arguments,h(this).constructor)}if(I===null||!w(I))return I;if(typeof I!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(I))return z.get(I);z.set(I,M)}return M.prototype=Object.create(I.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),d(M,I)},S(X)}function A(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function E(X,z){if(z&&(typeof z=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(X)}function x(X){var z=y();return function(){var I,M=h(X);if(z){var m=h(this).constructor;I=Reflect.construct(M,arguments,m)}else I=M.apply(this,arguments);return E(this,I)}}function L(X,z){return U(X)||O(X,z)||H(X,z)||q()}function U(X){if(Array.isArray(X))return X}function O(X,z){var I=X==null?null:typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(I!=null){var M,m,C=[],p=!0,v=!1;try{for(I=I.call(X);!(p=(M=I.next()).done)&&(C.push(M.value),!(z&&C.length===z));p=!0);}catch(D){v=!0,m=D}finally{try{p||I.return==null||I.return()}finally{if(v)throw m}}return C}}function H(X,z){if(X){if(typeof X=="string")return P(X,z);var I=Object.prototype.toString.call(X).slice(8,-1);return I==="Object"&&X.constructor&&(I=X.constructor.name),I==="Map"||I==="Set"?Array.from(X):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?P(X,z):void 0}}function P(X,z){(z==null||z>X.length)&&(z=X.length);for(var I=0,M=Array(z);I<z;I++)M[I]=X[I];return M}function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(X,z){var I=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!I){if(Array.isArray(X)||(I=H(X))||z){I&&(X=I);var M=0,m=function(){};return{s:m,n:function(){return M>=X.length?{done:!0}:{done:!1,value:X[M++]}},e:function(D){throw D},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,p=!0,v=!1;return{s:function(){I=I.call(X)},n:function(){var D=I.next();return p=D.done,D},e:function(D){v=!0,C=D},f:function(){try{p||I.return==null||I.return()}finally{if(v)throw C}}}}var F=function(X){var z=Math.abs,I=Math.max,M=Math.floor;function m(p,v){var D;if(s(this,m),D=C.call(this,p),D.sign=v,Object.setPrototypeOf(A(D),m.prototype),p>m.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return D}f(m,X);var C=x(m);return c(m,[{key:"toDebugString",value:function(){var p,v=["BigInt["],D=j(this);try{for(D.s();!(p=D.n()).done;){var B=p.value;v.push((B&&(B>>>0).toString(16))+", ")}}catch(b){D.e(b)}finally{D.f()}return v.push("]"),v.join("")}},{key:"toString",value:function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>p||36<p)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(p&p-1)==0?m.__toStringBasePowerOfTwo(this,p):m.__toStringGeneric(this,p,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var p=new m(this.length,this.sign),v=0;v<this.length;v++)p[v]=this[v];return p}},{key:"__trim",value:function(){for(var p=this.length,v=this[p-1];v===0;)p--,v=this[p-1],this.pop();return p===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var p=0;p<this.length;p++)this[p]=0}},{key:"__clzmsd",value:function(){return m.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(p,v,D){D>this.length&&(D=this.length);for(var B=32767&p,b=p>>>15,R=0,Y=v,Q=0;Q<D;Q++){var W=this.__digit(Q),J=32767&W,G=W>>>15,et=m.__imul(J,B),it=m.__imul(J,b),ut=m.__imul(G,B),ct=m.__imul(G,b),tt=Y+et+R;R=tt>>>30,tt&=1073741823,tt+=((32767&it)<<15)+((32767&ut)<<15),R+=tt>>>30,Y=ct+(it>>>15)+(ut>>>15),this.__setDigit(Q,1073741823&tt)}if(R!==0||Y!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(p,v,D){for(var B,b=0,R=0;R<D;R++)B=this.__halfDigit(v+R)+p.__halfDigit(R)+b,b=B>>>15,this.__setHalfDigit(v+R,32767&B);return b}},{key:"__inplaceSub",value:function(p,v,D){var B=0;if(1&v){v>>=1;for(var b=this.__digit(v),R=32767&b,Y=0;Y<D-1>>>1;Y++){var Q=p.__digit(Y),W=(b>>>15)-(32767&Q)-B;B=1&W>>>15,this.__setDigit(v+Y,(32767&W)<<15|32767&R),b=this.__digit(v+Y+1),R=(32767&b)-(Q>>>15)-B,B=1&R>>>15}var J=p.__digit(Y),G=(b>>>15)-(32767&J)-B;if(B=1&G>>>15,this.__setDigit(v+Y,(32767&G)<<15|32767&R),v+Y+1>=this.length)throw new RangeError("out of bounds");(1&D)==0&&(b=this.__digit(v+Y+1),R=(32767&b)-(J>>>15)-B,B=1&R>>>15,this.__setDigit(v+p.length,1073709056&b|32767&R))}else{v>>=1;for(var et=0;et<p.length-1;et++){var it=this.__digit(v+et),ut=p.__digit(et),ct=(32767&it)-(32767&ut)-B;B=1&ct>>>15;var tt=(it>>>15)-(ut>>>15)-B;B=1&tt>>>15,this.__setDigit(v+et,(32767&tt)<<15|32767&ct)}var V=this.__digit(v+et),ot=p.__digit(et),mt=(32767&V)-(32767&ot)-B;B=1&mt>>>15;var Tt=0;(1&D)==0&&(Tt=(V>>>15)-(ot>>>15)-B,B=1&Tt>>>15),this.__setDigit(v+et,(32767&Tt)<<15|32767&mt)}return B}},{key:"__inplaceRightShift",value:function(p){if(p!==0){for(var v,D=this.__digit(0)>>>p,B=this.length-1,b=0;b<B;b++)v=this.__digit(b+1),this.__setDigit(b,1073741823&v<<30-p|D),D=v>>>p;this.__setDigit(B,D)}}},{key:"__digit",value:function(p){return this[p]}},{key:"__unsignedDigit",value:function(p){return this[p]>>>0}},{key:"__setDigit",value:function(p,v){this[p]=0|v}},{key:"__setDigitGrow",value:function(p,v){this[p]=0|v}},{key:"__halfDigitLength",value:function(){var p=this.length;return 32767>=this.__unsignedDigit(p-1)?2*p-1:2*p}},{key:"__halfDigit",value:function(p){return 32767&this[p>>>1]>>>15*(1&p)}},{key:"__setHalfDigit",value:function(p,v){var D=p>>>1,B=this.__digit(D),b=1&p?32767&B|v<<15:1073709056&B|32767&v;this.__setDigit(D,b)}}],[{key:"BigInt",value:function(p){var v=Number.isFinite;if(typeof p=="number"){if(p===0)return m.__zero();if(m.__isOneDigitInt(p))return 0>p?m.__oneDigit(-p,!0):m.__oneDigit(p,!1);if(!v(p)||M(p)!==p)throw new RangeError("The number "+p+" cannot be converted to BigInt because it is not an integer");return m.__fromDouble(p)}if(typeof p=="string"){var D=m.__fromString(p);if(D===null)throw new SyntaxError("Cannot convert "+p+" to a BigInt");return D}if(typeof p=="boolean")return p===!0?m.__oneDigit(1,!1):m.__zero();if(a(p)==="object"){if(p.constructor===m)return p;var B=m.__toPrimitive(p);return m.BigInt(B)}throw new TypeError("Cannot convert "+p+" to a BigInt")}},{key:"toNumber",value:function(p){var v=p.length;if(v===0)return 0;if(v===1){var D=p.__unsignedDigit(0);return p.sign?-D:D}var B=p.__digit(v-1),b=m.__clz30(B),R=30*v-b;if(1024<R)return p.sign?-1/0:1/0;var Y=R-1,Q=B,W=v-1,J=b+3,G=J===32?0:Q<<J;G>>>=12;var et=J-12,it=12<=J?0:Q<<20+J,ut=20+J;for(0<et&&0<W&&(W--,Q=p.__digit(W),G|=Q>>>30-et,it=Q<<et+2,ut=et+2);0<ut&&0<W;)W--,Q=p.__digit(W),it|=30<=ut?Q<<ut-30:Q>>>30-ut,ut-=30;var ct=m.__decideRounding(p,ut,W,Q);if((ct===1||ct===0&&(1&it)==1)&&(it=it+1>>>0,it===0&&(G++,G>>>20!=0&&(G=0,Y++,1023<Y))))return p.sign?-1/0:1/0;var tt=p.sign?-2147483648:0;return Y=Y+1023<<20,m.__kBitConversionInts[1]=tt|Y|G,m.__kBitConversionInts[0]=it,m.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(p){if(p.length===0)return p;var v=p.__copy();return v.sign=!p.sign,v}},{key:"bitwiseNot",value:function(p){return p.sign?m.__absoluteSubOne(p).__trim():m.__absoluteAddOne(p,!0)}},{key:"exponentiate",value:function(p,v){if(v.sign)throw new RangeError("Exponent must be positive");if(v.length===0)return m.__oneDigit(1,!1);if(p.length===0)return p;if(p.length===1&&p.__digit(0)===1)return p.sign&&(1&v.__digit(0))==0?m.unaryMinus(p):p;if(1<v.length)throw new RangeError("BigInt too big");var D=v.__unsignedDigit(0);if(D===1)return p;if(D>=m.__kMaxLengthBits)throw new RangeError("BigInt too big");if(p.length===1&&p.__digit(0)===2){var B=1+(0|D/30),b=p.sign&&(1&D)!=0,R=new m(B,b);R.__initializeDigits();var Y=1<<D%30;return R.__setDigit(B-1,Y),R}var Q=null,W=p;for((1&D)!=0&&(Q=p),D>>=1;D!==0;D>>=1)W=m.multiply(W,W),(1&D)!=0&&(Q===null?Q=W:Q=m.multiply(Q,W));return Q}},{key:"multiply",value:function(p,v){if(p.length===0)return p;if(v.length===0)return v;var D=p.length+v.length;30<=p.__clzmsd()+v.__clzmsd()&&D--;var B=new m(D,p.sign!==v.sign);B.__initializeDigits();for(var b=0;b<p.length;b++)m.__multiplyAccumulate(v,p.__digit(b),B,b);return B.__trim()}},{key:"divide",value:function(p,v){if(v.length===0)throw new RangeError("Division by zero");if(0>m.__absoluteCompare(p,v))return m.__zero();var D,B=p.sign!==v.sign,b=v.__unsignedDigit(0);if(v.length===1&&32767>=b){if(b===1)return B===p.sign?p:m.unaryMinus(p);D=m.__absoluteDivSmall(p,b,null)}else D=m.__absoluteDivLarge(p,v,!0,!1);return D.sign=B,D.__trim()}},{key:"remainder",value:function(v,D){if(D.length===0)throw new RangeError("Division by zero");if(0>m.__absoluteCompare(v,D))return v;var B=D.__unsignedDigit(0);if(D.length===1&&32767>=B){if(B===1)return m.__zero();var b=m.__absoluteModSmall(v,B);return b===0?m.__zero():m.__oneDigit(b,v.sign)}var R=m.__absoluteDivLarge(v,D,!1,!0);return R.sign=v.sign,R.__trim()}},{key:"add",value:function(p,v){var D=p.sign;return D===v.sign?m.__absoluteAdd(p,v,D):0<=m.__absoluteCompare(p,v)?m.__absoluteSub(p,v,D):m.__absoluteSub(v,p,!D)}},{key:"subtract",value:function(p,v){var D=p.sign;return D===v.sign?0<=m.__absoluteCompare(p,v)?m.__absoluteSub(p,v,D):m.__absoluteSub(v,p,!D):m.__absoluteAdd(p,v,D)}},{key:"leftShift",value:function(p,v){return v.length===0||p.length===0?p:v.sign?m.__rightShiftByAbsolute(p,v):m.__leftShiftByAbsolute(p,v)}},{key:"signedRightShift",value:function(p,v){return v.length===0||p.length===0?p:v.sign?m.__leftShiftByAbsolute(p,v):m.__rightShiftByAbsolute(p,v)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(p,v){return 0>m.__compareToBigInt(p,v)}},{key:"lessThanOrEqual",value:function(p,v){return 0>=m.__compareToBigInt(p,v)}},{key:"greaterThan",value:function(p,v){return 0<m.__compareToBigInt(p,v)}},{key:"greaterThanOrEqual",value:function(p,v){return 0<=m.__compareToBigInt(p,v)}},{key:"equal",value:function(p,v){if(p.sign!==v.sign||p.length!==v.length)return!1;for(var D=0;D<p.length;D++)if(p.__digit(D)!==v.__digit(D))return!1;return!0}},{key:"notEqual",value:function(p,v){return!m.equal(p,v)}},{key:"bitwiseAnd",value:function(p,v){if(!p.sign&&!v.sign)return m.__absoluteAnd(p,v).__trim();if(p.sign&&v.sign){var D=I(p.length,v.length)+1,B=m.__absoluteSubOne(p,D),b=m.__absoluteSubOne(v);return B=m.__absoluteOr(B,b,B),m.__absoluteAddOne(B,!0,B).__trim()}if(p.sign){var R=[v,p];p=R[0],v=R[1]}return m.__absoluteAndNot(p,m.__absoluteSubOne(v)).__trim()}},{key:"bitwiseXor",value:function(p,v){if(!p.sign&&!v.sign)return m.__absoluteXor(p,v).__trim();if(p.sign&&v.sign){var D=I(p.length,v.length),B=m.__absoluteSubOne(p,D),b=m.__absoluteSubOne(v);return m.__absoluteXor(B,b,B).__trim()}var R=I(p.length,v.length)+1;if(p.sign){var Y=[v,p];p=Y[0],v=Y[1]}var Q=m.__absoluteSubOne(v,R);return Q=m.__absoluteXor(Q,p,Q),m.__absoluteAddOne(Q,!0,Q).__trim()}},{key:"bitwiseOr",value:function(p,v){var D=I(p.length,v.length);if(!p.sign&&!v.sign)return m.__absoluteOr(p,v).__trim();if(p.sign&&v.sign){var B=m.__absoluteSubOne(p,D),b=m.__absoluteSubOne(v);return B=m.__absoluteAnd(B,b,B),m.__absoluteAddOne(B,!0,B).__trim()}if(p.sign){var R=[v,p];p=R[0],v=R[1]}var Y=m.__absoluteSubOne(v,D);return Y=m.__absoluteAndNot(Y,p,Y),m.__absoluteAddOne(Y,!0,Y).__trim()}},{key:"asIntN",value:function(p,v){if(v.length===0)return v;if(p=M(p),0>p)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(p===0)return m.__zero();if(p>=m.__kMaxLengthBits)return v;var D=0|(p+29)/30;if(v.length<D)return v;var B=v.__unsignedDigit(D-1),b=1<<(p-1)%30;if(v.length===D&&B<b)return v;if((B&b)!==b)return m.__truncateToNBits(p,v);if(!v.sign)return m.__truncateAndSubFromPowerOfTwo(p,v,!0);if((B&b-1)==0){for(var R=D-2;0<=R;R--)if(v.__digit(R)!==0)return m.__truncateAndSubFromPowerOfTwo(p,v,!1);return v.length===D&&B===b?v:m.__truncateToNBits(p,v)}return m.__truncateAndSubFromPowerOfTwo(p,v,!1)}},{key:"asUintN",value:function(p,v){if(v.length===0)return v;if(p=M(p),0>p)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(p===0)return m.__zero();if(v.sign){if(p>m.__kMaxLengthBits)throw new RangeError("BigInt too big");return m.__truncateAndSubFromPowerOfTwo(p,v,!1)}if(p>=m.__kMaxLengthBits)return v;var D=0|(p+29)/30;if(v.length<D)return v;var B=p%30;if(v.length==D){if(B===0)return v;var b=v.__digit(D-1);if(!(b>>>B))return v}return m.__truncateToNBits(p,v)}},{key:"ADD",value:function(p,v){if(p=m.__toPrimitive(p),v=m.__toPrimitive(v),typeof p=="string")return typeof v!="string"&&(v=v.toString()),p+v;if(typeof v=="string")return p.toString()+v;if(p=m.__toNumeric(p),v=m.__toNumeric(v),m.__isBigInt(p)&&m.__isBigInt(v))return m.add(p,v);if(typeof p=="number"&&typeof v=="number")return p+v;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(p,v){return m.__compare(p,v,0)}},{key:"LE",value:function(p,v){return m.__compare(p,v,1)}},{key:"GT",value:function(p,v){return m.__compare(p,v,2)}},{key:"GE",value:function(p,v){return m.__compare(p,v,3)}},{key:"EQ",value:function(p,v){for(;;){if(m.__isBigInt(p))return m.__isBigInt(v)?m.equal(p,v):m.EQ(v,p);if(typeof p=="number"){if(m.__isBigInt(v))return m.__equalToNumber(v,p);if(a(v)!=="object")return p==v;v=m.__toPrimitive(v)}else if(typeof p=="string"){if(m.__isBigInt(v))return p=m.__fromString(p),p!==null&&m.equal(p,v);if(a(v)!=="object")return p==v;v=m.__toPrimitive(v)}else if(typeof p=="boolean"){if(m.__isBigInt(v))return m.__equalToNumber(v,+p);if(a(v)!=="object")return p==v;v=m.__toPrimitive(v)}else if(a(p)==="symbol"){if(m.__isBigInt(v))return!1;if(a(v)!=="object")return p==v;v=m.__toPrimitive(v)}else if(a(p)==="object"){if(a(v)==="object"&&v.constructor!==m)return p==v;p=m.__toPrimitive(p)}else return p==v}}},{key:"NE",value:function(p,v){return!m.EQ(p,v)}},{key:"DataViewGetBigInt64",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return m.asIntN(64,m.DataViewGetBigUint64(p,v,D))}},{key:"DataViewGetBigUint64",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0&&arguments[2],B=D?[4,0]:[0,4],b=L(B,2),R=b[0],Y=b[1],Q=p.getUint32(v+R,D),W=p.getUint32(v+Y,D),J=new m(3,!1);return J.__setDigit(0,1073741823&W),J.__setDigit(1,(268435455&Q)<<2|W>>>30),J.__setDigit(2,Q>>>28),J.__trim()}},{key:"DataViewSetBigInt64",value:function(p,v,D){var B=3<arguments.length&&arguments[3]!==void 0&&arguments[3];m.DataViewSetBigUint64(p,v,D,B)}},{key:"DataViewSetBigUint64",value:function(p,v,D){var B=3<arguments.length&&arguments[3]!==void 0&&arguments[3];D=m.asUintN(64,D);var b=0,R=0;if(0<D.length&&(R=D.__digit(0),1<D.length)){var Y=D.__digit(1);R|=Y<<30,b=Y>>>2,2<D.length&&(b|=D.__digit(2)<<28)}var Q=B?[4,0]:[0,4],W=L(Q,2),J=W[0],G=W[1];p.setUint32(v+J,b,B),p.setUint32(v+G,R,B)}},{key:"__zero",value:function(){return new m(0,!1)}},{key:"__oneDigit",value:function(p,v){var D=new m(1,v);return D.__setDigit(0,p),D}},{key:"__decideRounding",value:function(p,v,D,B){if(0<v)return-1;var b;if(0>v)b=-v-1;else{if(D===0)return-1;D--,B=p.__digit(D),b=29}var R=1<<b;if((B&R)==0)return-1;if(R-=1,(B&R)!=0)return 1;for(;0<D;)if(D--,p.__digit(D)!==0)return 1;return 0}},{key:"__fromDouble",value:function(p){m.__kBitConversionDouble[0]=p;var v,D=2047&m.__kBitConversionInts[1]>>>20,B=D-1023,b=(0|B/30)+1,R=new m(b,0>p),Y=1048575&m.__kBitConversionInts[1]|1048576,Q=m.__kBitConversionInts[0],W=20,J=B%30,G=0;if(J<W){var et=W-J;G=et+32,v=Y>>>et,Y=Y<<32-et|Q>>>et,Q<<=32-et}else if(J===W)G=32,v=Y,Y=Q,Q=0;else{var it=J-W;G=32-it,v=Y<<it|Q>>>32-it,Y=Q<<it,Q=0}R.__setDigit(b-1,v);for(var ut=b-2;0<=ut;ut--)0<G?(G-=30,v=Y>>>2,Y=Y<<30|Q>>>2,Q<<=30):v=0,R.__setDigit(ut,v);return R.__trim()}},{key:"__isWhitespace",value:function(p){return 13>=p&&9<=p||(159>=p?p==32:131071>=p?p==160||p==5760:196607>=p?(p&=131071,10>=p||p==40||p==41||p==47||p==95||p==4096):p==65279)}},{key:"__fromString",value:function(p){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=0,B=p.length,b=0;if(b===B)return m.__zero();for(var R=p.charCodeAt(b);m.__isWhitespace(R);){if(++b===B)return m.__zero();R=p.charCodeAt(b)}if(R===43){if(++b===B)return null;R=p.charCodeAt(b),D=1}else if(R===45){if(++b===B)return null;R=p.charCodeAt(b),D=-1}if(v===0){if(v=10,R===48){if(++b===B)return m.__zero();if(R=p.charCodeAt(b),R===88||R===120){if(v=16,++b===B)return null;R=p.charCodeAt(b)}else if(R===79||R===111){if(v=8,++b===B)return null;R=p.charCodeAt(b)}else if(R===66||R===98){if(v=2,++b===B)return null;R=p.charCodeAt(b)}}}else if(v===16&&R===48){if(++b===B)return m.__zero();if(R=p.charCodeAt(b),R===88||R===120){if(++b===B)return null;R=p.charCodeAt(b)}}if(D!==0&&v!==10)return null;for(;R===48;){if(++b===B)return m.__zero();R=p.charCodeAt(b)}var Y=B-b,Q=m.__kMaxBitsPerChar[v],W=m.__kBitsPerCharTableMultiplier-1;if(Y>1073741824/Q)return null;var J=Q*Y+W>>>m.__kBitsPerCharTableShift,G=new m(0|(J+29)/30,!1),et=10>v?v:10,it=10<v?v-10:0;if((v&v-1)==0){Q>>=m.__kBitsPerCharTableShift;var ut=[],ct=[],tt=!1;do{for(var V,ot=0,mt=0;;){if(V=void 0,R-48>>>0<et)V=R-48;else if((32|R)-97>>>0<it)V=(32|R)-87;else{tt=!0;break}if(mt+=Q,ot=ot<<Q|V,++b===B){tt=!0;break}if(R=p.charCodeAt(b),30<mt+Q)break}ut.push(ot),ct.push(mt)}while(!tt);m.__fillFromParts(G,ut,ct)}else{G.__initializeDigits();var Tt=!1,st=0;do{for(var ft,dt=0,At=1;;){if(ft=void 0,R-48>>>0<et)ft=R-48;else if((32|R)-97>>>0<it)ft=(32|R)-87;else{Tt=!0;break}var Nt=At*v;if(1073741823<Nt)break;if(At=Nt,dt=dt*v+ft,st++,++b===B){Tt=!0;break}R=p.charCodeAt(b)}W=30*m.__kBitsPerCharTableMultiplier-1;var Ot=0|(Q*st+W>>>m.__kBitsPerCharTableShift)/30;G.__inplaceMultiplyAdd(At,dt,Ot)}while(!Tt)}if(b!==B){if(!m.__isWhitespace(R))return null;for(b++;b<B;b++)if(R=p.charCodeAt(b),!m.__isWhitespace(R))return null}return G.sign=D===-1,G.__trim()}},{key:"__fillFromParts",value:function(p,v,D){for(var B=0,b=0,R=0,Y=v.length-1;0<=Y;Y--){var Q=v[Y],W=D[Y];b|=Q<<R,R+=W,R===30?(p.__setDigit(B++,b),R=0,b=0):30<R&&(p.__setDigit(B++,1073741823&b),R-=30,b=Q>>>W-R)}if(b!==0){if(B>=p.length)throw new Error("implementation bug");p.__setDigit(B++,b)}for(;B<p.length;B++)p.__setDigit(B,0)}},{key:"__toStringBasePowerOfTwo",value:function(p,v){var D=p.length,B=v-1;B=(85&B>>>1)+(85&B),B=(51&B>>>2)+(51&B),B=(15&B>>>4)+(15&B);var b=B,R=v-1,Y=p.__digit(D-1),Q=m.__clz30(Y),W=0|(30*D-Q+b-1)/b;if(p.sign&&W++,268435456<W)throw new Error("string too long");for(var J=Array(W),G=W-1,et=0,it=0,ut=0;ut<D-1;ut++){var ct=p.__digit(ut),tt=(et|ct<<it)&R;J[G--]=m.__kConversionChars[tt];var V=b-it;for(et=ct>>>V,it=30-V;it>=b;)J[G--]=m.__kConversionChars[et&R],et>>>=b,it-=b}var ot=(et|Y<<it)&R;for(J[G--]=m.__kConversionChars[ot],et=Y>>>b-it;et!==0;)J[G--]=m.__kConversionChars[et&R],et>>>=b;if(p.sign&&(J[G--]="-"),G!==-1)throw new Error("implementation bug");return J.join("")}},{key:"__toStringGeneric",value:function(p,v,D){var B=p.length;if(B===0)return"";if(B===1){var b=p.__unsignedDigit(0).toString(v);return D===!1&&p.sign&&(b="-"+b),b}var R=30*B-m.__clz30(p.__digit(B-1)),Y=m.__kMaxBitsPerChar[v],Q=Y-1,W=R*m.__kBitsPerCharTableMultiplier;W+=Q-1,W=0|W/Q;var J,G,et=W+1>>1,it=m.exponentiate(m.__oneDigit(v,!1),m.__oneDigit(et,!1)),ut=it.__unsignedDigit(0);if(it.length===1&&32767>=ut){J=new m(p.length,!1),J.__initializeDigits();for(var ct,tt=0,V=2*p.length-1;0<=V;V--)ct=tt<<15|p.__halfDigit(V),J.__setHalfDigit(V,0|ct/ut),tt=0|ct%ut;G=tt.toString(v)}else{var ot=m.__absoluteDivLarge(p,it,!0,!0);J=ot.quotient;var mt=ot.remainder.__trim();G=m.__toStringGeneric(mt,v,!0)}J.__trim();for(var Tt=m.__toStringGeneric(J,v,!0);G.length<et;)G="0"+G;return D===!1&&p.sign&&(Tt="-"+Tt),Tt+G}},{key:"__unequalSign",value:function(p){return p?-1:1}},{key:"__absoluteGreater",value:function(p){return p?-1:1}},{key:"__absoluteLess",value:function(p){return p?1:-1}},{key:"__compareToBigInt",value:function(p,v){var D=p.sign;if(D!==v.sign)return m.__unequalSign(D);var B=m.__absoluteCompare(p,v);return 0<B?m.__absoluteGreater(D):0>B?m.__absoluteLess(D):0}},{key:"__compareToNumber",value:function(p,v){if(m.__isOneDigitInt(v)){var D=p.sign,B=0>v;if(D!==B)return m.__unequalSign(D);if(p.length===0){if(B)throw new Error("implementation bug");return v===0?0:-1}if(1<p.length)return m.__absoluteGreater(D);var b=z(v),R=p.__unsignedDigit(0);return R>b?m.__absoluteGreater(D):R<b?m.__absoluteLess(D):0}return m.__compareToDouble(p,v)}},{key:"__compareToDouble",value:function(p,v){if(v!==v)return v;if(v===1/0)return-1;if(v===-1/0)return 1;var D=p.sign;if(D!==0>v)return m.__unequalSign(D);if(v===0)throw new Error("implementation bug: should be handled elsewhere");if(p.length===0)return-1;m.__kBitConversionDouble[0]=v;var B=2047&m.__kBitConversionInts[1]>>>20;if(B==2047)throw new Error("implementation bug: handled elsewhere");var b=B-1023;if(0>b)return m.__absoluteGreater(D);var R=p.length,Y=p.__digit(R-1),Q=m.__clz30(Y),W=30*R-Q,J=b+1;if(W<J)return m.__absoluteLess(D);if(W>J)return m.__absoluteGreater(D);var G=1048576|1048575&m.__kBitConversionInts[1],et=m.__kBitConversionInts[0],it=20,ut=29-Q;if(ut!==(0|(W-1)%30))throw new Error("implementation bug");var ct,tt=0;if(ut<it){var V=it-ut;tt=V+32,ct=G>>>V,G=G<<32-V|et>>>V,et<<=32-V}else if(ut===it)tt=32,ct=G,G=et,et=0;else{var ot=ut-it;tt=32-ot,ct=G<<ot|et>>>32-ot,G=et<<ot,et=0}if(Y>>>=0,ct>>>=0,Y>ct)return m.__absoluteGreater(D);if(Y<ct)return m.__absoluteLess(D);for(var mt=R-2;0<=mt;mt--){0<tt?(tt-=30,ct=G>>>2,G=G<<30|et>>>2,et<<=30):ct=0;var Tt=p.__unsignedDigit(mt);if(Tt>ct)return m.__absoluteGreater(D);if(Tt<ct)return m.__absoluteLess(D)}if(G!==0||et!==0){if(tt===0)throw new Error("implementation bug");return m.__absoluteLess(D)}return 0}},{key:"__equalToNumber",value:function(p,v){return m.__isOneDigitInt(v)?v===0?p.length===0:p.length===1&&p.sign===0>v&&p.__unsignedDigit(0)===z(v):m.__compareToDouble(p,v)===0}},{key:"__comparisonResultToBool",value:function(p,v){return v===0?0>p:v===1?0>=p:v===2?0<p:v===3?0<=p:void 0}},{key:"__compare",value:function(p,v,D){if(p=m.__toPrimitive(p),v=m.__toPrimitive(v),typeof p=="string"&&typeof v=="string")switch(D){case 0:return p<v;case 1:return p<=v;case 2:return p>v;case 3:return p>=v}if(m.__isBigInt(p)&&typeof v=="string")return v=m.__fromString(v),v!==null&&m.__comparisonResultToBool(m.__compareToBigInt(p,v),D);if(typeof p=="string"&&m.__isBigInt(v))return p=m.__fromString(p),p!==null&&m.__comparisonResultToBool(m.__compareToBigInt(p,v),D);if(p=m.__toNumeric(p),v=m.__toNumeric(v),m.__isBigInt(p)){if(m.__isBigInt(v))return m.__comparisonResultToBool(m.__compareToBigInt(p,v),D);if(typeof v!="number")throw new Error("implementation bug");return m.__comparisonResultToBool(m.__compareToNumber(p,v),D)}if(typeof p!="number")throw new Error("implementation bug");if(m.__isBigInt(v))return m.__comparisonResultToBool(m.__compareToNumber(v,p),2^D);if(typeof v!="number")throw new Error("implementation bug");return D===0?p<v:D===1?p<=v:D===2?p>v:D===3?p>=v:void 0}},{key:"__absoluteAdd",value:function(p,v,D){if(p.length<v.length)return m.__absoluteAdd(v,p,D);if(p.length===0)return p;if(v.length===0)return p.sign===D?p:m.unaryMinus(p);var B=p.length;(p.__clzmsd()===0||v.length===p.length&&v.__clzmsd()===0)&&B++;for(var b,R=new m(B,D),Y=0,Q=0;Q<v.length;Q++)b=p.__digit(Q)+v.__digit(Q)+Y,Y=b>>>30,R.__setDigit(Q,1073741823&b);for(;Q<p.length;Q++){var W=p.__digit(Q)+Y;Y=W>>>30,R.__setDigit(Q,1073741823&W)}return Q<R.length&&R.__setDigit(Q,Y),R.__trim()}},{key:"__absoluteSub",value:function(p,v,D){if(p.length===0)return p;if(v.length===0)return p.sign===D?p:m.unaryMinus(p);for(var B,b=new m(p.length,D),R=0,Y=0;Y<v.length;Y++)B=p.__digit(Y)-v.__digit(Y)-R,R=1&B>>>30,b.__setDigit(Y,1073741823&B);for(;Y<p.length;Y++){var Q=p.__digit(Y)-R;R=1&Q>>>30,b.__setDigit(Y,1073741823&Q)}return b.__trim()}},{key:"__absoluteAddOne",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,B=p.length;D===null?D=new m(B,v):D.sign=v;for(var b,R=1,Y=0;Y<B;Y++)b=p.__digit(Y)+R,R=b>>>30,D.__setDigit(Y,1073741823&b);return R!==0&&D.__setDigitGrow(B,1),D}},{key:"__absoluteSubOne",value:function(p,v){var D=p.length;v=v||D;for(var B,b=new m(v,!1),R=1,Y=0;Y<D;Y++)B=p.__digit(Y)-R,R=1&B>>>30,b.__setDigit(Y,1073741823&B);if(R!==0)throw new Error("implementation bug");for(var Q=D;Q<v;Q++)b.__setDigit(Q,0);return b}},{key:"__absoluteAnd",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,B=p.length,b=v.length,R=b;if(B<b){R=B;var Y=p,Q=B;p=v,B=b,v=Y,b=Q}var W=R;D===null?D=new m(W,!1):W=D.length;for(var J=0;J<R;J++)D.__setDigit(J,p.__digit(J)&v.__digit(J));for(;J<W;J++)D.__setDigit(J,0);return D}},{key:"__absoluteAndNot",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,B=p.length,b=v.length,R=b;B<b&&(R=B);var Y=B;D===null?D=new m(Y,!1):Y=D.length;for(var Q=0;Q<R;Q++)D.__setDigit(Q,p.__digit(Q)&~v.__digit(Q));for(;Q<B;Q++)D.__setDigit(Q,p.__digit(Q));for(;Q<Y;Q++)D.__setDigit(Q,0);return D}},{key:"__absoluteOr",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,B=p.length,b=v.length,R=b;if(B<b){R=B;var Y=p,Q=B;p=v,B=b,v=Y,b=Q}var W=B;D===null?D=new m(W,!1):W=D.length;for(var J=0;J<R;J++)D.__setDigit(J,p.__digit(J)|v.__digit(J));for(;J<B;J++)D.__setDigit(J,p.__digit(J));for(;J<W;J++)D.__setDigit(J,0);return D}},{key:"__absoluteXor",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,B=p.length,b=v.length,R=b;if(B<b){R=B;var Y=p,Q=B;p=v,B=b,v=Y,b=Q}var W=B;D===null?D=new m(W,!1):W=D.length;for(var J=0;J<R;J++)D.__setDigit(J,p.__digit(J)^v.__digit(J));for(;J<B;J++)D.__setDigit(J,p.__digit(J));for(;J<W;J++)D.__setDigit(J,0);return D}},{key:"__absoluteCompare",value:function(p,v){var D=p.length-v.length;if(D!=0)return D;for(var B=p.length-1;0<=B&&p.__digit(B)===v.__digit(B);)B--;return 0>B?0:p.__unsignedDigit(B)>v.__unsignedDigit(B)?1:-1}},{key:"__multiplyAccumulate",value:function(p,v,D,B){if(v!==0){for(var b=32767&v,R=v>>>15,Y=0,Q=0,W=0;W<p.length;W++,B++){var J=D.__digit(B),G=p.__digit(W),et=32767&G,it=G>>>15,ut=m.__imul(et,b),ct=m.__imul(et,R),tt=m.__imul(it,b),V=m.__imul(it,R);J+=Q+ut+Y,Y=J>>>30,J&=1073741823,J+=((32767&ct)<<15)+((32767&tt)<<15),Y+=J>>>30,Q=V+(ct>>>15)+(tt>>>15),D.__setDigit(B,1073741823&J)}for(;Y!==0||Q!==0;B++){var ot=D.__digit(B);ot+=Y+Q,Q=0,Y=ot>>>30,D.__setDigit(B,1073741823&ot)}}}},{key:"__internalMultiplyAdd",value:function(p,v,D,B,b){for(var R=D,Y=0,Q=0;Q<B;Q++){var W=p.__digit(Q),J=m.__imul(32767&W,v),G=m.__imul(W>>>15,v),et=J+((32767&G)<<15)+Y+R;R=et>>>30,Y=G>>>15,b.__setDigit(Q,1073741823&et)}if(b.length>B)for(b.__setDigit(B++,R+Y);B<b.length;)b.__setDigit(B++,0);else if(R+Y!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;D===null&&(D=new m(p.length,!1));for(var B=0,b=2*p.length-1;0<=b;b-=2){var R=(B<<15|p.__halfDigit(b))>>>0,Y=0|R/v;B=0|R%v,R=(B<<15|p.__halfDigit(b-1))>>>0;var Q=0|R/v;B=0|R%v,D.__setDigit(b>>>1,Y<<15|Q)}return D}},{key:"__absoluteModSmall",value:function(p,v){for(var D,B=0,b=2*p.length-1;0<=b;b--)D=(B<<15|p.__halfDigit(b))>>>0,B=0|D%v;return B}},{key:"__absoluteDivLarge",value:function(p,v,D,B){var b=v.__halfDigitLength(),R=v.length,Y=p.__halfDigitLength()-b,Q=null;D&&(Q=new m(Y+2>>>1,!1),Q.__initializeDigits());var W=new m(b+2>>>1,!1);W.__initializeDigits();var J=m.__clz15(v.__halfDigit(b-1));0<J&&(v=m.__specialLeftShift(v,J,0));for(var G=m.__specialLeftShift(p,J,1),et=v.__halfDigit(b-1),it=0,ut=Y;0<=ut;ut--){var ct=32767,tt=G.__halfDigit(ut+b);if(tt!==et){var V=(tt<<15|G.__halfDigit(ut+b-1))>>>0;ct=0|V/et;for(var ot=0|V%et,mt=v.__halfDigit(b-2),Tt=G.__halfDigit(ut+b-2);m.__imul(ct,mt)>>>0>(ot<<16|Tt)>>>0&&(ct--,ot+=et,!(32767<ot)););}m.__internalMultiplyAdd(v,ct,0,R,W);var st=G.__inplaceSub(W,ut,b+1);st!==0&&(st=G.__inplaceAdd(v,ut,b),G.__setHalfDigit(ut+b,32767&G.__halfDigit(ut+b)+st),ct--),D&&(1&ut?it=ct<<15:Q.__setDigit(ut>>>1,it|ct))}if(B)return G.__inplaceRightShift(J),D?{quotient:Q,remainder:G}:G;if(D)return Q;throw new Error("unreachable")}},{key:"__clz15",value:function(p){return m.__clz30(p)-15}},{key:"__specialLeftShift",value:function(p,v,D){var B=p.length,b=new m(B+D,!1);if(v===0){for(var R=0;R<B;R++)b.__setDigit(R,p.__digit(R));return 0<D&&b.__setDigit(B,0),b}for(var Y,Q=0,W=0;W<B;W++)Y=p.__digit(W),b.__setDigit(W,1073741823&Y<<v|Q),Q=Y>>>30-v;return 0<D&&b.__setDigit(B,Q),b}},{key:"__leftShiftByAbsolute",value:function(p,v){var D=m.__toShiftAmount(v);if(0>D)throw new RangeError("BigInt too big");var B=0|D/30,b=D%30,R=p.length,Y=b!==0&&p.__digit(R-1)>>>30-b!=0,Q=R+B+(Y?1:0),W=new m(Q,p.sign);if(b===0){for(var J=0;J<B;J++)W.__setDigit(J,0);for(;J<Q;J++)W.__setDigit(J,p.__digit(J-B))}else{for(var G=0,et=0;et<B;et++)W.__setDigit(et,0);for(var it,ut=0;ut<R;ut++)it=p.__digit(ut),W.__setDigit(ut+B,1073741823&it<<b|G),G=it>>>30-b;if(Y)W.__setDigit(R+B,G);else if(G!==0)throw new Error("implementation bug")}return W.__trim()}},{key:"__rightShiftByAbsolute",value:function(p,v){var D=p.length,B=p.sign,b=m.__toShiftAmount(v);if(0>b)return m.__rightShiftByMaximum(B);var R=0|b/30,Y=b%30,Q=D-R;if(0>=Q)return m.__rightShiftByMaximum(B);var W=!1;if(B){if((p.__digit(R)&(1<<Y)-1)!=0)W=!0;else for(var J=0;J<R;J++)if(p.__digit(J)!==0){W=!0;break}}if(W&&Y===0){var G=p.__digit(D-1);~G==0&&Q++}var et=new m(Q,B);if(Y===0){et.__setDigit(Q-1,0);for(var it=R;it<D;it++)et.__setDigit(it-R,p.__digit(it))}else{for(var ut,ct=p.__digit(R)>>>Y,tt=D-R-1,V=0;V<tt;V++)ut=p.__digit(V+R+1),et.__setDigit(V,1073741823&ut<<30-Y|ct),ct=ut>>>Y;et.__setDigit(tt,ct)}return W&&(et=m.__absoluteAddOne(et,!0,et)),et.__trim()}},{key:"__rightShiftByMaximum",value:function(p){return p?m.__oneDigit(1,!0):m.__zero()}},{key:"__toShiftAmount",value:function(p){if(1<p.length)return-1;var v=p.__unsignedDigit(0);return v>m.__kMaxLengthBits?-1:v}},{key:"__toPrimitive",value:function(p){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(a(p)!=="object"||p.constructor===m)return p;if(typeof Symbol<"u"&&a(Symbol.toPrimitive)==="symbol"){var D=p[Symbol.toPrimitive];if(D){var B=D(v);if(a(B)!=="object")return B;throw new TypeError("Cannot convert object to primitive value")}}var b=p.valueOf;if(b){var R=b.call(p);if(a(R)!=="object")return R}var Y=p.toString;if(Y){var Q=Y.call(p);if(a(Q)!=="object")return Q}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(p){return m.__isBigInt(p)?p:+p}},{key:"__isBigInt",value:function(p){return a(p)==="object"&&p!==null&&p.constructor===m}},{key:"__truncateToNBits",value:function(p,v){for(var D=0|(p+29)/30,B=new m(D,v.sign),b=D-1,R=0;R<b;R++)B.__setDigit(R,v.__digit(R));var Y=v.__digit(b);if(p%30!=0){var Q=32-p%30;Y=Y<<Q>>>Q}return B.__setDigit(b,Y),B.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(p,v,D){for(var B=Math.min,b,R=0|(p+29)/30,Y=new m(R,D),Q=0,W=R-1,J=0,G=B(W,v.length);Q<G;Q++)b=0-v.__digit(Q)-J,J=1&b>>>30,Y.__setDigit(Q,1073741823&b);for(;Q<W;Q++)Y.__setDigit(Q,0|1073741823&-J);var et,it=W<v.length?v.__digit(W):0,ut=p%30;if(ut===0)et=0-it-J,et&=1073741823;else{var ct=32-ut;it=it<<ct>>>ct;var tt=1<<32-ct;et=tt-it-J,et&=tt-1}return Y.__setDigit(W,et),Y.__trim()}},{key:"__digitPow",value:function(p,v){for(var D=1;0<v;)1&v&&(D*=p),v>>>=1,p*=p;return D}},{key:"__isOneDigitInt",value:function(p){return(1073741823&p)===p}}]),m}(S(Array));return F.__kMaxLength=33554432,F.__kMaxLengthBits=F.__kMaxLength<<5,F.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],F.__kBitsPerCharTableShift=5,F.__kBitsPerCharTableMultiplier=1<<F.__kBitsPerCharTableShift,F.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],F.__kBitConversionBuffer=new ArrayBuffer(8),F.__kBitConversionDouble=new Float64Array(F.__kBitConversionBuffer),F.__kBitConversionInts=new Int32Array(F.__kBitConversionBuffer),F.__clz30=n?function(X){return n(X)-2}:function(X){var z=Math.LN2,I=Math.log;return X===0?30:0|29-(0|I(X>>>0)/z)},F.__imul=r||function(X,z){return 0|X*z},F})}(Bp)),Bp.exports}var RA;function en(){if(RA)return ea;RA=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.ckbDecimals=ea.BI=void 0,ea.formatUnit=d,ea.isBIish=r,ea.parseUnit=y,ea.toJSBI=u;var e=t(WT());function t(E){return E&&E.__esModule?E:{default:E}}function r(E){return E!==null&&(typeof E=="number"&&E%1===0||typeof E=="string"&&(!!E.match(/^0x(0|[0-9a-fA-F]+)$/)||!!E.match(/^-?[0-9]+$/))||typeof E=="bigint"||n.isBI(E))}class n{constructor(x){this.jsbi=x,this._isBI=!0}add(x){return s(e.default.add(this.jsbi,u(x)))}sub(x){return s(e.default.subtract(this.jsbi,u(x)))}div(x){return s(e.default.divide(this.jsbi,u(x)))}mul(x){return s(e.default.multiply(this.jsbi,u(x)))}mod(x){return s(e.default.remainder(this.jsbi,u(x)))}abs(){return e.default.greaterThanOrEqual(this.jsbi,u(0))?s(this.jsbi):s(e.default.unaryMinus(this.jsbi))}pow(x){return s(e.default.exponentiate(this.jsbi,u(x)))}and(x){return s(e.default.bitwiseAnd(this.jsbi,u(x)))}or(x){return s(e.default.bitwiseOr(this.jsbi,u(x)))}xor(x){return s(e.default.bitwiseXor(this.jsbi,u(x)))}not(){return s(e.default.bitwiseNot(this.jsbi))}mask(x){const L=u(x);if(e.default.lessThan(L,u(0))||e.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const U=u(this.jsbi.toString(2).length);if(e.default.lessThanOrEqual(U,L))return s(this.jsbi);{const O=e.default.leftShift(e.default.signedRightShift(this.jsbi,L),L);return s(e.default.bitwiseXor(this.jsbi,O))}}shl(x){return s(e.default.leftShift(this.jsbi,u(x)))}shr(x){return s(e.default.signedRightShift(this.jsbi,u(x)))}eq(x){return e.default.equal(this.jsbi,u(x))}lt(x){return e.default.lessThan(this.jsbi,u(x))}lte(x){return e.default.lessThanOrEqual(this.jsbi,u(x))}gt(x){return e.default.greaterThan(this.jsbi,u(x))}gte(x){return e.default.greaterThanOrEqual(this.jsbi,u(x))}isNegative(){return e.default.lessThan(this.jsbi,u(0))}isZero(){return e.default.equal(this.jsbi,u(0))}toNumber(){return e.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch{throw new Error("this platform does not support BigInt")}}toString(x){return x=x||10,this.jsbi.toString(x)}toHexString(){return e.default.lessThan(this.jsbi,u(0))?"-0x"+e.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(x){if(x instanceof n)return x;if(r(x))return s(u(x));if(x instanceof e.default)return s(u(x.toString()));throw new Error(`invalid type: ${x} can't be converted into BI`)}static isBI(x){return a(x)&&!!x._isBI}}ea.BI=n;function a(E){return E==null?!1:typeof E=="object"}function s(E){return new n(E)}function u(E){return typeof E=="number"||typeof E=="string"?e.default.BigInt(E):e.default.BigInt(E.toString())}const c=["shannon","ckb"],f=ea.ckbDecimals=8,h=n.from(-1);function d(E,x){const L=S(x);return _(E,L)}function y(E,x){const L=S(x);return w(E,L)}function _(E,x){if(!A(x))throw new Error("decimal size must be a non-negative integer");const L="1"+Array(x).fill("0").join("");E=n.from(E);const U=E.isNegative();U&&(E=E.mul(h));let H=E.div(L).toString();if(L.length>1){let P=E.mod(L).toString();for(;P.length<L.length-1;)P="0"+P;P=P.match(/^([0-9]*[1-9]|0)(0*)/)[1],H+="."+P}return U&&(H="-"+H),H}function w(E,x){if(!A(x))throw new Error("decimal size must be a non-negative integer");if(!E.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const L="1"+Array(x).fill("0").join(""),U=E.substring(0,1)==="-";U&&(E=E.substring(1));let O,H;const P=E.split(".");if(P.length===1)O=P[0],H="0";else if(P.length===2)O=P[0],H=P[1];else throw new Error("too many decimal points (should not happen)");for(;O.length>0&&O[0]==="0";)O=O.substring(1);for(O===""&&(O="0");H.length>0&&H[H.length-1]==="0";)H=H.substring(0,H.length-1);if(H.length>L.length-1)throw new Error("decimal part exceeds max decimals");for(H===""&&(H="0");H.length<L.length-1;)H+="0";const q=n.from(O),j=n.from(H);let F=q.mul(L).add(j);return U&&(F=F.mul(h)),F}function S(E){let x=0;if(typeof E=="string"){if(c.indexOf(E)===-1)throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);E==="ckb"&&(x=f)}else if(A(E))x=E;else throw new Error("unit of integer must be a non-negative integer");return x}function A(E){return Number.isInteger(E)&&E>=0}return ea}var HA;function Lx(){return HA||(HA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BI",{enumerable:!0,get:function(){return t.BI}}),Object.defineProperty(e,"BIish",{enumerable:!0,get:function(){return t.BIish}}),e.Uint8=e.Uint64LE=e.Uint64BE=e.Uint64=e.Uint512LE=e.Uint512BE=e.Uint512=e.Uint32LE=e.Uint32BE=e.Uint32=e.Uint256LE=e.Uint256BE=e.Uint256=e.Uint16LE=e.Uint16BE=e.Uint16=e.Uint128LE=e.Uint128BE=e.Uint128=void 0;var t=en(),r=yd(),n=a1();function a(w,S,A,E){if(w=t.BI.from(w),w.lt(S)||w.gt(A))throw new n.CodecBaseParseError(`Value must be between ${S.toString()} and ${A.toString()}, but got ${w.toString()}`,E)}function s(w,S=!1){const A=u(w,S);return{__isFixedCodec__:!0,byteLength:w,pack:E=>A.pack(E),unpack:E=>A.unpack(E).toNumber()}}const u=(w,S=!1)=>{const A=t.BI.from(1).shl(w*8).sub(1);return(0,r.createFixedBytesCodec)({byteLength:w,pack(E){let x=S?"LE":"BE";w<=1&&(x="");const L=`Uint${w*8}${x}`;if(typeof E=="number"&&!Number.isSafeInteger(E))throw new n.CodecBaseParseError(`${E} is not a safe integer`,L);let U=t.BI.from(E);a(U,0,A,L);const O=new DataView(new ArrayBuffer(w));for(let H=0;H<w;H++)S?O.setUint8(H,U.and(255).toNumber()):O.setUint8(w-H-1,U.and(255).toNumber()),U=U.shr(8);return new Uint8Array(O.buffer)},unpack:E=>{const x=new DataView(Uint8Array.from(E).buffer);let L=t.BI.from(0);for(let U=0;U<w;U++)S?L=L.or(t.BI.from(x.getUint8(U)).shl(U*8)):L=L.shl(8).or(x.getUint8(U));return L}})};e.Uint8=s(1);const c=e.Uint16LE=s(2,!0);e.Uint16BE=s(2),e.Uint16=c;const f=e.Uint32LE=s(4,!0);e.Uint32BE=s(4),e.Uint32=f;const h=e.Uint64LE=u(8,!0);e.Uint64BE=u(8),e.Uint64=h;const d=e.Uint128LE=u(16,!0);e.Uint128BE=u(16),e.Uint128=d;const y=e.Uint256LE=u(32,!0);e.Uint256BE=u(32),e.Uint256=y;const _=e.Uint512LE=u(64,!0);e.Uint512BE=u(64),e.Uint512=_}(Jy)),Jy}var LA;function bd(){return LA||(LA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Lx();Object.keys(t).forEach(function(r){r==="default"||r==="__esModule"||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})}(Zy)),Zy}var tb={},Xc={},NA;function ZT(){if(NA)return Xc;NA=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.byteArrayOf=a,Xc.byteOf=s,Xc.byteVecOf=u;var e=s1(),t=ac(),r=yd(),n=bd();function a(c){const f=c.byteLength;return(0,r.createFixedBytesCodec)({byteLength:f,pack:h=>c.pack(h),unpack:h=>c.unpack(h)})}function s(c){return a({...c,byteLength:1})}function u(c){return(0,r.createBytesCodec)({pack(f){const h=c.pack(f),d=n.Uint32LE.pack(h.byteLength);return(0,t.concat)(d,h)},unpack(f){(0,e.assertMinBufferLength)(f,4);const h=n.Uint32LE.unpack(f.slice(0,4));return(0,e.assertBufferLength)(f.slice(4),h),c.unpack(f.slice(4))}})}return Xc}var ra={},UA;function JT(){if(UA)return ra;UA=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.array=s,ra.dynvec=d,ra.fixvec=h,ra.option=S,ra.struct=f,ra.table=_,ra.union=w,ra.vector=y;var e=yd(),t=bd(),r=ac(),n=a1(),a=Hx();function s(A,E){const x=(0,a.createArrayCodec)(A);return(0,e.createFixedBytesCodec)({byteLength:A.byteLength*E,pack(L){const U=x.pack(L);return(0,r.concat)(...U)},unpack(L){const U=[],O=A.byteLength;for(let H=0;H<L.byteLength;H+=O)U.push(A.unpack(L.slice(H,H+O)));return U}})}function u(A,E){return A.filter(x=>!E.includes(x))}function c(A,E){const x=Object.keys(A),L=u(x,E),U=u(E,x);if(L.length>0||U.length>0)throw new Error(`Invalid shape: missing fields ${L.join(", ")} or shape ${U.join(", ")}`)}function f(A,E){c(A,E);const x=(0,a.createObjectCodec)(A);return(0,e.createFixedBytesCodec)({byteLength:E.reduce((L,U)=>L+A[U].byteLength,0),pack(L){const U=x.pack(L);return E.reduce((O,H)=>(0,r.concat)(O,U[H]),Uint8Array.from([]))},unpack(L){const U={};let O=0;return E.forEach(H=>{const P=A[H],q=L.slice(O,O+P.byteLength);Object.assign(U,{[H]:P.unpack(q)}),O=O+P.byteLength}),U}})}function h(A){return(0,e.createBytesCodec)({pack(E){const x=(0,a.createArrayCodec)(A);return(0,r.concat)(t.Uint32LE.pack(E.length),x.pack(E).reduce((L,U)=>(0,r.concat)(L,U),new ArrayBuffer(0)))},unpack(E){if(E.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${E.byteLength}`);const x=t.Uint32LE.unpack(E.slice(0,4));return s(A,x).unpack(E.slice(4))}})}function d(A){return(0,e.createBytesCodec)({pack(E){const L=(0,a.createArrayCodec)(A).pack(E).reduce((O,H)=>{const P=t.Uint32LE.pack(O.offset);return{header:(0,r.concat)(O.header,P),body:(0,r.concat)(O.body,H),offset:O.offset+H.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+E.length*4}),U=t.Uint32LE.pack(L.header.byteLength+L.body.byteLength+4);return(0,r.concat)(U,L.header,L.body)},unpack(E){const x=t.Uint32LE.unpack(E.slice(0,4));if(x!==E.byteLength)throw new Error(`Invalid buffer size, read from header: ${x}, actual: ${E.byteLength}`);const L=[];if(x<=4)return L;{const O=(t.Uint32LE.unpack(E.slice(4,8))-4)/4,H=new Array(O).fill(1).map((q,j)=>t.Uint32LE.unpack(E.slice(4+j*4,8+j*4)));H.push(x);const P=[];for(let q=0;q<H.length-1;q++){const j=H[q],F=H[q+1],X=E.slice(j,F);P.push(A.unpack(X))}return P}}})}function y(A){return(0,e.isFixedCodec)(A)?h(A):d(A)}function _(A,E){return c(A,E),(0,e.createBytesCodec)({pack(x){const L=4+E.length*4,O=(0,a.createObjectCodec)(A).pack(x),H=E.reduce((q,j)=>{const F=O[j],X=t.Uint32LE.pack(q.offset);return{header:(0,r.concat)(q.header,X),body:(0,r.concat)(q.body,F),offset:q.offset+F.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:L}),P=t.Uint32LE.pack(H.header.byteLength+H.body.byteLength+4);return(0,r.concat)(P,H.header,H.body)},unpack(x){const L=t.Uint32LE.unpack(x.slice(0,4));if(L!==x.byteLength)throw new Error(`Invalid buffer size, read from header: ${L}, actual: ${x.byteLength}`);if(L<=4||E.length===0)return{};{const U=E.map((H,P)=>t.Uint32LE.unpack(x.slice(4+P*4,8+P*4)));U.push(L);const O={};for(let H=0;H<U.length-1;H++){const P=U[H],q=U[H+1],j=E[H],F=A[j],X=x.slice(P,q);Object.assign(O,{[j]:F.unpack(X)})}return O}}})}function w(A,E){if(c(A,Array.isArray(E)?E:Object.keys(E)),!Array.isArray(E)){const x=Object.values(E);if(x.length!==new Set(x).size)throw new Error(`Duplicated id in union: ${x.join(", ")}`)}return(0,e.createBytesCodec)({pack(x){const L=Object.keys(A),U=x.type,O=`Union(${L.join(" | ")})`;if(typeof U!="string")throw new n.CodecBaseParseError("Invalid type in union, type must be a string",O);const H=Array.isArray(E)?E.indexOf(U):E[U];if(H<0)throw new n.CodecBaseParseError(`Unknown union type: ${String(x.type)}`,O);const P=t.Uint32LE.pack(H),q=A[U].pack(x.value);return(0,r.concat)(P,q)},unpack(x){const L=t.Uint32LE.unpack(x.slice(0,4)),U=(()=>{if(Array.isArray(E))return E[L];const O=Object.entries(E).find(([,H])=>H===L);return O==null?void 0:O[0]})();if(!U)throw new Error(`Unknown union field id: ${L}, only ${E} are allowed`);return{type:U,value:A[U].unpack(x.slice(4))}}})}function S(A){return(0,e.createBytesCodec)({pack(E){const x=(0,a.createNullableCodec)(A);return E!=null?x.pack(E):Uint8Array.from([])},unpack(E){if(E.byteLength!==0)return A.unpack(E)}})}return ra}var PA;function o1(){return PA||(PA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return r.array}}),Object.defineProperty(e,"byteArrayOf",{enumerable:!0,get:function(){return t.byteArrayOf}}),Object.defineProperty(e,"byteOf",{enumerable:!0,get:function(){return t.byteOf}}),Object.defineProperty(e,"byteVecOf",{enumerable:!0,get:function(){return t.byteVecOf}}),Object.defineProperty(e,"option",{enumerable:!0,get:function(){return r.option}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return r.struct}}),Object.defineProperty(e,"table",{enumerable:!0,get:function(){return r.table}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return r.union}}),Object.defineProperty(e,"vector",{enumerable:!0,get:function(){return r.vector}});var t=ZT(),r=JT()}(tb)),tb}var kA;function wr(){return kA||(kA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};e.bytes=void 0,Object.defineProperty(e,"createBytesCodec",{enumerable:!0,get:function(){return r.createBytesCodec}}),Object.defineProperty(e,"createFixedBytesCodec",{enumerable:!0,get:function(){return r.createFixedBytesCodec}}),Object.defineProperty(e,"isFixedCodec",{enumerable:!0,get:function(){return r.isFixedCodec}}),e.number=e.molecule=void 0;var r=yd(),n=Hx();Object.keys(n).forEach(function(h){h==="default"||h==="__esModule"||Object.prototype.hasOwnProperty.call(t,h)||h in e&&e[h]===n[h]||Object.defineProperty(e,h,{enumerable:!0,get:function(){return n[h]}})});var a=f(ac());e.bytes=a;var s=f(bd());e.number=s;var u=f(o1());e.molecule=u;function c(h){if(typeof WeakMap!="function")return null;var d=new WeakMap,y=new WeakMap;return(c=function(_){return _?y:d})(h)}function f(h,d){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var y=c(d);if(y&&y.has(h))return y.get(h);var _={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in h)if(S!=="default"&&{}.hasOwnProperty.call(h,S)){var A=w?Object.getOwnPropertyDescriptor(h,S):null;A&&(A.get||A.set)?Object.defineProperty(_,S,A):_[S]=h[S]}return _.default=h,y&&y.set(h,_),_}}(Xy)),Xy}var eb={},na={},rb={},rp={},nb={},qA;function tB(){return qA||(qA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a){const s=[],u=new Array(4),c=[0,192,224,240],f=[127,63,63,63],h=[0,128,128,128];for(const d of a){const y=u,_=d.codePointAt(0),w=0-(-(_&4294967168)>>31)-(-(_&4294965248)>>31)-(-(_&4294901760)>>31),S=f[w],A=h[w];y[3]=A|_&S,y[2]=A|_>>>6&S,y[1]=A|_>>>12&S,y[0]=A|_>>>18&S;const E=3-w;y[E]|=c[w],Array.prototype.push.apply(s,y.slice(E))}return new Uint8Array(s)}e.toUtf8_1=t;function r(a){const s=[];for(const u of a){const c=u.codePointAt(0);c<128?s.push(c):c<2048?s.push(192|c>>6&31,128|c&63):c<65536?s.push(224|c>>12&15,128|c>>6&63,128|c&63):s.push(240|c>>18&7,128|c>>12&63,128|c>>6&63,128|c&63)}return new Uint8Array(s)}e.toUtf8_2=r;function n(a){const s=[];for(let u=0,c=a.length;u<c;++u){const f=a.charCodeAt(u);if(f<128)s.push(f);else if(f<2048)s.push(192|f>>6,128|f&63);else if(f<55296||f>=57344)s.push(224|f>>12,128|f>>6&63,128|f&63);else{let h=65536+((f&1023)<<10|a.charCodeAt(++u)&1023);s.push(240|h>>18&7,128|h>>12&63,128|h>>6&63,128|h&63)}}return new Uint8Array(s)}e.toUtf8_3=n,e.toUtf8=n,e.default=e.toUtf8}(nb)),nb}var zA;function eB(){if(zA)return rp;zA=1,Object.defineProperty(rp,"__esModule",{value:!0});const e=tB(),t=2654435761,r=2246822519,n=3266489917,a=668265263,s=374761393;function u(c,f=0){c=typeof c=="string"?e.default(c):c;const h=c;let d=f+s&4294967295,y=0;if(h.length>=16){const w=[f+t+r&4294967295,f+r&4294967295,f+0&4294967295,f-t&4294967295],S=c,A=S.length-16;let E=0;for(y=0;(y&4294967280)<=A;y+=4){const x=y,L=S[x+0]+(S[x+1]<<8),U=S[x+2]+(S[x+3]<<8),O=L*r+(U*r<<16);let H=w[E]+O&4294967295;H=H<<13|H>>>19;const P=H&65535,q=H>>>16;w[E]=P*t+(q*t<<16)&4294967295,E=E+1&3}d=(w[0]<<1|w[0]>>>31)+(w[1]<<7|w[1]>>>25)+(w[2]<<12|w[2]>>>20)+(w[3]<<18|w[3]>>>14)&4294967295}d=d+c.length&4294967295;let _=c.length-4;for(;y<=_;y+=4){const w=y,S=h[w+0]+(h[w+1]<<8),A=h[w+2]+(h[w+3]<<8),E=S*n+(A*n<<16);d=d+E&4294967295,d=d<<17|d>>>15,d=(d&65535)*a+((d>>>16)*a<<16)&4294967295}for(;y<h.length;++y){const w=h[y];d=d+w*s,d=d<<11|d>>>21,d=(d&65535)*t+((d>>>16)*t<<16)&4294967295}return d=d^d>>>15,d=((d&65535)*r&4294967295)+((d>>>16)*r<<16),d=d^d>>>13,d=((d&65535)*n&4294967295)+((d>>>16)*n<<16),d=d^d>>>16,d<0?d+4294967296:d}return rp.xxHash32=u,rp}var jA;function Nx(){return jA||(jA=1,function(e){function t(r){for(var n in r)e.hasOwnProperty(n)||(e[n]=r[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(eB())}(rb)),rb}var cr={},un={exports:{}},ib,FA;function Ux(){if(FA)return ib;FA=1,ib=t;class e extends Error{}e.prototype.name="AssertionError";function t(r,n){if(!r){var a=new e(n);throw Error.captureStackTrace&&Error.captureStackTrace(a,t),a}}return ib}var ia={exports:{}},np={exports:{}},ab,KA;function rB(){if(KA)return ab;KA=1;function e(n){return n.length}function t(n){const a=n.byteLength;let s="";for(let u=0;u<a;u++)s+=String.fromCharCode(n[u]);return s}function r(n,a,s=0,u=e(a)){const c=Math.min(u,n.byteLength-s);for(let f=0;f<c;f++)n[s+f]=a.charCodeAt(f);return c}return ab={byteLength:e,toString:t,write:r},ab}var sb,QA;function nB(){if(QA)return sb;QA=1;const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256);for(let s=0;s<e.length;s++)t[e.charCodeAt(s)]=s;t[45]=62,t[95]=63;function r(s){let u=s.length;return s.charCodeAt(u-1)===61&&u--,u>1&&s.charCodeAt(u-1)===61&&u--,u*3>>>2}function n(s){const u=s.byteLength;let c="";for(let f=0;f<u;f+=3)c+=e[s[f]>>2]+e[(s[f]&3)<<4|s[f+1]>>4]+e[(s[f+1]&15)<<2|s[f+2]>>6]+e[s[f+2]&63];return u%3===2?c=c.substring(0,c.length-1)+"=":u%3===1&&(c=c.substring(0,c.length-2)+"=="),c}function a(s,u,c=0,f=r(u)){const h=Math.min(f,s.byteLength-c);for(let d=0,y=0;y<h;d+=4){const _=t[u.charCodeAt(d)],w=t[u.charCodeAt(d+1)],S=t[u.charCodeAt(d+2)],A=t[u.charCodeAt(d+3)];s[y++]=_<<2|w>>4,s[y++]=(w&15)<<4|S>>2,s[y++]=(S&3)<<6|A&63}return h}return sb={byteLength:r,toString:n,write:a},sb}var ob,YA;function iB(){if(YA)return ob;YA=1;function e(a){return a.length>>>1}function t(a){const s=a.byteLength;a=new DataView(a.buffer,a.byteOffset,s);let u="",c=0;for(let f=s-s%4;c<f;c+=4)u+=a.getUint32(c).toString(16).padStart(8,"0");for(;c<s;c++)u+=a.getUint8(c).toString(16).padStart(2,"0");return u}function r(a,s,u=0,c=e(s)){const f=Math.min(c,a.byteLength-u);for(let h=0;h<f;h++){const d=n(s.charCodeAt(h*2)),y=n(s.charCodeAt(h*2+1));if(d===void 0||y===void 0)return a.subarray(0,h);a[u+h]=d<<4|y}return f}ob={byteLength:e,toString:t,write:r};function n(a){if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-65+10;if(a>=97&&a<=102)return a-97+10}return ob}var ub,VA;function aB(){if(VA)return ub;VA=1;function e(n){let a=0;for(let s=0,u=n.length;s<u;s++){const c=n.charCodeAt(s);if(c>=55296&&c<=56319&&s+1<u){const f=n.charCodeAt(s+1);if(f>=56320&&f<=57343){a+=4,s++;continue}}c<=127?a+=1:c<=2047?a+=2:a+=3}return a}let t;if(typeof TextDecoder<"u"){const n=new TextDecoder;t=function(s){return n.decode(s)}}else t=function(a){const s=a.byteLength;let u="",c=0;for(;c<s;){let f=a[c];if(f<=127){u+=String.fromCharCode(f),c++;continue}let h=0,d=0;if(f<=223?(h=1,d=f&31):f<=239?(h=2,d=f&15):f<=244&&(h=3,d=f&7),s-c-h>0){let y=0;for(;y<h;)f=a[c+y+1],d=d<<6|f&63,y+=1}else d=65533,h=s-c;u+=String.fromCodePoint(d),c+=h+1}return u};let r;if(typeof TextEncoder<"u"){const n=new TextEncoder;r=function(s,u,c=0,f=e(u)){const h=Math.min(f,s.byteLength-c);return n.encodeInto(u,s.subarray(c,c+h)),h}}else r=function(a,s,u=0,c=e(s)){const f=Math.min(c,a.byteLength-u);a=a.subarray(u,u+f);let h=0,d=0;for(;h<s.length;){const y=s.codePointAt(h);if(y<=127){a[d++]=y,h++;continue}let _=0,w=0;for(y<=2047?(_=6,w=192):y<=65535?(_=12,w=224):y<=2097151&&(_=18,w=240),a[d++]=w|y>>_,_-=6;_>=0;)a[d++]=128|y>>_&63,_-=6;h+=y>=65536?2:1}return f};return ub={byteLength:e,toString:t,write:r},ub}var cb,$A;function sB(){if($A)return cb;$A=1;function e(n){return n.length*2}function t(n){const a=n.byteLength;let s="";for(let u=0;u<a-1;u+=2)s+=String.fromCharCode(n[u]+n[u+1]*256);return s}function r(n,a,s=0,u=e(a)){const c=Math.min(u,n.byteLength-s);let f=c;for(let h=0;h<a.length&&!((f-=2)<0);++h){const d=a.charCodeAt(h),y=d>>8,_=d%256;n[s+h*2]=_,n[s+h*2+1]=y}return c}return cb={byteLength:e,toString:t,write:r},cb}var GA;function oB(){return GA||(GA=1,function(e,t){const r=rB(),n=nB(),a=iB(),s=aB(),u=sB(),c=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function f(st){switch(st){case"ascii":return r;case"base64":return n;case"hex":return a;case"utf8":case"utf-8":case void 0:case null:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u;default:throw new Error(`Unknown encoding: ${st}`)}}function h(st){return st instanceof Uint8Array}function d(st){try{return f(st),!0}catch{return!1}}function y(st,ft,dt){const At=new Uint8Array(st);return ft!==void 0&&t.fill(At,ft,0,At.byteLength,dt),At}function _(st){return new Uint8Array(st)}function w(st){return new Uint8Array(st)}function S(st,ft){return f(ft).byteLength(st)}function A(st,ft){if(st===ft)return 0;const dt=Math.min(st.byteLength,ft.byteLength);st=new DataView(st.buffer,st.byteOffset,st.byteLength),ft=new DataView(ft.buffer,ft.byteOffset,ft.byteLength);let At=0;for(let Nt=dt-dt%4;At<Nt;At+=4){const Ot=st.getUint32(At,c),Pt=ft.getUint32(At,c);if(Ot!==Pt)break}for(;At<dt;At++){const Nt=st.getUint8(At),Ot=ft.getUint8(At);if(Nt<Ot)return-1;if(Nt>Ot)return 1}return st.byteLength>ft.byteLength?1:st.byteLength<ft.byteLength?-1:0}function E(st,ft){ft===void 0&&(ft=st.reduce((Nt,Ot)=>Nt+Ot.byteLength,0));const dt=new Uint8Array(ft);let At=0;for(const Nt of st){if(At+Nt.byteLength>dt.byteLength){const Ot=Nt.subarray(0,dt.byteLength-At);return dt.set(Ot,At),dt}dt.set(Nt,At),At+=Nt.byteLength}return dt}function x(st,ft,dt=0,At=0,Nt=st.byteLength){if(Nt>0&&Nt<At||Nt===At||st.byteLength===0||ft.byteLength===0)return 0;if(dt<0)throw new RangeError("targetStart is out of range");if(At<0||At>=st.byteLength)throw new RangeError("sourceStart is out of range");if(Nt<0)throw new RangeError("sourceEnd is out of range");dt>=ft.byteLength&&(dt=ft.byteLength),Nt>st.byteLength&&(Nt=st.byteLength),ft.byteLength-dt<Nt-At&&(Nt=ft.length-dt+At);const Ot=Nt-At;return st===ft?ft.copyWithin(dt,At,Nt):ft.set(st.subarray(At,Nt),dt),Ot}function L(st,ft){if(st===ft)return!0;if(st.byteLength!==ft.byteLength)return!1;const dt=st.byteLength;st=new DataView(st.buffer,st.byteOffset,st.byteLength),ft=new DataView(ft.buffer,ft.byteOffset,ft.byteLength);let At=0;for(let Nt=dt-dt%4;At<Nt;At+=4)if(st.getUint32(At,c)!==ft.getUint32(At,c))return!1;for(;At<dt;At++)if(st.getUint8(At)!==ft.getUint8(At))return!1;return!0}function U(st,ft,dt,At,Nt){if(typeof ft=="string"?typeof dt=="string"?(Nt=dt,dt=0,At=st.byteLength):typeof At=="string"&&(Nt=At,At=st.byteLength):typeof ft=="number"?ft=ft&255:typeof ft=="boolean"&&(ft=+ft),dt<0||st.byteLength<dt||st.byteLength<At)throw new RangeError("Out of range index");if(dt===void 0&&(dt=0),At===void 0&&(At=st.byteLength),At<=dt)return st;if(ft||(ft=0),typeof ft=="number")for(let Ot=dt;Ot<At;++Ot)st[Ot]=ft;else{ft=h(ft)?ft:O(ft,Nt);const Ot=ft.byteLength;for(let Pt=0;Pt<At-dt;++Pt)st[Pt+dt]=ft[Pt%Ot]}return st}function O(st,ft,dt){return typeof st=="string"?H(st,ft):Array.isArray(st)?P(st):ArrayBuffer.isView(st)?q(st):j(st,ft,dt)}function H(st,ft){const dt=f(ft),At=new Uint8Array(dt.byteLength(st));return dt.write(At,st,0,At.byteLength),At}function P(st){const ft=new Uint8Array(st.length);return ft.set(st),ft}function q(st){const ft=new Uint8Array(st.byteLength);return ft.set(st),ft}function j(st,ft,dt){return new Uint8Array(st,ft,dt)}function F(st,ft,dt,At){return z(st,ft,dt,At)!==-1}function X(st,ft,dt,At,Nt){if(st.byteLength===0)return-1;if(typeof dt=="string"?(At=dt,dt=0):dt===void 0?dt=Nt?0:st.length-1:dt<0&&(dt+=st.byteLength),dt>=st.byteLength){if(Nt)return-1;dt=st.byteLength-1}else if(dt<0)if(Nt)dt=0;else return-1;if(typeof ft=="string")ft=O(ft,At);else if(typeof ft=="number")return ft=ft&255,Nt?st.indexOf(ft,dt):st.lastIndexOf(ft,dt);if(ft.byteLength===0)return-1;if(Nt){let Ot=-1;for(let Pt=dt;Pt<st.byteLength;Pt++)if(st[Pt]===ft[Ot===-1?0:Pt-Ot]){if(Ot===-1&&(Ot=Pt),Pt-Ot+1===ft.byteLength)return Ot}else Ot!==-1&&(Pt-=Pt-Ot),Ot=-1}else{dt+ft.byteLength>st.byteLength&&(dt=st.byteLength-ft.byteLength);for(let Ot=dt;Ot>=0;Ot--){let Pt=!0;for(let pe=0;pe<ft.byteLength;pe++)if(st[Ot+pe]!==ft[pe]){Pt=!1;break}if(Pt)return Ot}}return-1}function z(st,ft,dt,At){return X(st,ft,dt,At,!0)}function I(st,ft,dt,At){return X(st,ft,dt,At,!1)}function M(st,ft,dt){const At=st[ft];st[ft]=st[dt],st[dt]=At}function m(st){const ft=st.byteLength;if(ft%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let dt=0;dt<ft;dt+=2)M(st,dt,dt+1);return st}function C(st){const ft=st.byteLength;if(ft%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let dt=0;dt<ft;dt+=4)M(st,dt,dt+3),M(st,dt+1,dt+2);return st}function p(st){const ft=st.byteLength;if(ft%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let dt=0;dt<ft;dt+=8)M(st,dt,dt+7),M(st,dt+1,dt+6),M(st,dt+2,dt+5),M(st,dt+3,dt+4);return st}function v(st){return st}function D(st,ft,dt=0,At=st.byteLength){const Nt=st.byteLength;return dt>=Nt||At<=dt?"":(dt<0&&(dt=0),At>Nt&&(At=Nt),(dt!==0||At<Nt)&&(st=st.subarray(dt,At)),f(ft).toString(st))}function B(st,ft,dt,At,Nt){return dt===void 0?Nt="utf8":At===void 0&&typeof dt=="string"?(Nt=dt,dt=void 0):Nt===void 0&&typeof At=="string"&&(Nt=At,At=void 0),f(Nt).write(st,ft,dt,At)}function b(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setFloat64(dt,ft,!0),dt+8}function R(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setFloat32(dt,ft,!0),dt+4}function Y(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setUint32(dt,ft,!0),dt+4}function Q(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setInt32(dt,ft,!0),dt+4}function W(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getFloat64(ft,!0)}function J(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getFloat32(ft,!0)}function G(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getUint32(ft,!0)}function et(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getInt32(ft,!0)}function it(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setFloat64(dt,ft,!1),dt+8}function ut(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setFloat32(dt,ft,!1),dt+4}function ct(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setUint32(dt,ft,!1),dt+4}function tt(st,ft,dt){return dt===void 0&&(dt=0),new DataView(st.buffer,st.byteOffset,st.byteLength).setInt32(dt,ft,!1),dt+4}function V(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getFloat64(ft,!1)}function ot(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getFloat32(ft,!1)}function mt(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getUint32(ft,!1)}function Tt(st,ft){return ft===void 0&&(ft=0),new DataView(st.buffer,st.byteOffset,st.byteLength).getInt32(ft,!1)}e.exports=t={isBuffer:h,isEncoding:d,alloc:y,allocUnsafe:_,allocUnsafeSlow:w,byteLength:S,compare:A,concat:E,copy:x,equals:L,fill:U,from:O,includes:F,indexOf:z,lastIndexOf:I,swap16:m,swap32:C,swap64:p,toBuffer:v,toString:D,write:B,writeDoubleLE:b,writeFloatLE:R,writeUInt32LE:Y,writeInt32LE:Q,readDoubleLE:W,readFloatLE:J,readUInt32LE:G,readInt32LE:et,writeDoubleBE:it,writeFloatBE:ut,writeUInt32BE:ct,writeInt32BE:tt,readDoubleBE:V,readFloatBE:ot,readUInt32BE:mt,readInt32BE:Tt}}(np,np.exports)),np.exports}var fb,XA;function uB(){if(XA)return fb;XA=1;var e=(s,u)=>function(){return u||(0,s[Object.keys(s)[0]])((u={exports:{}}).exports,u),u.exports},t=(()=>{for(var s=new Uint8Array(128),u=0;u<64;u++)s[u<26?u+65:u<52?u+71:u<62?u-4:u*4-205]=u;return c=>{for(var f=c.length,h=new Uint8Array((f-(c[f-1]=="=")-(c[f-2]=="="))*3/4|0),d=0,y=0;d<f;){var _=s[c.charCodeAt(d++)],w=s[c.charCodeAt(d++)],S=s[c.charCodeAt(d++)],A=s[c.charCodeAt(d++)];h[y++]=_<<2|w>>4,h[y++]=w<<4|S>>2,h[y++]=S<<6|A}return h}})(),r=e({"wasm-binary:./blake2b.wat"(s,u){u.exports=t("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),n=r(),a=WebAssembly.compile(n);return fb=async s=>(await WebAssembly.instantiate(await a,s)).exports,fb}var WA;function cB(){if(WA)return ia.exports;WA=1;var e=Ux(),t=oB(),r=null,n=typeof WebAssembly<"u"&&uB()().then(S=>{r=S}),a=64,s=[];ia.exports=_;var u=ia.exports.BYTES_MIN=16,c=ia.exports.BYTES_MAX=64;ia.exports.BYTES=32;var f=ia.exports.KEYBYTES_MIN=16,h=ia.exports.KEYBYTES_MAX=64;ia.exports.KEYBYTES=32;var d=ia.exports.SALTBYTES=16,y=ia.exports.PERSONALBYTES=16;function _(S,A,E,x,L){if(!(this instanceof _))return new _(S,A,E,x,L);if(!r)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");S||(S=32),L!==!0&&(e(S>=u,"digestLength must be at least "+u+", was given "+S),e(S<=c,"digestLength must be at most "+c+", was given "+S),A!=null&&(e(A instanceof Uint8Array,"key must be Uint8Array or Buffer"),e(A.length>=f,"key must be at least "+f+", was given "+A.length),e(A.length<=h,"key must be at least "+h+", was given "+A.length)),E!=null&&(e(E instanceof Uint8Array,"salt must be Uint8Array or Buffer"),e(E.length===d,"salt must be exactly "+d+", was given "+E.length)),x!=null&&(e(x instanceof Uint8Array,"personal must be Uint8Array or Buffer"),e(x.length===y,"personal must be exactly "+y+", was given "+x.length))),s.length||(s.push(a),a+=216),this.digestLength=S,this.finalized=!1,this.pointer=s.pop(),this._memory=new Uint8Array(r.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=A?A.length:0,this._memory[2]=1,this._memory[3]=1,E&&this._memory.set(E,32),x&&this._memory.set(x,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),r.blake2b_init(this.pointer,this.digestLength),A&&(this.update(A),this._memory.fill(0,a,a+A.length),this._memory[this.pointer+200]=128)}_.prototype._realloc=function(S){r.memory.grow(Math.max(0,Math.ceil(Math.abs(S-this._memory.length)/65536))),this._memory=new Uint8Array(r.memory.buffer)},_.prototype.update=function(S){return e(this.finalized===!1,"Hash instance finalized"),e(S instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+S.length>this._memory.length&&this._realloc(a+S.length),this._memory.set(S,a),r.blake2b_update(this.pointer,a,a+S.length),this},_.prototype.digest=function(S){if(e(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,s.push(this.pointer),r.blake2b_final(this.pointer),!S||S==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof S=="string")return t.toString(this._memory,S,this.pointer+128,this.pointer+128+this.digestLength);e(S instanceof Uint8Array&&S.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var A=0;A<this.digestLength;A++)S[A]=this._memory[this.pointer+128+A];return S},_.prototype.final=_.prototype.digest,_.WASM=r,_.SUPPORTED=typeof WebAssembly<"u",_.ready=function(S){return S||(S=w),n?n.then(()=>S(),S):S(new Error("WebAssembly not supported"))},_.prototype.ready=_.ready,_.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},_.prototype.setPartialHash=function(S){this._memory.set(S,this.pointer)};function w(){}return ia.exports}var ZA;function fB(){if(ZA)return un.exports;ZA=1;var e=Ux(),t=cB();function r(F,X,z){var I=F[X]+F[z],M=F[X+1]+F[z+1];I>=4294967296&&M++,F[X]=I,F[X+1]=M}function n(F,X,z,I){var M=F[X]+z;z<0&&(M+=4294967296);var m=F[X+1]+I;M>=4294967296&&m++,F[X]=M,F[X+1]=m}function a(F,X){return F[X]^F[X+1]<<8^F[X+2]<<16^F[X+3]<<24}function s(F,X,z,I,M,m){var C=d[M],p=d[M+1],v=d[m],D=d[m+1];r(h,F,X),n(h,F,C,p);var B=h[I]^h[F],b=h[I+1]^h[F+1];h[I]=b,h[I+1]=B,r(h,z,I),B=h[X]^h[z],b=h[X+1]^h[z+1],h[X]=B>>>24^b<<8,h[X+1]=b>>>24^B<<8,r(h,F,X),n(h,F,v,D),B=h[I]^h[F],b=h[I+1]^h[F+1],h[I]=B>>>16^b<<16,h[I+1]=b>>>16^B<<16,r(h,z,I),B=h[X]^h[z],b=h[X+1]^h[z+1],h[X]=b>>>31^B<<1,h[X+1]=B>>>31^b<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],f=new Uint8Array(c.map(function(F){return F*2})),h=new Uint32Array(32),d=new Uint32Array(32);function y(F,X){var z=0;for(z=0;z<16;z++)h[z]=F.h[z],h[z+16]=u[z];for(h[24]=h[24]^F.t,h[25]=h[25]^F.t/4294967296,X&&(h[28]=~h[28],h[29]=~h[29]),z=0;z<32;z++)d[z]=a(F.b,4*z);for(z=0;z<12;z++)s(0,8,16,24,f[z*16+0],f[z*16+1]),s(2,10,18,26,f[z*16+2],f[z*16+3]),s(4,12,20,28,f[z*16+4],f[z*16+5]),s(6,14,22,30,f[z*16+6],f[z*16+7]),s(0,10,20,30,f[z*16+8],f[z*16+9]),s(2,12,22,24,f[z*16+10],f[z*16+11]),s(4,14,16,26,f[z*16+12],f[z*16+13]),s(6,8,18,28,f[z*16+14],f[z*16+15]);for(z=0;z<16;z++)F.h[z]=F.h[z]^h[z]^h[z+16]}var _=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function w(F,X,z,I){_.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=F,_[0]=F,X&&(_[1]=X.length),_[2]=1,_[3]=1,z&&_.set(z,32),I&&_.set(I,48);for(var M=0;M<16;M++)this.h[M]=u[M]^a(_,M*4);X&&(S(this,X),this.c=128)}w.prototype.update=function(F){return e(F instanceof Uint8Array,"input must be Uint8Array or Buffer"),S(this,F),this},w.prototype.digest=function(F){var X=!F||F==="binary"||F==="hex"?new Uint8Array(this.outlen):F;return e(X instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),e(X.length>=this.outlen,"out must have at least outlen bytes of space"),A(this,X),F==="hex"?E(X):X},w.prototype.final=w.prototype.digest,w.ready=function(F){t.ready(function(){F()})};function S(F,X){for(var z=0;z<X.length;z++)F.c===128&&(F.t+=F.c,y(F,!1),F.c=0),F.b[F.c++]=X[z]}function A(F,X){for(F.t+=F.c;F.c<128;)F.b[F.c++]=0;y(F,!0);for(var z=0;z<F.outlen;z++)X[z]=F.h[z>>2]>>8*(z&3);return X}function E(F){for(var X="",z=0;z<F.length;z++)X+=x(F[z]);return X}function x(F){return F<16?"0"+F.toString(16):F.toString(16)}var L=w;un.exports=function(X,z,I,M,m){return m!==!0&&(e(X>=U,"outlen must be at least "+U+", was given "+X),e(X<=O,"outlen must be at most "+O+", was given "+X),z!=null&&(e(z instanceof Uint8Array,"key must be Uint8Array or Buffer"),e(z.length>=H,"key must be at least "+H+", was given "+z.length),e(z.length<=P,"key must be at most "+P+", was given "+z.length)),I!=null&&(e(I instanceof Uint8Array,"salt must be Uint8Array or Buffer"),e(I.length===q,"salt must be exactly "+q+", was given "+I.length)),M!=null&&(e(M instanceof Uint8Array,"personal must be Uint8Array or Buffer"),e(M.length===j,"personal must be exactly "+j+", was given "+M.length))),new L(X,z,I,M)},un.exports.ready=function(F){t.ready(function(){F()})},un.exports.WASM_SUPPORTED=t.SUPPORTED,un.exports.WASM_LOADED=!1;var U=un.exports.BYTES_MIN=16,O=un.exports.BYTES_MAX=64;un.exports.BYTES=32;var H=un.exports.KEYBYTES_MIN=16,P=un.exports.KEYBYTES_MAX=64;un.exports.KEYBYTES=32;var q=un.exports.SALTBYTES=16,j=un.exports.PERSONALBYTES=16;return t.ready(function(F){F||(un.exports.WASM_LOADED=!0,un.exports=t)}),un.exports}var Oh={exports:{}};Oh.exports;var JA;function lB(){return JA||(JA=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=1,s=2,u=9007199254740991,c="[object Arguments]",f="[object Array]",h="[object AsyncFunction]",d="[object Boolean]",y="[object Date]",_="[object Error]",w="[object Function]",S="[object GeneratorFunction]",A="[object Map]",E="[object Number]",x="[object Null]",L="[object Object]",U="[object Promise]",O="[object Proxy]",H="[object RegExp]",P="[object Set]",q="[object String]",j="[object Symbol]",F="[object Undefined]",X="[object WeakMap]",z="[object ArrayBuffer]",I="[object DataView]",M="[object Float32Array]",m="[object Float64Array]",C="[object Int8Array]",p="[object Int16Array]",v="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",b="[object Uint16Array]",R="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,Q=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,J={};J[M]=J[m]=J[C]=J[p]=J[v]=J[D]=J[B]=J[b]=J[R]=!0,J[c]=J[f]=J[z]=J[d]=J[I]=J[y]=J[_]=J[w]=J[A]=J[E]=J[L]=J[H]=J[P]=J[q]=J[X]=!1;var G=typeof Ni=="object"&&Ni&&Ni.Object===Object&&Ni,et=typeof self=="object"&&self&&self.Object===Object&&self,it=G||et||Function("return this")(),ut=t&&!t.nodeType&&t,ct=ut&&!0&&e&&!e.nodeType&&e,tt=ct&&ct.exports===ut,V=tt&&G.process,ot=function(){try{return V&&V.binding&&V.binding("util")}catch{}}(),mt=ot&&ot.isTypedArray;function Tt(lt,_t){for(var Mt=-1,jt=lt==null?0:lt.length,Ee=0,ie=[];++Mt<jt;){var $e=lt[Mt];_t($e,Mt,lt)&&(ie[Ee++]=$e)}return ie}function st(lt,_t){for(var Mt=-1,jt=_t.length,Ee=lt.length;++Mt<jt;)lt[Ee+Mt]=_t[Mt];return lt}function ft(lt,_t){for(var Mt=-1,jt=lt==null?0:lt.length;++Mt<jt;)if(_t(lt[Mt],Mt,lt))return!0;return!1}function dt(lt,_t){for(var Mt=-1,jt=Array(lt);++Mt<lt;)jt[Mt]=_t(Mt);return jt}function At(lt){return function(_t){return lt(_t)}}function Nt(lt,_t){return lt.has(_t)}function Ot(lt,_t){return lt==null?void 0:lt[_t]}function Pt(lt){var _t=-1,Mt=Array(lt.size);return lt.forEach(function(jt,Ee){Mt[++_t]=[Ee,jt]}),Mt}function pe(lt,_t){return function(Mt){return lt(_t(Mt))}}function Xt(lt){var _t=-1,Mt=Array(lt.size);return lt.forEach(function(jt){Mt[++_t]=jt}),Mt}var ne=Array.prototype,at=Function.prototype,$=Object.prototype,k=it["__core-js_shared__"],K=at.toString,nt=$.hasOwnProperty,pt=function(){var lt=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return lt?"Symbol(src)_1."+lt:""}(),wt=$.toString,Ct=RegExp("^"+K.call(nt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=tt?it.Buffer:void 0,se=it.Symbol,Wt=it.Uint8Array,Zt=$.propertyIsEnumerable,_e=ne.splice,Ae=se?se.toStringTag:void 0,Qe=Object.getOwnPropertySymbols,Ns=Kt?Kt.isBuffer:void 0,De=pe(Object.keys,Object),Ye=Fs(it,"DataView"),Yi=Fs(it,"Map"),ke=Fs(it,"Promise"),Me=Fs(it,"Set"),_a=Fs(it,"WeakMap"),Ce=Fs(Object,"create"),nr=Nn(Ye),Vn=Nn(Yi),ue=Nn(ke),le=Nn(Me),Vi=Nn(_a),qe=se?se.prototype:void 0,Ve=qe?qe.valueOf:void 0;function yi(lt){var _t=-1,Mt=lt==null?0:lt.length;for(this.clear();++_t<Mt;){var jt=lt[_t];this.set(jt[0],jt[1])}}function We(){this.__data__=Ce?Ce(null):{},this.size=0}function Re(lt){var _t=this.has(lt)&&delete this.__data__[lt];return this.size-=_t?1:0,_t}function Us(lt){var _t=this.__data__;if(Ce){var Mt=_t[lt];return Mt===n?void 0:Mt}return nt.call(_t,lt)?_t[lt]:void 0}function Ie(lt){var _t=this.__data__;return Ce?_t[lt]!==void 0:nt.call(_t,lt)}function Te(lt,_t){var Mt=this.__data__;return this.size+=this.has(lt)?0:1,Mt[lt]=Ce&&_t===void 0?n:_t,this}yi.prototype.clear=We,yi.prototype.delete=Re,yi.prototype.get=Us,yi.prototype.has=Ie,yi.prototype.set=Te;function Ir(lt){var _t=-1,Mt=lt==null?0:lt.length;for(this.clear();++_t<Mt;){var jt=lt[_t];this.set(jt[0],jt[1])}}function bi(){this.__data__=[],this.size=0}function ir(lt){var _t=this.__data__,Mt=iu(_t,lt);if(Mt<0)return!1;var jt=_t.length-1;return Mt==jt?_t.pop():_e.call(_t,Mt,1),--this.size,!0}function Ps(lt){var _t=this.__data__,Mt=iu(_t,lt);return Mt<0?void 0:_t[Mt][1]}function ks(lt){return iu(this.__data__,lt)>-1}function $n(lt,_t){var Mt=this.__data__,jt=iu(Mt,lt);return jt<0?(++this.size,Mt.push([lt,_t])):Mt[jt][1]=_t,this}Ir.prototype.clear=bi,Ir.prototype.delete=ir,Ir.prototype.get=Ps,Ir.prototype.has=ks,Ir.prototype.set=$n;function Mr(lt){var _t=-1,Mt=lt==null?0:lt.length;for(this.clear();++_t<Mt;){var jt=lt[_t];this.set(jt[0],jt[1])}}function ru(){this.size=0,this.__data__={hash:new yi,map:new(Yi||Ir),string:new yi}}function qs(lt){var _t=$i(this,lt).delete(lt);return this.size-=_t?1:0,_t}function zs(lt){return $i(this,lt).get(lt)}function nu(lt){return $i(this,lt).has(lt)}function ma(lt,_t){var Mt=$i(this,lt),jt=Mt.size;return Mt.set(lt,_t),this.size+=Mt.size==jt?0:1,this}Mr.prototype.clear=ru,Mr.prototype.delete=qs,Mr.prototype.get=zs,Mr.prototype.has=nu,Mr.prototype.set=ma;function Gn(lt){var _t=-1,Mt=lt==null?0:lt.length;for(this.__data__=new Mr;++_t<Mt;)this.add(lt[_t])}function vn(lt){return this.__data__.set(lt,n),this}function $a(lt){return this.__data__.has(lt)}Gn.prototype.add=Gn.prototype.push=vn,Gn.prototype.has=$a;function wn(lt){var _t=this.__data__=new Ir(lt);this.size=_t.size}function _i(){this.__data__=new Ir,this.size=0}function Ga(lt){var _t=this.__data__,Mt=_t.delete(lt);return this.size=_t.size,Mt}function Xa(lt){return this.__data__.get(lt)}function j1(lt){return this.__data__.has(lt)}function Qd(lt,_t){var Mt=this.__data__;if(Mt instanceof Ir){var jt=Mt.__data__;if(!Yi||jt.length<r-1)return jt.push([lt,_t]),this.size=++Mt.size,this;Mt=this.__data__=new Mr(jt)}return Mt.set(lt,_t),this.size=Mt.size,this}wn.prototype.clear=_i,wn.prototype.delete=Ga,wn.prototype.get=Xa,wn.prototype.has=j1,wn.prototype.set=Qd;function Hn(lt,_t){var Mt=Ks(lt),jt=!Mt&&Xd(lt),Ee=!Mt&&!jt&&Za(lt),ie=!Mt&&!jt&&!Ee&&su(lt),$e=Mt||jt||Ee||ie,lr=$e?dt(lt.length,String):[],or=lr.length;for(var He in lt)nt.call(lt,He)&&!($e&&(He=="length"||Ee&&(He=="offset"||He=="parent")||ie&&(He=="buffer"||He=="byteLength"||He=="byteOffset")||Q1(He,or)))&&lr.push(He);return lr}function iu(lt,_t){for(var Mt=lt.length;Mt--;)if(Wa(lt[Mt][0],_t))return Mt;return-1}function F1(lt,_t,Mt){var jt=_t(lt);return Ks(lt)?jt:st(jt,Mt(lt))}function va(lt){return lt==null?lt===void 0?F:x:Ae&&Ae in Object(lt)?$d(lt):pl(lt)}function fl(lt){return Ja(lt)&&va(lt)==c}function au(lt,_t,Mt,jt,Ee){return lt===_t?!0:lt==null||_t==null||!Ja(lt)&&!Ja(_t)?lt!==lt&&_t!==_t:K1(lt,_t,Mt,jt,au,Ee)}function K1(lt,_t,Mt,jt,Ee,ie){var $e=Ks(lt),lr=Ks(_t),or=$e?f:mi(lt),He=lr?f:mi(_t);or=or==c?L:or,He=He==c?L:He;var nn=or==L,Xn=He==L,Rr=or==He;if(Rr&&Za(lt)){if(!Za(_t))return!1;$e=!0,nn=!1}if(Rr&&!nn)return ie||(ie=new wn),$e||su(lt)?pc(lt,_t,Mt,jt,Ee,ie):js(lt,_t,or,Mt,jt,Ee,ie);if(!(Mt&a)){var Un=nn&&nt.call(lt,"__wrapped__"),an=Xn&&nt.call(_t,"__wrapped__");if(Un||an){var wa=Un?lt.value():lt,Wi=an?_t.value():_t;return ie||(ie=new wn),Ee(wa,Wi,Mt,jt,ie)}}return Rr?(ie||(ie=new wn),Vd(lt,_t,Mt,jt,Ee,ie)):!1}function Ln(lt){if(!Xi(lt)||gc(lt))return!1;var _t=yc(lt)?Ct:Q;return _t.test(Nn(lt))}function ll(lt){return Ja(lt)&&Qs(lt.length)&&!!J[va(lt)]}function Yd(lt){if(!dl(lt))return De(lt);var _t=[];for(var Mt in Object(lt))nt.call(lt,Mt)&&Mt!="constructor"&&_t.push(Mt);return _t}function pc(lt,_t,Mt,jt,Ee,ie){var $e=Mt&a,lr=lt.length,or=_t.length;if(lr!=or&&!($e&&or>lr))return!1;var He=ie.get(lt);if(He&&ie.get(_t))return He==_t;var nn=-1,Xn=!0,Rr=Mt&s?new Gn:void 0;for(ie.set(lt,_t),ie.set(_t,lt);++nn<lr;){var Un=lt[nn],an=_t[nn];if(jt)var wa=$e?jt(an,Un,nn,_t,lt,ie):jt(Un,an,nn,lt,_t,ie);if(wa!==void 0){if(wa)continue;Xn=!1;break}if(Rr){if(!ft(_t,function(Wi,ts){if(!Nt(Rr,ts)&&(Un===Wi||Ee(Un,Wi,Mt,jt,ie)))return Rr.push(ts)})){Xn=!1;break}}else if(!(Un===an||Ee(Un,an,Mt,jt,ie))){Xn=!1;break}}return ie.delete(lt),ie.delete(_t),Xn}function js(lt,_t,Mt,jt,Ee,ie,$e){switch(Mt){case I:if(lt.byteLength!=_t.byteLength||lt.byteOffset!=_t.byteOffset)return!1;lt=lt.buffer,_t=_t.buffer;case z:return!(lt.byteLength!=_t.byteLength||!ie(new Wt(lt),new Wt(_t)));case d:case y:case E:return Wa(+lt,+_t);case _:return lt.name==_t.name&&lt.message==_t.message;case H:case q:return lt==_t+"";case A:var lr=Pt;case P:var or=jt&a;if(lr||(lr=Xt),lt.size!=_t.size&&!or)return!1;var He=$e.get(lt);if(He)return He==_t;jt|=s,$e.set(lt,_t);var nn=pc(lr(lt),lr(_t),jt,Ee,ie,$e);return $e.delete(lt),nn;case j:if(Ve)return Ve.call(lt)==Ve.call(_t)}return!1}function Vd(lt,_t,Mt,jt,Ee,ie){var $e=Mt&a,lr=hl(lt),or=lr.length,He=hl(_t),nn=He.length;if(or!=nn&&!$e)return!1;for(var Xn=or;Xn--;){var Rr=lr[Xn];if(!($e?Rr in _t:nt.call(_t,Rr)))return!1}var Un=ie.get(lt);if(Un&&ie.get(_t))return Un==_t;var an=!0;ie.set(lt,_t),ie.set(_t,lt);for(var wa=$e;++Xn<or;){Rr=lr[Xn];var Wi=lt[Rr],ts=_t[Rr];if(jt)var Jd=$e?jt(ts,Wi,Rr,_t,lt,ie):jt(Wi,ts,Rr,lt,_t,ie);if(!(Jd===void 0?Wi===ts||Ee(Wi,ts,Mt,jt,ie):Jd)){an=!1;break}wa||(wa=Rr=="constructor")}if(an&&!wa){var mc=lt.constructor,ou=_t.constructor;mc!=ou&&"constructor"in lt&&"constructor"in _t&&!(typeof mc=="function"&&mc instanceof mc&&typeof ou=="function"&&ou instanceof ou)&&(an=!1)}return ie.delete(lt),ie.delete(_t),an}function hl(lt){return F1(lt,Zd,Gd)}function $i(lt,_t){var Mt=lt.__data__;return Y1(_t)?Mt[typeof _t=="string"?"string":"hash"]:Mt.map}function Fs(lt,_t){var Mt=Ot(lt,_t);return Ln(Mt)?Mt:void 0}function $d(lt){var _t=nt.call(lt,Ae),Mt=lt[Ae];try{lt[Ae]=void 0;var jt=!0}catch{}var Ee=wt.call(lt);return jt&&(_t?lt[Ae]=Mt:delete lt[Ae]),Ee}var Gd=Qe?function(lt){return lt==null?[]:(lt=Object(lt),Tt(Qe(lt),function(_t){return Zt.call(lt,_t)}))}:bc,mi=va;(Ye&&mi(new Ye(new ArrayBuffer(1)))!=I||Yi&&mi(new Yi)!=A||ke&&mi(ke.resolve())!=U||Me&&mi(new Me)!=P||_a&&mi(new _a)!=X)&&(mi=function(lt){var _t=va(lt),Mt=_t==L?lt.constructor:void 0,jt=Mt?Nn(Mt):"";if(jt)switch(jt){case nr:return I;case Vn:return A;case ue:return U;case le:return P;case Vi:return X}return _t});function Q1(lt,_t){return _t=_t??u,!!_t&&(typeof lt=="number"||W.test(lt))&&lt>-1&&lt%1==0&&lt<_t}function Y1(lt){var _t=typeof lt;return _t=="string"||_t=="number"||_t=="symbol"||_t=="boolean"?lt!=="__proto__":lt===null}function gc(lt){return!!pt&&pt in lt}function dl(lt){var _t=lt&&lt.constructor,Mt=typeof _t=="function"&&_t.prototype||$;return lt===Mt}function pl(lt){return wt.call(lt)}function Nn(lt){if(lt!=null){try{return K.call(lt)}catch{}try{return lt+""}catch{}}return""}function Wa(lt,_t){return lt===_t||lt!==lt&&_t!==_t}var Xd=fl(function(){return arguments}())?fl:function(lt){return Ja(lt)&&nt.call(lt,"callee")&&!Zt.call(lt,"callee")},Ks=Array.isArray;function Wd(lt){return lt!=null&&Qs(lt.length)&&!yc(lt)}var Za=Ns||_c;function Gi(lt,_t){return au(lt,_t)}function yc(lt){if(!Xi(lt))return!1;var _t=va(lt);return _t==w||_t==S||_t==h||_t==O}function Qs(lt){return typeof lt=="number"&&lt>-1&&lt%1==0&&lt<=u}function Xi(lt){var _t=typeof lt;return lt!=null&&(_t=="object"||_t=="function")}function Ja(lt){return lt!=null&&typeof lt=="object"}var su=mt?At(mt):ll;function Zd(lt){return Wd(lt)?Hn(lt):Yd(lt)}function bc(){return[]}function _c(){return!1}e.exports=Gi}(Oh,Oh.exports)),Oh.exports}var Ft={},t4;function _d(){if(t4)return Ft;t4=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.WitnessArgs=Ft.UncleBlockVec=Ft.UncleBlock=Ft.TransactionVec=Ft.Transaction=Ft.ScriptOpt=Ft.Script=Ft.RawTransaction=Ft.RawHeader=Ft.ProposalShortIdVec=Ft.ProposalShortId=Ft.OutPoint=Ft.Header=Ft.HashType=Ft.DepType=Ft.CellbaseWitness=Ft.CellOutputVec=Ft.CellOutput=Ft.CellInputVec=Ft.CellInput=Ft.CellDepVec=Ft.CellDep=Ft.BytesVec=Ft.BytesOptVec=Ft.BytesOpt=Ft.Bytes=Ft.Byte32Vec=Ft.Byte32=Ft.BlockV1=Ft.Block=Ft.BaseHeader=void 0,Ft.WitnessArgsOf=O,Ft.createFixedHexBytesCodec=S,Ft.deTransformHeaderCodecType=tt,Ft.deTransformTransactionCodecType=ut,Ft.transformHeaderCodecType=ct,Ft.transformTransactionCodecType=it;var e=wr(),t=en();function r(V){return{...V,unpack:ot=>t.BI.from(V.unpack(ot)).toHexString()}}const n=r(e.number.Uint8),a=r(e.number.Uint32LE),s=r(e.number.Uint64LE),u=r(e.number.Uint128LE),{byteVecOf:c,option:f,table:h,vector:d,struct:y}=e.molecule,{bytify:_,hexify:w}=e.bytes;function S(V){return(0,e.createFixedBytesCodec)({byteLength:V,pack:ot=>_(ot),unpack:ot=>w(ot)})}const A=Ft.Bytes=c({pack:_,unpack:w}),E=Ft.BytesOpt=f(A),x=Ft.BytesVec=d(A);Ft.BytesOptVec=d(E);const L=Ft.Byte32=S(32),U=Ft.Byte32Vec=d(L);function O(V){return h({lock:f(c(V.lock)),inputType:f(c(V.inputType)),outputType:f(c(V.outputType))},["lock","inputType","outputType"])}const H=(0,e.createBytesCodec)({pack:_,unpack:w});Ft.WitnessArgs=O({lock:H,inputType:H,outputType:H});const P=Ft.HashType=(0,e.createFixedBytesCodec)({byteLength:1,pack:V=>{if(V==="type")return e.number.Uint8.pack(1);if(V==="data")return e.number.Uint8.pack(0);if(V==="data1")return e.number.Uint8.pack(2);if(V==="data2")return e.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${V}`)},unpack:V=>{const ot=e.number.Uint8.unpack(V);if(ot===1)return"type";if(ot===0)return"data";if(ot===2)return"data1";if(ot===4)return"data2";throw new Error(`Invalid hash type: ${ot}`)}}),q=Ft.DepType=(0,e.createFixedBytesCodec)({byteLength:1,pack:V=>{if(V==="code")return n.pack(0);if(V==="depGroup")return n.pack(1);throw new Error(`Invalid dep type: ${V}`)},unpack:V=>{const ot=e.number.Uint8.unpack(V);if(ot===0)return"code";if(ot===1)return"depGroup";throw new Error(`Invalid dep type: ${ot}`)}}),j=Ft.Script=h({codeHash:L,hashType:P,args:A},["codeHash","hashType","args"]),F=Ft.ScriptOpt=f(j),X=Ft.OutPoint=y({txHash:L,index:a},["txHash","index"]),z=Ft.CellInput=y({since:s,previousOutput:X},["since","previousOutput"]),I=Ft.CellInputVec=d(z),M=Ft.CellOutput=h({capacity:s,lock:j,type:F},["capacity","lock","type"]),m=Ft.CellOutputVec=d(M),C=Ft.CellDep=y({outPoint:X,depType:q},["outPoint","depType"]),p=Ft.CellDepVec=d(C),v=Ft.RawTransaction=h({version:a,cellDeps:p,headerDeps:U,inputs:I,outputs:m,outputsData:x},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),D=h({raw:v,witnesses:x},["raw","witnesses"]),B=Ft.Transaction=(0,e.createBytesCodec)({pack:V=>D.pack(it(V)),unpack:V=>ut(D.unpack(V))}),b=Ft.TransactionVec=d(B),R=Ft.RawHeader=y({version:a,compactTarget:a,timestamp:s,number:s,epoch:s,parentHash:L,transactionsRoot:L,proposalsHash:L,extraHash:L,dao:L},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),Y=Ft.BaseHeader=y({raw:R,nonce:u},["raw","nonce"]),Q=Ft.Header=(0,e.createBytesCodec)({pack:V=>Y.pack(ct(V)),unpack:V=>tt(Y.unpack(V))}),W=Ft.ProposalShortId=S(10),J=Ft.ProposalShortIdVec=d(W),G=Ft.UncleBlock=h({header:Q,proposals:J},["header","proposals"]),et=Ft.UncleBlockVec=d(G);Ft.Block=h({header:Q,uncles:et,transactions:b,proposals:J},["header","uncles","transactions","proposals"]),Ft.BlockV1=h({header:Q,uncles:et,transactions:b,proposals:J,extension:A},["header","uncles","transactions","proposals","extension"]),Ft.CellbaseWitness=h({lock:j,message:A},["lock","message"]);function it(V){return{raw:{version:V.version,cellDeps:V.cellDeps,headerDeps:V.headerDeps,inputs:V.inputs,outputs:V.outputs,outputsData:V.outputsData},witnesses:V.witnesses}}function ut(V){return{cellDeps:V.raw.cellDeps.map(ot=>({outPoint:{txHash:ot.outPoint.txHash,index:ot.outPoint.index},depType:ot.depType})),headerDeps:V.raw.headerDeps,inputs:V.raw.inputs.map(ot=>({previousOutput:{txHash:ot.previousOutput.txHash,index:ot.previousOutput.index},since:ot.since})),outputs:V.raw.outputs.map(ot=>({capacity:ot.capacity,lock:ot.lock,type:ot.type})),outputsData:V.raw.outputsData,version:V.raw.version,witnesses:V.witnesses}}function ct(V){return{raw:{timestamp:V.timestamp,number:V.number,epoch:V.epoch,compactTarget:Number(V.compactTarget),dao:V.dao,parentHash:V.parentHash,proposalsHash:V.proposalsHash,transactionsRoot:V.transactionsRoot,extraHash:V.extraHash,version:V.version},nonce:V.nonce}}function tt(V){return{timestamp:V.raw.timestamp,number:V.raw.number,epoch:V.raw.epoch,compactTarget:V.raw.compactTarget,dao:V.raw.dao,parentHash:V.raw.parentHash,proposalsHash:V.raw.proposalsHash,transactionsRoot:V.raw.transactionsRoot,extraHash:V.raw.extraHash,version:V.raw.version,nonce:V.nonce,hash:""}}return Ft}var e4;function $f(){if(e4)return cr;e4=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.CKBHasher=void 0,cr.assertHexString=F,cr.assertHexadecimal=X,cr.ckbHash=w,cr.ckbHash160=S,cr.computeScriptHash=A,cr.deepCamel=p,cr.deepCamelizeTransaction=D,cr.generateTypeIdScript=m,cr.hashCode=E,cr.isDeepEqual=z,cr.readBigUInt128LE=q,cr.readBigUInt128LECompatible=j,cr.readBigUInt64LE=U,cr.readBigUInt64LECompatible=O,cr.toBigUInt128LE=H,cr.toBigUInt128LECompatible=P,cr.toBigUInt64LE=x,cr.toBigUInt64LECompatible=L;var e=f(fB()),t=f(lB()),r=Nx(),n=wr(),a=c(_d()),s=bd();function u(B){if(typeof WeakMap!="function")return null;var b=new WeakMap,R=new WeakMap;return(u=function(Y){return Y?R:b})(B)}function c(B,b){if(B&&B.__esModule)return B;if(B===null||typeof B!="object"&&typeof B!="function")return{default:B};var R=u(b);if(R&&R.has(B))return R.get(B);var Y={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in B)if(W!=="default"&&{}.hasOwnProperty.call(B,W)){var J=Q?Object.getOwnPropertyDescriptor(B,W):null;J&&(J.get||J.set)?Object.defineProperty(Y,W,J):Y[W]=B[W]}return Y.default=B,R&&R.set(B,Y),Y}function f(B){return B&&B.__esModule?B:{default:B}}const{bytify:h,hexify:d,bytifyRawString:y}=n.bytes;class _{constructor(b={}){const{outLength:R=32}=b;this.outLength=R,this.hasher=(0,e.default)(R,void 0,void 0,y("ckb-default-hash"))}update(b){return this.hasher.update(h(b)),this}digestHex(){const b=new Uint8Array(this.outLength);return this.hasher.digest(b),d(b.buffer)}}cr.CKBHasher=_;function w(B){const b=new _;return b.update(n.bytes.bytify(B)),b.digestHex()}function S(B){return w(B).slice(0,42)}function A(B){return w(a.Script.pack(B))}function E(B){return(0,r.xxHash32)(B,0)}function x(B){return L(B)}function L(B){return n.bytes.hexify(s.Uint64LE.pack(B))}function U(B){return O(B).toBigInt()}function O(B){return s.Uint64LE.unpack(B)}function H(B){return P(B)}function P(B){return n.bytes.hexify(s.Uint128LE.pack(B))}function q(B){return j(B).toBigInt()}function j(B){return s.Uint128LE.unpack(B)}function F(B,b){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(b))throw new Error(`${B} must be a hex string!`)}function X(B,b){if(!/^0x(0|[0-9a-fA-F]+)$/.test(b))throw new Error(`${B} must be a hexadecimal!`)}function z(B,b){return(0,t.default)(B,b)}const I="0x00000000000000000000000000000000000000000000000000545950455f4944";function M(B,b){const R=a.CellInput.pack(B),Y=n.bytes.hexify(n.number.Uint64LE.pack(b)),Q=new _;return Q.update(R),Q.update(Y),Q.digestHex()}function m(B,b="0x0"){a.CellInput.pack(B),X("outputIndex",b);const R=M(B,b);return{codeHash:I,hashType:"type",args:R}}function C(B){return B.replace(/([-_][a-z])/gi,b=>b.toUpperCase().replace("-","").replace("_",""))}function p(B){if(Object.prototype.toString.call(B)==="[object Array]")return B.length===0?B:B.map(R=>p(R));const b={};if(Object.prototype.toString.call(B)==="[object Object]"){for(const R in B){const Y=B[R];Object.prototype.toString.call(Y)==="[object Object]"||Object.prototype.toString.call(Y)==="[object Array]"?b[C(R)]=p(Y):b[C(R)]=Y}return b}return B}function v(B){if(Object.prototype.toString.call(B)==="[object Array]")return B.length===0?B:B.map(R=>v(R));const b={};if(Object.prototype.toString.call(B)==="[object Object]"){for(const R in B){const Y=B[R];Object.prototype.toString.call(Y)==="[object Object]"||Object.prototype.toString.call(Y)==="[object Array]"?b[R]=v(Y):b[R]=Y==="dep_group"?"depGroup":Y}return b}return B}function D(B){return v(p(B))}return cr}var r4;function Px(){if(r4)return na;r4=1,Object.defineProperty(na,"__esModule",{value:!0}),na.TransactionValue=na.ScriptValue=na.RawTransactionValue=na.OutPointValue=void 0;var e=Nx(),t=$f(),r=wr(),n=s(_d());function a(_){if(typeof WeakMap!="function")return null;var w=new WeakMap,S=new WeakMap;return(a=function(A){return A?S:w})(_)}function s(_,w){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var S=a(w);if(S&&S.has(_))return S.get(_);var A={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in _)if(x!=="default"&&{}.hasOwnProperty.call(_,x)){var L=E?Object.getOwnPropertyDescriptor(_,x):null;L&&(L.get||L.set)?Object.defineProperty(A,x,L):A[x]=_[x]}return A.default=_,S&&S.set(_,A),A}const{hexify:u}=r.bytes;class c{constructor(w){this.buffer=w}equals(w){return u(this.buffer)===u(w.buffer)}hashCode(){return(0,e.xxHash32)(Buffer.from(this.buffer),0)}hash(){return(0,t.ckbHash)(this.buffer)}}class f extends c{constructor(w,S={}){super(n.Script.pack(w))}}na.ScriptValue=f;class h extends c{constructor(w,S={}){super(n.OutPoint.pack(w))}}na.OutPointValue=h;class d extends c{constructor(w,S={}){super(n.RawTransaction.pack(w))}}na.RawTransactionValue=d;class y extends c{constructor(w,S={}){super(n.Transaction.pack(w))}}return na.TransactionValue=y,na}var ii={},n4;function fv(){if(n4)return ii;n4=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.generateAbsoluteEpochSince=u,ii.generateHeaderEpoch=c,ii.generateSince=n,ii.maximumAbsoluteEpochSince=s,ii.parseAbsoluteEpochSince=f,ii.parseEpoch=a,ii.parseSince=t,ii.parseSinceCompatible=r,ii.validateAbsoluteEpochSince=h,ii.validateSince=d;var e=en();function t(_){const w=r(_);return w.type==="epochNumber"?w:{...w,value:w.value.toBigInt()}}function r(_){const w=e.BI.from(_),S=w.shr(56),A=S.shr(5).and("0b11");let E,x;if(A.eq(0))E="blockNumber",x=w.and("0xFFFFFFFFFFFFFF");else if(A.eq(1))E="epochNumber",x={length:w.shr(40).and(65535).toNumber(),index:w.shr(24).and(65535).toNumber(),number:w.and(16777215).toNumber()};else if(A.eq(2))E="blockTimestamp",x=w.and("0xFFFFFFFFFFFFFF");else throw new Error("Invalid metric flag!");return{relative:!S.and("0x80").eq(0),type:E,value:x}}function n({relative:_,type:w,value:S}){let A=e.BI.from(0);_&&(A=A.add(128)),w==="epochNumber"?A=A.add(32):w==="blockTimestamp"&&(A=A.add(64));let E;return(0,e.isBIish)(S)?E=e.BI.from(S):typeof S=="object"?E=c(S):E=e.BI.from(S),y(A.shl(56).add(E))}function a(_){const w=e.BI.from(_);return{length:w.shr(40).and(65535).toNumber(),index:w.shr(24).and(65535).toNumber(),number:w.and(16777215).toNumber()}}function s(..._){const w=_.map(x=>f(x)),S=Math.max(...w.map(x=>x.number)),A=w.filter(x=>x.number===S);let E=A[0];for(let x=1;x<A.length;++x){const L=A[x];e.BI.from(L.index).mul(E.length).gte(e.BI.from(E.index).mul(L.length))&&(E=L)}return u(E)}function u({length:_,index:w,number:S}){return n({relative:!1,type:"epochNumber",value:{length:_,index:w,number:S}})}function c({length:_,index:w,number:S}){return y(e.BI.from(_).shl(40).add(e.BI.from(w).shl(24)).add(S))}function f(_){const{relative:w,type:S,value:A}=r(_);if(!(w===!1&&S==="epochNumber"))throw new Error("Since format error!");return A}function h(_,w){const S=r(_).value,A=a(w);return e.BI.from(S.number).lt(A.number)||e.BI.from(S.number).eq(A.number)&&e.BI.from(S.index).mul(A.length).lte(e.BI.from(A.index).mul(S.length))}function d(_,w,S){const{relative:A,type:E,value:x}=r(_);if(A){if(E==="epochNumber"){const L=a(w.epoch),U=a(S.epoch),O={number:e.BI.from(x.number).add(U.number),index:e.BI.from(x.index).mul(U.length).add(e.BI.from(U.index).mul(x.length)),length:e.BI.from(x.length).mul(U.length)};return x.length===0&&U.length!==0?(O.index=e.BI.from(U.index),O.length=e.BI.from(U.length)):U.length===0&&x.length!==0&&(O.index=e.BI.from(x.index),O.length=e.BI.from(x.length)),!e.BI.from(O.length).eq(0)&&e.BI.from(O.index).gte(O.length)&&(O.number=O.index.div(O.length).add(O.number),O.index=O.index.mod(O.length)),e.BI.from(O.number).lt(L.number)||e.BI.from(O.number).eq(L.number)&&e.BI.from(O.index).mul(L.length).lte(e.BI.from(L.index).mul(O.length))}if(E==="blockNumber")return e.BI.from(x).add(S.blockNumber).lte(w.blockNumber);if(E==="blockTimestamp"){if(!w.median_timestamp||!S.median_timestamp)throw new Error("Must provide median_timestamp!");return e.BI.from(x).mul(1e3).add(S.median_timestamp).lte(w.median_timestamp)}}else{if(E==="epochNumber")return h(_,w.epoch);if(E==="blockNumber")return e.BI.from(x).lte(w.blockNumber);if(E==="blockTimestamp"){if(!w.median_timestamp)throw new Error("Must provide tip median_timestamp!");return e.BI.from(x).mul(1e3).lte(w.median_timestamp)}}return!1}function y(_){return"0x"+_.toString(16)}return ii}var ah={},i4;function kx(){if(i4)return ah;i4=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.isCellMatchQueryOptions=n,ah.isScriptWrapper=r;var e=Px(),t=en();function r(a){return a!==null&&a.script!==void 0}function n(a,{lock:s=void 0,type:u=void 0,argsLen:c=-1,data:f="any",fromBlock:h=void 0,toBlock:d=void 0}){let y=null,_=null;if(s&&!r(s)?y={script:s,argsLen:c}:s&&(y=s,s.argsLen||(y.argsLen=c)),u&&u==="empty"?_=u:u&&typeof u=="object"&&!r(u)?_={script:u,argsLen:c}:u&&typeof u=="object"&&r(u)&&(_=u,u.argsLen||(_.argsLen=c)),y&&y.script&&y.argsLen===-1&&!new e.ScriptValue(a.cellOutput.lock,{validate:!1}).equals(new e.ScriptValue(y.script,{validate:!1})))return!1;if(y&&y.script&&y.argsLen==="any"){const w=a.cellOutput.lock;if(w.codeHash!==y.script.codeHash||w.hashType!==y.script.hashType||!w.args.startsWith(y.script.args))return!1}if(y&&y.script&&typeof y.argsLen=="number"&&y.argsLen>=0){const w=y.argsLen*2+2,S=y.script.args.length,A=Math.min(w,S),E=a.cellOutput.lock;if(E.args.length!==w||!(E.codeHash===y.script.codeHash&&E.hashType===y.script.hashType&&E.args.slice(0,A)===y.script.args.slice(0,A)))return!1}return!(_&&_==="empty"&&a.cellOutput.type||_&&typeof _=="object"&&(!a.cellOutput.type||!new e.ScriptValue(a.cellOutput.type,{validate:!1}).equals(new e.ScriptValue(_.script,{validate:!1})))||f&&f!=="any"&&a.data!==f||h&&a.blockNumber&&t.BI.from(a.blockNumber).lt(t.BI.from(h))||d&&a.blockNumber&&t.BI.from(a.blockNumber).gt(t.BI.from(d)))}return ah}var ps={},lb={},sh={},a4;function qx(){if(a4)return sh;a4=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.Reader=void 0;class e{constructor(){this.__isByteLikeReader__=!0}static isReader(s){return s==null?!1:s instanceof e?!0:s.__isByteLikeReader__===!0}}class t extends e{constructor(s){super(),this.view=new DataView(s)}length(){return this.view.byteLength}indexAt(s){return this.view.getUint8(s)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),s=>("00"+s.toString(16)).slice(-2)).join("")}}class r extends e{constructor(s){super(),this.string=s}length(){return this.string.length/2-1}indexAt(s){return parseInt(this.string.substr(2+s*2,2),16)}toArrayBuffer(){const s=new ArrayBuffer(this.length()),u=new DataView(s);for(let c=0;c<this.length();c++)u.setUint8(c,this.indexAt(c));return s}serializeJson(){return this.string}}class n extends e{constructor(s){if(super(),s instanceof r||s instanceof t)return s;if(typeof s=="string"){if(!s.startsWith("0x")||s.length%2!==0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new r(s)}if(s instanceof ArrayBuffer)return new t(s);if(s instanceof Uint8Array)return new t(Uint8Array.from(s).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(s){return new n(s)}static fromRawString(s){const u=new ArrayBuffer(s.length),c=new DataView(u);for(let f=0;f<s.length;f++){const h=s.charCodeAt(f);if(h>255)throw new Error("fromRawString can only accept UTF-8 raw string!");c.setUint8(f,h)}return new t(u)}}return sh.Reader=n,sh}var cn={},s4;function hB(){if(s4)return cn;s4=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.NormalizeBlock=x,cn.NormalizeCellDep=d,cn.NormalizeCellInput=f,cn.NormalizeCellOutput=h,cn.NormalizeCellbaseWitness=L,cn.NormalizeHeader=A,cn.NormalizeOutPoint=u,cn.NormalizeRawHeader=S,cn.NormalizeRawTransaction=_,cn.NormalizeScript=s,cn.NormalizeTransaction=w,cn.NormalizeUncleBlock=E,cn.NormalizeWitnessArgs=U;var e=en(),t=qx();function r(O){return function(H,P){if(!(P instanceof ArrayBuffer)){let q=e.BI.from(P).toString(16);if(q.length%2!==0&&(q="0"+q),q.length/2>O)throw new Error(`${H} is ${q.length/2} bytes long, expected length is ${O}!`);const j=new DataView(new ArrayBuffer(O));for(let F=0;F<q.length/2;F++){const X=q.length-(F+1)*2;j.setUint8(F,parseInt(q.substr(X,2),16))}P=j.buffer}if(P.byteLength<O){const q=new Uint8Array(O);q.set(new Uint8Array(P),0),P=q.buffer}return P}}function n(O){return function(H,P){if(P=new t.Reader(P).toArrayBuffer(),O>0&&P.byteLength!==O)throw new Error(`${H} has invalid length ${P.byteLength}, required: ${O}`);return P}}function a(O,H,P){const q={};for(const[j,F]of Object.entries(P)){const X=H[j];if(X==null)throw new Error(`${O} is missing ${j}!`);q[j]=F(`${O}.${j}`,X)}return q}function s(O,{debugPath:H="script"}={}){return a(H,O,{codeHash:n(32),hashType:function(P,q){switch(q){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:return q;case 1:return q;case 2:return q;case 4:return q;default:throw new Error(`${P}.hashType has invalid value: ${q}`)}},args:n(-1)})}function u(O,{debugPath:H="outPoint"}={}){return a(H,O,{txHash:n(32),index:r(4)})}function c(O){return function(H,P){return O(P,{debugPath:H})}}function f(O,{debugPath:H="cell_input"}={}){return a(H,O,{since:r(8),previousOutput:c(u)})}function h(O,{debugPath:H="cellOutput"}={}){const P=a(H,O,{capacity:r(8),lock:c(s)});return O.type&&(P.type_=s(O.type,{debugPath:`${H}.type`})),P}function d(O,{debugPath:H="cell_dep"}={}){return a(H,O,{outPoint:c(u),depType:function(P,q){switch(q){case"code":return 0;case"depGroup":return 1;case 0:return q;case 1:return q;default:throw new Error(`${P}.depType has invalid value: ${q}`)}}})}function y(O){return function(H,P){return P.map((q,j)=>O(`${H}[${j}]`,q))}}function _(O,{debugPath:H="raw_transaction"}={}){return a(H,O,{version:r(4),cellDeps:y(c(d)),headerDeps:y(n(32)),inputs:y(c(f)),outputs:y(c(h)),outputsData:y(n(-1))})}function w(O,{debugPath:H="transaction"}={}){const P=_(O,{debugPath:`(raw)${H}`}),q=a(H,O,{witnesses:y(n(-1))});return q.raw=P,q}function S(O,{debugPath:H="raw_header"}={}){return a(H,O,{version:r(4),compactTarget:r(4),timestamp:r(8),number:r(8),epoch:r(8),parentHash:n(32),transactionsRoot:n(32),proposalsHash:n(32),extraHash:n(32),dao:n(32)})}function A(O,{debugPath:H="header"}={}){const P=S(O,{debugPath:`(raw)${H}`}),q=a(H,O,{nonce:r(16)});return q.raw=P,q}function E(O,{debugPath:H="uncle_block"}={}){return a(H,O,{header:c(A),proposals:y(n(10))})}function x(O,{debugPath:H="block"}={}){return a(H,O,{header:c(A),uncles:y(c(E)),transactions:y(c(w)),proposals:y(n(10))})}function L(O,{debugPath:H="cellbase_witness"}={}){return a(H,O,{lock:c(s),message:n(-1)})}function U(O,{debugPath:H="witness_args"}={}){const P={};return O.lock&&(P.lock=n(-1)(`${H}.lock`,O.lock)),O.inputType&&(P.inputType=n(-1)(`${H}.inputType`,O.inputType)),O.outputType&&(P.outputType=n(-1)(`${H}.outputType`,O.outputType)),P}return cn}var En={},fn={},o4;function zx(){if(o4)return fn;o4=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.ValidateBlock=O,fn.ValidateCellDep=h,fn.ValidateCellInput=c,fn.ValidateCellOutput=f,fn.ValidateCellbaseWitness=H,fn.ValidateHeader=x,fn.ValidateOutPoint=u,fn.ValidateRawHeader=E,fn.ValidateRawTransaction=w,fn.ValidateScript=s,fn.ValidateTransaction=S,fn.ValidateUncleBlock=U,fn.ValidateWitnessArgs=P;function e(q,j){if(!(j instanceof Object))throw new Error(`${q} is not an object!`)}function t(q,j,F,X=[]){e(q,j);const z=Object.keys(j).sort(),I=F.length,M=F.length+X.length,m=`${q} does not have correct keys! Required keys: [${F.sort().join(", ")}], optional keys: [${X.sort().join(", ")}], actual keys: [${z.join(", ")}]`;if(z.length<I||z.length>M)throw new Error(m);let C=z.filter(p=>!F.includes(p));if(z.length-C.length!==I)throw new Error(m);if(C.find(p=>!X.includes(p)))throw new Error(m)}function r(q,j){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(j))throw new Error(`${q} must be a hex string!`)}function n(q,j){if(r(q,j),j.length!==66)throw new Error(`${q} must be a hex string of 66 bytes long!`)}function a(q,j){if(j!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(j))throw new Error(`${q} must be a hex integer!`)}function s(q,{nestedValidation:j=!0,debugPath:F="script"}={}){if(t(F,q,["codeHash","hashType","args"],[]),n(`${F}.codeHash`,q.codeHash),r(`${F}.args`,q.args),q.hashType!=="data"&&q.hashType!=="type"&&q.hashType!=="data1"&&q.hashType!=="data2")throw new Error(`${F}.hashType must be either data or type!`)}function u(q,{nestedValidation:j=!0,debugPath:F="outPoint"}={}){t(F,q,["txHash","index"],[]),n(`${F}.txHash`,q.txHash),a(`${F}.index`,q.index)}function c(q,{nestedValidation:j=!0,debugPath:F="cellInput"}={}){t(F,q,["since","previousOutput"],[]),a(`${F}.since`,q.since),j&&u(q.previousOutput,{debugPath:`${F}.previousOutput`})}function f(q,{nestedValidation:j=!0,debugPath:F="cellOutput"}={}){t(F,q,["capacity","lock"],["type"]),a(`${F}.capacity`,q.capacity),j&&(s(q.lock,{debugPath:`${F}.lock`}),q.type&&s(q.type,{debugPath:`${F}.type`}))}function h(q,{nestedValidation:j=!0,debugPath:F="cellDep"}={}){if(t(F,q,["outPoint","depType"],[]),q.depType!=="code"&&q.depType!=="depGroup")throw new Error(`${F}.depType must be either code or depGroup!`);j&&u(q.outPoint,{debugPath:`${F}.outPoint`})}function d(q,j,F,X){if(!Array.isArray(j))throw new Error(`${q} is not an array!`);if(X)for(let z=0;z<j.length;z++)F(`${q}[${z}]`,j[z])}function y(q,j){return function(F,X){q(X,{nestedValidation:j,debugPath:F})}}function _(q,j,F){a(`${q}.version`,j.version),d(`${q}.cellDeps`,j.cellDeps,y(h,F),F),d(`${q}.headerDeps`,j.headerDeps,n,F),d(`${q}.inputs`,j.inputs,y(c,F),F),d(`${q}.outputs`,j.outputs,y(f,F),F),d(`${q}.outputsData`,j.outputsData,r,F)}function w(q,{nestedValidation:j=!0,debugPath:F="rawTransaction"}={}){t(F,q,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),_(F,q,j)}function S(q,{nestedValidation:j=!0,debugPath:F="transaction"}={}){t(F,q,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),_(F,q,j),d(`${F}.witnesses`,q.witnesses,r,j)}function A(q,j){a(`${q}.version`,j.version),a(`${q}.compactTarget`,j.compactTarget),a(`${q}.timestamp`,j.timestamp),a(`${q}.number`,j.number),a(`${q}.epoch`,j.epoch),n(`${q}.parentHash`,j.parentHash),n(`${q}.transactionsRoot`,j.transactionsRoot),n(`${q}.proposalsHash`,j.proposalsHash),n(`${q}.extraHash`,j.extraHash),n(`${q}.dao`,j.dao)}function E(q,{nestedValidation:j=!0,debugPath:F="rawHeader"}={}){t(F,q,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),A(F,q)}function x(q,{nestedValidation:j=!0,debugPath:F="header"}={}){if(t(F,q,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),r(`${F}.nonce`,q.nonce),q.nonce.length!==34)throw new Error(`${F}.nonce must be a hex string of 34 bytes long!`)}function L(q,j){if(r(q,j),j.length!==22)throw new Error(`${q} must be a hex string of 22 bytes long!`)}function U(q,{nestedValidation:j=!0,debugPath:F="uncleBlock"}={}){t(F,q,["header","proposals"],[]),j&&x(q.header,{debugPath:`${F}.header`}),d(`${F}.proposals`,q.proposals,L,j)}function O(q,{nestedValidation:j=!0,debugPath:F="block"}={}){t(F,q,["header","uncles","transactions","proposals"],[]),j&&x(q.header,{debugPath:`${F}.header`}),d(`${F}.uncles`,q.uncles,y(U,j),j),d(`${F}.transactions`,q.transactions,y(S,j),j),d(`${F}.proposals`,q.proposals,L,j)}function H(q,{nestedValidation:j=!0,debugPath:F="cellbaseWitness"}={}){t(F,q,["lock","message"],[]),r(`${F}.message`,q.message),j&&s(q.lock,{debugPath:`${F}.lock`})}function P(q,{nestedValidation:j=!0,debugPath:F="witnessArgs"}={}){t(F,q,[],["lock","inputType","outputType"]),q.lock&&r(`${F}.lock`,q.lock),q.inputType&&r(`${F}.inputType`,q.inputType),q.outputType&&r(`${F}.outputType`,q.outputType)}return fn}var u4;function dB(){if(u4)return En;u4=1,Object.defineProperty(En,"__esModule",{value:!0}),En.TransformBlock=x,En.TransformCellInput=f,En.TransformCellOutput=h,En.TransformCellbaseWitness=L,En.TransformHeader=A,En.TransformOutPoint=u,En.TransformRawHeader=S,En.TransformRawTransaction=_,En.TransformScript=s,En.TransformTransaction=w,En.TransformUncleBlock=E,En.TransformWitnessArgs=U;var e=r(zx());function t(O){if(typeof WeakMap!="function")return null;var H=new WeakMap,P=new WeakMap;return(t=function(q){return q?P:H})(O)}function r(O,H){if(O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var P=t(H);if(P&&P.has(O))return P.get(O);var q={__proto__:null},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in O)if(F!=="default"&&{}.hasOwnProperty.call(O,F)){var X=j?Object.getOwnPropertyDescriptor(O,F):null;X&&(X.get||X.set)?Object.defineProperty(q,F,X):q[F]=O[F]}return q.default=O,P&&P.set(O,q),q}function n(O,H){return H instanceof Object&&H.serializeJson instanceof Function?H.serializeJson.call(H):H}function a(O,H,P){if(H=n(O,H),!(H instanceof Object))throw new Error(`Transformed ${O} is not an object!`);const q={};for(const[j,F]of Object.entries(P)){let X=H[j];if(!X){const z=j.replace(/(_[a-z])/g,I=>I.toUpperCase().replace("_",""));X=H[z]}X&&(q[j]=F(`${O}.${j}`,X))}return q}function s(O,{validation:H=!0,debugPath:P="script"}={}){return O=a(P,O,{codeHash:n,hashType:n,args:n}),H&&e.ValidateScript(O,{debugPath:`(transformed) ${P}`}),O}function u(O,{validation:H=!0,debugPath:P="outPoint"}={}){return O=a(P,O,{txHash:n,index:n}),H&&e.ValidateOutPoint(O,{debugPath:`(transformed) ${P}`}),O}function c(O){return function(H,P){return O(P,{validation:!1,debugPath:H})}}function f(O,{validation:H=!0,debugPath:P="cell_input"}={}){return O=a(P,O,{since:n,previousOutput:c(u)}),H&&e.ValidateCellInput(O,{debugPath:`(transformed) ${P}`}),O}function h(O,{validation:H=!0,debugPath:P="cellOutput"}={}){return O=a(P,O,{capacity:n,lock:c(s),type:c(s)}),H&&e.ValidateCellOutput(O,{debugPath:`(transformed) ${P}`}),O}function d(O,{validation:H=!0,debugPath:P="cell_dep"}={}){return O=a(P,O,{outPoint:c(u),depType:n}),H&&e.ValidateCellDep(O,{debugPath:`(transformed) ${P}`}),O}function y(O){return function(H,P){return P.map((q,j)=>O(`${H}[${j}]`,q))}}function _(O,{validation:H=!0,debugPath:P="raw_transaction"}={}){return O=a(P,O,{version:n,cellDeps:y(c(d)),headerDeps:y(n),inputs:y(c(f)),outputs:y(c(h)),outputsData:y(n)}),H&&e.ValidateRawTransaction(O,{debugPath:`(transformed) ${P}`}),O}function w(O,{validation:H=!0,debugPath:P="transaction"}={}){return O=a(P,O,{version:n,cellDeps:y(c(d)),headerDeps:y(n),inputs:y(c(f)),outputs:y(c(h)),outputsData:y(n),witnesses:y(n)}),H&&e.ValidateTransaction(O,{debugPath:`(transformed) ${P}`}),O}function S(O,{validation:H=!0,debugPath:P="raw_header"}={}){return O=a(P,O,{version:n,compactTarget:n,timestamp:n,number:n,epoch:n,parentHash:n,transactionsRoot:n,proposalsHash:n,extraHash:n,dao:n}),H&&e.ValidateRawHeader(O,{debugPath:`(transformed) ${P}`}),O}function A(O,{validation:H=!0,debugPath:P="header"}={}){return O=a(P,O,{version:n,compactTarget:n,timestamp:n,number:n,epoch:n,parentHash:n,transactionsRoot:n,proposalsHash:n,extraHash:n,dao:n,nonce:n}),H&&e.ValidateHeader(O,{debugPath:`(transformed) ${P}`}),O}function E(O,{validation:H=!0,debugPath:P="uncle_block"}={}){return O=a(P,O,{header:c(A),proposals:y(n)}),H&&e.ValidateUncleBlock(O,{debugPath:`(transformed) ${P}`}),O}function x(O,{validation:H=!0,debugPath:P="block"}={}){return O=a(P,O,{header:c(A),uncles:y(c(E)),transactions:y(c(w)),proposals:y(n)}),H&&e.ValidateBlock(O,{debugPath:`(transformed) ${P}`}),O}function L(O,{validation:H=!0,debugPath:P="cellbase_witness"}={}){return O=a(P,O,{lock:c(s),message:n}),H&&e.ValidateCellbaseWitness(O,{debugPath:`(transformed) ${P}`}),O}function U(O,{validation:H=!0,debugPath:P="witness_args"}={}){return O=a(P,O,{lock:n,inputType:n,outputType:n}),H&&e.ValidateWitnessArgs(O,{debugPath:`(transformed) ${P}`}),O}return En}var c4;function jx(){return c4||(c4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Reader",{enumerable:!0,get:function(){return t.Reader}}),e.validators=e.transformers=e.normalizers=e.VERSION=void 0;var t=qx(),r=u(hB());e.normalizers=r;var n=u(dB());e.transformers=n;var a=u(zx());e.validators=a;function s(c){if(typeof WeakMap!="function")return null;var f=new WeakMap,h=new WeakMap;return(s=function(d){return d?h:f})(c)}function u(c,f){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var h=s(f);if(h&&h.has(c))return h.get(c);var d={__proto__:null},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in c)if(_!=="default"&&{}.hasOwnProperty.call(c,_)){var w=y?Object.getOwnPropertyDescriptor(c,_):null;w&&(w.get||w.set)?Object.defineProperty(d,_,w):d[_]=c[_]}return d.default=c,h&&h.set(c,d),d}e.VERSION="__development_build__"}(lb)),lb}var f4;function pB(){if(f4)return ps;f4=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.default=ps.TransactionCollector=ps.Indexer=void 0;var e=jx(),t=$f(),r=kx();class n{}ps.Indexer=n;class a{constructor(c,{lock:f,type:h,argsLen:d=-1,fromBlock:y,toBlock:_,order:w="asc",skip:S}={},{skipMissing:A=!1,includeStatus:E=!0}={}){if(!f&&(!h||h==="empty"))throw new Error("Either lock or type script must be provided!");if(f&&!(0,r.isScriptWrapper)(f)?(e.validators.ValidateScript(f),this.lock={script:f,ioType:"both",argsLen:d}):f&&f.script&&(e.validators.ValidateScript(f.script),this.lock=f,f.argsLen||(this.lock.argsLen=d),f.ioType||(this.lock.ioType="both")),h==="empty"?this.type=h:h&&!(0,r.isScriptWrapper)(h)?(e.validators.ValidateScript(h),this.type={script:h,ioType:"both",argsLen:d}):h&&h.script&&(e.validators.ValidateScript(h.script),this.type=h,h.argsLen||(this.type.argsLen=d),h.ioType||(this.type.ioType="both")),y&&(0,t.assertHexadecimal)("fromBlock",y),_&&(0,t.assertHexadecimal)("toBlock",_),w!=="asc"&&w!=="desc")throw new Error("Order must be either asc or desc!");this.indexer=c,this.skipMissing=A,this.includeStatus=E,this.fromBlock=y,this.toBlock=_,this.order=w,this.skip=S,this.rpc=c.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const c=await this.getTransactionHashes();for(const f of c){const h=await this.rpc.get_transaction(f);if(!this.skipMissing&&!h)throw new Error(`Transaction ${f} is missing!`);this.includeStatus?yield h:yield h.transaction}}}ps.TransactionCollector=a;const s={TransactionCollector:a};return ps.default=s,ps}var oh={},l4;function gB(){if(l4)return oh;l4=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.defaultLogger=e,oh.deprecated=t;function e(r,n){const a=`[${r}] ${n}`;if(r==="error"||r==="warn")return console.warn(a);console.log(`[${r}] ${n}`)}function t(r){e("deprecated",r)}return oh}var hb={},h4;function yB(){return h4||(h4=1,Object.defineProperty(hb,"__esModule",{value:!0})),hb}var db={},d4;function bB(){return d4||(d4=1,Object.defineProperty(db,"__esModule",{value:!0})),db}var p4;function zr(){return p4||(p4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};e.values=e.utils=e.since=e.logger=e.indexer=e.helpers=e.blockchain=void 0;var r=_(Px());e.values=r;var n=_($f());e.utils=n;var a=_(fv());e.since=a;var s=_(kx());e.helpers=s;var u=_(pB());e.indexer=u,Object.keys(u).forEach(function(w){w==="default"||w==="__esModule"||Object.prototype.hasOwnProperty.call(t,w)||w in e&&e[w]===u[w]||Object.defineProperty(e,w,{enumerable:!0,get:function(){return u[w]}})});var c=_(gB());e.logger=c;var f=_(_d());e.blockchain=f;var h=yB();Object.keys(h).forEach(function(w){w==="default"||w==="__esModule"||Object.prototype.hasOwnProperty.call(t,w)||w in e&&e[w]===h[w]||Object.defineProperty(e,w,{enumerable:!0,get:function(){return h[w]}})});var d=bB();Object.keys(d).forEach(function(w){w==="default"||w==="__esModule"||Object.prototype.hasOwnProperty.call(t,w)||w in e&&e[w]===d[w]||Object.defineProperty(e,w,{enumerable:!0,get:function(){return d[w]}})});function y(w){if(typeof WeakMap!="function")return null;var S=new WeakMap,A=new WeakMap;return(y=function(E){return E?A:S})(w)}function _(w,S){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var A=y(S);if(A&&A.has(w))return A.get(w);var E={__proto__:null},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in w)if(L!=="default"&&{}.hasOwnProperty.call(w,L)){var U=x?Object.getOwnPropertyDescriptor(w,L):null;U&&(U.get||U.set)?Object.defineProperty(E,L,U):E[L]=w[L]}return E.default=w,A&&A.set(w,E),E}}(eb)),eb}var xu={},g4;function u1(){if(g4)return xu;g4=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.bech32m=xu.bech32=void 0;const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",t={};for(let h=0;h<e.length;h++){const d=e.charAt(h);t[d]=h}function r(h){const d=h>>25;return(h&33554431)<<5^-(d>>0&1)&996825010^-(d>>1&1)&642813549^-(d>>2&1)&513874426^-(d>>3&1)&1027748829^-(d>>4&1)&705979059}function n(h){let d=1;for(let y=0;y<h.length;++y){const _=h.charCodeAt(y);if(_<33||_>126)return"Invalid prefix ("+h+")";d=r(d)^_>>5}d=r(d);for(let y=0;y<h.length;++y){const _=h.charCodeAt(y);d=r(d)^_&31}return d}function a(h,d,y,_){let w=0,S=0;const A=(1<<y)-1,E=[];for(let x=0;x<h.length;++x)for(w=w<<d|h[x],S+=d;S>=y;)S-=y,E.push(w>>S&A);if(_)S>0&&E.push(w<<y-S&A);else{if(S>=d)return"Excess padding";if(w<<y-S&A)return"Non-zero padding"}return E}function s(h){return a(h,8,5,!0)}function u(h){const d=a(h,5,8,!1);if(Array.isArray(d))return d}function c(h){const d=a(h,5,8,!1);if(Array.isArray(d))return d;throw new Error(d)}function f(h){let d;h==="bech32"?d=1:d=734539939;function y(A,E,x){if(x=x||90,A.length+7+E.length>x)throw new TypeError("Exceeds length limit");A=A.toLowerCase();let L=n(A);if(typeof L=="string")throw new Error(L);let U=A+"1";for(let O=0;O<E.length;++O){const H=E[O];if(H>>5!==0)throw new Error("Non 5-bit word");L=r(L)^H,U+=e.charAt(H)}for(let O=0;O<6;++O)L=r(L);L^=d;for(let O=0;O<6;++O){const H=L>>(5-O)*5&31;U+=e.charAt(H)}return U}function _(A,E){if(E=E||90,A.length<8)return A+" too short";if(A.length>E)return"Exceeds length limit";const x=A.toLowerCase(),L=A.toUpperCase();if(A!==x&&A!==L)return"Mixed-case string "+A;A=x;const U=A.lastIndexOf("1");if(U===-1)return"No separator character for "+A;if(U===0)return"Missing prefix for "+A;const O=A.slice(0,U),H=A.slice(U+1);if(H.length<6)return"Data too short";let P=n(O);if(typeof P=="string")return P;const q=[];for(let j=0;j<H.length;++j){const F=H.charAt(j),X=t[F];if(X===void 0)return"Unknown character "+F;P=r(P)^X,!(j+6>=H.length)&&q.push(X)}return P!==d?"Invalid checksum for "+A:{prefix:O,words:q}}function w(A,E){const x=_(A,E);if(typeof x=="object")return x}function S(A,E){const x=_(A,E);if(typeof x=="object")return x;throw new Error(x)}return{decodeUnsafe:w,decode:S,encode:y,toWords:s,fromWordsUnsafe:u,fromWords:c}}return xu.bech32=f("bech32"),xu.bech32m=f("bech32m"),xu}var md="delete",Ze=5,Ui=1<<Ze,Dn=Ui-1,be={};function Sm(){return{value:!1}}function Pi(e){e&&(e.value=!0)}function lv(){}function Cf(e){return e.size===void 0&&(e.size=e.__iterate(Fx)),e.size}function zo(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Cf(e)+t:t}function Fx(){return!0}function vd(e,t,r){return(e===0&&!Qx(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function Gf(e,t){return Kx(e,t,0)}function wd(e,t){return Kx(e,t,t)}function Kx(e,t,r){return e===void 0?r:Qx(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Qx(e){return e<0||e===0&&1/e===-1/0}var Yx="@@__IMMUTABLE_ITERABLE__@@";function bn(e){return!!(e&&e[Yx])}var Vx="@@__IMMUTABLE_KEYED__@@";function Ke(e){return!!(e&&e[Vx])}var $x="@@__IMMUTABLE_INDEXED__@@";function Zr(e){return!!(e&&e[$x])}function Xf(e){return Ke(e)||Zr(e)}var tr=function(t){return bn(t)?t:_n(t)},Fi=function(e){function t(r){return Ke(r)?r:$o(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(tr),sc=function(e){function t(r){return Zr(r)?r:Ki(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(tr),Wf=function(e){function t(r){return bn(r)&&!Xf(r)?r:tl(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(tr);tr.Keyed=Fi;tr.Indexed=sc;tr.Set=Wf;var Gx="@@__IMMUTABLE_SEQ__@@";function Ad(e){return!!(e&&e[Gx])}var Xx="@@__IMMUTABLE_RECORD__@@";function Vo(e){return!!(e&&e[Xx])}function gi(e){return bn(e)||Vo(e)}var Zf="@@__IMMUTABLE_ORDERED__@@";function di(e){return!!(e&&e[Zf])}var Ed=0,ga=1,qi=2,Cm=typeof Symbol=="function"&&Symbol.iterator,Wx="@@iterator",c1=Cm||Wx,we=function(t){this.next=t};we.prototype.toString=function(){return"[Iterator]"};we.KEYS=Ed;we.VALUES=ga;we.ENTRIES=qi;we.prototype.inspect=we.prototype.toSource=function(){return this.toString()};we.prototype[c1]=function(){return this};function er(e,t,r,n){var a=e===0?t:e===1?r:[t,r];return n?n.value=a:n={value:a,done:!1},n}function Mn(){return{value:void 0,done:!0}}function hv(e){return Array.isArray(e)?!0:!!f1(e)}function y4(e){return e&&typeof e.next=="function"}function Im(e){var t=f1(e);return t&&t.call(e)}function f1(e){var t=e&&(Cm&&e[Cm]||e[Wx]);if(typeof t=="function")return t}function _B(e){var t=f1(e);return t&&t===e.entries}function mB(e){var t=f1(e);return t&&t===e.keys}var Jf=Object.prototype.hasOwnProperty;function dv(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var _n=function(e){function t(r){return r==null?gv():gi(r)?r.toSeq():wB(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,a){var s=this._cache;if(s){for(var u=s.length,c=0;c!==u;){var f=s[a?u-++c:c++];if(n(f[1],f[0],this)===!1)break}return c}return this.__iterateUncached(n,a)},t.prototype.__iterator=function(n,a){var s=this._cache;if(s){var u=s.length,c=0;return new we(function(){if(c===u)return Mn();var f=s[a?u-++c:c++];return er(n,f[0],f[1])})}return this.__iteratorUncached(n,a)},t}(tr),$o=function(e){function t(r){return r==null?gv().toKeyedSeq():bn(r)?Ke(r)?r.toSeq():r.fromEntrySeq():Vo(r)?r.toSeq():yv(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(_n),Ki=function(e){function t(r){return r==null?gv():bn(r)?Ke(r)?r.entrySeq():r.toIndexedSeq():Vo(r)?r.toSeq().entrySeq():Zx(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(_n),tl=function(e){function t(r){return(bn(r)&&!Xf(r)?r:Ki(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(_n);_n.isSeq=Ad;_n.Keyed=$o;_n.Set=tl;_n.Indexed=Ki;_n.prototype[Gx]=!0;var Ju=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return this.has(n)?this._array[zo(this,n)]:a},t.prototype.__iterate=function(n,a){for(var s=this._array,u=s.length,c=0;c!==u;){var f=a?u-++c:c++;if(n(s[f],f,this)===!1)break}return c},t.prototype.__iterator=function(n,a){var s=this._array,u=s.length,c=0;return new we(function(){if(c===u)return Mn();var f=a?u-++c:c++;return er(n,f,s[f])})},t}(Ki),pv=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},t.prototype.has=function(n){return Jf.call(this._object,n)},t.prototype.__iterate=function(n,a){for(var s=this._object,u=this._keys,c=u.length,f=0;f!==c;){var h=u[a?c-++f:f++];if(n(s[h],h,this)===!1)break}return f},t.prototype.__iterator=function(n,a){var s=this._object,u=this._keys,c=u.length,f=0;return new we(function(){if(f===c)return Mn();var h=u[a?c-++f:f++];return er(n,h,s[h])})},t}($o);pv.prototype[Zf]=!0;var vB=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var s=this._collection,u=Im(s),c=0;if(y4(u))for(var f;!(f=u.next()).done&&n(f.value,c++,this)!==!1;);return c},t.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var s=this._collection,u=Im(s);if(!y4(u))return new we(Mn);var c=0;return new we(function(){var f=u.next();return f.done?f:er(n,c++,f.value)})},t}(Ki),b4;function gv(){return b4||(b4=new Ju([]))}function yv(e){var t=bv(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new pv(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Zx(e){var t=bv(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function wB(e){var t=bv(e);if(t)return _B(e)?t.fromEntrySeq():mB(e)?t.toSetSeq():t;if(typeof e=="object")return new pv(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function bv(e){return dv(e)?new Ju(e):hv(e)?new vB(e):void 0}var Jx="@@__IMMUTABLE_MAP__@@";function xd(e){return!!(e&&e[Jx])}function l1(e){return xd(e)&&di(e)}function kp(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Dr(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(kp(e)&&kp(t)&&e.equals(t))}var uh=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,a=r&65535;return n*a+((t>>>16)*a+n*(r>>>16)<<16>>>0)|0};function h1(e){return e>>>1&1073741824|e&3221225471}var AB=Object.prototype.valueOf;function On(e){if(e==null)return _4(e);if(typeof e.hashCode=="function")return h1(e.hashCode(e));var t=TB(e);if(t==null)return _4(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return EB(t);case"string":return t.length>BB?xB(t):Tm(t);case"object":case"function":return CB(t);case"symbol":return SB(t);default:if(typeof t.toString=="function")return Tm(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function _4(e){return e===null?1108378658:1108378659}function EB(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return h1(t)}function xB(e){var t=yb[e];return t===void 0&&(t=Tm(e),gb===OB&&(gb=0,yb={}),gb++,yb[e]=t),t}function Tm(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return h1(t)}function SB(e){var t=w4[e];return t!==void 0||(t=t7(),w4[e]=t),t}function CB(e){var t;if(Bm&&(t=Om.get(e),t!==void 0)||(t=e[Mu],t!==void 0)||!v4&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Mu],t!==void 0||(t=IB(e),t!==void 0)))return t;if(t=t7(),Bm)Om.set(e,t);else{if(m4!==void 0&&m4(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(v4)Object.defineProperty(e,Mu,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Mu]=t;else if(e.nodeType!==void 0)e[Mu]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var m4=Object.isExtensible,v4=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function IB(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function TB(e){return e.valueOf!==AB&&typeof e.valueOf=="function"?e.valueOf(e):e}function t7(){var e=++pb;return pb&1073741824&&(pb=0),e}var Bm=typeof WeakMap=="function",Om;Bm&&(Om=new WeakMap);var w4=Object.create(null),pb=0,Mu="__immutablehash__";typeof Symbol=="function"&&(Mu=Symbol(Mu));var BB=16,OB=255,gb=0,yb={},d1=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return this._iter.get(n,a)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,a=_v(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},t.prototype.map=function(n,a){var s=this,u=a7(this,n,a);return this._useKeys||(u.valueSeq=function(){return s._iter.toSeq().map(n,a)}),u},t.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(u,c){return n(u,c,s)},a)},t.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},t}($o);d1.prototype[Zf]=!0;var e7=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,a){var s=this,u=0;return a&&Cf(this),this._iter.__iterate(function(c){return n(c,a?s.size-++u:u++,s)},a)},t.prototype.__iterator=function(n,a){var s=this,u=this._iter.__iterator(ga,a),c=0;return a&&Cf(this),new we(function(){var f=u.next();return f.done?f:er(n,a?s.size-++c:c++,f.value,f)})},t}(Ki),r7=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(u){return n(u,u,s)},a)},t.prototype.__iterator=function(n,a){var s=this._iter.__iterator(ga,a);return new we(function(){var u=s.next();return u.done?u:er(n,u.value,u.value,u)})},t}(tl),n7=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(u){if(u){E4(u);var c=bn(u);return n(c?u.get(1):u[1],c?u.get(0):u[0],s)}},a)},t.prototype.__iterator=function(n,a){var s=this._iter.__iterator(ga,a);return new we(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value;if(c){E4(c);var f=bn(c);return er(n,f?c.get(0):c[0],f?c.get(1):c[1],u)}}})},t}($o);e7.prototype.cacheResult=d1.prototype.cacheResult=r7.prototype.cacheResult=n7.prototype.cacheResult=wv;function i7(e){var t=Ka(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=wv,t.__iterateUncached=function(r,n){var a=this;return e.__iterate(function(s,u){return r(u,s,a)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===qi){var a=e.__iterator(r,n);return new we(function(){var s=a.next();if(!s.done){var u=s.value[0];s.value[0]=s.value[1],s.value[1]=u}return s})}return e.__iterator(r===ga?Ed:ga,n)},t}function a7(e,t,r){var n=Ka(e);return n.size=e.size,n.has=function(a){return e.has(a)},n.get=function(a,s){var u=e.get(a,be);return u===be?s:t.call(r,u,a,e)},n.__iterateUncached=function(a,s){var u=this;return e.__iterate(function(c,f,h){return a(t.call(r,c,f,h),f,u)!==!1},s)},n.__iteratorUncached=function(a,s){var u=e.__iterator(qi,s);return new we(function(){var c=u.next();if(c.done)return c;var f=c.value,h=f[0];return er(a,h,t.call(r,f[1],h,e),c)})},n}function _v(e,t){var r=this,n=Ka(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var a=i7(e);return a.reverse=function(){return e.flip()},a}),n.get=function(a,s){return e.get(t?a:-1-a,s)},n.has=function(a){return e.has(t?a:-1-a)},n.includes=function(a){return e.includes(a)},n.cacheResult=wv,n.__iterate=function(a,s){var u=this,c=0;return s&&Cf(e),e.__iterate(function(f,h){return a(f,t?h:s?u.size-++c:c++,u)},!s)},n.__iterator=function(a,s){var u=0;s&&Cf(e);var c=e.__iterator(qi,!s);return new we(function(){var f=c.next();if(f.done)return f;var h=f.value;return er(a,t?h[0]:s?r.size-++u:u++,h[1],f)})},n}function s7(e,t,r,n){var a=Ka(e);return n&&(a.has=function(s){var u=e.get(s,be);return u!==be&&!!t.call(r,u,s,e)},a.get=function(s,u){var c=e.get(s,be);return c!==be&&t.call(r,c,s,e)?c:u}),a.__iterateUncached=function(s,u){var c=this,f=0;return e.__iterate(function(h,d,y){if(t.call(r,h,d,y))return f++,s(h,n?d:f-1,c)},u),f},a.__iteratorUncached=function(s,u){var c=e.__iterator(qi,u),f=0;return new we(function(){for(;;){var h=c.next();if(h.done)return h;var d=h.value,y=d[0],_=d[1];if(t.call(r,_,y,e))return er(s,n?y:f++,_,h)}})},a}function DB(e,t,r){var n=Hs().asMutable();return e.__iterate(function(a,s){n.update(t.call(r,a,s,e),0,function(u){return u+1})}),n.asImmutable()}function MB(e,t,r){var n=Ke(e),a=(di(e)?ya():Hs()).asMutable();e.__iterate(function(u,c){a.update(t.call(r,u,c,e),function(f){return f=f||[],f.push(n?[c,u]:u),f})});var s=vv(e);return a.map(function(u){return je(e,s(u))}).asImmutable()}function RB(e,t,r){var n=Ke(e),a=[[],[]];e.__iterate(function(u,c){a[t.call(r,u,c,e)?1:0].push(n?[c,u]:u)});var s=vv(e);return a.map(function(u){return je(e,s(u))})}function mv(e,t,r,n){var a=e.size;if(vd(t,r,a))return e;if(typeof a>"u"&&(t<0||r<0))return mv(e.toSeq().cacheResult(),t,r,n);var s=Gf(t,a),u=wd(r,a),c=u-s,f;c===c&&(f=c<0?0:c);var h=Ka(e);return h.size=f===0?f:e.size&&f||void 0,!n&&Ad(e)&&f>=0&&(h.get=function(d,y){return d=zo(this,d),d>=0&&d<f?e.get(d+s,y):y}),h.__iterateUncached=function(d,y){var _=this;if(f===0)return 0;if(y)return this.cacheResult().__iterate(d,y);var w=0,S=!0,A=0;return e.__iterate(function(E,x){if(!(S&&(S=w++<s)))return A++,d(E,n?x:A-1,_)!==!1&&A!==f}),A},h.__iteratorUncached=function(d,y){if(f!==0&&y)return this.cacheResult().__iterator(d,y);if(f===0)return new we(Mn);var _=e.__iterator(d,y),w=0,S=0;return new we(function(){for(;w++<s;)_.next();if(++S>f)return Mn();var A=_.next();return n||d===ga||A.done?A:d===Ed?er(d,S-1,void 0,A):er(d,S-1,A.value[1],A)})},h}function HB(e,t,r){var n=Ka(e);return n.__iterateUncached=function(a,s){var u=this;if(s)return this.cacheResult().__iterate(a,s);var c=0;return e.__iterate(function(f,h,d){return t.call(r,f,h,d)&&++c&&a(f,h,u)}),c},n.__iteratorUncached=function(a,s){var u=this;if(s)return this.cacheResult().__iterator(a,s);var c=e.__iterator(qi,s),f=!0;return new we(function(){if(!f)return Mn();var h=c.next();if(h.done)return h;var d=h.value,y=d[0],_=d[1];return t.call(r,_,y,u)?a===qi?h:er(a,y,_,h):(f=!1,Mn())})},n}function o7(e,t,r,n){var a=Ka(e);return a.__iterateUncached=function(s,u){var c=this;if(u)return this.cacheResult().__iterate(s,u);var f=!0,h=0;return e.__iterate(function(d,y,_){if(!(f&&(f=t.call(r,d,y,_))))return h++,s(d,n?y:h-1,c)}),h},a.__iteratorUncached=function(s,u){var c=this;if(u)return this.cacheResult().__iterator(s,u);var f=e.__iterator(qi,u),h=!0,d=0;return new we(function(){var y,_,w;do{if(y=f.next(),y.done)return n||s===ga?y:s===Ed?er(s,d++,void 0,y):er(s,d++,y.value[1],y);var S=y.value;_=S[0],w=S[1],h&&(h=t.call(r,w,_,c))}while(h);return s===qi?y:er(s,_,w,y)})},a}function LB(e,t){var r=Ke(e),n=[e].concat(t).map(function(u){return bn(u)?r&&(u=Fi(u)):u=r?yv(u):Zx(Array.isArray(u)?u:[u]),u}).filter(function(u){return u.size!==0});if(n.length===0)return e;if(n.length===1){var a=n[0];if(a===e||r&&Ke(a)||Zr(e)&&Zr(a))return a}var s=new Ju(n);return r?s=s.toKeyedSeq():Zr(e)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(u,c){if(u!==void 0){var f=c.size;if(f!==void 0)return u+f}},0),s}function u7(e,t,r){var n=Ka(e);return n.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var u=0,c=!1;function f(h,d){h.__iterate(function(y,_){return(!t||d<t)&&bn(y)?f(y,d+1):(u++,a(y,r?_:u-1,n)===!1&&(c=!0)),!c},s)}return f(e,0),u},n.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var u=e.__iterator(a,s),c=[],f=0;return new we(function(){for(;u;){var h=u.next();if(h.done!==!1){u=c.pop();continue}var d=h.value;if(a===qi&&(d=d[1]),(!t||c.length<t)&&bn(d))c.push(u),u=d.__iterator(a,s);else return r?h:er(a,f++,d,h)}return Mn()})},n}function NB(e,t,r){var n=vv(e);return e.toSeq().map(function(a,s){return n(t.call(r,a,s,e))}).flatten(!0)}function UB(e,t){var r=Ka(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,a){var s=this,u=0;return e.__iterate(function(c){return(!u||n(t,u++,s)!==!1)&&n(c,u++,s)!==!1},a),u},r.__iteratorUncached=function(n,a){var s=e.__iterator(ga,a),u=0,c;return new we(function(){return(!c||u%2)&&(c=s.next(),c.done)?c:u%2?er(n,u++,t):er(n,u++,c.value,c)})},r}function If(e,t,r){t||(t=c7);var n=Ke(e),a=0,s=e.toSeq().map(function(u,c){return[c,u,a++,r?r(u,c,e):u]}).valueSeq().toArray();return s.sort(function(u,c){return t(u[3],c[3])||u[2]-c[2]}).forEach(n?function(u,c){s[c].length=2}:function(u,c){s[c]=u[1]}),n?$o(s):Zr(e)?Ki(s):tl(s)}function ip(e,t,r){if(t||(t=c7),r){var n=e.toSeq().map(function(a,s){return[a,r(a,s,e)]}).reduce(function(a,s){return A4(t,a[1],s[1])?s:a});return n&&n[0]}return e.reduce(function(a,s){return A4(t,a,s)?s:a})}function A4(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function ap(e,t,r,n){var a=Ka(e),s=new Ju(r).map(function(u){return u.size});return a.size=n?s.max():s.min(),a.__iterate=function(u,c){for(var f=this.__iterator(ga,c),h,d=0;!(h=f.next()).done&&u(h.value,d++,this)!==!1;);return d},a.__iteratorUncached=function(u,c){var f=r.map(function(y){return y=tr(y),Im(c?y.reverse():y)}),h=0,d=!1;return new we(function(){var y;return d||(y=f.map(function(_){return _.next()}),d=n?y.every(function(_){return _.done}):y.some(function(_){return _.done})),d?Mn():er(u,h++,t.apply(null,y.map(function(_){return _.value})))})},a}function je(e,t){return e===t?e:Ad(e)?t:e.constructor(t)}function E4(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function vv(e){return Ke(e)?Fi:Zr(e)?sc:Wf}function Ka(e){return Object.create((Ke(e)?$o:Zr(e)?Ki:tl).prototype)}function wv(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):_n.prototype.cacheResult.call(this)}function c7(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Pa(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),a=0;a<r;a++)n[a]=e[a+t];return n}function Av(e,t){if(!e)throw new Error(t)}function fi(e){Av(e!==1/0,"Cannot perform this action with an infinite size.")}function f7(e){if(dv(e)&&typeof e!="string")return e;if(di(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var PB=Object.prototype.toString;function p1(e){if(!e||typeof e!="object"||PB.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function jo(e){return typeof e=="object"&&(gi(e)||Array.isArray(e)||p1(e))}function Gh(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function Ev(e,t){return gi(e)?e.has(t):jo(e)&&Jf.call(e,t)}function g1(e,t,r){return gi(e)?e.get(t,r):Ev(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function qp(e){if(Array.isArray(e))return Pa(e);var t={};for(var r in e)Jf.call(e,r)&&(t[r]=e[r]);return t}function xv(e,t){if(!jo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(gi(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Jf.call(e,t))return e;var r=qp(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function Sv(e,t,r){if(!jo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(gi(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Jf.call(e,t)&&r===e[t])return e;var n=qp(e);return n[t]=r,n}function Go(e,t,r,n){n||(n=r,r=void 0);var a=l7(gi(e),e,f7(t),0,r,n);return a===be?r:a}function l7(e,t,r,n,a,s){var u=t===be;if(n===r.length){var c=u?a:t,f=s(c);return f===c?t:f}if(!u&&!jo(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Gh)+"]: "+t);var h=r[n],d=u?be:g1(t,h,be),y=l7(d===be?e:gi(d),d,r,n+1,a,s);return y===d?t:y===be?xv(t,h):Sv(u?e?ha():{}:t,h,y)}function Cv(e,t,r){return Go(e,t,be,function(){return r})}function Iv(e,t){return Cv(this,e,t)}function Tv(e,t){return Go(e,t,function(){return be})}function Bv(e){return Tv(this,e)}function y1(e,t,r,n){return Go(e,[t],r,n)}function Ov(e,t,r){return arguments.length===1?e(this):y1(this,e,t,r)}function Dv(e,t,r){return Go(this,e,t,r)}function h7(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return p7(this,e)}function d7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return p7(this,t,e)}function p7(e,t,r){for(var n=[],a=0;a<t.length;a++){var s=Fi(t[a]);s.size!==0&&n.push(s)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(u){for(var c=r?function(h,d){y1(u,d,be,function(y){return y===be?h:r(y,h,d)})}:function(h,d){u.set(d,h)},f=0;f<n.length;f++)n[f].forEach(c)})}function g7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Cd(e,t)}function y7(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Cd(t,r,e)}function b7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Sd(e,t)}function _7(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Sd(t,r,e)}function Sd(e,t,r){return Cd(e,t,kB(r))}function Cd(e,t,r){if(!jo(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(gi(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),a=e,s=n?sc:Fi,u=n?function(f){a===e&&(a=qp(a)),a.push(f)}:function(f,h){var d=Jf.call(a,h),y=d&&r?r(a[h],f,h):f;(!d||y!==a[h])&&(a===e&&(a=qp(a)),a[h]=y)},c=0;c<t.length;c++)s(t[c]).forEach(u);return a}function kB(e){function t(r,n,a){return jo(r)&&jo(n)&&qB(r,n)?Cd(r,[n],t):e?e(r,n,a):n}return t}function qB(e,t){var r=_n(e),n=_n(t);return Zr(r)===Zr(n)&&Ke(r)===Ke(n)}function m7(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Sd(this,e)}function v7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Sd(this,t,e)}function Mv(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Go(this,e,ha(),function(n){return Cd(n,t)})}function Rv(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Go(this,e,ha(),function(n){return Sd(n,t)})}function Id(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Td(){return this.__ownerID?this:this.__ensureOwner(new lv)}function Bd(){return this.__ensureOwner()}function Hv(){return this.__altered}var Hs=function(e){function t(r){return r==null?ha():xd(r)&&!di(r)?r:ha().withMutations(function(n){var a=e(r);fi(a.size),a.forEach(function(s,u){return n.set(u,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return ha().withMutations(function(s){for(var u=0;u<n.length;u+=2){if(u+1>=n.length)throw new Error("Missing value for key: "+n[u]);s.set(n[u],n[u+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},t.prototype.set=function(n,a){return C4(this,n,a)},t.prototype.remove=function(n){return C4(this,n,be)},t.prototype.deleteAll=function(n){var a=tr(n);return a.size===0?this:this.withMutations(function(s){a.forEach(function(u){return s.remove(u)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ha()},t.prototype.sort=function(n){return ya(If(this,n))},t.prototype.sortBy=function(n,a){return ya(If(this,a,n))},t.prototype.map=function(n,a){var s=this;return this.withMutations(function(u){u.forEach(function(c,f){u.set(f,n.call(a,c,f,s))})})},t.prototype.__iterator=function(n,a){return new zB(this,n,a)},t.prototype.__iterate=function(n,a){var s=this,u=0;return this._root&&this._root.iterate(function(c){return u++,n(c[1],c[0],s)},a),u},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Lv(this.size,this._root,n,this.__hash):this.size===0?ha():(this.__ownerID=n,this.__altered=!1,this)},t}(Fi);Hs.isMap=xd;var rr=Hs.prototype;rr[Jx]=!0;rr[md]=rr.remove;rr.removeAll=rr.deleteAll;rr.setIn=Iv;rr.removeIn=rr.deleteIn=Bv;rr.update=Ov;rr.updateIn=Dv;rr.merge=rr.concat=h7;rr.mergeWith=d7;rr.mergeDeep=m7;rr.mergeDeepWith=v7;rr.mergeIn=Mv;rr.mergeDeepIn=Rv;rr.withMutations=Id;rr.wasAltered=Hv;rr.asImmutable=Bd;rr["@@transducer/init"]=rr.asMutable=Td;rr["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};rr["@@transducer/result"]=function(e){return e.asImmutable()};var Xh=function(t,r){this.ownerID=t,this.entries=r};Xh.prototype.get=function(t,r,n,a){for(var s=this.entries,u=0,c=s.length;u<c;u++)if(Dr(n,s[u][0]))return s[u][1];return a};Xh.prototype.update=function(t,r,n,a,s,u,c){for(var f=s===be,h=this.entries,d=0,y=h.length;d<y&&!Dr(a,h[d][0]);d++);var _=d<y;if(_?h[d][1]===s:f)return this;if(Pi(c),(f||!_)&&Pi(u),!(f&&h.length===1)){if(!_&&!f&&h.length>=VB)return jB(t,h,a,s);var w=t&&t===this.ownerID,S=w?h:Pa(h);return _?f?d===y-1?S.pop():S[d]=S.pop():S[d]=[a,s]:S.push([a,s]),w?(this.entries=S,this):new Xh(t,S)}};var Tf=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};Tf.prototype.get=function(t,r,n,a){r===void 0&&(r=On(n));var s=1<<((t===0?r:r>>>t)&Dn),u=this.bitmap;return(u&s)===0?a:this.nodes[w7(u&s-1)].get(t+Ze,r,n,a)};Tf.prototype.update=function(t,r,n,a,s,u,c){n===void 0&&(n=On(a));var f=(r===0?n:n>>>r)&Dn,h=1<<f,d=this.bitmap,y=(d&h)!==0;if(!y&&s===be)return this;var _=w7(d&h-1),w=this.nodes,S=y?w[_]:void 0,A=Nv(S,t,r+Ze,n,a,s,u,c);if(A===S)return this;if(!y&&A&&w.length>=$B)return KB(t,w,d,f,A);if(y&&!A&&w.length===2&&I4(w[_^1]))return w[_^1];if(y&&A&&w.length===1&&I4(A))return A;var E=t&&t===this.ownerID,x=y?A?d:d^h:d|h,L=y?A?A7(w,_,A,E):YB(w,_,E):QB(w,_,A,E);return E?(this.bitmap=x,this.nodes=L,this):new Tf(t,x,L)};var Wh=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Wh.prototype.get=function(t,r,n,a){r===void 0&&(r=On(n));var s=(t===0?r:r>>>t)&Dn,u=this.nodes[s];return u?u.get(t+Ze,r,n,a):a};Wh.prototype.update=function(t,r,n,a,s,u,c){n===void 0&&(n=On(a));var f=(r===0?n:n>>>r)&Dn,h=s===be,d=this.nodes,y=d[f];if(h&&!y)return this;var _=Nv(y,t,r+Ze,n,a,s,u,c);if(_===y)return this;var w=this.count;if(!y)w++;else if(!_&&(w--,w<GB))return FB(t,d,w,f);var S=t&&t===this.ownerID,A=A7(d,f,_,S);return S?(this.count=w,this.nodes=A,this):new Wh(t,w,A)};var Bf=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Bf.prototype.get=function(t,r,n,a){for(var s=this.entries,u=0,c=s.length;u<c;u++)if(Dr(n,s[u][0]))return s[u][1];return a};Bf.prototype.update=function(t,r,n,a,s,u,c){n===void 0&&(n=On(a));var f=s===be;if(n!==this.keyHash)return f?this:(Pi(c),Pi(u),Uv(this,t,r,n,[a,s]));for(var h=this.entries,d=0,y=h.length;d<y&&!Dr(a,h[d][0]);d++);var _=d<y;if(_?h[d][1]===s:f)return this;if(Pi(c),(f||!_)&&Pi(u),f&&y===2)return new Ds(t,this.keyHash,h[d^1]);var w=t&&t===this.ownerID,S=w?h:Pa(h);return _?f?d===y-1?S.pop():S[d]=S.pop():S[d]=[a,s]:S.push([a,s]),w?(this.entries=S,this):new Bf(t,this.keyHash,S)};var Ds=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Ds.prototype.get=function(t,r,n,a){return Dr(n,this.entry[0])?this.entry[1]:a};Ds.prototype.update=function(t,r,n,a,s,u,c){var f=s===be,h=Dr(a,this.entry[0]);if(h?s===this.entry[1]:f)return this;if(Pi(c),f){Pi(u);return}return h?t&&t===this.ownerID?(this.entry[1]=s,this):new Ds(t,this.keyHash,[a,s]):(Pi(u),Uv(this,t,r,On(a),[a,s]))};Xh.prototype.iterate=Bf.prototype.iterate=function(e,t){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(e(r[t?a-n:n])===!1)return!1};Tf.prototype.iterate=Wh.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var s=r[t?a-n:n];if(s&&s.iterate(e,t)===!1)return!1}};Ds.prototype.iterate=function(e,t){return e(this.entry)};var zB=function(e){function t(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&x4(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var s=a.node,u=a.index++,c=void 0;if(s.entry){if(u===0)return bb(n,s.entry)}else if(s.entries){if(c=s.entries.length-1,u<=c)return bb(n,s.entries[this._reverse?c-u:u])}else if(c=s.nodes.length-1,u<=c){var f=s.nodes[this._reverse?c-u:u];if(f){if(f.entry)return bb(n,f.entry);a=this._stack=x4(f,a)}continue}a=this._stack=this._stack.__prev}return Mn()},t}(we);function bb(e,t){return er(e,t[0],t[1])}function x4(e,t){return{node:e,index:0,__prev:t}}function Lv(e,t,r,n){var a=Object.create(rr);return a.size=e,a._root=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var S4;function ha(){return S4||(S4=Lv(0))}function C4(e,t,r){var n,a;if(e._root){var s=Sm(),u=Sm();if(n=Nv(e._root,e.__ownerID,0,void 0,t,r,s,u),!u.value)return e;a=e.size+(s.value?r===be?-1:1:0)}else{if(r===be)return e;a=1,n=new Xh(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=a,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Lv(a,n):ha()}function Nv(e,t,r,n,a,s,u,c){return e?e.update(t,r,n,a,s,u,c):s===be?e:(Pi(c),Pi(u),new Ds(t,n,[a,s]))}function I4(e){return e.constructor===Ds||e.constructor===Bf}function Uv(e,t,r,n,a){if(e.keyHash===n)return new Bf(t,n,[e.entry,a]);var s=(r===0?e.keyHash:e.keyHash>>>r)&Dn,u=(r===0?n:n>>>r)&Dn,c,f=s===u?[Uv(e,t,r+Ze,n,a)]:(c=new Ds(t,n,a),s<u?[e,c]:[c,e]);return new Tf(t,1<<s|1<<u,f)}function jB(e,t,r,n){e||(e=new lv);for(var a=new Ds(e,On(r),[r,n]),s=0;s<t.length;s++){var u=t[s];a=a.update(e,0,void 0,u[0],u[1])}return a}function FB(e,t,r,n){for(var a=0,s=0,u=new Array(r),c=0,f=1,h=t.length;c<h;c++,f<<=1){var d=t[c];d!==void 0&&c!==n&&(a|=f,u[s++]=d)}return new Tf(e,a,u)}function KB(e,t,r,n,a){for(var s=0,u=new Array(Ui),c=0;r!==0;c++,r>>>=1)u[c]=r&1?t[s++]:void 0;return u[n]=a,new Wh(e,s+1,u)}function w7(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function A7(e,t,r,n){var a=n?e:Pa(e);return a[t]=r,a}function QB(e,t,r,n){var a=e.length+1;if(n&&t+1===a)return e[t]=r,e;for(var s=new Array(a),u=0,c=0;c<a;c++)c===t?(s[c]=r,u=-1):s[c]=e[c+u];return s}function YB(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var a=new Array(n),s=0,u=0;u<n;u++)u===t&&(s=1),a[u]=e[u+s];return a}var VB=Ui/4,$B=Ui/2,GB=Ui/4,E7="@@__IMMUTABLE_LIST__@@";function b1(e){return!!(e&&e[E7])}var zi=function(e){function t(r){var n=Op();if(r==null)return n;if(b1(r))return r;var a=e(r),s=a.size;return s===0?n:(fi(s),s>0&&s<Ui?Zh(0,s,Ze,null,new No(a.toArray())):n.withMutations(function(u){u.setSize(s),a.forEach(function(c,f){return u.set(f,c)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,a){if(n=zo(this,n),n>=0&&n<this.size){n+=this._origin;var s=x7(this,n);return s&&s.array[n&Dn]}return a},t.prototype.set=function(n,a){return XB(this,n,a)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,a){return this.splice(n,0,a)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ze,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Op()},t.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(s){Co(s,0,a+n.length);for(var u=0;u<n.length;u++)s.set(a+u,n[u])})},t.prototype.pop=function(){return Co(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){Co(a,-n.length);for(var s=0;s<n.length;s++)a.set(s,n[s])})},t.prototype.shift=function(){return Co(this,1)},t.prototype.concat=function(){for(var n=arguments,a=[],s=0;s<arguments.length;s++){var u=n[s],c=e(typeof u!="string"&&hv(u)?u:[u]);c.size!==0&&a.push(c)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(f){a.forEach(function(h){return h.forEach(function(d){return f.push(d)})})})},t.prototype.setSize=function(n){return Co(this,0,n)},t.prototype.map=function(n,a){var s=this;return this.withMutations(function(u){for(var c=0;c<s.size;c++)u.set(c,n.call(a,u.get(c),c,s))})},t.prototype.slice=function(n,a){var s=this.size;return vd(n,a,s)?this:Co(this,Gf(n,s),wd(a,s))},t.prototype.__iterator=function(n,a){var s=a?this.size:0,u=T4(this,a);return new we(function(){var c=u();return c===qh?Mn():er(n,a?--s:s++,c)})},t.prototype.__iterate=function(n,a){for(var s=a?this.size:0,u=T4(this,a),c;(c=u())!==qh&&n(c,a?--s:s++,this)!==!1;);return s},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Zh(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Op():(this.__ownerID=n,this.__altered=!1,this)},t}(sc);zi.isList=b1;var Sr=zi.prototype;Sr[E7]=!0;Sr[md]=Sr.remove;Sr.merge=Sr.concat;Sr.setIn=Iv;Sr.deleteIn=Sr.removeIn=Bv;Sr.update=Ov;Sr.updateIn=Dv;Sr.mergeIn=Mv;Sr.mergeDeepIn=Rv;Sr.withMutations=Id;Sr.wasAltered=Hv;Sr.asImmutable=Bd;Sr["@@transducer/init"]=Sr.asMutable=Td;Sr["@@transducer/step"]=function(e,t){return e.push(t)};Sr["@@transducer/result"]=function(e){return e.asImmutable()};var No=function(t,r){this.array=t,this.ownerID=r};No.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&Dn;if(a>=this.array.length)return new No([],t);var s=a===0,u;if(r>0){var c=this.array[a];if(u=c&&c.removeBefore(t,r-Ze,n),u===c&&s)return this}if(s&&!u)return this;var f=Of(this,t);if(!s)for(var h=0;h<a;h++)f.array[h]=void 0;return u&&(f.array[a]=u),f};No.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&Dn;if(a>=this.array.length)return this;var s;if(r>0){var u=this.array[a];if(s=u&&u.removeAfter(t,r-Ze,n),s===u&&a===this.array.length-1)return this}var c=Of(this,t);return c.array.splice(a+1),s&&(c.array[a]=s),c};var qh={};function T4(e,t){var r=e._origin,n=e._capacity,a=Jh(n),s=e._tail;return u(e._root,e._level,0);function u(h,d,y){return d===0?c(h,y):f(h,d,y)}function c(h,d){var y=d===a?s&&s.array:h&&h.array,_=d>r?0:r-d,w=n-d;return w>Ui&&(w=Ui),function(){if(_===w)return qh;var S=t?--w:_++;return y&&y[S]}}function f(h,d,y){var _,w=h&&h.array,S=y>r?0:r-y>>d,A=(n-y>>d)+1;return A>Ui&&(A=Ui),function(){for(;;){if(_){var E=_();if(E!==qh)return E;_=null}if(S===A)return qh;var x=t?--A:S++;_=u(w&&w[x],d-Ze,y+(x<<d))}}}}function Zh(e,t,r,n,a,s,u){var c=Object.create(Sr);return c.size=t-e,c._origin=e,c._capacity=t,c._level=r,c._root=n,c._tail=a,c.__ownerID=s,c.__hash=u,c.__altered=!1,c}var B4;function Op(){return B4||(B4=Zh(0,0,Ze))}function XB(e,t,r){if(t=zo(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(u){t<0?Co(u,t).set(0,r):Co(u,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,a=e._root,s=Sm();return t>=Jh(e._capacity)?n=Dm(n,e.__ownerID,0,t,r,s):a=Dm(a,e.__ownerID,e._level,t,r,s),s.value?e.__ownerID?(e._root=a,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Zh(e._origin,e._capacity,e._level,a,n):e}function Dm(e,t,r,n,a,s){var u=n>>>r&Dn,c=e&&u<e.array.length;if(!c&&a===void 0)return e;var f;if(r>0){var h=e&&e.array[u],d=Dm(h,t,r-Ze,n,a,s);return d===h?e:(f=Of(e,t),f.array[u]=d,f)}return c&&e.array[u]===a?e:(s&&Pi(s),f=Of(e,t),a===void 0&&u===f.array.length-1?f.array.pop():f.array[u]=a,f)}function Of(e,t){return t&&e&&t===e.ownerID?e:new No(e?e.array.slice():[],t)}function x7(e,t){if(t>=Jh(e._capacity))return e._tail;if(t<1<<e._level+Ze){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Dn],n-=Ze;return r}}function Co(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new lv,a=e._origin,s=e._capacity,u=a+t,c=r===void 0?s:r<0?s+r:a+r;if(u===a&&c===s)return e;if(u>=c)return e.clear();for(var f=e._level,h=e._root,d=0;u+d<0;)h=new No(h&&h.array.length?[void 0,h]:[],n),f+=Ze,d+=1<<f;d&&(u+=d,a+=d,c+=d,s+=d);for(var y=Jh(s),_=Jh(c);_>=1<<f+Ze;)h=new No(h&&h.array.length?[h]:[],n),f+=Ze;var w=e._tail,S=_<y?x7(e,c-1):_>y?new No([],n):w;if(w&&_>y&&u<s&&w.array.length){h=Of(h,n);for(var A=h,E=f;E>Ze;E-=Ze){var x=y>>>E&Dn;A=A.array[x]=Of(A.array[x],n)}A.array[y>>>Ze&Dn]=w}if(c<s&&(S=S&&S.removeAfter(n,0,c)),u>=_)u-=_,c-=_,f=Ze,h=null,S=S&&S.removeBefore(n,0,u);else if(u>a||_<y){for(d=0;h;){var L=u>>>f&Dn;if(L!==_>>>f&Dn)break;L&&(d+=(1<<f)*L),f-=Ze,h=h.array[L]}h&&u>a&&(h=h.removeBefore(n,f,u-d)),h&&_<y&&(h=h.removeAfter(n,f,_-d)),d&&(u-=d,c-=d)}return e.__ownerID?(e.size=c-u,e._origin=u,e._capacity=c,e._level=f,e._root=h,e._tail=S,e.__hash=void 0,e.__altered=!0,e):Zh(u,c,f,h,S)}function Jh(e){return e<Ui?0:e-1>>>Ze<<Ze}var ya=function(e){function t(r){return r==null?Dh():l1(r)?r:Dh().withMutations(function(n){var a=Fi(r);fi(a.size),a.forEach(function(s,u){return n.set(u,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,a){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:a},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Dh()},t.prototype.set=function(n,a){return D4(this,n,a)},t.prototype.remove=function(n){return D4(this,n,be)},t.prototype.__iterate=function(n,a){var s=this;return this._list.__iterate(function(u){return u&&n(u[1],u[0],s)},a)},t.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?Pv(a,s,n,this.__hash):this.size===0?Dh():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=s,this)},t}(Hs);ya.isOrderedMap=l1;ya.prototype[Zf]=!0;ya.prototype[md]=ya.prototype.remove;function Pv(e,t,r,n){var a=Object.create(ya.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var O4;function Dh(){return O4||(O4=Pv(ha(),Op()))}function D4(e,t,r){var n=e._map,a=e._list,s=n.get(t),u=s!==void 0,c,f;if(r===be){if(!u)return e;a.size>=Ui&&a.size>=n.size*2?(f=a.filter(function(h,d){return h!==void 0&&s!==d}),c=f.toKeyedSeq().map(function(h){return h[0]}).flip().toMap(),e.__ownerID&&(c.__ownerID=f.__ownerID=e.__ownerID)):(c=n.remove(t),f=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return e;c=n,f=a.set(s,[t,r])}else c=n.set(t,a.size),f=a.set(a.size,[t,r]);return e.__ownerID?(e.size=c.size,e._map=c,e._list=f,e.__hash=void 0,e.__altered=!0,e):Pv(c,f)}var S7="@@__IMMUTABLE_STACK__@@";function td(e){return!!(e&&e[S7])}var Od=function(e){function t(r){return r==null?sp():td(r)?r:sp().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,a){var s=this._head;for(n=zo(this,n);s&&n--;)s=s.next;return s?s.value:a},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,u=arguments.length-1;u>=0;u--)s={value:n[u],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mh(a,s)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&td(n))return n;fi(n.size);var a=this.size,s=this._head;return n.__iterate(function(u){a++,s={value:u,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mh(a,s)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):sp()},t.prototype.slice=function(n,a){if(vd(n,a,this.size))return this;var s=Gf(n,this.size),u=wd(a,this.size);if(u!==this.size)return e.prototype.slice.call(this,n,a);for(var c=this.size-s,f=this._head;s--;)f=f.next;return this.__ownerID?(this.size=c,this._head=f,this.__hash=void 0,this.__altered=!0,this):Mh(c,f)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Mh(this.size,this._head,n,this.__hash):this.size===0?sp():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,a){var s=this;if(a)return new Ju(this.toArray()).__iterate(function(f,h){return n(f,h,s)},a);for(var u=0,c=this._head;c&&n(c.value,u++,this)!==!1;)c=c.next;return u},t.prototype.__iterator=function(n,a){if(a)return new Ju(this.toArray()).__iterator(n,a);var s=0,u=this._head;return new we(function(){if(u){var c=u.value;return u=u.next,er(n,s++,c)}return Mn()})},t}(sc);Od.isStack=td;var Rn=Od.prototype;Rn[S7]=!0;Rn.shift=Rn.pop;Rn.unshift=Rn.push;Rn.unshiftAll=Rn.pushAll;Rn.withMutations=Id;Rn.wasAltered=Hv;Rn.asImmutable=Bd;Rn["@@transducer/init"]=Rn.asMutable=Td;Rn["@@transducer/step"]=function(e,t){return e.unshift(t)};Rn["@@transducer/result"]=function(e){return e.asImmutable()};function Mh(e,t,r,n){var a=Object.create(Rn);return a.size=e,a._head=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var M4;function sp(){return M4||(M4=Mh(0))}var C7="@@__IMMUTABLE_SET__@@";function Dd(e){return!!(e&&e[C7])}function _1(e){return Dd(e)&&di(e)}function kv(e,t){if(e===t)return!0;if(!bn(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||Ke(e)!==Ke(t)||Zr(e)!==Zr(t)||di(e)!==di(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!Xf(e);if(di(e)){var n=e.entries();return t.every(function(f,h){var d=n.next().value;return d&&Dr(d[1],f)&&(r||Dr(d[0],h))})&&n.next().done}var a=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{a=!0;var s=e;e=t,t=s}var u=!0,c=t.__iterate(function(f,h){if(r?!e.has(f):a?!Dr(f,e.get(h,be)):!Dr(e.get(h,be),f))return u=!1,!1});return u&&e.size===c}function oc(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function zp(e){if(!e||typeof e!="object")return e;if(!bn(e)){if(!jo(e))return e;e=_n(e)}if(Ke(e)){var t={};return e.__iterate(function(n,a){t[a]=zp(n)}),t}var r=[];return e.__iterate(function(n){r.push(zp(n))}),r}var el=function(e){function t(r){return r==null?Rh():Dd(r)&&!di(r)?r:Rh().withMutations(function(n){var a=e(r);fi(a.size),a.forEach(function(s){return n.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Fi(n).keySeq())},t.intersect=function(n){return n=tr(n).toArray(),n.length?Jr.intersect.apply(t(n.pop()),n):Rh()},t.union=function(n){return n=tr(n).toArray(),n.length?Jr.union.apply(t(n.pop()),n):Rh()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return op(this,this._map.set(n,n))},t.prototype.remove=function(n){return op(this,this._map.remove(n))},t.prototype.clear=function(){return op(this,this._map.clear())},t.prototype.map=function(n,a){var s=this,u=!1,c=op(this,this._map.mapEntries(function(f){var h=f[1],d=n.call(a,h,h,s);return d!==h&&(u=!0),[d,d]},a));return u?c:this},t.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var u=0;u<n.length;u++)typeof n[u]=="string"?s.add(n[u]):e(n[u]).forEach(function(c){return s.add(c)})})},t.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(u){return e(u)});var s=[];return this.forEach(function(u){n.every(function(c){return c.includes(u)})||s.push(u)}),this.withMutations(function(u){s.forEach(function(c){u.remove(c)})})},t.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(u){return e(u)});var s=[];return this.forEach(function(u){n.some(function(c){return c.includes(u)})&&s.push(u)}),this.withMutations(function(u){s.forEach(function(c){u.remove(c)})})},t.prototype.sort=function(n){return tc(If(this,n))},t.prototype.sortBy=function(n,a){return tc(If(this,a,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,a){var s=this;return this._map.__iterate(function(u){return n(u,u,s)},a)},t.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},t}(Wf);el.isSet=Dd;var Jr=el.prototype;Jr[C7]=!0;Jr[md]=Jr.remove;Jr.merge=Jr.concat=Jr.union;Jr.withMutations=Id;Jr.asImmutable=Bd;Jr["@@transducer/init"]=Jr.asMutable=Td;Jr["@@transducer/step"]=function(e,t){return e.add(t)};Jr["@@transducer/result"]=function(e){return e.asImmutable()};Jr.__empty=Rh;Jr.__make=I7;function op(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function I7(e,t){var r=Object.create(Jr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var R4;function Rh(){return R4||(R4=I7(ha()))}var qv=function(e){function t(r,n,a){if(!(this instanceof t))return new t(r,n,a);if(Av(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(_b)return _b;_b=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,a){return this.has(n)?this._start+zo(this,n)*this._step:a},t.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},t.prototype.slice=function(n,a){return vd(n,a,this.size)?this:(n=Gf(n,this.size),a=wd(a,this.size),a<=n?new t(0,0):new t(this.get(n,this._end),this.get(a,this._end),this._step))},t.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,a){for(var s=this.size,u=this._step,c=a?this._start+(s-1)*u:this._start,f=0;f!==s&&n(c,a?s-++f:f++,this)!==!1;)c+=a?-u:u;return f},t.prototype.__iterator=function(n,a){var s=this.size,u=this._step,c=a?this._start+(s-1)*u:this._start,f=0;return new we(function(){if(f===s)return Mn();var h=c;return c+=a?-u:u,er(n,a?s-++f:f++,h)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:kv(this,n)},t}(Ki),_b;function m1(e,t,r){for(var n=f7(t),a=0;a!==n.length;)if(e=g1(e,n[a++],be),e===be)return r;return e}function T7(e,t){return m1(this,e,t)}function zv(e,t){return m1(e,t,be)!==be}function WB(e){return zv(this,e)}function B7(){fi(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}tr.isIterable=bn;tr.isKeyed=Ke;tr.isIndexed=Zr;tr.isAssociative=Xf;tr.isOrdered=di;tr.Iterator=we;oc(tr,{toArray:function(){fi(this.size);var t=new Array(this.size||0),r=Ke(this),n=0;return this.__iterate(function(a,s){t[n++]=r?[s,a]:a}),t},toIndexedSeq:function(){return new e7(this)},toJS:function(){return zp(this)},toKeyedSeq:function(){return new d1(this,!0)},toMap:function(){return Hs(this.toKeyedSeq())},toObject:B7,toOrderedMap:function(){return ya(this.toKeyedSeq())},toOrderedSet:function(){return tc(Ke(this)?this.valueSeq():this)},toSet:function(){return el(Ke(this)?this.valueSeq():this)},toSetSeq:function(){return new r7(this)},toSeq:function(){return Zr(this)?this.toIndexedSeq():Ke(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Od(Ke(this)?this.valueSeq():this)},toList:function(){return zi(Ke(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return je(this,LB(this,t))},includes:function(t){return this.some(function(r){return Dr(r,t)})},entries:function(){return this.__iterator(qi)},every:function(t,r){fi(this.size);var n=!0;return this.__iterate(function(a,s,u){if(!t.call(r,a,s,u))return n=!1,!1}),n},filter:function(t,r){return je(this,s7(this,t,r,!0))},partition:function(t,r){return RB(this,t,r)},find:function(t,r,n){var a=this.findEntry(t,r);return a?a[1]:n},forEach:function(t,r){return fi(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){fi(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=t,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator(Ed)},map:function(t,r){return je(this,a7(this,t,r))},reduce:function(t,r,n){return H4(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return H4(this,t,r,n,arguments.length<2,!0)},reverse:function(){return je(this,_v(this,!0))},slice:function(t,r){return je(this,mv(this,t,r,!0))},some:function(t,r){fi(this.size);var n=!1;return this.__iterate(function(a,s,u){if(t.call(r,a,s,u))return n=!0,!1}),n},sort:function(t){return je(this,If(this,t))},values:function(){return this.__iterator(ga)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Cf(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return DB(this,t,r)},equals:function(t){return kv(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Ju(t._cache);var r=t.toSeq().map(JB).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(mb(t),r)},findEntry:function(t,r,n){var a=n;return this.__iterate(function(s,u,c){if(t.call(r,s,u,c))return a=[u,s],!1}),a},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(Fx,null,t)},flatMap:function(t,r){return je(this,NB(this,t,r))},flatten:function(t){return je(this,u7(this,t,!0))},fromEntrySeq:function(){return new n7(this)},get:function(t,r){return this.find(function(n,a){return Dr(a,t)},void 0,r)},getIn:T7,groupBy:function(t,r){return MB(this,t,r)},has:function(t){return this.get(t,be)!==be},hasIn:WB,isSubset:function(t){return t=typeof t.includes=="function"?t:tr(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:tr(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Dr(r,t)})},keySeq:function(){return this.toSeq().map(ZB).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ip(this,t)},maxBy:function(t,r){return ip(this,r,t)},min:function(t){return ip(this,t?L4(t):U4)},minBy:function(t,r){return ip(this,r?L4(r):U4,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return je(this,o7(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(mb(t),r)},sortBy:function(t,r){return je(this,If(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return je(this,HB(this,t,r))},takeUntil:function(t,r){return this.takeWhile(mb(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=tO(this))}});var mn=tr.prototype;mn[Yx]=!0;mn[c1]=mn.values;mn.toJSON=mn.toArray;mn.__toStringMapper=Gh;mn.inspect=mn.toSource=function(){return this.toString()};mn.chain=mn.flatMap;mn.contains=mn.includes;oc(Fi,{flip:function(){return je(this,i7(this))},mapEntries:function(t,r){var n=this,a=0;return je(this,this.toSeq().map(function(s,u){return t.call(r,[u,s],a++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return je(this,this.toSeq().flip().map(function(a,s){return t.call(r,a,s,n)}).flip())}});var Md=Fi.prototype;Md[Vx]=!0;Md[c1]=mn.entries;Md.toJSON=B7;Md.__toStringMapper=function(e,t){return Gh(t)+": "+Gh(e)};oc(sc,{toKeyedSeq:function(){return new d1(this,!1)},filter:function(t,r){return je(this,s7(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return je(this,_v(this,!1))},slice:function(t,r){return je(this,mv(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=Gf(t,t<0?this.count():this.size);var a=this.slice(0,t);return je(this,n===1?a:a.concat(Pa(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return je(this,u7(this,t,!1))},get:function(t,r){return t=zo(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,a){return a===t},void 0,r)},has:function(t){return t=zo(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return je(this,UB(this,t))},interleave:function(){var t=[this].concat(Pa(arguments)),r=ap(this.toSeq(),Ki.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),je(this,n)},keySeq:function(){return qv(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return je(this,o7(this,t,r,!1))},zip:function(){var t=[this].concat(Pa(arguments));return je(this,ap(this,N4,t))},zipAll:function(){var t=[this].concat(Pa(arguments));return je(this,ap(this,N4,t,!0))},zipWith:function(t){var r=Pa(arguments);return r[0]=this,je(this,ap(this,t,r))}});var rl=sc.prototype;rl[$x]=!0;rl[Zf]=!0;oc(Wf,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Df=Wf.prototype;Df.has=mn.includes;Df.contains=Df.includes;Df.keys=Df.values;oc($o,Md);oc(Ki,rl);oc(tl,Df);function H4(e,t,r,n,a,s){return fi(e.size),e.__iterate(function(u,c,f){a?(a=!1,r=u):r=t.call(n,r,u,c,f)},s),r}function ZB(e,t){return t}function JB(e,t){return[t,e]}function mb(e){return function(){return!e.apply(this,arguments)}}function L4(e){return function(){return-e.apply(this,arguments)}}function N4(){return Pa(arguments)}function U4(e,t){return e<t?1:e>t?-1:0}function tO(e){if(e.size===1/0)return 0;var t=di(e),r=Ke(e),n=t?1:0,a=e.__iterate(r?t?function(s,u){n=31*n+P4(On(s),On(u))|0}:function(s,u){n=n+P4(On(s),On(u))|0}:t?function(s){n=31*n+On(s)|0}:function(s){n=n+On(s)|0});return eO(a,n)}function eO(e,t){return t=uh(t,3432918353),t=uh(t<<15|t>>>-15,461845907),t=uh(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=uh(t^t>>>16,2246822507),t=uh(t^t>>>13,3266489909),t=h1(t^t>>>16),t}function P4(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var tc=function(e){function t(r){return r==null?Mm():_1(r)?r:Mm().withMutations(function(n){var a=Wf(r);fi(a.size),a.forEach(function(s){return n.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Fi(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(el);tc.isOrderedSet=_1;var uc=tc.prototype;uc[Zf]=!0;uc.zip=rl.zip;uc.zipWith=rl.zipWith;uc.zipAll=rl.zipAll;uc.__empty=Mm;uc.__make=O7;function O7(e,t){var r=Object.create(uc);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var k4;function Mm(){return k4||(k4=O7(Dh()))}var D7={LeftThenRight:-1,RightThenLeft:1};function rO(e){if(Vo(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(gi(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Ar=function(t,r){var n;rO(t);var a=function(c){var f=this;if(c instanceof a)return c;if(!(this instanceof a))return new a(c);if(!n){n=!0;var h=Object.keys(t),d=s._indices={};s._name=r,s._keys=h,s._defaultValues=t;for(var y=0;y<h.length;y++){var _=h[y];d[_]=y,s[_]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Fv(this)+' with property "'+_+'" since that property name is part of the Record API.'):nO(s,_)}}return this.__ownerID=void 0,this._values=zi().withMutations(function(w){w.setSize(f._keys.length),Fi(c).forEach(function(S,A){w.set(f._indices[A],S===f._defaultValues[A]?void 0:S)})}),this},s=a.prototype=Object.create(Xe);return s.constructor=a,r&&(a.displayName=r),a};Ar.prototype.toString=function(){for(var t=Fv(this)+" { ",r=this._keys,n,a=0,s=r.length;a!==s;a++)n=r[a],t+=(a?", ":"")+n+": "+Gh(this.get(n));return t+" }"};Ar.prototype.equals=function(t){return this===t||Vo(t)&&Mf(this).equals(Mf(t))};Ar.prototype.hashCode=function(){return Mf(this).hashCode()};Ar.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Ar.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],a=this._values.get(n);return a===void 0?this._defaultValues[t]:a};Ar.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return jv(this,n)}return this};Ar.prototype.remove=function(t){return this.set(t)};Ar.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:jv(this,t)};Ar.prototype.wasAltered=function(){return this._values.wasAltered()};Ar.prototype.toSeq=function(){return Mf(this)};Ar.prototype.toJS=function(){return zp(this)};Ar.prototype.entries=function(){return this.__iterator(qi)};Ar.prototype.__iterator=function(t,r){return Mf(this).__iterator(t,r)};Ar.prototype.__iterate=function(t,r){return Mf(this).__iterate(t,r)};Ar.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?jv(this,r,t):(this.__ownerID=t,this._values=r,this)};Ar.isRecord=Vo;Ar.getDescriptiveName=Fv;var Xe=Ar.prototype;Xe[Xx]=!0;Xe[md]=Xe.remove;Xe.deleteIn=Xe.removeIn=Bv;Xe.getIn=T7;Xe.hasIn=mn.hasIn;Xe.merge=h7;Xe.mergeWith=d7;Xe.mergeIn=Mv;Xe.mergeDeep=m7;Xe.mergeDeepWith=v7;Xe.mergeDeepIn=Rv;Xe.setIn=Iv;Xe.update=Ov;Xe.updateIn=Dv;Xe.withMutations=Id;Xe.asMutable=Td;Xe.asImmutable=Bd;Xe[c1]=Xe.entries;Xe.toJSON=Xe.toObject=mn.toObject;Xe.inspect=Xe.toSource=function(){return this.toString()};function jv(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Fv(e){return e.constructor.displayName||e.constructor.name||"Record"}function Mf(e){return yv(e._keys.map(function(t){return[t,e.get(t)]}))}function nO(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Av(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var M7=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(vb)return vb;vb=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,a){return this.has(n)?this._value:a},t.prototype.includes=function(n){return Dr(this._value,n)},t.prototype.slice=function(n,a){var s=this.size;return vd(n,a,s)?this:new t(this._value,wd(a,s)-Gf(n,s))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Dr(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Dr(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,a){for(var s=this.size,u=0;u!==s&&n(this._value,a?s-++u:u++,this)!==!1;);return u},t.prototype.__iterator=function(n,a){var s=this,u=this.size,c=0;return new we(function(){return c===u?Mn():er(n,a?u-++c:c++,s._value)})},t.prototype.equals=function(n){return n instanceof t?Dr(this._value,n._value):kv(this,n)},t}(Ki),vb;function R7(e,t){return H7([],t||iO,e,"",t&&t.length>2?[]:void 0,{"":e})}function H7(e,t,r,n,a,s){if(typeof r!="string"&&!gi(r)&&(dv(r)||hv(r)||p1(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),a&&n!==""&&a.push(n);var u=t.call(s,n,_n(r).map(function(c,f){return H7(e,t,c,f,a,r)}),a&&a.slice());return e.pop(),a&&a.pop(),u}return r}function iO(e,t){return Zr(t)?t.toList():Ke(t)?t.toMap():t.toSet()}var L7="4.3.7",aO={version:L7,Collection:tr,Iterable:tr,Seq:_n,Map:Hs,OrderedMap:ya,List:zi,Stack:Od,Set:el,OrderedSet:tc,PairSorting:D7,Record:Ar,Range:qv,Repeat:M7,is:Dr,fromJS:R7,hash:On,isImmutable:gi,isCollection:bn,isKeyed:Ke,isIndexed:Zr,isAssociative:Xf,isOrdered:di,isValueObject:kp,isPlainObject:p1,isSeq:Ad,isList:b1,isMap:xd,isOrderedMap:l1,isStack:td,isSet:Dd,isOrderedSet:_1,isRecord:Vo,get:g1,getIn:m1,has:Ev,hasIn:zv,merge:g7,mergeDeep:b7,mergeWith:y7,mergeDeepWith:_7,remove:xv,removeIn:Tv,set:Sv,setIn:Cv,update:y1,updateIn:Go},sO=tr;const oO=Object.freeze(Object.defineProperty({__proto__:null,Collection:tr,Iterable:sO,List:zi,Map:Hs,OrderedMap:ya,OrderedSet:tc,PairSorting:D7,Range:qv,Record:Ar,Repeat:M7,Seq:_n,Set:el,Stack:Od,default:aO,fromJS:R7,get:g1,getIn:m1,has:Ev,hasIn:zv,hash:On,is:Dr,isAssociative:Xf,isCollection:bn,isImmutable:gi,isIndexed:Zr,isKeyed:Ke,isList:b1,isMap:xd,isOrdered:di,isOrderedMap:l1,isOrderedSet:_1,isPlainObject:p1,isRecord:Vo,isSeq:Ad,isSet:Dd,isStack:td,isValueObject:kp,merge:g7,mergeDeep:b7,mergeDeepWith:_7,mergeWith:y7,remove:xv,removeIn:Tv,set:Sv,setIn:Cv,update:y1,updateIn:Go,version:L7},Symbol.toStringTag,{value:"Module"})),Ls=wx(oO);var wb={},Ab={},q4;function uO(){return q4||(q4=1,Object.defineProperty(Ab,"__esModule",{value:!0})),Ab}var Su={},Eb,z4;function N7(){return z4||(z4=1,Eb=function e(t){Object.freeze(t);var r=typeof t=="function",n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach(function(a){n.call(t,a)&&(!r||a!=="caller"&&a!=="callee"&&a!=="arguments")&&t[a]!==null&&(typeof t[a]=="object"||typeof t[a]=="function")&&!Object.isFrozen(t[a])&&e(t[a])}),t}),Eb}var Wc={},j4;function U7(){if(j4)return Wc;j4=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.createConfig=r,Wc.predefined=void 0;var e=t(N7());function t(s){return s&&s.__esModule?s:{default:s}}function r(s){return(0,e.default)(s)}const n=r({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),a=r({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});return Wc.predefined={LINA:n,AGGRON4:a},Wc}var F4;function P7(){if(F4)return Su;F4=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.assertHashType=u,Su.getConfig=d,Su.initializeConfig=y,Su.validateConfig=f;var e=r(N7()),t=U7();function r(_){return _&&_.__esModule?_:{default:_}}function n(_,w){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(w))throw new Error(`${_} must be a hex string!`)}function a(_,w){if(n(_,w),w.length!==66)throw new Error(`${_} must be a hex string of 66 characters long!`)}function s(_,w){if(w!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(w))throw new Error(`${_} must be a hex integer!`)}function u(_,w){if(w!=="type"&&w!=="data"&&w!=="data1"&&w!=="data2")throw new Error(`${_} must one of type, data, data1, data2!`)}function c(_,w="variable"){if(!_)throw new Error(`${w} is not valid`)}function f(_){c(typeof _.SCRIPTS=="object"&&_.SCRIPTS!=null,"config.SCRIPT");for(const w of Object.keys(_.SCRIPTS)){const S=_.SCRIPTS[w];c(S==null?void 0:S.CODE_HASH),a(`SCRIPTS.${w}.CODE_HASH`,S.CODE_HASH),u(`SCRIPTS.${w}.HASH_TYPE`,S.HASH_TYPE),a(`SCRIPTS.${w}.TX_HASH`,S.TX_HASH),s(`SCRIPTS.${w}.INDEX`,S.INDEX);const A=S.DEP_TYPE;if(A!=="depGroup"&&A!=="code")throw new Error(`SCRIPTS.${w}.DEP_TYPE must either be depGroup or code!`);const E=S.SHORT_ID;if(E!=null&&typeof E!="number")throw new Error("SHORT_ID must be a number!")}}let h=t.predefined.LINA;function d(){return h}function y(_){f(_),h=(0,e.default)(_)}return Su}var ch={},K4;function cO(){if(K4)return ch;K4=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.findConfigByScript=t,ch.nameOfScript=r;var e=P7();function t(n,a){const s=a||(0,e.getConfig)().SCRIPTS;return Object.values(s).find(u=>(u==null?void 0:u.CODE_HASH)===n.codeHash&&(u==null?void 0:u.HASH_TYPE)===n.hashType)}function r(n,a){const s=a||(0,e.getConfig)().SCRIPTS,u=Object.entries(s).find(([,c])=>(c==null?void 0:c.CODE_HASH)===n.codeHash&&(c==null?void 0:c.HASH_TYPE)===n.hashType);if(u)return u[0]}return ch}var zn={},Q4;function fO(){if(Q4)return zn;Q4=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.SIGHASH_OUTPUT_LOC=zn.SIGHASH_GROUP_OUTPUT_LOC=zn.MULTISIG_OUTPUT_LOC=zn.MULTISIG_GROUP_OUTPUT_LOC=zn.DAO_OUTPUT_LOC=void 0,zn.generateGenesisScriptConfigs=u;var e=zr();const t=zn.SIGHASH_OUTPUT_LOC=[0,1],r=zn.MULTISIG_OUTPUT_LOC=[0,4],n=zn.DAO_OUTPUT_LOC=[0,2],a=zn.SIGHASH_GROUP_OUTPUT_LOC=[1,0],s=zn.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function u(d){if(!d||Number(d.header.number)!==0)throw new Error("The block must be a genesis block");const y=d.transactions;return{SECP256K1_BLAKE160:{...c({transaction:y[t[0]],outputIndex:t[1],depGroupTransaction:y[a[0]],depGroupOutputIndex:a[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...c({transaction:y[r[0]],outputIndex:r[1],depGroupTransaction:y[s[0]],depGroupOutputIndex:s[1]}),SHORT_ID:1},DAO:c({transaction:y[n[0]],outputIndex:n[1]})}}function c(d){var y;const{transaction:_,outputIndex:w}=d,S=e.utils.computeScriptHash(f((y=_.outputs[w])===null||y===void 0?void 0:y.type));if("depGroupTransaction"in d){const{depGroupOutputIndex:A,depGroupTransaction:E}=d;return{HASH_TYPE:"type",CODE_HASH:S,DEP_TYPE:"depGroup",TX_HASH:f(E.hash),INDEX:h(A)}}return{HASH_TYPE:"type",CODE_HASH:S,DEP_TYPE:"code",INDEX:h(w),TX_HASH:f(_.hash)}}function f(d){if(d==null)throw new Error("The block must be a genesis block");return d}function h(d){return`0x${d.toString(16)}`}return zn}var Zc={},Y4;function lO(){if(Y4)return Zc;Y4=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.createLatestTypeIdResolver=t,Zc.createRpcResolver=e,Zc.refreshScriptConfigs=r;function e(s){return t(async f=>{const h=await s.createBatchRequest(f.map(d=>["getTransaction",d])).exec();return n(f,h,(d,y)=>{if(!(y!=null&&y.transaction))throw new Error(`Cannot find transaction ${d}`);return y.transaction})},async f=>(await s.createBatchRequest(f.map(d=>["getCells",{script:d,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"])).exec()).map(d=>d.objects[0]))}function t(s,u){return async c=>{const f=await s(c.map(y=>y.txHash)),h=n(c,f,(y,_)=>(a(y),a(_,`Cannot find the OutPoint ${y.txHash}#${y.index}`),_.outputs[Number(y.index)].type)),d=await u(h.filter(Boolean));return n(c,h,(y,_)=>{if(a(y),!_)return y;const[w]=d.splice(0,1);return w.outPoint})}}async function r(s,{resolve:u,skip:c=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const f=Object.entries(s).filter(([_,w])=>!c.includes(_)&&(w==null?void 0:w.HASH_TYPE)==="type"),h=f.map(([_,w])=>({txHash:w.TX_HASH,index:w.INDEX})),d=await u(h),y=Object.fromEntries(n(f,d,(_,w)=>{a(_);const[S,A]=_;return a(w,`Refreshing failed, cannot load config of ${S}, please check whether the scriptConfig is correct`),[S,{...A,TX_HASH:w.txHash,INDEX:w.index}]}));return Object.assign({},s,y)}function n(s,u,c){return s.map((f,h)=>c(s[h],u[h]))}function a(s,u="Not nullable"){if(s==null)throw new Error(u)}return Zc}var V4;function Qn(){return V4||(V4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(e,"createConfig",{enumerable:!0,get:function(){return s.createConfig}}),Object.defineProperty(e,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return c.createLatestTypeIdResolver}}),Object.defineProperty(e,"createRpcResolver",{enumerable:!0,get:function(){return c.createRpcResolver}}),Object.defineProperty(e,"findConfigByScript",{enumerable:!0,get:function(){return a.findConfigByScript}}),Object.defineProperty(e,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return u.generateGenesisScriptConfigs}}),Object.defineProperty(e,"getConfig",{enumerable:!0,get:function(){return n.getConfig}}),e.helpers=void 0,Object.defineProperty(e,"initializeConfig",{enumerable:!0,get:function(){return n.initializeConfig}}),Object.defineProperty(e,"nameOfScript",{enumerable:!0,get:function(){return a.nameOfScript}}),Object.defineProperty(e,"predefined",{enumerable:!0,get:function(){return s.predefined}}),Object.defineProperty(e,"refreshScriptConfigs",{enumerable:!0,get:function(){return c.refreshScriptConfigs}}),Object.defineProperty(e,"validateConfig",{enumerable:!0,get:function(){return n.validateConfig}});var r=uO();Object.keys(r).forEach(function(d){d==="default"||d==="__esModule"||Object.prototype.hasOwnProperty.call(t,d)||d in e&&e[d]===r[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return r[d]}})});var n=P7(),a=h(cO());e.helpers=a;var s=U7(),u=fO(),c=lO();function f(d){if(typeof WeakMap!="function")return null;var y=new WeakMap,_=new WeakMap;return(f=function(w){return w?_:y})(d)}function h(d,y){if(d&&d.__esModule)return d;if(d===null||typeof d!="object"&&typeof d!="function")return{default:d};var _=f(y);if(_&&_.has(d))return _.get(d);var w={__proto__:null},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in d)if(A!=="default"&&{}.hasOwnProperty.call(d,A)){var E=S?Object.getOwnPropertyDescriptor(d,A):null;E&&(E.get||E.set)?Object.defineProperty(w,A,E):w[A]=d[A]}return w.default=d,_&&_.set(d,w),w}}(wb)),wb}var ai={},$4;function hO(){if($4)return ai;$4=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.ADDRESS_FORMAT_SHORT=ai.ADDRESS_FORMAT_FULLTYPE=ai.ADDRESS_FORMAT_FULLDATA=ai.ADDRESS_FORMAT_FULL=void 0,ai.parseDeprecatedCkb2019Address=d,ai.parseFullFormatAddress=h;var e=zr(),t=wr(),r=Qn(),n=u1();const a=1023,s=ai.ADDRESS_FORMAT_FULL=0,u=ai.ADDRESS_FORMAT_SHORT=1,c=ai.ADDRESS_FORMAT_FULLDATA=2,f=ai.ADDRESS_FORMAT_FULLTYPE=4;function h(y,{config:_}){_=_||(0,r.getConfig)();const{words:w,prefix:S}=n.bech32m.decode(y,a);if(S!==_.PREFIX)throw Error(`Invalid prefix! Expected: ${_.PREFIX}, actual: ${S}`);const[A,...E]=n.bech32m.fromWords(w);if(A!==s)throw new Error("Invalid address format type");if(E.length<33)throw new Error("Invalid payload length, too short!");const x=t.bytes.hexify(E.slice(0,32)),L=e.blockchain.HashType.unpack(E.slice(32,33)),U=t.bytes.hexify(E.slice(33));return{codeHash:x,hashType:L,args:U}}function d(y,{config:_}){_=_||(0,r.getConfig)();const{prefix:w,words:S}=n.bech32.decode(y,a);if(w!==_.PREFIX)throw Error(`Invalid prefix! Expected: ${_.PREFIX}, actual: ${w}`);const[A,...E]=n.bech32.fromWords(S);switch(A){case u:{const[x,...L]=E;if(L.length!==20)throw Error("Invalid payload length!");const U=Object.values(_.SCRIPTS).find(O=>O&&O.SHORT_ID===x);if(!U)throw Error(`Invalid code hash index: ${x}!`);return{codeHash:U.CODE_HASH,hashType:U.HASH_TYPE,args:t.bytes.hexify(L)}}case c:{if(E.length<32)throw Error("Invalid payload length!");return{codeHash:t.bytes.hexify(E.slice(0,32)),hashType:"data",args:t.bytes.hexify(E.slice(32))}}case f:{if(E.length<32)throw Error("Invalid payload length!");return{codeHash:t.bytes.hexify(E.slice(0,32)),hashType:"type",args:t.bytes.hexify(E.slice(32))}}}throw Error(`Invalid payload format type: ${A}`)}return ai}var up={},G4;function dO(){if(G4)return up;G4=1,Object.defineProperty(up,"__esModule",{value:!0}),up.hexToByteArray=e;function e(t){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error("Invalid hex string!");t.startsWith("0x")&&(t=t.slice(2));const r=[];for(;t.length>=2;)r.push(parseInt(t.slice(0,2),16)),t=t.slice(2);return r}return up}var cp={},X4;function pO(){if(X4)return cp;X4=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.refreshTypeIdCellDeps=e;async function e(t,{resolve:r}){const n=t.cellDeps.map(({outPoint:s})=>s).toArray(),a=await r(n);return t.update("cellDeps",s=>s.map((u,c)=>({...u,outPoint:a[c]})))}return cp}var xb={},fh={},W4;function v1(){if(W4)return fh;W4=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.createModelHelper=r,fh.defaultDeepClone=n;var e=wr(),t=$f();function r(a){return{create:s=>a.unpack(a.pack(s)),hash:s=>e.bytes.bytify((0,t.ckbHash)(a.pack(s))),equals:(s,u)=>e.bytes.equal(a.pack(s),a.pack(u)),clone:n}}function n(a){const s=typeof a;if(s==="number"||s==="string"||s==="boolean"||s==="bigint"||a==null)return a;if(Array.isArray(a))return a.map(n);if(s==="object")return Object.entries(a).reduce((u,[c,f])=>Object.assign(u,{[c]:n(f)}),{});throw new Error("Cannot clone the value: "+String(a))}return fh}var lh={},hh={},Z4;function k7(){if(Z4)return hh;Z4=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.scriptHelper=void 0;var e=zr(),t=Qn(),r=Yn(),n=v1();function a(s){if(s.startsWith("ckb"))return(0,r.parseAddress)(s,{config:t.predefined.LINA});if(s.startsWith("ckt"))return(0,r.parseAddress)(s,{config:t.predefined.AGGRON4});throw new Error(`The address prefix ${s} is unknown`)}return hh.scriptHelper=(0,n.createModelHelper)({pack:s=>e.blockchain.Script.pack(typeof s=="string"?a(s):s),unpack:s=>e.blockchain.Script.unpack(s)}),hh}var dh={},J4;function q7(){if(J4)return dh;J4=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.outPointHelper=void 0;var e=zr(),t=v1();return dh.outPointHelper=(0,t.createModelHelper)(e.blockchain.OutPoint),dh}var t8;function gO(){if(t8)return lh;t8=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.cellHelper=void 0;var e=v1(),t=zr(),r=k7(),n=en(),a=wr(),s=o1(),u=q7(),c=Yn();function f(d){return!d||typeof d!="object"?!1:"lock"in d}const h=(0,s.table)({cellOutput:t.blockchain.CellOutput,data:t.blockchain.Bytes,outPoint:(0,s.option)(t.blockchain.OutPoint)},["cellOutput","data","outPoint"]);return lh.cellHelper=(0,e.createModelHelper)({pack:d=>{const y=f(d)?{cellOutput:{capacity:n.BI.from(d.capacity||"0x0").toHexString(),lock:r.scriptHelper.create(d.lock),type:d.type&&r.scriptHelper.create(d.type)},outPoint:d.outPoint&&u.outPointHelper.create(d.outPoint),data:a.bytes.hexify(d.data||"0x")}:d;return n.BI.from(y.cellOutput.capacity).eq(0)&&(y.cellOutput.capacity=(0,c.minimalCellCapacityCompatible)(y).toHexString()),h.pack(y)},unpack:d=>h.unpack(d)}),lh}var e8;function yO(){return e8||(e8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cellHelper",{enumerable:!0,get:function(){return r.cellHelper}}),Object.defineProperty(e,"createModelHelper",{enumerable:!0,get:function(){return t.createModelHelper}}),Object.defineProperty(e,"outPointHelper",{enumerable:!0,get:function(){return a.outPointHelper}}),Object.defineProperty(e,"scriptHelper",{enumerable:!0,get:function(){return n.scriptHelper}});var t=v1(),r=gO(),n=k7(),a=q7()}(xb)),xb}var r8;function Yn(){return r8||(r8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};e.addressToScript=e.TransactionSkeleton=void 0,e.createTransactionFromSkeleton=D,e.createTransactionSkeleton=B,e.encodeToAddress=C,e.encodeToConfigAddress=p,e.generateAddress=X,e.generateSecp256k1Blake160Address=I,e.generateSecp256k1Blake160MultisigAddress=M,e.locateCellDep=P,e.minimalCellCapacity=O,e.minimalCellCapacityCompatible=H,e.minimalScriptCapacity=x,e.minimalScriptCapacityCompatible=U,e.objectToTransactionSkeleton=Y,e.parseAddress=m,Object.defineProperty(e,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return _.refreshTypeIdCellDeps}}),e.scriptToAddress=void 0,e.sealTransaction=b,e.transactionSkeletonToObject=R;var r=wr(),n=zr(),a=u1(),s=Ls,u=Qn(),c=en(),f=hO(),h=dO(),d=jx(),y=_d(),_=pO(),w=yO();Object.keys(w).forEach(function(Q){Q==="default"||Q==="__esModule"||Object.prototype.hasOwnProperty.call(t,Q)||Q in e&&e[Q]===w[Q]||Object.defineProperty(e,Q,{enumerable:!0,get:function(){return w[Q]}})});const{bytify:S,hexify:A}=r.bytes,E=1023;function x(Q,{validate:W=!0}={}){const J=U(Q,{validate:W});return BigInt(J.toString())}const L=1e8;function U(Q,{validate:W=!0}={}){W&&d.validators.ValidateScript(Q);let J=0;return J+=S(Q.codeHash).length,J+=S(Q.args).length,J+=1,c.BI.from(J).mul(L)}function O(Q,{validate:W=!0}={}){const J=H(Q,{validate:W});return BigInt(J.toString())}function H(Q,{validate:W=!0}={}){W&&n.blockchain.CellOutput.pack(Q.cellOutput);let J=8;return J+=S(Q.cellOutput.lock.codeHash).length,J+=S(Q.cellOutput.lock.args).length,J+=1,Q.cellOutput.type&&(J+=S(Q.cellOutput.type.codeHash).length,J+=S(Q.cellOutput.type.args).length,J+=1),Q.data&&(J+=S(Q.data).length),c.BI.from(J).mul(L)}function P(Q,{config:W=void 0}={}){W=W||(0,u.getConfig)();const J=Object.values(W.SCRIPTS).find(G=>G&&G.CODE_HASH===Q.codeHash&&G.HASH_TYPE===Q.hashType);return J?{depType:J.DEP_TYPE,outPoint:{txHash:J.TX_HASH,index:J.INDEX}}:null}let q=!1;const j=2,F=4;function X(Q,{config:W=void 0}={}){W=W||(0,u.getConfig)(),q||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),q=!0),d.validators.ValidateScript(Q);const J=Object.values(W.SCRIPTS).find(it=>it&&it.CODE_HASH===Q.codeHash&&it.HASH_TYPE===Q.hashType),G=[];if(J&&J.SHORT_ID!==void 0)G.push(1,J.SHORT_ID),G.push(...(0,h.hexToByteArray)(Q.args));else{if(Q.hashType==="type")G.push(F);else if(Q.hashType==="data")G.push(j);else throw new Error(`Invalid hashType ${Q.hashType}`);G.push(...(0,h.hexToByteArray)(Q.codeHash)),G.push(...(0,h.hexToByteArray)(Q.args))}const et=a.bech32.toWords(G);return a.bech32.encode(W.PREFIX,et,E)}e.scriptToAddress=X;function z(Q,W,{config:J=void 0}={}){J=J||(0,u.getConfig)();const G=J.SCRIPTS[W];if(!G){const it=Object.keys(J.SCRIPTS);throw new Error(`Invalid script type: ${W}, only support: ${it}`)}const et={codeHash:G.CODE_HASH,hashType:G.HASH_TYPE,args:Q};return X(et,{config:J})}function I(Q,{config:W=void 0}={}){return z(Q,"SECP256K1_BLAKE160",{config:W})}function M(Q,{config:W=void 0}={}){return z(Q,"SECP256K1_BLAKE160_MULTISIG",{config:W})}function m(Q,{config:W=void 0}={}){W=W||(0,u.getConfig)();try{return(0,f.parseFullFormatAddress)(Q,{config:W})}catch{return(0,f.parseDeprecatedCkb2019Address)(Q,{config:W})}}e.addressToScript=m;function C(Q,{config:W=void 0}={}){d.validators.ValidateScript(Q),W=W||(0,u.getConfig)();const J=r.bytes.concat([0],Q.codeHash,y.HashType.pack(Q.hashType),Q.args);return a.bech32m.encode(W.PREFIX,a.bech32m.toWords(J),E)}function p(Q,W,J){const G=(J==null?void 0:J.config)||(0,u.getConfig)(),et=G.SCRIPTS[W];if(!et){const ut=Object.keys(G.SCRIPTS);throw new Error(`Invalid script type: ${String(W)}, only support: ${ut}`)}const it={codeHash:et.CODE_HASH,hashType:et.HASH_TYPE,args:Q};return C(it,{config:G})}const v=e.TransactionSkeleton=(0,s.Record)({cellProvider:null,cellDeps:(0,s.List)(),headerDeps:(0,s.List)(),inputs:(0,s.List)(),outputs:(0,s.List)(),witnesses:(0,s.List)(),fixedEntries:(0,s.List)(),signingEntries:(0,s.List)(),inputSinces:(0,s.Map)()});function D(Q,{validate:W=!0}={}){const J={version:"0x0",cellDeps:Q.get("cellDeps").toArray(),headerDeps:Q.get("headerDeps").toArray(),inputs:Q.get("inputs").map((G,et)=>{if(!G.outPoint)throw new Error(`cannot find OutPoint in Inputs[${et}] when createTransactionFromSkeleton`);return{since:Q.get("inputSinces").get(et,"0x0"),previousOutput:G.outPoint}}).toArray(),outputs:Q.get("outputs").map(G=>G.cellOutput).toArray(),outputsData:Q.get("outputs").map(G=>G.data||"0x0").toArray(),witnesses:Q.get("witnesses").toArray()};return W&&d.validators.ValidateTransaction(J),J}async function B(Q,W){let J=v();J=J.update("cellDeps",it=>it.push(...Q.cellDeps)),J=J.update("headerDeps",it=>it.push(...Q.headerDeps));const G=await Promise.all(Q.inputs.map(it=>W(it.previousOutput)));J=J.update("inputs",it=>it.push(...G)),J=J.update("inputSinces",it=>Q.inputs.reduce((ut,ct,tt)=>ut.set(tt,ct.since),it));const et=Q.outputs.map((it,ut)=>{var ct;return{cellOutput:it,data:(ct=Q.outputsData[ut])!==null&&ct!==void 0?ct:"0x"}});return J=J.update("outputs",it=>it.push(...et)),J=J.update("witnesses",it=>it.push(...Q.witnesses)),J}function b(Q,W){const J=D(Q);if(W.length!==Q.get("signingEntries").size)throw new Error(`Requiring ${Q.get("signingEntries").size} sealing contents but provided ${W.length}!`);return Q.get("signingEntries").forEach((G,et)=>{switch(G.type){case"witness_args_lock":{const it=J.witnesses[G.index],ut=n.blockchain.WitnessArgs.unpack(S(it)),ct={lock:W[et]},tt=ut.inputType;tt&&(ct.inputType=tt);const V=ut.outputType;V&&(ct.outputType=V),J.witnesses[G.index]=A(n.blockchain.WitnessArgs.pack(ct));break}default:throw new Error(`Invalid signing entry type: ${G.type}`)}}),J}function R(Q){return Q.toJS()}function Y(Q){let W=(0,s.Map)();for(const[G,et]of Object.entries(Q.inputSinces))W=W.set(+G,et);return v({cellProvider:Q.cellProvider,cellDeps:(0,s.List)(Q.cellDeps),headerDeps:(0,s.List)(Q.headerDeps),inputs:(0,s.List)(Q.inputs),outputs:(0,s.List)(Q.outputs),witnesses:(0,s.List)(Q.witnesses),fixedEntries:(0,s.List)(Q.fixedEntries),signingEntries:(0,s.List)(Q.signingEntries),inputSinces:W})}}(Gy)),Gy}var w1=Yn(),z7,j7,F7,K7,Q7,Y7;const nl=Symbol("immutable"),hi=Symbol("cellDeps"),Kn=Symbol("headerDeps"),Vu=Symbol("witness"),qa=Symbol("since");class gn{constructor(t){this[z7]=!0,this.codeHash=t.codeHash,this.hashType=t.hashType,this.args=t.args,this[hi]=Object.freeze(t[hi]),this[Kn]=Object.freeze(t[Kn]),this[Vu]=t[Vu],this[qa]=t[qa]}static from(t){return Object.freeze(t instanceof gn?t:new gn(t))}}z7=nl;const ki=gn.from({codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x",[hi]:[],[Kn]:[],[Vu]:void 0,[qa]:"0x0"});class Ms{constructor(t){this[j7]=!0,this.txHash=t.txHash,this.index=t.index}static from(t){return Object.freeze(t instanceof Ms?t:new Ms(t))}}j7=nl;class ed{constructor(t){this[F7]=!0,this.capacity=t.capacity,this.lock=gn.from(t.lock),this.type=t.type?gn.from(t.type):void 0}static from(t){return Object.freeze(t instanceof ed?t:new ed(t))}}F7=nl;class fr{constructor(t){this[K7]=!0;const{capacity:r,lock:n,type:a}={lock:ki,capacity:"0x0",...t.cellOutput,...t};this.cellOutput=ed.from({capacity:r,lock:n,type:a}),this.data=t.data??"0x",this.outPoint=t.outPoint?Ms.from(t.outPoint):void 0,this.blockHash=t.blockHash,this.blockNumber=t.blockNumber,this.txIndex=t.txIndex,BigInt(r)<=0n&&(this.cellOutput=ed.from({capacity:w1.minimalCellCapacityCompatible(this,{validate:!1}).toHexString(),lock:n,type:a}))}static from(t){return Object.freeze(t instanceof fr?t:new fr(t))}}K7=nl;class $u{constructor(t){this[Q7]=!0,this.outPoint=Ms.from(t.outPoint),this.depType=t.depType}static from(t){return Object.freeze(t instanceof $u?t:new $u(t))}}Q7=nl;class Rf{constructor(t){this[Y7]=!0,this.timestamp=t.timestamp,this.number=t.number,this.epoch=t.epoch,this.compactTarget=t.compactTarget,this.dao=t.dao,this.hash=t.hash,this.nonce=t.nonce,this.parentHash=t.parentHash,this.proposalsHash=t.proposalsHash,this.transactionsRoot=t.transactionsRoot,this.extraHash=t.extraHash,this.version=t.version}static from(t){return Object.freeze(t instanceof Rf?t:new Rf(t))}}Y7=nl;var Uo=wr(),ec=Lx(),rd=_d();const bO=Object.freeze(ec.Uint8);Object.freeze(ec.Uint16);const _O=Object.freeze(ec.Uint32),Hf=Object.freeze({...ec.Uint64,unpack:e=>ec.Uint64.unpack(e).toBigInt()}),Rm=Object.freeze({...ec.Uint128,unpack:e=>ec.Uint128.unpack(e).toBigInt()}),V7=Object.freeze(Uo.createFixedBytesCodec({byteLength:4,pack:e=>{const t=new Uint8Array([0,0,0,0]);return new DataView(t.buffer).setInt32(0,e,!0),t},unpack:e=>new DataView(e.buffer).getInt32(0,!0)})),mO=Object.freeze(rd.OutPoint);var fp=Qn(),si={},Cu={},ph={},gh={},Sb={},Vr={},Iu={},n8;function Kv(){if(n8)return Iu;n8=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.default=Iu.ErrorCode=void 0;let e=Iu.ErrorCode=function(t){return t[t.ParameterInvalid=101]="ParameterInvalid",t[t.IdNotMatch=201]="IdNotMatch",t[t.MethodNotFound=202]="MethodNotFound",t[t.PayloadMessage=203]="PayloadMessage",t[t.ResponseMessage=204]="ResponseMessage",t}({});return Iu.default=e,Iu}var i8;function vO(){if(i8)return Vr;i8=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=Vr.StringHashTypeException=Vr.PageSizeTooSmallException=Vr.PageSizeTooLargeException=Vr.OutputsValidatorTypeException=Vr.HexStringWithout0xException=Vr.BigintOrHexStringTypeException=void 0;var e=t(Kv());function t(f){return f&&f.__esModule?f:{default:f}}class r extends RangeError{constructor(d,y){super(`Expect page size to be at most ${y}, but ${d} received`);Yr(this,"code",e.default.ParameterInvalid)}}Vr.PageSizeTooLargeException=r;class n extends RangeError{constructor(d,y){super(`Expect page size to be at least ${y}, but ${d} received`);Yr(this,"code",e.default.ParameterInvalid)}}Vr.PageSizeTooSmallException=n;class a extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'");Yr(this,"code",e.default.ParameterInvalid)}}Vr.OutputsValidatorTypeException=a;class s extends TypeError{constructor(d){super(`Expect number to be bigint or hex string, but ${d} received`);Yr(this,"code",e.default.ParameterInvalid)}}Vr.BigintOrHexStringTypeException=s;class u extends TypeError{constructor(d){super(`Expect hash to be string, but ${d} received`);Yr(this,"code",e.default.ParameterInvalid)}}Vr.StringHashTypeException=u;class c extends Error{constructor(d){super(`Hex string ${d} should start with 0x`);Yr(this,"code",e.default.ParameterInvalid)}}return Vr.HexStringWithout0xException=c,Vr.default={PageSizeTooLargeException:r,PageSizeTooSmallException:n,OutputsValidatorTypeException:a,BigintOrHexStringTypeException:s,StringHashTypeException:u,HexStringWithout0xException:c},Vr}var gs={},a8;function $7(){if(a8)return gs;a8=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.default=gs.ResponseException=gs.IdNotMatchException=void 0;var e=t(Kv());function t(a){return a&&a.__esModule?a:{default:a}}class r extends Error{constructor(u,c){super(`Expect json rpc id to be ${u}, but ${c} received`);Yr(this,"code",e.default.IdNotMatch)}}gs.IdNotMatchException=r;class n extends Error{constructor(){super(...arguments);Yr(this,"code",e.default.ResponseMessage)}}return gs.ResponseException=n,gs.default={IdNotMatchException:r,ResponseException:n},gs}var aa={},s8;function wO(){if(s8)return aa;s8=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.default=aa.PayloadInBatchException=aa.MethodInBatchNotFoundException=aa.IdNotMatchedInBatchException=void 0;var e=r(Kv()),t=$7();function r(c){return c&&c.__esModule?c:{default:c}}const n="Batch Request";class a extends Error{constructor(h){super(`[${n}]: Method ${h} is not found`);Yr(this,"code",e.default.MethodNotFound)}}aa.MethodInBatchNotFoundException=a;class s extends Error{constructor(h,d){super(`[${n} ${h}]: ${d}`);Yr(this,"code",e.default.PayloadMessage);this.index=h}}aa.PayloadInBatchException=s;class u extends t.IdNotMatchException{constructor(f,h,d){super(h,d),this.message=`[${n} ${f}]: ${this.message}`,this.index=f}}return aa.IdNotMatchedInBatchException=u,aa.default={MethodInBatchNotFoundException:a,PayloadInBatchException:s,IdNotMatchedInBatchException:u},aa}var o8;function Qv(){return o8||(o8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=vO();Object.keys(t).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===t[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})});var r=$7();Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===r[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[a]}})});var n=wO();Object.keys(n).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===n[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return n[a]}})})}(Sb)),Sb}var u8;function il(){if(u8)return gh;u8=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.formatter=void 0;var e=Qv(),t=en();const r=gh.formatter={toOptional:n=>a=>!n||a===void 0||a===null?a:n(a),toArray:n=>a=>typeof n!="function"||!Array.isArray(a)?a:a.map(n),toHash:n=>{if(typeof n!="string")throw new e.StringHashTypeException(n);return n.startsWith("0x")?n:`0x${n}`},toNumber:n=>{if(typeof n=="bigint")return`0x${n.toString(16)}`;if(typeof n!="string")throw new e.BigintOrHexStringTypeException(n);if(!n.startsWith("0x"))throw new e.HexStringWithout0xException(n);return n},toScript:n=>{const{codeHash:a,hashType:s,...u}=n;return{code_hash:r.toHash(a),hash_type:s,...u}},toOutPoint:n=>{const{txHash:a,index:s,...u}=n;return{tx_hash:r.toHash(a),index:r.toNumber(s),...u}},toInput:n=>{if(!n)return n;const{previousOutput:a,since:s,...u}=n;return{previous_output:r.toOutPoint(a),since:r.toNumber(s),...u}},toOutput:n=>{if(!n)return n;const{capacity:a,lock:s,type:u=void 0,...c}=n;return{capacity:r.toNumber(a),lock:r.toScript(s),type:u&&r.toScript(u),...c}},toDepType:n=>n==="depGroup"?"dep_group":n,toOrder:n=>n,toCellDep:n=>{if(!n)return n;const{outPoint:a,depType:s="code",...u}=n;return{out_point:r.toOutPoint(a),dep_type:r.toDepType(s),...u}},toRawTransaction:n=>{if(!n)return n;const{version:a,cellDeps:s=[],inputs:u=[],outputs:c=[],outputsData:f=[],headerDeps:h=[],...d}=n,y=u.map(A=>r.toInput(A)),_=c.map(A=>r.toOutput(A)),w=s.map(A=>r.toCellDep(A));return{version:r.toNumber(a),cell_deps:w,inputs:y,outputs:_,outputs_data:f,header_deps:h,...d}},toPageNumber:(n="0x1")=>r.toNumber(n),toPageSize:(n="0x32")=>{const a=t.BI.from(n),s=50,u=0;if(t.BI.from(a).gt(s))throw new e.PageSizeTooLargeException(n,s);if(t.BI.from(a).lt(u))throw new e.PageSizeTooSmallException(n,u);return r.toNumber(`0x${a.toString(16)}`)},toReverseOrder:(n=!1)=>!!n,toOutputsValidator:n=>{if(!n)return;if(["default","passthrough"].indexOf(n)>-1)return n;throw new e.OutputsValidatorTypeException},toBoolean:n=>!!n,toTransactionProof:n=>{if(!n)return n;const{blockHash:a,witnessesRoot:s,...u}=n;return{block_hash:a,witnesses_root:s,...u}},toTransactionAndWitnessProof:n=>({block_hash:n.blockHash,witnesses_proof:n.witnessesProof,transactions_proof:n.transactionsProof}),toSearchFilter:n=>n&&{script:n.script?r.toScript(n.script):n.script,output_data_len_range:n.outputDataLenRange,output_capacity_range:n.outputCapacityRange,block_range:n.blockRange,script_len_range:n.scriptLenRange},toSearchKey:n=>n&&{script:r.toScript(n.script),script_type:n.scriptType,filter:n.filter?r.toSearchFilter(n.filter):n.filter,script_search_mode:n.scriptSearchMode?n.scriptSearchMode:"prefix"},toGetCellsSearchKey:n=>n&&{...r.toSearchKey(n),with_data:n.withData},toGetTransactionsSearchKey:n=>n&&{...r.toSearchKey(n),group_by_transaction:n.groupByTransaction}};return gh}var Ht={},c8;function al(){if(c8)return Ht;c8=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.toBannedAddresses=Ht.toBannedAddress=Ht.toArray=Ht.toAlertMessage=void 0,Ht.toBlock=A,Ht.toHash=Ht.toGetTransactionsResult=Ht.toGetCellsResult=Ht.toForkBlockResult=Ht.toFeeRateStatistics=Ht.toFeeRate=Ht.toEstimateCycles=Ht.toEpoch=Ht.toDeploymentsInfo=Ht.toDeploymentInfo=Ht.toDeployment=Ht.toDeployState=Ht.toDepType=Ht.toConsensus=Ht.toCellsIncludingOutPoint=Ht.toCellsCapacity=Ht.toCells=Ht.toCellbaseOutputCapacityDetails=Ht.toCellIncludingOutPoint=Ht.toCellDep=Ht.toCell=Ht.toCapacityByLockHash=Ht.toBlockchainInfo=Ht.toBlockFilter=Ht.toBlockEconomicState=void 0,Ht.toHeader=s,Ht.toTip=Ht.toSyncState=Ht.toScript=Ht.toRemoteNodeInfo=Ht.toRawTxPool=Ht.toPeers=Ht.toOutput=Ht.toOutPoint=Ht.toNumber=Ht.toNullable=Ht.toLockHashIndexStates=Ht.toLockHashIndexState=Ht.toLocalNodeInfo=Ht.toLiveCellsByLockHash=Ht.toLiveCellWithStatus=Ht.toLiveCell=Ht.toInput=void 0,Ht.toTransaction=_,Ht.toUncleBlock=Ht.toTxPoolInfo=Ht.toTransactionsByLockHash=Ht.toTransactionWithStatus=Ht.toTransactionProof=Ht.toTransactionPoint=Ht.toTransactionAndWitnessProof=void 0;const e=at=>Array.isArray(at.pending),t=at=>$=>typeof at!="function"||!Array.isArray($)?$:$.map(at);Ht.toArray=t;const r=at=>$=>!at||$===null?$:at($);Ht.toNullable=r;const n=at=>at.toString();Ht.toNumber=n;const a=at=>at;Ht.toHash=a;function s(at){if(typeof at=="string"||!at)return at;const{compact_target:$,transactions_root:k,proposals_hash:K,extra_hash:nt,parent_hash:pt,...wt}=at;return{compactTarget:$,parentHash:pt,transactionsRoot:k,proposalsHash:K,extraHash:nt,...wt}}const u=at=>{if(!at)return at;const{code_hash:$,hash_type:k,...K}=at;return{codeHash:$,hashType:k,...K}};Ht.toScript=u;const c=at=>{if(!at)return at;const{previous_output:$,...k}=at;return{previousOutput:$&&h($),...k}};Ht.toInput=c;const f=at=>{if(!at)return at;const{lock:$,type:k,...K}=at;return{lock:u($),type:k&&u(k),...K}};Ht.toOutput=f;const h=at=>{const{tx_hash:$,...k}=at;return{txHash:$,...k}};Ht.toOutPoint=h;const d=at=>at==="dep_group"?"depGroup":at;Ht.toDepType=d;const y=at=>{if(!at)return at;const{out_point:$,dep_type:k="code",...K}=at;return{outPoint:h($),depType:d(k),...K}};Ht.toCellDep=y;function _(at){if(!at||typeof at!="object")return at;const{cell_deps:$=[],inputs:k=[],outputs:K=[],outputs_data:nt=[],header_deps:pt=[],...wt}=at;return{cellDeps:$.map(y),inputs:k.map(c),outputs:K.map(f),outputsData:nt,headerDeps:pt,...wt}}const w=at=>{if(!at)return at;const{header:$,...k}=at;return{header:s($),...k}};Ht.toUncleBlock=w;const S=at=>({blockHash:at.block_hash,blockNumber:at.block_number});Ht.toTip=S;function A(at){if(!at||typeof at=="string")return at;if("block"in at&&"cycles"in at)return{cycles:at.cycles,block:A(at.block)};const{header:$,uncles:k=[],transactions:K=[],...nt}=at;return{header:s($),uncles:k.map(w),transactions:K.map(_),...nt}}const E=at=>{if(!at)return at;const{notice_until:$,...k}=at;return{noticeUntil:$,...k}};Ht.toAlertMessage=E;const x=at=>{if(!at)return at;const{is_initial_block_download:$,median_time:k,alerts:K,...nt}=at;return{isInitialBlockDownload:$,medianTime:k,alerts:K.map(E),...nt}};Ht.toBlockchainInfo=x;const L=at=>{if(!at)return at;const{node_id:$,protocols:k,...K}=at;return{nodeId:$,protocols:k.map(({id:nt,name:pt,support_versions:wt})=>({id:nt,name:pt,supportVersions:wt})),...K}};Ht.toLocalNodeInfo=L;const U=at=>{if(!at)return at;const{node_id:$,connected_duration:k,is_outbound:K,last_ping_duration:nt,sync_state:pt,...wt}=at;return{nodeId:$,connectedDuration:k,isOutbound:K,lastPingDuration:nt,syncState:{bestKnownHeaderHash:pt.best_known_header_hash,bestKnownHeaderNumber:pt.best_known_header_number,canFetchCount:pt.can_fetch_count,inflightCount:pt.inflight_count,lastCommonHeaderHash:pt.last_common_header_hash,lastCommonHeaderNumber:pt.last_common_header_number,unknownHeaderListSize:pt.unknown_header_list_size},...wt}};Ht.toRemoteNodeInfo=U;const O=at=>{if(!at)return at;const{last_txs_updated_at:$,tip_hash:k,tip_number:K,total_tx_cycles:nt,total_tx_size:pt,min_fee_rate:wt,min_rbf_rate:Ct,tx_size_limit:Kt,max_tx_pool_size:se,...Wt}=at;return{lastTxsUpdatedAt:$,tipHash:k,tipNumber:K,totalTxCycles:nt,totalTxSize:pt,minFeeRate:wt,minRbfRate:Ct,txSizeLimit:Kt,maxTxPoolSize:se,...Wt}};Ht.toTxPoolInfo=O;const H=at=>Array.isArray(at)?at.map(U):[];Ht.toPeers=H;const P=at=>{if(!at)return at;const{lock:$,type:k,...K}=at;return{lock:u($),type:k?u(k):void 0,...K}};Ht.toCell=P;const q=at=>{if(!at)return at;const{data:$,output:k,...K}=at;return{data:$,output:f(k),...K}};Ht.toLiveCell=q;const j=at=>{if(!at)return at;const{cell:$,...k}=at;return{cell:q($),...k}};Ht.toLiveCellWithStatus=j;const F=at=>Array.isArray(at)?at.map(P):[];Ht.toCells=F;const X=at=>{if(!at)return at;const{lock:$,block_hash:k,out_point:K,output_data_len:nt,...pt}=at;return{blockHash:k,lock:u($),outPoint:h(K),outputDataLen:nt,...pt}};Ht.toCellIncludingOutPoint=X;const z=at=>Array.isArray(at)?at.map(X):[];Ht.toCellsIncludingOutPoint=z;const I=at=>{if(!at)return at;const{transaction:$,tx_status:{block_hash:k,status:K},time_added_to_pool:nt,min_replace_fee:pt,fee:wt,...Ct}=at;return{transaction:_($),txStatus:{blockHash:k,status:K,..."reason"in at.tx_status?{reason:at.tx_status.reason}:{}},timeAddedToPool:nt,minReplaceFee:pt,fee:wt,...Ct}};Ht.toTransactionWithStatus=I;const M=at=>{if(!at)return at;const{start_number:$,compact_target:k,...K}=at;return{compactTarget:k,startNumber:$,...K}};Ht.toEpoch=M;const m=at=>{if(!at)return at;const{block_number:$,tx_hash:k,...K}=at;return{blockNumber:$,txHash:k,...K}};Ht.toTransactionPoint=m;const C=at=>at&&at.map($=>({consumedBy:$.consumed_by?m($.consumed_by):$.consumed_by,createdBy:m($.created_by)}));Ht.toTransactionsByLockHash=C;const p=at=>at&&at.map($=>({cellOutput:P($.cell_output),createdBy:m($.created_by),cellbase:$.cellbase,outputDataLen:$.output_data_len}));Ht.toLiveCellsByLockHash=p;const v=at=>{if(!at)return at;const{block_hash:$,block_number:k,lock_hash:K,...nt}=at;return{blockHash:$,blockNumber:k,lockHash:K,...nt}};Ht.toLockHashIndexState=v;const D=at=>at&&at.map(v);Ht.toLockHashIndexStates=D;const B=at=>{if(!at)return at;const{ban_reason:$,ban_until:k,created_at:K,...nt}=at;return{banReason:$,banUntil:k,createdAt:K,...nt}};Ht.toBannedAddress=B;const b=at=>at&&at.map($=>B($));Ht.toBannedAddresses=b;const R=at=>{if(!at)return at;const{proposal_reward:$,tx_fee:k,...K}=at;return{proposalReward:$,txFee:k,...K}};Ht.toCellbaseOutputCapacityDetails=R;const Y=at=>{if(!at)return at;const{fee_rate:$,...k}=at;return{feeRate:$,...k}};Ht.toFeeRate=Y;const Q=at=>{if(!at)return at;const{cells_count:$,block_number:k,capacity:K,...nt}=at;return{blockNumber:k,capacity:K,cellsCount:$,...nt}};Ht.toCapacityByLockHash=Q;const W=at=>{if(!at)return at;const{finalized_at:$,miner_reward:k,txs_fee:K,...nt}=at;return{finalizedAt:$,minerReward:k,txsFee:K,...nt}};Ht.toBlockEconomicState=W;const J=at=>at&&{bestKnownBlockNumber:at.best_known_block_number,bestKnownBlockTimestamp:at.best_known_block_timestamp,fastTime:at.fast_time,ibd:at.ibd,inflightBlocksCount:at.inflight_blocks_count,lowTime:at.low_time,normalTime:at.normal_time,orphanBlocksCount:at.orphan_blocks_count};Ht.toSyncState=J;const G=at=>{if(!at)return at;const{block_hash:$,witnesses_root:k,...K}=at;return{blockHash:$,witnessesRoot:k,...K}};Ht.toTransactionProof=G;const et=at=>({rfc:at.rfc,epochNumber:at.epoch_number}),it=at=>({bit:at.bit,start:at.start,timeout:at.timeout,minActivationEpoch:at.min_activation_epoch,period:at.period,threshold:at.threshold});Ht.toDeployment=it;const ut=at=>"rfc0043"in at?{status:at.status,rfc0043:it(at.rfc0043)}:at,ct=at=>{if(!at)return at;const $=at.hardfork_features,k=at.softforks,K=k.light_client&&ut(k.light_client),nt=k.testdummy&&ut(k.testdummy);return{blockVersion:at.block_version,cellbaseMaturity:at.cellbase_maturity,daoTypeHash:at.dao_type_hash,epochDurationTarget:at.epoch_duration_target,genesisHash:at.genesis_hash,id:at.id,initialPrimaryEpochReward:at.initial_primary_epoch_reward,maxBlockBytes:at.max_block_bytes,maxBlockCycles:at.max_block_cycles,maxBlockProposalsLimit:at.max_block_proposals_limit,maxUnclesNum:at.max_uncles_num,medianTimeBlockCount:at.median_time_block_count,orphanRateTarget:at.orphan_rate_target,permanentDifficultyInDummy:at.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:at.primary_epoch_reward_halving_interval,proposerRewardRatio:at.proposer_reward_ratio,secondaryEpochReward:at.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:at.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:at.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:at.tx_proposal_window,txVersion:at.tx_version,typeIdCodeHash:at.type_id_code_hash,hardforkFeatures:$.map(et),softforks:{...K&&{lightClient:K},...nt&&{testdummy:nt}}}};Ht.toConsensus=ct;const tt=at=>{if(!at||e(at))return at;const $=({ancestors_count:nt,ancestors_cycles:pt,ancestors_size:wt,...Ct})=>({ancestorsCount:nt,ancestorsCycles:pt,ancestorsSize:wt,...Ct}),k={},K={};return Object.keys(at.proposed).forEach(nt=>{k[nt]=$(at.proposed[nt])}),Object.keys(at.pending).forEach(nt=>{K[nt]=$(at.pending[nt])}),{proposed:k,pending:K}};Ht.toRawTxPool=tt;const V=at=>at&&{blockNumber:at.block_number,outPoint:h(at.out_point),output:f(at.output),outputData:at.output_data,txIndex:at.tx_index},ot=at=>({lastCursor:at.last_cursor,objects:at.objects.map($=>V($))});Ht.toGetCellsResult=ot;const mt=at=>!at.cells,Tt=at=>at&&(mt(at)?{txHash:at.tx_hash,blockNumber:at.block_number,ioIndex:at.io_index,ioType:at.io_type,txIndex:at.tx_index}:{txHash:at.tx_hash,txIndex:at.tx_index,blockNumber:at.block_number,cells:at.cells}),st=at=>at&&{lastCursor:at.last_cursor,objects:at.objects.map($=>Tt($))};Ht.toGetTransactionsResult=st;const ft=at=>at&&{capacity:at.capacity,blockHash:at.block_hash,blockNumber:at.block_number};Ht.toCellsCapacity=ft;const dt=at=>({hash:at.hash,data:at.data});Ht.toBlockFilter=dt;const At=at=>({blockHash:at.block_hash,transactionsProof:at.transactions_proof,witnessesProof:at.witnesses_proof});Ht.toTransactionAndWitnessProof=At;const Nt=at=>({mean:at.mean,median:at.median});Ht.toFeeRateStatistics=Nt;const Ot=at=>typeof at=="string"?at:{header:s(at.header),uncles:at.uncles.map(w),transactions:at.transactions.map(_),proposals:at.proposals,extension:at.extension};Ht.toForkBlockResult=Ot;const Pt=at=>({cycles:at.cycles});Ht.toEstimateCycles=Pt;const pe=at=>at==="locked_in"?"lockedIn":at;Ht.toDeployState=pe;const Xt=at=>({bit:at.bit,start:at.start,timeout:at.timeout,minActivationEpoch:at.min_activation_epoch,period:at.period,threshold:at.threshold,since:at.since,state:pe(at.state)});Ht.toDeploymentInfo=Xt;const ne=at=>{const{light_client:$,testdummy:k}=at.deployments;return{hash:at.hash,epoch:at.epoch,deployments:{...$?{lightClient:Xt($)}:{},...k?{testdummy:Xt(k)}:{}}}};return Ht.toDeploymentsInfo=ne,Ht}var f8;function AO(){if(f8)return ph;f8=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.default=void 0;var e=il(),t=n(al());function r(a){if(typeof WeakMap!="function")return null;var s=new WeakMap,u=new WeakMap;return(r=function(c){return c?u:s})(a)}function n(a,s){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var u=r(s);if(u&&u.has(a))return u.get(a);var c={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in a)if(h!=="default"&&{}.hasOwnProperty.call(a,h)){var d=f?Object.getOwnPropertyDescriptor(a,h):null;d&&(d.get||d.set)?Object.defineProperty(c,h,d):c[h]=a[h]}return c.default=a,u&&u.set(a,c),c}return ph.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:t.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:t.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:t.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[e.formatter.toNumber],resultFormatters:t.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[e.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[e.formatter.toNumber],resultFormatters:t.toBlock},getHeader:{method:"get_header",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[e.formatter.toNumber],resultFormatters:t.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[e.formatter.toOutPoint],resultFormatters:t.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[e.formatter.toArray(e.formatter.toHash),e.formatter.toOptional(e.formatter.toHash)],resultFormatters:t.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[e.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:t.toConsensus}},ph}var yh={},l8;function EO(){if(l8)return yh;l8=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.default=void 0;var e=il();return yh.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[e.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[e.formatter.toOutPoint,e.formatter.toHash]}},yh}var bh={},h8;function xO(){if(h8)return bh;h8=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.default=void 0;var e=il(),t=n(al());function r(a){if(typeof WeakMap!="function")return null;var s=new WeakMap,u=new WeakMap;return(r=function(c){return c?u:s})(a)}function n(a,s){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var u=r(s);if(u&&u.has(a))return u.get(a);var c={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in a)if(h!=="default"&&{}.hasOwnProperty.call(a,h)){var d=f?Object.getOwnPropertyDescriptor(a,h):null;d&&(d.get||d.set)?Object.defineProperty(c,h,d):c[h]=a[h]}return c.default=a,u&&u.set(a,c),c}return bh.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:t.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:t.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:t.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:t.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[e.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}},bh}var _h={},d8;function SO(){if(d8)return _h;d8=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.default=void 0;var e=il(),t=n(al());function r(a){if(typeof WeakMap!="function")return null;var s=new WeakMap,u=new WeakMap;return(r=function(c){return c?u:s})(a)}function n(a,s){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var u=r(s);if(u&&u.has(a))return u.get(a);var c={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in a)if(h!=="default"&&{}.hasOwnProperty.call(a,h)){var d=f?Object.getOwnPropertyDescriptor(a,h):null;d&&(d.get||d.set)?Object.defineProperty(c,h,d):c[h]=a[h]}return c.default=a,u&&u.set(a,c),c}return _h.default={sendTransaction:{method:"send_transaction",paramsFormatters:[e.formatter.toRawTransaction,e.formatter.toOutputsValidator],resultFormatters:t.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:t.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:t.toRawTxPool}},_h}var mh={},p8;function CO(){if(p8)return mh;p8=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.default=void 0;var e=r(al());function t(n){if(typeof WeakMap!="function")return null;var a=new WeakMap,s=new WeakMap;return(t=function(u){return u?s:a})(n)}function r(n,a){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var s=t(a);if(s&&s.has(n))return s.get(n);var u={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in n)if(f!=="default"&&{}.hasOwnProperty.call(n,f)){var h=c?Object.getOwnPropertyDescriptor(n,f):null;h&&(h.get||h.set)?Object.defineProperty(u,f,h):u[f]=n[f]}return u.default=n,s&&s.set(n,u),u}return mh.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:e.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:e.toDeploymentsInfo}},mh}var vh={},g8;function IO(){if(g8)return vh;g8=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.default=void 0;var e=il(),t=n(al());function r(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(f){return f?c:u})(s)}function n(s,u){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var c=r(u);if(c&&c.has(s))return c.get(s);var f={__proto__:null},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in s)if(d!=="default"&&{}.hasOwnProperty.call(s,d)){var y=h?Object.getOwnPropertyDescriptor(s,d):null;y&&(y.get||y.set)?Object.defineProperty(f,d,y):f[d]=s[d]}return f.default=s,c&&c.set(s,f),f}const a={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:t.toTip},getCells:{method:"get_cells",paramsFormatters:[e.formatter.toGetCellsSearchKey,e.formatter.toOrder,e.formatter.toNumber,e.formatter.toOptional(e.formatter.toHash)],resultFormatters:t.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[e.formatter.toGetTransactionsSearchKey,e.formatter.toOrder,e.formatter.toNumber,e.formatter.toOptional(e.formatter.toHash)],resultFormatters:t.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[e.formatter.toSearchKey],resultFormatters:t.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toNullable(t.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[e.formatter.toArray(e.formatter.toHash),e.formatter.toOptional(e.formatter.toHash)],resultFormatters:t.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[e.formatter.toTransactionAndWitnessProof],resultFormatters:t.toArray(t.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[e.formatter.toHash,e.formatter.toOptional(e.formatter.toNumber)],resultFormatters:t.toNullable(t.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[e.formatter.toHash],resultFormatters:t.toNullable(t.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[e.formatter.toRawTransaction],resultFormatters:t.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[e.formatter.toOptional(e.formatter.toNumber)],resultFormatters:t.toNullable(t.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[e.formatter.toOptional(e.formatter.toNumber)],resultFormatters:t.toNullable(t.toFeeRateStatistics)}};return vh.default=a,vh}var y8;function TO(){var h,d;if(y8)return Cu;y8=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.rpcProperties=Cu.Base=void 0;var e=u(AO()),t=u(EO()),r=u(xO()),n=u(SO()),a=u(CO()),s=u(IO());function u(y){return y&&y.__esModule?y:{default:y}}const c=Cu.rpcProperties={...e.default,...t.default,...s.default,...r.default,...n.default,...a.default};let f=(d=class{constructor(){Vt(this,h,c)}get rpcProperties(){return yt(this,h)}},h=new WeakMap,d);return Cu.Base=f,Cu}var wh={},Ah={exports:{}},b8;function G7(){if(b8)return Ah.exports;b8=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Ah.exports=e,Ah.exports.AbortSignal=t,Ah.exports.default=e,Ah.exports}var Hh={exports:{}},BO=Hh.exports,_8;function X7(){return _8||(_8=1,function(e,t){var r=typeof self<"u"?self:BO,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(u){var c={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function f(m){return m&&DataView.prototype.isPrototypeOf(m)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(m){return m&&h.indexOf(Object.prototype.toString.call(m))>-1};function y(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function _(m){return typeof m!="string"&&(m=String(m)),m}function w(m){var C={next:function(){var p=m.shift();return{done:p===void 0,value:p}}};return c.iterable&&(C[Symbol.iterator]=function(){return C}),C}function S(m){this.map={},m instanceof S?m.forEach(function(C,p){this.append(p,C)},this):Array.isArray(m)?m.forEach(function(C){this.append(C[0],C[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(C){this.append(C,m[C])},this)}S.prototype.append=function(m,C){m=y(m),C=_(C);var p=this.map[m];this.map[m]=p?p+", "+C:C},S.prototype.delete=function(m){delete this.map[y(m)]},S.prototype.get=function(m){return m=y(m),this.has(m)?this.map[m]:null},S.prototype.has=function(m){return this.map.hasOwnProperty(y(m))},S.prototype.set=function(m,C){this.map[y(m)]=_(C)},S.prototype.forEach=function(m,C){for(var p in this.map)this.map.hasOwnProperty(p)&&m.call(C,this.map[p],p,this)},S.prototype.keys=function(){var m=[];return this.forEach(function(C,p){m.push(p)}),w(m)},S.prototype.values=function(){var m=[];return this.forEach(function(C){m.push(C)}),w(m)},S.prototype.entries=function(){var m=[];return this.forEach(function(C,p){m.push([p,C])}),w(m)},c.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function A(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function E(m){return new Promise(function(C,p){m.onload=function(){C(m.result)},m.onerror=function(){p(m.error)}})}function x(m){var C=new FileReader,p=E(C);return C.readAsArrayBuffer(m),p}function L(m){var C=new FileReader,p=E(C);return C.readAsText(m),p}function U(m){for(var C=new Uint8Array(m),p=new Array(C.length),v=0;v<C.length;v++)p[v]=String.fromCharCode(C[v]);return p.join("")}function O(m){if(m.slice)return m.slice(0);var C=new Uint8Array(m.byteLength);return C.set(new Uint8Array(m)),C.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:c.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:c.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():c.arrayBuffer&&c.blob&&f(m)?(this._bodyArrayBuffer=O(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||d(m))?this._bodyArrayBuffer=O(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var m=A(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var m=A(this);if(m)return m;if(this._bodyBlob)return L(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(U(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(m){var C=m.toUpperCase();return P.indexOf(C)>-1?C:m}function j(m,C){C=C||{};var p=C.body;if(m instanceof j){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,C.headers||(this.headers=new S(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!p&&m._bodyInit!=null&&(p=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new S(C.headers)),this.method=q(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&p)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(p)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function F(m){var C=new FormData;return m.trim().split("&").forEach(function(p){if(p){var v=p.split("="),D=v.shift().replace(/\+/g," "),B=v.join("=").replace(/\+/g," ");C.append(decodeURIComponent(D),decodeURIComponent(B))}}),C}function X(m){var C=new S,p=m.replace(/\r?\n[\t ]+/g," ");return p.split(/\r?\n/).forEach(function(v){var D=v.split(":"),B=D.shift().trim();if(B){var b=D.join(":").trim();C.append(B,b)}}),C}H.call(j.prototype);function z(m,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new S(C.headers),this.url=C.url||"",this._initBody(m)}H.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},z.error=function(){var m=new z(null,{status:0,statusText:""});return m.type="error",m};var I=[301,302,303,307,308];z.redirect=function(m,C){if(I.indexOf(C)===-1)throw new RangeError("Invalid status code");return new z(null,{status:C,headers:{location:m}})},u.DOMException=s.DOMException;try{new u.DOMException}catch{u.DOMException=function(C,p){this.message=C,this.name=p;var v=Error(C);this.stack=v.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function M(m,C){return new Promise(function(p,v){var D=new j(m,C);if(D.signal&&D.signal.aborted)return v(new u.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function b(){B.abort()}B.onload=function(){var R={status:B.status,statusText:B.statusText,headers:X(B.getAllResponseHeaders()||"")};R.url="responseURL"in B?B.responseURL:R.headers.get("X-Request-URL");var Y="response"in B?B.response:B.responseText;p(new z(Y,R))},B.onerror=function(){v(new TypeError("Network request failed"))},B.ontimeout=function(){v(new TypeError("Network request failed"))},B.onabort=function(){v(new u.DOMException("Aborted","AbortError"))},B.open(D.method,D.url,!0),D.credentials==="include"?B.withCredentials=!0:D.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&c.blob&&(B.responseType="blob"),D.headers.forEach(function(R,Y){B.setRequestHeader(Y,R)}),D.signal&&(D.signal.addEventListener("abort",b),B.onreadystatechange=function(){B.readyState===4&&D.signal.removeEventListener("abort",b)}),B.send(typeof D._bodyInit>"u"?null:D._bodyInit)})}return M.polyfill=!0,s.fetch||(s.fetch=M,s.Headers=S,s.Request=j,s.Response=z),u.Headers=S,u.Request=j,u.Response=z,u.fetch=M,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t}(Hh,Hh.exports)),Hh.exports}var m8;function OO(){var u,c,f,h;if(m8)return wh;m8=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.Method=void 0;var e=Qv(),t=A1(),r=a(G7()),n=a(X7());function a(d){return d&&d.__esModule?d:{default:d}}class s{constructor(y,_,w={}){Vt(this,u);Vt(this,c);Vt(this,f,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0});Vt(this,h);Yr(this,"call",async(...y)=>{const _=this.getPayload(...y),w=new r.default,S=w.signal,A=setTimeout(()=>w.abort(),yt(this,c).timeout),E=await yt(this,c).fetch(yt(this,h).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(_),signal:S}).then(x=>x.json()).then(x=>{var L,U,O;if(x.id!==_.id)throw new e.IdNotMatchException(_.id,x.id);if(x.error)throw new e.ResponseException(JSON.stringify(x.error));return(L=(U=(O=yt(this,f)).resultFormatters)===null||U===void 0?void 0:U.call(O,x.result))!==null&&L!==void 0?L:x.result});return clearTimeout(A),E});Yr(this,"getPayload",(...y)=>{const _=y.map((A,E)=>yt(this,f).paramsFormatters[E]&&yt(this,f).paramsFormatters[E](A)||A);return{id:Math.round(Math.random()*1e4),method:yt(this,f).method,params:_,jsonrpc:"2.0"}});kt(this,h,y),kt(this,f,_),kt(this,u,_.name);const{timeout:S=t.DEFAULT_RPC_TIMEOUT,fetch:A=n.default}=w;kt(this,c,{timeout:S,fetch:A}),Object.defineProperty(this.call,"name",{value:_.name,configurable:!1,writable:!1})}get name(){return yt(this,u)}}return u=new WeakMap,c=new WeakMap,f=new WeakMap,h=new WeakMap,wh.Method=s,wh}var v8;function A1(){var _,w,S,A;if(v8)return si;v8=1,Object.defineProperty(si,"__esModule",{value:!0}),si.ResultFormatter=si.RPC=si.ParamsFormatter=si.DEFAULT_RPC_TIMEOUT=si.CKBRPC=void 0;var e=TO(),t=OO(),r=il(),n=h(al()),a=Qv(),s=c(X7()),u=c(G7());function c(E){return E&&E.__esModule?E:{default:E}}function f(E){if(typeof WeakMap!="function")return null;var x=new WeakMap,L=new WeakMap;return(f=function(U){return U?L:x})(E)}function h(E,x){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var L=f(x);if(L&&L.has(E))return L.get(E);var U={__proto__:null},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in E)if(H!=="default"&&{}.hasOwnProperty.call(E,H)){var P=O?Object.getOwnPropertyDescriptor(E,H):null;P&&(P.get||P.set)?Object.defineProperty(U,H,P):U[H]=E[H]}return U.default=E,L&&L.set(E,U),U}si.ParamsFormatter=r.formatter,si.ResultFormatter=n;const d=si.DEFAULT_RPC_TIMEOUT=3e4;class y extends e.Base{constructor(L,U={}){super();Vt(this,_);Vt(this,w,{url:""});Vt(this,S,r.formatter);Vt(this,A,n);Yr(this,"addMethod",(L,U)=>{const O=new t.Method(this.node,L,U);Object.defineProperty(this,L.name,{value:O.call,enumerable:!0})});Yr(this,"createBatchRequest",(L=[])=>{const U=this,O=new Proxy([],{set(...H){const P=Object.keys(U);if(H[1]!=="length"){var q;const j=H==null||(q=H[2])===null||q===void 0?void 0:q[0];if(P.indexOf(j)===-1)throw new a.MethodInBatchNotFoundException(j)}return Reflect.set(...H)}});return Object.defineProperties(O,{add:{value(...H){return this.push(H),this}},remove:{value(H){return this.splice(H,1),this}},exec:{async value(){const H=O.map(([X,...z],I)=>{try{return new t.Method(U.node,{...U.rpcProperties[X],name:X}).getPayload(...z)}catch(M){throw new a.PayloadInBatchException(I,M.message)}}),P=new u.default,q=P.signal,j=setTimeout(()=>P.abort(),yt(U,_).timeout),F=await yt(U,_).fetch(yt(U,w).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(H),signal:q}).then(X=>X.json());return clearTimeout(j),F.map((X,z)=>{var I,M,m;return X.id!==H[z].id?new a.IdNotMatchedInBatchException(z,H[z].id,X.id):(I=(M=(m=U.rpcProperties[O[z][0]]).resultFormatters)===null||M===void 0?void 0:M.call(m,X.result))!==null&&I!==void 0?I:X.result})}}}),L.forEach(H=>O.push(H)),O});this.setNode({url:L});const{timeout:O=d,fetch:H=s.default}=U;kt(this,_,{timeout:O,fetch:H}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach(P=>{this.addMethod({name:P,...this.rpcProperties[P]},yt(this,_))})}get node(){return yt(this,w)}get paramsFormatter(){return yt(this,S)}get resultFormatter(){return yt(this,A)}setNode(L){return Object.assign(this.node,L),this.node}}return _=new WeakMap,w=new WeakMap,S=new WeakMap,A=new WeakMap,si.RPC=si.CKBRPC=y,si}var Cb=A1();async function W7(e,t=MO(e),r=!1,...n){const a=RO(t);let s=NO(e==="mainnet"?fp.predefined.LINA:e==="testnet"?fp.predefined.AGGRON4:{PREFIX:"ckt",SCRIPTS:fp.generateGenesisScriptConfigs(await a.getBlockByNumber("0x0"))}),u=s.SCRIPTS;for(const c of n)u=Object.freeze({...u,...c(e,u)});return s=new Z7(s.prefix,u),fp.initializeConfig(r?{PREFIX:"",SCRIPTS:{}}:s),{chain:e,rpcUrl:t,rpc:a,config:s}}const DO=Object.freeze({mainnet:"https://rpc.ankr.com/nervos_ckb",testnet:"https://testnet.ckb.dev",devnet:"http://127.0.0.1:8114/"});function MO(e){return DO[e]}function RO(e){const t=new Cb.RPC(e);return t.addMethod({name:"getCellsByLock",method:"get_cells",paramsFormatters:[r=>({script:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},script_type:"lock",script_search_mode:"exact"}),r=>r,r=>r==="max"?"0xffffffff":Cb.ParamsFormatter.toNumber(r)],resultFormatters:r=>r.objects.map(({output:{capacity:n,lock:a,type:s},block_number:u,out_point:c,output_data:f,tx_index:h})=>({cellOutput:{capacity:n,lock:{codeHash:a.code_hash,hashType:a.hash_type,args:a.args},type:s?{codeHash:s.code_hash,hashType:s.hash_type,args:s.args}:void 0},data:f??"0x",outPoint:{index:c.index,txHash:c.tx_hash},blockNumber:u,txIndex:h}))}),t.addMethod({name:"getFeeRate",method:"get_fee_rate_statistics",paramsFormatters:[r=>Cb.ParamsFormatter.toNumber(r)],resultFormatters:r=>!r||!r.median?1000n:BigInt(r.median)}),t}class Yv extends Error{constructor(t){super(HO),this.missingScriptName=t,Object.setPrototypeOf(this,Yv.prototype)}}const HO="Script name not found";class Z7{constructor(t,r){return this.prefix=t,this.scripts=Object.freeze(r),Object.freeze(this)}defaultScript(t){const r=this.scripts[t];if(!r)throw new Yv(t);return r.defaultScript}get PREFIX(){return this.prefix}get SCRIPTS(){return this.scripts}}class zh{constructor(t,r=0){return t[hi][r].depType,this.defaultScript=t,this.index=r,Object.freeze(this)}get CODE_HASH(){return this.defaultScript.codeHash}get HASH_TYPE(){return this.defaultScript.hashType}get TX_HASH(){return this.defaultScript[hi][this.index].outPoint.txHash}get INDEX(){return this.defaultScript[hi][this.index].outPoint.index}get DEP_TYPE(){return this.defaultScript[hi][this.index].depType}}function LO(e){if(e instanceof zh)return e;const t=$u.from({outPoint:Ms.from({txHash:e.TX_HASH,index:e.INDEX}),depType:e.DEP_TYPE});return new zh(gn.from({...ki,codeHash:e.CODE_HASH,hashType:e.HASH_TYPE,[hi]:[t]}))}function NO(e){const t={};for(const r in e.SCRIPTS)t[r]=LO(e.SCRIPTS[r]);return new Z7(e.PREFIX,t)}var Xo=ac(),ba=fv(),xn={},oi={},pr={},w8;function Wo(){if(w8)return pr;w8=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.SECP_SIGNATURE_PLACEHOLDER=void 0,pr.addCellDep=c,pr.default=void 0,pr.ensureScript=H,pr.generateDaoScript=f,pr.hashWitness=U,pr.isAcpAddress=L,pr.isAcpScript=x,pr.isDaoScript=A,pr.isOmnilockAddress=_,pr.isOmnilockScript=y,pr.isSecp256k1Blake160Address=d,pr.isSecp256k1Blake160MultisigAddress=S,pr.isSecp256k1Blake160MultisigScript=w,pr.isSecp256k1Blake160Script=h,pr.isSudtScript=E,pr.prepareSigningEntries=O;var e=Ls,t=Yn(),r=wr(),n=zr(),a=bd();const{CKBHasher:s,ckbHash:u}=n.utils;function c(P,q){return P.get("cellDeps").find(F=>F.depType===q.depType&&new n.values.OutPointValue(F.outPoint,{validate:!1}).equals(new n.values.OutPointValue(q.outPoint,{validate:!1})))||(P=P.update("cellDeps",F=>F.push({outPoint:q.outPoint,depType:q.depType}))),P}function f(P){const q=P.SCRIPTS.DAO;return{codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,args:"0x"}}function h(P,q){const j=q.SCRIPTS.SECP256K1_BLAKE160;return P.codeHash===j.CODE_HASH&&P.hashType===j.HASH_TYPE}function d(P,q){const j=(0,t.parseAddress)(P,{config:q});return h(j,q)}function y(P,q){const j=q.SCRIPTS.OMNILOCK;return P.codeHash===j.CODE_HASH&&P.hashType===j.HASH_TYPE}function _(P,q){const j=(0,t.parseAddress)(P,{config:q});return y(j,q)}function w(P,q){const j=q.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return P.codeHash===j.CODE_HASH&&P.hashType===j.HASH_TYPE}function S(P,q){const j=(0,t.parseAddress)(P,{config:q});return w(j,q)}function A(P,q){const j=q.SCRIPTS.DAO;return!!P&&P.codeHash===j.CODE_HASH&&P.hashType===j.HASH_TYPE}function E(P,q){const j=q.SCRIPTS.SUDT;if(!j)throw new Error("SUDT script not defined in config!");return!!P&&P.codeHash===j.CODE_HASH&&P.hashType===j.HASH_TYPE}function x(P,q){const j=q.SCRIPTS.ANYONE_CAN_PAY;if(!j)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!P&&P.codeHash===j.CODE_HASH&&P.hashType===j.HASH_TYPE}function L(P,q){const j=(0,t.parseAddress)(P,{config:q});return x(j,q)}function U(P,q){const j=r.bytes.hexify(a.Uint64.pack(r.bytes.bytify(q).length));P.update(j),P.update(q)}function O(P,q,j){const F=q.SCRIPTS[j];if(!F)throw new Error(`Provided config does not have ${j} script setup!`);let X=(0,e.Set)();const z=(0,t.createTransactionFromSkeleton)(P),I=u(n.blockchain.RawTransaction.pack(z)),M=P.get("inputs"),m=P.get("witnesses");let C=P.get("signingEntries");for(let p=0;p<M.size;p++){const v=M.get(p);if(F.CODE_HASH===v.cellOutput.lock.codeHash&&F.HASH_TYPE===v.cellOutput.lock.hashType&&!X.has(v.cellOutput.lock.args)){X=X.add(v.cellOutput.lock.args);const D=new n.values.ScriptValue(v.cellOutput.lock,{validate:!1}),B=new s;if(B.update(I),p>=m.size)throw new Error(`The first witness in the script group starting at input index ${p} does not exist, maybe some other part has invalidly tampered the transaction?`);U(B,m.get(p));for(let R=p+1;R<M.size&&R<m.size;R++){const Y=M.get(R);D.equals(new n.values.ScriptValue(Y.cellOutput.lock,{validate:!1}))&&U(B,m.get(R))}for(let R=M.size;R<m.size;R++)U(B,m.get(R));const b={type:"witness_args_lock",index:p,message:B.digestHex()};C=C.push(b)}}return P=P.set("signingEntries",C),P}function H(P,q,j){const F=q.SCRIPTS[j];if(!F)throw new Error(`Provided config does not have ${j} script setup!`);if(F.CODE_HASH!==P.codeHash||F.HASH_TYPE!==P.hashType)throw new Error(`Provided script is not ${j} script!`)}return pr.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",pr.default={addCellDep:c,generateDaoScript:f,isSecp256k1Blake160Script:h,isSecp256k1Blake160MultisigScript:w,isDaoScript:A,isSudtScript:E,prepareSigningEntries:O,isSecp256k1Blake160Address:d,isSecp256k1Blake160MultisigAddress:S,ensureScript:H,isAcpScript:x,isAcpAddress:L},pr}var Tu={},A8;function Qa(){if(A8)return Tu;A8=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.isMultisigFromInfo=s,Tu.multisigArgs=c,Tu.parseFromInfo=f,Tu.serializeMultisigScript=u;var e=zr(),t=Yn(),r=Qn(),n=wr();const{CKBHasher:a}=e.utils;function s(h){if(!h||typeof h!="object")return!1;const d=h;return typeof(d==null?void 0:d.R)=="number"&&typeof(d==null?void 0:d.M)=="number"&&Array.isArray(d==null?void 0:d.publicKeyHashes)}function u({R:h,M:d,publicKeyHashes:y}){if(h<0||h>255)throw new Error("`R` should be less than 256!");if(d<0||d>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+h.toString(16)).slice(-2)+("00"+d.toString(16)).slice(-2)+("00"+y.length.toString(16)).slice(-2)+y.map(_=>_.slice(2)).join("")}function c(h,d){let y="0x";return d!=null&&(y=n.bytes.hexify(n.number.Uint64LE.pack(d))),new a().update(h).digestHex().slice(0,42)+y.slice(2)}function f(h,{config:d=void 0}={}){d=d||(0,r.getConfig)();let y,_,w,S;if(typeof h=="string")y=(0,t.parseAddress)(h,{config:d});else if("R"in h){const A=d.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!A)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");_=u(h);const E=c(_,h.since);y={codeHash:A.CODE_HASH,hashType:A.HASH_TYPE,args:E}}else if("address"in h){const A=d.SCRIPTS.ANYONE_CAN_PAY;if(!A)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const E=h.address;if(y=(0,t.parseAddress)(E,{config:d}),w=h.destroyable,y.codeHash!==A.CODE_HASH||y.hashType!==A.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else if("script"in h)y=h.script,S=h.customData;else throw new Error("Invalid fromInfo format!");return{fromScript:y,multisigScript:_,destroyable:w,customData:S}}return Tu}var E8;function Rd(){if(E8)return oi;E8=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=oi.CellCollector=void 0,oi.injectCapacity=S,oi.payFee=w,oi.prepareSigningEntries=A,oi.setupInputCell=d,oi.transfer=y,oi.transferCompatible=_;var e=Ls,t=Yn(),r=wr(),n=zr(),a=Qn(),s=Wo(),u=Qa(),c=en();const{ScriptValue:f}=n.values,h=oi.CellCollector=class{constructor(x,L,{config:U=void 0,queryOptions:O={}}={}){if(!L)throw new Error("Cell provider is missing!");U=U||(0,a.getConfig)(),this.fromScript=(0,u.parseFromInfo)(x,{config:U}).fromScript,this.config=U,O={...O,lock:this.fromScript,type:O.type||"empty"},this.cellCollector=L.collector(O)}async*collect(){if((0,s.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const x of this.cellCollector.collect())yield x}};async function d(E,x,L,{config:U=void 0,defaultWitness:O="0x",since:H=void 0}={}){U=U||(0,a.getConfig)();const P=x.cellOutput.lock;if(!(0,s.isSecp256k1Blake160Script)(P,U))throw new Error("Not SECP256K1_BLAKE160 input!");E=E.update("inputs",z=>z.push(x));const q={cellOutput:{capacity:x.cellOutput.capacity,lock:x.cellOutput.lock,type:x.cellOutput.type},data:x.data};E=E.update("outputs",z=>z.push(q)),H&&(E=E.update("inputSinces",z=>z.set(E.get("inputs").size-1,H))),E=E.update("witnesses",z=>z.push(O));const j=U.SCRIPTS.SECP256K1_BLAKE160;if(!j)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const F={txHash:j.TX_HASH,index:j.INDEX};E=(0,s.addCellDep)(E,{outPoint:F,depType:j.DEP_TYPE});const X=E.get("inputs").findIndex(z=>new f(z.cellOutput.lock,{validate:!1}).equals(new f(P,{validate:!1})));if(X!==-1){for(;X>=E.get("witnesses").size;)E=E.update("witnesses",M=>M.push("0x"));let z=E.get("witnesses").get(X);const I={lock:s.SECP_SIGNATURE_PLACEHOLDER};if(z!=="0x"){const M=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(z)),m=M.lock;if(m&&I.lock&&!r.bytes.equal(m,I.lock))throw new Error("Lock field in first witness is set aside for signature!");const C=M.inputType;C&&(I.inputType=C);const p=M.outputType;p&&(I.outputType=p)}z=r.bytes.hexify(n.blockchain.WitnessArgs.pack(I)),E=E.update("witnesses",M=>M.set(X,z))}return E}async function y(E,x,L,U,{config:O=void 0,requireToAddress:H=!0,assertAmountEnough:P=!0}={}){const q=await _(E,x,L,U,{config:O,requireToAddress:H,assertAmountEnough:P});let j,F;return q instanceof Array?(j=q[0],F=BigInt(q[1].toString()),[j,F]):(j=q,j)}async function _(E,x,L,U,{config:O=void 0,requireToAddress:H=!0,assertAmountEnough:P=!0}={}){O=O||(0,a.getConfig)();const q=O.SCRIPTS.SECP256K1_BLAKE160;if(!q)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const j={txHash:q.TX_HASH,index:q.INDEX};E=(0,s.addCellDep)(E,{outPoint:j,depType:q.DEP_TYPE});const F=(0,t.parseAddress)(x,{config:O});if((0,s.ensureScript)(F,O,"SECP256K1_BLAKE160"),H&&!L)throw new Error("You must provide a to address!");let X=c.BI.from(U);if(L){const m=(0,t.parseAddress)(L,{config:O});E=E.update("outputs",C=>C.push({cellOutput:{capacity:"0x"+X.toString(16),lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const z=E.get("fixedEntries").filter(({field:m})=>m==="outputs").maxBy(({index:m})=>m);let I=z?z.index+1:0;for(;I<E.get("outputs").size&&X.gt(0);I++){const m=E.get("outputs").get(I);if(new f(m.cellOutput.lock,{validate:!1}).equals(new f(F,{validate:!1}))){const C=c.BI.from(m.cellOutput.capacity);let p;X.gte(C)?p=C:(p=C.sub((0,t.minimalCellCapacityCompatible)(m)),p.gt(X)&&(p=X)),X=X.sub(p),m.cellOutput.capacity="0x"+C.sub(p).toString(16)}}if(E=E.update("outputs",m=>m.filter(C=>!c.BI.from(C.cellOutput.capacity).eq(0))),X.gt(0)){const m=E.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const C=m.collector({lock:F}),p={cellOutput:{capacity:"0x0",lock:F,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let v=c.BI.from(0),D=(0,e.Set)();for(const B of E.get("inputs"))D=D.add(`${B.outPoint.txHash}_${B.outPoint.index}`);for await(const B of C.collect()){if(D.has(`${B.outPoint.txHash}_${B.outPoint.index}`))continue;E=E.update("inputs",Y=>Y.push(B)),E=E.update("witnesses",Y=>Y.push("0x"));const b=c.BI.from(B.cellOutput.capacity);let R=b;if(R.gt(X)&&(R=X),X=X.sub(R),v=v.add(b).sub(R),X.eq(0)&&(v.eq(0)||v.gt((0,t.minimalCellCapacityCompatible)(p))))break}v.gt(0)&&(p.cellOutput.capacity="0x"+v.toString(16),E=E.update("outputs",B=>B.push(p)))}if(X.gt(0)&&P)throw new Error("Not enough capacity in from address!");const M=E.get("inputs").findIndex(m=>new f(m.cellOutput.lock,{validate:!1}).equals(new f(F,{validate:!1})));if(M!==-1){for(;M>=E.get("witnesses").size;)E=E.update("witnesses",p=>p.push("0x"));let m=E.get("witnesses").get(M);const C={lock:s.SECP_SIGNATURE_PLACEHOLDER};if(m!=="0x"){const p=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(m)),v=p.lock;if(v&&C.lock&&!r.bytes.equal(v,C.lock))throw new Error("Lock field in first witness is set aside for signature!");const D=p.inputType;D&&(C.inputType=D);const B=p.outputType;B&&(C.outputType=B)}m=r.bytes.hexify(n.blockchain.WitnessArgs.pack(C)),E=E.update("witnesses",p=>p.set(M,m))}return P?E:[E,c.BI.from(X)]}async function w(E,x,L,{config:U=void 0}={}){return U=U||(0,a.getConfig)(),await _(E,x,null,L,{config:U,requireToAddress:!1})}async function S(E,x,L,{config:U=void 0}={}){if(U=U||(0,a.getConfig)(),x>=E.get("outputs").size)throw new Error("Invalid output index!");const O=c.BI.from(E.get("outputs").get(x).cellOutput.capacity);return await _(E,L,null,c.BI.from(O),{config:U,requireToAddress:!1})}function A(E,{config:x=void 0}={}){return x=x||(0,a.getConfig)(),(0,s.prepareSigningEntries)(E,x,"SECP256K1_BLAKE160")}return oi.default={transfer:y,transferCompatible:_,payFee:w,prepareSigningEntries:A,injectCapacity:S,setupInputCell:d,CellCollector:h},oi}var Ib={},x8;function E1(){return x8||(x8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CellCollector=void 0,e.injectCapacity=A,Object.defineProperty(e,"multisigArgs",{enumerable:!0,get:function(){return c.multisigArgs}}),e.payFee=S,e.prepareSigningEntries=E,Object.defineProperty(e,"serializeMultisigScript",{enumerable:!0,get:function(){return c.serializeMultisigScript}}),e.setupInputCell=y,e.transfer=_,e.transferCompatible=w;var t=Yn(),r=wr(),n=zr(),a=Qn(),s=Ls,u=Wo(),c=Qa(),f=en();const{ScriptValue:h}=n.values,d=e.CellCollector=class{constructor(L,U,{config:O=void 0,queryOptions:H={}}={}){if(!U)throw new Error("Cell provider is missing!");O=O||(0,a.getConfig)();const P=(0,c.parseFromInfo)(L,{config:O});this.fromScript=P.fromScript,this.multisigScript=P.multisigScript,this.config=O,H={...H,lock:this.fromScript,type:H.type||"empty"},this.cellCollector=U.collector(H)}async*collect(){if((0,u.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const L of this.cellCollector.collect())yield L}};async function y(x,L,U,{config:O=void 0,defaultWitness:H="0x",since:P=void 0,requireMultisigScript:q=!0}={}){if(O=O||(0,a.getConfig)(),q&&typeof U!="object")throw new Error("`fromInfo` must be MultisigScript format!");const j=L.cellOutput.lock;if(U){const M=(0,c.parseFromInfo)(U,{config:O}).fromScript;if(!new h(M,{validate:!1}).equals(new h(j,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,u.isSecp256k1Blake160MultisigScript)(j,O))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");x=x.update("inputs",M=>M.push(L)),P&&(x=x.update("inputSinces",M=>M.set(x.get("inputs").size-1,P))),x=x.update("witnesses",M=>M.push(H));const F={cellOutput:{capacity:L.cellOutput.capacity,lock:L.cellOutput.lock,type:L.cellOutput.type},data:L.data};x=x.update("outputs",M=>M.push(F));const X=O.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!X)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const z={txHash:X.TX_HASH,index:X.INDEX};x=(0,u.addCellDep)(x,{outPoint:z,depType:X.DEP_TYPE});const I=x.get("inputs").findIndex(M=>new h(M.cellOutput.lock,{validate:!1}).equals(new h(j,{validate:!1})));if(I!==-1){for(;I>=x.get("witnesses").size;)x=x.update("witnesses",m=>m.push("0x"));if(x.get("witnesses").get(I)==="0x"&&typeof U!="object")throw new Error("`fromInfo` must be MultisigScript format!");if(typeof U=="object"){const m=(0,c.parseFromInfo)(U,{config:O}).multisigScript;let C=x.get("witnesses").get(I);const p={lock:"0x"+m.slice(2)+u.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(U.M)};if(C!=="0x"){const v=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(C)),D=v.lock;if(D&&p.lock&&!r.bytes.equal(D,p.lock))throw new Error("Lock field in first witness is set aside for signature!");const B=v.inputType;B&&(p.inputType=B);const b=v.outputType;b&&(p.outputType=b)}C=r.bytes.hexify(n.blockchain.WitnessArgs.pack(p)),x=x.update("witnesses",v=>v.set(I,C))}}return x}async function _(x,L,U,O,{config:H=void 0,requireToAddress:P=!0,assertAmountEnough:q=!0}={}){const j=await w(x,L,U,O,{config:H,requireToAddress:P,assertAmountEnough:q});let F,X;return j instanceof Array?(F=j[0],X=BigInt(j[1].toString()),[F,X]):(F=j,F)}async function w(x,L,U,O,{config:H=void 0,requireToAddress:P=!0,assertAmountEnough:q=!0}={}){H=H||(0,a.getConfig)();const j=H.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!j)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const F={txHash:j.TX_HASH,index:j.INDEX};x=(0,u.addCellDep)(x,{outPoint:F,depType:j.DEP_TYPE});const{fromScript:X,multisigScript:z}=(0,c.parseFromInfo)(L,{config:H});(0,u.ensureScript)(X,H,"SECP256K1_BLAKE160_MULTISIG");const I=!x.get("inputs").find(v=>new h(v.cellOutput.lock,{validate:!1}).equals(new h(X,{validate:!1})));if(I&&L==="string")throw new Error("MultisigScript is required for witness!");if(P&&!U)throw new Error("You must provide a to address!");let M=O?f.BI.from(O):f.BI.from(0);if(U){const v=(0,t.parseAddress)(U,{config:H});x=x.update("outputs",D=>D.push({cellOutput:{capacity:"0x"+M.toString(16),lock:v,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const m=x.get("fixedEntries").filter(({field:v})=>v==="outputs").maxBy(({index:v})=>v);let C=m?m.index+1:0;for(;C<x.get("outputs").size&&M.gt(0);++C){const v=x.get("outputs").get(C);if(new h(v.cellOutput.lock,{validate:!1}).equals(new h(X,{validate:!1}))){const D=f.BI.from(v.cellOutput.capacity);let B;M.gte(D)?B=D:(B=D.sub((0,t.minimalCellCapacityCompatible)(v)),B.gt(M)&&(B=M)),M=M.sub(B),v.cellOutput.capacity="0x"+D.sub(B).toString(16)}}if(x=x.update("outputs",v=>v.filter(D=>!f.BI.from(D.cellOutput.capacity).eq(0))),M.gt(0)){const v=x.get("cellProvider");if(!v)throw new Error("cell provider is missing!");const D=v.collector({lock:X}),B={cellOutput:{capacity:"0x0",lock:X,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let b=f.BI.from(0),R=(0,s.Set)();for(const Y of x.get("inputs"))R=R.add(`${Y.outPoint.txHash}_${Y.outPoint.index}`);for await(const Y of D.collect()){if(R.has(`${Y.outPoint.txHash}_${Y.outPoint.index}`))continue;x=x.update("inputs",J=>J.push(Y)),x=x.update("witnesses",J=>J.push("0x"));const Q=f.BI.from(Y.cellOutput.capacity);let W=Q;if(W.gt(M)&&(W=M),M=M.sub(W),b=b.add(Q.sub(W)),M.eq(0)&&(b.eq(0)||b.gt((0,t.minimalCellCapacityCompatible)(B))))break}b.gt(0)&&(B.cellOutput.capacity="0x"+b.toString(16),x=x.update("outputs",Y=>Y.push(B)))}if(M.gt(0)&&q)throw new Error("Not enough capacity in from address!");const p=x.get("inputs").findIndex(v=>new h(v.cellOutput.lock,{validate:!1}).equals(new h(X,{validate:!1})));if(p!==-1){for(;f.BI.from(p).gte(x.get("witnesses").size);)x=x.update("witnesses",v=>v.push("0x"));if(I||typeof L!="string"){let v=x.get("witnesses").get(p);const D={lock:"0x"+z.slice(2)+u.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(L.M)};if(v!=="0x"){const B=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(v)),b=B.lock;if(b&&D.lock&&!r.bytes.equal(b,D.lock))throw new Error("Lock field in first witness is set aside for signature!");const R=B.inputType;R&&(D.inputType=R);const Y=B.outputType;Y&&(D.outputType=Y)}v=r.bytes.hexify(n.blockchain.WitnessArgs.pack(D)),x=x.update("witnesses",B=>B.set(p,v))}}return q?x:[x,f.BI.from(M)]}async function S(x,L,U,{config:O=void 0}={}){return O=O||(0,a.getConfig)(),w(x,L,void 0,U,{config:O,requireToAddress:!1})}async function A(x,L,U,{config:O=void 0}={}){if(O=O||(0,a.getConfig)(),L>=x.get("outputs").size)throw new Error("Invalid output index!");const H=f.BI.from(x.get("outputs").get(L).cellOutput.capacity);return w(x,U,void 0,H,{config:O,requireToAddress:!1})}function E(x,{config:L=void 0}={}){return L=L||(0,a.getConfig)(),(0,u.prepareSigningEntries)(x,L,"SECP256K1_BLAKE160_MULTISIG")}e.default={transfer:_,transferCompatible:w,payFee:S,prepareSigningEntries:E,serializeMultisigScript:c.serializeMultisigScript,multisigArgs:c.multisigArgs,injectCapacity:A,setupInputCell:y,CellCollector:d}}(Ib)),Ib}var Ii={},ui={},Tb={},Ba={},ci={},S8;function Vv(){if(S8)return ci;S8=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.CellCollector=void 0,ci.checkLimit=S,ci.default=void 0,ci.injectCapacity=E,ci.prepareSigningEntries=x,ci.setupInputCell=w,ci.setupOutputCell=A,ci.withdraw=L;var e=zr(),t=wr(),r=Qn(),n=Yn(),a=Ls,s=en(),u=Qa(),c=Wo(),f=J7();const{ScriptValue:h}=e.values,{CKBHasher:d,ckbHash:y}=e.utils,_=ci.CellCollector=class{constructor(O,H,{config:P=void 0,queryOptions:q={}}={}){if(!H)throw new Error("Cell provider is missing!");P=P||(0,r.getConfig)(),this.fromScript=(0,u.parseFromInfo)(O,{config:P}).fromScript,this.config=P,q={...q,lock:this.fromScript,type:q.type||"empty"},this.cellCollector=H.collector(q)}async*collect(){if((0,c.isAcpScript)(this.fromScript,this.config))for await(const O of this.cellCollector.collect())yield O}};async function w(U,O,H,{config:P=void 0,defaultWitness:q="0x",since:j=void 0}={}){P=P||(0,r.getConfig)();const F=O.cellOutput.lock;if(!(0,c.isAcpScript)(F,P))throw new Error("Not anyone-can-pay input!");U=U.update("inputs",m=>m.push(O)),j&&(U=U.update("inputSinces",m=>m.set(U.get("inputs").size-1,j))),U=U.update("witnesses",m=>m.push(q));const X={cellOutput:{capacity:O.cellOutput.capacity,lock:O.cellOutput.lock,type:O.cellOutput.type},data:O.data};U=U.update("outputs",m=>m.push(X)),U=U.update("fixedEntries",m=>m.push({field:"outputs",index:U.get("outputs").size-1}));const z=P.SCRIPTS.ANYONE_CAN_PAY;if(!z)throw new Error("ANYONE_CAN_PAY script not defined in config!");const I={txHash:z.TX_HASH,index:z.INDEX};U=(0,c.addCellDep)(U,{outPoint:I,depType:z.DEP_TYPE});const M=U.get("inputs").findIndex(m=>new h(m.cellOutput.lock,{validate:!1}).equals(new h(F,{validate:!1})));if(M!==-1){for(;M>=U.get("witnesses").size;)U=U.update("witnesses",p=>p.push("0x"));let m=U.get("witnesses").get(M);const C={lock:c.SECP_SIGNATURE_PLACEHOLDER};if(m!=="0x"){const p=e.blockchain.WitnessArgs.unpack(t.bytes.bytify(m)),v=p.lock;if(v&&C.lock&&!t.bytes.equal(v,C.lock))throw new Error("Lock field in first witness is set aside for signature!");const D=p.inputType;D&&(C.inputType=D);const B=p.outputType;B&&(C.outputType=B)}m=t.bytes.hexify(e.blockchain.WitnessArgs.pack(C)),U=U.update("witnesses",p=>p.set(M,m))}return U}function S(U,O){const H=s.BI.from(O);let P,q;if(U.length>=46&&(P=s.BI.from(10).pow("0x"+U.slice(44,46))),U.length>=44){const j=s.BI.from(10).pow("0x"+U.slice(42,44)),F=s.BI.from(10).pow(8);q=j.mul(F)}if(q&&P){if(H.lt(q))throw new Error(`capacity(${O}) less than toAddress minimal capacity limit(${q}), and amount less then toAddress minimal amount limit(${P})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(q&&H.lt(q))throw new Error(`capacity(${O}) less than toAddress minimal capacity limit(${q})!`)}async function A(U,O,{config:H=void 0}={}){H=H||(0,r.getConfig)();const P=O.cellOutput.lock,q=s.BI.from(O.cellOutput.capacity);S(P.args,q.toString());const j=U.get("cellProvider");if(!j)throw new Error("Cell Provider is missing!");const F=(0,n.generateAddress)(P,{config:H}),z=(await new _(F,j,{config:H}).collect().next()).value;let I=q;if(z&&(I=q.add(z.cellOutput.capacity),U=U.update("inputs",M=>M.push(z)),U=U.update("witnesses",M=>M.push("0x"))),O.cellOutput.capacity="0x"+I.toString(16),U=U.update("outputs",M=>M.push(O)),z){const M=H.SCRIPTS.ANYONE_CAN_PAY;if(!M)throw new Error("ANYONE_CAN_PAY script not defined in config!");const m={txHash:M.TX_HASH,index:M.INDEX};U=(0,c.addCellDep)(U,{outPoint:m,depType:M.DEP_TYPE})}return U}async function E(U,O,H,P,{config:q=void 0}={}){if(q=q||(0,r.getConfig)(),H>=O.get("outputs").size)throw new Error("Invalid output index!");let j=s.BI.from(P);if(!q.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const X=U.fromScript,z=O.get("fixedEntries").filter(({field:m})=>m==="outputs").maxBy(({index:m})=>m);let I=z?z.index+1:0;for(;I<O.get("outputs").size&&j.gt(0);I++){const m=O.get("outputs").get(I);if(new h(m.cellOutput.lock,{validate:!1}).equals(new h(X,{validate:!1}))){const C=s.BI.from(m.cellOutput.capacity),p=C.sub((0,n.minimalCellCapacityCompatible)(m)),v=j.gte(p)?p:j;j=j.sub(v),m.cellOutput.capacity="0x"+C.sub(v).toString(16)}}O=O.update("outputs",m=>m.filter(C=>!s.BI.from(C.cellOutput.capacity).eq(0)));const M=m=>`${m.outPoint.txHash}_${m.outPoint.index}`;if(j.gt(0)){const m={cellOutput:{capacity:"0x0",lock:X,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let C=s.BI.from(0);const p=s.BI.from((0,n.minimalCellCapacityCompatible)(m));let v=(0,a.Set)();for(const D of O.get("inputs"))v=v.add(M(D));for await(const D of U.collect()){if(v.has(M(D)))continue;O=await w(O,D,void 0,{config:q});const B=O.get("outputs").size-1;O=O.update("outputs",Q=>Q.remove(B));const b=O.get("fixedEntries").findIndex(Q=>Q.field==="outputs"&&Q.index===B);b>=0&&(O=O.update("fixedEntries",Q=>Q.remove(b)));const R=s.BI.from(D.cellOutput.capacity);let Y=R;if(Y.gt(j)&&(Y=j),j=j.sub(Y),C=C.add(R.sub(Y)),j.eq(0)&&C.gte(p))break;m.cellOutput.capacity="0x"+C.toString(16),O=O.update("outputs",Q=>Q.push(m))}if(j.gt(0)||C<p)throw new Error("Not enough capacity in from address!");m.cellOutput.capacity="0x"+C.toString(16),O=O.update("outputs",D=>D.push(m))}return O}function x(U,{config:O=void 0}={}){O=O||(0,r.getConfig)();const H="ANYONE_CAN_PAY",P=O.SCRIPTS[H];if(!P)throw new Error(`Provided config does not have ${H} script setup!`);let q=(0,a.Set)();const j=(0,n.createTransactionFromSkeleton)(U),F=y(e.blockchain.RawTransaction.pack(j)),X=U.get("inputs"),z=U.get("witnesses");let I=U.get("signingEntries");for(let M=0;M<X.size;M++){const m=X.get(M);if(P.CODE_HASH===m.cellOutput.lock.codeHash&&P.HASH_TYPE===m.cellOutput.lock.hashType&&!q.has(m.cellOutput.lock.args)){q=q.add(m.cellOutput.lock.args);const C=U.get("outputs").filter(W=>new h(W.cellOutput.lock,{validate:!1}).equals(new h(m.cellOutput.lock,{validate:!1}))),p=C.map(W=>s.BI.from(W.cellOutput.capacity)).reduce((W,J)=>W.add(J),s.BI.from(0)),v=C.filter(W=>W.data!=="0x").map(W=>(0,f.unpackAmount)(W.data)).reduce((W,J)=>W.add(J),s.BI.from(0)),D=X.filter(W=>new h(W.cellOutput.lock,{validate:!1}).equals(new h(m.cellOutput.lock,{validate:!1}))),B=D.map(W=>s.BI.from(W.cellOutput.capacity)).reduce((W,J)=>W.add(J),s.BI.from(0)),b=D.filter(W=>W.data!=="0x").map(W=>s.BI.from((0,f.unpackAmount)(W.data))).reduce((W,J)=>W.add(J),s.BI.from(0));if(B.lte(p)&&b.lte(v))continue;const R=new e.values.ScriptValue(m.cellOutput.lock,{validate:!1}),Y=new d;if(Y.update(F),M>=z.size)throw new Error(`The first witness in the script group starting at input index ${M} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,c.hashWitness)(Y,z.get(M));for(let W=M+1;W<X.size&&W<z.size;W++){const J=X.get(W);R.equals(new e.values.ScriptValue(J.cellOutput.lock,{validate:!1}))&&(0,c.hashWitness)(Y,z.get(W))}for(let W=X.size;W<z.size;W++)(0,c.hashWitness)(Y,z.get(W));const Q={type:"witness_args_lock",index:M,message:Y.digestHex()};I=I.push(Q)}}return U=U.set("signingEntries",I),U}async function L(U,O,H,P,{config:q=void 0}={}){if(q=q||(0,r.getConfig)(),!(0,c.isAcpScript)(O.cellOutput.lock,q))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const j=s.BI.from(P),F=s.BI.from(O.cellOutput.capacity),X=s.BI.from((0,n.minimalCellCapacityCompatible)(O));if(!(j.gte(0)&&j.lte(F.sub(X))||j.eq(F)))throw new Error(`capacity must be in [0, ${F.sub(X)}] or ${F} !`);const z=(0,n.parseAddress)(H,{config:q}),I={cellOutput:{capacity:"0x"+P.toString(16),lock:z,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,c.isAcpScript)(z,q)){S(z.args,P);const C=U.get("cellProvider");if(!C)throw new Error("Cell Provider is missing!");const v=(await new _(H,C,{config:q}).collect().next()).value;if(!v)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const D=j.add(v.cellOutput.capacity);I.cellOutput.capacity="0x"+D.toString(16),U=U.update("inputs",B=>B.push(v)),U=U.update("witnesses",B=>B.push("0x"))}U=U.update("outputs",C=>C.push(I)),U=await w(U,O,(0,n.generateAddress)(O.cellOutput.lock,{config:q}),{config:q});const M=U.get("outputs").size-1;U=U.update("outputs",C=>C.remove(M));const m=U.get("fixedEntries").findIndex(C=>C.field==="outputs"&&C.index===M);return m>=0&&(U=U.update("fixedEntries",C=>C.remove(m))),j.eq(F)||(U=U.update("outputs",C=>C.push({cellOutput:{capacity:"0x"+F.sub(P).toString(16),lock:O.cellOutput.lock,type:O.cellOutput.type},data:O.data}))),U}return ci.default={CellCollector:_,setupInputCell:w,setupOutputCell:A,injectCapacity:E,prepareSigningEntries:x,withdraw:L},ci}var C8;function J7(){if(C8)return Ba;C8=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.default=void 0,Ba.issueToken=L,Ba.ownerForSudt=H,Ba.packAmount=q,Ba.transfer=U,Ba.unpackAmount=P;var e=Wo(),t=zr(),r=A(E1()),n=Qa(),a=A(Gv()),s=Yn(),u=Ls,c=Qn(),f=$v(),h=S(Vv()),d=A(Rd()),y=en(),_=wr();function w(j){if(typeof WeakMap!="function")return null;var F=new WeakMap,X=new WeakMap;return(w=function(z){return z?X:F})(j)}function S(j,F){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var X=w(F);if(X&&X.has(j))return X.get(j);var z={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in j)if(M!=="default"&&{}.hasOwnProperty.call(j,M)){var m=I?Object.getOwnPropertyDescriptor(j,M):null;m&&(m.get||m.set)?Object.defineProperty(z,M,m):z[M]=j[M]}return z.default=j,X&&X.set(j,z),z}function A(j){return j&&j.__esModule?j:{default:j}}const{computeScriptHash:E}=t.utils,{ScriptValue:x}=t.values;async function L(j,F,X,z,I,{config:M=void 0}={}){M=M||(0,c.getConfig)();const m=M.SCRIPTS.SUDT;if(!m)throw new Error("Provided config does not have SUDT script setup!");j=(0,e.addCellDep)(j,{outPoint:{txHash:m.TX_HASH,index:m.INDEX},depType:m.DEP_TYPE});const C=(0,n.parseFromInfo)(F,{config:M}).fromScript,p=C,v={codeHash:m.CODE_HASH,hashType:m.HASH_TYPE,args:E(C)},D={cellOutput:{capacity:"0x0",lock:p,type:v},data:_.bytes.hexify(_.number.Uint128LE.pack(X)),outPoint:void 0,blockHash:void 0};z||(z=(0,s.minimalCellCapacityCompatible)(D));const B=y.BI.from(z);D.cellOutput.capacity="0x"+B.toString(16),j=j.update("outputs",R=>R.push(D));const b=j.get("outputs").size-1;return j=j.update("fixedEntries",R=>R.push({field:"outputs",index:b})),j=await a.default.injectCapacity(j,[F],y.BI.from(y.BI.from(D.cellOutput.capacity)),void 0,I,{config:M}),j}async function U(j,F,X,z,I,M,m,C,{config:p=void 0,LocktimePoolCellCollector:v=f.CellCollector,splitChangeCell:D=!1}={}){p=p||(0,c.getConfig)();let B=y.BI.from(I),b=m?y.BI.from(m):void 0;const R=p.SCRIPTS.SUDT;if(!R)throw new Error("Provided config does not have SUDT script setup!");if(F.length===0)throw new Error("`fromInfos` can't be empty!");if(!z)throw new Error("You must provide a to address!");const Y=(0,s.parseAddress)(z,{config:p}),Q=F.map(ft=>(0,n.parseFromInfo)(ft,{config:p}).fromScript),W=M?(0,s.parseAddress)(M,{config:p}):Q[0];if(B.lte(0))throw new Error("amount must be greater than 0");const J=O(X,p),G=j.get("cellProvider");if(!G)throw new Error("Cell provider is missing!");let et=y.BI.from(0),it=y.BI.from(0);if((0,e.isAcpScript)(Y,p)){const dt=(await new h.CellCollector(z,G,{config:p,queryOptions:{type:J,data:"any"}}).collect().next()).value;if(!dt)throw new Error("toAddress ANYONE_CAN_PAY input not found!");j=j.update("inputs",At=>At.push(dt)),j=j.update("witnesses",At=>At.push("0x")),et=y.BI.from(dt.cellOutput.capacity),it=P(dt.data)}const ut={cellOutput:{capacity:"0x0",lock:Y,type:J},data:_.bytes.hexify(_.number.Uint128LE.pack(B)),outPoint:void 0,blockHash:void 0};(0,e.isAcpScript)(Y,p)?(b||(b=y.BI.from(0)),ut.cellOutput.capacity="0x"+et.add(b).toString(16),ut.data=_.bytes.hexify(_.number.Uint128LE.pack(it.add(B)))):(b||(b=y.BI.from((0,s.minimalCellCapacityCompatible)(ut))),ut.cellOutput.capacity="0x"+b.toString(16)),j=j.update("outputs",ft=>ft.push(ut)),j=j.update("fixedEntries",ft=>ft.push({field:"outputs",index:j.get("outputs").size-1})),j=(0,e.addCellDep)(j,{outPoint:{txHash:R.TX_HASH,index:R.INDEX},depType:R.DEP_TYPE});const ct={cellOutput:{capacity:"0x0",lock:W,type:J},data:_.bytes.hexify(_.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},tt={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let V=y.BI.from(0),ot=y.BI.from(0),mt=(0,u.Set)();for(const ft of j.get("inputs"))mt=mt.add(`${ft.outPoint.txHash}_${ft.outPoint.index}`);let Tt=(0,u.List)();C&&F.forEach((ft,dt)=>{const At=new v(ft,G,{config:p,tipHeader:C,queryOptions:{type:J,data:"any"}});Tt=Tt.push({cellCollector:At,index:dt})}),F.forEach((ft,dt)=>{const At=new d.default.CellCollector(ft,G,{config:p,queryOptions:{type:J,data:"any"}}),Nt=new r.default.CellCollector(ft,G,{config:p,queryOptions:{type:J,data:"any"}}),Ot=new h.default.CellCollector(ft,G,{config:p,queryOptions:{type:J,data:"any"}});Tt=Tt.push({cellCollector:At,index:dt},{cellCollector:Nt,index:dt},{cellCollector:Ot,index:dt,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(ft,{config:p}).destroyable})}),C&&F.forEach((ft,dt)=>{const At=new v(ft,G,{config:p,tipHeader:C});Tt=Tt.push({cellCollector:At,index:dt})}),F.forEach((ft,dt)=>{const At=new d.default.CellCollector(ft,G,{config:p}),Nt=new r.default.CellCollector(ft,G,{config:p}),Ot=new h.default.CellCollector(ft,G,{config:p});Tt=Tt.push({cellCollector:At,index:dt},{cellCollector:Nt,index:dt},{cellCollector:Ot,index:dt,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(ft,{config:p}).destroyable})});for(const{index:ft,cellCollector:dt,isAnyoneCanPay:At,destroyable:Nt}of Tt)for await(const Ot of dt.collect()){const Pt=`${Ot.outPoint.txHash}_${Ot.outPoint.index}`;if(mt.has(Pt))continue;mt=mt.add(Pt);const pe=F[ft];j=await a.default.setupInputCell(j,Ot,pe,{config:p});const Xt=j.get("outputs").size-1;j=j.update("outputs",wt=>wt.remove(Xt));const ne=j.get("fixedEntries").findIndex(wt=>wt.field==="outputs"&&wt.index===Xt);ne>=0&&(j=j.update("fixedEntries",wt=>wt.remove(ne)));const at=y.BI.from(Ot.cellOutput.capacity),$=Ot.cellOutput.type?P(Ot.data):y.BI.from(0);let k=At&&!Nt?at.sub((0,s.minimalCellCapacityCompatible)(Ot)):at,K=$;k.gt(b)&&(k=y.BI.from(b)),b=b.sub(k);const nt=at.sub(k);(!At||At&&Nt)&&(V=V.add(nt)),K.gt(B)&&(K=B),B=B.sub(K);const pt=$.sub(K);if((!At||At&&Nt)&&(ot=ot.add(pt)),At&&!Nt){const wt={cellOutput:{capacity:"0x"+nt.toString(16),lock:Ot.cellOutput.lock,type:Ot.cellOutput.type},data:Ot.cellOutput.type?_.bytes.hexify(_.number.Uint128LE.pack(pt)):"0x"};j=j.update("outputs",Ct=>Ct.push(wt)),Ot.cellOutput.type&&(j=j.update("fixedEntries",Ct=>Ct.push({field:"outputs",index:j.get("outputs").size-1})))}if(b.eq(0)&&B.eq(0)&&(V.eq(0)&&ot.eq(0)||V.gt((0,s.minimalCellCapacityCompatible)(tt))&&ot.eq(0))){ct.cellOutput.type=void 0,ct.data="0x";break}if(b.eq(0)&&B.eq(0)&&V.gt((0,s.minimalCellCapacityCompatible)(tt))&&ot.gt(0))break}let st=-1;if((0,e.isAcpScript)(ct.cellOutput.lock,p)&&(st=j.get("outputs").findIndex(ft=>new x(ct.cellOutput.lock,{validate:!1}).equals(new x(ft.cellOutput.lock,{validate:!1}))&&(ot.eq(0)&&!ct.cellOutput.type&&!ft.cellOutput.type||ot.gte(0)&&!!ct.cellOutput.type&&!!ft.cellOutput.type&&new x(ct.cellOutput.type,{validate:!1}).equals(new x(ft.cellOutput.type,{validate:!1})))))!==-1&&j.get("fixedEntries").findIndex(ft=>ft.field==="output"&&ft.index===st)===-1){const ft=j.get("outputs").get(st),dt=JSON.parse(JSON.stringify(ft));dt.cellOutput.capacity="0x"+y.BI.from(ft.cellOutput.capacity).add(V).toString(16),ot.gt(0)&&(dt.data=_.bytes.hexify(_.number.Uint128LE.pack(P(ft.data).add(ot))));const At=y.BI.from((0,s.minimalCellCapacityCompatible)(ct)),Nt=y.BI.from((0,s.minimalCellCapacityCompatible)(tt));let Ot=!1;ot.gt(0)&&D&&V.gte(At.add(Nt))&&(dt.cellOutput.capacity=ft.cellOutput.capacity,tt.cellOutput.capacity="0x"+V.toString(16),Ot=!0),j=j.update("outputs",Pt=>Pt.set(st,dt)),Ot&&(j=j.update("outputs",Pt=>Pt.push(tt)))}else if(V.gte((0,s.minimalCellCapacityCompatible)(ct))){ct.cellOutput.capacity="0x"+V.toString(16),ot.gt(0)&&(ct.data=_.bytes.hexify(_.number.Uint128LE.pack(ot)));const ft=y.BI.from((0,s.minimalCellCapacityCompatible)(ct)),dt=y.BI.from((0,s.minimalCellCapacityCompatible)(tt));let At=!1;ot.gt(0)&&D&&V.gte(ft.add(dt))&&(ct.cellOutput.capacity="0x"+ft.toString(16),tt.cellOutput.capacity="0x"+V.sub(ft).toString(16),At=!0),j=j.update("outputs",Nt=>Nt.push(ct)),ot.gt(0)&&(j=j.update("fixedEntries",Nt=>Nt.push({field:"outputs",index:j.get("outputs").size-1}))),At&&(j=j.update("outputs",Nt=>Nt.push(tt)))}else if(ot.gt(0)&&V.lt((0,s.minimalCellCapacityCompatible)(ct)))throw new Error("Not enough capacity for change in from infos!");if(b.gt(0))throw new Error("Not enough capacity in from infos!");if(B.gt(0))throw new Error("Not enough amount in from infos!");return j}function O(j,F){const X=F.SCRIPTS.SUDT;return{codeHash:X.CODE_HASH,hashType:X.HASH_TYPE,args:j}}function H(j,{config:F=void 0}={}){F=F||(0,c.getConfig)();const{fromScript:X}=(0,n.parseFromInfo)(j,{config:F});return E(X)}function P(j){return _.number.Uint128LE.unpack(_.bytes.bytify(j).slice(0,16))}function q(j){return _.bytes.hexify(_.number.Uint128LE.pack(j))}return Ba.default={issueToken:L,transfer:U,ownerForSudt:H,packAmount:q,unpackAmount:P},Ba}var lp={},I8;function UO(){if(I8)return lp;I8=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.createP2PKHMessageGroup=f;var e=zr(),t=Yn(),r=wr(),n=en();function a(h,d){const y=new Set;for(const w of d){const S=e.utils.ckbHash(e.blockchain.Script.pack(w));y.add(S)}const _=new Map;for(let w=0;w<h.length;w++){const S=e.utils.ckbHash(e.blockchain.Script.pack(h[w].cellOutput.lock));y.has(S)&&(_.get(S)===void 0&&_.set(S,[]),_.get(S).push(w))}return _}function s(h){const d=(0,t.createTransactionFromSkeleton)(h),y={cellDeps:d.cellDeps,headerDeps:d.headerDeps,inputs:d.inputs,outputs:d.outputs,outputsData:d.outputsData,version:d.version};return e.utils.ckbHash(e.blockchain.RawTransaction.pack(y))}const u=()=>{const h=new e.utils.CKBHasher;return{update:d=>h.update(d.buffer),digest:()=>r.bytes.bytify(h.digestHex())}};function c(h){return h instanceof Function?h():h}function f(h,d,{hasher:y=u}={}){const _=a(h.inputs.toArray(),d),w=s(h);if(d.length>1&&!(y instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const S=[];for(const A of _.keys()){const E=c(y),x=_.get(A),L=x[0],U=h.witnesses.get(L);if(U===void 0)throw new Error("Please fill witnesses with 0 first!");E.update(r.bytes.bytify(w));const O=new ArrayBuffer(8),H=new DataView(O),P=n.BI.from(r.bytes.bytify(U).length).toString(16);P.length<=8&&(H.setUint32(0,+("0x"+P),!0),H.setUint32(4,+"0x00000000",!0)),P.length>8&&P.length<=16&&(H.setUint32(0,+("0x"+P.slice(-8)),!0),H.setUint32(4,+("0x"+P.slice(0,-8)),!0)),E.update(new Uint8Array(O)),E.update(r.bytes.bytify(U));for(let F=1;F<x.length;F++){const X=h.witnesses.get(x[F]);E.update(new Uint8Array(O)),E.update(r.bytes.bytify(X))}for(let F=h.inputs.toArray().length;F<h.witnesses.toArray().length;F++){const X=h.witnesses.get(F);E.update(new Uint8Array(O)),E.update(r.bytes.bytify(X))}const q=E.digest(),j={index:L,lock:h.inputs.get(L).cellOutput.lock,message:"0x"+Array.prototype.map.call(q,F=>("00"+F.toString(16)).slice(-2)).join("")};S.push(j)}return S}return lp}var ys={},T8;function PO(){if(T8)return ys;T8=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.compareScriptBinaryWithOnChainData=M,ys.default=void 0,ys.generateDeployWithDataTx=X,ys.generateDeployWithTypeIdTx=z,ys.generateUpgradeTypeIdDataTx=I;var e=zr(),t=wr(),r=Qn(),n=Yn(),a=Ls,s=Qa(),u=en();const{ScriptValue:c}=e.values;function f(m){let C="0x";for(let p=0;p<m.length;p++)C+=m[p].toString(16).padStart(2,"0");return C}async function h(m,C){const p=C.collector({lock:m,type:"empty",data:"0x"}),v=[];for await(const D of p.collect())v.push(D);return v}function d(m,C){const p=(0,n.minimalCellCapacityCompatible)(C);return C.cellOutput.capacity=`0x${p.toString(16)}`,m=m.update("outputs",v=>v.push(C)),m}function y(m,C){m=m.update("cellDeps",D=>D.clear()),C=C||(0,r.getConfig)();const p=C.SCRIPTS.SECP256K1_BLAKE160,v=C.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!p||!v)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return m=m.update("cellDeps",D=>D.push({outPoint:{txHash:p.TX_HASH,index:p.INDEX},depType:p.DEP_TYPE},{outPoint:{txHash:v.TX_HASH,index:v.INDEX},depType:v.DEP_TYPE})),m}async function _(m,C,p,v){const D=m.get("inputs").map(R=>u.BI.from(R.cellOutput.capacity)).reduce((R,Y)=>R.add(Y),u.BI.from(0)),b=m.get("outputs").map(R=>u.BI.from(R.cellOutput.capacity)).reduce((R,Y)=>R.add(Y),u.BI.from(0)).sub(D);return m=await w(m,C,u.BI.from(b),{config:p,feeRate:v}),m}async function w(m,C,p,{config:v=void 0,feeRate:D=void 0}){v=v||(0,r.getConfig)();const B=D||1e3;let b=u.BI.from(p);const{fromScript:R,multisigScript:Y}=(0,s.parseFromInfo)(C,{config:v});b=b.add(u.BI.from(10).pow(8));let Q=u.BI.from(10).pow(8);const W={cellOutput:{capacity:"0x0",lock:R,type:void 0},data:"0x"},J=u.BI.from((0,n.minimalCellCapacityCompatible)(W)).add(u.BI.from(10).pow(8));if(b.lt(0)&&(Q=Q.sub(b),b=u.BI.from(0)),b.gt(0)||Q.lt(J)){const it=m.get("cellProvider");if(!it)throw new Error("Cell provider is missing!");const ut=it.collector({lock:R,type:"empty",data:"0x"});let ct=(0,a.Set)();for(const tt of m.get("inputs"))ct=ct.add(`${tt.outPoint.txHash}_${tt.outPoint.index}`);for await(const tt of ut.collect()){if(ct.has(`${tt.outPoint.txHash}_${tt.outPoint.index}`))continue;m=m.update("inputs",mt=>mt.push(tt)),m=m.update("witnesses",mt=>mt.push("0x"));const V=u.BI.from(tt.cellOutput.capacity);let ot=V;if(ot.gt(b)&&(ot=b),b=b.sub(ot),Q=Q.add(V).sub(ot),b.eq(0)&&(Q.eq(0)||Q.gte(J)))break}}if(Q.gt(0)&&(W.cellOutput.capacity="0x"+Q.toString(16),m=m.update("outputs",it=>it.push(W))),b.gt(0)||Q.lt(J))throw new Error("Not enough capacity in from address!");const G=m.get("inputs").findIndex(it=>new c(it.cellOutput.lock,{validate:!1}).equals(new c(R,{validate:!1})));if(G!==-1){for(;G>=m.get("witnesses").size;)m=m.update("witnesses",tt=>tt.push("0x"));let it=m.get("witnesses").get(G),ut;const ct="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(typeof C!="string"?ut={lock:"0x"+Y.slice(2)+ct.slice(2).repeat(C.M)}:ut={lock:ct},it!=="0x"){const tt=e.blockchain.WitnessArgs.unpack(t.bytes.bytify(it)),V=tt.lock;if(V&&ut.lock&&!t.bytes.equal(V,ut.lock))throw new Error("Lock field in first witness is set aside for signature!");const ot=tt.inputType;ot&&(ut.inputType=ot);const mt=tt.outputType;mt&&(ut.outputType=mt)}it=t.bytes.hexify(e.blockchain.WitnessArgs.pack(ut)),m=m.update("witnesses",tt=>tt.set(G,it))}const et=x(m,B);return Q=Q.sub(et),m=m.update("outputs",it=>it.pop()),Q.gt(0)&&(W.cellOutput.capacity="0x"+Q.toString(16),m=m.update("outputs",it=>it.push(W))),m}function S(m){const C=(0,n.createTransactionFromSkeleton)(m);return A(C)}function A(m){return e.blockchain.Transaction.pack(m).byteLength+4}function E(m,C){const p=u.BI.from(1e3),v=u.BI.from(m).mul(C),D=v.div(p);return D.mul(p).lt(v)?D.add(1):u.BI.from(D)}function x(m,C){const p=S(m);return u.BI.from(E(p,C))}function L(m){const C=m.valueOf();return new e.utils.CKBHasher().update(C.buffer.slice(C.byteOffset,C.byteLength+C.byteOffset)).digestHex()}async function U(m,C){const p=m.txHash,v=parseInt(m.index,10),D=await C.getTransaction(p);if(!D)throw new Error(`TxHash(${p}) is not found`);const B=D.transaction.outputsData[v];if(!B)throw new Error("cannot find output data");return new e.utils.CKBHasher().update(t.bytes.bytify(B)).digestHex()}function O(m){const C=(0,n.createTransactionFromSkeleton)(m);return e.utils.ckbHash(e.blockchain.RawTransaction.pack(C))}function H(m,C){const p=m.outputs.get(C).data,v=e.utils.ckbHash(t.bytes.bytify(p)),D=O(m);return{CODE_HASH:v,HASH_TYPE:"data2",TX_HASH:D,INDEX:"0x0",DEP_TYPE:"code"}}function P(m,C){const p=m.outputs.get(C).cellOutput.type,v=e.utils.computeScriptHash(p),D=O(m);return{CODE_HASH:v,HASH_TYPE:"type",TX_HASH:D,INDEX:"0x0",DEP_TYPE:"code"}}function q(m,C){const p=m.outputs.get(C);if(p==null)throw new Error("Invalid txSkeleton or outputIndex");return p.cellOutput.type!==void 0?P(m,C):H(m,C)}function j(m){return typeof m!="object"?!1:"M"in m&&"R"in m&&Array.isArray(m.publicKeyHashes)}function F(m,{config:C=void 0}={}){if(C=C||(0,r.getConfig)(),typeof m=="string"){if(r.helpers.nameOfScript((0,n.parseAddress)(m,{config:C}),C.SCRIPTS)!=="SECP256K1_BLAKE160")throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!j(m))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function X(m){F(m.fromInfo,{config:m.config});let C=(0,n.TransactionSkeleton)({cellProvider:m.cellProvider});const{fromScript:p}=(0,s.parseFromInfo)(m.fromInfo,{config:m.config}),v={cellOutput:{capacity:"0x0",lock:p},data:f(m.scriptBinary)};C=d(C,v),C=y(C,m.config),C=await _(C,m.fromInfo,m.config,m.feeRate);const D=q(C,0);return{txSkeleton:C,scriptConfig:D}}async function z(m){F(m.fromInfo,{config:m.config});let C=(0,n.TransactionSkeleton)({cellProvider:m.cellProvider});const{fromScript:p}=(0,s.parseFromInfo)(m.fromInfo,{config:m.config}),[v]=await h(p,m.cellProvider);if(!v)throw new Error("fromAddress has no live ckb");const D=e.utils.generateTypeIdScript({previousOutput:v.outPoint,since:"0x0"},"0x0"),B={cellOutput:{capacity:"0x0",lock:p,type:D},data:f(m.scriptBinary)};C=d(C,B),C=y(C,m.config),C=await _(C,m.fromInfo,m.config,m.feeRate);const b=q(C,0);return{txSkeleton:C,scriptConfig:b,typeId:D}}async function I(m){F(m.fromInfo,{config:m.config});let C=(0,n.TransactionSkeleton)({cellProvider:m.cellProvider});const{fromScript:p}=(0,s.parseFromInfo)(m.fromInfo,{config:m.config}),v=m.cellProvider.collector({type:m.typeId}),D=[];for await(const Y of v.collect())D.push(Y);if(D.length!==1)throw new Error("the typeid maybe wrong");const B=D[0];C=C.update("inputs",Y=>Y.push(B));const b={cellOutput:{capacity:"0x0",lock:p,type:m.typeId},data:f(m.scriptBinary)};C=d(C,b),C=y(C,m.config),C=await _(C,m.fromInfo,m.config,m.feeRate);const R=q(C,0);return{txSkeleton:C,scriptConfig:R}}async function M(m,C,p){const v=L(m),D=await U(C,p);return v===D}return ys.default={generateDeployWithDataTx:X,generateDeployWithTypeIdTx:z,generateUpgradeTypeIdDataTx:I,compareScriptBinaryWithOnChainData:M,__tests__:{calculateTxFee:x}},ys}var ln={},$r={},B8;function kO(){if(B8)return $r;B8=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.WitnessArgs=$r.BytesVec=$r.BytesOpt=$r.Bytes=$r.Byte32Vec=$r.Byte32=void 0,$r.WitnessArgsOf=u,$r.createFixedHexBytesCodec=n;var e=yd(),t=ac(),r=o1();function n(f){return(0,e.createFixedBytesCodec)({byteLength:f,pack:h=>(0,t.bytify)(h),unpack:h=>(0,t.hexify)(h)})}const a=$r.Bytes=(0,r.byteVecOf)({pack:t.bytify,unpack:t.hexify});$r.BytesOpt=(0,r.option)(a),$r.BytesVec=(0,r.vector)(a);const s=$r.Byte32=n(32);$r.Byte32Vec=(0,r.vector)(s);function u(f){return(0,r.table)({lock:(0,r.option)((0,r.byteVecOf)(f.lock)),input_type:(0,r.option)((0,r.byteVecOf)(f.input_type)),output_type:(0,r.option)((0,r.byteVecOf)(f.output_type))},["lock","input_type","output_type"])}const c=(0,e.createBytesCodec)({pack:t.bytify,unpack:t.hexify});return $r.WitnessArgs=u({lock:c,input_type:c,output_type:c}),$r}var Eh={},Bb,O8;function qO(){if(O8)return Bb;O8=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var a=0;a<t.length;a++){var s=t.charAt(a),u=s.charCodeAt(0);if(r[u]!==255)throw new TypeError(s+" is ambiguous");r[u]=a}var c=t.length,f=t.charAt(0),h=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function y(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var A=0,E=0,x=0,L=S.length;x!==L&&S[x]===0;)x++,A++;for(var U=(L-x)*d+1>>>0,O=new Uint8Array(U);x!==L;){for(var H=S[x],P=0,q=U-1;(H!==0||P<E)&&q!==-1;q--,P++)H+=256*O[q]>>>0,O[q]=H%c>>>0,H=H/c>>>0;if(H!==0)throw new Error("Non-zero carry");E=P,x++}for(var j=U-E;j!==U&&O[j]===0;)j++;for(var F=f.repeat(A);j<U;++j)F+=t.charAt(O[j]);return F}function _(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;for(var A=0,E=0,x=0;S[A]===f;)E++,A++;for(var L=(S.length-A)*h+1>>>0,U=new Uint8Array(L);S[A];){var O=r[S.charCodeAt(A)];if(O===255)return;for(var H=0,P=L-1;(O!==0||H<x)&&P!==-1;P--,H++)O+=c*U[P]>>>0,U[P]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");x=H,A++}for(var q=L-x;q!==L&&U[q]===0;)q++;for(var j=new Uint8Array(E+(L-q)),F=E;q!==L;)j[F++]=U[q++];return j}function w(S){var A=_(S);if(A)return A;throw new Error("Non-base"+c+" character")}return{encode:y,decodeUnsafe:_,decode:w}}return Bb=e,Bb}var Ob,D8;function tS(){return D8||(D8=1,Ob=qO()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Ob}var M8;function zO(){if(M8)return Eh;M8=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.decodeAddress=s,Eh.signMessage=u;var e=wr(),t=u1(),r=n(tS());function n(f){return f&&f.__esModule?f:{default:f}}const a="CKB (Bitcoin Layer) transaction: 0x";function s(f){try{if(f.startsWith("bc1q"))return t.bech32.fromWords(t.bech32.decode(f).words.slice(1));if(f.startsWith("1")||f.startsWith("3"))return r.default.decode(f).slice(1,21)}catch{if(f.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.")}throw new Error(`Unsupported bitcoin address ${f}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`)}async function u(f,h,d){const y=(()=>{if(d)return d;if(typeof window<"u"){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),_=await y.requestAccounts(),w=e.bytes.hexify(f).slice(2),S=await y.signMessage(`${a}${w}`,h),A=e.bytes.bytify(c(S)),E=_[0];if(E.startsWith("bc1q"))A[0]=39+(A[0]-27)%4;else if(E.startsWith("3"))A[0]=35+(A[0]-27)%4;else if(E.startsWith("1"))A[0]=31+(A[0]-27)%4;else throw new Error(`Unsupported bitcoin address ${E}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`);return e.bytes.hexify(A)}function c(f){const h=atob(f);let d="";for(let y=0;y<h.length;y++){const _=h.charCodeAt(y).toString(16);d+=_.length===2?_:"0"+_}return"0x"+d}return Eh}var hp={},R8;function jO(){if(R8)return hp;R8=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.signMessage=r;var e=wr();const t="CKB transaction: 0x";async function r(n,a){const s=(()=>{if(a)return a;if(typeof window<"u"&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),c=e.bytes.hexify(n).slice(2),f=await s.signMessage(new TextEncoder().encode(`${t}${c}`));return e.bytes.hexify(e.bytes.concat(f.signature,f.publicKey.toBytes()))}return hp}var H8;function eS(){if(H8)return ln;H8=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.bitcoin=ln.OmnilockWitnessLock=ln.CellCollector=void 0,ln.createOmnilockScript=U,ln.default=void 0,ln.prepareSigningEntries=p,ln.setupInputCell=m,ln.solana=void 0;var e=wr(),t=zr(),r=Qn(),n=Wo(),a=Qa(),s=o1(),u=kO(),c=ac(),f=w(zO());ln.bitcoin=f;var h=w(jO());ln.solana=h;var d=tS(),y=$f();function _(v){if(typeof WeakMap!="function")return null;var D=new WeakMap,B=new WeakMap;return(_=function(b){return b?B:D})(v)}function w(v,D){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var B=_(D);if(B&&B.has(v))return B.get(v);var b={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in v)if(Y!=="default"&&{}.hasOwnProperty.call(v,Y)){var Q=R?Object.getOwnPropertyDescriptor(v,Y):null;Q&&(Q.get||Q.set)?Object.defineProperty(b,Y,Q):b[Y]=v[Y]}return b.default=v,B&&B.set(v,b),b}const{ScriptValue:S}=t.values;var A=function(v){return v[v.IdentityFlagsCkb=0]="IdentityFlagsCkb",v[v.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",v[v.IdentityFlagsEos=2]="IdentityFlagsEos",v[v.IdentityFlagsTron=3]="IdentityFlagsTron",v[v.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",v[v.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",v[v.IdentityCkbMultisig=6]="IdentityCkbMultisig",v[v.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",v[v.IdentityFlagsSolana=19]="IdentityFlagsSolana",v[v.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",v[v.IdentityFlagsExec=253]="IdentityFlagsExec",v[v.IdentityFlagsDl=254]="IdentityFlagsDl",v}(A||{});const E=20,x=65,L=96;function U(v,D){const b=((D==null?void 0:D.config)||(0,r.getConfig)()).SCRIPTS.OMNILOCK;if(!b)throw new Error("OMNILOCK script config not found.");const Y=[0],Q=(()=>{const W=v.auth.flag;switch(W){case"ETHEREUM":return e.bytes.hexify(e.bytes.concat([A.IdentityFlagsEthereum],v.auth.content,Y));case"SECP256K1_BLAKE160":return e.bytes.hexify(e.bytes.concat([A.IdentityFlagsCkb],v.auth.content,Y));case"BITCOIN":return e.bytes.hexify(e.bytes.concat([A.IdentityFlagsBitcoin],f.decodeAddress(v.auth.content),Y));case"SOLANA":{const J=e.bytes.bytify((0,y.ckbHash)((0,d.decode)(v.auth.content))).slice(0,E);return e.bytes.hexify(e.bytes.concat([A.IdentityFlagsSolana],J,Y))}default:throw new Error(`Not supported flag: ${W}.`)}})();return{codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:Q}}const O={pack:c.bytify,unpack:c.hexify},P=(0,u.createFixedHexBytesCodec)(21),q=(0,s.byteVecOf)(O),j=(0,s.table)({mask:(0,s.byteOf)(O),proof:q},["mask","proof"]),F=(0,s.vector)(j),X=(0,s.table)({identity:P,proofs:F},["identity","proofs"]),z=(0,s.option)(X),I=ln.OmnilockWitnessLock=(0,s.table)({signature:u.BytesOpt,omni_identity:z,preimage:u.BytesOpt},["signature","omni_identity","preimage"]),M=ln.CellCollector=class{constructor(D,B,{config:b=void 0,queryOptions:R={}}={}){if(!B)throw new Error("Cell provider is missing!");b=b||(0,r.getConfig)(),this.fromScript=(0,a.parseFromInfo)(D,{config:b}).fromScript,this.config=b,R={...R,lock:this.fromScript,type:R.type||"empty"},this.cellCollector=B.collector(R)}async*collect(){if((0,n.isOmnilockScript)(this.fromScript,this.config))for await(const D of this.cellCollector.collect())yield D}};async function m(v,D,B,{config:b=void 0,defaultWitness:R="0x",since:Y=void 0}={}){b=b||(0,r.getConfig)();const Q=D.cellOutput.lock;if(!(0,n.isOmnilockScript)(Q,b))throw new Error("Not OMNILOCK input!");v=v.update("inputs",ct=>ct.push(D));const W={cellOutput:{capacity:D.cellOutput.capacity,lock:D.cellOutput.lock,type:D.cellOutput.type},data:D.data};v=v.update("outputs",ct=>ct.push(W)),Y&&(v=v.update("inputSinces",ct=>ct.set(v.get("inputs").size-1,Y))),v=v.update("witnesses",ct=>ct.push(R));const J=b.SCRIPTS.OMNILOCK,G=b.SCRIPTS.SECP256K1_BLAKE160;if(!J)throw new Error("OMNILOCK script not defined in config!");if(!G)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const et={txHash:J.TX_HASH,index:J.INDEX},it={txHash:G.TX_HASH,index:G.INDEX};v=(0,n.addCellDep)(v,{outPoint:et,depType:J.DEP_TYPE}),v=(0,n.addCellDep)(v,{outPoint:it,depType:G.DEP_TYPE});const ut=v.get("inputs").findIndex(ct=>new S(ct.cellOutput.lock,{validate:!1}).equals(new S(Q,{validate:!1})));if(ut!==-1){for(;ut>=v.get("witnesses").size;)v=v.update("witnesses",ot=>ot.push("0x"));let ct=v.get("witnesses").get(ut);const tt=(()=>{const ot=e.bytes.bytify(D.cellOutput.lock.args)[0];switch(ot){case A.IdentityFlagsSolana:return L;case A.IdentityFlagsCkb:case A.IdentityFlagsEthereum:case A.IdentityFlagsBitcoin:return x;default:throw new Error(`Unsupported flag: ${ot}, please check if the script.args is expected`)}})(),V={lock:C(tt)};ct=e.bytes.hexify(t.blockchain.WitnessArgs.pack(V)),v=v.update("witnesses",ot=>ot.set(ut,ct))}return v}function C(v){const D=I.pack({signature:new Uint8Array(v)}).byteLength;return e.bytes.hexify(new Uint8Array(D))}function p(v,{config:D=void 0}={}){return D=D||(0,r.getConfig)(),(0,n.prepareSigningEntries)(v,D,"OMNILOCK")}return ln.default={prepareSigningEntries:p,setupInputCell:m,CellCollector:M,OmnilockWitnessLock:I,createOmnilockScript:U},ln}var L8;function FO(){return L8||(L8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"common",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return h.createP2PKHMessageGroup}}),Object.defineProperty(e,"dao",{enumerable:!0,get:function(){return a.default}}),e.default=void 0,Object.defineProperty(e,"deploy",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"locktimePool",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"omnilock",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"parseFromInfo",{enumerable:!0,get:function(){return n.parseFromInfo}}),Object.defineProperty(e,"secp256k1Blake160",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"sudt",{enumerable:!0,get:function(){return c.default}});var t=_(Rd()),r=_(E1()),n=Qa(),a=_(Xv()),s=_($v()),u=_(Gv()),c=_(J7()),f=_(Vv()),h=UO(),d=_(PO()),y=_(eS());function _(w){return w&&w.__esModule?w:{default:w}}e.default={secp256k1Blake160:t.default,secp256k1Blake160Multisig:r.default,dao:a.default,locktimePool:s.default,common:u.default,sudt:c.default,anyoneCanPay:f.default}}(Tb)),Tb}var N8;function $v(){if(N8)return ui;N8=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=ui.CellCollector=void 0,ui.injectCapacity=z,ui.payFee=F,ui.prepareSigningEntries=X,ui.setupInputCell=M,ui.transfer=O,ui.transferCompatible=H;var e=Yn(),t=wr(),r=Qa(),n=w(Rd()),a=Xv(),s=zr(),u=Wo(),c=Ls,f=Qn(),h=FO(),d=fv(),y=en(),_=A1();function w(C){return C&&C.__esModule?C:{default:C}}const{ScriptValue:S}=s.values,{parseEpoch:A,maximumAbsoluteEpochSince:E,generateAbsoluteEpochSince:x,validateSince:L}=s.since,U=ui.CellCollector=class{constructor(p,v,{config:D=void 0,queryOptions:B={},tipHeader:b=void 0,NodeRPC:R=_.RPC}={}){if(!v)throw new Error("Cell provider is missing!");D=D||(0,f.getConfig)();const Y=(0,r.parseFromInfo)(p,{config:D}),Q=Y.fromScript;this.multisigScript=Y.multisigScript,this.fromScript=Q,this.config=D,this.tipHeader=b,b&&(this.tipSinceValidationInfo={blockNumber:b.number,epoch:b.epoch,median_timestamp:""}),this.rpc=new R(v.uri),B={...B,lock:this.fromScript};let W=(0,c.List)([]);if((0,u.isSecp256k1Blake160MultisigScript)(Q,D)){const J={codeHash:Q.codeHash,hashType:Q.hashType,args:Q.args.slice(0,42)};W=W.push(v.collector({lock:J,argsLen:B.argsLen||28,type:B.type||"empty",data:B.data||"0x"})),!B.type&&(!B.data||B.data==="any")&&(W=W.push(v.collector({lock:J,type:(0,u.generateDaoScript)(D),data:"any"})),W=W.push(v.collector({lock:J,argsLen:28,type:(0,u.generateDaoScript)(D),data:"any"})))}else(0,u.isSecp256k1Blake160Script)(Q,D)&&!B.type&&(!B.data||B.data==="any")&&(W=W.push(v.collector({lock:Q,type:(0,u.generateDaoScript)(D),data:"any"})));this.cellCollectors=W}async*collect(){for(const p of this.cellCollectors)for await(const v of p.collect()){const D=v.cellOutput.lock;let B,b,R,Y,Q;if(D.args.length===58){const J=await this.rpc.getHeader(v.blockHash);B="0x"+m(D.args).toString(16),Q={epoch:J.epoch,blockNumber:J.number,median_timestamp:""}}if((0,u.isDaoScript)(v.cellOutput.type,this.config)){if(v.data==="0x0000000000000000")continue;const J=await this.rpc.getTransaction(v.outPoint.txHash);Y=J.txStatus.blockHash;const et=J.transaction.inputs[+v.outPoint.index].previousOutput;R=(await this.rpc.getTransaction(et.txHash)).txStatus.blockHash;const it=await this.rpc.getHeader(R),ut=await this.rpc.getHeader(Y);let ct="0x"+(0,a.calculateDaoEarliestSinceCompatible)(it.epoch,ut.epoch).toString(16);b=(0,a.calculateMaximumWithdrawCompatible)(v,it.dao,ut.dao);const tt=A(ut.epoch),V={number:tt.number+4,length:tt.length,index:tt.index};if(ct=E(ct,x(V)),B){const ot=(0,d.parseSinceCompatible)(B);if(!(ot.relative===!1&&ot.type==="epochNumber"))continue;try{B=E(ct,B)}catch{B=ct}}else B=ct}if((0,d.parseSinceCompatible)(B).type==="blockTimestamp"||this.tipHeader&&!L(B,this.tipSinceValidationInfo,Q))continue;const W={...v,since:B,depositBlockHash:R,withdrawBlockHash:Y,sinceValidationInfo:Q};W.cellOutput.capacity="0x"+(b||y.BI.from(v.cellOutput.capacity)).toString(16),yield W}}};async function O(C,p,v,D,B,{config:b=void 0,requireToAddress:R=!0,assertAmountEnough:Y=!0,LocktimeCellCollector:Q=U}={}){const W=await H(C,p,v,D,B,{config:b,requireToAddress:R,assertAmountEnough:Y,LocktimeCellCollector:Q});let J,G;return W instanceof Array?(J=W[0],G=BigInt(W[1].toString()),[J,G]):(J=W,J)}async function H(C,p,v,D,B,{config:b=void 0,requireToAddress:R=!0,assertAmountEnough:Y=!0,LocktimeCellCollector:Q=U}={}){let W=y.BI.from(D);for(const[J,G]of p.entries()){const et=await P(C,G,J===0?v:void 0,W,B,{config:b,requireToAddress:J===0?R:!1,assertAmountEnough:!1,LocktimeCellCollector:Q});if(C=et[0],W=et[1],W.eq(0))return Y?C:[C,y.BI.from(W)]}if(Y)throw new Error("Not enough capacity in from addresses!");return[C,y.BI.from(W)]}async function P(C,p,v,D,B,{config:b=void 0,requireToAddress:R=!0,assertAmountEnough:Y=!0,LocktimeCellCollector:Q=U,changeAddress:W=void 0}){b=b||(0,f.getConfig)();const{fromScript:J}=(0,r.parseFromInfo)(p,{config:b});if(!(0,u.isSecp256k1Blake160MultisigScript)(J,b)&&!(0,u.isSecp256k1Blake160Script)(J,b))throw new Error("fromInfo not supported!");if(R&&!v)throw new Error("You must provide a to address!");let G=y.BI.from(D||0);if(v){const ut=(0,e.parseAddress)(v,{config:b});C=C.update("outputs",ct=>ct.push({cellOutput:{capacity:"0x"+G.toString(16),lock:ut,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const et=C.get("fixedEntries").filter(({field:ut})=>ut==="outputs").maxBy(({index:ut})=>ut);let it=et?et.index+1:0;for(;it<C.get("outputs").size&&G.gt(0);++it){const ut=C.get("outputs").get(it);if(new S(ut.cellOutput.lock,{validate:!1}).equals(new S(J,{validate:!1}))){const ct=y.BI.from(ut.cellOutput.capacity);let tt;G.gte(ct)?tt=ct:(tt=ct.sub((0,e.minimalCellCapacityCompatible)(ut)),tt.gt(G)&&(tt=G)),G=G.sub(tt);const V=JSON.parse(JSON.stringify(ut));V.cellOutput.capacity="0x"+ct.sub(tt).toString(16),C=C.update("outputs",ot=>ot.update(it,()=>V))}}if(C=C.update("outputs",ut=>ut.filter(ct=>!y.BI.from(ct.cellOutput.capacity).eq(0))),G.gt(0)){const ut=C.get("cellProvider");if(!ut)throw new Error("cell provider is missing!");const tt={cellOutput:{capacity:"0x0",lock:W?(0,e.parseAddress)(W,{config:b}):J,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let V=y.BI.from(0),ot=(0,c.Set)();for(const Tt of C.get("inputs"))ot=ot.add(`${Tt.outPoint.txHash}_${Tt.outPoint.index}`);const mt=new Q(p,ut,{config:b,tipHeader:B});for await(const Tt of mt.collect()){const st=Tt;if(ot.has(`${st.outPoint.txHash}_${st.outPoint.index}`))continue;let ft;if((0,u.isSecp256k1Blake160MultisigScript)(J,b)){const Ot=st.cellOutput.lock.args;ft=Ot.length===58?y.BI.from(m(Ot)):void 0}let dt="0x";if((0,u.isDaoScript)(st.cellOutput.type,b)){const Ot=b.SCRIPTS.DAO;C=(0,u.addCellDep)(C,{depType:Ot.DEP_TYPE,outPoint:{txHash:Ot.TX_HASH,index:Ot.INDEX}}),C=C.update("headerDeps",Xt=>Xt.push(st.depositBlockHash,st.withdrawBlockHash));const Pt=C.get("headerDeps").size-2,pe={inputType:t.bytes.hexify(t.number.Uint64.pack(Pt))};dt=t.bytes.hexify(s.blockchain.WitnessArgs.pack(pe))}C=await I(C,st,(0,u.isSecp256k1Blake160MultisigScript)(J,b)?Object.assign({},p,{since:ft}):p,{config:b,defaultWitness:dt,since:st.since});const At=y.BI.from(st.cellOutput.capacity);let Nt=At;if(Nt.gt(G)&&(Nt=G),G=G.sub(Nt),V=V.add(At).sub(Nt),(0,u.isDaoScript)(st.cellOutput.type,b)&&(C=C.update("fixedEntries",Ot=>Ot.push({field:"inputs",index:C.get("inputs").size-1},{field:"witnesses",index:C.get("witnesses").size-1},{field:"headerDeps",index:C.get("headerDeps").size-2}))),G.eq(0)&&(V.eq(0)||V.gt((0,e.minimalCellCapacityCompatible)(tt))))break}V.gt(0)&&(tt.cellOutput.capacity="0x"+V.toString(16),C=C.update("outputs",Tt=>Tt.push(tt)))}if(!Y)return[C,G];if(G.gt(0))throw new Error("Not enough capacity in from address!");return C}async function q(C,p,v,D,B,{config:b=void 0,LocktimeCellCollector:R=U,enableDeductCapacity:Y=!0}){b=b||(0,f.getConfig)();let Q=y.BI.from(v);const W=y.BI.from(B);if(Y)for(const G of p){const et=(0,r.parseFromInfo)(G,{config:b}).fromScript;if(!(0,u.isSecp256k1Blake160MultisigScript)(et,b)&&!(0,u.isSecp256k1Blake160Script)(et,b))continue;const it=C.get("fixedEntries").filter(({field:ct})=>ct==="outputs").maxBy(({index:ct})=>ct);let ut=it?it.index+1:0;for(;ut<C.get("outputs").size&&Q.gt(0);++ut){const ct=C.get("outputs").get(ut);if(new S(ct.cellOutput.lock,{validate:!1}).equals(new S(et,{validate:!1}))){const tt=JSON.parse(JSON.stringify(ct)),V=y.BI.from(tt.cellOutput.capacity);let ot;Q.gte(V)?ot=V:(ot=V.sub((0,e.minimalCellCapacityCompatible)(tt)),ot.gt(Q)&&(ot=Q)),Q=Q.sub(ot),tt.cellOutput.capacity="0x"+V.sub(ot).toString(16),C=C.update("outputs",mt=>mt.update(ut,()=>tt))}}C=C.update("outputs",ct=>ct.filter(tt=>!y.BI.from(tt.cellOutput.capacity).eq(0)))}let J=y.BI.from(0);if(Q.gt(0)){const G=C.get("cellProvider");if(!G)throw new Error("cell provider is missing!");const et=ut=>`${ut.outPoint.txHash}_${ut.outPoint.index}`;let it=(0,c.Set)();for(const ut of C.get("inputs"))it=it.add(et(ut));for(const ut of p){const ct=(0,r.parseFromInfo)(ut,{config:b}).fromScript,tt=new R(ut,G,{config:b,tipHeader:D});for await(const V of tt.collect()){const ot=V;if(it.has(et(ot)))continue;let mt="0x";if((0,u.isDaoScript)(ot.cellOutput.type,b)){const dt=b.SCRIPTS.DAO;C=(0,u.addCellDep)(C,{depType:dt.DEP_TYPE,outPoint:{txHash:dt.TX_HASH,index:dt.INDEX}}),C=C.update("headerDeps",Ot=>Ot.push(ot.depositBlockHash,ot.withdrawBlockHash));const At=C.get("headerDeps").size-2,Nt={inputType:t.bytes.hexify(t.number.Uint64.pack(At))};mt=t.bytes.hexify(s.blockchain.WitnessArgs.pack(Nt))}let Tt;if((0,u.isSecp256k1Blake160MultisigScript)(ct,b)){const dt=ot.cellOutput.lock.args;Tt=dt.length===58?y.BI.from(m(dt)):void 0}C=await I(C,ot,Object.assign({},ut,{since:Tt}),{config:b,defaultWitness:mt,since:ot.since});const st=y.BI.from(ot.cellOutput.capacity);let ft=st;if(ft.gt(Q)&&(ft=Q),Q=Q.sub(ft),J=J.add(st).sub(ft),(0,u.isDaoScript)(ot.cellOutput.type,b)&&(C=C.update("fixedEntries",dt=>dt.push({field:"inputs",index:C.get("inputs").size-1},{field:"witnesses",index:C.get("witnesses").size-1},{field:"headerDeps",index:C.get("headerDeps").size-2}))),Q.eq(0)&&(J.eq(0)||J.gt(W)))break}}}return{txSkeleton:C,capacity:y.BI.from(Q.toString()),changeCapacity:y.BI.from(J.toString())}}async function j(C,p,v,D,B,{config:b=void 0,LocktimeCellCollector:R=U,enableDeductCapacity:Y=!0}){const Q=await q(C,p,v,D,B,{config:b,LocktimeCellCollector:R,enableDeductCapacity:Y});return{txSkeleton:Q.txSkeleton,capacity:Q.capacity.toBigInt(),changeCapacity:Q.changeCapacity.toBigInt()}}async function F(C,p,v,D,{config:B=void 0,LocktimeCellCollector:b=U}={}){return H(C,p,void 0,v,D,{config:B,requireToAddress:!1,LocktimeCellCollector:b})}function X(C,{config:p=void 0}={}){return p=p||(0,f.getConfig)(),C=(0,u.prepareSigningEntries)(C,p,"SECP256K1_BLAKE160"),C=(0,u.prepareSigningEntries)(C,p,"SECP256K1_BLAKE160_MULTISIG"),C}async function z(C,p,v,D,{config:B=void 0,LocktimeCellCollector:b=U}={}){if(B=B||(0,f.getConfig)(),p>=C.get("outputs").size)throw new Error("Invalid output index!");const R=y.BI.from(C.get("outputs").get(p).cellOutput.capacity);return H(C,v,void 0,y.BI.from(R),D,{config:B,requireToAddress:!1,LocktimeCellCollector:b})}async function I(C,p,v,{config:D=void 0,since:B=void 0,defaultWitness:b="0x"}={}){return D=D||(0,f.getConfig)(),C=await M(C,p,v,{config:D,since:B,defaultWitness:b}),C=C.update("outputs",R=>R.remove(R.size-1)),C}async function M(C,p,v,{config:D=void 0,since:B=void 0,defaultWitness:b="0x"}={}){D=D||(0,f.getConfig)();const R=p.cellOutput.lock;if((0,u.isSecp256k1Blake160Script)(R,D))return n.default.setupInputCell(C,p,v,{config:D,defaultWitness:b,since:B});if((0,u.isSecp256k1Blake160MultisigScript)(R,D))return h.secp256k1Blake160Multisig.setupInputCell(C,p,v,{config:D,defaultWitness:b,since:B});throw new Error("Not supported input lock!")}function m(C){if(C.length!==58)throw new Error("Invalid multisig with since args!");return t.number.Uint64LE.unpack("0x"+C.slice(42))}return ui.default={CellCollector:U,transfer:O,transferCompatible:H,payFee:F,prepareSigningEntries:X,injectCapacity:z,setupInputCell:M,injectCapacityWithoutChange:j,injectCapacityWithoutChangeCompatible:q},ui}var U8;function Gv(){if(U8)return Ii;U8=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.default=void 0,Ii.injectCapacity=q,Ii.payFee=j,Ii.payFeeByFeeRate=C,Ii.prepareSigningEntries=F,Ii.registerCustomLockScriptInfos=O,Ii.setupInputCell=m,Ii.transfer=P;var e=Yn(),t=S(E1()),r=Qa(),n=S(Rd()),a=Qn(),s=w($v()),u=zr(),c=S(Vv()),f=Ls,h=Wo(),d=en(),y=S(eS());function _(b){if(typeof WeakMap!="function")return null;var R=new WeakMap,Y=new WeakMap;return(_=function(Q){return Q?Y:R})(b)}function w(b,R){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var Y=_(R);if(Y&&Y.has(b))return Y.get(b);var Q={__proto__:null},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in b)if(J!=="default"&&{}.hasOwnProperty.call(b,J)){var G=W?Object.getOwnPropertyDescriptor(b,J):null;G&&(G.get||G.set)?Object.defineProperty(Q,J,G):Q[J]=b[J]}return Q.default=b,Y&&Y.set(b,Q),Q}function S(b){return b&&b.__esModule?b:{default:b}}const{ScriptValue:A}=u.values;function E(b,R){console.log(`[${b}] ${R}`)}const x={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function L(){x.configHashCode=0,x._predefinedInfos=[],x._customInfos=[]}function U(){return x}function O(b){x._customInfos=b}function H({config:b=void 0}={}){b=b||(0,a.getConfig)();const R=()=>{var Q,W,J,G;const et=(Q=b)===null||Q===void 0?void 0:Q.SCRIPTS.SECP256K1_BLAKE160,it=(W=b)===null||W===void 0?void 0:W.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,ut=(J=b)===null||J===void 0?void 0:J.SCRIPTS.ANYONE_CAN_PAY,ct=(G=b)===null||G===void 0?void 0:G.SCRIPTS.OMNILOCK,tt=[];return et?tt.push({codeHash:et.CODE_HASH,hashType:et.HASH_TYPE,lockScriptInfo:n.default}):E("warn","SECP256K1_BLAKE160 script info not found in config!"),it?tt.push({codeHash:it.CODE_HASH,hashType:it.HASH_TYPE,lockScriptInfo:t.default}):E("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),ut?tt.push({codeHash:ut.CODE_HASH,hashType:ut.HASH_TYPE,lockScriptInfo:c.default}):E("warn","ANYONE_CAN_PAY script info not found in config!"),ct?tt.push({codeHash:ct.CODE_HASH,hashType:ct.HASH_TYPE,lockScriptInfo:y.default}):E("warn","OMNILOCK script info not found in config!"),tt},Y=u.utils.hashCode(Buffer.from(JSON.stringify(b)));x.infos.length===0?(x._predefinedInfos=R(),x.configHashCode=Y):Y!==x.configHashCode&&(E("warn","`config` changed, regenerate lockScriptInfos!"),x._predefinedInfos=R(),x.configHashCode=Y)}async function P(b,R,Y,Q,W,J,{config:G=void 0,useLocktimeCellsFirst:et=!0,LocktimePoolCellCollector:it=s.CellCollector}={}){var ut;G=G||(0,a.getConfig)();const ct=d.BI.from(Q);if(!Y)throw new Error("You must provide a to address!");const tt=(0,e.parseAddress)(Y,{config:G}),V={cellOutput:{capacity:"0x"+ct.toString(16),lock:tt,type:void 0},data:"0x"};H({config:G});const ot=x.infos.find(mt=>mt.codeHash===tt.codeHash&&mt.hashType===tt.hashType);return ot&&(ut=ot.lockScriptInfo)!==null&&ut!==void 0&&ut.setupOutputCell?b=await ot.lockScriptInfo.setupOutputCell(b,V,{config:G}):b=b.update("outputs",mt=>mt.push(V)),b=await q(b,R,ct.toString(),W,J,{config:G,useLocktimeCellsFirst:et,LocktimePoolCellCollector:it}),b}async function q(b,R,Y,Q,W,{config:J=void 0,useLocktimeCellsFirst:G=!0,LocktimePoolCellCollector:et=s.CellCollector,enableDeductCapacity:it=!0}={}){J=J||(0,a.getConfig)();let ct=d.BI.from(Y);if(R.length===0)throw new Error("No from info provided!");const V={cellOutput:{capacity:"0x0",lock:(0,r.parseFromInfo)(Q||R[0],{config:J}).fromScript,type:void 0},data:"0x"},ot=d.BI.from((0,e.minimalCellCapacityCompatible)(V));let mt=d.BI.from(0);if(G){if(W){const Tt=await s.default.injectCapacityWithoutChangeCompatible(b,R,ct.toString(),W,ot.toString(),{config:J,LocktimeCellCollector:et,enableDeductCapacity:it});b=Tt.txSkeleton,ct=d.BI.from(Tt.capacity),mt=d.BI.from(Tt.changeCapacity)}if(ct.gt(0)){const Tt=await z(b,R,ct,ot,{config:J,enableDeductCapacity:it});b=Tt.txSkeleton,ct=Tt.capacity,mt=Tt.changeCapacity}else if(ct.eq(0)&&mt.gt(0)&&mt.lt(ot)){const Tt=await z(b,R,ot.sub(mt),d.BI.from(0),{config:J,enableDeductCapacity:it});b=Tt.txSkeleton,ct=Tt.capacity,mt=Tt.changeCapacity}}else{const Tt=await z(b,R,ct,ot,{config:J,enableDeductCapacity:it});if(b=Tt.txSkeleton,ct=Tt.capacity,mt=Tt.changeCapacity,W){if(ct.gt(0)){const st=await s.default.injectCapacityWithoutChangeCompatible(b,R,ct.toString(),W,ot.toString(),{config:J,LocktimeCellCollector:et,enableDeductCapacity:it});b=st.txSkeleton,ct=d.BI.from(st.capacity),mt=d.BI.from(st.changeCapacity)}else if(ct.eq(0)&&mt.gt(0)&&mt.lt(ot)){const st=await s.default.injectCapacityWithoutChangeCompatible(b,R,ot.sub(mt).toString(),W,0,{config:J,LocktimeCellCollector:et,enableDeductCapacity:it});b=st.txSkeleton,ct=d.BI.from(st.capacity),mt=d.BI.from(st.changeCapacity)}}}if(ct.gt(0))throw new Error("Not enough capacity in from infos!");if(mt.gt(0)&&mt.lt(ot))throw new Error("Not enough capacity in from infos for change!");return mt.gt(0)&&(V.cellOutput.capacity="0x"+mt.toString(16),b=b.update("outputs",Tt=>Tt.push(V))),b}async function j(b,R,Y,Q,{config:W=void 0,useLocktimeCellsFirst:J=!0,enableDeductCapacity:G=!0}={}){return q(b,R,Y,void 0,Q,{config:W,useLocktimeCellsFirst:J,enableDeductCapacity:G})}function F(b,{config:R=void 0}={}){R=R||(0,a.getConfig)(),H({config:R});for(const Y of x.infos)b=Y.lockScriptInfo.prepareSigningEntries(b,{config:R});return b}async function X(b,R,Y,Q,{config:W=void 0,enableDeductCapacity:J=!0}={}){const G=await z(b,R,Y,Q,{config:W,enableDeductCapacity:J});return{txSkeleton:G.txSkeleton,capacity:BigInt(G.capacity.toString()),changeCapacity:BigInt(G.changeCapacity.toString())}}async function z(b,R,Y,Q,{config:W=void 0,enableDeductCapacity:J=!0}={}){W=W||(0,a.getConfig)();let G=d.BI.from(Y);const et=b.get("cellProvider");if(!et)throw new Error("Cell Provider is missing!");const it=V=>{var ot,mt;return`${(ot=V.outPoint)===null||ot===void 0?void 0:ot.txHash}_${(mt=V.outPoint)===null||mt===void 0?void 0:mt.index}`};let ut=(0,f.Set)();for(const V of b.get("inputs"))ut=ut.add(it(V));const ct=R.map(V=>(0,r.parseFromInfo)(V,{config:W}).fromScript);for(const V of ct)J&&G.gt(0)&&([b,G]=I(b,V,G));H({config:W});let tt=d.BI.from(0);if(G.gt(0))t:for(const V of R){const ot=x.infos.map(mt=>new mt.lockScriptInfo.CellCollector(V,et,{config:W}));for(const mt of ot)for await(const Tt of mt.collect()){const st=it(Tt);if(ut.has(st))continue;ut=ut.add(st);const ft=await M(b,Tt,V,{config:W,needCapacity:G});b=ft.txSkeleton;const dt=d.BI.from(ft.availableCapacity);let At=dt;if(At.gt(G)&&(At=G),G=G.sub(At),tt=tt.add(dt.sub(At)),G.eq(0)&&(tt.eq(0)||tt.gt(Q)))break t}}return{txSkeleton:b,capacity:G,changeCapacity:tt}}function I(b,R,Y){let Q=d.BI.from(Y);const W=b.get("fixedEntries").filter(({field:G})=>G==="outputs").maxBy(({index:G})=>G);let J=W?W.index+1:0;for(;J<b.get("outputs").size&&Q.gt(0);J++){const G=b.get("outputs").get(J);if(G&&new A(G.cellOutput.lock,{validate:!1}).equals(new A(R,{validate:!1}))){const et=JSON.parse(JSON.stringify(G)),it=d.BI.from(et.cellOutput.capacity),ut=it;let ct;Q.gte(ut)?ct=ut:(ct=it.sub((0,e.minimalCellCapacityCompatible)(et)),ct.gt(Y)&&(ct=Y)),Q=Q.sub(ct),et.cellOutput.capacity="0x"+it.sub(ct).toString(16),b=b.update("outputs",tt=>tt.update(J,()=>et))}}return b=b.update("outputs",G=>G.filter(et=>d.BI.from(et.cellOutput.capacity).toString()!==d.BI.from(0).toString())),[b,Q]}async function M(b,R,Y,{config:Q=void 0,since:W=void 0,defaultWitness:J="0x",needCapacity:G=void 0}={}){Q=Q||(0,a.getConfig)(),b=await m(b,R,Y,{config:Q,since:W,defaultWitness:J});const et=b.get("outputs").size-1,it=b.get("outputs").get(et);if(!it)throw new Error("Impossible: can not find last output");const ut=d.BI.from(it.cellOutput.capacity),ct=b.get("fixedEntries").findIndex(mt=>mt.field==="outputs"&&mt.index===et),tt=R.cellOutput.lock;let V=d.BI.from(0);if(Q.SCRIPTS.ANYONE_CAN_PAY&&(0,h.isAcpScript)(tt,Q)){const mt=!!(Y&&typeof Y=="object"&&"destroyable"in Y&&Y.destroyable),Tt=G?d.BI.from(G):ut;if(mt)V=ut,b=b.update("outputs",st=>st.remove(et)),ct>=0&&(b=b.update("fixedEntries",st=>st.remove(ct)));else{const st=d.BI.from((0,e.minimalCellCapacityCompatible)(it)),ft=ut.sub(st),dt=JSON.parse(JSON.stringify(it));let At=st;V=ft,Tt.lt(ft)&&(At=ut.sub(Tt),V=Tt),dt.cellOutput.capacity="0x"+At.toString(16),b=b.update("outputs",Nt=>Nt.update(et,()=>dt))}}else if(ct<0){var ot;V=d.BI.from((ot=b.get("outputs").get(et))===null||ot===void 0?void 0:ot.cellOutput.capacity),b=b.update("outputs",mt=>mt.remove(et))}return{txSkeleton:b,availableCapacity:V}}async function m(b,R,Y,{config:Q=void 0,since:W=void 0,defaultWitness:J=void 0}={}){Q=Q||(0,a.getConfig)(),H({config:Q});const G=R.cellOutput.lock,et=x.infos.find(it=>it.codeHash===G.codeHash&&it.hashType===G.hashType);if(!et)throw new Error("No LockScriptInfo found for setupInputCell!");return et.lockScriptInfo.setupInputCell(b,R,Y,{config:Q,since:W,defaultWitness:J})}async function C(b,R,Y,Q,{config:W=void 0,useLocktimeCellsFirst:J=!0,enableDeductCapacity:G=!0}={}){let et=0,it=b,ut=D(it);for(;ut>et;){et=ut;const ct=v(et,Y);it=await j(b,R,ct,Q,{config:W,useLocktimeCellsFirst:J,enableDeductCapacity:G}),ut=D(it)}return it}function p(b,R){const Y=v(b,R);return BigInt(Y.toString())}function v(b,R){const Y=d.BI.from(1e3),Q=d.BI.from(b).mul(R),W=Q.div(Y);return W.mul(Y).lt(Q)?W.add(1):d.BI.from(W)}function D(b){const R=(0,e.createTransactionFromSkeleton)(b);return B(R)}function B(b){return u.blockchain.Transaction.pack(b).byteLength+4}return Ii.default={transfer:P,payFee:j,prepareSigningEntries:F,injectCapacity:q,setupInputCell:m,registerCustomLockScriptInfos:O,payFeeByFeeRate:C,__tests__:{_commonTransfer:X,resetLockScriptInfos:L,getLockScriptInfos:U,generateLockScriptInfos:H,getTransactionSizeByTx:B,getTransactionSize:D,calculateFee:p,calculateFeeCompatible:v}},Ii}var P8;function Xv(){if(P8)return xn;P8=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.CellCollector=void 0,xn.calculateDaoEarliestSince=q,xn.calculateDaoEarliestSinceCompatible=j,xn.calculateMaximumWithdraw=I,xn.calculateMaximumWithdrawCompatible=M,xn.default=void 0,xn.deposit=x,xn.extractDaoDataCompatible=z,xn.listDaoCells=E,xn.unlock=P;var e=Yn(),t=zr(),r=wr(),n=Qn(),a=y(Rd()),s=y(E1()),u=Qa(),c=Wo(),f=en(),h=A1(),d=y(Gv());function y(m){return m&&m.__esModule?m:{default:m}}const{parseSince:_}=t.since,w="0x0000000000000000",S=f.BI.from(180);class A{constructor(C,p,v,{config:D=void 0}={}){if(!p)throw new Error("Cell Provider is missing!");D=D||(0,n.getConfig)();const B=(0,u.parseFromInfo)(C,{config:D}).fromScript,b=(0,c.generateDaoScript)(D),R=v==="deposit"?w:"any";this.cellType=v,this.cellCollector=p.collector({lock:B,type:b,data:R})}async*collect(){for await(const C of this.cellCollector.collect())this.cellType==="withdraw"&&C.data===w||(yield C)}}xn.CellCollector=A;async function*E(m,C,p,{config:v=void 0}={}){const D=new A(C,m,p,{config:v});for await(const B of D.collect())yield B}async function x(m,C,p,v,{config:D=void 0,enableNonSystemScript:B=!1}={}){D=D||(0,n.getConfig)();const b=D.SCRIPTS.DAO;if(!b)throw new Error("Provided config does not have DAO script setup!");if(L(C,D),m=X(m,D),!p)throw new Error("You must provide a to address!");const R=(0,e.parseAddress)(p,{config:D}),Y={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:"0x"};m=m.update("outputs",W=>W.push({cellOutput:{capacity:"0x"+f.BI.from(v).toString(16),lock:R,type:Y},data:w,outPoint:void 0,blockHash:void 0}));const Q=m.get("outputs").size-1;if(m=m.update("fixedEntries",W=>W.push({field:"outputs",index:Q})),typeof C=="string"){const W=(0,e.parseAddress)(C,{config:D});(0,c.isSecp256k1Blake160Script)(W,D)?m=await a.default.injectCapacity(m,Q,C,{config:D}):(0,c.isSecp256k1Blake160MultisigScript)(W,D)?m=await s.default.injectCapacity(m,Q,C,{config:D}):B&&(m=await d.default.injectCapacity(m,[C],v,(0,e.encodeToAddress)((0,u.parseFromInfo)(C).fromScript,{config:D}),void 0,{config:D}))}else C&&((0,u.isMultisigFromInfo)(C)?m=await s.default.injectCapacity(m,Q,C,{config:D}):B&&(m=await d.default.injectCapacity(m,[C],v,(0,e.encodeToAddress)((0,u.parseFromInfo)(C).fromScript,{config:D}),void 0,{config:D})));return m}function L(m,C){let p;if(typeof m=="string"){const D=(0,e.parseAddress)(m,{config:C}).args;D.length===58&&(p=r.number.Uint64LE.unpack("0x"+D.slice(42)).toHexString())}else"R"in m&&(p=m.since);if(p!=null){const{relative:v,type:D}=_(p);if(!(!v&&D==="epochNumber"))throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}async function U(m,C,p,{config:v=void 0,enableNonSystemScript:D=!1}={}){if(v=v||(0,n.getConfig)(),F(v),m=X(m,v),m.get("inputs").size!==m.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!v.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!m.get("cellProvider"))throw new Error("Cell provider is missing!");const b=C.cellOutput.type,R=v.SCRIPTS.DAO;if(!b||b.codeHash!==R.CODE_HASH||b.hashType!==R.HASH_TYPE||C.data!==w)throw new Error("fromInput is not a DAO deposit cell.");const Y=C.cellOutput.lock;(0,c.isSecp256k1Blake160Script)(Y,v)?m=await a.default.setupInputCell(m,C,void 0,{config:v}):(0,c.isSecp256k1Blake160MultisigScript)(Y,v)?m=await s.default.setupInputCell(m,C,p||(0,e.generateAddress)(Y,{config:v}),{config:v}):D&&(m=await d.default.setupInputCell(m,C,p||(0,e.encodeToAddress)(Y,{config:v}),{config:v}));const Q=m.get("outputs").size-1,W=m.get("outputs").get(Q),J=JSON.parse(JSON.stringify(W));if(C.blockNumber)J.data=r.bytes.hexify(r.number.Uint64.pack(C.blockNumber));else throw new Error("fromInput has no blockNumber!");return m=m.update("outputs",G=>G.update(Q,()=>J)),m=m.update("headerDeps",G=>G.push(C.blockHash)),m=m.update("fixedEntries",G=>G.push({field:"inputs",index:m.get("inputs").size-1},{field:"outputs",index:m.get("outputs").size-1})),m}function O(m){const C=f.BI.from(m);return{length:C.shr(40).and(4095),index:C.shr(24).and(4095),number:C.and(16777215)}}function H({length:m,index:C,number:p}){const v=f.BI.from(m),D=f.BI.from(C),B=f.BI.from(p);return f.BI.from(32).shl(56).add(v.shl(40)).add(D.shl(24)).add(B)}async function P(m,C,p,v,D,{config:B=void 0,RpcClient:b=h.RPC}={}){if(B=B||(0,n.getConfig)(),F(B),m=X(m,B),!B.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const R=m.get("cellProvider");if(!R)throw new Error("Cell provider is missing!");const Y=new b(R.uri),Q=C.cellOutput.type,W=B.SCRIPTS.DAO;if(!Q||Q.codeHash!==W.CODE_HASH||Q.hashType!==W.HASH_TYPE||C.data!==w)throw new Error("depositInput is not a DAO deposit cell.");const J=p.cellOutput.type;if(!J||J.codeHash!==W.CODE_HASH||J.hashType!==W.HASH_TYPE||p.data===w)throw new Error("withdrawInput is not a DAO withdraw cell.");const G=await Y.getHeader(C.blockHash),et=O(G.epoch),it=await Y.getHeader(p.blockHash),ut=O(it.epoch),ct=ut.index.mul(et.length),tt=et.index.mul(ut.length);let V=ut.number.sub(et.number);ct.gt(tt)&&(V=V.add(1));const ot=V.add(S).sub(1).div(S).mul(S),mt={number:f.BI.from(et.number.add(ot)),index:f.BI.from(et.index),length:f.BI.from(et.length)},Tt=H(mt),st="0x"+M(p,G.dao,it.dao).toString(16),ft=(0,e.parseAddress)(v,{config:B});m=m.update("outputs",Xt=>Xt.push({cellOutput:{capacity:st,lock:ft,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}));const dt="0x"+Tt.toString(16);for(;m.get("witnesses").size<m.get("inputs").size-1;)m=m.update("witnesses",Xt=>Xt.push("0x"));m=m.update("headerDeps",Xt=>Xt.push(C.blockHash,p.blockHash));const At=m.get("headerDeps").size-2,Nt={inputType:r.bytes.hexify(r.number.Uint64LE.pack(At))},Ot=r.bytes.hexify(t.blockchain.WitnessArgs.pack(Nt)),Pt=p.cellOutput.lock;(0,c.isSecp256k1Blake160Script)(Pt,B)?m=await a.default.setupInputCell(m,p,void 0,{config:B,since:dt,defaultWitness:Ot}):(0,c.isSecp256k1Blake160MultisigScript)(Pt,B)&&(m=await s.default.setupInputCell(m,p,D||(0,e.generateAddress)(Pt,{config:B}),{config:B,since:dt,defaultWitness:Ot}));const pe=m.get("outputs").size-1;return m=m.update("outputs",Xt=>Xt.remove(pe)),m=m.update("fixedEntries",Xt=>Xt.push({field:"inputs",index:m.get("inputs").size-1},{field:"outputs",index:m.get("outputs").size-1},{field:"witnesses",index:m.get("witnesses").size-1},{field:"headerDeps",index:m.get("headerDeps").size-2})),m}function q(m,C){const p=j(m,C);return BigInt(p.toString())}function j(m,C){const p=O(m),v=O(C),D=v.index.mul(p.length),B=p.index.mul(v.length);let b=v.number.sub(p.number);D.gt(B)&&(b=b.add(1));const R=b.add(S).sub(1).div(S).mul(S),Y={number:f.BI.from(p.number.add(R)),index:f.BI.from(p.index),length:f.BI.from(p.length)};return H(Y)}function F(m){if(!m.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function X(m,C){const p=C.SCRIPTS.DAO;return(0,c.addCellDep)(m,{outPoint:{txHash:p.TX_HASH,index:p.INDEX},depType:p.DEP_TYPE})}function z(m){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(m))throw new Error("Invalid dao format!");const C=8*2,p=m.startsWith("0x")?m.slice(2):m;return["c","ar","s","u"].map((v,D)=>({[v]:r.number.Uint64LE.unpack("0x"+p.slice(C*D,C*(D+1)))})).reduce((v,D)=>({...v,...D}),{})}function I(m,C,p){return M(m,C,p).toBigInt()}function M(m,C,p){const v=f.BI.from(z(C).ar),D=f.BI.from(z(p).ar),B=f.BI.from((0,e.minimalCellCapacityCompatible)(m));return f.BI.from(m.cellOutput.capacity).sub(B).mul(D).div(v).add(B)}return xn.default={deposit:x,withdraw:U,unlock:P,calculateMaximumWithdraw:I,calculateMaximumWithdrawCompatible:M,calculateDaoEarliestSince:q,calculateDaoEarliestSinceCompatible:j,CellCollector:A,listDaoCells:E},xn}var x1=Xv();const sr=100000000n;function Zo(e){return"0x"+e.toString(16)}function nd(...e){return e.reduce((t,r)=>t>r?t:r)}function KO(...e){return e.reduce((t,r)=>t<r?t:r)}function Hm(e){return t=>pn(t.cellOutput.lock,e)?e:void 0}function QO(e,t){const r=[],n=[];for(const a of e){if(a.cellOutput.type!==void 0||a.data!=="0x"){n.push(a);continue}const s=t(a);if(!s){n.push(a);continue}r.push(fr.from({...a,cellOutput:{lock:s,capacity:a.cellOutput.capacity}}))}return{capacities:r,notCapacities:n}}function YO(e,t,r){const n=[],a=[];for(const s of e){if(!pn(s.cellOutput.type,t)){a.push(s);continue}const u=r(s);if(!u){a.push(s);continue}n.push(fr.from({...s,cellOutput:{lock:u,type:t,capacity:s.cellOutput.capacity}}))}return{types:n,notTypes:a}}function VO(e,t,r){const n=ba.parseEpoch(r.epoch),a=[],s=[];for(const u of e)S1(n,ba.parseAbsoluteEpochSince(t(u)))>=0?a.push(u):s.push(u);return{mature:a,notMature:s}}const $O="Comparing two Scripts that both are undefined";function pn(e,t){if(!e&&!t)throw Error($O);return!e||!t?!1:e.codeHash===t.codeHash&&e.hashType===t.hashType&&e.args===t.args}function S1(e,t){if(e.number<t.number)return-1;if(e.number>t.number)return 1;const r=e.index*t.length,n=t.index*e.length;return r<n?-1:r>n?1:0}const GO="Zero EpochSinceValue length";function rS(e,t){if(e.length===0||t.length===0)throw Error(GO);e.length!==t.length&&(t={length:e.length,index:Math.ceil(t.index*e.length/t.length),number:t.number});const r=e.index+t.index,n=e.length,a=r%n,s=e.number+(r-a)/n;return{length:n,index:a,number:s}}function XO(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}function WO(e,t){let[r,n]=[0,e];for(;r<n;){const a=Math.trunc((r+n)/2);t(a)?n=a:r=a+1}return r}const ZO="Unable to modify entries without messing up fixed entries",JO="Input and output have different length",tD="Signing Entries are not empty";function ji(e,t,r,n){const a=Wv(e),s=zi(r),u=zi(n);if(t==="matched"){if(s.size!==u.size)throw Error(JO);if(a.inputs!==a.outputs)throw Error(ZO);if(e.signingEntries.size>0)throw Error(tD)}const c=t=="matched",f=c?a.inputs+1:e.inputs.size,h=c?a.outputs+1:e.outputs.size;return e=iD(e,s,u),e=nD(e,s,u),e=rD(e,f,s),e=eD(e,f,s,h,u),e=e.update("inputs",d=>d.splice(f,0,...s)),e=e.update("outputs",d=>d.splice(h,0,...u)),c&&(e=Zv(e,a.set("inputs",a.inputs+s.size).set("outputs",a.outputs+u.size))),e}const k8=Xo.hexify(rd.WitnessArgs.pack({lock:void 0,inputType:void 0,outputType:void 0}));function eD(e,t,r,n,a){const s=nd(e.inputs.size,e.outputs.size,e.witnesses.size,t,n),u=[],c=[],f=[];for(let y=0;y<s;y++){const{lock:_,inputType:w,outputType:S}=rd.WitnessArgs.unpack(e.witnesses.get(y,k8));u.push(_),c.push(w),f.push(S)}u.splice(t,0,...r.map(y=>y.cellOutput.lock[Vu])),c.splice(t,0,...r.map(y=>{var _;return(_=y.cellOutput.type)==null?void 0:_[Vu]})),f.splice(n,0,...a.map(y=>{var _;return(_=y.cellOutput.type)==null?void 0:_[Vu]}));const h=nd(c.length,f.length),d=[];for(let y=0;y<h;y++)d.push(Uo.bytes.hexify(rd.WitnessArgs.pack({lock:u[y],inputType:c[y],outputType:f[y]})));for(;d[d.length-1]===k8;)d.pop();return e.set("witnesses",zi(d))}function rD(e,t,r){const n=ki[qa],a=Array.from({length:e.inputs.size},(u,c)=>e.inputSinces.get(c,n)),s=[];for(const u of r){const c=u.cellOutput.lock[qa],f=u.cellOutput.type?u.cellOutput.type[qa]:c;c===n||c===f?s.push(f):f===n?s.push(c):S1(ba.parseAbsoluteEpochSince(c),ba.parseAbsoluteEpochSince(f))==-1?s.push(f):s.push(c)}return a.splice(t,0,...s),e.set("inputSinces",Hs(a.map((u,c)=>[c,u]).filter(({1:u})=>u!==n)))}function nD(e,t,r){const n=[];for(const a of t){const s=a.cellOutput.lock;n.push(...s[Kn])}for(const a of[...t,...r]){const s=a.cellOutput.type;s!==void 0&&n.push(...s[Kn])}return nS(e,...n.map(a=>a.hash))}function nS(e,...t){const r=Wv(e);let n=e.headerDeps.push(...t);return n=zi(new Set(n)),e=Zv(e,r.set("headerDeps",n.size-1)),e.set("headerDeps",n)}function iD(e,t,r){const n=[];for(const a of t){const s=a.cellOutput.lock;n.push(...s[hi])}for(const a of[...t,...r]){const s=a.cellOutput.type;s!==void 0&&n.push(...s[hi])}return sD(e,...n)}const aD=e=>`${e.outPoint.txHash}-${e.outPoint.index}-${e.depType}`;function sD(e,...t){const r=Wv(e);let n=e.cellDeps.push(...t);return n=zi(new Map(n.map(a=>[aD(a),a])).values()),e=Zv(e,r.set("cellDeps",n.size-1)),e.set("cellDeps",n)}function Wv(e){return lD(e.fixedEntries.sort((t,r)=>t.index-r.index).map(t=>[t.field,t.index]))}const oD=zi(["cellDeps","headerDeps","inputs","outputs"]);function Zv(e,t){return e.set("fixedEntries",oD.map(r=>Object.freeze({field:r,index:t[r]})).filter(({index:r})=>r>=0))}function uD(e){return e.inputs.size>0&&e.outputs.size>0}function cD(e){return rd.Transaction.pack(w1.createTransactionFromSkeleton(e)).byteLength+4}function fD(e,t){const r=1000n,n=BigInt(e)*t,a=n/r;return a*r<n?a+1n:a}const lD=Ar({cellDeps:-1,headerDeps:-1,inputs:-1,outputs:-1}),iS="Encountered an input cell with blockNumber undefined";function q8(e,t,r,n){const a=[],s=[],u=[],c=n.defaultScript("DAO"),f=(h,d,y,_,w)=>fr.from({...h,cellOutput:{lock:d,type:gn.from({...c,[Kn]:_?[y,_]:[y],[qa]:w??c[qa]}),capacity:h.cellOutput.capacity},blockHash:y.hash});for(const h of e){const d=t(h);if(!d||!Jv(h,n)){u.push(h);continue}if(!h.blockNumber)throw Error(iS);const y=r(h.blockNumber,h);if(h.data===C1)a.push(f(h,d,y));else{const _=r(Zo(Hf.unpack(h.data)),h),w=x1.calculateDaoEarliestSinceCompatible(_.epoch,y.epoch).toHexString();s.push(f(h,d,y,_,w))}}return{deposits:a,withdrawalRequests:s,notDaos:u}}const C1="0x0000000000000000";function Jv(e,t){return pn(e.cellOutput.type,t.defaultScript("DAO"))}function aS(e,t){return Jv(e,t)&&e.data===C1}function sS(e,t){return Jv(e,t)&&e.data!==C1}function hD(e,t,r,n){const a=fr.from({lock:r,type:n.defaultScript("DAO"),data:C1}),s=t.map(u=>fr.from({...a,capacity:Zo(u)}));return ji(e,"append",[],s)}const dD="Withdrawal request lock has different size";function pD(e,t,r){const n=[];for(const a of t){if(a.cellOutput.lock.args.length!=r.args.length)throw Error(dD);n.push(fr.from({...a.cellOutput,lock:r,data:Xo.hexify(Hf.pack(BigInt(a.blockNumber)))}))}return ji(e,"matched",t,n)}function gD(e,t){const r=[];for(const s of t)r.push(...s.cellOutput.type[Kn].map(u=>u.hash));e=nS(e,...r);const n=[],a=new Map(e.headerDeps.map((s,u)=>[s,u]));for(const s of t){const u=s.cellOutput.type[Kn][1];n.push(fr.from({...s,type:gn.from({...s.cellOutput.type,[Vu]:Xo.hexify(Hf.pack(a.get(u.hash)))})}))}return ji(e,"append",n,[])}function yD(e,t){const r=ba.generateHeaderEpoch(t),n=e.cellOutput.type[Kn][0].epoch;return ba.parseAbsoluteEpochSince(x1.calculateDaoEarliestSinceCompatible(n,r).toHexString())}function Dp(e,t){let r=0n;for(const n of e.inputs)if(sS(n,t)){const a=n,[s,u]=a.cellOutput.type[Kn],c=x1.calculateMaximumWithdraw(n,u.dao,s.dao);r+=c}else r+=BigInt(n.cellOutput.capacity);return e.outputs.forEach(n=>r-=BigInt(n.cellOutput.capacity)),r}function bD(e,t,r,n){let a=fr.from({lock:t});const s=BigInt(a.cellOutput.capacity),u=ji(e,"append",[],[a]),c=r(u),f=Dp(u,n)-c;return f>0n?(a=fr.from({...a,capacity:Zo(s+f)}),e=ji(e,"append",[],[a])):e=u,{tx:e,txFee:c,freeCkb:f}}function _D(){const e=i1.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=qt.jsx(qt.Fragment,{children:qt.jsxs("h1",{className:"flex flex-row items-center justify-center py-4 text-5xl font-medium",children:[qt.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),qt.jsx("span",{children:"iCKB"}),qt.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"})]})}),e[0]=t):t=e[0],t}function z8(e){const t=i1.c(8),{walletConfig:r}=e,{chain:n,address:a}=r,s=`https://${n!=="mainnet"?"testnet.":""}explorer.nervos.org/address/${a}`;let u,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=qt.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),c={direction:"rtl"},t[0]=u,t[1]=c):(u=t[0],c=t[1]);let f;t[2]!==a?(f=qt.jsx("h1",{style:c,className:"-ml-3 truncate text-3xl",children:a}),t[2]=a,t[3]=f):f=t[3];let h;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=qt.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"}),t[4]=h):h=t[4];let d;return t[5]!==s||t[6]!==f?(d=qt.jsxs("a",{href:s,target:"_blank",className:"flex flex-row items-center justify-center rounded-2xl py-4 font-medium",children:[u,f,h]}),t[5]=s,t[6]=f,t[7]=d):d=t[7],d}const{union:mD,struct:cc}=Uo.molecule;function vD(e){return Uo.createFixedBytesCodec({pack:Uo.bytes.bytify,unpack:Uo.bytes.hexify,byteLength:e})}const wD=vD(32),oS=cc({depositQuantity:_O,depositAmount:Hf},["depositQuantity","depositAmount"]),uS=cc({ownedDistance:V7},["ownedDistance"]),j8=cc({ckbMultiplier:Hf,udtMultiplier:Hf},["ckbMultiplier","udtMultiplier"]),cS=cc({ckbToUdt:j8,udtToCkb:j8,ckbMinMatchLog:bO},["ckbToUdt","udtToCkb","ckbMinMatchLog"]),AD=cc({padding:wD,masterDistance:V7,orderInfo:cS},["padding","masterDistance","orderInfo"]),ED=cc({masterOutpoint:mO,orderInfo:cS},["masterOutpoint","orderInfo"]),F8=mD({MintOrderData:AD,MatchOrderData:ED},["MintOrderData","MatchOrderData"]),Lh=cc({udtAmount:Rm},["udtAmount"]),t2=Uo.createBytesCodec({pack:e=>Uo.bytes.concat(Lh.pack(e),F8.pack(e)),unpack:e=>{const t=e.slice(0,Lh.byteLength),r=e.slice(Lh.byteLength),n=Lh.unpack(t),a=F8.unpack(r);return{...n,...a}}}),xD=[{name:"ICKB_LOGIC",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null},{name:"XUDT",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:3,occupied_capacity:33757e8,data_hash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",type_id:null}],SD=[{name:"ickb_dep_group",tx_hash:"0x0152f73978779b99eb5aeed9ae9879a7004bd7c69fd858da443b535cb2c9df1d",index:0,data_hash:"0xb208b98b17ff0f740464299171f2285cbd4dcf6792a4058a9ff365eed15e19e3",occupied_capacity:353e8}],CD={cell_recipes:xD,dep_group_recipes:SD},ID=[{name:"ICKB_LOGIC",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],TD=[{name:"ickb_dep_group",tx_hash:"0xf7ece4fb33d8378344cab11fcd6a4c6f382fd4207ac921cf5821f30712dcd311",index:0,data_hash:"0x8d3a9737808fc4a3c7f9e554be9045333c5082bf3b82f8a33873c367a2b2307f",occupied_capacity:353e8}],BD={cell_recipes:ID,dep_group_recipes:TD},OD=[{name:"ICKB_LOGIC",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],DD=[{name:"ickb_dep_group",tx_hash:"0x621a6f38de3b9f453016780edac3b26bfcbfa3e2ecb47c2da275471a5d3ed165",index:0,data_hash:"0x94d59795c742dfb381c8e8d8beee0362d0bf8f8921212ed15f87acd89a3ce78b",occupied_capacity:353e8}],MD={cell_recipes:OD,dep_group_recipes:DD},RD="The requested script is missing in the old config";function fS(e,t){const{cell_recipes:r,dep_group_recipes:n}=e==="mainnet"?MD:e==="testnet"?BD:CD,{tx_hash:a,index:s}=n[0],u=Ms.from({txHash:a,index:Zo(s)}),c={};for(const h of r)c[h.name]=new zh(gn.from({...ki,codeHash:h.type_id??h.data_hash,hashType:h.type_id?"type":"data1",[hi]:[$u.from({outPoint:u,depType:"depGroup"})]}));const f=["SECP256K1_BLAKE160","DAO","SECP256K1_BLAKE160_MULTISIG"];if(e!=="devnet")if(e==="testnet")f.push("XUDT"),t={...t,XUDT:new zh(gn.from({...ki,codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",[hi]:[$u.from({outPoint:Ms.from({txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"}),depType:"code"})]}))};else{if(t.XUDT.HASH_TYPE!=="data1")throw Error("Expected data1 hashType for XUDT");f.push("XUDT")}for(const h of f){const d=t[h];if(!d)throw Error(RD);c[h]=new zh(gn.from({...d.defaultScript,[hi]:[$u.from({outPoint:u,depType:"depGroup"})]}))}return c}var HD=$f();function K8(e,t,r,n){const a=Hd(n),s=sl(n),u=[],c=[];let f=[],h=[],d=[];for(const x of e){const L=t(x);if(!L){d.push(x);continue}if(pn(x.cellOutput.type,a)){u.push(fr.from({...x,cellOutput:{lock:L,type:a,capacity:x.cellOutput.capacity}}));continue}if(!pn(x.cellOutput.type,s)){d.push(x);continue}if(!x.blockNumber)throw Error(iS);c.push(fr.from({...x,cellOutput:{lock:L,type:gn.from({...s,[Kn]:[r(x.blockNumber,x)]}),capacity:x.cellOutput.capacity}}))}let y;({deposits:h,withdrawalRequests:y,notDaos:d}=q8(d,Hm(s),r,n)),d=d.concat(y);const _=T1(n);({deposits:y,withdrawalRequests:f,notDaos:d}=q8(d,Hm(_),r,n)),d=d.concat(y);let w;({types:w,notTypes:d}=YO(d,_,t));const S=x=>x.txHash+x.index,A=new Map(f.map(x=>[S(x.outPoint),x])),E=[];for(const x of w){const{ownedDistance:L}=uS.unpack(x.data),U=Zo(Number(x.outPoint.index)+L),O=S({...x.outPoint,index:U}),H=A.get(O);H?(E.push(Object.freeze({owner:x,ownedWithdrawalRequest:H})),A.delete(O)):d.push(x)}return d=d.concat(Array.from(A.values())),{udts:u,receipts:c,withdrawalRequestGroups:E,ickbPool:h,notIckbs:d}}function LD(e,t,r,n){let a=e.map(s=>Object.freeze({deposit:s,ickbValue:Lm(BigInt(s.cellOutput.capacity)-I1,s.cellOutput.type[Kn][0]),estimatedMaturity:{length:1,index:0,number:0}}));if(r){const s=rS(ba.parseEpoch(t.epoch),r);a=a.map(u=>Object.freeze({...u,estimatedMaturity:yD(u.deposit,s)})).sort((u,c)=>S1(u.estimatedMaturity,c.estimatedMaturity))}return a}function ND(e,t,r,n){return hD(e,Array(t).fill(r),sl(n),n)}function UD(e,t,r){return pD(e,t,T1(r))}function PD(e,t){const r=[],n=[];for(const{ownedWithdrawalRequest:a,owner:s}of t)r.push(a),n.push(s);return r.length>0&&(e=gD(e,r),e=ji(e,"append",n,[])),e}function Mp(e,t){const r=Hd(t),n=sl(t);let a=0n;for(const s of e.inputs){if(pn(s.cellOutput.type,r)){a+=Rm.unpack(s.data.slice(0,2+16*2));continue}if(pn(s.cellOutput.lock,n)&&aS(s,t)){const u=s.cellOutput.type[Kn][0],c=BigInt(s.cellOutput.capacity)-I1;a-=Lm(c,u);continue}if(pn(s.cellOutput.type,n)){const u=s.cellOutput.type[Kn][0],{depositQuantity:c,depositAmount:f}=oS.unpack(s.data);a+=Lm(f,u)*BigInt(c)}}for(const s of e.outputs)pn(s.cellOutput.type,r)&&(a-=Rm.unpack(s.data.slice(0,2+16*2)));return a}function Lm(e,t){let r=FD(e,t,!1);return jp<r&&(r-=(r-jp)/10n),r}function kD(e,t,r){const n=Mp(e,r);if(n>0n){const a=fr.from({lock:t,type:Hd(r),data:Xo.hexify(Lh.pack({udtAmount:n}))});e=ji(e,"append",[],[a])}return{tx:e,freeIckbUdt:n}}function qD(e,t,r){const n=[],a=T1(r);for(const[s,u]of e.outputs.entries()){if(!sS(u,r)||!pn(u.cellOutput.lock,a))continue;const c=e.outputs.size+n.length,f=s-c;n.push(fr.from({lock:t,type:a,data:Xo.hexify(uS.pack({ownedDistance:f}))}))}return n.length>0?ji(e,"append",[],n):e}function zD(e,t,r){const n=sl(r),a=new Map;for(const u of e.outputs){if(!aS(u,r)||!pn(u.cellOutput.lock,n))continue;const c=BigInt(u.cellOutput.capacity)-I1;let f=a.get(c);f?f.depositQuantity+=1:a.set(c,{depositQuantity:1,depositAmount:c})}const s=[];for(const u of a.values())s.push(fr.from({lock:t,type:n,data:Xo.hexify(oS.pack(u))}));return s.length>0?ji(e,"append",[],s):e}const jp=100000n*sr;function jD(e){return Nm(jp,e)}function FD(e,t,r=!0){const{ckbMultiplier:n,udtMultiplier:a}=e2(t,r);return e*n/a}function Nm(e,t,r=!0){const{ckbMultiplier:n,udtMultiplier:a}=e2(t,r);return e*a/n}const lS=10000000000000000n,I1=82n*sr,KD=I1*lS/jp;function e2(e,t=!0){const n=x1.extractDaoDataCompatible(e.dao).ar.toBigInt();return{ckbMultiplier:lS,udtMultiplier:t?n+KD:n}}function Hd(e){return gn.from({...e.defaultScript("XUDT"),args:HD.computeScriptHash(sl(e))+"00000080"})}function sl(e){return e.defaultScript("ICKB_LOGIC")}function T1(e){return e.defaultScript("OWNED_OWNER")}function Q8(e,t){return e.ckbMultiplier===t.ckbMultiplier&&e.udtMultiplier===t.udtMultiplier}function hS(e,t){return Q8(e.ckbToUdt,t.ckbToUdt)&&Q8(e.udtToCkb,t.udtToCkb)&&e.ckbMinMatchLog===t.ckbMinMatchLog}function Y8(e,t,r,n,a=Hd(n)){const s=r2(n),{groups:u,unknowns:c}=dS(e,t,s,a),f=QD([...u.values()].map(y=>{var _;return((_=y.master)==null?void 0:_.outPoint)??y.orders[0].info.masterOutpoint}),r,s,a),h=[],d=[];for(const[y,_]of u){const w=f.get(y);if(w===void 0){const E=_.master===void 0?[]:[_.master];c.push(...E,..._.orders.map(x=>x.cell));continue}let S=-1,A=w;for(let E=0;E<_.orders.length;E++){const x=_.orders[E];if(!hS(w.info,x.info)||!pn(w.cell.cellOutput.type,x.cell.cellOutput.type)||x.info.absTotal<w.info.absTotal){c.push(x.cell);continue}if(x.info.absProgress<A.info.absProgress){c.push(x.cell);continue}if(x.info.absProgress===A.info.absProgress&&!x.info.isMint){c.push(x.cell);continue}S>=0&&c.push(A.cell),S=E,A=x}if(S===-1){_.master!==void 0&&c.push(_.master);continue}_.master!==void 0?d.push(Object.freeze({...A,master:_.master})):h.push(Object.freeze(A))}return{myOrders:d,orders:h,notOrders:c}}function QD(e,t,r,n){const a=new Map,s=u=>gn.from({...ki,...u.cellOutput.lock});for(const u of new Set(e.map(c=>c.txHash)))for(const[c,f]of dS(t(u),s,r,n).groups)f.master===void 0||f.orders.length!==1||!f.orders[0].info.isMint||a.set(c,{...f.orders[0],master:f.master});return a}function dS(e,t,r,n){const a=new Map,s=c=>{const f=c.txHash+c.index;let h=a.get(f);return h===void 0&&(h={master:void 0,orders:[]},a.set(f,h)),h},u=[];for(const c of e){const{lock:f,type:h}=c.cellOutput;if(pn(h,r)){const d=t(c);if(d){s(c.outPoint).master=fr.from({...c,cellOutput:{lock:d,type:r,capacity:c.cellOutput.capacity}});continue}}else if(pn(f,r)&&pn(h,n)){const d=YD(c);if(d!==void 0){s(d.masterOutpoint).orders.push({cell:fr.from({...c,cellOutput:{lock:r,type:n,capacity:c.cellOutput.capacity}}),info:d});continue}}u.push(c)}return{groups:a,unknowns:u}}function YD(e){let t;try{t=t2.unpack(e.data)}catch{return}const r=t.value.orderInfo,n=Fp(r.ckbToUdt),a=Fp(r.udtToCkb),s=pS(r.ckbMinMatchLog);if(!hS({ckbToUdt:n,udtToCkb:a,ckbMinMatchLog:s},r)||t.type==="MintOrderData"&&t.value.padding!==n2||e.cellOutput.type===void 0||e.cellOutput.type.args.length<2)return;const u=t.type==="MintOrderData",c=Ms.from(t.type==="MintOrderData"?{txHash:e.outPoint.txHash,index:Zo(Number(e.outPoint.index)+t.value.masterDistance)}:t.value.masterOutpoint),f=1n<<BigInt(s),h=t.udtAmount,d=BigInt(e.cellOutput.capacity),y=WD+BigInt((e.cellOutput.type.args.length-2)/2)*sr,_=d-y,w=n!==Cs,S=a!==Cs,A=w&&S,E=w?_*n.ckbMultiplier+h*n.udtMultiplier:0n,x=S?_*a.ckbMultiplier+h*a.udtMultiplier:0n,L=E===0n?x:x===0n?E:E*a.ckbMultiplier*a.udtMultiplier+x*n.ckbMultiplier*n.udtMultiplier>>1n,U=A?L:w?h*n.udtMultiplier:_*a.ckbMultiplier,O=w&&_>0n,H=S&&h>0n;return Object.freeze({isMint:u,masterOutpoint:c,ckbToUdt:n,udtToCkb:a,ckbMinMatchLog:s,ckbMinMatch:f,udtAmount:h,ckbAmount:d,ckbOccupied:y,ckbUnoccupied:_,absTotal:L,absProgress:U,isCkb2Udt:w,isUdt2Ckb:S,isDualRatio:A,isCkb2UdtMatchable:O,isUdt2CkbMatchable:H,isMatchable:O||H})}const VD=33;function $D(e,...t){const{master:r,order:n}=GD(...t);return ji(e,"append",[],[r,n])}const V8="Order ratio are invalid";function GD(e,t,r=0n,n=0n,a=Cs,s=Cs,u=VD,c=Hd(t)){if(a=Fp(a),s=Fp(s),u=pS(u),a===Cs&&s===Cs||a.ckbMultiplier*s.udtMultiplier<a.udtMultiplier*s.ckbMultiplier)throw Error(V8);const f=r2(t),h=fr.from({lock:e,type:f});let d=fr.from({lock:f,type:c,data:Xo.hexify(t2.pack({udtAmount:n,type:"MintOrderData",value:{padding:n2,masterDistance:-1,orderInfo:{ckbToUdt:a,udtToCkb:s,ckbMinMatchLog:u}}}))});return r>0n&&(d=fr.from({...d,capacity:Zo(BigInt(d.cellOutput.capacity)+r)})),{master:h,order:d}}function XD(e,t){return ji(e,"append",t.flatMap(r=>[r.cell,r.master]),[])}function r2(e){return e.defaultScript("LIMIT_ORDER")}function pS(e){return e>64?64:e}function Fp(e){return e.ckbMultiplier===0n||e.udtMultiplier===0n?Cs:Object.freeze({...e})}const Cs=Object.freeze({ckbMultiplier:0n,udtMultiplier:0n}),n2="0x0000000000000000000000000000000000000000000000000000000000000000",WD=BigInt(fr.from({lock:ki,type:ki,data:Xo.hexify(t2.pack({udtAmount:0n,type:"MintOrderData",value:{masterDistance:0,padding:n2,orderInfo:{ckbToUdt:Cs,udtToCkb:Cs,ckbMinMatchLog:0}}}))}).cellOutput.capacity);function gS(e){return e==="C"}function Um(e){return e?"C":"I"}function ZD(e){let t=0;for(;t<e.length;t++){const s=e[t];if("1"<=s&&s<="9"||s===".")break}let r="";const n=[];for(;t<e.length;t++){const s=e[t];if("0"<=s&&s<="9")n.push(s);else if(s=="."){r=".";break}}const a=[];for(;t<e.length&&a.length<8;t++){const s=e[t];"0"<=s&&s<="9"&&a.push(s)}return(n.length>0?BigInt(n.join("")).toLocaleString("en-US"):r.length>0?"0":"")+r+a.join("")}function B1(e){return(e/sr).toLocaleString("en-US")+String(Number(e%sr)/Number(sr)).slice(1)}function JD(e){const[t,...r]=e.split(",").join("").split(".");return BigInt(t+(r.join("")+"00000000").slice(0,8))}function yS(e,t,r){return Object.freeze(rS(ba.parseEpoch(r.epoch),{number:0,index:1+Number(t/(e?100000n*sr:200n*sr)),length:4*60}))}function bS(e){return e.reduce((t,r)=>S1(t,r)===-1?r:t)}const _S=Object.freeze({number:0,index:0,length:1}),sf=Object.freeze({tx:w1.TransactionSkeleton(),error:"",fee:0n,estimatedMaturity:_S}),mS=600n*sr;function vS(e,t){const{ckbMultiplier:r,udtMultiplier:n}=e2(t);return{ckbMultiplier:r,udtMultiplier:n+(e?1n:-1n)*(n/100000n)}}function wS(e,t,r){const{ckbMultiplier:n,udtMultiplier:a}=r;return e?t*n/a:t*a/n}function tM({rawText:e,setRawText:t,amount:r,tipHeader:n,isFrozen:a,ckbNative:s,ickbNative:u,ckbAvailable:c,ickbAvailable:f,ckbBalance:h,ickbBalance:d}){const y=e[0],_=e.slice(1),w=gS(y),S=()=>{t(Um(!w)+_)},A=KO(nd(c-mS,0n),s);let E={name:"CKB",native:A,locked:h-A,status:h===s?"":h===c?"":""},x={name:"ICKB",native:u,locked:d-u,status:d===u?"":d===f?"":""};return w||([E,x]=[x,E]),qt.jsx(qt.Fragment,{children:qt.jsxs("span",{className:"grid grid-cols-3 items-center justify-items-center gap-y-4 leading-relaxed font-bold tracking-wider uppercase",children:[qt.jsx("span",{className:"text-amber-400",children:dp(E.native,"")}),qt.jsx("span",{className:"text-2xl text-amber-400",children:E.name}),qt.jsx("span",{className:"cursor-wait text-amber-400",children:dp(E.locked,E.status)}),qt.jsx("input",{placeholder:"0",disabled:a,autoFocus:!0,value:_,onChange:L=>{t(y+L.target.value)},autoComplete:"off",inputMode:"decimal",type:"text",className:"col-span-3 w-full rounded border-0 bg-transparent text-center text-3xl text-amber-400 outline-none disabled:cursor-default","aria-label":"Amount to be converted"}),qt.jsx("span",{className:"",children:"1 "+E.name}),qt.jsx("button",{className:"rotate-90 cursor-pointer border-0 bg-transparent text-5xl text-slate-300 disabled:cursor-default",disabled:a,onClick:S,children:""}),qt.jsxs("span",{className:"text-center",children:[$8(w,sr,n)," ",x.name]}),qt.jsxs("span",{className:"col-span-3 text-center text-3xl text-amber-400",children:["",$8(w,r,n)]}),qt.jsx("span",{className:"text-amber-400",children:dp(x.native,"")}),qt.jsx("span",{className:"text-2xl text-amber-400",children:x.name}),qt.jsx("span",{className:"cursor-wait text-amber-400",children:dp(x.locked,x.status)})]})})}function dp(e,t){const r=t==="";return qt.jsxs("span",{className:"flex flex-row "+(r?"cursor-wait":""),children:[qt.jsx("span",{className:r?"animate-pulse":"",children:t}),qt.jsxs("span",{className:"sm:hidden",children:[String(e/sr),e%sr===0n?"":"+"]}),qt.jsx("span",{className:"hidden sm:block",children:B1(e)})]})}function $8(e,t,r){return B1(wS(e,t,vS(e,r)))}function Db({txInfo:e=sf,capacities:t=new Array,udts:r=new Array,receipts:n=new Array,wrGroups:a=new Array,myOrders:s=new Array,tipHeader:u=D1}){let{tx:c}=e;const f=[e.estimatedMaturity,ba.parseEpoch(u.epoch)];if(s.length>0){c=XD(c,s);for(const{info:y}of s){if(!y.isMatchable||y.isDualRatio)continue;const _=y.isCkb2UdtMatchable;f.push(yS(_,_?y.ckbUnoccupied:y.udtAmount,u))}}const h=[t,r,n].flat();h.length>0&&(c=ji(c,"append",h,[])),a.length>0&&(c=PD(c,a),f.push(...a.map(y=>ba.parseAbsoluteEpochSince(y.ownedWithdrawalRequest.cellOutput.type[qa]))));const d=Object.freeze(bS(f));return Object.freeze({...e,tx:c,estimatedMaturity:d})}function eM(e,t,r,n,a,s,u){if(e.error!=="")return e;const c=[];if(!t){let w=0n;for(const S of n){const A=w+S.ickbValue;if(!(A>r)&&(w=A,c.push(Object.freeze({...S,ickbCumulative:w})),c.length>=30))break}}Object.freeze(c);const f=vS(t,a),h=jD(a),d=t?Number(r/h):c.length,y=Array(d),_=w=>(w=d-w,y[w]=y[w]??rM(w,t,r,e,f,h,c,a,s,u));return Object.freeze(_(WO(d,w=>_(w).error==="")))}function rM(e,t,r,n,a,s,u,c,f,h){let{tx:d}=n;const{accountLocks:y,config:_}=h,w=[n.estimatedMaturity];if(e>0)if(t){if(r-=s*BigInt(e),r<0n)return{...n,error:"Too many Deposits respectfully to the amount"};d=ND(d,e,s,_),d=zD(d,y[0],_)}else{if(u.length<e)return{...n,error:"Not enough Deposits to withdraw from"};if(r-=u[e-1].ickbCumulative,r<0n)return{...n,error:"Too many Withdrawal Requests respectfully to the amount"};u=u.slice(0,e);const E=u.map(x=>x.deposit);d=UD(d,E,_),d=qD(d,y[0],_),w.push(...u.map(x=>x.estimatedMaturity))}let S=0n;if(r>0n){d=$D(d,y[0],_,t?r:void 0,t?void 0:r,t?a:void 0,t?void 0:a);const E=wS(t,r,a);S+=t?r-Nm(E,c):Nm(r,c)-E,w.push(yS(t,r,c))}const A=bS(w);return n=AS({...n,tx:d,estimatedMaturity:A,fee:n.fee+S},f,h),!n.error&&10n*(n.fee-S)>S?t?{...n,error:"CKB amount too small"}:{...n,error:"iCKB amount too small"}:n}function AS(e,t,r){const{accountLocks:n,config:a}=r,{tx:s,freeIckbUdt:u}=kD(e.tx,n[0],a),{tx:c,txFee:f,freeCkb:h}=bD(s,n[0],t,a),d=e.fee+f;return e={...e,tx:c,fee:d},h<0n?{...e,error:"Not enough CKB"}:u<0n?{...e,error:"Not enough iCKB"}:c.outputs.size>64?{...e,error:"More than 64 output cells"}:e}function O1(e,t){return{retry:!0,refetchInterval:({state:r})=>{var n;return 6e4*((n=r.data)!=null&&n.hasMatchable?1:10)},staleTime:1e4,queryKey:[e.chain,e.address,"l1State"],queryFn:async()=>nM(e).catch(r=>{throw console.log(r),r}),placeholderData:{ckbNative:6n*sr*sr,ickbNative:3n*sr*sr,ckbAvailable:6n*sr*sr,ickbAvailable:3n*sr*sr,ckbBalance:6n*sr*sr,ickbBalance:3n*sr*sr,tipHeader:D1,txBuilder:()=>sf,hasMatchable:!1},enabled:!t}}async function nM(e){const{rpc:t,config:r,expander:n,getTxSizeOverhead:a}=e,s=await iM(e),u=t.getFeeRate(61n),c=t.getTipHeader(),f=new Set;K8(s,n,ct=>(f.add(ct),D1),r);const d=sM(f,e),y=new Set;Y8(s,n,ct=>(y.add(ct),[]),r);const w=aM(y,e),{capacities:S,notCapacities:A}=QO(s,n),E=await d,{udts:x,receipts:L,withdrawalRequestGroups:U,ickbPool:O,notIckbs:H}=K8(A,n,ct=>E.get(ct),r),P=Rf.from(await c),{mature:q,notMature:j}=VO(U,ct=>ct.ownedWithdrawalRequest.cellOutput.type[qa],P);let X=LD(O,P,{length:4,index:1,number:0});if(X.length>40){const ct=nd(Math.round(X.length/180),40);X=XO(X.slice(0,ct).map((tt,V)=>({d:tt,i:V}))).slice(0,40).sort((tt,V)=>tt.i-V.i).map(tt=>tt.d)}const z=await w,{myOrders:I}=Y8(H,n,ct=>z.get(ct)??[],r),M=[],m=[];for(const ct of I){const{isMatchable:tt,isDualRatio:V}=ct.info;tt&&!V?M.push(ct):m.push(ct)}const C=M.length>0,p=q.length>0||L.length>0||m.length>0;let v=Db({capacities:S,udts:x,tipHeader:P});const D=Dp(v.tx,r),B=Mp(v.tx,r);v=Db({txInfo:v,myOrders:m,receipts:L,wrGroups:q,tipHeader:P});const b=a(v.tx),R=Dp(v.tx,r),Y=Mp(v.tx,r),Q=Db({txInfo:v,myOrders:M,wrGroups:j,tipHeader:P}),W=Dp(Q.tx,r),J=Mp(Q.tx,r);v=Object.freeze({...v,estimatedMaturity:Q.estimatedMaturity});const[G,et]=await Promise.all([b,u]),it=ct=>fD(cD(ct)+G,et);return{ckbNative:D,ickbNative:B,ckbBalance:W,ickbBalance:J,ckbAvailable:R,ickbAvailable:Y,tipHeader:P,txBuilder:(ct,tt)=>tt>0n?eM(v,ct,tt,X,P,it,e):p?AS(v,it,e):Object.freeze({...v,error:"Nothing to do for now"}),hasMatchable:C}}async function ES(e){const{queryClient:t}=e,r={...e,accountLocks:[ki],address:w1.encodeToAddress(ki,e),expander:Hm(ki),getTxSizeOverhead:()=>Promise.resolve(0)};return t.prefetchQuery(O1(r,!1))}async function iM(e){const{accountLocks:t,config:r,rpc:n}=e;return Object.freeze((await Promise.all([...t,sl(r),T1(r),r2(r)].map(a=>n.getCellsByLock(a,"desc","max")))).flat())}async function aM(e,t){const{chain:r,rpc:n,queryClient:a}=t,s=a.getQueryData([r,"txsOutputs"])??Object.freeze(new Map),u=new Map,c=n.createBatchRequest();for(const h of e){const d=s.get(h);if(d!==void 0){u.set(h,d);continue}c.add("getTransaction",h)}if(c.length===0)return s;for(const h of(await c.exec()).map(({transaction:d})=>d))u.set(h.hash,Object.freeze(h.outputs.map(({lock:d,type:y,capacity:_},w)=>Object.freeze({cellOutput:Object.freeze({lock:Object.freeze(d),type:Object.freeze(y),capacity:Object.freeze(_)}),data:Object.freeze(h.outputsData[w]??"0x"),outPoint:Object.freeze({txHash:h.hash,index:Zo(w)})}))));const f=Object.freeze(u);return a.setQueryData([r,"txsOutputs"],f),f}async function sM(e,t){const{chain:r,rpc:n,queryClient:a}=t,s=a.getQueryData([r,"headers"])??Object.freeze(new Map),u=new Map,c=n.createBatchRequest();for(const h of e){const d=s.get(h);if(d!==void 0){u.set(h,d);continue}c.add("getHeaderByNumber",h)}if(c.length===0)return s;for(const h of await c.exec())u.set(h.number,Rf.from(h));const f=Object.freeze(u);return a.setQueryData([r,"headers"],f),f}const D1=Rf.from({compactTarget:"0x1a08a97e",parentHash:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionsRoot:"0x31bf3fdf4bc16d6ea195dbae808e2b9a8eca6941d589f6959b1d070d51ac28f7",proposalsHash:"0x0000000000000000000000000000000000000000000000000000000000000000",extraHash:"0x0000000000000000000000000000000000000000000000000000000000000000",dao:"0x8874337e541ea12e0000c16ff286230029bfa3320800000000710b00c0fefe06",epoch:"0x0",hash:"0x92b197aa1fba0f63633922c61c92375c9c074a93e85963554f5499fe1450d0e5",nonce:"0x0",number:"0x0",timestamp:"0x16e70e6985c",version:"0x0"});function i2(e){const t=i1.c(7),{children:r,isDone:n}=e;if(n){let c;return t[0]!==r?(c=qt.jsx("span",{className:"col-span-full w-full pb-4",children:r}),t[0]=r,t[1]=c):c=t[1],c}let a;t[2]!==r?(a=qt.jsx("span",{className:"pb-2",children:r}),t[2]=r,t[3]=a):a=t[3];let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=qt.jsxs("span",{className:"flex h-2 w-full flex-row overflow-hidden rounded",children:[qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-3.00s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.85s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.70s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.55s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.40s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.25s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.10s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.95s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.80s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.65s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.50s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.35s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.20s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.05s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.90s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.75s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.60s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.45s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.30s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.15s] [animation-duration:6s]"}),qt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-duration:6s]"})]}),t[4]=s):s=t[4];let u;return t[5]!==a?(u=qt.jsxs("span",{className:"col-span-full flex w-full flex-col",children:[a,s]}),t[5]=a,t[6]=u):u=t[6],u}function oM({isCkb2Udt:e,amount:t,freeze:r,formReset:n,walletConfig:a}){const[s,u]=Pr.useState(""),[c,f]=Pr.useState(sf),h=O=>{f(O),r(O!=sf)},d=c!==sf,{data:y,isStale:_,isFetching:w}=cv(O1(a,d)),{txBuilder:S,tipHeader:A}=y,E=d?c:S(e,t),x=uD(E.tx)&&E.fee>0n&&E.estimatedMaturity!==_S&&E.error==="",{maturity:L,isReady:U}=cM(E.estimatedMaturity,A);return qt.jsxs("span",{className:"grid grid-cols-2 items-center justify-items-center gap-y-4",children:[qt.jsx(i2,{isDone:!w&&!d,children:qt.jsx("button",{className:"text-s col-span-2 min-h-12 w-full cursor-pointer rounded border-2 border-amber-400 px-8 leading-relaxed font-bold tracking-wider text-amber-400 uppercase disabled:cursor-default disabled:opacity-50",onClick:_?async()=>a.queryClient.invalidateQueries({queryKey:[a.chain,a.address,"l1State"]}):async()=>uM(E,h,u,n,a),disabled:w||d||!x,children:d?s:w?"refreshing...":E.error!==""?E.error:x?_?`refresh before ${t>0?`converting to ${e?"iCKB":"CKB"}`:"collecting converted funds"}`:t>0?`request conversion to ${e?"iCKB":"CKB"}`:`${U?"fully":"partially"} collect converted funds`:"finding a goose egg"})}),qt.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Fee:"}),qt.jsxs("span",{children:[B1(E.fee)," CKB"]}),qt.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Maturity:"}),qt.jsx("span",{children:L})]})}async function uM(e,t,r,n,a){const{rpc:s,sendSigned:u,queryClient:c}=a;try{t(e),r("Waiting for user confirmation...");const f=await u(e.tx);let h="pending";for(;h==="pending"||h==="proposed";)r("Waiting for network confirmation..."),await new Promise(d=>setTimeout(d,1e4)),h=(await s.getTransaction(f)).txStatus.status;h==="committed"?(r("Transaction confirmed!!!"),n()):r("Something went wrong, retry in a minute"),await c.invalidateQueries(O1(a,!0)),await new Promise(d=>setTimeout(d,1e4))}finally{r(""),t(sf)}}function cM(e,t){const r=ba.parseEpoch(t.epoch),n=e.index/e.length-r.index/r.length+e.number-r.number;return n<=0?{maturity:" Ready",isReady:!0}:n<=.375?{maturity:` ${String(Math.ceil(n*4*60))} minutes`,isReady:!1}:n<=6?{maturity:` ${String(1+Math.ceil(n*4))} hours`,isReady:!1}:{maturity:` ${String(1+Math.ceil(n/6))} days`,isReady:!1}}function fM({walletConfig:e}){const[t,r]=Pr.useState(!1),[n,a]=Pr.useState(Um(!0)),s=n[0],u=gS(s);let c=ZD(n),f=JD(c);const{ckbNative:h,ickbNative:d,ckbAvailable:y,ickbAvailable:_,ckbBalance:w,ickbBalance:S,tipHeader:A}=cv(O1(e,t)).data,E=u?nd(y-mS,0n):_;f>E&&(f=E,c=B1(E));const x=()=>{a(Um(u))},L=Pr.useDeferredValue({isCkb2Udt:u,amount:f,freeze:r,formReset:x,walletConfig:e});return A===D1?qt.jsxs(qt.Fragment,{children:[qt.jsx(z8,{walletConfig:e}),qt.jsx(i2,{children:"Downloading the latest L1 Cell data, just for you. Hang tight!"})]}):qt.jsxs(qt.Fragment,{children:[qt.jsx(z8,{walletConfig:e}),qt.jsx(tM,{rawText:s+c,setRawText:a,amount:f,tipHeader:A,isFrozen:t,ckbNative:h,ickbNative:d,ckbAvailable:y,ickbAvailable:_,ckbBalance:w,ickbBalance:S}),qt.jsx(oM,{...L})]})}var ka=u1(),Mb={},xh={},G8;function lM(){if(G8)return xh;G8=1,xh.byteLength=c,xh.toByteArray=h,xh.fromByteArray=_;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=n.length;a<s;++a)e[a]=n[a],t[n.charCodeAt(a)]=a;t[45]=62,t[95]=63;function u(w){var S=w.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=w.indexOf("=");A===-1&&(A=S);var E=A===S?0:4-A%4;return[A,E]}function c(w){var S=u(w),A=S[0],E=S[1];return(A+E)*3/4-E}function f(w,S,A){return(S+A)*3/4-A}function h(w){var S,A=u(w),E=A[0],x=A[1],L=new r(f(w,E,x)),U=0,O=x>0?E-4:E,H;for(H=0;H<O;H+=4)S=t[w.charCodeAt(H)]<<18|t[w.charCodeAt(H+1)]<<12|t[w.charCodeAt(H+2)]<<6|t[w.charCodeAt(H+3)],L[U++]=S>>16&255,L[U++]=S>>8&255,L[U++]=S&255;return x===2&&(S=t[w.charCodeAt(H)]<<2|t[w.charCodeAt(H+1)]>>4,L[U++]=S&255),x===1&&(S=t[w.charCodeAt(H)]<<10|t[w.charCodeAt(H+1)]<<4|t[w.charCodeAt(H+2)]>>2,L[U++]=S>>8&255,L[U++]=S&255),L}function d(w){return e[w>>18&63]+e[w>>12&63]+e[w>>6&63]+e[w&63]}function y(w,S,A){for(var E,x=[],L=S;L<A;L+=3)E=(w[L]<<16&16711680)+(w[L+1]<<8&65280)+(w[L+2]&255),x.push(d(E));return x.join("")}function _(w){for(var S,A=w.length,E=A%3,x=[],L=16383,U=0,O=A-E;U<O;U+=L)x.push(y(w,U,U+L>O?O:U+L));return E===1?(S=w[A-1],x.push(e[S>>2]+e[S<<4&63]+"==")):E===2&&(S=(w[A-2]<<8)+w[A-1],x.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),x.join("")}return xh}var pp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var X8;function hM(){return X8||(X8=1,pp.read=function(e,t,r,n,a){var s,u,c=a*8-n-1,f=(1<<c)-1,h=f>>1,d=-7,y=r?a-1:0,_=r?-1:1,w=e[t+y];for(y+=_,s=w&(1<<-d)-1,w>>=-d,d+=c;d>0;s=s*256+e[t+y],y+=_,d-=8);for(u=s&(1<<-d)-1,s>>=-d,d+=n;d>0;u=u*256+e[t+y],y+=_,d-=8);if(s===0)s=1-h;else{if(s===f)return u?NaN:(w?-1:1)*(1/0);u=u+Math.pow(2,n),s=s-h}return(w?-1:1)*u*Math.pow(2,s-n)},pp.write=function(e,t,r,n,a,s){var u,c,f,h=s*8-a-1,d=(1<<h)-1,y=d>>1,_=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,S=n?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,u=d):(u=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+y>=1?t+=_/f:t+=_*Math.pow(2,1-y),t*f>=2&&(u++,f/=2),u+y>=d?(c=0,u=d):u+y>=1?(c=(t*f-1)*Math.pow(2,a),u=u+y):(c=t*Math.pow(2,y-1)*Math.pow(2,a),u=0));a>=8;e[r+w]=c&255,w+=S,c/=256,a-=8);for(u=u<<a|c,h+=a;h>0;e[r+w]=u&255,w+=S,u/=256,h-=8);e[r+w-S]|=A*128}),pp}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var W8;function ol(){return W8||(W8=1,function(e){const t=lM(),r=hM(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=L,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const $=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf($,k),$.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u($){if($>a)throw new RangeError('The value "'+$+'" is invalid for option "size"');const k=new Uint8Array($);return Object.setPrototypeOf(k,c.prototype),k}function c($,k,K){if(typeof $=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y($)}return f($,k,K)}c.poolSize=8192;function f($,k,K){if(typeof $=="string")return _($,k);if(ArrayBuffer.isView($))return S($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Pt($,ArrayBuffer)||$&&Pt($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pt($,SharedArrayBuffer)||$&&Pt($.buffer,SharedArrayBuffer)))return A($,k,K);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const nt=$.valueOf&&$.valueOf();if(nt!=null&&nt!==$)return c.from(nt,k,K);const pt=E($);if(pt)return pt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return c.from($[Symbol.toPrimitive]("string"),k,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}c.from=function($,k,K){return f($,k,K)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function d($,k,K){return h($),$<=0?u($):k!==void 0?typeof K=="string"?u($).fill(k,K):u($).fill(k):u($)}c.alloc=function($,k,K){return d($,k,K)};function y($){return h($),u($<0?0:x($)|0)}c.allocUnsafe=function($){return y($)},c.allocUnsafeSlow=function($){return y($)};function _($,k){if((typeof k!="string"||k==="")&&(k="utf8"),!c.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const K=U($,k)|0;let nt=u(K);const pt=nt.write($,k);return pt!==K&&(nt=nt.slice(0,pt)),nt}function w($){const k=$.length<0?0:x($.length)|0,K=u(k);for(let nt=0;nt<k;nt+=1)K[nt]=$[nt]&255;return K}function S($){if(Pt($,Uint8Array)){const k=new Uint8Array($);return A(k.buffer,k.byteOffset,k.byteLength)}return w($)}function A($,k,K){if(k<0||$.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<k+(K||0))throw new RangeError('"length" is outside of buffer bounds');let nt;return k===void 0&&K===void 0?nt=new Uint8Array($):K===void 0?nt=new Uint8Array($,k):nt=new Uint8Array($,k,K),Object.setPrototypeOf(nt,c.prototype),nt}function E($){if(c.isBuffer($)){const k=x($.length)|0,K=u(k);return K.length===0||$.copy(K,0,0,k),K}if($.length!==void 0)return typeof $.length!="number"||pe($.length)?u(0):w($);if($.type==="Buffer"&&Array.isArray($.data))return w($.data)}function x($){if($>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return $|0}function L($){return+$!=$&&($=0),c.alloc(+$)}c.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==c.prototype},c.compare=function(k,K){if(Pt(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),Pt(K,Uint8Array)&&(K=c.from(K,K.offset,K.byteLength)),!c.isBuffer(k)||!c.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===K)return 0;let nt=k.length,pt=K.length;for(let wt=0,Ct=Math.min(nt,pt);wt<Ct;++wt)if(k[wt]!==K[wt]){nt=k[wt],pt=K[wt];break}return nt<pt?-1:pt<nt?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,K){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);let nt;if(K===void 0)for(K=0,nt=0;nt<k.length;++nt)K+=k[nt].length;const pt=c.allocUnsafe(K);let wt=0;for(nt=0;nt<k.length;++nt){let Ct=k[nt];if(Pt(Ct,Uint8Array))wt+Ct.length>pt.length?(c.isBuffer(Ct)||(Ct=c.from(Ct)),Ct.copy(pt,wt)):Uint8Array.prototype.set.call(pt,Ct,wt);else if(c.isBuffer(Ct))Ct.copy(pt,wt);else throw new TypeError('"list" argument must be an Array of Buffers');wt+=Ct.length}return pt};function U($,k){if(c.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Pt($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const K=$.length,nt=arguments.length>2&&arguments[2]===!0;if(!nt&&K===0)return 0;let pt=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return ft($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return Nt($).length;default:if(pt)return nt?-1:ft($).length;k=(""+k).toLowerCase(),pt=!0}}c.byteLength=U;function O($,k,K){let nt=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,k>>>=0,K<=k))return"";for($||($="utf8");;)switch($){case"hex":return B(this,k,K);case"utf8":case"utf-8":return m(this,k,K);case"ascii":return v(this,k,K);case"latin1":case"binary":return D(this,k,K);case"base64":return M(this,k,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,k,K);default:if(nt)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),nt=!0}}c.prototype._isBuffer=!0;function H($,k,K){const nt=$[k];$[k]=$[K],$[K]=nt}c.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<k;K+=2)H(this,K,K+1);return this},c.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<k;K+=4)H(this,K,K+3),H(this,K+1,K+2);return this},c.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<k;K+=8)H(this,K,K+7),H(this,K+1,K+6),H(this,K+2,K+5),H(this,K+3,K+4);return this},c.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?m(this,0,k):O.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:c.compare(this,k)===0},c.prototype.inspect=function(){let k="";const K=e.INSPECT_MAX_BYTES;return k=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(k+=" ... "),"<Buffer "+k+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(k,K,nt,pt,wt){if(Pt(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),!c.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(K===void 0&&(K=0),nt===void 0&&(nt=k?k.length:0),pt===void 0&&(pt=0),wt===void 0&&(wt=this.length),K<0||nt>k.length||pt<0||wt>this.length)throw new RangeError("out of range index");if(pt>=wt&&K>=nt)return 0;if(pt>=wt)return-1;if(K>=nt)return 1;if(K>>>=0,nt>>>=0,pt>>>=0,wt>>>=0,this===k)return 0;let Ct=wt-pt,Kt=nt-K;const se=Math.min(Ct,Kt),Wt=this.slice(pt,wt),Zt=k.slice(K,nt);for(let _e=0;_e<se;++_e)if(Wt[_e]!==Zt[_e]){Ct=Wt[_e],Kt=Zt[_e];break}return Ct<Kt?-1:Kt<Ct?1:0};function P($,k,K,nt,pt){if($.length===0)return-1;if(typeof K=="string"?(nt=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,pe(K)&&(K=pt?0:$.length-1),K<0&&(K=$.length+K),K>=$.length){if(pt)return-1;K=$.length-1}else if(K<0)if(pt)K=0;else return-1;if(typeof k=="string"&&(k=c.from(k,nt)),c.isBuffer(k))return k.length===0?-1:q($,k,K,nt,pt);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?pt?Uint8Array.prototype.indexOf.call($,k,K):Uint8Array.prototype.lastIndexOf.call($,k,K):q($,[k],K,nt,pt);throw new TypeError("val must be string, number or Buffer")}function q($,k,K,nt,pt){let wt=1,Ct=$.length,Kt=k.length;if(nt!==void 0&&(nt=String(nt).toLowerCase(),nt==="ucs2"||nt==="ucs-2"||nt==="utf16le"||nt==="utf-16le")){if($.length<2||k.length<2)return-1;wt=2,Ct/=2,Kt/=2,K/=2}function se(Zt,_e){return wt===1?Zt[_e]:Zt.readUInt16BE(_e*wt)}let Wt;if(pt){let Zt=-1;for(Wt=K;Wt<Ct;Wt++)if(se($,Wt)===se(k,Zt===-1?0:Wt-Zt)){if(Zt===-1&&(Zt=Wt),Wt-Zt+1===Kt)return Zt*wt}else Zt!==-1&&(Wt-=Wt-Zt),Zt=-1}else for(K+Kt>Ct&&(K=Ct-Kt),Wt=K;Wt>=0;Wt--){let Zt=!0;for(let _e=0;_e<Kt;_e++)if(se($,Wt+_e)!==se(k,_e)){Zt=!1;break}if(Zt)return Wt}return-1}c.prototype.includes=function(k,K,nt){return this.indexOf(k,K,nt)!==-1},c.prototype.indexOf=function(k,K,nt){return P(this,k,K,nt,!0)},c.prototype.lastIndexOf=function(k,K,nt){return P(this,k,K,nt,!1)};function j($,k,K,nt){K=Number(K)||0;const pt=$.length-K;nt?(nt=Number(nt),nt>pt&&(nt=pt)):nt=pt;const wt=k.length;nt>wt/2&&(nt=wt/2);let Ct;for(Ct=0;Ct<nt;++Ct){const Kt=parseInt(k.substr(Ct*2,2),16);if(pe(Kt))return Ct;$[K+Ct]=Kt}return Ct}function F($,k,K,nt){return Ot(ft(k,$.length-K),$,K,nt)}function X($,k,K,nt){return Ot(dt(k),$,K,nt)}function z($,k,K,nt){return Ot(Nt(k),$,K,nt)}function I($,k,K,nt){return Ot(At(k,$.length-K),$,K,nt)}c.prototype.write=function(k,K,nt,pt){if(K===void 0)pt="utf8",nt=this.length,K=0;else if(nt===void 0&&typeof K=="string")pt=K,nt=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(nt)?(nt=nt>>>0,pt===void 0&&(pt="utf8")):(pt=nt,nt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const wt=this.length-K;if((nt===void 0||nt>wt)&&(nt=wt),k.length>0&&(nt<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");pt||(pt="utf8");let Ct=!1;for(;;)switch(pt){case"hex":return j(this,k,K,nt);case"utf8":case"utf-8":return F(this,k,K,nt);case"ascii":case"latin1":case"binary":return X(this,k,K,nt);case"base64":return z(this,k,K,nt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,k,K,nt);default:if(Ct)throw new TypeError("Unknown encoding: "+pt);pt=(""+pt).toLowerCase(),Ct=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M($,k,K){return k===0&&K===$.length?t.fromByteArray($):t.fromByteArray($.slice(k,K))}function m($,k,K){K=Math.min($.length,K);const nt=[];let pt=k;for(;pt<K;){const wt=$[pt];let Ct=null,Kt=wt>239?4:wt>223?3:wt>191?2:1;if(pt+Kt<=K){let se,Wt,Zt,_e;switch(Kt){case 1:wt<128&&(Ct=wt);break;case 2:se=$[pt+1],(se&192)===128&&(_e=(wt&31)<<6|se&63,_e>127&&(Ct=_e));break;case 3:se=$[pt+1],Wt=$[pt+2],(se&192)===128&&(Wt&192)===128&&(_e=(wt&15)<<12|(se&63)<<6|Wt&63,_e>2047&&(_e<55296||_e>57343)&&(Ct=_e));break;case 4:se=$[pt+1],Wt=$[pt+2],Zt=$[pt+3],(se&192)===128&&(Wt&192)===128&&(Zt&192)===128&&(_e=(wt&15)<<18|(se&63)<<12|(Wt&63)<<6|Zt&63,_e>65535&&_e<1114112&&(Ct=_e))}}Ct===null?(Ct=65533,Kt=1):Ct>65535&&(Ct-=65536,nt.push(Ct>>>10&1023|55296),Ct=56320|Ct&1023),nt.push(Ct),pt+=Kt}return p(nt)}const C=4096;function p($){const k=$.length;if(k<=C)return String.fromCharCode.apply(String,$);let K="",nt=0;for(;nt<k;)K+=String.fromCharCode.apply(String,$.slice(nt,nt+=C));return K}function v($,k,K){let nt="";K=Math.min($.length,K);for(let pt=k;pt<K;++pt)nt+=String.fromCharCode($[pt]&127);return nt}function D($,k,K){let nt="";K=Math.min($.length,K);for(let pt=k;pt<K;++pt)nt+=String.fromCharCode($[pt]);return nt}function B($,k,K){const nt=$.length;(!k||k<0)&&(k=0),(!K||K<0||K>nt)&&(K=nt);let pt="";for(let wt=k;wt<K;++wt)pt+=Xt[$[wt]];return pt}function b($,k,K){const nt=$.slice(k,K);let pt="";for(let wt=0;wt<nt.length-1;wt+=2)pt+=String.fromCharCode(nt[wt]+nt[wt+1]*256);return pt}c.prototype.slice=function(k,K){const nt=this.length;k=~~k,K=K===void 0?nt:~~K,k<0?(k+=nt,k<0&&(k=0)):k>nt&&(k=nt),K<0?(K+=nt,K<0&&(K=0)):K>nt&&(K=nt),K<k&&(K=k);const pt=this.subarray(k,K);return Object.setPrototypeOf(pt,c.prototype),pt};function R($,k,K){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+k>K)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(k,K,nt){k=k>>>0,K=K>>>0,nt||R(k,K,this.length);let pt=this[k],wt=1,Ct=0;for(;++Ct<K&&(wt*=256);)pt+=this[k+Ct]*wt;return pt},c.prototype.readUintBE=c.prototype.readUIntBE=function(k,K,nt){k=k>>>0,K=K>>>0,nt||R(k,K,this.length);let pt=this[k+--K],wt=1;for(;K>0&&(wt*=256);)pt+=this[k+--K]*wt;return pt},c.prototype.readUint8=c.prototype.readUInt8=function(k,K){return k=k>>>0,K||R(k,1,this.length),this[k]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(k,K){return k=k>>>0,K||R(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(k,K){return k=k>>>0,K||R(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(k,K){return k=k>>>0,K||R(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(k,K){return k=k>>>0,K||R(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readBigUInt64LE=ne(function(k){k=k>>>0,ot(k,"offset");const K=this[k],nt=this[k+7];(K===void 0||nt===void 0)&&mt(k,this.length-8);const pt=K+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,wt=this[++k]+this[++k]*2**8+this[++k]*2**16+nt*2**24;return BigInt(pt)+(BigInt(wt)<<BigInt(32))}),c.prototype.readBigUInt64BE=ne(function(k){k=k>>>0,ot(k,"offset");const K=this[k],nt=this[k+7];(K===void 0||nt===void 0)&&mt(k,this.length-8);const pt=K*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],wt=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+nt;return(BigInt(pt)<<BigInt(32))+BigInt(wt)}),c.prototype.readIntLE=function(k,K,nt){k=k>>>0,K=K>>>0,nt||R(k,K,this.length);let pt=this[k],wt=1,Ct=0;for(;++Ct<K&&(wt*=256);)pt+=this[k+Ct]*wt;return wt*=128,pt>=wt&&(pt-=Math.pow(2,8*K)),pt},c.prototype.readIntBE=function(k,K,nt){k=k>>>0,K=K>>>0,nt||R(k,K,this.length);let pt=K,wt=1,Ct=this[k+--pt];for(;pt>0&&(wt*=256);)Ct+=this[k+--pt]*wt;return wt*=128,Ct>=wt&&(Ct-=Math.pow(2,8*K)),Ct},c.prototype.readInt8=function(k,K){return k=k>>>0,K||R(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},c.prototype.readInt16LE=function(k,K){k=k>>>0,K||R(k,2,this.length);const nt=this[k]|this[k+1]<<8;return nt&32768?nt|4294901760:nt},c.prototype.readInt16BE=function(k,K){k=k>>>0,K||R(k,2,this.length);const nt=this[k+1]|this[k]<<8;return nt&32768?nt|4294901760:nt},c.prototype.readInt32LE=function(k,K){return k=k>>>0,K||R(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,K){return k=k>>>0,K||R(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readBigInt64LE=ne(function(k){k=k>>>0,ot(k,"offset");const K=this[k],nt=this[k+7];(K===void 0||nt===void 0)&&mt(k,this.length-8);const pt=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(nt<<24);return(BigInt(pt)<<BigInt(32))+BigInt(K+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),c.prototype.readBigInt64BE=ne(function(k){k=k>>>0,ot(k,"offset");const K=this[k],nt=this[k+7];(K===void 0||nt===void 0)&&mt(k,this.length-8);const pt=(K<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(pt)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+nt)}),c.prototype.readFloatLE=function(k,K){return k=k>>>0,K||R(k,4,this.length),r.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,K){return k=k>>>0,K||R(k,4,this.length),r.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,K){return k=k>>>0,K||R(k,8,this.length),r.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,K){return k=k>>>0,K||R(k,8,this.length),r.read(this,k,!1,52,8)};function Y($,k,K,nt,pt,wt){if(!c.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>pt||k<wt)throw new RangeError('"value" argument is out of bounds');if(K+nt>$.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(k,K,nt,pt){if(k=+k,K=K>>>0,nt=nt>>>0,!pt){const Kt=Math.pow(2,8*nt)-1;Y(this,k,K,nt,Kt,0)}let wt=1,Ct=0;for(this[K]=k&255;++Ct<nt&&(wt*=256);)this[K+Ct]=k/wt&255;return K+nt},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(k,K,nt,pt){if(k=+k,K=K>>>0,nt=nt>>>0,!pt){const Kt=Math.pow(2,8*nt)-1;Y(this,k,K,nt,Kt,0)}let wt=nt-1,Ct=1;for(this[K+wt]=k&255;--wt>=0&&(Ct*=256);)this[K+wt]=k/Ct&255;return K+nt},c.prototype.writeUint8=c.prototype.writeUInt8=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,1,255,0),this[K]=k&255,K+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,2,65535,0),this[K]=k&255,this[K+1]=k>>>8,K+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,2,65535,0),this[K]=k>>>8,this[K+1]=k&255,K+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,4,4294967295,0),this[K+3]=k>>>24,this[K+2]=k>>>16,this[K+1]=k>>>8,this[K]=k&255,K+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,4,4294967295,0),this[K]=k>>>24,this[K+1]=k>>>16,this[K+2]=k>>>8,this[K+3]=k&255,K+4};function Q($,k,K,nt,pt){V(k,nt,pt,$,K,7);let wt=Number(k&BigInt(4294967295));$[K++]=wt,wt=wt>>8,$[K++]=wt,wt=wt>>8,$[K++]=wt,wt=wt>>8,$[K++]=wt;let Ct=Number(k>>BigInt(32)&BigInt(4294967295));return $[K++]=Ct,Ct=Ct>>8,$[K++]=Ct,Ct=Ct>>8,$[K++]=Ct,Ct=Ct>>8,$[K++]=Ct,K}function W($,k,K,nt,pt){V(k,nt,pt,$,K,7);let wt=Number(k&BigInt(4294967295));$[K+7]=wt,wt=wt>>8,$[K+6]=wt,wt=wt>>8,$[K+5]=wt,wt=wt>>8,$[K+4]=wt;let Ct=Number(k>>BigInt(32)&BigInt(4294967295));return $[K+3]=Ct,Ct=Ct>>8,$[K+2]=Ct,Ct=Ct>>8,$[K+1]=Ct,Ct=Ct>>8,$[K]=Ct,K+8}c.prototype.writeBigUInt64LE=ne(function(k,K=0){return Q(this,k,K,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ne(function(k,K=0){return W(this,k,K,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(k,K,nt,pt){if(k=+k,K=K>>>0,!pt){const se=Math.pow(2,8*nt-1);Y(this,k,K,nt,se-1,-se)}let wt=0,Ct=1,Kt=0;for(this[K]=k&255;++wt<nt&&(Ct*=256);)k<0&&Kt===0&&this[K+wt-1]!==0&&(Kt=1),this[K+wt]=(k/Ct>>0)-Kt&255;return K+nt},c.prototype.writeIntBE=function(k,K,nt,pt){if(k=+k,K=K>>>0,!pt){const se=Math.pow(2,8*nt-1);Y(this,k,K,nt,se-1,-se)}let wt=nt-1,Ct=1,Kt=0;for(this[K+wt]=k&255;--wt>=0&&(Ct*=256);)k<0&&Kt===0&&this[K+wt+1]!==0&&(Kt=1),this[K+wt]=(k/Ct>>0)-Kt&255;return K+nt},c.prototype.writeInt8=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,1,127,-128),k<0&&(k=255+k+1),this[K]=k&255,K+1},c.prototype.writeInt16LE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,2,32767,-32768),this[K]=k&255,this[K+1]=k>>>8,K+2},c.prototype.writeInt16BE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,2,32767,-32768),this[K]=k>>>8,this[K+1]=k&255,K+2},c.prototype.writeInt32LE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,4,2147483647,-2147483648),this[K]=k&255,this[K+1]=k>>>8,this[K+2]=k>>>16,this[K+3]=k>>>24,K+4},c.prototype.writeInt32BE=function(k,K,nt){return k=+k,K=K>>>0,nt||Y(this,k,K,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[K]=k>>>24,this[K+1]=k>>>16,this[K+2]=k>>>8,this[K+3]=k&255,K+4},c.prototype.writeBigInt64LE=ne(function(k,K=0){return Q(this,k,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ne(function(k,K=0){return W(this,k,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J($,k,K,nt,pt,wt){if(K+nt>$.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function G($,k,K,nt,pt){return k=+k,K=K>>>0,pt||J($,k,K,4),r.write($,k,K,nt,23,4),K+4}c.prototype.writeFloatLE=function(k,K,nt){return G(this,k,K,!0,nt)},c.prototype.writeFloatBE=function(k,K,nt){return G(this,k,K,!1,nt)};function et($,k,K,nt,pt){return k=+k,K=K>>>0,pt||J($,k,K,8),r.write($,k,K,nt,52,8),K+8}c.prototype.writeDoubleLE=function(k,K,nt){return et(this,k,K,!0,nt)},c.prototype.writeDoubleBE=function(k,K,nt){return et(this,k,K,!1,nt)},c.prototype.copy=function(k,K,nt,pt){if(!c.isBuffer(k))throw new TypeError("argument should be a Buffer");if(nt||(nt=0),!pt&&pt!==0&&(pt=this.length),K>=k.length&&(K=k.length),K||(K=0),pt>0&&pt<nt&&(pt=nt),pt===nt||k.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(nt<0||nt>=this.length)throw new RangeError("Index out of range");if(pt<0)throw new RangeError("sourceEnd out of bounds");pt>this.length&&(pt=this.length),k.length-K<pt-nt&&(pt=k.length-K+nt);const wt=pt-nt;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,nt,pt):Uint8Array.prototype.set.call(k,this.subarray(nt,pt),K),wt},c.prototype.fill=function(k,K,nt,pt){if(typeof k=="string"){if(typeof K=="string"?(pt=K,K=0,nt=this.length):typeof nt=="string"&&(pt=nt,nt=this.length),pt!==void 0&&typeof pt!="string")throw new TypeError("encoding must be a string");if(typeof pt=="string"&&!c.isEncoding(pt))throw new TypeError("Unknown encoding: "+pt);if(k.length===1){const Ct=k.charCodeAt(0);(pt==="utf8"&&Ct<128||pt==="latin1")&&(k=Ct)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(K<0||this.length<K||this.length<nt)throw new RangeError("Out of range index");if(nt<=K)return this;K=K>>>0,nt=nt===void 0?this.length:nt>>>0,k||(k=0);let wt;if(typeof k=="number")for(wt=K;wt<nt;++wt)this[wt]=k;else{const Ct=c.isBuffer(k)?k:c.from(k,pt),Kt=Ct.length;if(Kt===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(wt=0;wt<nt-K;++wt)this[wt+K]=Ct[wt%Kt]}return this};const it={};function ut($,k,K){it[$]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(pt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pt,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function($,k){return`The "${$}" argument must be of type number. Received type ${typeof k}`},TypeError),ut("ERR_OUT_OF_RANGE",function($,k,K){let nt=`The value of "${$}" is out of range.`,pt=K;return Number.isInteger(K)&&Math.abs(K)>2**32?pt=ct(String(K)):typeof K=="bigint"&&(pt=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(pt=ct(pt)),pt+="n"),nt+=` It must be ${k}. Received ${pt}`,nt},RangeError);function ct($){let k="",K=$.length;const nt=$[0]==="-"?1:0;for(;K>=nt+4;K-=3)k=`_${$.slice(K-3,K)}${k}`;return`${$.slice(0,K)}${k}`}function tt($,k,K){ot(k,"offset"),($[k]===void 0||$[k+K]===void 0)&&mt(k,$.length-(K+1))}function V($,k,K,nt,pt,wt){if($>K||$<k){const Ct=typeof k=="bigint"?"n":"";let Kt;throw k===0||k===BigInt(0)?Kt=`>= 0${Ct} and < 2${Ct} ** ${(wt+1)*8}${Ct}`:Kt=`>= -(2${Ct} ** ${(wt+1)*8-1}${Ct}) and < 2 ** ${(wt+1)*8-1}${Ct}`,new it.ERR_OUT_OF_RANGE("value",Kt,$)}tt(nt,pt,wt)}function ot($,k){if(typeof $!="number")throw new it.ERR_INVALID_ARG_TYPE(k,"number",$)}function mt($,k,K){throw Math.floor($)!==$?(ot($,K),new it.ERR_OUT_OF_RANGE("offset","an integer",$)):k<0?new it.ERR_BUFFER_OUT_OF_BOUNDS:new it.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,$)}const Tt=/[^+/0-9A-Za-z-_]/g;function st($){if($=$.split("=")[0],$=$.trim().replace(Tt,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function ft($,k){k=k||1/0;let K;const nt=$.length;let pt=null;const wt=[];for(let Ct=0;Ct<nt;++Ct){if(K=$.charCodeAt(Ct),K>55295&&K<57344){if(!pt){if(K>56319){(k-=3)>-1&&wt.push(239,191,189);continue}else if(Ct+1===nt){(k-=3)>-1&&wt.push(239,191,189);continue}pt=K;continue}if(K<56320){(k-=3)>-1&&wt.push(239,191,189),pt=K;continue}K=(pt-55296<<10|K-56320)+65536}else pt&&(k-=3)>-1&&wt.push(239,191,189);if(pt=null,K<128){if((k-=1)<0)break;wt.push(K)}else if(K<2048){if((k-=2)<0)break;wt.push(K>>6|192,K&63|128)}else if(K<65536){if((k-=3)<0)break;wt.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((k-=4)<0)break;wt.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return wt}function dt($){const k=[];for(let K=0;K<$.length;++K)k.push($.charCodeAt(K)&255);return k}function At($,k){let K,nt,pt;const wt=[];for(let Ct=0;Ct<$.length&&!((k-=2)<0);++Ct)K=$.charCodeAt(Ct),nt=K>>8,pt=K%256,wt.push(pt),wt.push(nt);return wt}function Nt($){return t.toByteArray(st($))}function Ot($,k,K,nt){let pt;for(pt=0;pt<nt&&!(pt+K>=k.length||pt>=$.length);++pt)k[pt+K]=$[pt];return pt}function Pt($,k){return $ instanceof k||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===k.name}function pe($){return $!==$}const Xt=function(){const $="0123456789abcdef",k=new Array(256);for(let K=0;K<16;++K){const nt=K*16;for(let pt=0;pt<16;++pt)k[nt+pt]=$[K]+$[pt]}return k}();function ne($){return typeof BigInt>"u"?at:$}function at(){throw new Error("BigInt not supported")}}(Mb)),Mb}var Pm=ol();function Fo(e,...t){return t.reduce((r,n)=>{const a=Yt(n);for(const s of a)e.push(s);return r},e)}function Jo(...e){return new Uint8Array(Fo([],...e))}function xS(e,t){return Pm.Buffer.from(Yt(e)).toString(t)}function Yt(e,t){if(e instanceof Uint8Array)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(typeof e=="string"){if(t!==void 0)return Pm.Buffer.from(e,t);const n=e.startsWith("0x")?e.slice(2):e,a=n.length%2===0?n:`0${n}`,s=Pm.Buffer.from(a,"hex");if(s.length*2!==a.length)throw new Error(`Invalid bytes ${e}`);return s}if(Array.from(e).some(n=>n<0||255<n))throw new Error(`Invalid bytes ${JSON.stringify(e)}`);return new Uint8Array(e)}function dM(e,t){if(e===t)return!0;const r=Yt(e),n=Yt(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}function Ut(e){return`0x${xS(Yt(e),"hex")}`}function pM(e,...t){let r=Lt(e);return t.forEach(n=>{const a=Lt(n);a<r&&(r=a)}),r}function gM(e,...t){let r=Lt(e);return t.forEach(n=>{const a=Lt(n);a>r&&(r=a)}),r}function Lt(e){if(typeof e=="bigint")return e;if(e==="0x")return BigInt(0);if(typeof e=="string"||typeof e=="number")return BigInt(e);const t=Ut(e);return BigInt(t)}function la(e){return`0x${Lt(e).toString(16)}`}function li(e,t){return yM(e,t)}function yM(e,t){return SS(e,t).reverse()}function SS(e,t){let r=Lt(e);if(r<Lt(0)){if(t==null)throw Error("negative number can not be serialized without knowing bytes length");if(r=(Lt(1)<<Lt(8)*Lt(t))+r,r<0)throw Error("negative number underflow")}const n=Yt(r.toString(16));if(t==null)return n;if(n.length>t)throw Error("number overflow");return Jo("00".repeat(t-n.length),n)}function M1(e){return Nh(e)}function Nh(e){return CS(Yt(e).map(t=>t).reverse())}function CS(e){return Lt(Yt(e))}class tn{constructor(t,r,n){this.encode=t,this.decode=r,this.byteLength=n}static from({encode:t,decode:r,byteLength:n}){return new tn(a=>{const s=t(a);if(n!==void 0&&s.byteLength!==n)throw new Error(`Codec.encode: expected byte length ${n}, got ${s.byteLength}`);return s},a=>{const s=Yt(a);if(n!==void 0&&s.byteLength!==n)throw new Error(`Codec.decode: expected byte length ${n}, got ${s.byteLength}`);return r(a)},n)}map({inMap:t,outMap:r}){return new tn(n=>this.encode(t?t(n):n),n=>r?r(this.decode(n)):this.decode(n),this.byteLength)}mapIn(t){return this.map({inMap:t})}mapOut(t){return this.map({outMap:t})}}function Lf(e){return li(e,4)}function Gu(e){return Number(M1(e))}function bM(e){const t=e.byteLength;if(t===void 0)throw new Error("fixedItemVec: itemCodec requires a byte length");return tn.from({encode(r){try{const n=[];Fo(n,Lf(r.length));for(const a of r)Fo(n,e.encode(a));return Yt(n)}catch(n){throw new Error(`fixedItemVec(${n==null?void 0:n.toString()})`)}},decode(r){const n=Yt(r);if(n.byteLength<4)throw new Error(`fixedItemVec: too short buffer, expected at least 4 bytes, but got ${n.byteLength}`);const s=4+Gu(n.slice(0,4))*t;if(n.byteLength!==s)throw new Error(`fixedItemVec: invalid buffer size, expected ${s}, but got ${n.byteLength}`);try{const u=[];for(let c=4;c<s;c+=t)u.push(e.decode(n.slice(c,c+t)));return u}catch(u){throw new Error(`fixedItemVec(${u==null?void 0:u.toString()})`)}}})}function _M(e){return tn.from({encode(t){try{let r=4+t.length*4;const n=[],a=[];for(const u of t){const c=e.encode(u);Fo(n,Lf(r)),Fo(a,c),r+=c.byteLength}const s=Lf(n.length+a.length+4);return Jo(s,n,a)}catch(r){throw new Error(`dynItemVec(${r==null?void 0:r.toString()})`)}},decode(t){const r=Yt(t);if(r.byteLength<4)throw new Error(`dynItemVec: too short buffer, expected at least 4 bytes, but got ${r.byteLength}`);const n=Gu(r.slice(0,4));if(n!==r.byteLength)throw new Error(`dynItemVec: invalid buffer size, expected ${n}, but got ${r.byteLength}`);if(n===4)return[];const s=(Gu(r.slice(4,8))-4)/4,u=Array.from(new Array(s),(c,f)=>Gu(r.slice(4+f*4,8+f*4)));u.push(n);try{const c=[];for(let f=0;f<u.length-1;f++){const h=u[f],d=u[f+1],y=r.slice(h,d);c.push(e.decode(y))}return c}catch(c){throw new Error(`dynItemVec(${c==null?void 0:c.toString()})`)}}})}function jr(e){return e.byteLength!==void 0?bM(e):_M(e)}function IS(e){return tn.from({encode(t){if(!t)return Yt([]);try{return e.encode(t)}catch(r){throw new Error(`option(${r==null?void 0:r.toString()})`)}},decode(t){if(Yt(t).byteLength!==0)try{return e.decode(t)}catch(n){throw new Error(`option(${n==null?void 0:n.toString()})`)}}})}function TS(e){return tn.from({encode(t){try{const r=Yt(e.encode(t)),n=Lf(r.byteLength);return Jo(n,r)}catch(r){throw new Error(`byteVec(${r==null?void 0:r.toString()})`)}},decode(t){const r=Yt(t);if(r.byteLength<4)throw new Error(`byteVec: too short buffer, expected at least 4 bytes, but got ${r.byteLength}`);const n=Gu(r.slice(0,4));if(n!==r.byteLength-4)throw new Error(`byteVec: invalid buffer size, expected ${n}, but got ${r.byteLength}`);try{return e.decode(r.slice(4))}catch(a){throw new Error(`byteVec(${a==null?void 0:a.toString()})`)}}})}function Ld(e){const t=Object.keys(e);return tn.from({encode(r){let n=4+t.length*4;const a=[],s=[];for(const c of t)try{const f=e[c].encode(r[c]);Fo(a,Lf(n)),Fo(s,f),n+=f.byteLength}catch(f){throw new Error(`table.${c}(${f==null?void 0:f.toString()})`)}const u=Lf(a.length+s.length+4);return Jo(u,a,s)},decode(r){const n=Yt(r);if(n.byteLength<4)throw new Error(`table: too short buffer, expected at least 4 bytes, but got ${n.byteLength}`);const a=Gu(n.slice(0,4));if(a!==n.byteLength)throw new Error(`table: invalid buffer size, expected ${a}, but got ${n.byteLength}`);const s=t.map((c,f)=>Gu(n.slice(4+f*4,8+f*4)));s.push(a);const u={};for(let c=0;c<s.length-1;c++){const f=s[c],h=s[c+1],d=t[c],y=e[d],_=n.slice(f,h);try{Object.assign(u,{[d]:y.decode(_)})}catch(w){throw new Error(`table.${d}(${w==null?void 0:w.toString()})`)}}return u}})}function a2(e){const t=Object.values(e),r=Object.keys(e);return tn.from({byteLength:t.reduce((n,a)=>{if(a.byteLength===void 0)throw new Error("struct: all fields must be fixed-size");return n+a.byteLength},0),encode(n){const a=[];for(const s of r)try{const u=e[s].encode(n[s]);Fo(a,u)}catch(u){throw new Error(`struct.${s}(${u==null?void 0:u.toString()})`)}return Yt(a)},decode(n){const a=Yt(n),s={};let u=0;return Object.entries(e).forEach(([c,f])=>{const h=a.slice(u,u+f.byteLength);try{Object.assign(s,{[c]:f.decode(h)})}catch(d){throw new Error(`struct.${c}(${d.toString()})`)}u=u+f.byteLength}),s}})}function Nd(e,t=!1){return tn.from({byteLength:e,encode:r=>t?li(r,e):SS(r,e),decode:r=>t?M1(r):CS(r)})}function Ud(e,t=!1){if(e>4)throw new Error("uintNumber: byteLength must be less than or equal to 4");return Nd(e,t).map({outMap:r=>Number(r)})}function jh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function mM(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function s2(e,...t){if(!mM(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Nf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o2(e,t){s2(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const id=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Rb=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Oa=(e,t)=>e<<32-t|e>>>t,gp=(e,t)=>e<<t|e>>>32-t>>>0,vs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,BS=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,ms=vs?e=>e:e=>BS(e);function Io(e){for(let t=0;t<e.length;t++)e[t]=BS(e[t])}function vM(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Po(e){return typeof e=="string"&&(e=vM(e)),s2(e),e}let u2=class{clone(){return this._cloneInto()}};function c2(e){const t=n=>e().update(Po(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function wM(e){const t=(n,a)=>e(a).update(Po(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const AM=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class EM extends u2{constructor(t,r,n={},a,s,u){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,jh(t),jh(r),jh(a),r<0||r>a)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>a))throw new Error("key length must be undefined or 1.."+a);if(n.salt!==void 0&&n.salt.length!==s)throw new Error("salt must be undefined or "+s);if(n.personalization!==void 0&&n.personalization.length!==u)throw new Error("personalization must be undefined or "+u);this.buffer=new Uint8Array(t),this.buffer32=id(this.buffer)}update(t){Nf(this);const{blockLen:r,buffer:n,buffer32:a}=this;t=Po(t);const s=t.length,u=t.byteOffset,c=t.buffer;for(let f=0;f<s;){this.pos===r&&(vs||Io(a),this.compress(a,0,!1),vs||Io(a),this.pos=0);const h=Math.min(r-this.pos,s-f),d=u+f;if(h===r&&!(d%4)&&f+h<s){const y=new Uint32Array(c,d,Math.floor((s-f)/4));vs||Io(y);for(let _=0;f+r<s;_+=a.length,f+=r)this.length+=r,this.compress(y,_,!1);vs||Io(y);continue}n.set(t.subarray(f,f+h),this.pos),this.pos+=h,this.length+=h,f+=h}return this}digestInto(t){Nf(this),o2(t,this);const{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),vs||Io(n),this.compress(n,0,!0),vs||Io(n);const a=id(t);this.get().forEach((s,u)=>a[u]=ms(s))}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){const{buffer:r,length:n,finished:a,destroyed:s,outputLen:u,pos:c}=this;return t||(t=new this.constructor({dkLen:u})),t.set(...this.get()),t.length=n,t.finished=a,t.destroyed=s,t.outputLen=u,t.buffer.set(r),t.pos=c,t}}const yp=BigInt(2**32-1),km=BigInt(32);function OS(e,t=!1){return t?{h:Number(e&yp),l:Number(e>>km&yp)}:{h:Number(e>>km&yp)|0,l:Number(e&yp)|0}}function DS(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:s,l:u}=OS(e[a],t);[r[a],n[a]]=[s,u]}return[r,n]}const xM=(e,t)=>BigInt(e>>>0)<<km|BigInt(t>>>0),SM=(e,t,r)=>e>>>r,CM=(e,t,r)=>e<<32-r|t>>>r,IM=(e,t,r)=>e>>>r|t<<32-r,TM=(e,t,r)=>e<<32-r|t>>>r,BM=(e,t,r)=>e<<64-r|t>>>r-32,OM=(e,t,r)=>e>>>r-32|t<<64-r,DM=(e,t)=>t,MM=(e,t)=>e,MS=(e,t,r)=>e<<r|t>>>32-r,RS=(e,t,r)=>t<<r|e>>>32-r,HS=(e,t,r)=>t<<r-32|e>>>64-r,LS=(e,t,r)=>e<<r-32|t>>>64-r;function RM(e,t,r,n){const a=(t>>>0)+(n>>>0);return{h:e+r+(a/2**32|0)|0,l:a|0}}const HM=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),LM=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,NM=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),UM=(e,t,r,n,a)=>t+r+n+a+(e/2**32|0)|0,PM=(e,t,r,n,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(a>>>0),kM=(e,t,r,n,a,s)=>t+r+n+a+s+(e/2**32|0)|0,Bn={fromBig:OS,split:DS,toBig:xM,shrSH:SM,shrSL:CM,rotrSH:IM,rotrSL:TM,rotrBH:BM,rotrBL:OM,rotr32H:DM,rotr32L:MM,rotlSH:MS,rotlSL:RS,rotlBH:HS,rotlBL:LS,add:RM,add3L:HM,add3H:LM,add4L:NM,add4H:UM,add5H:kM,add5L:PM},Or=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),zt=new Uint32Array(32);function go(e,t,r,n,a,s){const u=a[s],c=a[s+1];let f=zt[2*e],h=zt[2*e+1],d=zt[2*t],y=zt[2*t+1],_=zt[2*r],w=zt[2*r+1],S=zt[2*n],A=zt[2*n+1],E=Bn.add3L(f,d,u);h=Bn.add3H(E,h,y,c),f=E|0,{Dh:A,Dl:S}={Dh:A^h,Dl:S^f},{Dh:A,Dl:S}={Dh:Bn.rotr32H(A,S),Dl:Bn.rotr32L(A,S)},{h:w,l:_}=Bn.add(w,_,A,S),{Bh:y,Bl:d}={Bh:y^w,Bl:d^_},{Bh:y,Bl:d}={Bh:Bn.rotrSH(y,d,24),Bl:Bn.rotrSL(y,d,24)},zt[2*e]=f,zt[2*e+1]=h,zt[2*t]=d,zt[2*t+1]=y,zt[2*r]=_,zt[2*r+1]=w,zt[2*n]=S,zt[2*n+1]=A}function yo(e,t,r,n,a,s){const u=a[s],c=a[s+1];let f=zt[2*e],h=zt[2*e+1],d=zt[2*t],y=zt[2*t+1],_=zt[2*r],w=zt[2*r+1],S=zt[2*n],A=zt[2*n+1],E=Bn.add3L(f,d,u);h=Bn.add3H(E,h,y,c),f=E|0,{Dh:A,Dl:S}={Dh:A^h,Dl:S^f},{Dh:A,Dl:S}={Dh:Bn.rotrSH(A,S,16),Dl:Bn.rotrSL(A,S,16)},{h:w,l:_}=Bn.add(w,_,A,S),{Bh:y,Bl:d}={Bh:y^w,Bl:d^_},{Bh:y,Bl:d}={Bh:Bn.rotrBH(y,d,63),Bl:Bn.rotrBL(y,d,63)},zt[2*e]=f,zt[2*e+1]=h,zt[2*t]=d,zt[2*t+1]=y,zt[2*r]=_,zt[2*r+1]=w,zt[2*n]=S,zt[2*n+1]=A}class qM extends EM{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=Or[0]|0,this.v0h=Or[1]|0,this.v1l=Or[2]|0,this.v1h=Or[3]|0,this.v2l=Or[4]|0,this.v2h=Or[5]|0,this.v3l=Or[6]|0,this.v3h=Or[7]|0,this.v4l=Or[8]|0,this.v4h=Or[9]|0,this.v5l=Or[10]|0,this.v5h=Or[11]|0,this.v6l=Or[12]|0,this.v6h=Or[13]|0,this.v7l=Or[14]|0,this.v7h=Or[15]|0;const r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,t.salt){const n=id(Po(t.salt));this.v4l^=ms(n[0]),this.v4h^=ms(n[1]),this.v5l^=ms(n[2]),this.v5h^=ms(n[3])}if(t.personalization){const n=id(Po(t.personalization));this.v6l^=ms(n[0]),this.v6h^=ms(n[1]),this.v7l^=ms(n[2]),this.v7h^=ms(n[3])}if(t.key){const n=new Uint8Array(this.blockLen);n.set(Po(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:a,v2l:s,v2h:u,v3l:c,v3h:f,v4l:h,v4h:d,v5l:y,v5h:_,v6l:w,v6h:S,v7l:A,v7h:E}=this;return[t,r,n,a,s,u,c,f,h,d,y,_,w,S,A,E]}set(t,r,n,a,s,u,c,f,h,d,y,_,w,S,A,E){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=a|0,this.v2l=s|0,this.v2h=u|0,this.v3l=c|0,this.v3h=f|0,this.v4l=h|0,this.v4h=d|0,this.v5l=y|0,this.v5h=_|0,this.v6l=w|0,this.v6h=S|0,this.v7l=A|0,this.v7h=E|0}compress(t,r,n){this.get().forEach((f,h)=>zt[h]=f),zt.set(Or,16);let{h:a,l:s}=Bn.fromBig(BigInt(this.length));zt[24]=Or[8]^s,zt[25]=Or[9]^a,n&&(zt[28]=~zt[28],zt[29]=~zt[29]);let u=0;const c=AM;for(let f=0;f<12;f++)go(0,4,8,12,t,r+2*c[u++]),yo(0,4,8,12,t,r+2*c[u++]),go(1,5,9,13,t,r+2*c[u++]),yo(1,5,9,13,t,r+2*c[u++]),go(2,6,10,14,t,r+2*c[u++]),yo(2,6,10,14,t,r+2*c[u++]),go(3,7,11,15,t,r+2*c[u++]),yo(3,7,11,15,t,r+2*c[u++]),go(0,5,10,15,t,r+2*c[u++]),yo(0,5,10,15,t,r+2*c[u++]),go(1,6,11,12,t,r+2*c[u++]),yo(1,6,11,12,t,r+2*c[u++]),go(2,7,8,13,t,r+2*c[u++]),yo(2,7,8,13,t,r+2*c[u++]),go(3,4,9,14,t,r+2*c[u++]),yo(3,4,9,14,t,r+2*c[u++]);this.v0l^=zt[0]^zt[16],this.v0h^=zt[1]^zt[17],this.v1l^=zt[2]^zt[18],this.v1h^=zt[3]^zt[19],this.v2l^=zt[4]^zt[20],this.v2h^=zt[5]^zt[21],this.v3l^=zt[6]^zt[22],this.v3h^=zt[7]^zt[23],this.v4l^=zt[8]^zt[24],this.v4h^=zt[9]^zt[25],this.v5l^=zt[10]^zt[26],this.v5h^=zt[11]^zt[27],this.v6l^=zt[12]^zt[28],this.v6h^=zt[13]^zt[29],this.v7l^=zt[14]^zt[30],this.v7h^=zt[15]^zt[31],zt.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zM=wM(e=>new qM(e)),jM="ckb-default-hash";class NS{constructor(t=32,r=jM){this.hasher=zM.create({personalization:r,dkLen:t})}update(t){return this.hasher.update(Yt(t)),this}digest(){return Ut(this.hasher.digest())}}function Uf(...e){const t=new NS;return e.forEach(r=>t.update(r)),t.digest()}const US=[],PS=[],kS=[],FM=BigInt(0),Sh=BigInt(1),KM=BigInt(2),QM=BigInt(7),YM=BigInt(256),VM=BigInt(113);for(let e=0,t=Sh,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],US.push(2*(5*n+r)),PS.push((e+1)*(e+2)/2%64);let a=FM;for(let s=0;s<7;s++)t=(t<<Sh^(t>>QM)*VM)%YM,t&KM&&(a^=Sh<<(Sh<<BigInt(s))-Sh);kS.push(a)}const[$M,GM]=DS(kS,!0),Z8=(e,t,r)=>r>32?HS(e,t,r):MS(e,t,r),J8=(e,t,r)=>r>32?LS(e,t,r):RS(e,t,r);function XM(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let u=0;u<10;u++)r[u]=e[u]^e[u+10]^e[u+20]^e[u+30]^e[u+40];for(let u=0;u<10;u+=2){const c=(u+8)%10,f=(u+2)%10,h=r[f],d=r[f+1],y=Z8(h,d,1)^r[c],_=J8(h,d,1)^r[c+1];for(let w=0;w<50;w+=10)e[u+w]^=y,e[u+w+1]^=_}let a=e[2],s=e[3];for(let u=0;u<24;u++){const c=PS[u],f=Z8(a,s,c),h=J8(a,s,c),d=US[u];a=e[d],s=e[d+1],e[d]=f,e[d+1]=h}for(let u=0;u<50;u+=10){for(let c=0;c<10;c++)r[c]=e[u+c];for(let c=0;c<10;c++)e[u+c]^=~r[(c+2)%10]&r[(c+4)%10]}e[0]^=$M[n],e[1]^=GM[n]}r.fill(0)}let WM=class qS extends u2{constructor(t,r,n,a=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=a,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,jh(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=id(this.state)}keccak(){vs||Io(this.state32),XM(this.state32,this.rounds),vs||Io(this.state32),this.posOut=0,this.pos=0}update(t){Nf(this);const{blockLen:r,state:n}=this;t=Po(t);const a=t.length;for(let s=0;s<a;){const u=Math.min(r-this.pos,a-s);for(let c=0;c<u;c++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:a}=this;t[n]^=r,(r&128)!==0&&n===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){Nf(this,!1),s2(t),this.finish();const r=this.state,{blockLen:n}=this;for(let a=0,s=t.length;a<s;){this.posOut>=n&&this.keccak();const u=Math.min(n-this.posOut,s-a);t.set(r.subarray(this.posOut,this.posOut+u),a),this.posOut+=u,a+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return jh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(o2(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:a,rounds:s,enableXOF:u}=this;return t||(t=new qS(r,n,a,u,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=a,t.enableXOF=u,t.destroyed=this.destroyed,t}};const ZM=(e,t,r)=>c2(()=>new WM(t,e,r)),JM=ZM(1,136,256/8);class tR{constructor(){this.hasher=JM.create()}update(t){return this.hasher.update(Yt(t)),this}digest(){return Ut(this.hasher.digest())}}class tu{static Base(){class t{static encode(n){throw new Error("encode not implemented, use @ccc.mol.codec to decorate your type")}static decode(n){throw new Error("decode not implemented, use @ccc.mol.codec to decorate your type")}static fromBytes(n){throw new Error("fromBytes not implemented, use @ccc.mol.codec to decorate your type")}static from(n){throw new Error("from not implemented")}toBytes(){return this.constructor.encode(this)}clone(){return this.constructor.fromBytes(this.toBytes())}eq(n){var a;return this===n?!0:dM(this.toBytes(),(((a=this.constructor)==null?void 0:a.from(n))??n).toBytes())}hash(){return Uf(this.toBytes())}}return t}}function eu(e){return function(t){var r;return r=class extends t{static encode(a){return e.encode(a)}static decode(a){return t.from(e.decode(a))}static fromBytes(a){return t.from(e.decode(a))}},r.byteLength=e.byteLength,r}}const eR=Ud(1,!0);jr(eR);const rR=Ud(2,!0);Ud(2);const nR=rR;jr(nR);const iR=Ud(4,!0);Ud(4);const f2=iR;jr(f2);const aR=Nd(8,!0),l2=aR;jr(l2);const sR=Nd(16,!0),oR=sR;jr(oR);const uR=Nd(32,!0),cR=uR;jr(cR);const fR=Nd(64,!0),lR=fR;jr(lR);const h2=TS({encode:e=>Yt(e),decode:e=>Ut(e)}),Hb=IS(h2),zS=jr(h2),hR=tn.from({byteLength:1,encode:e=>Yt(e?[1]:[0]),decode:e=>Yt(e)[0]!==0});jr(hR);const dR=tn.from({byteLength:4,encode:e=>Yt(e),decode:e=>Ut(e)});jr(dR);const pR=tn.from({byteLength:8,encode:e=>Yt(e),decode:e=>Ut(e)});jr(pR);const gR=tn.from({byteLength:16,encode:e=>Yt(e),decode:e=>Ut(e)});jr(gR);const d2=tn.from({byteLength:32,encode:e=>Yt(e),decode:e=>Ut(e)}),yR=jr(d2),bR=TS({encode:e=>Yt(e,"utf8"),decode:e=>xS(e,"utf8")});jr(bR);const jS={type:1,data:0,data1:2,data2:4},qm={1:"type",0:"data",2:"data1",4:"data2"},_R=Object.keys(jS);var mR=function(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(s=(a<3?u(s):a>3?u(t,r,s):u(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},ef;const vR=tn.from({byteLength:1,encode:FS,decode:KS});function R1(e){const t=(()=>{if(typeof e=="number")return qm[e];if(typeof e=="bigint")return qm[Number(e)];if(_R.includes(e))return e})();if(t===void 0)throw new Error(`Invalid hash type ${e}`);return t}function FS(e){return Yt([jS[R1(e)]])}function KS(e){return qm[Yt(e)[0]]}let Je=ef=class extends tu.Base(){constructor(t,r,n){super(),this.codeHash=t,this.hashType=r,this.args=n}get occupiedSize(){return 33+Yt(this.args).length}clone(){return new ef(this.codeHash,this.hashType,this.args)}static from(t){return t instanceof ef?t:new ef(Ut(t.codeHash),R1(t.hashType),Ut(t.args))}static async fromKnownScript(t,r,n){const a=await t.getKnownScript(r);return new ef(a.codeHash,a.hashType,Ut(n))}};Je=ef=mR([eu(Ld({codeHash:d2,hashType:vR,args:h2}))],Je);const wR=IS(Je);jr(Je);class AR{async markUsable(...t){return await this.recordCells(...t),this.markUsableNoCache(...t)}async markTransactions(...t){await Promise.all([this.recordTransactionResponses(t.flat().map(r=>({transaction:r,status:"sent"}))),...t.flat().map(r=>{const n=vr.from(r),a=n.hash();return Promise.all([...n.inputs.map(s=>this.markUnusable(s.previousOutput)),...n.outputs.map((s,u)=>this.markUsable({cellOutput:s,outputData:n.outputsData[u],outPoint:{txHash:a,index:u}}))])})])}async recordCells(...t){}async getCell(t){}async recordTransactionResponses(...t){}async getTransactionResponse(t){}async recordTransactions(...t){return this.recordTransactionResponses(t.flat().map(r=>({transaction:r,status:"unknown"})))}async getTransaction(t){var r;return(r=await this.getTransactionResponse(t))==null?void 0:r.transaction}async recordHeaders(...t){}async getHeaderByHash(t){}async getHeaderByNumber(t){}async recordBlocks(...t){}async getBlockByHash(t){}async getBlockByNumber(t){}}function oe(e,t){if(t!=null)return e(t)}async function Xu(e,t,r){if(r===void 0){if(e.length===0)throw new TypeError("Reduce of empty array with no initial value");r=e[0],e=e.slice(1)}return e.reduce((n,a,s,u)=>n.then(c=>Promise.resolve(t(c,a,s,u)).then(f=>f??c)),Promise.resolve(r))}function ER(e){return new Promise(t=>setTimeout(t,Number(Lt(e))))}function xR(e){return/webview|wv|ip((?!.*Safari)|(?=.*like Safari))/i.test(e)}const SR=Lt(1e3*10*50),tE=Lt(1e7),CR=Lt(1e3);function Uh([e,t]){return[Lt(e),Lt(t)]}class ad{constructor(t,r){this.cellDep=t,this.type=r}static from(t){return t instanceof ad?t:new ad(za.from(t.cellDep),oe(Je.from,t.type))}}class sd{constructor(t,r,n){this.codeHash=t,this.hashType=r,this.cellDeps=n}static from(t){return t instanceof sd?t:new sd(Ut(t.codeHash),R1(t.hashType),t.cellDeps.map(r=>ad.from(r)))}}class of{constructor(t,r,n,a,s,u,c){this.transaction=t,this.status=r,this.cycles=n,this.blockHash=a,this.blockNumber=s,this.txIndex=u,this.reason=c}static from(t){return t instanceof of?t:new of(vr.from(t.transaction),t.status,oe(Lt,t.cycles),oe(Ut,t.blockHash),oe(Lt,t.blockNumber),oe(Lt,t.txIndex),t.reason)}clone(){return new of(this.transaction.clone(),this.status,this.cycles,this.blockHash,this.blockNumber,this.txIndex,this.reason)}}class od{constructor(t,r,n,a,s,u,c){this.script=t,this.scriptLenRange=r,this.outputData=n,this.outputDataSearchMode=a,this.outputDataLenRange=s,this.outputCapacityRange=u,this.blockRange=c}static from(t){return t instanceof od?t:new od(oe(Je.from,t.script),oe(Uh,t.scriptLenRange),oe(Ut,t.outputData),t.outputDataSearchMode??void 0,oe(Uh,t.outputDataLenRange),oe(Uh,t.outputCapacityRange),oe(Uh,t.blockRange))}}class Pf{constructor(t,r,n,a,s){this.script=t,this.scriptType=r,this.scriptSearchMode=n,this.filter=a,this.withData=s}static from(t){return t instanceof Pf?t:new Pf(Je.from(t.script),t.scriptType,t.scriptSearchMode,oe(od.from,t.filter),t.withData??void 0)}}class Kp{constructor(t,r,n,a,s){this.script=t,this.scriptType=r,this.scriptSearchMode=n,this.filter=a,this.groupByTransaction=s}static from(t){return t instanceof Kp?t:new Kp(Je.from(t.script),t.scriptType,t.scriptSearchMode,oe(od.from,t.filter),t.groupByTransaction??void 0)}}class Ko{constructor(t,r,n,a,s,u,c,f,h,d,y,_){this.compactTarget=t,this.dao=r,this.epoch=n,this.extraHash=a,this.hash=s,this.nonce=u,this.number=c,this.parentHash=f,this.proposalsHash=h,this.timestamp=d,this.transactionsRoot=y,this.version=_}static from(t){return t instanceof Ko?t:new Ko(Lt(t.compactTarget),{c:Lt(t.dao.c),ar:Lt(t.dao.ar),s:Lt(t.dao.s),u:Lt(t.dao.u)},ZR(t.epoch),Ut(t.extraHash),Ut(t.hash),Lt(t.nonce),Lt(t.number),Ut(t.parentHash),Ut(t.proposalsHash),Lt(t.timestamp),Ut(t.transactionsRoot),Lt(t.version))}}class Qp{constructor(t,r){this.header=t,this.proposals=r}static from(t){return t instanceof Qp?t:new Qp(Ko.from(t.header),t.proposals.map(Ut))}}class Yp{constructor(t,r,n,a){this.header=t,this.proposals=r,this.transactions=n,this.uncles=a}static from(t){return t instanceof Yp?t:new Yp(Ko.from(t.header),t.proposals.map(Ut),t.transactions.map(vr.from),t.uncles.map(Qp.from))}}class fc extends Error{constructor(t){super(`Client request error ${t.message}`),this.code=t.code,this.data=t.data}}class IR extends fc{constructor(t,r){super(t),this.outPoint=yn.from(r)}}class TR extends fc{constructor(t,r,n,a,s,u){super(t),this.source=r,this.errorCode=a,this.scriptHashType=s,this.sourceIndex=Lt(n),this.scriptCodeHash=Ut(u)}}class BR extends fc{constructor(t,r){super(t),this.txHash=Ut(r)}}class OR extends fc{constructor(t,r,n){super(t),this.currentFee=Lt(r),this.leastFee=Lt(n)}}class DR extends fc{constructor(t){const r=Lt(t).toString();super({message:`Wait transaction timeout ${r}ms`,data:JSON.stringify({timeout:r})})}}class MR extends fc{constructor(t,r){const n=Lt(t).toString(),a=Lt(r).toString();super({message:`Max fee rate exceeded limit ${n}, actual ${a}. Developer might forgot to complete transaction fee before sending. See https://docs.ckbccc.com/classes/_ckb_ccc_core.index.ccc.Transaction.html#completeFeeBy.`,data:JSON.stringify({limit:n,actual:a})})}}function QS(e,t,r){if(!t)return!0;const n=Ut(e),a=Ut(t);return!(r==="exact"&&n!==a||r==="prefix"&&!n.startsWith(a)||r==="partial"&&n.search(a)===-1)}function bp(e,t,r){if(!t)return!0;if(!e)return!1;const n=Je.from(e),a=Je.from(t);return n.codeHash!==a.codeHash||n.hashType!==a.hashType?!1:QS(n.args,a==null?void 0:a.args,r)}function zm(e,t){if(!t)return!0;const r=Lt(e),[n,a]=Uh(t);return n<=r&&r<a}function eE(e,t){if(!t)return!0;const r=e?Yt(Je.from(e).args).length+33:0;return zm(r,t)}function RR(e,t){var a,s,u,c,f,h,d,y;const r=Pf.from(e),n=pi.from(t);return!(r.scriptType==="lock"&&(!bp(n.cellOutput.lock,r.script,r.scriptSearchMode)||!bp(n.cellOutput.type,(a=r.filter)==null?void 0:a.script,"prefix")||!eE(n.cellOutput.type,(s=r.filter)==null?void 0:s.scriptLenRange))||r.scriptType==="type"&&(!bp(n.cellOutput.type,r.script,r.scriptSearchMode)||!bp(n.cellOutput.lock,(u=r.filter)==null?void 0:u.script,"prefix")||!eE(n.cellOutput.lock,(c=r.filter)==null?void 0:c.scriptLenRange))||!QS(n.outputData,(f=r.filter)==null?void 0:f.outputData,((h=r.filter)==null?void 0:h.outputDataSearchMode)??"prefix")||!zm(Yt(n.outputData).length,(d=r.filter)==null?void 0:d.outputDataLenRange)||!zm(n.cellOutput.capacity,(y=r.filter)==null?void 0:y.outputCapacityRange))}class _p extends Map{constructor(t){super(),this.capacity=t,this.lru=[]}get(t){const r=super.get(t);if(r===void 0)return;const n=this.lru.indexOf(t);return n!==-1&&this.lru.splice(n,1),this.lru.push(t),this.lru.length>this.capacity&&(this.delete(this.lru[0]),this.lru.shift()),r}set(t,r){return this.get(t),super.set(t,r),this}delete(t){if(!super.delete(t))return!1;const r=this.lru.indexOf(t);return r!==-1&&this.lru.splice(r,1),!0}}class HR extends AR{constructor(t=512,r=256,n=128){super(),this.maxCells=t,this.maxTxs=r,this.maxBlocks=n,this.cells=new _p(this.maxCells),this.knownTransactions=new _p(this.maxTxs),this.knownBlockHashes=new _p(this.maxBlocks),this.knownBlocks=new _p(this.maxBlocks)}async markUsableNoCache(...t){t.flat().forEach(r=>{const n=pi.from(r).clone(),a=Ut(n.outPoint.toBytes());this.cells.set(a,[!0,n])})}async markUnusable(...t){t.flat().forEach(r=>{const n=yn.from(r),a=Ut(n.toBytes()),s=this.cells.get(a);if(s){s[0]=!1;return}this.cells.set(a,[!1,{outPoint:n}])})}async clear(){this.cells.clear(),this.knownTransactions.clear()}async*findCells(t){for(const[r,[n,a]]of this.cells.entries())n&&RR(t,a)&&(this.cells.get(r),yield a.clone())}async isUnusable(t){var n;const r=yn.from(t);return!(((n=this.cells.get(Ut(r.toBytes())))==null?void 0:n[0])??!0)}async recordCells(...t){t.flat().map(r=>{const n=pi.from(r),a=Ut(n.outPoint.toBytes());this.cells.get(a)||this.cells.set(a,[void 0,n])})}async getCell(t){var a;const r=yn.from(t),n=(a=this.cells.get(Ut(r.toBytes())))==null?void 0:a[1];if(n&&n.cellOutput&&n.outputData)return pi.from(n.clone())}async recordTransactionResponses(...t){t.flat().map(r=>{const n=of.from(r);this.knownTransactions.set(n.transaction.hash(),n)})}async getTransactionResponse(t){var n;const r=Ut(t);return(n=this.knownTransactions.get(r))==null?void 0:n.clone()}async recordHeaders(...t){t.flat().map(r=>{const n=Ko.from(r);this.knownBlockHashes.set(n.number,n.hash),!this.knownBlocks.get(n.hash)&&this.knownBlocks.set(n.hash,{header:n})})}async getHeaderByHash(t){const r=Ut(t),n=this.knownBlocks.get(r);return n&&this.knownBlockHashes.get(n.header.number),n==null?void 0:n.header}async getHeaderByNumber(t){const r=Lt(t),n=this.knownBlockHashes.get(r);if(n)return this.getHeaderByHash(n)}async recordBlocks(...t){t.flat().map(r=>{const n=Yp.from(r);this.knownBlockHashes.set(n.header.number,n.header.hash),this.knownBlocks.set(n.header.hash,n)})}async getBlockByHash(t){const r=Ut(t),n=this.knownBlocks.get(r);if(n&&(this.knownBlockHashes.get(n.header.number),"transactions"in n))return n}async getBlockByNumber(t){const r=Lt(t),n=this.knownBlockHashes.get(r);if(n)return this.getBlockByHash(n)}}function LR(e,t=8){const r=uf(e).toString();if(t===0)return r;const n=r.length<=t?"0":r.slice(0,-t),a=r.slice(-t).padStart(t,"0").replace(/0*$/,"");return a===""?n:`${n}.${a}`}function uf(e,t=8){if(typeof e=="bigint")return e;const[r,n]=(typeof e=="number"?e.toFixed(t):e.toString()).split("."),a=BigInt(r.padEnd(r.length+t,"0"));return n===void 0?a:a+BigInt(n.slice(0,t).padEnd(t,"0"))}const Gr=0n;uf("1");function Ch(e){return Lt(Date.now())-e.timestamp>=SR}class NR{constructor(t){this.cache=(t==null?void 0:t.cache)??new HR}async getFeeRate(t,r){const n=gM((await this.getFeeRateStatistics(t)).median,CR),a=Lt((r==null?void 0:r.maxFeeRate)??tE);return a===Gr?n:pM(n,a)}async getBlockByNumber(t,r,n){const a=await this.cache.getBlockByNumber(t);if(a)return a;const s=await this.getBlockByNumberNoCache(t,r,n);return s&&Ch(s.header)&&await this.cache.recordBlocks(s),s}async getBlockByHash(t,r,n){const a=await this.cache.getBlockByHash(t);if(a)return a;const s=await this.getBlockByHashNoCache(t,r,n);return s&&Ch(s.header)&&await this.cache.recordBlocks(s),s}async getHeaderByNumber(t,r){const n=await this.cache.getHeaderByNumber(t);if(n)return n;const a=await this.getHeaderByNumberNoCache(t,r);return a&&Ch(a)&&await this.cache.recordHeaders(a),a}async getHeaderByHash(t,r){const n=await this.cache.getHeaderByHash(t);if(n)return n;const a=await this.getHeaderByHashNoCache(t,r);return a&&Ch(a)&&await this.cache.recordHeaders(a),a}async getCell(t){const r=yn.from(t),n=await this.cache.getCell(r);if(n)return n;const a=await this.getTransaction(r.txHash);if(!a)return;const s=a.transaction.getOutput(r.index);if(!s)return;const u=pi.from({outPoint:r,...s});return await this.cache.recordCells(u),u}async getCellWithHeader(t){const r=yn.from(t),n=await this.getTransactionWithHeader(r.txHash);if(!n)return;const{transaction:a,header:s}=n,u=a.transaction.getOutput(r.index);if(!u)return;const c=pi.from({outPoint:r,...u});return await this.cache.recordCells(c),{cell:c,header:s}}async getCellLive(t,r,n){const a=await this.getCellLiveNoCache(t,r,n);return r&&a&&await this.cache.recordCells(a),a}async findCellsPaged(t,r,n,a){const s=await this.findCellsPagedNoCache(t,r,n,a);return await this.cache.recordCells(s.cells),s}async*findCellsOnChain(t,r,n=10){let a;for(;;){const{cells:s,lastCursor:u}=await this.findCellsPaged(t,r,n,a);for(const c of s)yield c;if(s.length===0||s.length<n)return;a=u}}async*findCells(t,r,n=10){const a=Pf.from(t),s=[];for await(const u of this.cache.findCells(a))s.push(u.outPoint),yield u;for await(const u of this.findCellsOnChain(a,r,n))await this.cache.isUnusable(u.outPoint)||s.some(c=>c.eq(u.outPoint))||(yield u)}findCellsByLock(t,r,n=!0,a,s=10){return this.findCells({script:t,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},withData:n},a,s)}findCellsByType(t,r=!0,n,a=10){return this.findCells({script:t,scriptType:"type",scriptSearchMode:"exact",withData:r},n,a)}async findSingletonCellByType(t,r=!1){for await(const n of this.findCellsByType(t,r,void 0,1))return n}async getCellDeps(...t){return Promise.all(t.flat().map(async r=>{const{cellDep:n,type:a}=ad.from(r);if(a===void 0)return n;const s=await this.findSingletonCellByType(a);return s?za.from({outPoint:s.outPoint,depType:n.depType}):n}))}async*findTransactions(t,r,n=10){let a;for(;;){const{transactions:s,lastCursor:u}=await this.findTransactionsPaged(t,r,n,a);for(const c of s)yield c;if(s.length===0||s.length<n)return;a=u}}findTransactionsByLock(t,r,n,a,s=10){return this.findTransactions({script:t,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},groupByTransaction:n},a,s)}findTransactionsByType(t,r,n,a=10){return this.findTransactions({script:t,scriptType:"type",scriptSearchMode:"exact",groupByTransaction:r},n,a)}async getBalanceSingle(t){return this.getCellsCapacity({script:t,scriptType:"lock",scriptSearchMode:"exact",filter:{scriptLenRange:[0,1],outputDataLenRange:[0,1]}})}async getBalance(t){return Xu(t,async(r,n)=>r+await this.getBalanceSingle(n),Gr)}async sendTransaction(t,r,n){const a=vr.from(t),s=Lt((n==null?void 0:n.maxFeeRate)??tE),u=await a.getFeeRate(this);if(s>Gr&&u>s)throw new MR(s,u);const c=await this.sendTransactionNoCache(a,r);return await this.cache.markTransactions(a),c}async getTransaction(t){const r=Ut(t),n=await this.getTransactionNoCache(r);return n?(await this.cache.recordTransactionResponses(n),n):this.cache.getTransactionResponse(r)}async getTransactionWithHeader(t){const r=Ut(t),n=await this.cache.getTransactionResponse(r);if(n!=null&&n.blockHash){const s=await this.getHeaderByHash(n.blockHash);if(s&&Ch(s))return{transaction:n,header:s}}const a=await this.getTransactionNoCache(r);if(a)return await this.cache.recordTransactionResponses(a),{transaction:a,header:a.blockHash?await this.getHeaderByHash(a.blockHash):void 0}}async waitTransaction(t,r=0,n=6e4,a=2e3){const s=Date.now();let u;const c=async()=>{const f=await this.getTransaction(t);if(!(!f||f.blockNumber==null||["sent","pending","proposed"].includes(f.status)))return u=f,f};for(;;){if(u){if(r===0)return u;if((await this.getTipHeader()).number-u.blockNumber>=r)return u}else if(await c())continue;if(Date.now()-s+a>=n)throw new DR(n);await ER(a)}}}var To=null;typeof WebSocket<"u"?To=WebSocket:typeof MozWebSocket<"u"?To=MozWebSocket:typeof global<"u"?To=global.WebSocket||global.MozWebSocket:typeof window<"u"?To=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(To=self.WebSocket||self.MozWebSocket);var $t;(function(e){e.NervosDao="NervosDao",e.Secp256k1Blake160="Secp256k1Blake160",e.Secp256k1Multisig="Secp256k1Multisig",e.AnyoneCanPay="AnyoneCanPay",e.TypeId="TypeId",e.XUdt="XUdt",e.JoyId="JoyId",e.COTA="COTA",e.PWLock="PWLock",e.OmniLock="OmniLock",e.NostrLock="NostrLock",e.UniqueType="UniqueType",e.AlwaysSuccess="AlwaysSuccess",e.InputTypeProxyLock="InputTypeProxyLock",e.OutputTypeProxyLock="OutputTypeProxyLock",e.LockProxyLock="LockProxyLock",e.SingleUseLock="SingleUseLock",e.TypeBurnLock="TypeBurnLock",e.EasyToDiscoverType="EasyToDiscoverType",e.TimeLock="TimeLock"})($t||($t={}));const UR=Object.freeze({[$t.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:2},depType:"code"}}]},[$t.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[$t.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[$t.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[$t.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[$t.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[$t.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf05188e5f3a6767fc4687faf45ba5f1a6e25d3ada6129dae8722cb282f262493",index:0},depType:"depGroup"}}]},[$t.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[$t.PWLock]:{codeHash:"0xbf43c3602455798c1a61a596e0d95278864c552fafe231c063b3fabf97a8febc",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x1d60cb8f4666e039f418ea94730b1a8c5aa0bf2f7781474406387462924d15d4",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x42ade2f25eb938b5dbfd3d8f07b8b07aa593d848e7ff14bdfbbea5aeb6175261"}}]},[$t.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[$t.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[$t.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[$t.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:0},depType:"code"}}]},[$t.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:1},depType:"code"}}]},[$t.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]},[$t.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:3},depType:"code"}}]},[$t.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[$t.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:5},depType:"code"}}]},[$t.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:0},depType:"code"}}]},[$t.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:1},depType:"code"}}]}});class PR{constructor(t,r=3e4){this.url=t,this.timeout=r}async request(t){const r=new AbortController,n=setTimeout(()=>r.abort(),this.timeout),a=await(await fetch(this.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),signal:r.signal})).json();return clearTimeout(n),a}}class kR{constructor(t,r=3e4){this.url=t,this.timeout=r,this.ongoing=new Map}request(t){const r=(()=>{if(this.socket&&this.socket.readyState!==this.socket.CLOSING&&this.socket.readyState!==this.socket.CLOSED&&this.openSocket)return this.openSocket;const n=new To(this.url),a=({data:u})=>{const c=JSON.parse(u);if(typeof c!="object"||c===null||typeof c.id!="number")throw new Error(`Unknown response ${u}`);const f=c.id,h=this.ongoing.get(f);if(!h)return;const[d,y,_]=h;clearTimeout(_),this.ongoing.delete(f),d(c)},s=()=>{this.ongoing.forEach(([u,c,f])=>{clearTimeout(f),c(new Error("Connection closed"))}),this.ongoing.clear()};return n.onclose=s,n.onerror=s,n.onmessage=a,this.socket=n,this.openSocket=new Promise(u=>{n.readyState===n.OPEN?u(n):n.onopen=()=>{u(n)}}),this.openSocket})();return new Promise((n,a)=>{const s=[n,a,setTimeout(()=>{this.ongoing.delete(t.id),r.then(u=>u.close()).catch(u=>a(u)),a(new Error("Request timeout"))},this.timeout)];this.ongoing.set(t.id,s),r.then(u=>{u.readyState===u.CLOSED||u.readyState===u.CLOSING?(clearTimeout(s[2]),this.ongoing.delete(t.id),a(new Error("Connection closed"))):u.send(JSON.stringify(t))}).catch(u=>a(u))})}}function qR(e,t){return e.startsWith("wss://")||e.startsWith("ws://")?new kR(e,t==null?void 0:t.timeout):new PR(e,t==null?void 0:t.timeout)}class zR{constructor(t){this.transports=t,this.i=0}async request(t){let r=0;for(;;)try{return await this.transports[this.i%this.transports.length].request(t)}catch(n){if(r+=1,this.i+=1,r>=this.transports.length)throw n}}}function rE(e,t){return t?t(e):e}class jR{constructor(t,r,n){this.url_=t,this.onError=n,this.concurrent=0,this.pending=[],this.id=0,this.maxConcurrent=r==null?void 0:r.maxConcurrent,this.transport=(r==null?void 0:r.transport)??new zR(Array.from(new Set([t,...(r==null?void 0:r.fallbacks)??[]]).values(),a=>qR(a,r)))}get url(){return this.url_}async request(t,r,n,a){const s=this.buildPayload(t,n?await Promise.all(r.concat(Array.from(new Array(Math.max(n.length-r.length,0)))).map((u,c)=>rE(u,n[c]))):r);try{return await rE(await this.requestPayload(s),a)}catch(u){if(!this.onError)throw u;await this.onError(u)}}async requestPayload(t){var n;this.maxConcurrent!==void 0&&this.concurrent>=this.maxConcurrent&&await new Promise(s=>this.pending.push(s)),this.concurrent+=1;const r=await this.transport.request(t);if(this.concurrent-=1,(n=this.pending.shift())==null||n(),r.id!==t.id)throw new Error(`Id mismatched, got ${r.id}, expected ${t.id}`);if(r.error)throw r.error;return r.result}buildPayload(t,r){return{id:this.id++,method:t,params:r,jsonrpc:"2.0"}}}class te{static hashTypeFrom(t){return R1(t)}static hashTypeTo(t){return t}static depTypeFrom(t){switch(p2(t)){case"code":return"code";case"depGroup":return"dep_group"}}static depTypeTo(t){switch(t){case"code":return"code";case"dep_group":return"depGroup"}}static scriptFrom(t){const r=Je.from(t);return{code_hash:r.codeHash,hash_type:te.hashTypeFrom(r.hashType),args:r.args}}static scriptTo(t){return Je.from({codeHash:t.code_hash,hashType:te.hashTypeTo(t.hash_type),args:t.args})}static outPointFrom(t){const r=yn.from(t);return{index:la(r.index),tx_hash:r.txHash}}static outPointTo(t){return yn.from({index:t.index,txHash:t.tx_hash})}static cellInputFrom(t){const r=Ts.from(t);return{previous_output:te.outPointFrom(r.previousOutput),since:la(r.since)}}static cellInputTo(t){return Ts.from({previousOutput:te.outPointTo(t.previous_output),since:t.since})}static cellOutputFrom(t){return{capacity:la(t.capacity),lock:te.scriptFrom(t.lock),type:oe(te.scriptFrom,t.type)}}static cellOutputTo(t){return Is.from({capacity:t.capacity,lock:te.scriptTo(t.lock),type:oe(te.scriptTo,t.type)})}static cellDepFrom(t){return{out_point:te.outPointFrom(t.outPoint),dep_type:te.depTypeFrom(t.depType)}}static cellDepTo(t){return za.from({outPoint:te.outPointTo(t.out_point),depType:te.depTypeTo(t.dep_type)})}static transactionFrom(t){const r=vr.from(t);return{version:la(r.version),cell_deps:r.cellDeps.map(n=>te.cellDepFrom(n)),header_deps:r.headerDeps,inputs:r.inputs.map(n=>te.cellInputFrom(n)),outputs:r.outputs.map(n=>te.cellOutputFrom(n)),outputs_data:r.outputsData,witnesses:r.witnesses}}static transactionTo(t){return vr.from({version:t.version,cellDeps:t.cell_deps.map(r=>te.cellDepTo(r)),headerDeps:t.header_deps,inputs:t.inputs.map(r=>te.cellInputTo(r)),outputs:t.outputs.map(r=>te.cellOutputTo(r)),outputsData:t.outputs_data,witnesses:t.witnesses})}static transactionResponseTo({cycles:t,tx_status:{status:r,block_number:n,block_hash:a,tx_index:s,reason:u},transaction:c}){if(c!=null)return of.from({transaction:te.transactionTo(c),status:r,cycles:oe(Lt,t),blockHash:oe(Ut,a),blockNumber:oe(Lt,n),txIndex:oe(Lt,s),reason:u})}static blockHeaderTo(t){const r=Yt(t.dao);return{compactTarget:Lt(t.compact_target),dao:{c:Nh(r.slice(0,8)),ar:Nh(r.slice(8,16)),s:Nh(r.slice(16,24)),u:Nh(r.slice(24,32))},epoch:JR(t.epoch),extraHash:t.extra_hash,hash:t.hash,nonce:Lt(t.nonce),number:Lt(t.number),parentHash:t.parent_hash,proposalsHash:t.proposals_hash,timestamp:Lt(t.timestamp),transactionsRoot:t.transactions_root,version:Lt(t.version)}}static blockUncleTo(t){return{header:te.blockHeaderTo(t.header),proposals:t.proposals}}static blockTo(t){return{header:te.blockHeaderTo(t.header),proposals:t.proposals,transactions:t.transactions.map(r=>te.transactionTo(r)),uncles:t.uncles.map(r=>te.blockUncleTo(r))}}static rangeFrom([t,r]){return[la(t),la(r)]}static indexerSearchKeyFilterFrom(t){return{script:oe(te.scriptFrom,t.script),script_len_range:oe(te.rangeFrom,t.scriptLenRange),output_data:t.outputData,output_data_filter_mode:t.outputDataSearchMode,output_data_len_range:oe(te.rangeFrom,t.outputDataLenRange),output_capacity_range:oe(te.rangeFrom,t.outputCapacityRange),block_range:oe(te.rangeFrom,t.blockRange)}}static indexerSearchKeyFrom(t){const r=Pf.from(t);return{script:te.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:oe(te.indexerSearchKeyFilterFrom,r.filter),with_data:r.withData}}static findCellsResponseTo({last_cursor:t,objects:r}){return{lastCursor:t,cells:r.map(n=>pi.from({outPoint:te.outPointTo(n.out_point),cellOutput:te.cellOutputTo(n.output),outputData:n.output_data??"0x"}))}}static indexerSearchKeyTransactionFrom(t){const r=Kp.from(t);return{script:te.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:oe(te.indexerSearchKeyFilterFrom,r.filter),group_by_transaction:r.groupByTransaction}}static findTransactionsResponseTo({last_cursor:t,objects:r}){return r.length===0?{lastCursor:t,transactions:[]}:"io_index"in r[0]?{lastCursor:t,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Lt(n.block_number),txIndex:Lt(n.tx_index),cellIndex:Lt(n.io_index),isInput:n.io_type==="input"}))}:{lastCursor:t,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Lt(n.block_number),txIndex:Lt(n.tx_index),cells:n.cells.map(([a,s])=>({isInput:a==="input",cellIndex:Lt(s)}))}))}}}const FR=[["Resolve\\(Unknown\\(OutPoint\\((0x.*)\\)\\)\\)",(e,t)=>new IR(e,yn.fromBytes(t[1]))],["Verification\\(Error { kind: Script, inner: TransactionScriptError { source: (Inputs|Outputs)\\[([0-9]*)\\].(Lock|Type), cause: ValidationFailure: see error code (-?[0-9])* on page https://nervosnetwork\\.github\\.io/ckb-script-error-codes/by-(type|data)-hash/(.*)\\.html",(e,t)=>new TR(e,t[3]==="Lock"?"lock":t[1]==="Inputs"?"inputType":"outputType",t[2],Number(t[4]),t[5]==="data"?"data":"type",t[6])],["Duplicated\\(Byte32\\((0x.*)\\)\\)",(e,t)=>new BR(e,t[1])],[`RBFRejected\\("Tx's current fee is ([0-9]*), expect it to >= ([0-9]*) to replace old txs"\\)`,(e,t)=>new OR(e,t[1],t[2])]];class YS extends NR{constructor(t,r){super(r),this.getFeeRateStatistics=this.buildSender("get_fee_rate_statistics",[n=>oe(Lt,n)],({mean:n,median:a})=>({mean:Lt(n),median:Lt(a)})),this.getTip=this.buildSender("get_tip_block_number",[],Lt),this.getTipHeader=this.buildSender("get_tip_header",[],n=>oe(te.blockHeaderTo,n)),this.getBlockByNumberNoCache=this.buildSender("get_block_by_number",[n=>la(Lt(n))],n=>oe(te.blockTo,n)),this.getBlockByHashNoCache=this.buildSender("get_block",[Ut],n=>oe(te.blockTo,n)),this.getHeaderByNumberNoCache=this.buildSender("get_header_by_number",[n=>la(Lt(n))],n=>oe(te.blockHeaderTo,n)),this.getHeaderByHashNoCache=this.buildSender("get_header",[Ut],n=>oe(te.blockHeaderTo,n)),this.estimateCycles=this.buildSender("estimate_cycles",[te.transactionFrom],({cycles:n})=>Lt(n)),this.sendTransactionDry=this.buildSender("test_tx_pool_accept",[te.transactionFrom],({cycles:n})=>Lt(n)),this.sendTransactionNoCache=this.buildSender("send_transaction",[te.transactionFrom],Ut),this.getTransactionNoCache=this.buildSender("get_transaction",[Ut],te.transactionResponseTo),this.findCellsPagedNoCache=this.buildSender("get_cells",[te.indexerSearchKeyFrom,n=>n??"asc",n=>la(n??10)],te.findCellsResponseTo),this.findTransactionsPaged=this.buildSender("get_transactions",[te.indexerSearchKeyTransactionFrom,n=>n??"asc",n=>la(n??10)],te.findTransactionsResponseTo),this.getCellsCapacity=this.buildSender("get_cells_capacity",[te.indexerSearchKeyFrom],({capacity:n})=>Lt(n)),this.requestor=(r==null?void 0:r.requestor)??new jR(t,r,n=>{if(typeof n!="object"||n===null||!("data"in n)||typeof n.data!="string")throw n;const a=n;for(const[s,u]of FR){const c=a.data.match(s);if(c)throw u(a,c)}throw new fc(a)})}get url(){return this.requestor.url}getCellLiveNoCache(t,r,n){return this.buildSender("get_live_cell",[te.outPointFrom],({cell:a})=>oe(({output:s,data:u})=>pi.from({cellOutput:te.cellOutputTo(s),outputData:(u==null?void 0:u.content)??"0x",outPoint:t}),a))(t,r??!0,n)}buildSender(t,r,n){return async(...a)=>this.requestor.request(t,a,r,n)}}class KR extends YS{constructor(t){const r=typeof To<"u";super((t==null?void 0:t.url)??(r?"wss://mainnet.ckb.dev/ws":"https://mainnet.ckb.dev/"),{...t,fallbacks:(t==null?void 0:t.fallbacks)??(r?["wss://mainnet.ckb.dev/ws","https://mainnet.ckb.dev/","https://mainnet.ckbapp.dev/"]:["https://mainnet.ckb.dev/","https://mainnet.ckbapp.dev/"])}),this.config=t}get scripts(){var t;return((t=this.config)==null?void 0:t.scripts)??UR}get addressPrefix(){return"ckb"}async getKnownScript(t){const r=this.scripts[t];if(!r)throw new Error(`No script information was found for ${t} on ${this.addressPrefix}`);return sd.from(r)}}const QR=Object.freeze({[$t.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:2},depType:"code"}}]},[$t.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[$t.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[$t.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[$t.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[$t.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[$t.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4dcf3f3b09efac8995d6cbee87c5345e812d310094651e0c3d9a730f32dc9263",index:0},depType:"depGroup"}}]},[$t.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[$t.PWLock]:{codeHash:"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x57a62003daeab9d54aa29b944fc3b451213a5ebdf2e232216a3cfed0dde61b38",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xf6d90bfe3041d0fd7e01c45770241697f5f837974bd6ae1672a7ec0f9f523268"}}]},[$t.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[$t.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[$t.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[$t.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:0},depType:"code"}}]},[$t.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:1},depType:"code"}}]},[$t.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]},[$t.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:3},depType:"code"}}]},[$t.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[$t.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:5},depType:"code"}}]},[$t.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:0},depType:"code"}}]},[$t.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:1},depType:"code"}}]}});class YR extends YS{constructor(t){const r=typeof To<"u";super((t==null?void 0:t.url)??(r?"wss://testnet.ckb.dev/ws":"https://testnet.ckb.dev/"),{...t,fallbacks:(t==null?void 0:t.fallbacks)??(r?["wss://testnet.ckb.dev/ws","https://testnet.ckb.dev/","https://testnet.ckbapp.dev/"]:["https://testnet.ckb.dev/","https://testnet.ckbapp.dev/"])}),this.config=t}get scripts(){var t;return((t=this.config)==null?void 0:t.scripts)??QR}get addressPrefix(){return"ckt"}async getKnownScript(t){const r=this.scripts[t];if(!r)throw new Error(`No script information was found for ${t} on ${this.addressPrefix}`);return sd.from(r)}}const VR={code:0,depGroup:1},jm={0:"code",1:"depGroup"};var lc=function(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(s=(a<3?u(s):a>3?u(t,r,s):u(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},Rp,Hp,Du,Lp,Ph,Np,xo;const $R=tn.from({byteLength:1,encode:GR,decode:XR});function p2(e){const t=typeof e=="number"?jm[e]:typeof e=="bigint"?jm[Number(e)]:e;if(t===void 0)throw new Error(`Invalid dep type ${e}`);return t}function GR(e){return Yt([VR[p2(e)]])}function XR(e){return jm[Yt(e)[0]]}let yn=Rp=class extends tu.Base(){constructor(t,r){super(),this.txHash=t,this.index=r}static from(t){return t instanceof Rp?t:new Rp(Ut(t.txHash),Lt(t.index))}};yn=Rp=lc([eu(a2({txHash:d2,index:f2}))],yn);let Is=Hp=class extends tu.Base(){constructor(t,r,n){super(),this.capacity=t,this.lock=r,this.type=n}get occupiedSize(){var t;return 8+this.lock.occupiedSize+(((t=this.type)==null?void 0:t.occupiedSize)??0)}static from(t){return t instanceof Hp?t:new Hp(Lt(t.capacity),Je.from(t.lock),oe(Je.from,t.type))}};Is=Hp=lc([eu(Ld({capacity:l2,lock:Je,type:wR}))],Is);const WR=jr(Is);class pi{constructor(t,r,n){this.outPoint=t,this.cellOutput=r,this.outputData=n}static from(t){return t instanceof pi?t:new pi(yn.from("outPoint"in t?t.outPoint:t.previousOutput),Is.from(t.cellOutput),Ut(t.outputData))}get capacityFree(){const t=uf(this.cellOutput.occupiedSize+Yt(this.outputData).length);return this.cellOutput.capacity-t}get occupiedSize(){return this.cellOutput.occupiedSize+Yt(this.outputData).byteLength}async getDaoProfit(t){if(!await this.isNervosDao(t,"withdrew"))return Gr;const{depositHeader:r,withdrawHeader:n}=await this.getNervosDaoInfo(t);if(!n||!r)throw new Error(`Unable to get headers of a Nervos DAO cell ${this.outPoint.txHash}:${this.outPoint.index.toString()}`);return rH(this.capacityFree,r,n)}async isNervosDao(t,r){const{type:n}=this.cellOutput,a=await t.getKnownScript($t.NervosDao);if(!n||n.codeHash!==a.codeHash||n.hashType!==a.hashType)return!1;const s=Lt(this.outputData)!==Gr;return!r||r==="deposited"&&!s||r==="withdrew"&&s}async getNervosDaoInfo(t){if(!await this.isNervosDao(t))return{};if(Lt(this.outputData)===Gr){const a=await t.getCellWithHeader(this.outPoint);if(!(a!=null&&a.header))throw new Error(`Unable to get header of a Nervos DAO deposited cell ${this.outPoint.txHash}:${this.outPoint.index.toString()}`);return{depositHeader:a.header}}const[r,n]=await Promise.all([t.getHeaderByNumber(M1(this.outputData)),t.getCellWithHeader(this.outPoint)]);if(!(n!=null&&n.header)||!r)throw new Error(`Unable to get headers of a Nervos DAO withdrew cell ${this.outPoint.txHash}:${this.outPoint.index.toString()}`);return{depositHeader:r,withdrawHeader:n.header}}clone(){return new pi(this.outPoint.clone(),this.cellOutput.clone(),this.outputData)}}function ZR(e){return[Lt(e[0]),Lt(e[1]),Lt(e[2])]}function JR(e){const t=Lt(Ut(e));return[t&Lt("0xffffff"),t>>Lt(24)&Lt("0xffff"),t>>Lt(40)&Lt("0xffff")]}let Fh=Du=class extends tu.Base(){constructor(t,r,n){super(),this.relative=t,this.metric=r,this.value=n}clone(){return new Du(this.relative,this.metric,this.value)}static from(t){return t instanceof Du?t:typeof t=="object"&&"relative"in t?new Du(t.relative,t.metric,Lt(t.value)):Du.fromNum(t)}toNum(){return this.value|(this.relative==="absolute"?Gr:Lt("0x8000000000000000"))|{blockNumber:Lt("0x0000000000000000"),epoch:Lt("0x2000000000000000"),timestamp:Lt("0x4000000000000000")}[this.metric]}static fromNum(t){const r=Lt(t),n=r>>Lt(63)===Gr?"absolute":"relative",a=["blockNumber","epoch","timestamp"][Number(r>>Lt(61)&Lt(3))],s=r&Lt("0x00ffffffffffffff");return new Du(n,a,s)}};Fh=Du=lc([eu(l2.mapIn(e=>Fh.from(e).toNum()))],Fh);let Ts=Lp=class extends tu.Base(){constructor(t,r,n,a){super(),this.previousOutput=t,this.since=r,this.cellOutput=n,this.outputData=a}static from(t){return t instanceof Lp?t:new Lp(yn.from("previousOutput"in t?t.previousOutput:t.outPoint),Fh.from(t.since??0).toNum(),oe(Is.from,t.cellOutput),oe(Ut,t.outputData))}async getCell(t){if(await this.completeExtraInfos(t),!this.cellOutput||!this.outputData)throw new Error("Unable to complete input");return pi.from({outPoint:this.previousOutput,cellOutput:this.cellOutput,outputData:this.outputData})}async completeExtraInfos(t){if(this.cellOutput&&this.outputData)return;const r=await t.getCell(this.previousOutput);r&&(this.cellOutput=r.cellOutput,this.outputData=r.outputData)}async getExtraCapacity(t){return(await this.getCell(t)).getDaoProfit(t)}clone(){const t=super.clone();return t.cellOutput=this.cellOutput,t.outputData=this.outputData,t}};Ts=Lp=lc([eu(a2({since:Fh,previousOutput:yn}).mapIn(e=>Ts.from(e)))],Ts);const tH=jr(Ts);let za=Ph=class extends tu.Base(){constructor(t,r){super(),this.outPoint=t,this.depType=r}clone(){return new Ph(this.outPoint.clone(),this.depType)}static from(t){return t instanceof Ph?t:new Ph(yn.from(t.outPoint),p2(t.depType))}};za=Ph=lc([eu(a2({outPoint:yn,depType:$R}))],za);const eH=jr(za);let Rs=Np=class extends tu.Base(){constructor(t,r,n){super(),this.lock=t,this.inputType=r,this.outputType=n}static from(t){return t instanceof Np?t:new Np(oe(Ut,t.lock),oe(Ut,t.inputType),oe(Ut,t.outputType))}};Rs=Np=lc([eu(Ld({lock:Hb,inputType:Hb,outputType:Hb}))],Rs);function Lb(e){const t=Yt(e).slice(0,16);return t.length===0?Gr:M1(t)}const VS=Ld({version:f2,cellDeps:eH,headerDeps:yR,inputs:tH,outputs:WR,outputsData:zS});let vr=xo=class extends tu.Base(){constructor(t,r,n,a,s,u,c){super(),this.version=t,this.cellDeps=r,this.headerDeps=n,this.inputs=a,this.outputs=s,this.outputsData=u,this.witnesses=c}static default(){return new xo(0n,[],[],[],[],[],[])}copy(t){const r=xo.from(t);this.version=r.version,this.cellDeps=r.cellDeps,this.headerDeps=r.headerDeps,this.inputs=r.inputs,this.outputs=r.outputs,this.outputsData=r.outputsData,this.witnesses=r.witnesses}static from(t){var a,s,u,c,f;if(t instanceof xo)return t;const r=((a=t.outputs)==null?void 0:a.map((h,d)=>{var _,w;const y=Is.from({...h,capacity:h.capacity??0});return y.capacity===Gr&&(y.capacity=uf(y.occupiedSize+(((w=oe(Yt,(_=t.outputsData)==null?void 0:_[d]))==null?void 0:w.length)??0))),y}))??[],n=r.map((h,d)=>{var y;return Ut(((y=t.outputsData)==null?void 0:y[d])??"0x")});return t.outputsData!=null&&n.length<t.outputsData.length&&n.push(...t.outputsData.slice(n.length).map(h=>Ut(h))),new xo(Lt(t.version??0),((s=t.cellDeps)==null?void 0:s.map(h=>za.from(h)))??[],((u=t.headerDeps)==null?void 0:u.map(Ut))??[],((c=t.inputs)==null?void 0:c.map(h=>Ts.from(h)))??[],r,n,((f=t.witnesses)==null?void 0:f.map(Ut))??[])}static fromLumosSkeleton(t){return xo.from({version:0n,cellDeps:t.cellDeps.toArray(),headerDeps:t.headerDeps.toArray(),inputs:t.inputs.toArray().map((r,n)=>{if(!r.outPoint)throw new Error("outPoint is required in input");return Ts.from({previousOutput:r.outPoint,since:t.inputSinces.get(n,"0x0"),cellOutput:r.cellOutput,outputData:r.data})}),outputs:t.outputs.toArray().map(r=>r.cellOutput),outputsData:t.outputs.toArray().map(r=>r.data),witnesses:t.witnesses.toArray()})}stringify(){return JSON.stringify(this,(t,r)=>typeof r=="bigint"?la(r):r)}rawToBytes(){return VS.encode(this)}hash(){return Uf(this.rawToBytes())}hashFull(){return Uf(this.toBytes())}static hashWitnessToHasher(t,r){const n=Yt(Ut(t));r.update(li(n.length,8)),r.update(n)}async getSignHashInfo(t,r,n=new NS){const a=Je.from(t);let s=-1;n.update(this.hash());for(let u=0;u<this.witnesses.length;u+=1){const c=this.inputs[u];if(c){const{cellOutput:f}=await c.getCell(r);if(!a.eq(f.lock))continue;s===-1&&(s=u)}if(s===-1)return;xo.hashWitnessToHasher(this.witnesses[u],n)}if(s!==-1)return{message:n.digest(),position:s}}async findInputIndexByLockId(t,r){const n=Je.from({...t,args:"0x"});for(let a=0;a<this.inputs.length;a+=1){const{cellOutput:s}=await this.inputs[a].getCell(r);if(n.codeHash===s.lock.codeHash&&n.hashType===s.lock.hashType)return a}}async findInputIndexByLock(t,r){const n=Je.from(t);for(let a=0;a<this.inputs.length;a+=1){const{cellOutput:s}=await this.inputs[a].getCell(r);if(n.eq(s.lock))return a}}async findLastInputIndexByLock(t,r){const n=Je.from(t);for(let a=this.inputs.length-1;a>=0;a-=1){const{cellOutput:s}=await this.inputs[a].getCell(r);if(n.eq(s.lock))return a}}addCellDeps(...t){t.flat().forEach(r=>{const n=za.from(r);this.cellDeps.some(a=>a.eq(n))||this.cellDeps.push(n)})}addCellDepsAtStart(...t){t.flat().forEach(r=>{const n=za.from(r);this.cellDeps.some(a=>a.eq(n))||this.cellDeps.unshift(n)})}async addCellDepInfos(t,...r){this.addCellDeps(await t.getCellDeps(...r))}async addCellDepsOfKnownScripts(t,...r){await Promise.all(r.flat().map(async n=>this.addCellDepInfos(t,(await t.getKnownScript(n)).cellDeps)))}setOutputDataAt(t,r){this.outputsData.length<t&&this.outputsData.push(...Array.from(new Array(t-this.outputsData.length),()=>"0x")),this.outputsData[t]=Ut(r)}getInput(t){return this.inputs[Number(Lt(t))]}addInput(t){return this.witnesses.length>this.inputs.length&&this.witnesses.splice(this.inputs.length,0,"0x"),this.inputs.push(Ts.from(t))}getOutput(t){const r=Number(Lt(t));if(!(r>=this.outputs.length))return{cellOutput:this.outputs[r],outputData:this.outputsData[r]??"0x"}}addOutput(t,r="0x"){const n=Is.from({...t,capacity:t.capacity??0});n.capacity===Gr&&(n.capacity=uf(n.occupiedSize+Yt(r).length));const a=this.outputs.push(n);return this.setOutputDataAt(a-1,r),a}getWitnessArgsAt(t){const r=this.witnesses[t];return(r??"0x")!=="0x"?Rs.fromBytes(r):void 0}setWitnessArgsAt(t,r){this.setWitnessAt(t,r.toBytes())}setWitnessAt(t,r){this.witnesses.length<t&&this.witnesses.push(...Array.from(new Array(t-this.witnesses.length),()=>"0x")),this.witnesses[t]=Ut(r)}async prepareSighashAllWitness(t,r,n){const a=await this.findInputIndexByLock(t,n);if(a===void 0)return;const s=this.getWitnessArgsAt(a)??Rs.from({});s.lock=Ut(Array.from(new Array(r),()=>0)),this.setWitnessArgsAt(a,s)}async getInputsCapacityExtra(t){return Xu(this.inputs,async(r,n)=>r+await n.getExtraCapacity(t),Lt(0))}async getInputsCapacity(t){return await Xu(this.inputs,async(r,n)=>{const{cellOutput:{capacity:a}}=await n.getCell(t);return r+a},Lt(0))+await this.getInputsCapacityExtra(t)}getOutputsCapacity(){return this.outputs.reduce((t,{capacity:r})=>t+r,Lt(0))}async getInputsUdtBalance(t,r){return Xu(this.inputs,async(n,a)=>{var c;const{cellOutput:s,outputData:u}=await a.getCell(t);if((c=s.type)!=null&&c.eq(r))return n+Lb(u)},Lt(0))}getOutputsUdtBalance(t){return this.outputs.reduce((r,n,a)=>{var s;return(s=n.type)!=null&&s.eq(t)?r+Lb(this.outputsData[a]):r},Lt(0))}async completeInputs(t,r,n,a){const s=[];let u=a,c=!1;for await(const f of t.findCells(r,!0)){if(this.inputs.some(({previousOutput:y})=>y.eq(f.outPoint)))continue;const h=s.push(f),d=await Promise.resolve(n(u,f,h-1,s));if(d===void 0){c=!0;break}u=d}return s.forEach(f=>this.addInput(f)),c?{addedCount:s.length}:{addedCount:s.length,accumulated:u}}async completeInputsByCapacity(t,r,n){const a=this.getOutputsCapacity()+Lt(r??0),s=await this.getInputsCapacity(t.client);if(s>=a)return 0;const{addedCount:u,accumulated:c}=await this.completeInputs(t,n??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(f,{cellOutput:{capacity:h}})=>{const d=f+h;return d>=a?void 0:d},s);if(c===void 0)return u;throw new Error(`Insufficient CKB, need ${LR(a-c)} extra CKB`)}async completeInputsAll(t,r){const{addedCount:n}=await this.completeInputs(t,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(a,{cellOutput:{capacity:s}})=>a+s,Gr);return n}async completeInputsByUdt(t,r,n){const a=this.getOutputsUdtBalance(r)+Lt(n??0),s=await this.getInputsUdtBalance(t.client,r);if(s>=a)return 0;const{addedCount:u,accumulated:c}=await this.completeInputs(t,{script:r,outputDataLenRange:[16,Lt("0xffffffff")]},(f,{outputData:h})=>{const d=Lb(h),y=f+d;return y>=a?void 0:y},s);if(c===void 0)return u;throw new Error(`Insufficient coin, need ${a-c} extra coin`)}async completeInputsAddOne(t,r){const{addedCount:n,accumulated:a}=await this.completeInputs(t,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},()=>{},!0);if(a===void 0)return n;throw new Error("Insufficient CKB, need at least one new cell")}async completeInputsAtLeastOne(t,r){return this.inputs.length>0?0:this.completeInputsAddOne(t,r)}async getFee(t){return await this.getInputsCapacity(t)-this.getOutputsCapacity()}async getFeeRate(t){return await this.getFee(t)*Lt(1e3)/Lt(this.toBytes().length+4)}estimateFee(t){const r=this.toBytes().length+4;return(Lt(r)*Lt(t)+Lt(999))/Lt(1e3)}async completeFee(t,r,n,a,s){const u=n??await t.client.getFeeRate(s==null?void 0:s.feeRateBlockRange,s);await this.getInputsCapacity(t.client);let c=Gr,f=Gr;for(;;){const h=this.clone(),d=await(async()=>{try{return await h.completeInputsByCapacity(t,c+f,a)}catch(S){throw f!==Gr?new Error("Not enough capacity for the change cell"):S}})();await t.prepareTransaction(h),c===Gr&&(c=h.estimateFee(u));const y=await h.getFee(t.client);if(y===c)return this.copy(h),[d,!1];const _=Lt(await Promise.resolve(r(h,y-c)));if(_>Gr){f=_;continue}if(await h.getFee(t.client)!==c)throw new Error("The change function doesn't use all available capacity");await t.prepareTransaction(h);const w=h.estimateFee(u);if(c>w)throw new Error("The change function removed existed transaction data");if(c===w)return this.copy(h),[d,!0];c=w}}completeFeeChangeToLock(t,r,n,a){const s=Je.from(r);return this.completeFee(t,(u,c)=>{const f=Is.from({capacity:0,lock:s}),h=uf(f.occupiedSize);return c<h?h:(f.capacity=c,u.addOutput(f),0)},n,a)}async completeFeeBy(t,r,n){const{script:a}=await t.getRecommendedAddressObj();return this.completeFeeChangeToLock(t,a,r,n)}completeFeeChangeToOutput(t,r,n,a){const s=Number(Lt(r));if(!this.outputs[s])throw new Error("Non-existed output to change");return this.completeFee(t,(u,c)=>(u.outputs[s].capacity+=c,0),n,a)}};vr=xo=lc([eu(Ld({raw:VS,witnesses:zS}).mapIn(e=>{const t=vr.from(e);return{raw:t,witnesses:t.witnesses}}).mapOut(e=>vr.from({...e.raw,witnesses:e.witnesses})))],vr);function rH(e,t,r){const n=Ko.from(t),a=Ko.from(r),s=Lt(e);return s*a.dao.ar/n.dao.ar-s}function nH(e){try{const{words:t,prefix:r}=ka.bech32m.decode(e,Fm),n=ka.bech32m.fromWords(t),a=n[0],s=n.slice(1);if(a===da.Full)return{prefix:r,format:da.Full,payload:s}}catch{}try{const{prefix:t,words:r}=ka.bech32.decode(e,Fm),n=ka.bech32.fromWords(r),a=n[0],s=n.slice(1);if([da.FullData,da.FullType,da.Short].includes(a))return{prefix:t,format:a,payload:s}}catch{}throw Error(`Unknown address format ${e}`)}async function iH(e,t,r,n){if(t===da.Full){if(r.length<33)throw new Error(`Invalid full address without enough payload ${Ut(r)}`);return{script:{codeHash:r.slice(0,32),hashType:KS(r.slice(32,33)),args:r.slice(33)},prefix:e}}if(t===da.FullData){if(r.length<32)throw new Error(`Invalid full data address without enough payload ${Ut(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"data",args:r.slice(32)},prefix:e}}if(t===da.FullType){if(r.length<32)throw new Error(`Invalid full type address without enough payload ${Ut(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"type",args:r.slice(32)},prefix:e}}if(r.length!==21)throw new Error(`Invalid short address without enough payload ${Ut(r)}`);const a=[$t.Secp256k1Blake160,$t.Secp256k1Multisig,$t.AnyoneCanPay][r[0]];if(a===void 0)throw new Error(`Invalid short address with unknown script ${Ut(r)}`);return{script:await Je.fromKnownScript(n,a,r.slice(1)),prefix:e}}var da;(function(e){e[e.Full=0]="Full",e[e.Short=1]="Short",e[e.FullData=2]="FullData",e[e.FullType=4]="FullType"})(da||(da={}));const Fm=1023;class Hi{constructor(t,r){this.script=t,this.prefix=r}static from(t){return t instanceof Hi?t:new Hi(Je.from(t.script),t.prefix)}static async fromString(t,r){const{prefix:n,format:a,payload:s}=nH(t),u=r[n]??r;if(!u)throw new Error(`Unknown address prefix ${n}`);const c=u.addressPrefix;if(c!==n)throw new Error(`Unknown address prefix ${n}, expected ${c}`);return Hi.from(await iH(n,a,s,u))}static fromScript(t,r){return Hi.from({script:t,prefix:r.addressPrefix})}static async fromKnownScript(t,r,n){return Hi.from({script:await Je.fromKnownScript(t,r,n),prefix:t.addressPrefix})}toString(){const t=Jo([da.Full],Yt(this.script.codeHash),FS(this.script.hashType),Yt(this.script.args));return ka.bech32m.encode(this.prefix,ka.bech32m.toWords(t),Fm)}}function aH(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),s=BigInt(4294967295),u=Number(r>>a&s),c=Number(r&s),f=n?4:0,h=n?0:4;e.setUint32(t+f,u,n),e.setUint32(t+h,c,n)}const sH=(e,t,r)=>e&t^~e&r,oH=(e,t,r)=>e&t^e&r^t&r;let $S=class extends u2{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Rb(this.buffer)}update(t){Nf(this);const{view:r,buffer:n,blockLen:a}=this;t=Po(t);const s=t.length;for(let u=0;u<s;){const c=Math.min(a-this.pos,s-u);if(c===a){const f=Rb(t);for(;a<=s-u;u+=a)this.process(f,u);continue}n.set(t.subarray(u,u+c),this.pos),this.pos+=c,u+=c,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Nf(this),o2(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:s}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>a-u&&(this.process(n,0),u=0);for(let y=u;y<a;y++)r[y]=0;aH(n,a-8,BigInt(this.length*8),s),this.process(n,0);const c=Rb(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)c.setUint32(4*y,d[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:s,destroyed:u,pos:c}=this;return t.length=a,t.pos=c,t.finished=s,t.destroyed=u,a%r&&t.buffer.set(n),t}};const uH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_o=new Uint32Array(64);let cH=class extends $S{constructor(){super(64,32,8,!1),this.A=bo[0]|0,this.B=bo[1]|0,this.C=bo[2]|0,this.D=bo[3]|0,this.E=bo[4]|0,this.F=bo[5]|0,this.G=bo[6]|0,this.H=bo[7]|0}get(){const{A:t,B:r,C:n,D:a,E:s,F:u,G:c,H:f}=this;return[t,r,n,a,s,u,c,f]}set(t,r,n,a,s,u,c,f){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=s|0,this.F=u|0,this.G=c|0,this.H=f|0}process(t,r){for(let y=0;y<16;y++,r+=4)_o[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const _=_o[y-15],w=_o[y-2],S=Oa(_,7)^Oa(_,18)^_>>>3,A=Oa(w,17)^Oa(w,19)^w>>>10;_o[y]=A+_o[y-7]+S+_o[y-16]|0}let{A:n,B:a,C:s,D:u,E:c,F:f,G:h,H:d}=this;for(let y=0;y<64;y++){const _=Oa(c,6)^Oa(c,11)^Oa(c,25),w=d+_+sH(c,f,h)+uH[y]+_o[y]|0,A=(Oa(n,2)^Oa(n,13)^Oa(n,22))+oH(n,a,s)|0;d=h,h=f,f=c,c=u+w|0,u=s,s=a,a=n,n=w+A|0}n=n+this.A|0,a=a+this.B|0,s=s+this.C|0,u=u+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(n,a,s,u,c,f,h,d)}roundClean(){_o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Vp=c2(()=>new cH);function nE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function fH(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function H1(e,...t){if(!fH(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function lH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nE(e.outputLen),nE(e.blockLen)}function $p(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hH(e,t){H1(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Jc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nb=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Da=(e,t)=>e<<32-t|e>>>t;function dH(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function g2(e){return typeof e=="string"&&(e=dH(e)),H1(e),e}function pH(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];H1(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const s=e[n];r.set(s,a),a+=s.length}return r}let GS=class{clone(){return this._cloneInto()}};function gH(e){const t=n=>e().update(g2(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function XS(e=32){if(Jc&&typeof Jc.getRandomValues=="function")return Jc.getRandomValues(new Uint8Array(e));if(Jc&&typeof Jc.randomBytes=="function")return Jc.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function yH(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),s=BigInt(4294967295),u=Number(r>>a&s),c=Number(r&s),f=n?4:0,h=n?0:4;e.setUint32(t+f,u,n),e.setUint32(t+h,c,n)}const bH=(e,t,r)=>e&t^~e&r,_H=(e,t,r)=>e&t^e&r^t&r;class mH extends GS{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Nb(this.buffer)}update(t){$p(this);const{view:r,buffer:n,blockLen:a}=this;t=g2(t);const s=t.length;for(let u=0;u<s;){const c=Math.min(a-this.pos,s-u);if(c===a){const f=Nb(t);for(;a<=s-u;u+=a)this.process(f,u);continue}n.set(t.subarray(u,u+c),this.pos),this.pos+=c,u+=c,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$p(this),hH(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:s}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>a-u&&(this.process(n,0),u=0);for(let y=u;y<a;y++)r[y]=0;yH(n,a-8,BigInt(this.length*8),s),this.process(n,0);const c=Nb(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)c.setUint32(4*y,d[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:s,destroyed:u,pos:c}=this;return t.length=a,t.pos=c,t.finished=s,t.destroyed=u,a%r&&t.buffer.set(n),t}}const vH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vo=new Uint32Array(64);let wH=class extends mH{constructor(){super(64,32,8,!1),this.A=mo[0]|0,this.B=mo[1]|0,this.C=mo[2]|0,this.D=mo[3]|0,this.E=mo[4]|0,this.F=mo[5]|0,this.G=mo[6]|0,this.H=mo[7]|0}get(){const{A:t,B:r,C:n,D:a,E:s,F:u,G:c,H:f}=this;return[t,r,n,a,s,u,c,f]}set(t,r,n,a,s,u,c,f){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=s|0,this.F=u|0,this.G=c|0,this.H=f|0}process(t,r){for(let y=0;y<16;y++,r+=4)vo[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const _=vo[y-15],w=vo[y-2],S=Da(_,7)^Da(_,18)^_>>>3,A=Da(w,17)^Da(w,19)^w>>>10;vo[y]=A+vo[y-7]+S+vo[y-16]|0}let{A:n,B:a,C:s,D:u,E:c,F:f,G:h,H:d}=this;for(let y=0;y<64;y++){const _=Da(c,6)^Da(c,11)^Da(c,25),w=d+_+bH(c,f,h)+vH[y]+vo[y]|0,A=(Da(n,2)^Da(n,13)^Da(n,22))+_H(n,a,s)|0;d=h,h=f,f=c,c=u+w|0,u=s,s=a,a=n,n=w+A|0}n=n+this.A|0,a=a+this.B|0,s=s+this.C|0,u=u+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(n,a,s,u,c,f,h,d)}roundClean(){vo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Km=gH(()=>new wH);let WS=class extends GS{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,lH(t);const n=g2(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(n.length>a?t.create().update(n).digest():n);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=t.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(t){return $p(this),this.iHash.update(t),this}digestInto(t){$p(this),H1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:a,destroyed:s,blockLen:u,outputLen:c}=this;return t=t,t.finished=a,t.destroyed=s,t.blockLen=u,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ZS=(e,t,r)=>new WS(e,t).update(r).digest();ZS.create=(e,t)=>new WS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L1=BigInt(0),N1=BigInt(1),AH=BigInt(2);function rc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pd(e){if(!rc(e))throw new Error("Uint8Array expected")}function kf(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const EH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qf(e){Pd(e);let t="";for(let r=0;r<e.length;r++)t+=EH[e[r]];return t}function rf(e){const t=e.toString(16);return t.length&1?"0"+t:t}function y2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?L1:BigInt("0x"+e)}const bs={_0:48,_9:57,A:65,F:70,a:97,f:102};function iE(e){if(e>=bs._0&&e<=bs._9)return e-bs._0;if(e>=bs.A&&e<=bs.F)return e-(bs.A-10);if(e>=bs.a&&e<=bs.f)return e-(bs.a-10)}function zf(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let a=0,s=0;a<r;a++,s+=2){const u=iE(e.charCodeAt(s)),c=iE(e.charCodeAt(s+1));if(u===void 0||c===void 0){const f=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}n[a]=u*16+c}return n}function Bs(e){return y2(qf(e))}function b2(e){return Pd(e),y2(qf(Uint8Array.from(e).reverse()))}function Qo(e,t){return zf(e.toString(16).padStart(t*2,"0"))}function _2(e,t){return Qo(e,t).reverse()}function xH(e){return zf(rf(e))}function dn(e,t,r){let n;if(typeof t=="string")try{n=zf(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(rc(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(e+" of length "+r+" expected, got "+a);return n}function nc(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];Pd(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const s=e[n];r.set(s,a),a+=s.length}return r}function SH(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function CH(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const Ub=e=>typeof e=="bigint"&&L1<=e;function jf(e,t,r){return Ub(e)&&Ub(t)&&Ub(r)&&t<=e&&e<r}function ko(e,t,r,n){if(!jf(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function JS(e){let t;for(t=0;e>L1;e>>=N1,t+=1);return t}function IH(e,t){return e>>BigInt(t)&N1}function TH(e,t,r){return e|(r?N1:L1)<<BigInt(t)}const m2=e=>(AH<<BigInt(e-1))-N1,Pb=e=>new Uint8Array(e),aE=e=>Uint8Array.from(e);function t9(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Pb(e),a=Pb(e),s=0;const u=()=>{n.fill(1),a.fill(0),s=0},c=(...y)=>r(a,n,...y),f=(y=Pb())=>{a=c(aE([0]),y),n=c(),y.length!==0&&(a=c(aE([1]),y),n=c())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const _=[];for(;y<t;){n=c();const w=n.slice();_.push(w),y+=n.length}return nc(..._)};return(y,_)=>{u(),f(y);let w;for(;!(w=_(h()));)f();return u(),w}}const BH={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||rc(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function kd(e,t,r={}){const n=(a,s,u)=>{const c=BH[s];if(typeof c!="function")throw new Error("invalid validator function");const f=e[a];if(!(u&&f===void 0)&&!c(f,e))throw new Error("param "+String(a)+" is invalid. Expected "+s+", got "+f)};for(const[a,s]of Object.entries(t))n(a,s,!1);for(const[a,s]of Object.entries(r))n(a,s,!0);return e}const OH=()=>{throw new Error("not implemented")};function Qm(e){const t=new WeakMap;return(r,...n)=>{const a=t.get(r);if(a!==void 0)return a;const s=e(r,...n);return t.set(r,s),s}}const DH=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ko,abool:kf,abytes:Pd,bitGet:IH,bitLen:JS,bitMask:m2,bitSet:TH,bytesToHex:qf,bytesToNumberBE:Bs,bytesToNumberLE:b2,concatBytes:nc,createHmacDrbg:t9,ensureBytes:dn,equalBytes:SH,hexToBytes:zf,hexToNumber:y2,inRange:jf,isBytes:rc,memoized:Qm,notImplemented:OH,numberToBytesBE:Qo,numberToBytesLE:_2,numberToHexUnpadded:rf,numberToVarBytesBE:xH,utf8ToBytes:CH,validateObject:kd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kr=BigInt(0),_r=BigInt(1),Ru=BigInt(2),MH=BigInt(3),Ym=BigInt(4),sE=BigInt(5),oE=BigInt(8);function Xr(e,t){const r=e%t;return r>=kr?r:t+r}function RH(e,t,r){if(t<kr)throw new Error("invalid exponent, negatives unsupported");if(r<=kr)throw new Error("invalid modulus");if(r===_r)return kr;let n=_r;for(;t>kr;)t&_r&&(n=n*e%r),e=e*e%r,t>>=_r;return n}function Ti(e,t,r){let n=e;for(;t-- >kr;)n*=n,n%=r;return n}function Vm(e,t){if(e===kr)throw new Error("invert: expected non-zero number");if(t<=kr)throw new Error("invert: expected positive modulus, got "+t);let r=Xr(e,t),n=t,a=kr,s=_r;for(;r!==kr;){const c=n/r,f=n%r,h=a-s*c;n=r,r=f,a=s,s=h}if(n!==_r)throw new Error("invert: does not exist");return Xr(a,t)}function HH(e){const t=(e-_r)/Ru;let r,n,a;for(r=e-_r,n=0;r%Ru===kr;r/=Ru,n++);for(a=Ru;a<e&&RH(a,t,e)!==e-_r;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const u=(e+_r)/Ym;return function(f,h){const d=f.pow(h,u);if(!f.eql(f.sqr(d),h))throw new Error("Cannot find square root");return d}}const s=(r+_r)/Ru;return function(c,f){if(c.pow(f,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,d=c.pow(c.mul(c.ONE,a),r),y=c.pow(f,s),_=c.pow(f,r);for(;!c.eql(_,c.ONE);){if(c.eql(_,c.ZERO))return c.ZERO;let w=1;for(let A=c.sqr(_);w<h&&!c.eql(A,c.ONE);w++)A=c.sqr(A);const S=c.pow(d,_r<<BigInt(h-w-1));d=c.sqr(S),y=c.mul(y,S),_=c.mul(_,d),h=w}return y}}function LH(e){if(e%Ym===MH){const t=(e+_r)/Ym;return function(n,a){const s=n.pow(a,t);if(!n.eql(n.sqr(s),a))throw new Error("Cannot find square root");return s}}if(e%oE===sE){const t=(e-sE)/oE;return function(n,a){const s=n.mul(a,Ru),u=n.pow(s,t),c=n.mul(a,u),f=n.mul(n.mul(c,Ru),u),h=n.mul(c,n.sub(f,n.ONE));if(!n.eql(n.sqr(h),a))throw new Error("Cannot find square root");return h}}return HH(e)}const NH=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function UH(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=NH.reduce((n,a)=>(n[a]="function",n),t);return kd(e,r)}function PH(e,t,r){if(r<kr)throw new Error("invalid exponent, negatives unsupported");if(r===kr)return e.ONE;if(r===_r)return t;let n=e.ONE,a=t;for(;r>kr;)r&_r&&(n=e.mul(n,a)),a=e.sqr(a),r>>=_r;return n}function kH(e,t){const r=new Array(t.length),n=t.reduce((s,u,c)=>e.is0(u)?s:(r[c]=s,e.mul(s,u)),e.ONE),a=e.inv(n);return t.reduceRight((s,u,c)=>e.is0(u)?s:(r[c]=e.mul(s,r[c]),e.mul(s,u)),a),r}function e9(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function r9(e,t,r=!1,n={}){if(e<=kr)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:a,nByteLength:s}=e9(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const c=Object.freeze({ORDER:e,BITS:a,BYTES:s,MASK:m2(a),ZERO:kr,ONE:_r,create:f=>Xr(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return kr<=f&&f<e},is0:f=>f===kr,isOdd:f=>(f&_r)===_r,neg:f=>Xr(-f,e),eql:(f,h)=>f===h,sqr:f=>Xr(f*f,e),add:(f,h)=>Xr(f+h,e),sub:(f,h)=>Xr(f-h,e),mul:(f,h)=>Xr(f*h,e),pow:(f,h)=>PH(c,f,h),div:(f,h)=>Xr(f*Vm(h,e),e),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>Vm(f,e),sqrt:n.sqrt||(f=>(u||(u=LH(e)),u(c,f))),invertBatch:f=>kH(c,f),cmov:(f,h,d)=>d?h:f,toBytes:f=>r?_2(f,s):Qo(f,s),fromBytes:f=>{if(f.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);return r?b2(f):Bs(f)}});return Object.freeze(c)}function n9(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function i9(e){const t=n9(e);return t+Math.ceil(t/2)}function qH(e,t,r=!1){const n=e.length,a=n9(t),s=i9(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const u=r?Bs(e):b2(e),c=Xr(u,t-_r)+_r;return r?_2(c,a):Qo(c,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uE=BigInt(0),mp=BigInt(1);function kb(e,t){const r=t.negate();return e?r:t}function a9(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function qb(e,t){a9(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function zH(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function jH(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const zb=new WeakMap,s9=new WeakMap;function jb(e){return s9.get(e)||1}function FH(e,t){return{constTimeNegate:kb,hasPrecomputes(r){return jb(r)!==1},unsafeLadder(r,n,a=e.ZERO){let s=r;for(;n>uE;)n&mp&&(a=a.add(s)),s=s.double(),n>>=mp;return a},precomputeWindow(r,n){const{windows:a,windowSize:s}=qb(n,t),u=[];let c=r,f=c;for(let h=0;h<a;h++){f=c,u.push(f);for(let d=1;d<s;d++)f=f.add(c),u.push(f);c=f.double()}return u},wNAF(r,n,a){const{windows:s,windowSize:u}=qb(r,t);let c=e.ZERO,f=e.BASE;const h=BigInt(2**r-1),d=2**r,y=BigInt(r);for(let _=0;_<s;_++){const w=_*u;let S=Number(a&h);a>>=y,S>u&&(S-=d,a+=mp);const A=w,E=w+Math.abs(S)-1,x=_%2!==0,L=S<0;S===0?f=f.add(kb(x,n[A])):c=c.add(kb(L,n[E]))}return{p:c,f}},wNAFUnsafe(r,n,a,s=e.ZERO){const{windows:u,windowSize:c}=qb(r,t),f=BigInt(2**r-1),h=2**r,d=BigInt(r);for(let y=0;y<u;y++){const _=y*c;if(a===uE)break;let w=Number(a&f);if(a>>=d,w>c&&(w-=h,a+=mp),w===0)continue;let S=n[_+Math.abs(w)-1];w<0&&(S=S.negate()),s=s.add(S)}return s},getPrecomputes(r,n,a){let s=zb.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&zb.set(n,a(s))),s},wNAFCached(r,n,a){const s=jb(r);return this.wNAF(s,this.getPrecomputes(s,r,a),n)},wNAFCachedUnsafe(r,n,a,s){const u=jb(r);return u===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(u,this.getPrecomputes(u,r,a),n,s)},setWindowSize(r,n){a9(n,t),s9.set(r,n),zb.delete(r)}}}function KH(e,t,r,n){if(zH(r,e),jH(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,s=JS(BigInt(r.length)),u=s>12?s-3:s>4?s-2:s?2:1,c=(1<<u)-1,f=new Array(c+1).fill(a),h=Math.floor((t.BITS-1)/u)*u;let d=a;for(let y=h;y>=0;y-=u){f.fill(a);for(let w=0;w<n.length;w++){const S=n[w],A=Number(S>>BigInt(y)&BigInt(c));f[A]=f[A].add(r[w])}let _=a;for(let w=f.length-1,S=a;w>0;w--)S=S.add(f[w]),_=_.add(S);if(d=d.add(_),y!==0)for(let w=0;w<u;w++)d=d.double()}return d}function o9(e){return UH(e.Fp),kd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...e9(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cE(e){e.lowS!==void 0&&kf("lowS",e.lowS),e.prehash!==void 0&&kf("prehash",e.prehash)}function QH(e){const t=o9(e);kd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a}=t;if(r){if(!n.eql(a,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:YH,hexToBytes:VH}=DH,ws={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:r}=ws;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,a=rf(n);if(a.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?rf(a.length/2|128):"";return rf(e)+s+a+t},decode(e,t){const{Err:r}=ws;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const a=t[n++],s=!!(a&128);let u=0;if(!s)u=a;else{const f=a&127;if(!f)throw new r("tlv.decode(long): indefinite length not supported");if(f>4)throw new r("tlv.decode(long): byte length is too big");const h=t.subarray(n,n+f);if(h.length!==f)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of h)u=u<<8|d;if(n+=f,u<128)throw new r("tlv.decode(long): not minimal encoding")}const c=t.subarray(n,n+u);if(c.length!==u)throw new r("tlv.decode: wrong value length");return{v:c,l:t.subarray(n+u)}}},_int:{encode(e){const{Err:t}=ws;if(e<xs)throw new t("integer: negative integers are not allowed");let r=rf(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=ws;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return YH(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=ws,a=typeof e=="string"?VH(e):e;Pd(a);const{v:s,l:u}=n.decode(48,a);if(u.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:f}=n.decode(2,s),{v:h,l:d}=n.decode(2,f);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(h)}},hexFromSig(e){const{_tlv:t,_int:r}=ws,n=t.encode(2,r.encode(e.r)),a=t.encode(2,r.encode(e.s)),s=n+a;return t.encode(48,s)}},xs=BigInt(0),Ur=BigInt(1);BigInt(2);const fE=BigInt(3);BigInt(4);function $H(e){const t=QH(e),{Fp:r}=t,n=r9(t.n,t.nBitLength),a=t.toBytes||((A,E,x)=>{const L=E.toAffine();return nc(Uint8Array.from([4]),r.toBytes(L.x),r.toBytes(L.y))}),s=t.fromBytes||(A=>{const E=A.subarray(1),x=r.fromBytes(E.subarray(0,r.BYTES)),L=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x,y:L}});function u(A){const{a:E,b:x}=t,L=r.sqr(A),U=r.mul(L,A);return r.add(r.add(U,r.mul(A,E)),x)}if(!r.eql(r.sqr(t.Gy),u(t.Gx)))throw new Error("bad generator point: equation left != right");function c(A){return jf(A,Ur,t.n)}function f(A){const{allowedPrivateKeyLengths:E,nByteLength:x,wrapPrivateKey:L,n:U}=t;if(E&&typeof A!="bigint"){if(rc(A)&&(A=qf(A)),typeof A!="string"||!E.includes(A.length))throw new Error("invalid private key");A=A.padStart(x*2,"0")}let O;try{O=typeof A=="bigint"?A:Bs(dn("private key",A,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof A)}return L&&(O=Xr(O,U)),ko("private key",O,Ur,U),O}function h(A){if(!(A instanceof _))throw new Error("ProjectivePoint expected")}const d=Qm((A,E)=>{const{px:x,py:L,pz:U}=A;if(r.eql(U,r.ONE))return{x,y:L};const O=A.is0();E==null&&(E=O?r.ONE:r.inv(U));const H=r.mul(x,E),P=r.mul(L,E),q=r.mul(U,E);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:H,y:P}}),y=Qm(A=>{if(A.is0()){if(t.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:E,y:x}=A.toAffine();if(!r.isValid(E)||!r.isValid(x))throw new Error("bad point: x or y not FE");const L=r.sqr(x),U=u(E);if(!r.eql(L,U))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(E,x,L){if(this.px=E,this.py=x,this.pz=L,E==null||!r.isValid(E))throw new Error("x required");if(x==null||!r.isValid(x))throw new Error("y required");if(L==null||!r.isValid(L))throw new Error("z required");Object.freeze(this)}static fromAffine(E){const{x,y:L}=E||{};if(!E||!r.isValid(x)||!r.isValid(L))throw new Error("invalid affine point");if(E instanceof _)throw new Error("projective point not allowed");const U=O=>r.eql(O,r.ZERO);return U(x)&&U(L)?_.ZERO:new _(x,L,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const x=r.invertBatch(E.map(L=>L.pz));return E.map((L,U)=>L.toAffine(x[U])).map(_.fromAffine)}static fromHex(E){const x=_.fromAffine(s(dn("pointHex",E)));return x.assertValidity(),x}static fromPrivateKey(E){return _.BASE.multiply(f(E))}static msm(E,x){return KH(_,n,E,x)}_setWindowSize(E){S.setWindowSize(this,E)}assertValidity(){y(this)}hasEvenY(){const{y:E}=this.toAffine();if(r.isOdd)return!r.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:x,py:L,pz:U}=this,{px:O,py:H,pz:P}=E,q=r.eql(r.mul(x,P),r.mul(O,U)),j=r.eql(r.mul(L,P),r.mul(H,U));return q&&j}negate(){return new _(this.px,r.neg(this.py),this.pz)}double(){const{a:E,b:x}=t,L=r.mul(x,fE),{px:U,py:O,pz:H}=this;let P=r.ZERO,q=r.ZERO,j=r.ZERO,F=r.mul(U,U),X=r.mul(O,O),z=r.mul(H,H),I=r.mul(U,O);return I=r.add(I,I),j=r.mul(U,H),j=r.add(j,j),P=r.mul(E,j),q=r.mul(L,z),q=r.add(P,q),P=r.sub(X,q),q=r.add(X,q),q=r.mul(P,q),P=r.mul(I,P),j=r.mul(L,j),z=r.mul(E,z),I=r.sub(F,z),I=r.mul(E,I),I=r.add(I,j),j=r.add(F,F),F=r.add(j,F),F=r.add(F,z),F=r.mul(F,I),q=r.add(q,F),z=r.mul(O,H),z=r.add(z,z),F=r.mul(z,I),P=r.sub(P,F),j=r.mul(z,X),j=r.add(j,j),j=r.add(j,j),new _(P,q,j)}add(E){h(E);const{px:x,py:L,pz:U}=this,{px:O,py:H,pz:P}=E;let q=r.ZERO,j=r.ZERO,F=r.ZERO;const X=t.a,z=r.mul(t.b,fE);let I=r.mul(x,O),M=r.mul(L,H),m=r.mul(U,P),C=r.add(x,L),p=r.add(O,H);C=r.mul(C,p),p=r.add(I,M),C=r.sub(C,p),p=r.add(x,U);let v=r.add(O,P);return p=r.mul(p,v),v=r.add(I,m),p=r.sub(p,v),v=r.add(L,U),q=r.add(H,P),v=r.mul(v,q),q=r.add(M,m),v=r.sub(v,q),F=r.mul(X,p),q=r.mul(z,m),F=r.add(q,F),q=r.sub(M,F),F=r.add(M,F),j=r.mul(q,F),M=r.add(I,I),M=r.add(M,I),m=r.mul(X,m),p=r.mul(z,p),M=r.add(M,m),m=r.sub(I,m),m=r.mul(X,m),p=r.add(p,m),I=r.mul(M,p),j=r.add(j,I),I=r.mul(v,p),q=r.mul(C,q),q=r.sub(q,I),I=r.mul(C,M),F=r.mul(v,F),F=r.add(F,I),new _(q,j,F)}subtract(E){return this.add(E.negate())}is0(){return this.equals(_.ZERO)}wNAF(E){return S.wNAFCached(this,E,_.normalizeZ)}multiplyUnsafe(E){const{endo:x,n:L}=t;ko("scalar",E,xs,L);const U=_.ZERO;if(E===xs)return U;if(this.is0()||E===Ur)return this;if(!x||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,E,_.normalizeZ);let{k1neg:O,k1:H,k2neg:P,k2:q}=x.splitScalar(E),j=U,F=U,X=this;for(;H>xs||q>xs;)H&Ur&&(j=j.add(X)),q&Ur&&(F=F.add(X)),X=X.double(),H>>=Ur,q>>=Ur;return O&&(j=j.negate()),P&&(F=F.negate()),F=new _(r.mul(F.px,x.beta),F.py,F.pz),j.add(F)}multiply(E){const{endo:x,n:L}=t;ko("scalar",E,Ur,L);let U,O;if(x){const{k1neg:H,k1:P,k2neg:q,k2:j}=x.splitScalar(E);let{p:F,f:X}=this.wNAF(P),{p:z,f:I}=this.wNAF(j);F=S.constTimeNegate(H,F),z=S.constTimeNegate(q,z),z=new _(r.mul(z.px,x.beta),z.py,z.pz),U=F.add(z),O=X.add(I)}else{const{p:H,f:P}=this.wNAF(E);U=H,O=P}return _.normalizeZ([U,O])[0]}multiplyAndAddUnsafe(E,x,L){const U=_.BASE,O=(P,q)=>q===xs||q===Ur||!P.equals(U)?P.multiplyUnsafe(q):P.multiply(q),H=O(this,x).add(O(E,L));return H.is0()?void 0:H}toAffine(E){return d(this,E)}isTorsionFree(){const{h:E,isTorsionFree:x}=t;if(E===Ur)return!0;if(x)return x(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:x}=t;return E===Ur?this:x?x(_,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return kf("isCompressed",E),this.assertValidity(),a(_,this,E)}toHex(E=!0){return kf("isCompressed",E),qf(this.toRawBytes(E))}}_.BASE=new _(t.Gx,t.Gy,r.ONE),_.ZERO=new _(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,S=FH(_,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:_,normPrivateKeyToScalar:f,weierstrassEquation:u,isWithinCurveOrder:c}}function GH(e){const t=o9(e);return kd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function XH(e){const t=GH(e),{Fp:r,n}=t,a=r.BYTES+1,s=2*r.BYTES+1;function u(m){return Xr(m,n)}function c(m){return Vm(m,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:h,weierstrassEquation:d,isWithinCurveOrder:y}=$H({...t,toBytes(m,C,p){const v=C.toAffine(),D=r.toBytes(v.x),B=nc;return kf("isCompressed",p),p?B(Uint8Array.from([C.hasEvenY()?2:3]),D):B(Uint8Array.from([4]),D,r.toBytes(v.y))},fromBytes(m){const C=m.length,p=m[0],v=m.subarray(1);if(C===a&&(p===2||p===3)){const D=Bs(v);if(!jf(D,Ur,r.ORDER))throw new Error("Point is not on curve");const B=d(D);let b;try{b=r.sqrt(B)}catch(Q){const W=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+W)}const R=(b&Ur)===Ur;return(p&1)===1!==R&&(b=r.neg(b)),{x:D,y:b}}else if(C===s&&p===4){const D=r.fromBytes(v.subarray(0,r.BYTES)),B=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:D,y:B}}else{const D=a,B=s;throw new Error("invalid Point, expected length of "+D+", or uncompressed "+B+", got "+C)}}}),_=m=>qf(Qo(m,t.nByteLength));function w(m){const C=n>>Ur;return m>C}function S(m){return w(m)?u(-m):m}const A=(m,C,p)=>Bs(m.slice(C,p));class E{constructor(C,p,v){this.r=C,this.s=p,this.recovery=v,this.assertValidity()}static fromCompact(C){const p=t.nByteLength;return C=dn("compactSignature",C,p*2),new E(A(C,0,p),A(C,p,2*p))}static fromDER(C){const{r:p,s:v}=ws.toSig(dn("DER",C));return new E(p,v)}assertValidity(){ko("r",this.r,Ur,n),ko("s",this.s,Ur,n)}addRecoveryBit(C){return new E(this.r,this.s,C)}recoverPublicKey(C){const{r:p,s:v,recovery:D}=this,B=P(dn("msgHash",C));if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const b=D===2||D===3?p+t.n:p;if(b>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const R=(D&1)===0?"02":"03",Y=f.fromHex(R+_(b)),Q=c(b),W=u(-B*Q),J=u(v*Q),G=f.BASE.multiplyAndAddUnsafe(Y,W,J);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return zf(this.toDERHex())}toDERHex(){return ws.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zf(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const x={isValidPrivateKey(m){try{return h(m),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const m=i9(t.n);return qH(t.randomBytes(m),t.n)},precompute(m=8,C=f.BASE){return C._setWindowSize(m),C.multiply(BigInt(3)),C}};function L(m,C=!0){return f.fromPrivateKey(m).toRawBytes(C)}function U(m){const C=rc(m),p=typeof m=="string",v=(C||p)&&m.length;return C?v===a||v===s:p?v===2*a||v===2*s:m instanceof f}function O(m,C,p=!0){if(U(m))throw new Error("first arg must be private key");if(!U(C))throw new Error("second arg must be public key");return f.fromHex(C).multiply(h(m)).toRawBytes(p)}const H=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const C=Bs(m),p=m.length*8-t.nBitLength;return p>0?C>>BigInt(p):C},P=t.bits2int_modN||function(m){return u(H(m))},q=m2(t.nBitLength);function j(m){return ko("num < 2^"+t.nBitLength,m,xs,q),Qo(m,t.nByteLength)}function F(m,C,p=X){if(["recovered","canonical"].some(it=>it in p))throw new Error("sign() legacy options not supported");const{hash:v,randomBytes:D}=t;let{lowS:B,prehash:b,extraEntropy:R}=p;B==null&&(B=!0),m=dn("msgHash",m),cE(p),b&&(m=dn("prehashed msgHash",v(m)));const Y=P(m),Q=h(C),W=[j(Q),j(Y)];if(R!=null&&R!==!1){const it=R===!0?D(r.BYTES):R;W.push(dn("extraEntropy",it))}const J=nc(...W),G=Y;function et(it){const ut=H(it);if(!y(ut))return;const ct=c(ut),tt=f.BASE.multiply(ut).toAffine(),V=u(tt.x);if(V===xs)return;const ot=u(ct*u(G+V*Q));if(ot===xs)return;let mt=(tt.x===V?0:2)|Number(tt.y&Ur),Tt=ot;return B&&w(ot)&&(Tt=S(ot),mt^=1),new E(V,Tt,mt)}return{seed:J,k2sig:et}}const X={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};function I(m,C,p=X){const{seed:v,k2sig:D}=F(m,C,p),B=t;return t9(B.hash.outputLen,B.nByteLength,B.hmac)(v,D)}f.BASE._setWindowSize(8);function M(m,C,p,v=z){var mt;const D=m;C=dn("msgHash",C),p=dn("publicKey",p);const{lowS:B,prehash:b,format:R}=v;if(cE(v),"strict"in v)throw new Error("options.strict was renamed to lowS");if(R!==void 0&&R!=="compact"&&R!=="der")throw new Error("format must be compact or der");const Y=typeof D=="string"||rc(D),Q=!Y&&!R&&typeof D=="object"&&D!==null&&typeof D.r=="bigint"&&typeof D.s=="bigint";if(!Y&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,J;try{if(Q&&(W=new E(D.r,D.s)),Y){try{R!=="compact"&&(W=E.fromDER(D))}catch(Tt){if(!(Tt instanceof ws.Err))throw Tt}!W&&R!=="der"&&(W=E.fromCompact(D))}J=f.fromHex(p)}catch{return!1}if(!W||B&&W.hasHighS())return!1;b&&(C=t.hash(C));const{r:G,s:et}=W,it=P(C),ut=c(et),ct=u(it*ut),tt=u(G*ut),V=(mt=f.BASE.multiplyAndAddUnsafe(J,ct,tt))==null?void 0:mt.toAffine();return V?u(V.x)===G:!1}return{CURVE:t,getPublicKey:L,getSharedSecret:O,sign:I,verify:M,ProjectivePoint:f,Signature:E,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WH(e){return{hash:e,hmac:(t,...r)=>ZS(e,t,pH(...r)),randomBytes:XS}}function ZH(e,t){const r=n=>XH({...e,...WH(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Gp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ud=BigInt(1),Xp=BigInt(2),lE=(e,t)=>(e+t/Xp)/t;function u9(e){const t=qd,r=BigInt(3),n=BigInt(6),a=BigInt(11),s=BigInt(22),u=BigInt(23),c=BigInt(44),f=BigInt(88),h=e*e*e%t,d=h*h*e%t,y=Ti(d,r,t)*d%t,_=Ti(y,r,t)*d%t,w=Ti(_,Xp,t)*h%t,S=Ti(w,a,t)*w%t,A=Ti(S,s,t)*S%t,E=Ti(A,c,t)*A%t,x=Ti(E,f,t)*E%t,L=Ti(x,c,t)*A%t,U=Ti(L,r,t)*d%t,O=Ti(U,u,t)*S%t,H=Ti(O,n,t)*h%t,P=Ti(H,Xp,t);if(!$m.eql($m.sqr(P),e))throw new Error("Cannot find square root");return P}const $m=r9(qd,void 0,void 0,{sqrt:u9}),ic=ZH({a:BigInt(0),b:BigInt(7),Fp:$m,n:Gp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Gp,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ud*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,u=BigInt("0x100000000000000000000000000000000"),c=lE(s*e,t),f=lE(-n*e,t);let h=Xr(e-c*r-f*a,t),d=Xr(-c*n-f*s,t);const y=h>u,_=d>u;if(y&&(h=t-h),_&&(d=t-d),h>u||d>u)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:h,k2neg:_,k2:d}}}},Km),c9=BigInt(0),hE={};function Wp(e,...t){let r=hE[e];if(r===void 0){const n=Km(Uint8Array.from(e,a=>a.charCodeAt(0)));r=nc(n,n),hE[e]=r}return Km(nc(r,...t))}const v2=e=>e.toRawBytes(!0).slice(1),Gm=e=>Qo(e,32),Fb=e=>Xr(e,qd),cd=e=>Xr(e,Gp),w2=ic.ProjectivePoint,JH=(e,t,r)=>w2.BASE.multiplyAndAddUnsafe(e,t,r);function Xm(e){let t=ic.utils.normPrivateKeyToScalar(e),r=w2.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:cd(-t),bytes:v2(r)}}function f9(e){ko("x",e,ud,qd);const t=Fb(e*e),r=Fb(t*e+BigInt(7));let n=u9(r);n%Xp!==c9&&(n=Fb(-n));const a=new w2(e,n,ud);return a.assertValidity(),a}const cf=Bs;function l9(...e){return cd(cf(Wp("BIP0340/challenge",...e)))}function tL(e){return Xm(e).bytes}function eL(e,t,r=XS(32)){const n=dn("message",e),{bytes:a,scalar:s}=Xm(t),u=dn("auxRand",r,32),c=Gm(s^cf(Wp("BIP0340/aux",u))),f=Wp("BIP0340/nonce",c,a,n),h=cd(cf(f));if(h===c9)throw new Error("sign failed: k is zero");const{bytes:d,scalar:y}=Xm(h),_=l9(d,a,n),w=new Uint8Array(64);if(w.set(d,0),w.set(Gm(cd(y+_*s)),32),!h9(w,n,a))throw new Error("sign: Invalid signature produced");return w}function h9(e,t,r){const n=dn("signature",e,64),a=dn("message",t),s=dn("publicKey",r,32);try{const u=f9(cf(s)),c=cf(n.subarray(0,32));if(!jf(c,ud,qd))return!1;const f=cf(n.subarray(32,64));if(!jf(f,ud,Gp))return!1;const h=l9(Gm(c),v2(u),a),d=JH(u,f,cd(-h));return!(!d||!d.hasEvenY()||d.toAffine().x!==c)}catch{return!1}}const rL={getPublicKey:tL,sign:eL,verify:h9,utils:{randomPrivateKey:ic.utils.randomPrivateKey,lift_x:f9,pointToBytes:v2,numberToBytesBE:Qo,bytesToNumberBE:Bs,taggedHash:Wp,mod:Xr}};function nL(e){const t=typeof e=="string"?e:Ut(e),r=Yt(`Nervos Message:${t}`,"utf8");return Uf(r)}function iL(e,t,r){const n=Yt(t);return ic.verify(new ic.Signature(Lt(n.slice(0,32)),Lt(n.slice(32,64))).addRecoveryBit(Number(Lt(n.slice(64,65)))),Yt(nL(e)),Yt(r))}function Zp(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),a=atob(n),s=new ArrayBuffer(a.length),u=new Uint8Array(s);for(let c=0;c<a.length;c++)u[c]=a.charCodeAt(c);return s}function Nu(e){const t=new Uint8Array(e);let r="";for(let a=0;a<t.length;a++){const s=t[a];s!=null&&(r+=String.fromCharCode(s))}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function d9(e){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.substring(r,r+2),16);return t.buffer}function aL(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function sL(e,t){const r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function oL(e){return new TextEncoder().encode(e)}function uL(e){let t="";for(let r=0;r<e.length;r+=2)t+=String.fromCharCode(Number.parseInt(e.substr(r,2),16));return t}var Wm=(e=>(e[e.RS256=-257]="RS256",e[e.ES256=-7]="ES256",e))(Wm||{});class ht extends Array{constructor(t,r){if(t>ht.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(t),this.sign=r}static BigInt(t){var r=Math.floor,n=Number.isFinite;if(typeof t=="number"){if(t===0)return ht.__zero();if((0|t)===t)return 0>t?ht.__oneDigit(-t,!0):ht.__oneDigit(t,!1);if(!n(t)||r(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return ht.__fromDouble(t)}if(typeof t=="string"){const a=ht.__fromString(t);if(a===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return a}if(typeof t=="boolean")return t===!0?ht.__oneDigit(1,!1):ht.__zero();if(typeof t=="object"){if(t.constructor===ht)return t;const a=ht.__toPrimitive(t);return ht.BigInt(a)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const r of this)t.push((r&&(r>>>0).toString(16))+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(t&t-1)==0?ht.__toStringBasePowerOfTwo(this,t):ht.__toStringGeneric(this,t,!1)}static toNumber(t){var r=Math.clz32;const n=t.length;if(n===0)return 0;if(n===1){const x=t.__unsignedDigit(0);return t.sign?-x:x}const a=t.__digit(n-1),s=r(a),u=32*n-s;if(1024<u)return t.sign?-1/0:1/0;let c=u-1,f=a,h=n-1;const d=s+1;let y=d===32?0:f<<d;y>>>=12;const _=d-12;let w=12<=d?0:f<<20+d,S=20+d;0<_&&0<h&&(h--,f=t.__digit(h),y|=f>>>32-_,w=f<<_,S=_),0<S&&0<h&&(h--,f=t.__digit(h),w|=f>>>32-S,S-=32);const A=ht.__decideRounding(t,S,h,f);if((A===1||A===0&&(1&w)==1)&&(w=w+1>>>0,w===0&&(y++,y>>>20!=0&&(y=0,c++,1023<c))))return t.sign?-1/0:1/0;const E=t.sign?-2147483648:0;return c=c+1023<<20,ht.__kBitConversionInts[1]=E|c|y,ht.__kBitConversionInts[0]=w,ht.__kBitConversionDouble[0]}static unaryMinus(t){if(t.length===0)return t;const r=t.__copy();return r.sign=!t.sign,r}static bitwiseNot(t){return t.sign?ht.__absoluteSubOne(t).__trim():ht.__absoluteAddOne(t,!0)}static exponentiate(t,r){if(r.sign)throw new RangeError("Exponent must be positive");if(r.length===0)return ht.__oneDigit(1,!1);if(t.length===0)return t;if(t.length===1&&t.__digit(0)===1)return t.sign&&(1&r.__digit(0))==0?ht.unaryMinus(t):t;if(1<r.length)throw new RangeError("BigInt too big");let n=r.__unsignedDigit(0);if(n===1)return t;if(n>=ht.__kMaxLengthBits)throw new RangeError("BigInt too big");if(t.length===1&&t.__digit(0)===2){const u=1+(n>>>5),c=t.sign&&(1&n)!=0,f=new ht(u,c);f.__initializeDigits();const h=1<<(31&n);return f.__setDigit(u-1,h),f}let a=null,s=t;for((1&n)!=0&&(a=t),n>>=1;n!==0;n>>=1)s=ht.multiply(s,s),(1&n)!=0&&(a===null?a=s:a=ht.multiply(a,s));return a}static multiply(t,r){if(t.length===0)return t;if(r.length===0)return r;let n=t.length+r.length;32<=t.__clzmsd()+r.__clzmsd()&&n--;const a=new ht(n,t.sign!==r.sign);a.__initializeDigits();for(let s=0;s<t.length;s++)ht.__multiplyAccumulate(r,t.__digit(s),a,s);return a.__trim()}static divide(t,r){if(r.length===0)throw new RangeError("Division by zero");if(0>ht.__absoluteCompare(t,r))return ht.__zero();const n=t.sign!==r.sign,a=r.__unsignedDigit(0);let s;if(r.length===1&&65535>=a){if(a===1)return n===t.sign?t:ht.unaryMinus(t);s=ht.__absoluteDivSmall(t,a,null)}else s=ht.__absoluteDivLarge(t,r,!0,!1);return s.sign=n,s.__trim()}static remainder(t,r){if(r.length===0)throw new RangeError("Division by zero");if(0>ht.__absoluteCompare(t,r))return t;const n=r.__unsignedDigit(0);if(r.length===1&&65535>=n){if(n===1)return ht.__zero();const s=ht.__absoluteModSmall(t,n);return s===0?ht.__zero():ht.__oneDigit(s,t.sign)}const a=ht.__absoluteDivLarge(t,r,!1,!0);return a.sign=t.sign,a.__trim()}static add(t,r){const n=t.sign;return n===r.sign?ht.__absoluteAdd(t,r,n):0<=ht.__absoluteCompare(t,r)?ht.__absoluteSub(t,r,n):ht.__absoluteSub(r,t,!n)}static subtract(t,r){const n=t.sign;return n===r.sign?0<=ht.__absoluteCompare(t,r)?ht.__absoluteSub(t,r,n):ht.__absoluteSub(r,t,!n):ht.__absoluteAdd(t,r,n)}static leftShift(t,r){return r.length===0||t.length===0?t:r.sign?ht.__rightShiftByAbsolute(t,r):ht.__leftShiftByAbsolute(t,r)}static signedRightShift(t,r){return r.length===0||t.length===0?t:r.sign?ht.__leftShiftByAbsolute(t,r):ht.__rightShiftByAbsolute(t,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,r){return 0>ht.__compareToBigInt(t,r)}static lessThanOrEqual(t,r){return 0>=ht.__compareToBigInt(t,r)}static greaterThan(t,r){return 0<ht.__compareToBigInt(t,r)}static greaterThanOrEqual(t,r){return 0<=ht.__compareToBigInt(t,r)}static equal(t,r){if(t.sign!==r.sign||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t.__digit(n)!==r.__digit(n))return!1;return!0}static notEqual(t,r){return!ht.equal(t,r)}static bitwiseAnd(t,r){var n=Math.max;if(!t.sign&&!r.sign)return ht.__absoluteAnd(t,r).__trim();if(t.sign&&r.sign){const a=n(t.length,r.length)+1;let s=ht.__absoluteSubOne(t,a);const u=ht.__absoluteSubOne(r);return s=ht.__absoluteOr(s,u,s),ht.__absoluteAddOne(s,!0,s).__trim()}return t.sign&&([t,r]=[r,t]),ht.__absoluteAndNot(t,ht.__absoluteSubOne(r)).__trim()}static bitwiseXor(t,r){var n=Math.max;if(!t.sign&&!r.sign)return ht.__absoluteXor(t,r).__trim();if(t.sign&&r.sign){const u=n(t.length,r.length),c=ht.__absoluteSubOne(t,u),f=ht.__absoluteSubOne(r);return ht.__absoluteXor(c,f,c).__trim()}const a=n(t.length,r.length)+1;t.sign&&([t,r]=[r,t]);let s=ht.__absoluteSubOne(r,a);return s=ht.__absoluteXor(s,t,s),ht.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(t,r){var n=Math.max;const a=n(t.length,r.length);if(!t.sign&&!r.sign)return ht.__absoluteOr(t,r).__trim();if(t.sign&&r.sign){let u=ht.__absoluteSubOne(t,a);const c=ht.__absoluteSubOne(r);return u=ht.__absoluteAnd(u,c,u),ht.__absoluteAddOne(u,!0,u).__trim()}t.sign&&([t,r]=[r,t]);let s=ht.__absoluteSubOne(r,a);return s=ht.__absoluteAndNot(s,t,s),ht.__absoluteAddOne(s,!0,s).__trim()}static asIntN(t,r){if(r.length===0)return r;if(t===0)return ht.__zero();if(t>=ht.__kMaxLengthBits)return r;const n=t+31>>>5;if(r.length<n)return r;const a=r.__unsignedDigit(n-1),s=1<<(31&t-1);if(r.length===n&&a<s)return r;if((a&s)!==s)return ht.__truncateToNBits(t,r);if(!r.sign)return ht.__truncateAndSubFromPowerOfTwo(t,r,!0);if((a&s-1)==0){for(let u=n-2;0<=u;u--)if(r.__digit(u)!==0)return ht.__truncateAndSubFromPowerOfTwo(t,r,!1);return r.length===n&&a===s?r:ht.__truncateToNBits(t,r)}return ht.__truncateAndSubFromPowerOfTwo(t,r,!1)}static asUintN(t,r){if(r.length===0)return r;if(t===0)return ht.__zero();if(r.sign){if(t>ht.__kMaxLengthBits)throw new RangeError("BigInt too big");return ht.__truncateAndSubFromPowerOfTwo(t,r,!1)}if(t>=ht.__kMaxLengthBits)return r;const n=t+31>>>5;if(r.length<n)return r;const a=31&t;return r.length==n&&(a===0||!(r.__digit(n-1)>>>a))?r:ht.__truncateToNBits(t,r)}static ADD(t,r){if(t=ht.__toPrimitive(t),r=ht.__toPrimitive(r),typeof t=="string")return typeof r!="string"&&(r=r.toString()),t+r;if(typeof r=="string")return t.toString()+r;if(t=ht.__toNumeric(t),r=ht.__toNumeric(r),ht.__isBigInt(t)&&ht.__isBigInt(r))return ht.add(t,r);if(typeof t=="number"&&typeof r=="number")return t+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,r){return ht.__compare(t,r,0)}static LE(t,r){return ht.__compare(t,r,1)}static GT(t,r){return ht.__compare(t,r,2)}static GE(t,r){return ht.__compare(t,r,3)}static EQ(t,r){for(;;){if(ht.__isBigInt(t))return ht.__isBigInt(r)?ht.equal(t,r):ht.EQ(r,t);if(typeof t=="number"){if(ht.__isBigInt(r))return ht.__equalToNumber(r,t);if(typeof r!="object")return t==r;r=ht.__toPrimitive(r)}else if(typeof t=="string"){if(ht.__isBigInt(r))return t=ht.__fromString(t),t!==null&&ht.equal(t,r);if(typeof r!="object")return t==r;r=ht.__toPrimitive(r)}else if(typeof t=="boolean"){if(ht.__isBigInt(r))return ht.__equalToNumber(r,+t);if(typeof r!="object")return t==r;r=ht.__toPrimitive(r)}else if(typeof t=="symbol"){if(ht.__isBigInt(r))return!1;if(typeof r!="object")return t==r;r=ht.__toPrimitive(r)}else if(typeof t=="object"){if(typeof r=="object"&&r.constructor!==ht)return t==r;t=ht.__toPrimitive(t)}else return t==r}}static NE(t,r){return!ht.EQ(t,r)}static __zero(){return new ht(0,!1)}static __oneDigit(t,r){const n=new ht(1,r);return n.__setDigit(0,t),n}__copy(){const t=new ht(this.length,this.sign);for(let r=0;r<this.length;r++)t[r]=this[r];return t}__trim(){let t=this.length,r=this[t-1];for(;r===0;)t--,r=this[t-1],this.pop();return t===0&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,r,n,a){if(0<r)return-1;let s;if(0>r)s=-r-1;else{if(n===0)return-1;n--,a=t.__digit(n),s=31}let u=1<<s;if((a&u)==0)return-1;if(u-=1,(a&u)!=0)return 1;for(;0<n;)if(n--,t.__digit(n)!==0)return 1;return 0}static __fromDouble(t){ht.__kBitConversionDouble[0]=t;const r=2047&ht.__kBitConversionInts[1]>>>20,n=r-1023,a=(n>>>5)+1,s=new ht(a,0>t);let u=1048575&ht.__kBitConversionInts[1]|1048576,c=ht.__kBitConversionInts[0];const f=20,h=31&n;let d,y=0;if(h<20){const _=f-h;y=_+32,d=u>>>_,u=u<<32-_|c>>>_,c<<=32-_}else if(h===20)y=32,d=u,u=c;else{const _=h-f;y=32-_,d=u<<_|c>>>32-_,u=c<<_}s.__setDigit(a-1,d);for(let _=a-2;0<=_;_--)0<y?(y-=32,d=u,u=c):d=0,s.__setDigit(_,d);return s.__trim()}static __isWhitespace(t){return 13>=t&&9<=t||(159>=t?t==32:131071>=t?t==160||t==5760:196607>=t?(t&=131071,10>=t||t==40||t==41||t==47||t==95||t==4096):t==65279)}static __fromString(t,r=0){let n=0;const a=t.length;let s=0;if(s===a)return ht.__zero();let u=t.charCodeAt(s);for(;ht.__isWhitespace(u);){if(++s===a)return ht.__zero();u=t.charCodeAt(s)}if(u===43){if(++s===a)return null;u=t.charCodeAt(s),n=1}else if(u===45){if(++s===a)return null;u=t.charCodeAt(s),n=-1}if(r===0){if(r=10,u===48){if(++s===a)return ht.__zero();if(u=t.charCodeAt(s),u===88||u===120){if(r=16,++s===a)return null;u=t.charCodeAt(s)}else if(u===79||u===111){if(r=8,++s===a)return null;u=t.charCodeAt(s)}else if(u===66||u===98){if(r=2,++s===a)return null;u=t.charCodeAt(s)}}}else if(r===16&&u===48){if(++s===a)return ht.__zero();if(u=t.charCodeAt(s),u===88||u===120){if(++s===a)return null;u=t.charCodeAt(s)}}for(;u===48;){if(++s===a)return ht.__zero();u=t.charCodeAt(s)}const c=a-s;let f=ht.__kMaxBitsPerChar[r],h=ht.__kBitsPerCharTableMultiplier-1;if(c>1073741824/f)return null;const d=f*c+h>>>ht.__kBitsPerCharTableShift,y=new ht(d+31>>>5,!1),_=10>r?r:10,w=10<r?r-10:0;if((r&r-1)==0){f>>=ht.__kBitsPerCharTableShift;const S=[],A=[];let E=!1;do{let x=0,L=0;for(;;){let U;if(u-48>>>0<_)U=u-48;else if((32|u)-97>>>0<w)U=(32|u)-87;else{E=!0;break}if(L+=f,x=x<<f|U,++s===a){E=!0;break}if(u=t.charCodeAt(s),32<L+f)break}S.push(x),A.push(L)}while(!E);ht.__fillFromParts(y,S,A)}else{y.__initializeDigits();let S=!1,A=0;do{let E=0,x=1;for(;;){let U;if(u-48>>>0<_)U=u-48;else if((32|u)-97>>>0<w)U=(32|u)-87;else{S=!0;break}const O=x*r;if(4294967295<O)break;if(x=O,E=E*r+U,A++,++s===a){S=!0;break}u=t.charCodeAt(s)}h=32*ht.__kBitsPerCharTableMultiplier-1;const L=f*A+h>>>ht.__kBitsPerCharTableShift+5;y.__inplaceMultiplyAdd(x,E,L)}while(!S)}if(s!==a){if(!ht.__isWhitespace(u))return null;for(s++;s<a;s++)if(u=t.charCodeAt(s),!ht.__isWhitespace(u))return null}return n!=0&&r!==10?null:(y.sign=n==-1,y.__trim())}static __fillFromParts(t,r,n){let a=0,s=0,u=0;for(let c=r.length-1;0<=c;c--){const f=r[c],h=n[c];s|=f<<u,u+=h,u===32?(t.__setDigit(a++,s),u=0,s=0):32<u&&(t.__setDigit(a++,s),u-=32,s=f>>>h-u)}if(s!==0){if(a>=t.length)throw new Error("implementation bug");t.__setDigit(a++,s)}for(;a<t.length;a++)t.__setDigit(a,0)}static __toStringBasePowerOfTwo(t,r){var n=Math.clz32;const a=t.length;let s=r-1;s=(85&s>>>1)+(85&s),s=(51&s>>>2)+(51&s),s=(15&s>>>4)+(15&s);const u=s,c=r-1,f=t.__digit(a-1),h=n(f);let d=0|(32*a-h+u-1)/u;if(t.sign&&d++,268435456<d)throw new Error("string too long");const y=Array(d);let _=d-1,w=0,S=0;for(let E=0;E<a-1;E++){const x=t.__digit(E),L=(w|x<<S)&c;y[_--]=ht.__kConversionChars[L];const U=u-S;for(w=x>>>U,S=32-U;S>=u;)y[_--]=ht.__kConversionChars[w&c],w>>>=u,S-=u}const A=(w|f<<S)&c;for(y[_--]=ht.__kConversionChars[A],w=f>>>u-S;w!==0;)y[_--]=ht.__kConversionChars[w&c],w>>>=u;if(t.sign&&(y[_--]="-"),_!=-1)throw new Error("implementation bug");return y.join("")}static __toStringGeneric(t,r,n){var a=Math.clz32;const s=t.length;if(s===0)return"";if(s===1){let E=t.__unsignedDigit(0).toString(r);return n===!1&&t.sign&&(E="-"+E),E}const u=32*s-a(t.__digit(s-1)),c=ht.__kMaxBitsPerChar[r],f=c-1;let h=u*ht.__kBitsPerCharTableMultiplier;h+=f-1,h=0|h/f;const d=h+1>>1,y=ht.exponentiate(ht.__oneDigit(r,!1),ht.__oneDigit(d,!1));let _,w;const S=y.__unsignedDigit(0);if(y.length===1&&65535>=S){_=new ht(t.length,!1),_.__initializeDigits();let E=0;for(let x=2*t.length-1;0<=x;x--){const L=E<<16|t.__halfDigit(x);_.__setHalfDigit(x,0|L/S),E=0|L%S}w=E.toString(r)}else{const E=ht.__absoluteDivLarge(t,y,!0,!0);_=E.quotient;const x=E.remainder.__trim();w=ht.__toStringGeneric(x,r,!0)}_.__trim();let A=ht.__toStringGeneric(_,r,!0);for(;w.length<d;)w="0"+w;return n===!1&&t.sign&&(A="-"+A),A+w}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,r){const n=t.sign;if(n!==r.sign)return ht.__unequalSign(n);const a=ht.__absoluteCompare(t,r);return 0<a?ht.__absoluteGreater(n):0>a?ht.__absoluteLess(n):0}static __compareToNumber(t,r){if(r|!0){const n=t.sign,a=0>r;if(n!==a)return ht.__unequalSign(n);if(t.length===0){if(a)throw new Error("implementation bug");return r===0?0:-1}if(1<t.length)return ht.__absoluteGreater(n);const s=Math.abs(r),u=t.__unsignedDigit(0);return u>s?ht.__absoluteGreater(n):u<s?ht.__absoluteLess(n):0}return ht.__compareToDouble(t,r)}static __compareToDouble(t,r){var n=Math.clz32;if(r!==r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const a=t.sign;if(a!==0>r)return ht.__unequalSign(a);if(r===0)throw new Error("implementation bug: should be handled elsewhere");if(t.length===0)return-1;ht.__kBitConversionDouble[0]=r;const s=2047&ht.__kBitConversionInts[1]>>>20;if(s==2047)throw new Error("implementation bug: handled elsewhere");const u=s-1023;if(0>u)return ht.__absoluteGreater(a);const c=t.length;let f=t.__digit(c-1);const h=n(f),d=32*c-h,y=u+1;if(d<y)return ht.__absoluteLess(a);if(d>y)return ht.__absoluteGreater(a);let _=1048576|1048575&ht.__kBitConversionInts[1],w=ht.__kBitConversionInts[0];const S=20,A=31-h;if(A!==(d-1)%31)throw new Error("implementation bug");let E,x=0;if(20>A){const L=S-A;x=L+32,E=_>>>L,_=_<<32-L|w>>>L,w<<=32-L}else if(A===20)x=32,E=_,_=w;else{const L=A-S;x=32-L,E=_<<L|w>>>32-L,_=w<<L}if(f>>>=0,E>>>=0,f>E)return ht.__absoluteGreater(a);if(f<E)return ht.__absoluteLess(a);for(let L=c-2;0<=L;L--){0<x?(x-=32,E=_>>>0,_=w,w=0):E=0;const U=t.__unsignedDigit(L);if(U>E)return ht.__absoluteGreater(a);if(U<E)return ht.__absoluteLess(a)}if(_!==0||w!==0){if(x===0)throw new Error("implementation bug");return ht.__absoluteLess(a)}return 0}static __equalToNumber(t,r){var n=Math.abs;return r|r===0?r===0?t.length===0:t.length===1&&t.sign===0>r&&t.__unsignedDigit(0)===n(r):ht.__compareToDouble(t,r)===0}static __comparisonResultToBool(t,r){switch(r){case 0:return 0>t;case 1:return 0>=t;case 2:return 0<t;case 3:return 0<=t}throw new Error("unreachable")}static __compare(t,r,n){if(t=ht.__toPrimitive(t),r=ht.__toPrimitive(r),typeof t=="string"&&typeof r=="string")switch(n){case 0:return t<r;case 1:return t<=r;case 2:return t>r;case 3:return t>=r}if(ht.__isBigInt(t)&&typeof r=="string")return r=ht.__fromString(r),r!==null&&ht.__comparisonResultToBool(ht.__compareToBigInt(t,r),n);if(typeof t=="string"&&ht.__isBigInt(r))return t=ht.__fromString(t),t!==null&&ht.__comparisonResultToBool(ht.__compareToBigInt(t,r),n);if(t=ht.__toNumeric(t),r=ht.__toNumeric(r),ht.__isBigInt(t)){if(ht.__isBigInt(r))return ht.__comparisonResultToBool(ht.__compareToBigInt(t,r),n);if(typeof r!="number")throw new Error("implementation bug");return ht.__comparisonResultToBool(ht.__compareToNumber(t,r),n)}if(typeof t!="number")throw new Error("implementation bug");if(ht.__isBigInt(r))return ht.__comparisonResultToBool(ht.__compareToNumber(r,t),2^n);if(typeof r!="number")throw new Error("implementation bug");return n===0?t<r:n===1?t<=r:n===2?t>r:n===3?t>=r:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(t,r,n){if(t.length<r.length)return ht.__absoluteAdd(r,t,n);if(t.length===0)return t;if(r.length===0)return t.sign===n?t:ht.unaryMinus(t);let a=t.length;(t.__clzmsd()===0||r.length===t.length&&r.__clzmsd()===0)&&a++;const s=new ht(a,n);let u=0,c=0;for(;c<r.length;c++){const f=r.__digit(c),h=t.__digit(c),d=(65535&h)+(65535&f)+u,y=(h>>>16)+(f>>>16)+(d>>>16);u=y>>>16,s.__setDigit(c,65535&d|y<<16)}for(;c<t.length;c++){const f=t.__digit(c),h=(65535&f)+u,d=(f>>>16)+(h>>>16);u=d>>>16,s.__setDigit(c,65535&h|d<<16)}return c<s.length&&s.__setDigit(c,u),s.__trim()}static __absoluteSub(t,r,n){if(t.length===0)return t;if(r.length===0)return t.sign===n?t:ht.unaryMinus(t);const a=new ht(t.length,n);let s=0,u=0;for(;u<r.length;u++){const c=t.__digit(u),f=r.__digit(u),h=(65535&c)-(65535&f)-s;s=1&h>>>16;const d=(c>>>16)-(f>>>16)-s;s=1&d>>>16,a.__setDigit(u,65535&h|d<<16)}for(;u<t.length;u++){const c=t.__digit(u),f=(65535&c)-s;s=1&f>>>16;const h=(c>>>16)-s;s=1&h>>>16,a.__setDigit(u,65535&f|h<<16)}return a.__trim()}static __absoluteAddOne(t,r,n=null){const a=t.length;n===null?n=new ht(a,r):n.sign=r;let s=!0;for(let u,c=0;c<a;c++){if(u=t.__digit(c),s){const f=u===-1;u=0|u+1,s=f}n.__setDigit(c,u)}return s&&n.__setDigitGrow(a,1),n}static __absoluteSubOne(t,r){const n=t.length;r=r||n;const a=new ht(r,!1);let s=!0;for(let u,c=0;c<n;c++){if(u=t.__digit(c),s){const f=u===0;u=0|u-1,s=f}a.__setDigit(c,u)}if(s)throw new Error("implementation bug");for(let u=n;u<r;u++)a.__setDigit(u,0);return a}static __absoluteAnd(t,r,n=null){let a=t.length,s=r.length,u=s;if(a<s){u=a;const h=t,d=a;t=r,a=s,r=h,s=d}let c=u;n===null?n=new ht(c,!1):c=n.length;let f=0;for(;f<u;f++)n.__setDigit(f,t.__digit(f)&r.__digit(f));for(;f<c;f++)n.__setDigit(f,0);return n}static __absoluteAndNot(t,r,n=null){const a=t.length,s=r.length;let u=s;a<s&&(u=a);let c=a;n===null?n=new ht(c,!1):c=n.length;let f=0;for(;f<u;f++)n.__setDigit(f,t.__digit(f)&~r.__digit(f));for(;f<a;f++)n.__setDigit(f,t.__digit(f));for(;f<c;f++)n.__setDigit(f,0);return n}static __absoluteOr(t,r,n=null){let a=t.length,s=r.length,u=s;if(a<s){u=a;const h=t,d=a;t=r,a=s,r=h,s=d}let c=a;n===null?n=new ht(c,!1):c=n.length;let f=0;for(;f<u;f++)n.__setDigit(f,t.__digit(f)|r.__digit(f));for(;f<a;f++)n.__setDigit(f,t.__digit(f));for(;f<c;f++)n.__setDigit(f,0);return n}static __absoluteXor(t,r,n=null){let a=t.length,s=r.length,u=s;if(a<s){u=a;const h=t,d=a;t=r,a=s,r=h,s=d}let c=a;n===null?n=new ht(c,!1):c=n.length;let f=0;for(;f<u;f++)n.__setDigit(f,t.__digit(f)^r.__digit(f));for(;f<a;f++)n.__setDigit(f,t.__digit(f));for(;f<c;f++)n.__setDigit(f,0);return n}static __absoluteCompare(t,r){const n=t.length-r.length;if(n!=0)return n;let a=t.length-1;for(;0<=a&&t.__digit(a)===r.__digit(a);)a--;return 0>a?0:t.__unsignedDigit(a)>r.__unsignedDigit(a)?1:-1}static __multiplyAccumulate(t,r,n,a){var s=Math.imul;if(r===0)return;const u=65535&r,c=r>>>16;let f=0,h=0,d=0;for(let y=0;y<t.length;y++,a++){let _=n.__digit(a),w=65535&_,S=_>>>16;const A=t.__digit(y),E=65535&A,x=A>>>16,L=s(E,u),U=s(E,c),O=s(x,u),H=s(x,c);w+=h+(65535&L),S+=d+f+(w>>>16)+(L>>>16)+(65535&U)+(65535&O),f=S>>>16,h=(U>>>16)+(O>>>16)+(65535&H)+f,f=h>>>16,h&=65535,d=H>>>16,_=65535&w|S<<16,n.__setDigit(a,_)}for(;f!=0||h!==0||d!==0;a++){let y=n.__digit(a);const _=(65535&y)+h,w=(y>>>16)+(_>>>16)+d+f;h=0,d=0,f=w>>>16,y=65535&_|w<<16,n.__setDigit(a,y)}}static __internalMultiplyAdd(t,r,n,a,s){var u=Math.imul;let c=n,f=0;for(let h=0;h<a;h++){const d=t.__digit(h),y=u(65535&d,r),_=(65535&y)+f+c;c=_>>>16;const w=u(d>>>16,r),S=(65535&w)+(y>>>16)+c;c=S>>>16,f=w>>>16,s.__setDigit(h,S<<16|65535&_)}if(s.length>a)for(s.__setDigit(a++,c+f);a<s.length;)s.__setDigit(a++,0);else if(c+f!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,r,n){var a=Math.imul;n>this.length&&(n=this.length);const s=65535&t,u=t>>>16;let c=0,f=65535&r,h=r>>>16;for(let d=0;d<n;d++){const y=this.__digit(d),_=65535&y,w=y>>>16,S=a(_,s),A=a(_,u),E=a(w,s),x=a(w,u),L=f+(65535&S),U=h+c+(L>>>16)+(S>>>16)+(65535&A)+(65535&E);f=(A>>>16)+(E>>>16)+(65535&x)+(U>>>16),c=f>>>16,f&=65535,h=x>>>16,this.__setDigit(d,65535&L|U<<16)}if(c!=0||f!==0||h!==0)throw new Error("implementation bug")}static __absoluteDivSmall(t,r,n){n===null&&(n=new ht(t.length,!1));let a=0;for(let s,u=2*t.length-1;0<=u;u-=2){s=(a<<16|t.__halfDigit(u))>>>0;const c=0|s/r;a=0|s%r,s=(a<<16|t.__halfDigit(u-1))>>>0;const f=0|s/r;a=0|s%r,n.__setDigit(u>>>1,c<<16|f)}return n}static __absoluteModSmall(t,r){let n=0;for(let a=2*t.length-1;0<=a;a--)n=0|((n<<16|t.__halfDigit(a))>>>0)%r;return n}static __absoluteDivLarge(t,r,n,a){var s=Math.imul;const u=r.__halfDigitLength(),c=r.length,f=t.__halfDigitLength()-u;let h=null;n&&(h=new ht(f+2>>>1,!1),h.__initializeDigits());const d=new ht(u+2>>>1,!1);d.__initializeDigits();const y=ht.__clz16(r.__halfDigit(u-1));0<y&&(r=ht.__specialLeftShift(r,y,0));const _=ht.__specialLeftShift(t,y,1),w=r.__halfDigit(u-1);let S=0;for(let A,E=f;0<=E;E--){A=65535;const x=_.__halfDigit(E+u);if(x!==w){const U=(x<<16|_.__halfDigit(E+u-1))>>>0;A=0|U/w;let O=0|U%w;const H=r.__halfDigit(u-2),P=_.__halfDigit(E+u-2);for(;s(A,H)>>>0>(O<<16|P)>>>0&&(A--,O+=w,!(65535<O)););}ht.__internalMultiplyAdd(r,A,0,c,d);let L=_.__inplaceSub(d,E,u+1);L!==0&&(L=_.__inplaceAdd(r,E,u),_.__setHalfDigit(E+u,_.__halfDigit(E+u)+L),A--),n&&(1&E?S=A<<16:h.__setDigit(E>>>1,S|A))}return a?(_.__inplaceRightShift(y),n?{quotient:h,remainder:_}:_):n?h:void 0}static __clz16(t){return Math.clz32(t)-16}__inplaceAdd(t,r,n){let a=0;for(let s=0;s<n;s++){const u=this.__halfDigit(r+s)+t.__halfDigit(s)+a;a=u>>>16,this.__setHalfDigit(r+s,u)}return a}__inplaceSub(t,r,n){let a=0;if(1&r){r>>=1;let s=this.__digit(r),u=65535&s,c=0;for(;c<n-1>>>1;c++){const d=t.__digit(c),y=(s>>>16)-(65535&d)-a;a=1&y>>>16,this.__setDigit(r+c,y<<16|65535&u),s=this.__digit(r+c+1),u=(65535&s)-(d>>>16)-a,a=1&u>>>16}const f=t.__digit(c),h=(s>>>16)-(65535&f)-a;if(a=1&h>>>16,this.__setDigit(r+c,h<<16|65535&u),r+c+1>=this.length)throw new RangeError("out of bounds");(1&n)==0&&(s=this.__digit(r+c+1),u=(65535&s)-(f>>>16)-a,a=1&u>>>16,this.__setDigit(r+t.length,4294901760&s|65535&u))}else{r>>=1;let s=0;for(;s<t.length-1;s++){const d=this.__digit(r+s),y=t.__digit(s),_=(65535&d)-(65535&y)-a;a=1&_>>>16;const w=(d>>>16)-(y>>>16)-a;a=1&w>>>16,this.__setDigit(r+s,w<<16|65535&_)}const u=this.__digit(r+s),c=t.__digit(s),f=(65535&u)-(65535&c)-a;a=1&f>>>16;let h=0;(1&n)==0&&(h=(u>>>16)-(c>>>16)-a,a=1&h>>>16),this.__setDigit(r+s,h<<16|65535&f)}return a}__inplaceRightShift(t){if(t===0)return;let r=this.__digit(0)>>>t;const n=this.length-1;for(let a=0;a<n;a++){const s=this.__digit(a+1);this.__setDigit(a,s<<32-t|r),r=s>>>t}this.__setDigit(n,r)}static __specialLeftShift(t,r,n){const a=t.length,s=new ht(a+n,!1);if(r===0){for(let c=0;c<a;c++)s.__setDigit(c,t.__digit(c));return 0<n&&s.__setDigit(a,0),s}let u=0;for(let c=0;c<a;c++){const f=t.__digit(c);s.__setDigit(c,f<<r|u),u=f>>>32-r}return 0<n&&s.__setDigit(a,u),s}static __leftShiftByAbsolute(t,r){const n=ht.__toShiftAmount(r);if(0>n)throw new RangeError("BigInt too big");const a=n>>>5,s=31&n,u=t.length,c=s!==0&&t.__digit(u-1)>>>32-s!=0,f=u+a+(c?1:0),h=new ht(f,t.sign);if(s===0){let d=0;for(;d<a;d++)h.__setDigit(d,0);for(;d<f;d++)h.__setDigit(d,t.__digit(d-a))}else{let d=0;for(let y=0;y<a;y++)h.__setDigit(y,0);for(let y=0;y<u;y++){const _=t.__digit(y);h.__setDigit(y+a,_<<s|d),d=_>>>32-s}if(c)h.__setDigit(u+a,d);else if(d!==0)throw new Error("implementation bug")}return h.__trim()}static __rightShiftByAbsolute(t,r){const n=t.length,a=t.sign,s=ht.__toShiftAmount(r);if(0>s)return ht.__rightShiftByMaximum(a);const u=s>>>5,c=31&s;let f=n-u;if(0>=f)return ht.__rightShiftByMaximum(a);let h=!1;if(a){if((t.__digit(u)&(1<<c)-1)!=0)h=!0;else for(let y=0;y<u;y++)if(t.__digit(y)!==0){h=!0;break}}h&&c===0&&~t.__digit(n-1)==0&&f++;let d=new ht(f,a);if(c===0)for(let y=u;y<n;y++)d.__setDigit(y-u,t.__digit(y));else{let y=t.__digit(u)>>>c;const _=n-u-1;for(let w=0;w<_;w++){const S=t.__digit(w+u+1);d.__setDigit(w,S<<32-c|y),y=S>>>c}d.__setDigit(_,y)}return h&&(d=ht.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(t){return t?ht.__oneDigit(1,!0):ht.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const r=t.__unsignedDigit(0);return r>ht.__kMaxLengthBits?-1:r}static __toPrimitive(t,r="default"){if(typeof t!="object"||t.constructor===ht)return t;const n=t[Symbol.toPrimitive];if(n){const u=n(r);if(typeof u!="object")return u;throw new TypeError("Cannot convert object to primitive value")}const a=t.valueOf;if(a){const u=a.call(t);if(typeof u!="object")return u}const s=t.toString;if(s){const u=s.call(t);if(typeof u!="object")return u}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return ht.__isBigInt(t)?t:+t}static __isBigInt(t){return typeof t=="object"&&t.constructor===ht}static __truncateToNBits(t,r){const n=t+31>>>5,a=new ht(n,r.sign),s=n-1;for(let c=0;c<s;c++)a.__setDigit(c,r.__digit(c));let u=r.__digit(s);if((31&t)!=0){const c=32-(31&t);u=u<<c>>>c}return a.__setDigit(s,u),a.__trim()}static __truncateAndSubFromPowerOfTwo(t,r,n){var a=Math.min;const s=t+31>>>5,u=new ht(s,n);let c=0;const f=s-1;let h=0;for(const w=a(f,r.length);c<w;c++){const S=r.__digit(c),A=0-(65535&S)-h;h=1&A>>>16;const E=0-(S>>>16)-h;h=1&E>>>16,u.__setDigit(c,65535&A|E<<16)}for(;c<f;c++)u.__setDigit(c,0|-h);let d=f<r.length?r.__digit(f):0;const y=31&t;let _;if(y==0){const w=0-(65535&d)-h;h=1&w>>>16;const S=0-(d>>>16)-h;_=65535&w|S<<16}else{const w=32-y;d=d<<w>>>w;const S=1<<32-w,A=(65535&S)-(65535&d)-h;h=1&A>>>16;const E=(S>>>16)-(d>>>16)-h;_=65535&A|E<<16,_&=S-1}return u.__setDigit(f,_),u.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,r){this[t]=0|r}__setDigitGrow(t,r){this[t]=0|r}__halfDigitLength(){const t=this.length;return 65535>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 65535&this[t>>>1]>>>((1&t)<<4)}__setHalfDigit(t,r){const n=t>>>1,a=this.__digit(n),s=1&t?65535&a|r<<16:4294901760&a|65535&r;this.__setDigit(n,s)}static __digitPow(t,r){let n=1;for(;0<r;)1&r&&(n*=t),r>>>=1,t*=t;return n}}ht.__kMaxLength=33554432,ht.__kMaxLengthBits=ht.__kMaxLength<<5,ht.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ht.__kBitsPerCharTableShift=5,ht.__kBitsPerCharTableMultiplier=1<<ht.__kBitsPerCharTableShift,ht.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ht.__kBitConversionBuffer=new ArrayBuffer(8),ht.__kBitConversionDouble=new Float64Array(ht.__kBitConversionBuffer),ht.__kBitConversionInts=new Int32Array(ht.__kBitConversionBuffer);var Kb={};const cL="6.6.1",fL={version:cL};var Qb={},Up={exports:{}};const lL={},hL=Object.freeze(Object.defineProperty({__proto__:null,default:lL},Symbol.toStringTag,{value:"Module"})),zd=wx(hL);var dL=Up.exports,dE;function Ya(){return dE||(dE=1,function(e){(function(t,r){function n(z,I){if(!z)throw new Error(I||"Assertion failed")}function a(z,I){z.super_=I;var M=function(){};M.prototype=I.prototype,z.prototype=new M,z.prototype.constructor=z}function s(z,I,M){if(s.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((I==="le"||I==="be")&&(M=I,I=10),this._init(z||0,I||10,M||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=zd.Buffer}catch{}s.isBN=function(I){return I instanceof s?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===s.wordSize&&Array.isArray(I.words)},s.max=function(I,M){return I.cmp(M)>0?I:M},s.min=function(I,M){return I.cmp(M)<0?I:M},s.prototype._init=function(I,M,m){if(typeof I=="number")return this._initNumber(I,M,m);if(typeof I=="object")return this._initArray(I,M,m);M==="hex"&&(M=16),n(M===(M|0)&&M>=2&&M<=36),I=I.toString().replace(/\s+/g,"");var C=0;I[0]==="-"&&(C++,this.negative=1),C<I.length&&(M===16?this._parseHex(I,C,m):(this._parseBase(I,M,C),m==="le"&&this._initArray(this.toArray(),M,m)))},s.prototype._initNumber=function(I,M,m){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(n(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),M,m)},s.prototype._initArray=function(I,M,m){if(n(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var p,v,D=0;if(m==="be")for(C=I.length-1,p=0;C>=0;C-=3)v=I[C]|I[C-1]<<8|I[C-2]<<16,this.words[p]|=v<<D&67108863,this.words[p+1]=v>>>26-D&67108863,D+=24,D>=26&&(D-=26,p++);else if(m==="le")for(C=0,p=0;C<I.length;C+=3)v=I[C]|I[C+1]<<8|I[C+2]<<16,this.words[p]|=v<<D&67108863,this.words[p+1]=v>>>26-D&67108863,D+=24,D>=26&&(D-=26,p++);return this.strip()};function c(z,I){var M=z.charCodeAt(I);return M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:M-48&15}function f(z,I,M){var m=c(z,M);return M-1>=I&&(m|=c(z,M-1)<<4),m}s.prototype._parseHex=function(I,M,m){this.length=Math.ceil((I.length-M)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var p=0,v=0,D;if(m==="be")for(C=I.length-1;C>=M;C-=2)D=f(I,M,C)<<p,this.words[v]|=D&67108863,p>=18?(p-=18,v+=1,this.words[v]|=D>>>26):p+=8;else{var B=I.length-M;for(C=B%2===0?M+1:M;C<I.length;C+=2)D=f(I,M,C)<<p,this.words[v]|=D&67108863,p>=18?(p-=18,v+=1,this.words[v]|=D>>>26):p+=8}this.strip()};function h(z,I,M,m){for(var C=0,p=Math.min(z.length,M),v=I;v<p;v++){var D=z.charCodeAt(v)-48;C*=m,D>=49?C+=D-49+10:D>=17?C+=D-17+10:C+=D}return C}s.prototype._parseBase=function(I,M,m){this.words=[0],this.length=1;for(var C=0,p=1;p<=67108863;p*=M)C++;C--,p=p/M|0;for(var v=I.length-m,D=v%C,B=Math.min(v,v-D)+m,b=0,R=m;R<B;R+=C)b=h(I,R,R+C,M),this.imuln(p),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(D!==0){var Y=1;for(b=h(I,R,I.length,M),R=0;R<D;R++)Y*=M;this.imuln(Y),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},s.prototype.copy=function(I){I.words=new Array(this.length);for(var M=0;M<this.length;M++)I.words[M]=this.words[M];I.length=this.length,I.negative=this.negative,I.red=this.red},s.prototype.clone=function(){var I=new s(null);return this.copy(I),I},s.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(I,M){I=I||10,M=M|0||1;var m;if(I===16||I==="hex"){m="";for(var C=0,p=0,v=0;v<this.length;v++){var D=this.words[v],B=((D<<C|p)&16777215).toString(16);p=D>>>24-C&16777215,C+=2,C>=26&&(C-=26,v--),p!==0||v!==this.length-1?m=d[6-B.length]+B+m:m=B+m}for(p!==0&&(m=p.toString(16)+m);m.length%M!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(I===(I|0)&&I>=2&&I<=36){var b=y[I],R=_[I];m="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Q=Y.modn(R).toString(I);Y=Y.idivn(R),Y.isZero()?m=Q+m:m=d[b-Q.length]+Q+m}for(this.isZero()&&(m="0"+m);m.length%M!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(I,M){return n(typeof u<"u"),this.toArrayLike(u,I,M)},s.prototype.toArray=function(I,M){return this.toArrayLike(Array,I,M)},s.prototype.toArrayLike=function(I,M,m){var C=this.byteLength(),p=m||Math.max(1,C);n(C<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var v=M==="le",D=new I(p),B,b,R=this.clone();if(v){for(b=0;!R.isZero();b++)B=R.andln(255),R.iushrn(8),D[b]=B;for(;b<p;b++)D[b]=0}else{for(b=0;b<p-C;b++)D[b]=0;for(b=0;!R.isZero();b++)B=R.andln(255),R.iushrn(8),D[p-b-1]=B}return D},Math.clz32?s.prototype._countBits=function(I){return 32-Math.clz32(I)}:s.prototype._countBits=function(I){var M=I,m=0;return M>=4096&&(m+=13,M>>>=13),M>=64&&(m+=7,M>>>=7),M>=8&&(m+=4,M>>>=4),M>=2&&(m+=2,M>>>=2),m+M},s.prototype._zeroBits=function(I){if(I===0)return 26;var M=I,m=0;return(M&8191)===0&&(m+=13,M>>>=13),(M&127)===0&&(m+=7,M>>>=7),(M&15)===0&&(m+=4,M>>>=4),(M&3)===0&&(m+=2,M>>>=2),(M&1)===0&&m++,m},s.prototype.bitLength=function(){var I=this.words[this.length-1],M=this._countBits(I);return(this.length-1)*26+M};function w(z){for(var I=new Array(z.bitLength()),M=0;M<I.length;M++){var m=M/26|0,C=M%26;I[M]=(z.words[m]&1<<C)>>>C}return I}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,M=0;M<this.length;M++){var m=this._zeroBits(this.words[M]);if(I+=m,m!==26)break}return I},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},s.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var M=0;M<I.length;M++)this.words[M]=this.words[M]|I.words[M];return this.strip()},s.prototype.ior=function(I){return n((this.negative|I.negative)===0),this.iuor(I)},s.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},s.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},s.prototype.iuand=function(I){var M;this.length>I.length?M=I:M=this;for(var m=0;m<M.length;m++)this.words[m]=this.words[m]&I.words[m];return this.length=M.length,this.strip()},s.prototype.iand=function(I){return n((this.negative|I.negative)===0),this.iuand(I)},s.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},s.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},s.prototype.iuxor=function(I){var M,m;this.length>I.length?(M=this,m=I):(M=I,m=this);for(var C=0;C<m.length;C++)this.words[C]=M.words[C]^m.words[C];if(this!==M)for(;C<M.length;C++)this.words[C]=M.words[C];return this.length=M.length,this.strip()},s.prototype.ixor=function(I){return n((this.negative|I.negative)===0),this.iuxor(I)},s.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},s.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},s.prototype.inotn=function(I){n(typeof I=="number"&&I>=0);var M=Math.ceil(I/26)|0,m=I%26;this._expand(M),m>0&&M--;for(var C=0;C<M;C++)this.words[C]=~this.words[C]&67108863;return m>0&&(this.words[C]=~this.words[C]&67108863>>26-m),this.strip()},s.prototype.notn=function(I){return this.clone().inotn(I)},s.prototype.setn=function(I,M){n(typeof I=="number"&&I>=0);var m=I/26|0,C=I%26;return this._expand(m+1),M?this.words[m]=this.words[m]|1<<C:this.words[m]=this.words[m]&~(1<<C),this.strip()},s.prototype.iadd=function(I){var M;if(this.negative!==0&&I.negative===0)return this.negative=0,M=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,M=this.isub(I),I.negative=1,M._normSign();var m,C;this.length>I.length?(m=this,C=I):(m=I,C=this);for(var p=0,v=0;v<C.length;v++)M=(m.words[v]|0)+(C.words[v]|0)+p,this.words[v]=M&67108863,p=M>>>26;for(;p!==0&&v<m.length;v++)M=(m.words[v]|0)+p,this.words[v]=M&67108863,p=M>>>26;if(this.length=m.length,p!==0)this.words[this.length]=p,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},s.prototype.add=function(I){var M;return I.negative!==0&&this.negative===0?(I.negative=0,M=this.sub(I),I.negative^=1,M):I.negative===0&&this.negative!==0?(this.negative=0,M=I.sub(this),this.negative=1,M):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},s.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var M=this.iadd(I);return I.negative=1,M._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var m=this.cmp(I);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,p;m>0?(C=this,p=I):(C=I,p=this);for(var v=0,D=0;D<p.length;D++)M=(C.words[D]|0)-(p.words[D]|0)+v,v=M>>26,this.words[D]=M&67108863;for(;v!==0&&D<C.length;D++)M=(C.words[D]|0)+v,v=M>>26,this.words[D]=M&67108863;if(v===0&&D<C.length&&C!==this)for(;D<C.length;D++)this.words[D]=C.words[D];return this.length=Math.max(this.length,D),C!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(I){return this.clone().isub(I)};function S(z,I,M){M.negative=I.negative^z.negative;var m=z.length+I.length|0;M.length=m,m=m-1|0;var C=z.words[0]|0,p=I.words[0]|0,v=C*p,D=v&67108863,B=v/67108864|0;M.words[0]=D;for(var b=1;b<m;b++){for(var R=B>>>26,Y=B&67108863,Q=Math.min(b,I.length-1),W=Math.max(0,b-z.length+1);W<=Q;W++){var J=b-W|0;C=z.words[J]|0,p=I.words[W]|0,v=C*p+Y,R+=v/67108864|0,Y=v&67108863}M.words[b]=Y|0,B=R|0}return B!==0?M.words[b]=B|0:M.length--,M.strip()}var A=function(I,M,m){var C=I.words,p=M.words,v=m.words,D=0,B,b,R,Y=C[0]|0,Q=Y&8191,W=Y>>>13,J=C[1]|0,G=J&8191,et=J>>>13,it=C[2]|0,ut=it&8191,ct=it>>>13,tt=C[3]|0,V=tt&8191,ot=tt>>>13,mt=C[4]|0,Tt=mt&8191,st=mt>>>13,ft=C[5]|0,dt=ft&8191,At=ft>>>13,Nt=C[6]|0,Ot=Nt&8191,Pt=Nt>>>13,pe=C[7]|0,Xt=pe&8191,ne=pe>>>13,at=C[8]|0,$=at&8191,k=at>>>13,K=C[9]|0,nt=K&8191,pt=K>>>13,wt=p[0]|0,Ct=wt&8191,Kt=wt>>>13,se=p[1]|0,Wt=se&8191,Zt=se>>>13,_e=p[2]|0,Ae=_e&8191,Qe=_e>>>13,Ns=p[3]|0,De=Ns&8191,Ye=Ns>>>13,Yi=p[4]|0,ke=Yi&8191,Me=Yi>>>13,_a=p[5]|0,Ce=_a&8191,nr=_a>>>13,Vn=p[6]|0,ue=Vn&8191,le=Vn>>>13,Vi=p[7]|0,qe=Vi&8191,Ve=Vi>>>13,yi=p[8]|0,We=yi&8191,Re=yi>>>13,Us=p[9]|0,Ie=Us&8191,Te=Us>>>13;m.negative=I.negative^M.negative,m.length=19,B=Math.imul(Q,Ct),b=Math.imul(Q,Kt),b=b+Math.imul(W,Ct)|0,R=Math.imul(W,Kt);var Ir=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,B=Math.imul(G,Ct),b=Math.imul(G,Kt),b=b+Math.imul(et,Ct)|0,R=Math.imul(et,Kt),B=B+Math.imul(Q,Wt)|0,b=b+Math.imul(Q,Zt)|0,b=b+Math.imul(W,Wt)|0,R=R+Math.imul(W,Zt)|0;var bi=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(bi>>>26)|0,bi&=67108863,B=Math.imul(ut,Ct),b=Math.imul(ut,Kt),b=b+Math.imul(ct,Ct)|0,R=Math.imul(ct,Kt),B=B+Math.imul(G,Wt)|0,b=b+Math.imul(G,Zt)|0,b=b+Math.imul(et,Wt)|0,R=R+Math.imul(et,Zt)|0,B=B+Math.imul(Q,Ae)|0,b=b+Math.imul(Q,Qe)|0,b=b+Math.imul(W,Ae)|0,R=R+Math.imul(W,Qe)|0;var ir=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(ir>>>26)|0,ir&=67108863,B=Math.imul(V,Ct),b=Math.imul(V,Kt),b=b+Math.imul(ot,Ct)|0,R=Math.imul(ot,Kt),B=B+Math.imul(ut,Wt)|0,b=b+Math.imul(ut,Zt)|0,b=b+Math.imul(ct,Wt)|0,R=R+Math.imul(ct,Zt)|0,B=B+Math.imul(G,Ae)|0,b=b+Math.imul(G,Qe)|0,b=b+Math.imul(et,Ae)|0,R=R+Math.imul(et,Qe)|0,B=B+Math.imul(Q,De)|0,b=b+Math.imul(Q,Ye)|0,b=b+Math.imul(W,De)|0,R=R+Math.imul(W,Ye)|0;var Ps=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(Ps>>>26)|0,Ps&=67108863,B=Math.imul(Tt,Ct),b=Math.imul(Tt,Kt),b=b+Math.imul(st,Ct)|0,R=Math.imul(st,Kt),B=B+Math.imul(V,Wt)|0,b=b+Math.imul(V,Zt)|0,b=b+Math.imul(ot,Wt)|0,R=R+Math.imul(ot,Zt)|0,B=B+Math.imul(ut,Ae)|0,b=b+Math.imul(ut,Qe)|0,b=b+Math.imul(ct,Ae)|0,R=R+Math.imul(ct,Qe)|0,B=B+Math.imul(G,De)|0,b=b+Math.imul(G,Ye)|0,b=b+Math.imul(et,De)|0,R=R+Math.imul(et,Ye)|0,B=B+Math.imul(Q,ke)|0,b=b+Math.imul(Q,Me)|0,b=b+Math.imul(W,ke)|0,R=R+Math.imul(W,Me)|0;var ks=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(ks>>>26)|0,ks&=67108863,B=Math.imul(dt,Ct),b=Math.imul(dt,Kt),b=b+Math.imul(At,Ct)|0,R=Math.imul(At,Kt),B=B+Math.imul(Tt,Wt)|0,b=b+Math.imul(Tt,Zt)|0,b=b+Math.imul(st,Wt)|0,R=R+Math.imul(st,Zt)|0,B=B+Math.imul(V,Ae)|0,b=b+Math.imul(V,Qe)|0,b=b+Math.imul(ot,Ae)|0,R=R+Math.imul(ot,Qe)|0,B=B+Math.imul(ut,De)|0,b=b+Math.imul(ut,Ye)|0,b=b+Math.imul(ct,De)|0,R=R+Math.imul(ct,Ye)|0,B=B+Math.imul(G,ke)|0,b=b+Math.imul(G,Me)|0,b=b+Math.imul(et,ke)|0,R=R+Math.imul(et,Me)|0,B=B+Math.imul(Q,Ce)|0,b=b+Math.imul(Q,nr)|0,b=b+Math.imul(W,Ce)|0,R=R+Math.imul(W,nr)|0;var $n=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+($n>>>26)|0,$n&=67108863,B=Math.imul(Ot,Ct),b=Math.imul(Ot,Kt),b=b+Math.imul(Pt,Ct)|0,R=Math.imul(Pt,Kt),B=B+Math.imul(dt,Wt)|0,b=b+Math.imul(dt,Zt)|0,b=b+Math.imul(At,Wt)|0,R=R+Math.imul(At,Zt)|0,B=B+Math.imul(Tt,Ae)|0,b=b+Math.imul(Tt,Qe)|0,b=b+Math.imul(st,Ae)|0,R=R+Math.imul(st,Qe)|0,B=B+Math.imul(V,De)|0,b=b+Math.imul(V,Ye)|0,b=b+Math.imul(ot,De)|0,R=R+Math.imul(ot,Ye)|0,B=B+Math.imul(ut,ke)|0,b=b+Math.imul(ut,Me)|0,b=b+Math.imul(ct,ke)|0,R=R+Math.imul(ct,Me)|0,B=B+Math.imul(G,Ce)|0,b=b+Math.imul(G,nr)|0,b=b+Math.imul(et,Ce)|0,R=R+Math.imul(et,nr)|0,B=B+Math.imul(Q,ue)|0,b=b+Math.imul(Q,le)|0,b=b+Math.imul(W,ue)|0,R=R+Math.imul(W,le)|0;var Mr=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,B=Math.imul(Xt,Ct),b=Math.imul(Xt,Kt),b=b+Math.imul(ne,Ct)|0,R=Math.imul(ne,Kt),B=B+Math.imul(Ot,Wt)|0,b=b+Math.imul(Ot,Zt)|0,b=b+Math.imul(Pt,Wt)|0,R=R+Math.imul(Pt,Zt)|0,B=B+Math.imul(dt,Ae)|0,b=b+Math.imul(dt,Qe)|0,b=b+Math.imul(At,Ae)|0,R=R+Math.imul(At,Qe)|0,B=B+Math.imul(Tt,De)|0,b=b+Math.imul(Tt,Ye)|0,b=b+Math.imul(st,De)|0,R=R+Math.imul(st,Ye)|0,B=B+Math.imul(V,ke)|0,b=b+Math.imul(V,Me)|0,b=b+Math.imul(ot,ke)|0,R=R+Math.imul(ot,Me)|0,B=B+Math.imul(ut,Ce)|0,b=b+Math.imul(ut,nr)|0,b=b+Math.imul(ct,Ce)|0,R=R+Math.imul(ct,nr)|0,B=B+Math.imul(G,ue)|0,b=b+Math.imul(G,le)|0,b=b+Math.imul(et,ue)|0,R=R+Math.imul(et,le)|0,B=B+Math.imul(Q,qe)|0,b=b+Math.imul(Q,Ve)|0,b=b+Math.imul(W,qe)|0,R=R+Math.imul(W,Ve)|0;var ru=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(ru>>>26)|0,ru&=67108863,B=Math.imul($,Ct),b=Math.imul($,Kt),b=b+Math.imul(k,Ct)|0,R=Math.imul(k,Kt),B=B+Math.imul(Xt,Wt)|0,b=b+Math.imul(Xt,Zt)|0,b=b+Math.imul(ne,Wt)|0,R=R+Math.imul(ne,Zt)|0,B=B+Math.imul(Ot,Ae)|0,b=b+Math.imul(Ot,Qe)|0,b=b+Math.imul(Pt,Ae)|0,R=R+Math.imul(Pt,Qe)|0,B=B+Math.imul(dt,De)|0,b=b+Math.imul(dt,Ye)|0,b=b+Math.imul(At,De)|0,R=R+Math.imul(At,Ye)|0,B=B+Math.imul(Tt,ke)|0,b=b+Math.imul(Tt,Me)|0,b=b+Math.imul(st,ke)|0,R=R+Math.imul(st,Me)|0,B=B+Math.imul(V,Ce)|0,b=b+Math.imul(V,nr)|0,b=b+Math.imul(ot,Ce)|0,R=R+Math.imul(ot,nr)|0,B=B+Math.imul(ut,ue)|0,b=b+Math.imul(ut,le)|0,b=b+Math.imul(ct,ue)|0,R=R+Math.imul(ct,le)|0,B=B+Math.imul(G,qe)|0,b=b+Math.imul(G,Ve)|0,b=b+Math.imul(et,qe)|0,R=R+Math.imul(et,Ve)|0,B=B+Math.imul(Q,We)|0,b=b+Math.imul(Q,Re)|0,b=b+Math.imul(W,We)|0,R=R+Math.imul(W,Re)|0;var qs=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(qs>>>26)|0,qs&=67108863,B=Math.imul(nt,Ct),b=Math.imul(nt,Kt),b=b+Math.imul(pt,Ct)|0,R=Math.imul(pt,Kt),B=B+Math.imul($,Wt)|0,b=b+Math.imul($,Zt)|0,b=b+Math.imul(k,Wt)|0,R=R+Math.imul(k,Zt)|0,B=B+Math.imul(Xt,Ae)|0,b=b+Math.imul(Xt,Qe)|0,b=b+Math.imul(ne,Ae)|0,R=R+Math.imul(ne,Qe)|0,B=B+Math.imul(Ot,De)|0,b=b+Math.imul(Ot,Ye)|0,b=b+Math.imul(Pt,De)|0,R=R+Math.imul(Pt,Ye)|0,B=B+Math.imul(dt,ke)|0,b=b+Math.imul(dt,Me)|0,b=b+Math.imul(At,ke)|0,R=R+Math.imul(At,Me)|0,B=B+Math.imul(Tt,Ce)|0,b=b+Math.imul(Tt,nr)|0,b=b+Math.imul(st,Ce)|0,R=R+Math.imul(st,nr)|0,B=B+Math.imul(V,ue)|0,b=b+Math.imul(V,le)|0,b=b+Math.imul(ot,ue)|0,R=R+Math.imul(ot,le)|0,B=B+Math.imul(ut,qe)|0,b=b+Math.imul(ut,Ve)|0,b=b+Math.imul(ct,qe)|0,R=R+Math.imul(ct,Ve)|0,B=B+Math.imul(G,We)|0,b=b+Math.imul(G,Re)|0,b=b+Math.imul(et,We)|0,R=R+Math.imul(et,Re)|0,B=B+Math.imul(Q,Ie)|0,b=b+Math.imul(Q,Te)|0,b=b+Math.imul(W,Ie)|0,R=R+Math.imul(W,Te)|0;var zs=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(zs>>>26)|0,zs&=67108863,B=Math.imul(nt,Wt),b=Math.imul(nt,Zt),b=b+Math.imul(pt,Wt)|0,R=Math.imul(pt,Zt),B=B+Math.imul($,Ae)|0,b=b+Math.imul($,Qe)|0,b=b+Math.imul(k,Ae)|0,R=R+Math.imul(k,Qe)|0,B=B+Math.imul(Xt,De)|0,b=b+Math.imul(Xt,Ye)|0,b=b+Math.imul(ne,De)|0,R=R+Math.imul(ne,Ye)|0,B=B+Math.imul(Ot,ke)|0,b=b+Math.imul(Ot,Me)|0,b=b+Math.imul(Pt,ke)|0,R=R+Math.imul(Pt,Me)|0,B=B+Math.imul(dt,Ce)|0,b=b+Math.imul(dt,nr)|0,b=b+Math.imul(At,Ce)|0,R=R+Math.imul(At,nr)|0,B=B+Math.imul(Tt,ue)|0,b=b+Math.imul(Tt,le)|0,b=b+Math.imul(st,ue)|0,R=R+Math.imul(st,le)|0,B=B+Math.imul(V,qe)|0,b=b+Math.imul(V,Ve)|0,b=b+Math.imul(ot,qe)|0,R=R+Math.imul(ot,Ve)|0,B=B+Math.imul(ut,We)|0,b=b+Math.imul(ut,Re)|0,b=b+Math.imul(ct,We)|0,R=R+Math.imul(ct,Re)|0,B=B+Math.imul(G,Ie)|0,b=b+Math.imul(G,Te)|0,b=b+Math.imul(et,Ie)|0,R=R+Math.imul(et,Te)|0;var nu=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(nu>>>26)|0,nu&=67108863,B=Math.imul(nt,Ae),b=Math.imul(nt,Qe),b=b+Math.imul(pt,Ae)|0,R=Math.imul(pt,Qe),B=B+Math.imul($,De)|0,b=b+Math.imul($,Ye)|0,b=b+Math.imul(k,De)|0,R=R+Math.imul(k,Ye)|0,B=B+Math.imul(Xt,ke)|0,b=b+Math.imul(Xt,Me)|0,b=b+Math.imul(ne,ke)|0,R=R+Math.imul(ne,Me)|0,B=B+Math.imul(Ot,Ce)|0,b=b+Math.imul(Ot,nr)|0,b=b+Math.imul(Pt,Ce)|0,R=R+Math.imul(Pt,nr)|0,B=B+Math.imul(dt,ue)|0,b=b+Math.imul(dt,le)|0,b=b+Math.imul(At,ue)|0,R=R+Math.imul(At,le)|0,B=B+Math.imul(Tt,qe)|0,b=b+Math.imul(Tt,Ve)|0,b=b+Math.imul(st,qe)|0,R=R+Math.imul(st,Ve)|0,B=B+Math.imul(V,We)|0,b=b+Math.imul(V,Re)|0,b=b+Math.imul(ot,We)|0,R=R+Math.imul(ot,Re)|0,B=B+Math.imul(ut,Ie)|0,b=b+Math.imul(ut,Te)|0,b=b+Math.imul(ct,Ie)|0,R=R+Math.imul(ct,Te)|0;var ma=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(ma>>>26)|0,ma&=67108863,B=Math.imul(nt,De),b=Math.imul(nt,Ye),b=b+Math.imul(pt,De)|0,R=Math.imul(pt,Ye),B=B+Math.imul($,ke)|0,b=b+Math.imul($,Me)|0,b=b+Math.imul(k,ke)|0,R=R+Math.imul(k,Me)|0,B=B+Math.imul(Xt,Ce)|0,b=b+Math.imul(Xt,nr)|0,b=b+Math.imul(ne,Ce)|0,R=R+Math.imul(ne,nr)|0,B=B+Math.imul(Ot,ue)|0,b=b+Math.imul(Ot,le)|0,b=b+Math.imul(Pt,ue)|0,R=R+Math.imul(Pt,le)|0,B=B+Math.imul(dt,qe)|0,b=b+Math.imul(dt,Ve)|0,b=b+Math.imul(At,qe)|0,R=R+Math.imul(At,Ve)|0,B=B+Math.imul(Tt,We)|0,b=b+Math.imul(Tt,Re)|0,b=b+Math.imul(st,We)|0,R=R+Math.imul(st,Re)|0,B=B+Math.imul(V,Ie)|0,b=b+Math.imul(V,Te)|0,b=b+Math.imul(ot,Ie)|0,R=R+Math.imul(ot,Te)|0;var Gn=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,B=Math.imul(nt,ke),b=Math.imul(nt,Me),b=b+Math.imul(pt,ke)|0,R=Math.imul(pt,Me),B=B+Math.imul($,Ce)|0,b=b+Math.imul($,nr)|0,b=b+Math.imul(k,Ce)|0,R=R+Math.imul(k,nr)|0,B=B+Math.imul(Xt,ue)|0,b=b+Math.imul(Xt,le)|0,b=b+Math.imul(ne,ue)|0,R=R+Math.imul(ne,le)|0,B=B+Math.imul(Ot,qe)|0,b=b+Math.imul(Ot,Ve)|0,b=b+Math.imul(Pt,qe)|0,R=R+Math.imul(Pt,Ve)|0,B=B+Math.imul(dt,We)|0,b=b+Math.imul(dt,Re)|0,b=b+Math.imul(At,We)|0,R=R+Math.imul(At,Re)|0,B=B+Math.imul(Tt,Ie)|0,b=b+Math.imul(Tt,Te)|0,b=b+Math.imul(st,Ie)|0,R=R+Math.imul(st,Te)|0;var vn=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(vn>>>26)|0,vn&=67108863,B=Math.imul(nt,Ce),b=Math.imul(nt,nr),b=b+Math.imul(pt,Ce)|0,R=Math.imul(pt,nr),B=B+Math.imul($,ue)|0,b=b+Math.imul($,le)|0,b=b+Math.imul(k,ue)|0,R=R+Math.imul(k,le)|0,B=B+Math.imul(Xt,qe)|0,b=b+Math.imul(Xt,Ve)|0,b=b+Math.imul(ne,qe)|0,R=R+Math.imul(ne,Ve)|0,B=B+Math.imul(Ot,We)|0,b=b+Math.imul(Ot,Re)|0,b=b+Math.imul(Pt,We)|0,R=R+Math.imul(Pt,Re)|0,B=B+Math.imul(dt,Ie)|0,b=b+Math.imul(dt,Te)|0,b=b+Math.imul(At,Ie)|0,R=R+Math.imul(At,Te)|0;var $a=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+($a>>>26)|0,$a&=67108863,B=Math.imul(nt,ue),b=Math.imul(nt,le),b=b+Math.imul(pt,ue)|0,R=Math.imul(pt,le),B=B+Math.imul($,qe)|0,b=b+Math.imul($,Ve)|0,b=b+Math.imul(k,qe)|0,R=R+Math.imul(k,Ve)|0,B=B+Math.imul(Xt,We)|0,b=b+Math.imul(Xt,Re)|0,b=b+Math.imul(ne,We)|0,R=R+Math.imul(ne,Re)|0,B=B+Math.imul(Ot,Ie)|0,b=b+Math.imul(Ot,Te)|0,b=b+Math.imul(Pt,Ie)|0,R=R+Math.imul(Pt,Te)|0;var wn=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(wn>>>26)|0,wn&=67108863,B=Math.imul(nt,qe),b=Math.imul(nt,Ve),b=b+Math.imul(pt,qe)|0,R=Math.imul(pt,Ve),B=B+Math.imul($,We)|0,b=b+Math.imul($,Re)|0,b=b+Math.imul(k,We)|0,R=R+Math.imul(k,Re)|0,B=B+Math.imul(Xt,Ie)|0,b=b+Math.imul(Xt,Te)|0,b=b+Math.imul(ne,Ie)|0,R=R+Math.imul(ne,Te)|0;var _i=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(_i>>>26)|0,_i&=67108863,B=Math.imul(nt,We),b=Math.imul(nt,Re),b=b+Math.imul(pt,We)|0,R=Math.imul(pt,Re),B=B+Math.imul($,Ie)|0,b=b+Math.imul($,Te)|0,b=b+Math.imul(k,Ie)|0,R=R+Math.imul(k,Te)|0;var Ga=(D+B|0)+((b&8191)<<13)|0;D=(R+(b>>>13)|0)+(Ga>>>26)|0,Ga&=67108863,B=Math.imul(nt,Ie),b=Math.imul(nt,Te),b=b+Math.imul(pt,Ie)|0,R=Math.imul(pt,Te);var Xa=(D+B|0)+((b&8191)<<13)|0;return D=(R+(b>>>13)|0)+(Xa>>>26)|0,Xa&=67108863,v[0]=Ir,v[1]=bi,v[2]=ir,v[3]=Ps,v[4]=ks,v[5]=$n,v[6]=Mr,v[7]=ru,v[8]=qs,v[9]=zs,v[10]=nu,v[11]=ma,v[12]=Gn,v[13]=vn,v[14]=$a,v[15]=wn,v[16]=_i,v[17]=Ga,v[18]=Xa,D!==0&&(v[19]=D,m.length++),m};Math.imul||(A=S);function E(z,I,M){M.negative=I.negative^z.negative,M.length=z.length+I.length;for(var m=0,C=0,p=0;p<M.length-1;p++){var v=C;C=0;for(var D=m&67108863,B=Math.min(p,I.length-1),b=Math.max(0,p-z.length+1);b<=B;b++){var R=p-b,Y=z.words[R]|0,Q=I.words[b]|0,W=Y*Q,J=W&67108863;v=v+(W/67108864|0)|0,J=J+D|0,D=J&67108863,v=v+(J>>>26)|0,C+=v>>>26,v&=67108863}M.words[p]=D,m=v,v=C}return m!==0?M.words[p]=m:M.length--,M.strip()}function x(z,I,M){var m=new L;return m.mulp(z,I,M)}s.prototype.mulTo=function(I,M){var m,C=this.length+I.length;return this.length===10&&I.length===10?m=A(this,I,M):C<63?m=S(this,I,M):C<1024?m=E(this,I,M):m=x(this,I,M),m};function L(z,I){this.x=z,this.y=I}L.prototype.makeRBT=function(I){for(var M=new Array(I),m=s.prototype._countBits(I)-1,C=0;C<I;C++)M[C]=this.revBin(C,m,I);return M},L.prototype.revBin=function(I,M,m){if(I===0||I===m-1)return I;for(var C=0,p=0;p<M;p++)C|=(I&1)<<M-p-1,I>>=1;return C},L.prototype.permute=function(I,M,m,C,p,v){for(var D=0;D<v;D++)C[D]=M[I[D]],p[D]=m[I[D]]},L.prototype.transform=function(I,M,m,C,p,v){this.permute(v,I,M,m,C,p);for(var D=1;D<p;D<<=1)for(var B=D<<1,b=Math.cos(2*Math.PI/B),R=Math.sin(2*Math.PI/B),Y=0;Y<p;Y+=B)for(var Q=b,W=R,J=0;J<D;J++){var G=m[Y+J],et=C[Y+J],it=m[Y+J+D],ut=C[Y+J+D],ct=Q*it-W*ut;ut=Q*ut+W*it,it=ct,m[Y+J]=G+it,C[Y+J]=et+ut,m[Y+J+D]=G-it,C[Y+J+D]=et-ut,J!==B&&(ct=b*Q-R*W,W=b*W+R*Q,Q=ct)}},L.prototype.guessLen13b=function(I,M){var m=Math.max(M,I)|1,C=m&1,p=0;for(m=m/2|0;m;m=m>>>1)p++;return 1<<p+1+C},L.prototype.conjugate=function(I,M,m){if(!(m<=1))for(var C=0;C<m/2;C++){var p=I[C];I[C]=I[m-C-1],I[m-C-1]=p,p=M[C],M[C]=-M[m-C-1],M[m-C-1]=-p}},L.prototype.normalize13b=function(I,M){for(var m=0,C=0;C<M/2;C++){var p=Math.round(I[2*C+1]/M)*8192+Math.round(I[2*C]/M)+m;I[C]=p&67108863,p<67108864?m=0:m=p/67108864|0}return I},L.prototype.convert13b=function(I,M,m,C){for(var p=0,v=0;v<M;v++)p=p+(I[v]|0),m[2*v]=p&8191,p=p>>>13,m[2*v+1]=p&8191,p=p>>>13;for(v=2*M;v<C;++v)m[v]=0;n(p===0),n((p&-8192)===0)},L.prototype.stub=function(I){for(var M=new Array(I),m=0;m<I;m++)M[m]=0;return M},L.prototype.mulp=function(I,M,m){var C=2*this.guessLen13b(I.length,M.length),p=this.makeRBT(C),v=this.stub(C),D=new Array(C),B=new Array(C),b=new Array(C),R=new Array(C),Y=new Array(C),Q=new Array(C),W=m.words;W.length=C,this.convert13b(I.words,I.length,D,C),this.convert13b(M.words,M.length,R,C),this.transform(D,v,B,b,C,p),this.transform(R,v,Y,Q,C,p);for(var J=0;J<C;J++){var G=B[J]*Y[J]-b[J]*Q[J];b[J]=B[J]*Q[J]+b[J]*Y[J],B[J]=G}return this.conjugate(B,b,C),this.transform(B,b,W,v,C,p),this.conjugate(W,v,C),this.normalize13b(W,C),m.negative=I.negative^M.negative,m.length=I.length+M.length,m.strip()},s.prototype.mul=function(I){var M=new s(null);return M.words=new Array(this.length+I.length),this.mulTo(I,M)},s.prototype.mulf=function(I){var M=new s(null);return M.words=new Array(this.length+I.length),x(this,I,M)},s.prototype.imul=function(I){return this.clone().mulTo(I,this)},s.prototype.imuln=function(I){n(typeof I=="number"),n(I<67108864);for(var M=0,m=0;m<this.length;m++){var C=(this.words[m]|0)*I,p=(C&67108863)+(M&67108863);M>>=26,M+=C/67108864|0,M+=p>>>26,this.words[m]=p&67108863}return M!==0&&(this.words[m]=M,this.length++),this},s.prototype.muln=function(I){return this.clone().imuln(I)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(I){var M=w(I);if(M.length===0)return new s(1);for(var m=this,C=0;C<M.length&&M[C]===0;C++,m=m.sqr());if(++C<M.length)for(var p=m.sqr();C<M.length;C++,p=p.sqr())M[C]!==0&&(m=m.mul(p));return m},s.prototype.iushln=function(I){n(typeof I=="number"&&I>=0);var M=I%26,m=(I-M)/26,C=67108863>>>26-M<<26-M,p;if(M!==0){var v=0;for(p=0;p<this.length;p++){var D=this.words[p]&C,B=(this.words[p]|0)-D<<M;this.words[p]=B|v,v=D>>>26-M}v&&(this.words[p]=v,this.length++)}if(m!==0){for(p=this.length-1;p>=0;p--)this.words[p+m]=this.words[p];for(p=0;p<m;p++)this.words[p]=0;this.length+=m}return this.strip()},s.prototype.ishln=function(I){return n(this.negative===0),this.iushln(I)},s.prototype.iushrn=function(I,M,m){n(typeof I=="number"&&I>=0);var C;M?C=(M-M%26)/26:C=0;var p=I%26,v=Math.min((I-p)/26,this.length),D=67108863^67108863>>>p<<p,B=m;if(C-=v,C=Math.max(0,C),B){for(var b=0;b<v;b++)B.words[b]=this.words[b];B.length=v}if(v!==0)if(this.length>v)for(this.length-=v,b=0;b<this.length;b++)this.words[b]=this.words[b+v];else this.words[0]=0,this.length=1;var R=0;for(b=this.length-1;b>=0&&(R!==0||b>=C);b--){var Y=this.words[b]|0;this.words[b]=R<<26-p|Y>>>p,R=Y&D}return B&&R!==0&&(B.words[B.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(I,M,m){return n(this.negative===0),this.iushrn(I,M,m)},s.prototype.shln=function(I){return this.clone().ishln(I)},s.prototype.ushln=function(I){return this.clone().iushln(I)},s.prototype.shrn=function(I){return this.clone().ishrn(I)},s.prototype.ushrn=function(I){return this.clone().iushrn(I)},s.prototype.testn=function(I){n(typeof I=="number"&&I>=0);var M=I%26,m=(I-M)/26,C=1<<M;if(this.length<=m)return!1;var p=this.words[m];return!!(p&C)},s.prototype.imaskn=function(I){n(typeof I=="number"&&I>=0);var M=I%26,m=(I-M)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(M!==0&&m++,this.length=Math.min(m,this.length),M!==0){var C=67108863^67108863>>>M<<M;this.words[this.length-1]&=C}return this.strip()},s.prototype.maskn=function(I){return this.clone().imaskn(I)},s.prototype.iaddn=function(I){return n(typeof I=="number"),n(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},s.prototype._iaddn=function(I){this.words[0]+=I;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},s.prototype.isubn=function(I){if(n(typeof I=="number"),n(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},s.prototype.addn=function(I){return this.clone().iaddn(I)},s.prototype.subn=function(I){return this.clone().isubn(I)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(I,M,m){var C=I.length+m,p;this._expand(C);var v,D=0;for(p=0;p<I.length;p++){v=(this.words[p+m]|0)+D;var B=(I.words[p]|0)*M;v-=B&67108863,D=(v>>26)-(B/67108864|0),this.words[p+m]=v&67108863}for(;p<this.length-m;p++)v=(this.words[p+m]|0)+D,D=v>>26,this.words[p+m]=v&67108863;if(D===0)return this.strip();for(n(D===-1),D=0,p=0;p<this.length;p++)v=-(this.words[p]|0)+D,D=v>>26,this.words[p]=v&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(I,M){var m=this.length-I.length,C=this.clone(),p=I,v=p.words[p.length-1]|0,D=this._countBits(v);m=26-D,m!==0&&(p=p.ushln(m),C.iushln(m),v=p.words[p.length-1]|0);var B=C.length-p.length,b;if(M!=="mod"){b=new s(null),b.length=B+1,b.words=new Array(b.length);for(var R=0;R<b.length;R++)b.words[R]=0}var Y=C.clone()._ishlnsubmul(p,1,B);Y.negative===0&&(C=Y,b&&(b.words[B]=1));for(var Q=B-1;Q>=0;Q--){var W=(C.words[p.length+Q]|0)*67108864+(C.words[p.length+Q-1]|0);for(W=Math.min(W/v|0,67108863),C._ishlnsubmul(p,W,Q);C.negative!==0;)W--,C.negative=0,C._ishlnsubmul(p,1,Q),C.isZero()||(C.negative^=1);b&&(b.words[Q]=W)}return b&&b.strip(),C.strip(),M!=="div"&&m!==0&&C.iushrn(m),{div:b||null,mod:C}},s.prototype.divmod=function(I,M,m){if(n(!I.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,p,v;return this.negative!==0&&I.negative===0?(v=this.neg().divmod(I,M),M!=="mod"&&(C=v.div.neg()),M!=="div"&&(p=v.mod.neg(),m&&p.negative!==0&&p.iadd(I)),{div:C,mod:p}):this.negative===0&&I.negative!==0?(v=this.divmod(I.neg(),M),M!=="mod"&&(C=v.div.neg()),{div:C,mod:v.mod}):(this.negative&I.negative)!==0?(v=this.neg().divmod(I.neg(),M),M!=="div"&&(p=v.mod.neg(),m&&p.negative!==0&&p.isub(I)),{div:v.div,mod:p}):I.length>this.length||this.cmp(I)<0?{div:new s(0),mod:this}:I.length===1?M==="div"?{div:this.divn(I.words[0]),mod:null}:M==="mod"?{div:null,mod:new s(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new s(this.modn(I.words[0]))}:this._wordDiv(I,M)},s.prototype.div=function(I){return this.divmod(I,"div",!1).div},s.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},s.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},s.prototype.divRound=function(I){var M=this.divmod(I);if(M.mod.isZero())return M.div;var m=M.div.negative!==0?M.mod.isub(I):M.mod,C=I.ushrn(1),p=I.andln(1),v=m.cmp(C);return v<0||p===1&&v===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},s.prototype.modn=function(I){n(I<=67108863);for(var M=(1<<26)%I,m=0,C=this.length-1;C>=0;C--)m=(M*m+(this.words[C]|0))%I;return m},s.prototype.idivn=function(I){n(I<=67108863);for(var M=0,m=this.length-1;m>=0;m--){var C=(this.words[m]|0)+M*67108864;this.words[m]=C/I|0,M=C%I}return this.strip()},s.prototype.divn=function(I){return this.clone().idivn(I)},s.prototype.egcd=function(I){n(I.negative===0),n(!I.isZero());var M=this,m=I.clone();M.negative!==0?M=M.umod(I):M=M.clone();for(var C=new s(1),p=new s(0),v=new s(0),D=new s(1),B=0;M.isEven()&&m.isEven();)M.iushrn(1),m.iushrn(1),++B;for(var b=m.clone(),R=M.clone();!M.isZero();){for(var Y=0,Q=1;(M.words[0]&Q)===0&&Y<26;++Y,Q<<=1);if(Y>0)for(M.iushrn(Y);Y-- >0;)(C.isOdd()||p.isOdd())&&(C.iadd(b),p.isub(R)),C.iushrn(1),p.iushrn(1);for(var W=0,J=1;(m.words[0]&J)===0&&W<26;++W,J<<=1);if(W>0)for(m.iushrn(W);W-- >0;)(v.isOdd()||D.isOdd())&&(v.iadd(b),D.isub(R)),v.iushrn(1),D.iushrn(1);M.cmp(m)>=0?(M.isub(m),C.isub(v),p.isub(D)):(m.isub(M),v.isub(C),D.isub(p))}return{a:v,b:D,gcd:m.iushln(B)}},s.prototype._invmp=function(I){n(I.negative===0),n(!I.isZero());var M=this,m=I.clone();M.negative!==0?M=M.umod(I):M=M.clone();for(var C=new s(1),p=new s(0),v=m.clone();M.cmpn(1)>0&&m.cmpn(1)>0;){for(var D=0,B=1;(M.words[0]&B)===0&&D<26;++D,B<<=1);if(D>0)for(M.iushrn(D);D-- >0;)C.isOdd()&&C.iadd(v),C.iushrn(1);for(var b=0,R=1;(m.words[0]&R)===0&&b<26;++b,R<<=1);if(b>0)for(m.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);M.cmp(m)>=0?(M.isub(m),C.isub(p)):(m.isub(M),p.isub(C))}var Y;return M.cmpn(1)===0?Y=C:Y=p,Y.cmpn(0)<0&&Y.iadd(I),Y},s.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var M=this.clone(),m=I.clone();M.negative=0,m.negative=0;for(var C=0;M.isEven()&&m.isEven();C++)M.iushrn(1),m.iushrn(1);do{for(;M.isEven();)M.iushrn(1);for(;m.isEven();)m.iushrn(1);var p=M.cmp(m);if(p<0){var v=M;M=m,m=v}else if(p===0||m.cmpn(1)===0)break;M.isub(m)}while(!0);return m.iushln(C)},s.prototype.invm=function(I){return this.egcd(I).a.umod(I)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(I){return this.words[0]&I},s.prototype.bincn=function(I){n(typeof I=="number");var M=I%26,m=(I-M)/26,C=1<<M;if(this.length<=m)return this._expand(m+1),this.words[m]|=C,this;for(var p=C,v=m;p!==0&&v<this.length;v++){var D=this.words[v]|0;D+=p,p=D>>>26,D&=67108863,this.words[v]=D}return p!==0&&(this.words[v]=p,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(I){var M=I<0;if(this.negative!==0&&!M)return-1;if(this.negative===0&&M)return 1;this.strip();var m;if(this.length>1)m=1;else{M&&(I=-I),n(I<=67108863,"Number is too big");var C=this.words[0]|0;m=C===I?0:C<I?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var M=this.ucmp(I);return this.negative!==0?-M|0:M},s.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var M=0,m=this.length-1;m>=0;m--){var C=this.words[m]|0,p=I.words[m]|0;if(C!==p){C<p?M=-1:C>p&&(M=1);break}}return M},s.prototype.gtn=function(I){return this.cmpn(I)===1},s.prototype.gt=function(I){return this.cmp(I)===1},s.prototype.gten=function(I){return this.cmpn(I)>=0},s.prototype.gte=function(I){return this.cmp(I)>=0},s.prototype.ltn=function(I){return this.cmpn(I)===-1},s.prototype.lt=function(I){return this.cmp(I)===-1},s.prototype.lten=function(I){return this.cmpn(I)<=0},s.prototype.lte=function(I){return this.cmp(I)<=0},s.prototype.eqn=function(I){return this.cmpn(I)===0},s.prototype.eq=function(I){return this.cmp(I)===0},s.red=function(I){return new F(I)},s.prototype.toRed=function(I){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(I){return this.red=I,this},s.prototype.forceRed=function(I){return n(!this.red,"Already a number in reduction context"),this._forceRed(I)},s.prototype.redAdd=function(I){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},s.prototype.redIAdd=function(I){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},s.prototype.redSub=function(I){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},s.prototype.redISub=function(I){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},s.prototype.redShl=function(I){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},s.prototype.redMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},s.prototype.redIMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(I){return n(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var U={k256:null,p224:null,p192:null,p25519:null};function O(z,I){this.name=z,this.p=new s(I,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var I=new s(null);return I.words=new Array(Math.ceil(this.n/13)),I},O.prototype.ireduce=function(I){var M=I,m;do this.split(M,this.tmp),M=this.imulK(M),M=M.iadd(this.tmp),m=M.bitLength();while(m>this.n);var C=m<this.n?-1:M.ucmp(this.p);return C===0?(M.words[0]=0,M.length=1):C>0?M.isub(this.p):M.strip!==void 0?M.strip():M._strip(),M},O.prototype.split=function(I,M){I.iushrn(this.n,0,M)},O.prototype.imulK=function(I){return I.imul(this.k)};function H(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(H,O),H.prototype.split=function(I,M){for(var m=4194303,C=Math.min(I.length,9),p=0;p<C;p++)M.words[p]=I.words[p];if(M.length=C,I.length<=9){I.words[0]=0,I.length=1;return}var v=I.words[9];for(M.words[M.length++]=v&m,p=10;p<I.length;p++){var D=I.words[p]|0;I.words[p-10]=(D&m)<<4|v>>>22,v=D}v>>>=22,I.words[p-10]=v,v===0&&I.length>10?I.length-=10:I.length-=9},H.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var M=0,m=0;m<I.length;m++){var C=I.words[m]|0;M+=C*977,I.words[m]=M&67108863,M=C*64+(M/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function P(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(P,O);function q(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,O);function j(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(j,O),j.prototype.imulK=function(I){for(var M=0,m=0;m<I.length;m++){var C=(I.words[m]|0)*19+M,p=C&67108863;C>>>=26,I.words[m]=p,M=C}return M!==0&&(I.words[I.length++]=M),I},s._prime=function(I){if(U[I])return U[I];var M;if(I==="k256")M=new H;else if(I==="p224")M=new P;else if(I==="p192")M=new q;else if(I==="p25519")M=new j;else throw new Error("Unknown prime "+I);return U[I]=M,M};function F(z){if(typeof z=="string"){var I=s._prime(z);this.m=I.p,this.prime=I}else n(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}F.prototype._verify1=function(I){n(I.negative===0,"red works only with positives"),n(I.red,"red works only with red numbers")},F.prototype._verify2=function(I,M){n((I.negative|M.negative)===0,"red works only with positives"),n(I.red&&I.red===M.red,"red works only with red numbers")},F.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},F.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},F.prototype.add=function(I,M){this._verify2(I,M);var m=I.add(M);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},F.prototype.iadd=function(I,M){this._verify2(I,M);var m=I.iadd(M);return m.cmp(this.m)>=0&&m.isub(this.m),m},F.prototype.sub=function(I,M){this._verify2(I,M);var m=I.sub(M);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},F.prototype.isub=function(I,M){this._verify2(I,M);var m=I.isub(M);return m.cmpn(0)<0&&m.iadd(this.m),m},F.prototype.shl=function(I,M){return this._verify1(I),this.imod(I.ushln(M))},F.prototype.imul=function(I,M){return this._verify2(I,M),this.imod(I.imul(M))},F.prototype.mul=function(I,M){return this._verify2(I,M),this.imod(I.mul(M))},F.prototype.isqr=function(I){return this.imul(I,I.clone())},F.prototype.sqr=function(I){return this.mul(I,I)},F.prototype.sqrt=function(I){if(I.isZero())return I.clone();var M=this.m.andln(3);if(n(M%2===1),M===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(I,m)}for(var C=this.m.subn(1),p=0;!C.isZero()&&C.andln(1)===0;)p++,C.iushrn(1);n(!C.isZero());var v=new s(1).toRed(this),D=v.redNeg(),B=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new s(2*b*b).toRed(this);this.pow(b,B).cmp(D)!==0;)b.redIAdd(D);for(var R=this.pow(b,C),Y=this.pow(I,C.addn(1).iushrn(1)),Q=this.pow(I,C),W=p;Q.cmp(v)!==0;){for(var J=Q,G=0;J.cmp(v)!==0;G++)J=J.redSqr();n(G<W);var et=this.pow(R,new s(1).iushln(W-G-1));Y=Y.redMul(et),R=et.redSqr(),Q=Q.redMul(R),W=G}return Y},F.prototype.invm=function(I){var M=I._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},F.prototype.pow=function(I,M){if(M.isZero())return new s(1).toRed(this);if(M.cmpn(1)===0)return I.clone();var m=4,C=new Array(1<<m);C[0]=new s(1).toRed(this),C[1]=I;for(var p=2;p<C.length;p++)C[p]=this.mul(C[p-1],I);var v=C[0],D=0,B=0,b=M.bitLength()%26;for(b===0&&(b=26),p=M.length-1;p>=0;p--){for(var R=M.words[p],Y=b-1;Y>=0;Y--){var Q=R>>Y&1;if(v!==C[0]&&(v=this.sqr(v)),Q===0&&D===0){B=0;continue}D<<=1,D|=Q,B++,!(B!==m&&(p!==0||Y!==0))&&(v=this.mul(v,C[D]),B=0,D=0)}b=26}return v},F.prototype.convertTo=function(I){var M=I.umod(this.m);return M===I?M.clone():M},F.prototype.convertFrom=function(I){var M=I.clone();return M.red=null,M},s.mont=function(I){return new X(I)};function X(z){F.call(this,z),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(X,F),X.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},X.prototype.convertFrom=function(I){var M=this.imod(I.mul(this.rinv));return M.red=null,M},X.prototype.imul=function(I,M){if(I.isZero()||M.isZero())return I.words[0]=0,I.length=1,I;var m=I.imul(M),C=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=m.isub(C).iushrn(this.shift),v=p;return p.cmp(this.m)>=0?v=p.isub(this.m):p.cmpn(0)<0&&(v=p.iadd(this.m)),v._forceRed(this)},X.prototype.mul=function(I,M){if(I.isZero()||M.isZero())return new s(0)._forceRed(this);var m=I.mul(M),C=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=m.isub(C).iushrn(this.shift),v=p;return p.cmp(this.m)>=0?v=p.isub(this.m):p.cmpn(0)<0&&(v=p.iadd(this.m)),v._forceRed(this)},X.prototype.invm=function(I){var M=this.imod(I._invmp(this.m).mul(this.r2));return M._forceRed(this)}})(e,dL)}(Up)),Up.exports}var Yb,pE;function hc(){if(pE)return Yb;pE=1,Yb=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,a){if(r!=n)throw new Error(a||"Assertion failed: "+r+" != "+n)},Yb}var Vb={},gE;function p9(){return gE||(gE=1,function(e){var t=e;function r(s,u){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)c[f]=s[f]|0;return c}if(u==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var f=0;f<s.length;f+=2)c.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var h=s.charCodeAt(f),d=h>>8,y=h&255;d?c.push(d,y):c.push(y)}return c}t.toArray=r;function n(s){return s.length===1?"0"+s:s}t.zero2=n;function a(s){for(var u="",c=0;c<s.length;c++)u+=n(s[c].toString(16));return u}t.toHex=a,t.encode=function(u,c){return c==="hex"?a(u):u}}(Vb)),Vb}var yE;function Qi(){return yE||(yE=1,function(e){var t=e,r=Ya(),n=hc(),a=p9();t.assert=n,t.toArray=a.toArray,t.zero2=a.zero2,t.toHex=a.toHex,t.encode=a.encode;function s(d,y,_){var w=new Array(Math.max(d.bitLength(),_)+1),S;for(S=0;S<w.length;S+=1)w[S]=0;var A=1<<y+1,E=d.clone();for(S=0;S<w.length;S++){var x,L=E.andln(A-1);E.isOdd()?(L>(A>>1)-1?x=(A>>1)-L:x=L,E.isubn(x)):x=0,w[S]=x,E.iushrn(1)}return w}t.getNAF=s;function u(d,y){var _=[[],[]];d=d.clone(),y=y.clone();for(var w=0,S=0,A;d.cmpn(-w)>0||y.cmpn(-S)>0;){var E=d.andln(3)+w&3,x=y.andln(3)+S&3;E===3&&(E=-1),x===3&&(x=-1);var L;(E&1)===0?L=0:(A=d.andln(7)+w&7,(A===3||A===5)&&x===2?L=-E:L=E),_[0].push(L);var U;(x&1)===0?U=0:(A=y.andln(7)+S&7,(A===3||A===5)&&E===2?U=-x:U=x),_[1].push(U),2*w===L+1&&(w=1-w),2*S===U+1&&(S=1-S),d.iushrn(1),y.iushrn(1)}return _}t.getJSF=u;function c(d,y,_){var w="_"+y;d.prototype[y]=function(){return this[w]!==void 0?this[w]:this[w]=_.call(this)}}t.cachedProperty=c;function f(d){return typeof d=="string"?t.toArray(d,"hex"):d}t.parseBytes=f;function h(d){return new r(d,"hex","le")}t.intFromLE=h}(Qb)),Qb}var vp={exports:{}},bE;function g9(){if(bE)return vp.exports;bE=1;var e;vp.exports=function(a){return e||(e=new t(null)),e.generate(a)};function t(n){this.rand=n}if(vp.exports.Rand=t,t.prototype.generate=function(a){return this._rand(a)},t.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var s=new Uint8Array(a),u=0;u<s.length;u++)s[u]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(a){var s=new Uint8Array(a);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(a){var s=new Uint8Array(a);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=zd;if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(a){return r.randomBytes(a)}}catch{}return vp.exports}var $b={},Gb,_E;function U1(){if(_E)return Gb;_E=1;var e=Ya(),t=Qi(),r=t.getNAF,n=t.getJSF,a=t.assert;function s(c,f){this.type=c,this.p=new e(f.p,16),this.red=f.prime?e.red(f.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=f.n&&new e(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Gb=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(f,h){a(f.precomputed);var d=f._getDoubles(),y=r(h,1,this._bitLength),_=(1<<d.step+1)-(d.step%2===0?2:1);_/=3;var w=[],S,A;for(S=0;S<y.length;S+=d.step){A=0;for(var E=S+d.step-1;E>=S;E--)A=(A<<1)+y[E];w.push(A)}for(var x=this.jpoint(null,null,null),L=this.jpoint(null,null,null),U=_;U>0;U--){for(S=0;S<w.length;S++)A=w[S],A===U?L=L.mixedAdd(d.points[S]):A===-U&&(L=L.mixedAdd(d.points[S].neg()));x=x.add(L)}return x.toP()},s.prototype._wnafMul=function(f,h){var d=4,y=f._getNAFPoints(d);d=y.wnd;for(var _=y.points,w=r(h,d,this._bitLength),S=this.jpoint(null,null,null),A=w.length-1;A>=0;A--){for(var E=0;A>=0&&w[A]===0;A--)E++;if(A>=0&&E++,S=S.dblp(E),A<0)break;var x=w[A];a(x!==0),f.type==="affine"?x>0?S=S.mixedAdd(_[x-1>>1]):S=S.mixedAdd(_[-x-1>>1].neg()):x>0?S=S.add(_[x-1>>1]):S=S.add(_[-x-1>>1].neg())}return f.type==="affine"?S.toP():S},s.prototype._wnafMulAdd=function(f,h,d,y,_){var w=this._wnafT1,S=this._wnafT2,A=this._wnafT3,E=0,x,L,U;for(x=0;x<y;x++){U=h[x];var O=U._getNAFPoints(f);w[x]=O.wnd,S[x]=O.points}for(x=y-1;x>=1;x-=2){var H=x-1,P=x;if(w[H]!==1||w[P]!==1){A[H]=r(d[H],w[H],this._bitLength),A[P]=r(d[P],w[P],this._bitLength),E=Math.max(A[H].length,E),E=Math.max(A[P].length,E);continue}var q=[h[H],null,null,h[P]];h[H].y.cmp(h[P].y)===0?(q[1]=h[H].add(h[P]),q[2]=h[H].toJ().mixedAdd(h[P].neg())):h[H].y.cmp(h[P].y.redNeg())===0?(q[1]=h[H].toJ().mixedAdd(h[P]),q[2]=h[H].add(h[P].neg())):(q[1]=h[H].toJ().mixedAdd(h[P]),q[2]=h[H].toJ().mixedAdd(h[P].neg()));var j=[-3,-1,-5,-7,0,7,5,1,3],F=n(d[H],d[P]);for(E=Math.max(F[0].length,E),A[H]=new Array(E),A[P]=new Array(E),L=0;L<E;L++){var X=F[0][L]|0,z=F[1][L]|0;A[H][L]=j[(X+1)*3+(z+1)],A[P][L]=0,S[H]=q}}var I=this.jpoint(null,null,null),M=this._wnafT4;for(x=E;x>=0;x--){for(var m=0;x>=0;){var C=!0;for(L=0;L<y;L++)M[L]=A[L][x]|0,M[L]!==0&&(C=!1);if(!C)break;m++,x--}if(x>=0&&m++,I=I.dblp(m),x<0)break;for(L=0;L<y;L++){var p=M[L];p!==0&&(p>0?U=S[L][p-1>>1]:p<0&&(U=S[L][-p-1>>1].neg()),U.type==="affine"?I=I.mixedAdd(U):I=I.add(U))}}for(x=0;x<y;x++)S[x]=null;return _?I:I.toP()};function u(c,f){this.curve=c,this.type=f,this.precomputed=null}return s.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(f,h){f=t.toArray(f,h);var d=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1===2*d){f[0]===6?a(f[f.length-1]%2===0):f[0]===7&&a(f[f.length-1]%2===1);var y=this.point(f.slice(1,1+d),f.slice(1+d,1+2*d));return y}else if((f[0]===2||f[0]===3)&&f.length-1===d)return this.pointFromX(f.slice(1,1+d),f[0]===3);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(f){return this.encode(f,!0)},u.prototype._encode=function(f){var h=this.curve.p.byteLength(),d=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",h))},u.prototype.encode=function(f,h){return t.encode(this._encode(h),f)},u.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},u.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((f.bitLength()+1)/h.step):!1},u.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],y=this,_=0;_<h;_+=f){for(var w=0;w<f;w++)y=y.dbl();d.push(y)}return{step:f,points:d}},u.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],d=(1<<f)-1,y=d===1?null:this.dbl(),_=1;_<d;_++)h[_]=h[_-1].add(y);return{wnd:f,points:h}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(f){for(var h=this,d=0;d<f;d++)h=h.dbl();return h},Gb}var wp={exports:{}},mE;function Cr(){return mE||(mE=1,typeof Object.create=="function"?wp.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:wp.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),wp.exports}var Xb,vE;function pL(){if(vE)return Xb;vE=1;var e=Qi(),t=Ya(),r=Cr(),n=U1(),a=e.assert;function s(f){n.call(this,"short",f),this.a=new t(f.a,16).toRed(this.red),this.b=new t(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(s,n),Xb=s,s.prototype._getEndomorphism=function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,y;if(h.beta)d=new t(h.beta,16).toRed(this.red);else{var _=this._getEndoRoots(this.p);d=_[0].cmp(_[1])<0?_[0]:_[1],d=d.toRed(this.red)}if(h.lambda)y=new t(h.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(d))===0?y=w[0]:(y=w[1],a(this.g.mul(y).x.cmp(this.g.x.redMul(d))===0))}var S;return h.basis?S=h.basis.map(function(A){return{a:new t(A.a,16),b:new t(A.b,16)}}):S=this._getEndoBasis(y),{beta:d,lambda:y,basis:S}}},s.prototype._getEndoRoots=function(h){var d=h===this.p?this.red:t.mont(h),y=new t(2).toRed(d).redInvm(),_=y.redNeg(),w=new t(3).toRed(d).redNeg().redSqrt().redMul(y),S=_.redAdd(w).fromRed(),A=_.redSub(w).fromRed();return[S,A]},s.prototype._getEndoBasis=function(h){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),y=h,_=this.n.clone(),w=new t(1),S=new t(0),A=new t(0),E=new t(1),x,L,U,O,H,P,q,j=0,F,X;y.cmpn(0)!==0;){var z=_.div(y);F=_.sub(z.mul(y)),X=A.sub(z.mul(w));var I=E.sub(z.mul(S));if(!U&&F.cmp(d)<0)x=q.neg(),L=w,U=F.neg(),O=X;else if(U&&++j===2)break;q=F,_=y,y=F,A=w,w=X,E=S,S=I}H=F.neg(),P=X;var M=U.sqr().add(O.sqr()),m=H.sqr().add(P.sqr());return m.cmp(M)>=0&&(H=x,P=L),U.negative&&(U=U.neg(),O=O.neg()),H.negative&&(H=H.neg(),P=P.neg()),[{a:U,b:O},{a:H,b:P}]},s.prototype._endoSplit=function(h){var d=this.endo.basis,y=d[0],_=d[1],w=_.b.mul(h).divRound(this.n),S=y.b.neg().mul(h).divRound(this.n),A=w.mul(y.a),E=S.mul(_.a),x=w.mul(y.b),L=S.mul(_.b),U=h.sub(A).sub(E),O=x.add(L).neg();return{k1:U,k2:O}},s.prototype.pointFromX=function(h,d){h=new t(h,16),h.red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),_=y.redSqrt();if(_.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var w=_.fromRed().isOdd();return(d&&!w||!d&&w)&&(_=_.redNeg()),this.point(h,_)},s.prototype.validate=function(h){if(h.inf)return!0;var d=h.x,y=h.y,_=this.a.redMul(d),w=d.redSqr().redMul(d).redIAdd(_).redIAdd(this.b);return y.redSqr().redISub(w).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(h,d,y){for(var _=this._endoWnafT1,w=this._endoWnafT2,S=0;S<h.length;S++){var A=this._endoSplit(d[S]),E=h[S],x=E._getBeta();A.k1.negative&&(A.k1.ineg(),E=E.neg(!0)),A.k2.negative&&(A.k2.ineg(),x=x.neg(!0)),_[S*2]=E,_[S*2+1]=x,w[S*2]=A.k1,w[S*2+1]=A.k2}for(var L=this._wnafMulAdd(1,_,w,S*2,y),U=0;U<S*2;U++)_[U]=null,w[U]=null;return L};function u(f,h,d,y){n.BasePoint.call(this,f,"affine"),h===null&&d===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(h,16),this.y=new t(d,16),y&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(u,n.BasePoint),s.prototype.point=function(h,d,y){return new u(this,h,d,y)},s.prototype.pointFromJSON=function(h,d){return u.fromJSON(this,h,d)},u.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,_=function(w){return y.point(w.x.redMul(y.endo.beta),w.y)};h.beta=d,d.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(_)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(_)}}}return d}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(h,d,y){typeof d=="string"&&(d=JSON.parse(d));var _=h.point(d[0],d[1],y);if(!d[2])return _;function w(A){return h.point(A[0],A[1],y)}var S=d[2];return _.precomputed={beta:null,doubles:S.doubles&&{step:S.doubles.step,points:[_].concat(S.doubles.points.map(w))},naf:S.naf&&{wnd:S.naf.wnd,points:[_].concat(S.naf.points.map(w))}},_},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var d=this.y.redSub(h.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(h.x).redInvm()));var y=d.redSqr().redISub(this.x).redISub(h.x),_=d.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,_)},u.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,y=this.x.redSqr(),_=h.redInvm(),w=y.redAdd(y).redIAdd(y).redIAdd(d).redMul(_),S=w.redSqr().redISub(this.x.redAdd(this.x)),A=w.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,A)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(h){return h=new t(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},u.prototype.mulAdd=function(h,d,y){var _=[this,d],w=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(_,w):this.curve._wnafMulAdd(1,_,w,2)},u.prototype.jmulAdd=function(h,d,y){var _=[this,d],w=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(_,w,!0):this.curve._wnafMulAdd(1,_,w,2,!0)},u.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},u.prototype.neg=function(h){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,_=function(w){return w.neg()};d.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(_)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(_)}}}return d},u.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h};function c(f,h,d,y){n.BasePoint.call(this,f,"jacobian"),h===null&&d===null&&y===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(h,16),this.y=new t(d,16),this.z=new t(y,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(c,n.BasePoint),s.prototype.jpoint=function(h,d,y){return new c(this,h,d,y)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),d=h.redSqr(),y=this.x.redMul(d),_=this.y.redMul(d).redMul(h);return this.curve.point(y,_)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var d=h.z.redSqr(),y=this.z.redSqr(),_=this.x.redMul(d),w=h.x.redMul(y),S=this.y.redMul(d.redMul(h.z)),A=h.y.redMul(y.redMul(this.z)),E=_.redSub(w),x=S.redSub(A);if(E.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=E.redSqr(),U=L.redMul(E),O=_.redMul(L),H=x.redSqr().redIAdd(U).redISub(O).redISub(O),P=x.redMul(O.redISub(H)).redISub(S.redMul(U)),q=this.z.redMul(h.z).redMul(E);return this.curve.jpoint(H,P,q)},c.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var d=this.z.redSqr(),y=this.x,_=h.x.redMul(d),w=this.y,S=h.y.redMul(d).redMul(this.z),A=y.redSub(_),E=w.redSub(S);if(A.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=A.redSqr(),L=x.redMul(A),U=y.redMul(x),O=E.redSqr().redIAdd(L).redISub(U).redISub(U),H=E.redMul(U.redISub(O)).redISub(w.redMul(L)),P=this.z.redMul(A);return this.curve.jpoint(O,H,P)},c.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var y=this;for(d=0;d<h;d++)y=y.dbl();return y}var _=this.curve.a,w=this.curve.tinv,S=this.x,A=this.y,E=this.z,x=E.redSqr().redSqr(),L=A.redAdd(A);for(d=0;d<h;d++){var U=S.redSqr(),O=L.redSqr(),H=O.redSqr(),P=U.redAdd(U).redIAdd(U).redIAdd(_.redMul(x)),q=S.redMul(O),j=P.redSqr().redISub(q.redAdd(q)),F=q.redISub(j),X=P.redMul(F);X=X.redIAdd(X).redISub(H);var z=L.redMul(E);d+1<h&&(x=x.redMul(H)),S=j,E=z,L=X}return this.curve.jpoint(S,L.redMul(w),E)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var h,d,y;if(this.zOne){var _=this.x.redSqr(),w=this.y.redSqr(),S=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(_).redISub(S);A=A.redIAdd(A);var E=_.redAdd(_).redIAdd(_),x=E.redSqr().redISub(A).redISub(A),L=S.redIAdd(S);L=L.redIAdd(L),L=L.redIAdd(L),h=x,d=E.redMul(A.redISub(x)).redISub(L),y=this.y.redAdd(this.y)}else{var U=this.x.redSqr(),O=this.y.redSqr(),H=O.redSqr(),P=this.x.redAdd(O).redSqr().redISub(U).redISub(H);P=P.redIAdd(P);var q=U.redAdd(U).redIAdd(U),j=q.redSqr(),F=H.redIAdd(H);F=F.redIAdd(F),F=F.redIAdd(F),h=j.redISub(P).redISub(P),d=q.redMul(P.redISub(h)).redISub(F),y=this.y.redMul(this.z),y=y.redIAdd(y)}return this.curve.jpoint(h,d,y)},c.prototype._threeDbl=function(){var h,d,y;if(this.zOne){var _=this.x.redSqr(),w=this.y.redSqr(),S=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(_).redISub(S);A=A.redIAdd(A);var E=_.redAdd(_).redIAdd(_).redIAdd(this.curve.a),x=E.redSqr().redISub(A).redISub(A);h=x;var L=S.redIAdd(S);L=L.redIAdd(L),L=L.redIAdd(L),d=E.redMul(A.redISub(x)).redISub(L),y=this.y.redAdd(this.y)}else{var U=this.z.redSqr(),O=this.y.redSqr(),H=this.x.redMul(O),P=this.x.redSub(U).redMul(this.x.redAdd(U));P=P.redAdd(P).redIAdd(P);var q=H.redIAdd(H);q=q.redIAdd(q);var j=q.redAdd(q);h=P.redSqr().redISub(j),y=this.y.redAdd(this.z).redSqr().redISub(O).redISub(U);var F=O.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),d=P.redMul(q.redISub(h)).redISub(F)}return this.curve.jpoint(h,d,y)},c.prototype._dbl=function(){var h=this.curve.a,d=this.x,y=this.y,_=this.z,w=_.redSqr().redSqr(),S=d.redSqr(),A=y.redSqr(),E=S.redAdd(S).redIAdd(S).redIAdd(h.redMul(w)),x=d.redAdd(d);x=x.redIAdd(x);var L=x.redMul(A),U=E.redSqr().redISub(L.redAdd(L)),O=L.redISub(U),H=A.redSqr();H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H);var P=E.redMul(O).redISub(H),q=y.redAdd(y).redMul(_);return this.curve.jpoint(U,P,q)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),d=this.y.redSqr(),y=this.z.redSqr(),_=d.redSqr(),w=h.redAdd(h).redIAdd(h),S=w.redSqr(),A=this.x.redAdd(d).redSqr().redISub(h).redISub(_);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(S);var E=A.redSqr(),x=_.redIAdd(_);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var L=w.redIAdd(A).redSqr().redISub(S).redISub(E).redISub(x),U=d.redMul(L);U=U.redIAdd(U),U=U.redIAdd(U);var O=this.x.redMul(E).redISub(U);O=O.redIAdd(O),O=O.redIAdd(O);var H=this.y.redMul(L.redMul(x.redISub(L)).redISub(A.redMul(E)));H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H);var P=this.z.redAdd(A).redSqr().redISub(y).redISub(E);return this.curve.jpoint(O,H,P)},c.prototype.mul=function(h,d){return h=new t(h,d),this.curve._wnafMul(this,h)},c.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var d=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(d)).cmpn(0)!==0)return!1;var _=d.redMul(this.z),w=y.redMul(h.z);return this.y.redMul(w).redISub(h.y.redMul(_)).cmpn(0)===0},c.prototype.eqXToP=function(h){var d=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(d);if(this.x.cmp(y)===0)return!0;for(var _=h.clone(),w=this.curve.redN.redMul(d);;){if(_.iadd(this.curve.n),_.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(w),this.x.cmp(y)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Xb}var Wb,wE;function gL(){if(wE)return Wb;wE=1;var e=Ya(),t=Cr(),r=U1(),n=Qi();function a(u){r.call(this,"mont",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(a,r),Wb=a,a.prototype.validate=function(c){var f=c.normalize().x,h=f.redSqr(),d=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f),y=d.redSqrt();return y.redSqr().cmp(d)===0};function s(u,c,f){r.BasePoint.call(this,u,"projective"),c===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(c,16),this.z=new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(s,r.BasePoint),a.prototype.decodePoint=function(c,f){return this.point(n.toArray(c,f),1)},a.prototype.point=function(c,f){return new s(this,c,f)},a.prototype.pointFromJSON=function(c){return s.fromJSON(this,c)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(c,f){return new s(c,f[0],f[1]||c.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var c=this.x.redAdd(this.z),f=c.redSqr(),h=this.x.redSub(this.z),d=h.redSqr(),y=f.redSub(d),_=f.redMul(d),w=y.redMul(d.redAdd(this.curve.a24.redMul(y)));return this.curve.point(_,w)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(c,f){var h=this.x.redAdd(this.z),d=this.x.redSub(this.z),y=c.x.redAdd(c.z),_=c.x.redSub(c.z),w=_.redMul(h),S=y.redMul(d),A=f.z.redMul(w.redAdd(S).redSqr()),E=f.x.redMul(w.redISub(S).redSqr());return this.curve.point(A,E)},s.prototype.mul=function(c){for(var f=c.clone(),h=this,d=this.curve.point(null,null),y=this,_=[];f.cmpn(0)!==0;f.iushrn(1))_.push(f.andln(1));for(var w=_.length-1;w>=0;w--)_[w]===0?(h=h.diffAdd(d,y),d=d.dbl()):(d=h.diffAdd(d,y),h=h.dbl());return d},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Wb}var Zb,AE;function yL(){if(AE)return Zb;AE=1;var e=Qi(),t=Ya(),r=Cr(),n=U1(),a=e.assert;function s(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",c),this.a=new t(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}r(s,n),Zb=s,s.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},s.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},s.prototype.jpoint=function(f,h,d,y){return this.point(f,h,d,y)},s.prototype.pointFromX=function(f,h){f=new t(f,16),f.red||(f=f.toRed(this.red));var d=f.redSqr(),y=this.c2.redSub(this.a.redMul(d)),_=this.one.redSub(this.c2.redMul(this.d).redMul(d)),w=y.redMul(_.redInvm()),S=w.redSqrt();if(S.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var A=S.fromRed().isOdd();return(h&&!A||!h&&A)&&(S=S.redNeg()),this.point(f,S)},s.prototype.pointFromY=function(f,h){f=new t(f,16),f.red||(f=f.toRed(this.red));var d=f.redSqr(),y=d.redSub(this.c2),_=d.redMul(this.d).redMul(this.c2).redSub(this.a),w=y.redMul(_.redInvm());if(w.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var S=w.redSqrt();if(S.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return S.fromRed().isOdd()!==h&&(S=S.redNeg()),this.point(S,f)},s.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),d=f.y.redSqr(),y=h.redMul(this.a).redAdd(d),_=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(d)));return y.cmp(_)===0};function u(c,f,h,d,y){n.BasePoint.call(this,c,"projective"),f===null&&h===null&&d===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(f,16),this.y=new t(h,16),this.z=d?new t(d,16):this.curve.one,this.t=y&&new t(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(u,n.BasePoint),s.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},s.prototype.point=function(f,h,d,y){return new u(this,f,h,d,y)},u.fromJSON=function(f,h){return new u(f,h[0],h[1],h[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var y=this.curve._mulA(f),_=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),w=y.redAdd(h),S=w.redSub(d),A=y.redSub(h),E=_.redMul(S),x=w.redMul(A),L=_.redMul(A),U=S.redMul(w);return this.curve.point(E,x,U,L)},u.prototype._projDbl=function(){var f=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),d=this.y.redSqr(),y,_,w,S,A,E;if(this.curve.twisted){S=this.curve._mulA(h);var x=S.redAdd(d);this.zOne?(y=f.redSub(h).redSub(d).redMul(x.redSub(this.curve.two)),_=x.redMul(S.redSub(d)),w=x.redSqr().redSub(x).redSub(x)):(A=this.z.redSqr(),E=x.redSub(A).redISub(A),y=f.redSub(h).redISub(d).redMul(E),_=x.redMul(S.redSub(d)),w=x.redMul(E))}else S=h.redAdd(d),A=this.curve._mulC(this.z).redSqr(),E=S.redSub(A).redSub(A),y=this.curve._mulC(f.redISub(S)).redMul(E),_=this.curve._mulC(S).redMul(h.redISub(d)),w=S.redMul(E);return this.curve.point(y,_,w)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),d=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),_=this.z.redMul(f.z.redAdd(f.z)),w=d.redSub(h),S=_.redSub(y),A=_.redAdd(y),E=d.redAdd(h),x=w.redMul(S),L=A.redMul(E),U=w.redMul(E),O=S.redMul(A);return this.curve.point(x,L,O,U)},u.prototype._projAdd=function(f){var h=this.z.redMul(f.z),d=h.redSqr(),y=this.x.redMul(f.x),_=this.y.redMul(f.y),w=this.curve.d.redMul(y).redMul(_),S=d.redSub(w),A=d.redAdd(w),E=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(y).redISub(_),x=h.redMul(S).redMul(E),L,U;return this.curve.twisted?(L=h.redMul(A).redMul(_.redSub(this.curve._mulA(y))),U=S.redMul(A)):(L=h.redMul(A).redMul(_.redSub(y)),U=this.curve._mulC(S).redMul(A)),this.curve.point(x,L,U)},u.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},u.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},u.prototype.mulAdd=function(f,h,d){return this.curve._wnafMulAdd(1,[this,h],[f,d],2,!1)},u.prototype.jmulAdd=function(f,h,d){return this.curve._wnafMulAdd(1,[this,h],[f,d],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},u.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var d=f.clone(),y=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add,Zb}var EE;function y9(){return EE||(EE=1,function(e){var t=e;t.base=U1(),t.short=pL(),t.mont=gL(),t.edwards=yL()}($b)),$b}var Jb={},t_={},Pe={},xE;function Va(){if(xE)return Pe;xE=1;var e=hc(),t=Cr();Pe.inherits=t;function r(I,M){return(I.charCodeAt(M)&64512)!==55296||M<0||M+1>=I.length?!1:(I.charCodeAt(M+1)&64512)===56320}function n(I,M){if(Array.isArray(I))return I.slice();if(!I)return[];var m=[];if(typeof I=="string")if(M){if(M==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),p=0;p<I.length;p+=2)m.push(parseInt(I[p]+I[p+1],16))}else for(var C=0,p=0;p<I.length;p++){var v=I.charCodeAt(p);v<128?m[C++]=v:v<2048?(m[C++]=v>>6|192,m[C++]=v&63|128):r(I,p)?(v=65536+((v&1023)<<10)+(I.charCodeAt(++p)&1023),m[C++]=v>>18|240,m[C++]=v>>12&63|128,m[C++]=v>>6&63|128,m[C++]=v&63|128):(m[C++]=v>>12|224,m[C++]=v>>6&63|128,m[C++]=v&63|128)}else for(p=0;p<I.length;p++)m[p]=I[p]|0;return m}Pe.toArray=n;function a(I){for(var M="",m=0;m<I.length;m++)M+=c(I[m].toString(16));return M}Pe.toHex=a;function s(I){var M=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return M>>>0}Pe.htonl=s;function u(I,M){for(var m="",C=0;C<I.length;C++){var p=I[C];M==="little"&&(p=s(p)),m+=f(p.toString(16))}return m}Pe.toHex32=u;function c(I){return I.length===1?"0"+I:I}Pe.zero2=c;function f(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}Pe.zero8=f;function h(I,M,m,C){var p=m-M;e(p%4===0);for(var v=new Array(p/4),D=0,B=M;D<v.length;D++,B+=4){var b;C==="big"?b=I[B]<<24|I[B+1]<<16|I[B+2]<<8|I[B+3]:b=I[B+3]<<24|I[B+2]<<16|I[B+1]<<8|I[B],v[D]=b>>>0}return v}Pe.join32=h;function d(I,M){for(var m=new Array(I.length*4),C=0,p=0;C<I.length;C++,p+=4){var v=I[C];M==="big"?(m[p]=v>>>24,m[p+1]=v>>>16&255,m[p+2]=v>>>8&255,m[p+3]=v&255):(m[p+3]=v>>>24,m[p+2]=v>>>16&255,m[p+1]=v>>>8&255,m[p]=v&255)}return m}Pe.split32=d;function y(I,M){return I>>>M|I<<32-M}Pe.rotr32=y;function _(I,M){return I<<M|I>>>32-M}Pe.rotl32=_;function w(I,M){return I+M>>>0}Pe.sum32=w;function S(I,M,m){return I+M+m>>>0}Pe.sum32_3=S;function A(I,M,m,C){return I+M+m+C>>>0}Pe.sum32_4=A;function E(I,M,m,C,p){return I+M+m+C+p>>>0}Pe.sum32_5=E;function x(I,M,m,C){var p=I[M],v=I[M+1],D=C+v>>>0,B=(D<C?1:0)+m+p;I[M]=B>>>0,I[M+1]=D}Pe.sum64=x;function L(I,M,m,C){var p=M+C>>>0,v=(p<M?1:0)+I+m;return v>>>0}Pe.sum64_hi=L;function U(I,M,m,C){var p=M+C;return p>>>0}Pe.sum64_lo=U;function O(I,M,m,C,p,v,D,B){var b=0,R=M;R=R+C>>>0,b+=R<M?1:0,R=R+v>>>0,b+=R<v?1:0,R=R+B>>>0,b+=R<B?1:0;var Y=I+m+p+D+b;return Y>>>0}Pe.sum64_4_hi=O;function H(I,M,m,C,p,v,D,B){var b=M+C+v+B;return b>>>0}Pe.sum64_4_lo=H;function P(I,M,m,C,p,v,D,B,b,R){var Y=0,Q=M;Q=Q+C>>>0,Y+=Q<M?1:0,Q=Q+v>>>0,Y+=Q<v?1:0,Q=Q+B>>>0,Y+=Q<B?1:0,Q=Q+R>>>0,Y+=Q<R?1:0;var W=I+m+p+D+b+Y;return W>>>0}Pe.sum64_5_hi=P;function q(I,M,m,C,p,v,D,B,b,R){var Y=M+C+v+B+R;return Y>>>0}Pe.sum64_5_lo=q;function j(I,M,m){var C=M<<32-m|I>>>m;return C>>>0}Pe.rotr64_hi=j;function F(I,M,m){var C=I<<32-m|M>>>m;return C>>>0}Pe.rotr64_lo=F;function X(I,M,m){return I>>>m}Pe.shr64_hi=X;function z(I,M,m){var C=I<<32-m|M>>>m;return C>>>0}return Pe.shr64_lo=z,Pe}var e_={},SE;function jd(){if(SE)return e_;SE=1;var e=Va(),t=hc();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return e_.BlockHash=r,r.prototype.update=function(a,s){if(a=e.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var u=a.length%this._delta8;this.pending=a.slice(a.length-u,a.length),this.pending.length===0&&(this.pending=null),a=e.join32(a,0,a.length-u,this.endian);for(var c=0;c<a.length;c+=this._delta32)this._update(a,c,c+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),t(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,u=s-(a+this.padLength)%s,c=new Array(u+this.padLength);c[0]=128;for(var f=1;f<u;f++)c[f]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[f++]=0;c[f++]=0,c[f++]=0,c[f++]=0,c[f++]=0,c[f++]=a>>>24&255,c[f++]=a>>>16&255,c[f++]=a>>>8&255,c[f++]=a&255}else for(c[f++]=a&255,c[f++]=a>>>8&255,c[f++]=a>>>16&255,c[f++]=a>>>24&255,c[f++]=0,c[f++]=0,c[f++]=0,c[f++]=0,h=8;h<this.padLength;h++)c[f++]=0;return c},e_}var Bu={},Ma={},CE;function b9(){if(CE)return Ma;CE=1;var e=Va(),t=e.rotr32;function r(d,y,_,w){if(d===0)return n(y,_,w);if(d===1||d===3)return s(y,_,w);if(d===2)return a(y,_,w)}Ma.ft_1=r;function n(d,y,_){return d&y^~d&_}Ma.ch32=n;function a(d,y,_){return d&y^d&_^y&_}Ma.maj32=a;function s(d,y,_){return d^y^_}Ma.p32=s;function u(d){return t(d,2)^t(d,13)^t(d,22)}Ma.s0_256=u;function c(d){return t(d,6)^t(d,11)^t(d,25)}Ma.s1_256=c;function f(d){return t(d,7)^t(d,18)^d>>>3}Ma.g0_256=f;function h(d){return t(d,17)^t(d,19)^d>>>10}return Ma.g1_256=h,Ma}var r_,IE;function bL(){if(IE)return r_;IE=1;var e=Va(),t=jd(),r=b9(),n=e.rotl32,a=e.sum32,s=e.sum32_5,u=r.ft_1,c=t.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(h,c),r_=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(y,_){for(var w=this.W,S=0;S<16;S++)w[S]=y[_+S];for(;S<w.length;S++)w[S]=n(w[S-3]^w[S-8]^w[S-14]^w[S-16],1);var A=this.h[0],E=this.h[1],x=this.h[2],L=this.h[3],U=this.h[4];for(S=0;S<w.length;S++){var O=~~(S/20),H=s(n(A,5),u(O,E,x,L),U,w[S],f[O]);U=L,L=x,x=n(E,30),E=A,A=H}this.h[0]=a(this.h[0],A),this.h[1]=a(this.h[1],E),this.h[2]=a(this.h[2],x),this.h[3]=a(this.h[3],L),this.h[4]=a(this.h[4],U)},h.prototype._digest=function(y){return y==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},r_}var n_,TE;function _9(){if(TE)return n_;TE=1;var e=Va(),t=jd(),r=b9(),n=hc(),a=e.sum32,s=e.sum32_4,u=e.sum32_5,c=r.ch32,f=r.maj32,h=r.s0_256,d=r.s1_256,y=r.g0_256,_=r.g1_256,w=t.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function A(){if(!(this instanceof A))return new A;w.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}return e.inherits(A,w),n_=A,A.blockSize=512,A.outSize=256,A.hmacStrength=192,A.padLength=64,A.prototype._update=function(x,L){for(var U=this.W,O=0;O<16;O++)U[O]=x[L+O];for(;O<U.length;O++)U[O]=s(_(U[O-2]),U[O-7],y(U[O-15]),U[O-16]);var H=this.h[0],P=this.h[1],q=this.h[2],j=this.h[3],F=this.h[4],X=this.h[5],z=this.h[6],I=this.h[7];for(n(this.k.length===U.length),O=0;O<U.length;O++){var M=u(I,d(F),c(F,X,z),this.k[O],U[O]),m=a(h(H),f(H,P,q));I=z,z=X,X=F,F=a(j,M),j=q,q=P,P=H,H=a(M,m)}this.h[0]=a(this.h[0],H),this.h[1]=a(this.h[1],P),this.h[2]=a(this.h[2],q),this.h[3]=a(this.h[3],j),this.h[4]=a(this.h[4],F),this.h[5]=a(this.h[5],X),this.h[6]=a(this.h[6],z),this.h[7]=a(this.h[7],I)},A.prototype._digest=function(x){return x==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},n_}var i_,BE;function _L(){if(BE)return i_;BE=1;var e=Va(),t=_9();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),i_=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},i_}var a_,OE;function m9(){if(OE)return a_;OE=1;var e=Va(),t=jd(),r=hc(),n=e.rotr64_hi,a=e.rotr64_lo,s=e.shr64_hi,u=e.shr64_lo,c=e.sum64,f=e.sum64_hi,h=e.sum64_lo,d=e.sum64_4_hi,y=e.sum64_4_lo,_=e.sum64_5_hi,w=e.sum64_5_lo,S=t.BlockHash,A=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=A,this.W=new Array(160)}e.inherits(E,S),a_=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(m,C){for(var p=this.W,v=0;v<32;v++)p[v]=m[C+v];for(;v<p.length;v+=2){var D=z(p[v-4],p[v-3]),B=I(p[v-4],p[v-3]),b=p[v-14],R=p[v-13],Y=F(p[v-30],p[v-29]),Q=X(p[v-30],p[v-29]),W=p[v-32],J=p[v-31];p[v]=d(D,B,b,R,Y,Q,W,J),p[v+1]=y(D,B,b,R,Y,Q,W,J)}},E.prototype._update=function(m,C){this._prepareBlock(m,C);var p=this.W,v=this.h[0],D=this.h[1],B=this.h[2],b=this.h[3],R=this.h[4],Y=this.h[5],Q=this.h[6],W=this.h[7],J=this.h[8],G=this.h[9],et=this.h[10],it=this.h[11],ut=this.h[12],ct=this.h[13],tt=this.h[14],V=this.h[15];r(this.k.length===p.length);for(var ot=0;ot<p.length;ot+=2){var mt=tt,Tt=V,st=q(J,G),ft=j(J,G),dt=x(J,G,et,it,ut),At=L(J,G,et,it,ut,ct),Nt=this.k[ot],Ot=this.k[ot+1],Pt=p[ot],pe=p[ot+1],Xt=_(mt,Tt,st,ft,dt,At,Nt,Ot,Pt,pe),ne=w(mt,Tt,st,ft,dt,At,Nt,Ot,Pt,pe);mt=H(v,D),Tt=P(v,D),st=U(v,D,B,b,R),ft=O(v,D,B,b,R,Y);var at=f(mt,Tt,st,ft),$=h(mt,Tt,st,ft);tt=ut,V=ct,ut=et,ct=it,et=J,it=G,J=f(Q,W,Xt,ne),G=h(W,W,Xt,ne),Q=R,W=Y,R=B,Y=b,B=v,b=D,v=f(Xt,ne,at,$),D=h(Xt,ne,at,$)}c(this.h,0,v,D),c(this.h,2,B,b),c(this.h,4,R,Y),c(this.h,6,Q,W),c(this.h,8,J,G),c(this.h,10,et,it),c(this.h,12,ut,ct),c(this.h,14,tt,V)},E.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function x(M,m,C,p,v){var D=M&C^~M&v;return D<0&&(D+=4294967296),D}function L(M,m,C,p,v,D){var B=m&p^~m&D;return B<0&&(B+=4294967296),B}function U(M,m,C,p,v){var D=M&C^M&v^C&v;return D<0&&(D+=4294967296),D}function O(M,m,C,p,v,D){var B=m&p^m&D^p&D;return B<0&&(B+=4294967296),B}function H(M,m){var C=n(M,m,28),p=n(m,M,2),v=n(m,M,7),D=C^p^v;return D<0&&(D+=4294967296),D}function P(M,m){var C=a(M,m,28),p=a(m,M,2),v=a(m,M,7),D=C^p^v;return D<0&&(D+=4294967296),D}function q(M,m){var C=n(M,m,14),p=n(M,m,18),v=n(m,M,9),D=C^p^v;return D<0&&(D+=4294967296),D}function j(M,m){var C=a(M,m,14),p=a(M,m,18),v=a(m,M,9),D=C^p^v;return D<0&&(D+=4294967296),D}function F(M,m){var C=n(M,m,1),p=n(M,m,8),v=s(M,m,7),D=C^p^v;return D<0&&(D+=4294967296),D}function X(M,m){var C=a(M,m,1),p=a(M,m,8),v=u(M,m,7),D=C^p^v;return D<0&&(D+=4294967296),D}function z(M,m){var C=n(M,m,19),p=n(m,M,29),v=s(M,m,6),D=C^p^v;return D<0&&(D+=4294967296),D}function I(M,m){var C=a(M,m,19),p=a(m,M,29),v=u(M,m,6),D=C^p^v;return D<0&&(D+=4294967296),D}return a_}var s_,DE;function mL(){if(DE)return s_;DE=1;var e=Va(),t=m9();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),s_=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},s_}var ME;function vL(){return ME||(ME=1,Bu.sha1=bL(),Bu.sha224=_L(),Bu.sha256=_9(),Bu.sha384=mL(),Bu.sha512=m9()),Bu}var o_={},RE;function wL(){if(RE)return o_;RE=1;var e=Va(),t=jd(),r=e.rotl32,n=e.sum32,a=e.sum32_3,s=e.sum32_4,u=t.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(c,u),o_.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(E,x){for(var L=this.h[0],U=this.h[1],O=this.h[2],H=this.h[3],P=this.h[4],q=L,j=U,F=O,X=H,z=P,I=0;I<80;I++){var M=n(r(s(L,f(I,U,O,H),E[y[I]+x],h(I)),w[I]),P);L=P,P=H,H=r(O,10),O=U,U=M,M=n(r(s(q,f(79-I,j,F,X),E[_[I]+x],d(I)),S[I]),z),q=z,z=X,X=r(F,10),F=j,j=M}M=a(this.h[1],O,X),this.h[1]=a(this.h[2],H,z),this.h[2]=a(this.h[3],P,q),this.h[3]=a(this.h[4],L,j),this.h[4]=a(this.h[0],U,F),this.h[0]=M},c.prototype._digest=function(E){return E==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function f(A,E,x,L){return A<=15?E^x^L:A<=31?E&x|~E&L:A<=47?(E|~x)^L:A<=63?E&L|x&~L:E^(x|~L)}function h(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}function d(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return o_}var u_,HE;function AL(){if(HE)return u_;HE=1;var e=Va(),t=hc();function r(n,a,s){if(!(this instanceof r))return new r(n,a,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(a,s))}return u_=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),t(a.length<=this.blockSize);for(var s=a.length;s<this.blockSize;s++)a.push(0);for(s=0;s<a.length;s++)a[s]^=54;for(this.inner=new this.Hash().update(a),s=0;s<a.length;s++)a[s]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,s){return this.inner.update(a,s),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},u_}var LE;function A2(){return LE||(LE=1,function(e){var t=e;t.utils=Va(),t.common=jd(),t.sha=vL(),t.ripemd=wL(),t.hmac=AL(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(t_)),t_}var c_,NE;function EL(){return NE||(NE=1,c_={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),c_}var UE;function E2(){return UE||(UE=1,function(e){var t=e,r=A2(),n=y9(),a=Qi(),s=a.assert;function u(h){h.type==="short"?this.curve=new n.short(h):h.type==="edwards"?this.curve=new n.edwards(h):this.curve=new n.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=u;function c(h,d){Object.defineProperty(t,h,{configurable:!0,enumerable:!0,get:function(){var y=new u(d);return Object.defineProperty(t,h,{configurable:!0,enumerable:!0,value:y}),y}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=EL()}catch{f=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})}(Jb)),Jb}var f_,PE;function xL(){if(PE)return f_;PE=1;var e=A2(),t=p9(),r=hc();function n(a){if(!(this instanceof n))return new n(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=t.toArray(a.entropy,a.entropyEnc||"hex"),u=t.toArray(a.nonce,a.nonceEnc||"hex"),c=t.toArray(a.pers,a.persEnc||"hex");r(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,u,c)}return f_=n,n.prototype._init=function(s,u,c){var f=s.concat(u).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},n.prototype._update=function(s){var u=this._hmac().update(this.V).update([0]);s&&(u=u.update(s)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(s,u,c,f){typeof u!="string"&&(f=c,c=u,u=null),s=t.toArray(s,u),c=t.toArray(c,f),r(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(c||[])),this._reseed=1},n.prototype.generate=function(s,u,c,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(f=c,c=u,u=null),c&&(c=t.toArray(c,f||"hex"),this._update(c));for(var h=[];h.length<s;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var d=h.slice(0,s);return this._update(c),this._reseed++,t.encode(d,u)},f_}var l_,kE;function SL(){if(kE)return l_;kE=1;var e=Ya(),t=Qi(),r=t.assert;function n(a,s){this.ec=a,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return l_=n,n.fromPublic=function(s,u,c){return u instanceof n?u:new n(s,{pub:u,pubEnc:c})},n.fromPrivate=function(s,u,c){return u instanceof n?u:new n(s,{priv:u,privEnc:c})},n.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(s,u){return typeof s=="string"&&(u=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,s):this.pub},n.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(s,u){this.priv=new e(s,u||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(s,u){if(s.x||s.y){this.ec.curve.type==="mont"?r(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,u)},n.prototype.derive=function(s){return s.validate()||r(s.validate(),"public point not validated"),s.mul(this.priv).getX()},n.prototype.sign=function(s,u,c){return this.ec.sign(s,this,u,c)},n.prototype.verify=function(s,u,c){return this.ec.verify(s,u,this,void 0,c)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},l_}var h_,qE;function CL(){if(qE)return h_;qE=1;var e=Ya(),t=Qi(),r=t.assert;function n(f,h){if(f instanceof n)return f;this._importDER(f,h)||(r(f.r&&f.s,"Signature without r or s"),this.r=new e(f.r,16),this.s=new e(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}h_=n;function a(){this.place=0}function s(f,h){var d=f[h.place++];if(!(d&128))return d;var y=d&15;if(y===0||y>4||f[h.place]===0)return!1;for(var _=0,w=0,S=h.place;w<y;w++,S++)_<<=8,_|=f[S],_>>>=0;return _<=127?!1:(h.place=S,_)}function u(f){for(var h=0,d=f.length-1;!f[h]&&!(f[h+1]&128)&&h<d;)h++;return h===0?f:f.slice(h)}n.prototype._importDER=function(h,d){h=t.toArray(h,d);var y=new a;if(h[y.place++]!==48)return!1;var _=s(h,y);if(_===!1||_+y.place!==h.length||h[y.place++]!==2)return!1;var w=s(h,y);if(w===!1||(h[y.place]&128)!==0)return!1;var S=h.slice(y.place,w+y.place);if(y.place+=w,h[y.place++]!==2)return!1;var A=s(h,y);if(A===!1||h.length!==A+y.place||(h[y.place]&128)!==0)return!1;var E=h.slice(y.place,A+y.place);if(S[0]===0)if(S[1]&128)S=S.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new e(S),this.s=new e(E),this.recoveryParam=null,!0};function c(f,h){if(h<128){f.push(h);return}var d=1+(Math.log(h)/Math.LN2>>>3);for(f.push(d|128);--d;)f.push(h>>>(d<<3)&255);f.push(h)}return n.prototype.toDER=function(h){var d=this.r.toArray(),y=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),y[0]&128&&(y=[0].concat(y)),d=u(d),y=u(y);!y[0]&&!(y[1]&128);)y=y.slice(1);var _=[2];c(_,d.length),_=_.concat(d),_.push(2),c(_,y.length);var w=_.concat(y),S=[48];return c(S,w.length),S=S.concat(w),t.encode(S,h)},h_}var d_,zE;function IL(){if(zE)return d_;zE=1;var e=Ya(),t=xL(),r=Qi(),n=E2(),a=g9(),s=r.assert,u=SL(),c=CL();function f(h){if(!(this instanceof f))return new f(h);typeof h=="string"&&(s(Object.prototype.hasOwnProperty.call(n,h),"Unknown curve "+h),h=n[h]),h instanceof n.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}return d_=f,f.prototype.keyPair=function(d){return new u(this,d)},f.prototype.keyFromPrivate=function(d,y){return u.fromPrivate(this,d,y)},f.prototype.keyFromPublic=function(d,y){return u.fromPublic(this,d,y)},f.prototype.genKeyPair=function(d){d||(d={});for(var y=new t({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||a(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),_=this.n.byteLength(),w=this.n.sub(new e(2));;){var S=new e(y.generate(_));if(!(S.cmp(w)>0))return S.iaddn(1),this.keyFromPrivate(S)}},f.prototype._truncateToN=function(d,y,_){var w;if(e.isBN(d)||typeof d=="number")d=new e(d,16),w=d.byteLength();else if(typeof d=="object")w=d.length,d=new e(d,16);else{var S=d.toString();w=S.length+1>>>1,d=new e(S,16)}typeof _!="number"&&(_=w*8);var A=_-this.n.bitLength();return A>0&&(d=d.ushrn(A)),!y&&d.cmp(this.n)>=0?d.sub(this.n):d},f.prototype.sign=function(d,y,_,w){if(typeof _=="object"&&(w=_,_=null),w||(w={}),typeof d!="string"&&typeof d!="number"&&!e.isBN(d)){s(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(d.length>>>0===d.length);for(var S=0;S<d.length;S++)s((d[S]&255)===d[S])}y=this.keyFromPrivate(y,_),d=this._truncateToN(d,!1,w.msgBitLength),s(!d.isNeg(),"Can not sign a negative message");var A=this.n.byteLength(),E=y.getPrivate().toArray("be",A),x=d.toArray("be",A);s(new e(x).eq(d),"Can not sign message");for(var L=new t({hash:this.hash,entropy:E,nonce:x,pers:w.pers,persEnc:w.persEnc||"utf8"}),U=this.n.sub(new e(1)),O=0;;O++){var H=w.k?w.k(O):new e(L.generate(this.n.byteLength()));if(H=this._truncateToN(H,!0),!(H.cmpn(1)<=0||H.cmp(U)>=0)){var P=this.g.mul(H);if(!P.isInfinity()){var q=P.getX(),j=q.umod(this.n);if(j.cmpn(0)!==0){var F=H.invm(this.n).mul(j.mul(y.getPrivate()).iadd(d));if(F=F.umod(this.n),F.cmpn(0)!==0){var X=(P.getY().isOdd()?1:0)|(q.cmp(j)!==0?2:0);return w.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),X^=1),new c({r:j,s:F,recoveryParam:X})}}}}}},f.prototype.verify=function(d,y,_,w,S){S||(S={}),d=this._truncateToN(d,!1,S.msgBitLength),_=this.keyFromPublic(_,w),y=new c(y,"hex");var A=y.r,E=y.s;if(A.cmpn(1)<0||A.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var x=E.invm(this.n),L=x.mul(d).umod(this.n),U=x.mul(A).umod(this.n),O;return this.curve._maxwellTrick?(O=this.g.jmulAdd(L,_.getPublic(),U),O.isInfinity()?!1:O.eqXToP(A)):(O=this.g.mulAdd(L,_.getPublic(),U),O.isInfinity()?!1:O.getX().umod(this.n).cmp(A)===0)},f.prototype.recoverPubKey=function(h,d,y,_){s((3&y)===y,"The recovery param is more than two bits"),d=new c(d,_);var w=this.n,S=new e(h),A=d.r,E=d.s,x=y&1,L=y>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");L?A=this.curve.pointFromX(A.add(this.curve.n),x):A=this.curve.pointFromX(A,x);var U=d.r.invm(w),O=w.sub(S).mul(U).umod(w),H=E.mul(U).umod(w);return this.g.mulAdd(O,A,H)},f.prototype.getKeyRecoveryParam=function(h,d,y,_){if(d=new c(d,_),d.recoveryParam!==null)return d.recoveryParam;for(var w=0;w<4;w++){var S;try{S=this.recoverPubKey(h,d,w)}catch{continue}if(S.eq(y))return w}throw new Error("Unable to find valid recovery factor")},d_}var p_,jE;function TL(){if(jE)return p_;jE=1;var e=Qi(),t=e.assert,r=e.parseBytes,n=e.cachedProperty;function a(s,u){this.eddsa=s,this._secret=r(u.secret),s.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=r(u.pub)}return a.fromPublic=function(u,c){return c instanceof a?c:new a(u,{pub:c})},a.fromSecret=function(u,c){return c instanceof a?c:new a(u,{secret:c})},a.prototype.secret=function(){return this._secret},n(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(a,"privBytes",function(){var u=this.eddsa,c=this.hash(),f=u.encodingLength-1,h=c.slice(0,u.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h}),n(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(u){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},a.prototype.verify=function(u,c){return this.eddsa.verify(u,c,this)},a.prototype.getSecret=function(u){return t(this._secret,"KeyPair is public only"),e.encode(this.secret(),u)},a.prototype.getPublic=function(u){return e.encode(this.pubBytes(),u)},p_=a,p_}var g_,FE;function BL(){if(FE)return g_;FE=1;var e=Ya(),t=Qi(),r=t.assert,n=t.cachedProperty,a=t.parseBytes;function s(u,c){this.eddsa=u,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(r(c.length===u.encodingLength*2,"Signature has invalid size"),c={R:c.slice(0,u.encodingLength),S:c.slice(u.encodingLength)}),r(c.R&&c.S,"Signature without R or S"),u.isPoint(c.R)&&(this._R=c.R),c.S instanceof e&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}return n(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},g_=s,g_}var y_,KE;function OL(){if(KE)return y_;KE=1;var e=A2(),t=E2(),r=Qi(),n=r.assert,a=r.parseBytes,s=TL(),u=BL();function c(f){if(n(f==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(f);f=t[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=e.sha512}return y_=c,c.prototype.sign=function(h,d){h=a(h);var y=this.keyFromSecret(d),_=this.hashInt(y.messagePrefix(),h),w=this.g.mul(_),S=this.encodePoint(w),A=this.hashInt(S,y.pubBytes(),h).mul(y.priv()),E=_.add(A).umod(this.curve.n);return this.makeSignature({R:w,S:E,Rencoded:S})},c.prototype.verify=function(h,d,y){if(h=a(h),d=this.makeSignature(d),d.S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var _=this.keyFromPublic(y),w=this.hashInt(d.Rencoded(),_.pubBytes(),h),S=this.g.mul(d.S()),A=d.R().add(_.pub().mul(w));return A.eq(S)},c.prototype.hashInt=function(){for(var h=this.hash(),d=0;d<arguments.length;d++)h.update(arguments[d]);return r.intFromLE(h.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(h){return s.fromPublic(this,h)},c.prototype.keyFromSecret=function(h){return s.fromSecret(this,h)},c.prototype.makeSignature=function(h){return h instanceof u?h:new u(this,h)},c.prototype.encodePoint=function(h){var d=h.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=h.getX().isOdd()?128:0,d},c.prototype.decodePoint=function(h){h=r.parseBytes(h);var d=h.length-1,y=h.slice(0,d).concat(h[d]&-129),_=(h[d]&128)!==0,w=r.intFromLE(y);return this.curve.pointFromY(w,_)},c.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(h){return r.intFromLE(h)},c.prototype.isPoint=function(h){return h instanceof this.pointClass},y_}var QE;function v9(){return QE||(QE=1,function(e){var t=e;t.version=fL.version,t.utils=Qi(),t.rand=g9(),t.curve=y9(),t.curves=E2(),t.ec=IL(),t.eddsa=OL()}(Kb)),Kb}var DL=v9();const ML=vx(DL);var YE;(function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"})(YE||(YE={}));new ML.ec("secp256k1");var VE;(function(e){e.Mainnet="ckb",e.Testnet="ckt"})(VE||(VE={}));var $E;(function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"})($E||($E={}));var GE;(function(e){e.Bech32="bech32",e.Bech32m="bech32m"})(GE||(GE={}));var Ap={exports:{}},XE;function RL(){return XE||(XE=1,function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ni<"u"&&Ni,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(u){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof c<"u"&&c,f={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function h(C){return C&&DataView.prototype.isPrototypeOf(C)}if(f.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(C){return C&&d.indexOf(Object.prototype.toString.call(C))>-1};function _(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function w(C){return typeof C!="string"&&(C=String(C)),C}function S(C){var p={next:function(){var v=C.shift();return{done:v===void 0,value:v}}};return f.iterable&&(p[Symbol.iterator]=function(){return p}),p}function A(C){this.map={},C instanceof A?C.forEach(function(p,v){this.append(v,p)},this):Array.isArray(C)?C.forEach(function(p){this.append(p[0],p[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(p){this.append(p,C[p])},this)}A.prototype.append=function(C,p){C=_(C),p=w(p);var v=this.map[C];this.map[C]=v?v+", "+p:p},A.prototype.delete=function(C){delete this.map[_(C)]},A.prototype.get=function(C){return C=_(C),this.has(C)?this.map[C]:null},A.prototype.has=function(C){return this.map.hasOwnProperty(_(C))},A.prototype.set=function(C,p){this.map[_(C)]=w(p)},A.prototype.forEach=function(C,p){for(var v in this.map)this.map.hasOwnProperty(v)&&C.call(p,this.map[v],v,this)},A.prototype.keys=function(){var C=[];return this.forEach(function(p,v){C.push(v)}),S(C)},A.prototype.values=function(){var C=[];return this.forEach(function(p){C.push(p)}),S(C)},A.prototype.entries=function(){var C=[];return this.forEach(function(p,v){C.push([v,p])}),S(C)},f.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function E(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function x(C){return new Promise(function(p,v){C.onload=function(){p(C.result)},C.onerror=function(){v(C.error)}})}function L(C){var p=new FileReader,v=x(p);return p.readAsArrayBuffer(C),v}function U(C){var p=new FileReader,v=x(p);return p.readAsText(C),v}function O(C){for(var p=new Uint8Array(C),v=new Array(p.length),D=0;D<p.length;D++)v[D]=String.fromCharCode(p[D]);return v.join("")}function H(C){if(C.slice)return C.slice(0);var p=new Uint8Array(C.byteLength);return p.set(new Uint8Array(C)),p.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:f.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:f.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():f.arrayBuffer&&f.blob&&h(C)?(this._bodyArrayBuffer=H(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||y(C))?this._bodyArrayBuffer=H(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var C=E(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=E(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(L)}),this.text=function(){var C=E(this);if(C)return C;if(this._bodyBlob)return U(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}var q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(C){var p=C.toUpperCase();return q.indexOf(p)>-1?p:C}function F(C,p){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p=p||{};var v=p.body;if(C instanceof F){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,p.headers||(this.headers=new A(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!v&&C._bodyInit!=null&&(v=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new A(p.headers)),this.method=j(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(v),(this.method==="GET"||this.method==="HEAD")&&(p.cache==="no-store"||p.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var B=/\?/;this.url+=(B.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function X(C){var p=new FormData;return C.trim().split("&").forEach(function(v){if(v){var D=v.split("="),B=D.shift().replace(/\+/g," "),b=D.join("=").replace(/\+/g," ");p.append(decodeURIComponent(B),decodeURIComponent(b))}}),p}function z(C){var p=new A,v=C.replace(/\r?\n[\t ]+/g," ");return v.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var B=D.split(":"),b=B.shift().trim();if(b){var R=B.join(":").trim();p.append(b,R)}}),p}P.call(F.prototype);function I(C,p){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText=p.statusText===void 0?"":""+p.statusText,this.headers=new A(p.headers),this.url=p.url||"",this._initBody(C)}P.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},I.error=function(){var C=new I(null,{status:0,statusText:""});return C.type="error",C};var M=[301,302,303,307,308];I.redirect=function(C,p){if(M.indexOf(p)===-1)throw new RangeError("Invalid status code");return new I(null,{status:p,headers:{location:C}})},u.DOMException=c.DOMException;try{new u.DOMException}catch{u.DOMException=function(p,v){this.message=p,this.name=v;var D=Error(p);this.stack=D.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function m(C,p){return new Promise(function(v,D){var B=new F(C,p);if(B.signal&&B.signal.aborted)return D(new u.DOMException("Aborted","AbortError"));var b=new XMLHttpRequest;function R(){b.abort()}b.onload=function(){var Q={status:b.status,statusText:b.statusText,headers:z(b.getAllResponseHeaders()||"")};Q.url="responseURL"in b?b.responseURL:Q.headers.get("X-Request-URL");var W="response"in b?b.response:b.responseText;setTimeout(function(){v(new I(W,Q))},0)},b.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},b.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},b.onabort=function(){setTimeout(function(){D(new u.DOMException("Aborted","AbortError"))},0)};function Y(Q){try{return Q===""&&c.location.href?c.location.href:Q}catch{return Q}}b.open(B.method,Y(B.url),!0),B.credentials==="include"?b.withCredentials=!0:B.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&(f.blob?b.responseType="blob":f.arrayBuffer&&B.headers.get("Content-Type")&&B.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(b.responseType="arraybuffer")),p&&typeof p.headers=="object"&&!(p.headers instanceof A)?Object.getOwnPropertyNames(p.headers).forEach(function(Q){b.setRequestHeader(Q,w(p.headers[Q]))}):B.headers.forEach(function(Q,W){b.setRequestHeader(W,Q)}),B.signal&&(B.signal.addEventListener("abort",R),b.onreadystatechange=function(){b.readyState===4&&B.signal.removeEventListener("abort",R)}),b.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return m.polyfill=!0,c.fetch||(c.fetch=m,c.Headers=A,c.Request=F,c.Response=I),u.Headers=A,u.Request=F,u.Response=I,u.fetch=m,u})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t}(Ap,Ap.exports)),Ap.exports}var HL=RL();const LL=vx(HL),NL=globalThis.crypto,Kh=NL.subtle;var UL=()=>Date.now(),PL=class{constructor(e){this.url=e}async baseRPC(e,t,r=this.url){const n={id:UL(),jsonrpc:"2.0",method:e,params:t??null},a=JSON.stringify(n,null,""),s=await LL(r,{method:"post",headers:{"Content-Type":"application/json"},body:a}).then(async u=>u.json());if(s.error!=null)throw new Error(`RPC error: ${JSON.stringify(s.error)}`);return s.result}async generateSubkeyUnlockSmt(e){return await this.baseRPC("generate_subkey_unlock_smt",e)}};function kL(e){const t=Array.from(new Uint8Array(e),u=>`00${u.toString(16)}`.slice(-2)).join(""),r=Number.parseInt(t.substr(6,2),16)*2;let n=t.substr(8,r),a=t.substr(12+r);n=n.length>64?n.substr(-64):n.padStart(64,"0"),a=a.length>64?a.substr(-64):a.padStart(64,"0");const s=`${n}${a}`;return new Uint8Array(s.match(/[\da-f]{2}/gi).map(u=>Number.parseInt(u,16)))}var qL=(e,t)=>{try{const r=uL(aL(t));return JSON.parse(r).challenge===Nu(oL(e))}catch{return!1}},zL=async(e,t,r)=>{try{const n="RSASSA-PKCS1-v1_5",a=d9(r),s=Zp(e),u=Zp(t),c=new Uint8Array(a.slice(0,3)).reverse(),f=new Uint8Array(a.slice(4)).reverse(),h={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Nu(c),n:Nu(f)},d=await Kh.importKey("jwk",h,{name:n,hash:"SHA-256"},!1,["verify"]);return await Kh.verify(n,d,u,s)}catch(n){return console.error(n),!1}},jL=async({message:e,signature:t,pubkey:r,challenge:n,alg:a})=>{try{const s=d9(`${r}`),u=Zp(e),c=Zp(t),f=u.slice(0,37),h=u.slice(37);if(!qL(n,h))return!1;const d=await Kh.digest("SHA-256",h),y=sL(f,d),_=a===Wm.ES256,w=_?{kty:"EC",crv:"P-256",x:Nu(s.slice(0,32)),y:Nu(s.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Nu(new Uint8Array(s.slice(0,3)).reverse()),n:Nu(new Uint8Array(s.slice(4)).reverse())},S=_?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},A=await Kh.importKey("jwk",w,S,!1,["verify"]);return await Kh.verify(S,A,a===Wm.RS256?c:kL(c),y)}catch(s){return console.error(s),!1}},FL=async e=>{const{message:t,signature:r,pubkey:n,keyType:a}=e;return a==="main_key"||a==="sub_key"?jL(e):zL(t,r,n)};function KL(e,t,r){const n=typeof e=="string"?e:Ut(e).slice(2),{publicKey:a,keyType:s}=JSON.parse(r);return FL({challenge:n,pubkey:a,keyType:s,...JSON.parse(t)})}var Ep={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var WE;function rn(){return WE||(WE=1,function(e,t){var r=ol(),n=r.Buffer;function a(u,c){for(var f in u)c[f]=u[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=s);function s(u,c,f){return n(u,c,f)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,c,f)},s.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=n(u);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}}(Ep,Ep.exports)),Ep.exports}var xp={exports:{}},Sp={exports:{}},ZE;function w9(){if(ZE)return Sp.exports;ZE=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(H,P,q){return Function.prototype.apply.call(H,P,q)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(H){return Object.getOwnPropertyNames(H).concat(Object.getOwnPropertySymbols(H))}:r=function(H){return Object.getOwnPropertyNames(H)};function n(O){console&&console.warn&&console.warn(O)}var a=Number.isNaN||function(H){return H!==H};function s(){s.init.call(this)}Sp.exports=s,Sp.exports.once=x,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(O){if(typeof O!="number"||O<0||a(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");u=O}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||a(H))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+H+".");return this._maxListeners=H,this};function f(O){return O._maxListeners===void 0?s.defaultMaxListeners:O._maxListeners}s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(H){for(var P=[],q=1;q<arguments.length;q++)P.push(arguments[q]);var j=H==="error",F=this._events;if(F!==void 0)j=j&&F.error===void 0;else if(!j)return!1;if(j){var X;if(P.length>0&&(X=P[0]),X instanceof Error)throw X;var z=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw z.context=X,z}var I=F[H];if(I===void 0)return!1;if(typeof I=="function")t(I,this,P);else for(var M=I.length,m=S(I,M),q=0;q<M;++q)t(m[q],this,P);return!0};function h(O,H,P,q){var j,F,X;if(c(P),F=O._events,F===void 0?(F=O._events=Object.create(null),O._eventsCount=0):(F.newListener!==void 0&&(O.emit("newListener",H,P.listener?P.listener:P),F=O._events),X=F[H]),X===void 0)X=F[H]=P,++O._eventsCount;else if(typeof X=="function"?X=F[H]=q?[P,X]:[X,P]:q?X.unshift(P):X.push(P),j=f(O),j>0&&X.length>j&&!X.warned){X.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(H)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=O,z.type=H,z.count=X.length,n(z)}return O}s.prototype.addListener=function(H,P){return h(this,H,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(H,P){return h(this,H,P,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(O,H,P){var q={fired:!1,wrapFn:void 0,target:O,type:H,listener:P},j=d.bind(q);return j.listener=P,q.wrapFn=j,j}s.prototype.once=function(H,P){return c(P),this.on(H,y(this,H,P)),this},s.prototype.prependOnceListener=function(H,P){return c(P),this.prependListener(H,y(this,H,P)),this},s.prototype.removeListener=function(H,P){var q,j,F,X,z;if(c(P),j=this._events,j===void 0)return this;if(q=j[H],q===void 0)return this;if(q===P||q.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete j[H],j.removeListener&&this.emit("removeListener",H,q.listener||P));else if(typeof q!="function"){for(F=-1,X=q.length-1;X>=0;X--)if(q[X]===P||q[X].listener===P){z=q[X].listener,F=X;break}if(F<0)return this;F===0?q.shift():A(q,F),q.length===1&&(j[H]=q[0]),j.removeListener!==void 0&&this.emit("removeListener",H,z||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(H){var P,q,j;if(q=this._events,q===void 0)return this;if(q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):q[H]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete q[H]),this;if(arguments.length===0){var F=Object.keys(q),X;for(j=0;j<F.length;++j)X=F[j],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=q[H],typeof P=="function")this.removeListener(H,P);else if(P!==void 0)for(j=P.length-1;j>=0;j--)this.removeListener(H,P[j]);return this};function _(O,H,P){var q=O._events;if(q===void 0)return[];var j=q[H];return j===void 0?[]:typeof j=="function"?P?[j.listener||j]:[j]:P?E(j):S(j,j.length)}s.prototype.listeners=function(H){return _(this,H,!0)},s.prototype.rawListeners=function(H){return _(this,H,!1)},s.listenerCount=function(O,H){return typeof O.listenerCount=="function"?O.listenerCount(H):w.call(O,H)},s.prototype.listenerCount=w;function w(O){var H=this._events;if(H!==void 0){var P=H[O];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function S(O,H){for(var P=new Array(H),q=0;q<H;++q)P[q]=O[q];return P}function A(O,H){for(;H+1<O.length;H++)O[H]=O[H+1];O.pop()}function E(O){for(var H=new Array(O.length),P=0;P<H.length;++P)H[P]=O[P].listener||O[P];return H}function x(O,H){return new Promise(function(P,q){function j(X){O.removeListener(H,F),q(X)}function F(){typeof O.removeListener=="function"&&O.removeListener("error",j),P([].slice.call(arguments))}U(O,H,F,{once:!0}),H!=="error"&&L(O,j,{once:!0})})}function L(O,H,P){typeof O.on=="function"&&U(O,"error",H,P)}function U(O,H,P,q){if(typeof O.on=="function")q.once?O.once(H,P):O.on(H,P);else if(typeof O.addEventListener=="function")O.addEventListener(H,function j(F){q.once&&O.removeEventListener(H,j),P(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}return Sp.exports}var b_,JE;function A9(){return JE||(JE=1,b_=w9().EventEmitter),b_}var __,t5;function QL(){if(t5)return __;t5=1;function e(S,A){var E=Object.keys(S);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(S);A&&(x=x.filter(function(L){return Object.getOwnPropertyDescriptor(S,L).enumerable})),E.push.apply(E,x)}return E}function t(S){for(var A=1;A<arguments.length;A++){var E=arguments[A]!=null?arguments[A]:{};A%2?e(Object(E),!0).forEach(function(x){r(S,x,E[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(E)):e(Object(E)).forEach(function(x){Object.defineProperty(S,x,Object.getOwnPropertyDescriptor(E,x))})}return S}function r(S,A,E){return A=u(A),A in S?Object.defineProperty(S,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[A]=E,S}function n(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function a(S,A){for(var E=0;E<A.length;E++){var x=A[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,u(x.key),x)}}function s(S,A,E){return A&&a(S.prototype,A),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S){var A=c(S,"string");return typeof A=="symbol"?A:String(A)}function c(S,A){if(typeof S!="object"||S===null)return S;var E=S[Symbol.toPrimitive];if(E!==void 0){var x=E.call(S,A);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}var f=ol(),h=f.Buffer,d=zd,y=d.inspect,_=y&&y.custom||"inspect";function w(S,A,E){h.prototype.copy.call(S,A,E)}return __=function(){function S(){n(this,S),this.head=null,this.tail=null,this.length=0}return s(S,[{key:"push",value:function(E){var x={data:E,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(E){var x={data:E,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var x=this.head,L=""+x.data;x=x.next;)L+=E+x.data;return L}},{key:"concat",value:function(E){if(this.length===0)return h.alloc(0);for(var x=h.allocUnsafe(E>>>0),L=this.head,U=0;L;)w(L.data,x,U),U+=L.data.length,L=L.next;return x}},{key:"consume",value:function(E,x){var L;return E<this.head.data.length?(L=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?L=this.shift():L=x?this._getString(E):this._getBuffer(E),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var x=this.head,L=1,U=x.data;for(E-=U.length;x=x.next;){var O=x.data,H=E>O.length?O.length:E;if(H===O.length?U+=O:U+=O.slice(0,E),E-=H,E===0){H===O.length?(++L,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=O.slice(H));break}++L}return this.length-=L,U}},{key:"_getBuffer",value:function(E){var x=h.allocUnsafe(E),L=this.head,U=1;for(L.data.copy(x),E-=L.data.length;L=L.next;){var O=L.data,H=E>O.length?O.length:E;if(O.copy(x,x.length-E,0,H),E-=H,E===0){H===O.length?(++U,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=O.slice(H));break}++U}return this.length-=U,x}},{key:_,value:function(E,x){return y(this,t(t({},x),{},{depth:0,customInspect:!1}))}}]),S}(),__}var m_,e5;function E9(){if(e5)return m_;e5=1;function e(u,c){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(c?c(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(a,this,u)):process.nextTick(a,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(y){!c&&y?f._writableState?f._writableState.errorEmitted?process.nextTick(r,f):(f._writableState.errorEmitted=!0,process.nextTick(t,f,y)):process.nextTick(t,f,y):c?(process.nextTick(r,f),c(y)):process.nextTick(r,f)}),this)}function t(u,c){a(u,c),r(u)}function r(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(u,c){u.emit("error",c)}function s(u,c){var f=u._readableState,h=u._writableState;f&&f.autoDestroy||h&&h.autoDestroy?u.destroy(c):u.emit("error",c)}return m_={destroy:e,undestroy:n,errorOrDestroy:s},m_}var v_={},r5;function ul(){if(r5)return v_;r5=1;function e(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var t={};function r(c,f,h){h||(h=Error);function d(_,w,S){return typeof f=="string"?f:f(_,w,S)}var y=function(_){e(w,_);function w(S,A,E){return _.call(this,d(S,A,E))||this}return w}(h);y.prototype.name=h.name,y.prototype.code=c,t[c]=y}function n(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(d){return String(d)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function a(c,f,h){return c.substr(0,f.length)===f}function s(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function u(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}return r("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(c,f,h){var d;typeof f=="string"&&a(f,"not ")?(d="must not be",f=f.replace(/^not /,"")):d="must be";var y;if(s(c," argument"))y="The ".concat(c," ").concat(d," ").concat(n(f,"type"));else{var _=u(c,".")?"property":"argument";y='The "'.concat(c,'" ').concat(_," ").concat(d," ").concat(n(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),v_.codes=t,v_}var w_,n5;function x9(){if(n5)return w_;n5=1;var e=ul().codes.ERR_INVALID_OPT_VALUE;function t(n,a,s){return n.highWaterMark!=null?n.highWaterMark:a?n[s]:null}function r(n,a,s,u){var c=t(a,u,s);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var f=u?s:"highWaterMark";throw new e(f,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return w_={getHighWaterMark:r},w_}var A_,i5;function YL(){if(i5)return A_;i5=1,A_=e;function e(r,n){if(t("noDeprecation"))return r;var a=!1;function s(){if(!a){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!Ni.localStorage)return!1}catch{return!1}var n=Ni.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return A_}var E_,a5;function S9(){if(a5)return E_;a5=1,E_=j;function e(G){var et=this;this.next=null,this.entry=null,this.finish=function(){J(et,G)}}var t;j.WritableState=P;var r={deprecate:YL()},n=A9(),a=ol().Buffer,s=(typeof Ni<"u"?Ni:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(G){return a.from(G)}function c(G){return a.isBuffer(G)||G instanceof s}var f=E9(),h=x9(),d=h.getHighWaterMark,y=ul().codes,_=y.ERR_INVALID_ARG_TYPE,w=y.ERR_METHOD_NOT_IMPLEMENTED,S=y.ERR_MULTIPLE_CALLBACK,A=y.ERR_STREAM_CANNOT_PIPE,E=y.ERR_STREAM_DESTROYED,x=y.ERR_STREAM_NULL_VALUES,L=y.ERR_STREAM_WRITE_AFTER_END,U=y.ERR_UNKNOWN_ENCODING,O=f.errorOrDestroy;Cr()(j,n);function H(){}function P(G,et,it){t=t||Ff(),G=G||{},typeof it!="boolean"&&(it=et instanceof t),this.objectMode=!!G.objectMode,it&&(this.objectMode=this.objectMode||!!G.writableObjectMode),this.highWaterMark=d(this,G,"writableHighWaterMark",it),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ut=G.decodeStrings===!1;this.decodeStrings=!ut,this.defaultEncoding=G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ct){p(et,ct)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}P.prototype.getBuffer=function(){for(var et=this.bufferedRequest,it=[];et;)it.push(et),et=et.next;return it},function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(et){return q.call(this,et)?!0:this!==j?!1:et&&et._writableState instanceof P}})):q=function(et){return et instanceof this};function j(G){t=t||Ff();var et=this instanceof t;if(!et&&!q.call(j,this))return new j(G);this._writableState=new P(G,this,et),this.writable=!0,G&&(typeof G.write=="function"&&(this._write=G.write),typeof G.writev=="function"&&(this._writev=G.writev),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.final=="function"&&(this._final=G.final)),n.call(this)}j.prototype.pipe=function(){O(this,new A)};function F(G,et){var it=new L;O(G,it),process.nextTick(et,it)}function X(G,et,it,ut){var ct;return it===null?ct=new x:typeof it!="string"&&!et.objectMode&&(ct=new _("chunk",["string","Buffer"],it)),ct?(O(G,ct),process.nextTick(ut,ct),!1):!0}j.prototype.write=function(G,et,it){var ut=this._writableState,ct=!1,tt=!ut.objectMode&&c(G);return tt&&!a.isBuffer(G)&&(G=u(G)),typeof et=="function"&&(it=et,et=null),tt?et="buffer":et||(et=ut.defaultEncoding),typeof it!="function"&&(it=H),ut.ending?F(this,it):(tt||X(this,ut,G,it))&&(ut.pendingcb++,ct=I(this,ut,tt,G,et,it)),ct},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var G=this._writableState;G.corked&&(G.corked--,!G.writing&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&B(this,G))},j.prototype.setDefaultEncoding=function(et){if(typeof et=="string"&&(et=et.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((et+"").toLowerCase())>-1))throw new U(et);return this._writableState.defaultEncoding=et,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function z(G,et,it){return!G.objectMode&&G.decodeStrings!==!1&&typeof et=="string"&&(et=a.from(et,it)),et}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(G,et,it,ut,ct,tt){if(!it){var V=z(et,ut,ct);ut!==V&&(it=!0,ct="buffer",ut=V)}var ot=et.objectMode?1:ut.length;et.length+=ot;var mt=et.length<et.highWaterMark;if(mt||(et.needDrain=!0),et.writing||et.corked){var Tt=et.lastBufferedRequest;et.lastBufferedRequest={chunk:ut,encoding:ct,isBuf:it,callback:tt,next:null},Tt?Tt.next=et.lastBufferedRequest:et.bufferedRequest=et.lastBufferedRequest,et.bufferedRequestCount+=1}else M(G,et,!1,ot,ut,ct,tt);return mt}function M(G,et,it,ut,ct,tt,V){et.writelen=ut,et.writecb=V,et.writing=!0,et.sync=!0,et.destroyed?et.onwrite(new E("write")):it?G._writev(ct,et.onwrite):G._write(ct,tt,et.onwrite),et.sync=!1}function m(G,et,it,ut,ct){--et.pendingcb,it?(process.nextTick(ct,ut),process.nextTick(Q,G,et),G._writableState.errorEmitted=!0,O(G,ut)):(ct(ut),G._writableState.errorEmitted=!0,O(G,ut),Q(G,et))}function C(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}function p(G,et){var it=G._writableState,ut=it.sync,ct=it.writecb;if(typeof ct!="function")throw new S;if(C(it),et)m(G,it,ut,et,ct);else{var tt=b(it)||G.destroyed;!tt&&!it.corked&&!it.bufferProcessing&&it.bufferedRequest&&B(G,it),ut?process.nextTick(v,G,it,tt,ct):v(G,it,tt,ct)}}function v(G,et,it,ut){it||D(G,et),et.pendingcb--,ut(),Q(G,et)}function D(G,et){et.length===0&&et.needDrain&&(et.needDrain=!1,G.emit("drain"))}function B(G,et){et.bufferProcessing=!0;var it=et.bufferedRequest;if(G._writev&&it&&it.next){var ut=et.bufferedRequestCount,ct=new Array(ut),tt=et.corkedRequestsFree;tt.entry=it;for(var V=0,ot=!0;it;)ct[V]=it,it.isBuf||(ot=!1),it=it.next,V+=1;ct.allBuffers=ot,M(G,et,!0,et.length,ct,"",tt.finish),et.pendingcb++,et.lastBufferedRequest=null,tt.next?(et.corkedRequestsFree=tt.next,tt.next=null):et.corkedRequestsFree=new e(et),et.bufferedRequestCount=0}else{for(;it;){var mt=it.chunk,Tt=it.encoding,st=it.callback,ft=et.objectMode?1:mt.length;if(M(G,et,!1,ft,mt,Tt,st),it=it.next,et.bufferedRequestCount--,et.writing)break}it===null&&(et.lastBufferedRequest=null)}et.bufferedRequest=it,et.bufferProcessing=!1}j.prototype._write=function(G,et,it){it(new w("_write()"))},j.prototype._writev=null,j.prototype.end=function(G,et,it){var ut=this._writableState;return typeof G=="function"?(it=G,G=null,et=null):typeof et=="function"&&(it=et,et=null),G!=null&&this.write(G,et),ut.corked&&(ut.corked=1,this.uncork()),ut.ending||W(this,ut,it),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function b(G){return G.ending&&G.length===0&&G.bufferedRequest===null&&!G.finished&&!G.writing}function R(G,et){G._final(function(it){et.pendingcb--,it&&O(G,it),et.prefinished=!0,G.emit("prefinish"),Q(G,et)})}function Y(G,et){!et.prefinished&&!et.finalCalled&&(typeof G._final=="function"&&!et.destroyed?(et.pendingcb++,et.finalCalled=!0,process.nextTick(R,G,et)):(et.prefinished=!0,G.emit("prefinish")))}function Q(G,et){var it=b(et);if(it&&(Y(G,et),et.pendingcb===0&&(et.finished=!0,G.emit("finish"),et.autoDestroy))){var ut=G._readableState;(!ut||ut.autoDestroy&&ut.endEmitted)&&G.destroy()}return it}function W(G,et,it){et.ending=!0,Q(G,et),it&&(et.finished?process.nextTick(it):G.once("finish",it)),et.ended=!0,G.writable=!1}function J(G,et,it){var ut=G.entry;for(G.entry=null;ut;){var ct=ut.callback;et.pendingcb--,ct(it),ut=ut.next}et.corkedRequestsFree.next=G}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(et){this._writableState&&(this._writableState.destroyed=et)}}),j.prototype.destroy=f.destroy,j.prototype._undestroy=f.undestroy,j.prototype._destroy=function(G,et){et(G)},E_}var x_,s5;function Ff(){if(s5)return x_;s5=1;var e=Object.keys||function(h){var d=[];for(var y in h)d.push(y);return d};x_=u;var t=C9(),r=S9();Cr()(u,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var s=n[a];u.prototype[s]||(u.prototype[s]=r.prototype[s])}function u(h){if(!(this instanceof u))return new u(h);t.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||process.nextTick(f,this)}function f(h){h.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),x_}var S_={},o5;function Zm(){if(o5)return S_;o5=1;var e=rn().Buffer,t=e.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(x){if(!x)return"utf8";for(var L;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(L)return;x=(""+x).toLowerCase(),L=!0}}function n(x){var L=r(x);if(typeof L!="string"&&(e.isEncoding===t||!t(x)))throw new Error("Unknown encoding: "+x);return L||x}S_.StringDecoder=a;function a(x){this.encoding=n(x);var L;switch(this.encoding){case"utf16le":this.text=y,this.end=_,L=4;break;case"utf8":this.fillLast=f,L=4;break;case"base64":this.text=w,this.end=S,L=3;break;default:this.write=A,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(L)}a.prototype.write=function(x){if(x.length===0)return"";var L,U;if(this.lastNeed){if(L=this.fillLast(x),L===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<x.length?L?L+this.text(x,U):this.text(x,U):L||""},a.prototype.end=d,a.prototype.text=h,a.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function s(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function u(x,L,U){var O=L.length-1;if(O<U)return 0;var H=s(L[O]);return H>=0?(H>0&&(x.lastNeed=H-1),H):--O<U||H===-2?0:(H=s(L[O]),H>=0?(H>0&&(x.lastNeed=H-2),H):--O<U||H===-2?0:(H=s(L[O]),H>=0?(H>0&&(H===2?H=0:x.lastNeed=H-3),H):0))}function c(x,L,U){if((L[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return x.lastNeed=2,""}}function f(x){var L=this.lastTotal-this.lastNeed,U=c(this,x);if(U!==void 0)return U;if(this.lastNeed<=x.length)return x.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,L,0,x.length),this.lastNeed-=x.length}function h(x,L){var U=u(this,x,L);if(!this.lastNeed)return x.toString("utf8",L);this.lastTotal=U;var O=x.length-(U-this.lastNeed);return x.copy(this.lastChar,0,O),x.toString("utf8",L,O)}function d(x){var L=x&&x.length?this.write(x):"";return this.lastNeed?L+"":L}function y(x,L){if((x.length-L)%2===0){var U=x.toString("utf16le",L);if(U){var O=U.charCodeAt(U.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",L,x.length-1)}function _(x){var L=x&&x.length?this.write(x):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,U)}return L}function w(x,L){var U=(x.length-L)%3;return U===0?x.toString("base64",L):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",L,x.length-U))}function S(x){var L=x&&x.length?this.write(x):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function A(x){return x.toString(this.encoding)}function E(x){return x&&x.length?this.write(x):""}return S_}var C_,u5;function x2(){if(u5)return C_;u5=1;var e=ul().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var u=!1;return function(){if(!u){u=!0;for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];s.apply(this,f)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function a(s,u,c){if(typeof u=="function")return a(s,null,u);u||(u={}),c=t(c||r);var f=u.readable||u.readable!==!1&&s.readable,h=u.writable||u.writable!==!1&&s.writable,d=function(){s.writable||_()},y=s._writableState&&s._writableState.finished,_=function(){h=!1,y=!0,f||c.call(s)},w=s._readableState&&s._readableState.endEmitted,S=function(){f=!1,w=!0,h||c.call(s)},A=function(U){c.call(s,U)},E=function(){var U;if(f&&!w)return(!s._readableState||!s._readableState.ended)&&(U=new e),c.call(s,U);if(h&&!y)return(!s._writableState||!s._writableState.ended)&&(U=new e),c.call(s,U)},x=function(){s.req.on("finish",_)};return n(s)?(s.on("complete",_),s.on("abort",E),s.req?x():s.on("request",x)):h&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",S),s.on("finish",_),u.error!==!1&&s.on("error",A),s.on("close",E),function(){s.removeListener("complete",_),s.removeListener("abort",E),s.removeListener("request",x),s.req&&s.req.removeListener("finish",_),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",_),s.removeListener("end",S),s.removeListener("error",A),s.removeListener("close",E)}}return C_=a,C_}var I_,c5;function VL(){if(c5)return I_;c5=1;var e;function t(U,O,H){return O=r(O),O in U?Object.defineProperty(U,O,{value:H,enumerable:!0,configurable:!0,writable:!0}):U[O]=H,U}function r(U){var O=n(U,"string");return typeof O=="symbol"?O:String(O)}function n(U,O){if(typeof U!="object"||U===null)return U;var H=U[Symbol.toPrimitive];if(H!==void 0){var P=H.call(U,O);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(U)}var a=x2(),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),y=Symbol("stream");function _(U,O){return{value:U,done:O}}function w(U){var O=U[s];if(O!==null){var H=U[y].read();H!==null&&(U[h]=null,U[s]=null,U[u]=null,O(_(H,!1)))}}function S(U){process.nextTick(w,U)}function A(U,O){return function(H,P){U.then(function(){if(O[f]){H(_(void 0,!0));return}O[d](H,P)},P)}}var E=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((e={get stream(){return this[y]},next:function(){var O=this,H=this[c];if(H!==null)return Promise.reject(H);if(this[f])return Promise.resolve(_(void 0,!0));if(this[y].destroyed)return new Promise(function(F,X){process.nextTick(function(){O[c]?X(O[c]):F(_(void 0,!0))})});var P=this[h],q;if(P)q=new Promise(A(P,this));else{var j=this[y].read();if(j!==null)return Promise.resolve(_(j,!1));q=new Promise(this[d])}return this[h]=q,q}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var O=this;return new Promise(function(H,P){O[y].destroy(null,function(q){if(q){P(q);return}H(_(void 0,!0))})})}),e),E),L=function(O){var H,P=Object.create(x,(H={},t(H,y,{value:O,writable:!0}),t(H,s,{value:null,writable:!0}),t(H,u,{value:null,writable:!0}),t(H,c,{value:null,writable:!0}),t(H,f,{value:O._readableState.endEmitted,writable:!0}),t(H,d,{value:function(j,F){var X=P[y].read();X?(P[h]=null,P[s]=null,P[u]=null,j(_(X,!1))):(P[s]=j,P[u]=F)},writable:!0}),H));return P[h]=null,a(O,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=P[u];j!==null&&(P[h]=null,P[s]=null,P[u]=null,j(q)),P[c]=q;return}var F=P[s];F!==null&&(P[h]=null,P[s]=null,P[u]=null,F(_(void 0,!0))),P[f]=!0}),O.on("readable",S.bind(null,P)),P};return I_=L,I_}var T_,f5;function $L(){return f5||(f5=1,T_=function(){throw new Error("Readable.from is not available in the browser")}),T_}var B_,l5;function C9(){if(l5)return B_;l5=1,B_=F;var e;F.ReadableState=j,w9().EventEmitter;var t=function(V,ot){return V.listeners(ot).length},r=A9(),n=ol().Buffer,a=(typeof Ni<"u"?Ni:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(tt){return n.from(tt)}function u(tt){return n.isBuffer(tt)||tt instanceof a}var c=zd,f;c&&c.debuglog?f=c.debuglog("stream"):f=function(){};var h=QL(),d=E9(),y=x9(),_=y.getHighWaterMark,w=ul().codes,S=w.ERR_INVALID_ARG_TYPE,A=w.ERR_STREAM_PUSH_AFTER_EOF,E=w.ERR_METHOD_NOT_IMPLEMENTED,x=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,U,O;Cr()(F,r);var H=d.errorOrDestroy,P=["error","close","destroy","pause","resume"];function q(tt,V,ot){if(typeof tt.prependListener=="function")return tt.prependListener(V,ot);!tt._events||!tt._events[V]?tt.on(V,ot):Array.isArray(tt._events[V])?tt._events[V].unshift(ot):tt._events[V]=[ot,tt._events[V]]}function j(tt,V,ot){e=e||Ff(),tt=tt||{},typeof ot!="boolean"&&(ot=V instanceof e),this.objectMode=!!tt.objectMode,ot&&(this.objectMode=this.objectMode||!!tt.readableObjectMode),this.highWaterMark=_(this,tt,"readableHighWaterMark",ot),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=tt.emitClose!==!1,this.autoDestroy=!!tt.autoDestroy,this.destroyed=!1,this.defaultEncoding=tt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,tt.encoding&&(L||(L=Zm().StringDecoder),this.decoder=new L(tt.encoding),this.encoding=tt.encoding)}function F(tt){if(e=e||Ff(),!(this instanceof F))return new F(tt);var V=this instanceof e;this._readableState=new j(tt,this,V),this.readable=!0,tt&&(typeof tt.read=="function"&&(this._read=tt.read),typeof tt.destroy=="function"&&(this._destroy=tt.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),F.prototype.destroy=d.destroy,F.prototype._undestroy=d.undestroy,F.prototype._destroy=function(tt,V){V(tt)},F.prototype.push=function(tt,V){var ot=this._readableState,mt;return ot.objectMode?mt=!0:typeof tt=="string"&&(V=V||ot.defaultEncoding,V!==ot.encoding&&(tt=n.from(tt,V),V=""),mt=!0),X(this,tt,V,!1,mt)},F.prototype.unshift=function(tt){return X(this,tt,null,!0,!1)};function X(tt,V,ot,mt,Tt){f("readableAddChunk",V);var st=tt._readableState;if(V===null)st.reading=!1,p(tt,st);else{var ft;if(Tt||(ft=I(st,V)),ft)H(tt,ft);else if(st.objectMode||V&&V.length>0)if(typeof V!="string"&&!st.objectMode&&Object.getPrototypeOf(V)!==n.prototype&&(V=s(V)),mt)st.endEmitted?H(tt,new x):z(tt,st,V,!0);else if(st.ended)H(tt,new A);else{if(st.destroyed)return!1;st.reading=!1,st.decoder&&!ot?(V=st.decoder.write(V),st.objectMode||V.length!==0?z(tt,st,V,!1):B(tt,st)):z(tt,st,V,!1)}else mt||(st.reading=!1,B(tt,st))}return!st.ended&&(st.length<st.highWaterMark||st.length===0)}function z(tt,V,ot,mt){V.flowing&&V.length===0&&!V.sync?(V.awaitDrain=0,tt.emit("data",ot)):(V.length+=V.objectMode?1:ot.length,mt?V.buffer.unshift(ot):V.buffer.push(ot),V.needReadable&&v(tt)),B(tt,V)}function I(tt,V){var ot;return!u(V)&&typeof V!="string"&&V!==void 0&&!tt.objectMode&&(ot=new S("chunk",["string","Buffer","Uint8Array"],V)),ot}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(tt){L||(L=Zm().StringDecoder);var V=new L(tt);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;for(var ot=this._readableState.buffer.head,mt="";ot!==null;)mt+=V.write(ot.data),ot=ot.next;return this._readableState.buffer.clear(),mt!==""&&this._readableState.buffer.push(mt),this._readableState.length=mt.length,this};var M=1073741824;function m(tt){return tt>=M?tt=M:(tt--,tt|=tt>>>1,tt|=tt>>>2,tt|=tt>>>4,tt|=tt>>>8,tt|=tt>>>16,tt++),tt}function C(tt,V){return tt<=0||V.length===0&&V.ended?0:V.objectMode?1:tt!==tt?V.flowing&&V.length?V.buffer.head.data.length:V.length:(tt>V.highWaterMark&&(V.highWaterMark=m(tt)),tt<=V.length?tt:V.ended?V.length:(V.needReadable=!0,0))}F.prototype.read=function(tt){f("read",tt),tt=parseInt(tt,10);var V=this._readableState,ot=tt;if(tt!==0&&(V.emittedReadable=!1),tt===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return f("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?it(this):v(this),null;if(tt=C(tt,V),tt===0&&V.ended)return V.length===0&&it(this),null;var mt=V.needReadable;f("need readable",mt),(V.length===0||V.length-tt<V.highWaterMark)&&(mt=!0,f("length less than watermark",mt)),V.ended||V.reading?(mt=!1,f("reading or ended",mt)):mt&&(f("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(tt=C(ot,V)));var Tt;return tt>0?Tt=et(tt,V):Tt=null,Tt===null?(V.needReadable=V.length<=V.highWaterMark,tt=0):(V.length-=tt,V.awaitDrain=0),V.length===0&&(V.ended||(V.needReadable=!0),ot!==tt&&V.ended&&it(this)),Tt!==null&&this.emit("data",Tt),Tt};function p(tt,V){if(f("onEofChunk"),!V.ended){if(V.decoder){var ot=V.decoder.end();ot&&ot.length&&(V.buffer.push(ot),V.length+=V.objectMode?1:ot.length)}V.ended=!0,V.sync?v(tt):(V.needReadable=!1,V.emittedReadable||(V.emittedReadable=!0,D(tt)))}}function v(tt){var V=tt._readableState;f("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(f("emitReadable",V.flowing),V.emittedReadable=!0,process.nextTick(D,tt))}function D(tt){var V=tt._readableState;f("emitReadable_",V.destroyed,V.length,V.ended),!V.destroyed&&(V.length||V.ended)&&(tt.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,G(tt)}function B(tt,V){V.readingMore||(V.readingMore=!0,process.nextTick(b,tt,V))}function b(tt,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){var ot=V.length;if(f("maybeReadMore read 0"),tt.read(0),ot===V.length)break}V.readingMore=!1}F.prototype._read=function(tt){H(this,new E("_read()"))},F.prototype.pipe=function(tt,V){var ot=this,mt=this._readableState;switch(mt.pipesCount){case 0:mt.pipes=tt;break;case 1:mt.pipes=[mt.pipes,tt];break;default:mt.pipes.push(tt);break}mt.pipesCount+=1,f("pipe count=%d opts=%j",mt.pipesCount,V);var Tt=(!V||V.end!==!1)&&tt!==process.stdout&&tt!==process.stderr,st=Tt?dt:at;mt.endEmitted?process.nextTick(st):ot.once("end",st),tt.on("unpipe",ft);function ft($,k){f("onunpipe"),$===ot&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,Ot())}function dt(){f("onend"),tt.end()}var At=R(ot);tt.on("drain",At);var Nt=!1;function Ot(){f("cleanup"),tt.removeListener("close",Xt),tt.removeListener("finish",ne),tt.removeListener("drain",At),tt.removeListener("error",pe),tt.removeListener("unpipe",ft),ot.removeListener("end",dt),ot.removeListener("end",at),ot.removeListener("data",Pt),Nt=!0,mt.awaitDrain&&(!tt._writableState||tt._writableState.needDrain)&&At()}ot.on("data",Pt);function Pt($){f("ondata");var k=tt.write($);f("dest.write",k),k===!1&&((mt.pipesCount===1&&mt.pipes===tt||mt.pipesCount>1&&ct(mt.pipes,tt)!==-1)&&!Nt&&(f("false write response, pause",mt.awaitDrain),mt.awaitDrain++),ot.pause())}function pe($){f("onerror",$),at(),tt.removeListener("error",pe),t(tt,"error")===0&&H(tt,$)}q(tt,"error",pe);function Xt(){tt.removeListener("finish",ne),at()}tt.once("close",Xt);function ne(){f("onfinish"),tt.removeListener("close",Xt),at()}tt.once("finish",ne);function at(){f("unpipe"),ot.unpipe(tt)}return tt.emit("pipe",ot),mt.flowing||(f("pipe resume"),ot.resume()),tt};function R(tt){return function(){var ot=tt._readableState;f("pipeOnDrain",ot.awaitDrain),ot.awaitDrain&&ot.awaitDrain--,ot.awaitDrain===0&&t(tt,"data")&&(ot.flowing=!0,G(tt))}}F.prototype.unpipe=function(tt){var V=this._readableState,ot={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return tt&&tt!==V.pipes?this:(tt||(tt=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,tt&&tt.emit("unpipe",this,ot),this);if(!tt){var mt=V.pipes,Tt=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var st=0;st<Tt;st++)mt[st].emit("unpipe",this,{hasUnpiped:!1});return this}var ft=ct(V.pipes,tt);return ft===-1?this:(V.pipes.splice(ft,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),tt.emit("unpipe",this,ot),this)},F.prototype.on=function(tt,V){var ot=r.prototype.on.call(this,tt,V),mt=this._readableState;return tt==="data"?(mt.readableListening=this.listenerCount("readable")>0,mt.flowing!==!1&&this.resume()):tt==="readable"&&!mt.endEmitted&&!mt.readableListening&&(mt.readableListening=mt.needReadable=!0,mt.flowing=!1,mt.emittedReadable=!1,f("on readable",mt.length,mt.reading),mt.length?v(this):mt.reading||process.nextTick(Q,this)),ot},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(tt,V){var ot=r.prototype.removeListener.call(this,tt,V);return tt==="readable"&&process.nextTick(Y,this),ot},F.prototype.removeAllListeners=function(tt){var V=r.prototype.removeAllListeners.apply(this,arguments);return(tt==="readable"||tt===void 0)&&process.nextTick(Y,this),V};function Y(tt){var V=tt._readableState;V.readableListening=tt.listenerCount("readable")>0,V.resumeScheduled&&!V.paused?V.flowing=!0:tt.listenerCount("data")>0&&tt.resume()}function Q(tt){f("readable nexttick read 0"),tt.read(0)}F.prototype.resume=function(){var tt=this._readableState;return tt.flowing||(f("resume"),tt.flowing=!tt.readableListening,W(this,tt)),tt.paused=!1,this};function W(tt,V){V.resumeScheduled||(V.resumeScheduled=!0,process.nextTick(J,tt,V))}function J(tt,V){f("resume",V.reading),V.reading||tt.read(0),V.resumeScheduled=!1,tt.emit("resume"),G(tt),V.flowing&&!V.reading&&tt.read(0)}F.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function G(tt){var V=tt._readableState;for(f("flow",V.flowing);V.flowing&&tt.read()!==null;);}F.prototype.wrap=function(tt){var V=this,ot=this._readableState,mt=!1;tt.on("end",function(){if(f("wrapped end"),ot.decoder&&!ot.ended){var ft=ot.decoder.end();ft&&ft.length&&V.push(ft)}V.push(null)}),tt.on("data",function(ft){if(f("wrapped data"),ot.decoder&&(ft=ot.decoder.write(ft)),!(ot.objectMode&&ft==null)&&!(!ot.objectMode&&(!ft||!ft.length))){var dt=V.push(ft);dt||(mt=!0,tt.pause())}});for(var Tt in tt)this[Tt]===void 0&&typeof tt[Tt]=="function"&&(this[Tt]=function(dt){return function(){return tt[dt].apply(tt,arguments)}}(Tt));for(var st=0;st<P.length;st++)tt.on(P[st],this.emit.bind(this,P[st]));return this._read=function(ft){f("wrapped _read",ft),mt&&(mt=!1,tt.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=VL()),U(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),F._fromList=et,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function et(tt,V){if(V.length===0)return null;var ot;return V.objectMode?ot=V.buffer.shift():!tt||tt>=V.length?(V.decoder?ot=V.buffer.join(""):V.buffer.length===1?ot=V.buffer.first():ot=V.buffer.concat(V.length),V.buffer.clear()):ot=V.buffer.consume(tt,V.decoder),ot}function it(tt){var V=tt._readableState;f("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,process.nextTick(ut,V,tt))}function ut(tt,V){if(f("endReadableNT",tt.endEmitted,tt.length),!tt.endEmitted&&tt.length===0&&(tt.endEmitted=!0,V.readable=!1,V.emit("end"),tt.autoDestroy)){var ot=V._writableState;(!ot||ot.autoDestroy&&ot.finished)&&V.destroy()}}typeof Symbol=="function"&&(F.from=function(tt,V){return O===void 0&&(O=$L()),O(F,tt,V)});function ct(tt,V){for(var ot=0,mt=tt.length;ot<mt;ot++)if(tt[ot]===V)return ot;return-1}return B_}var O_,h5;function I9(){if(h5)return O_;h5=1,O_=c;var e=ul().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,s=Ff();Cr()(c,s);function u(d,y){var _=this._transformState;_.transforming=!1;var w=_.writecb;if(w===null)return this.emit("error",new r);_.writechunk=null,_.writecb=null,y!=null&&this.push(y),w(d);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function c(d){if(!(this instanceof c))return new c(d);s.call(this,d),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",f)}function f(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,_){h(d,y,_)}):h(this,null,null)}c.prototype.push=function(d,y){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,y)},c.prototype._transform=function(d,y,_){_(new t("_transform()"))},c.prototype._write=function(d,y,_){var w=this._transformState;if(w.writecb=_,w.writechunk=d,w.writeencoding=y,!w.transforming){var S=this._readableState;(w.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},c.prototype._read=function(d){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},c.prototype._destroy=function(d,y){s.prototype._destroy.call(this,d,function(_){y(_)})};function h(d,y,_){if(y)return d.emit("error",y);if(_!=null&&d.push(_),d._writableState.length)throw new a;if(d._transformState.transforming)throw new n;return d.push(null)}return O_}var D_,d5;function GL(){if(d5)return D_;d5=1,D_=t;var e=I9();Cr()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,a){a(null,r)},D_}var M_,p5;function XL(){if(p5)return M_;p5=1;var e;function t(_){var w=!1;return function(){w||(w=!0,_.apply(void 0,arguments))}}var r=ul().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function s(_){if(_)throw _}function u(_){return _.setHeader&&typeof _.abort=="function"}function c(_,w,S,A){A=t(A);var E=!1;_.on("close",function(){E=!0}),e===void 0&&(e=x2()),e(_,{readable:w,writable:S},function(L){if(L)return A(L);E=!0,A()});var x=!1;return function(L){if(!E&&!x){if(x=!0,u(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();A(L||new a("pipe"))}}}function f(_){_()}function h(_,w){return _.pipe(w)}function d(_){return!_.length||typeof _[_.length-1]!="function"?s:_.pop()}function y(){for(var _=arguments.length,w=new Array(_),S=0;S<_;S++)w[S]=arguments[S];var A=d(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new n("streams");var E,x=w.map(function(L,U){var O=U<w.length-1,H=U>0;return c(L,O,H,function(P){E||(E=P),P&&x.forEach(f),!O&&(x.forEach(f),A(E))})});return w.reduce(h)}return M_=y,M_}var g5;function WL(){return g5||(g5=1,function(e,t){t=e.exports=C9(),t.Stream=t,t.Readable=t,t.Writable=S9(),t.Duplex=Ff(),t.Transform=I9(),t.PassThrough=GL(),t.finished=x2(),t.pipeline=XL()}(xp,xp.exports)),xp.exports}var R_,y5;function T9(){if(y5)return R_;y5=1;var e=rn().Buffer,t=WL().Transform,r=Cr();function n(s,u){if(!e.isBuffer(s)&&typeof s!="string")throw new TypeError(u+" must be a string or a buffer")}function a(s){t.call(this),this._block=e.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return r(a,t),a.prototype._transform=function(s,u,c){var f=null;try{this.update(s,u)}catch(h){f=h}c(f)},a.prototype._flush=function(s){var u=null;try{this.push(this.digest())}catch(c){u=c}s(u)},a.prototype.update=function(s,u){if(n(s,"Data"),this._finalized)throw new Error("Digest already called");e.isBuffer(s)||(s=e.from(s,u));for(var c=this._block,f=0;this._blockOffset+s.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=s[f++];this._update(),this._blockOffset=0}for(;f<s.length;)c[this._blockOffset++]=s[f++];for(var d=0,y=s.length*8;y>0;++d)this._length[d]+=y,y=this._length[d]/4294967296|0,y>0&&(this._length[d]-=4294967296*y);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();s!==void 0&&(u=u.toString(s)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return u},a.prototype._digest=function(){throw new Error("_digest is not implemented")},R_=a,R_}var H_,b5;function ZL(){if(b5)return H_;b5=1;var e=Cr(),t=T9(),r=rn().Buffer,n=new Array(16);function a(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}e(a,t),a.prototype._update=function(){for(var d=n,y=0;y<16;++y)d[y]=this._block.readInt32LE(y*4);var _=this._a,w=this._b,S=this._c,A=this._d;_=u(_,w,S,A,d[0],3614090360,7),A=u(A,_,w,S,d[1],3905402710,12),S=u(S,A,_,w,d[2],606105819,17),w=u(w,S,A,_,d[3],3250441966,22),_=u(_,w,S,A,d[4],4118548399,7),A=u(A,_,w,S,d[5],1200080426,12),S=u(S,A,_,w,d[6],2821735955,17),w=u(w,S,A,_,d[7],4249261313,22),_=u(_,w,S,A,d[8],1770035416,7),A=u(A,_,w,S,d[9],2336552879,12),S=u(S,A,_,w,d[10],4294925233,17),w=u(w,S,A,_,d[11],2304563134,22),_=u(_,w,S,A,d[12],1804603682,7),A=u(A,_,w,S,d[13],4254626195,12),S=u(S,A,_,w,d[14],2792965006,17),w=u(w,S,A,_,d[15],1236535329,22),_=c(_,w,S,A,d[1],4129170786,5),A=c(A,_,w,S,d[6],3225465664,9),S=c(S,A,_,w,d[11],643717713,14),w=c(w,S,A,_,d[0],3921069994,20),_=c(_,w,S,A,d[5],3593408605,5),A=c(A,_,w,S,d[10],38016083,9),S=c(S,A,_,w,d[15],3634488961,14),w=c(w,S,A,_,d[4],3889429448,20),_=c(_,w,S,A,d[9],568446438,5),A=c(A,_,w,S,d[14],3275163606,9),S=c(S,A,_,w,d[3],4107603335,14),w=c(w,S,A,_,d[8],1163531501,20),_=c(_,w,S,A,d[13],2850285829,5),A=c(A,_,w,S,d[2],4243563512,9),S=c(S,A,_,w,d[7],1735328473,14),w=c(w,S,A,_,d[12],2368359562,20),_=f(_,w,S,A,d[5],4294588738,4),A=f(A,_,w,S,d[8],2272392833,11),S=f(S,A,_,w,d[11],1839030562,16),w=f(w,S,A,_,d[14],4259657740,23),_=f(_,w,S,A,d[1],2763975236,4),A=f(A,_,w,S,d[4],1272893353,11),S=f(S,A,_,w,d[7],4139469664,16),w=f(w,S,A,_,d[10],3200236656,23),_=f(_,w,S,A,d[13],681279174,4),A=f(A,_,w,S,d[0],3936430074,11),S=f(S,A,_,w,d[3],3572445317,16),w=f(w,S,A,_,d[6],76029189,23),_=f(_,w,S,A,d[9],3654602809,4),A=f(A,_,w,S,d[12],3873151461,11),S=f(S,A,_,w,d[15],530742520,16),w=f(w,S,A,_,d[2],3299628645,23),_=h(_,w,S,A,d[0],4096336452,6),A=h(A,_,w,S,d[7],1126891415,10),S=h(S,A,_,w,d[14],2878612391,15),w=h(w,S,A,_,d[5],4237533241,21),_=h(_,w,S,A,d[12],1700485571,6),A=h(A,_,w,S,d[3],2399980690,10),S=h(S,A,_,w,d[10],4293915773,15),w=h(w,S,A,_,d[1],2240044497,21),_=h(_,w,S,A,d[8],1873313359,6),A=h(A,_,w,S,d[15],4264355552,10),S=h(S,A,_,w,d[6],2734768916,15),w=h(w,S,A,_,d[13],1309151649,21),_=h(_,w,S,A,d[4],4149444226,6),A=h(A,_,w,S,d[11],3174756917,10),S=h(S,A,_,w,d[2],718787259,15),w=h(w,S,A,_,d[9],3951481745,21),this._a=this._a+_|0,this._b=this._b+w|0,this._c=this._c+S|0,this._d=this._d+A|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var d=r.allocUnsafe(16);return d.writeInt32LE(this._a,0),d.writeInt32LE(this._b,4),d.writeInt32LE(this._c,8),d.writeInt32LE(this._d,12),d};function s(d,y){return d<<y|d>>>32-y}function u(d,y,_,w,S,A,E){return s(d+(y&_|~y&w)+S+A|0,E)+y|0}function c(d,y,_,w,S,A,E){return s(d+(y&w|_&~w)+S+A|0,E)+y|0}function f(d,y,_,w,S,A,E){return s(d+(y^_^w)+S+A|0,E)+y|0}function h(d,y,_,w,S,A,E){return s(d+(_^(y|~w))+S+A|0,E)+y|0}return H_=a,H_}var L_,_5;function JL(){if(_5)return L_;_5=1;var e=ol().Buffer,t=Cr(),r=T9(),n=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}t(d,r),d.prototype._update=function(){for(var x=n,L=0;L<16;++L)x[L]=this._block.readInt32LE(L*4);for(var U=this._a|0,O=this._b|0,H=this._c|0,P=this._d|0,q=this._e|0,j=this._a|0,F=this._b|0,X=this._c|0,z=this._d|0,I=this._e|0,M=0;M<80;M+=1){var m,C;M<16?(m=_(U,O,H,P,q,x[a[M]],f[0],u[M]),C=E(j,F,X,z,I,x[s[M]],h[0],c[M])):M<32?(m=w(U,O,H,P,q,x[a[M]],f[1],u[M]),C=A(j,F,X,z,I,x[s[M]],h[1],c[M])):M<48?(m=S(U,O,H,P,q,x[a[M]],f[2],u[M]),C=S(j,F,X,z,I,x[s[M]],h[2],c[M])):M<64?(m=A(U,O,H,P,q,x[a[M]],f[3],u[M]),C=w(j,F,X,z,I,x[s[M]],h[3],c[M])):(m=E(U,O,H,P,q,x[a[M]],f[4],u[M]),C=_(j,F,X,z,I,x[s[M]],h[4],c[M])),U=q,q=P,P=y(H,10),H=O,O=m,j=I,I=z,z=y(X,10),X=F,F=C}var p=this._b+H+z|0;this._b=this._c+P+I|0,this._c=this._d+q+j|0,this._d=this._e+U+F|0,this._e=this._a+O+X|0,this._a=p},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=e.alloc?e.alloc(20):new e(20);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x.writeInt32LE(this._e,16),x};function y(x,L){return x<<L|x>>>32-L}function _(x,L,U,O,H,P,q,j){return y(x+(L^U^O)+P+q|0,j)+H|0}function w(x,L,U,O,H,P,q,j){return y(x+(L&U|~L&O)+P+q|0,j)+H|0}function S(x,L,U,O,H,P,q,j){return y(x+((L|~U)^O)+P+q|0,j)+H|0}function A(x,L,U,O,H,P,q,j){return y(x+(L&O|U&~O)+P+q|0,j)+H|0}function E(x,L,U,O,H,P,q,j){return y(x+(L^(U|~O))+P+q|0,j)+H|0}return L_=d,L_}var N_={exports:{}},U_,m5;function cl(){if(m5)return U_;m5=1;var e=rn().Buffer;function t(r,n){this._block=e.alloc(r),this._finalSize=n,this._blockSize=r,this._len=0}return t.prototype.update=function(r,n){typeof r=="string"&&(n=n||"utf8",r=e.from(r,n));for(var a=this._block,s=this._blockSize,u=r.length,c=this._len,f=0;f<u;){for(var h=c%s,d=Math.min(u-f,s-h),y=0;y<d;y++)a[h+y]=r[f+y];c+=d,f+=d,c%s===0&&this._update(a)}return this._len+=u,this},t.prototype.digest=function(r){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=this._len*8;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var s=(a&4294967295)>>>0,u=(a-s)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var c=this._hash();return r?c.toString(r):c},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},U_=t,U_}var P_,v5;function tN(){if(v5)return P_;v5=1;var e=Cr(),t=cl(),r=rn().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,t.call(this,64,56)}e(s,t),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function u(h){return h<<5|h>>>27}function c(h){return h<<30|h>>>2}function f(h,d,y,_){return h===0?d&y|~d&_:h===2?d&y|d&_|y&_:d^y^_}return s.prototype._update=function(h){for(var d=this._w,y=this._a|0,_=this._b|0,w=this._c|0,S=this._d|0,A=this._e|0,E=0;E<16;++E)d[E]=h.readInt32BE(E*4);for(;E<80;++E)d[E]=d[E-3]^d[E-8]^d[E-14]^d[E-16];for(var x=0;x<80;++x){var L=~~(x/20),U=u(y)+f(L,_,w,S)+A+d[x]+n[L]|0;A=S,S=w,w=c(_),_=y,y=U}this._a=y+this._a|0,this._b=_+this._b|0,this._c=w+this._c|0,this._d=S+this._d|0,this._e=A+this._e|0},s.prototype._hash=function(){var h=r.allocUnsafe(20);return h.writeInt32BE(this._a|0,0),h.writeInt32BE(this._b|0,4),h.writeInt32BE(this._c|0,8),h.writeInt32BE(this._d|0,12),h.writeInt32BE(this._e|0,16),h},P_=s,P_}var k_,w5;function eN(){if(w5)return k_;w5=1;var e=Cr(),t=cl(),r=rn().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,t.call(this,64,56)}e(s,t),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function u(d){return d<<1|d>>>31}function c(d){return d<<5|d>>>27}function f(d){return d<<30|d>>>2}function h(d,y,_,w){return d===0?y&_|~y&w:d===2?y&_|y&w|_&w:y^_^w}return s.prototype._update=function(d){for(var y=this._w,_=this._a|0,w=this._b|0,S=this._c|0,A=this._d|0,E=this._e|0,x=0;x<16;++x)y[x]=d.readInt32BE(x*4);for(;x<80;++x)y[x]=u(y[x-3]^y[x-8]^y[x-14]^y[x-16]);for(var L=0;L<80;++L){var U=~~(L/20),O=c(_)+h(U,w,S,A)+E+y[L]+n[U]|0;E=A,A=S,S=f(w),w=_,_=O}this._a=_+this._a|0,this._b=w+this._b|0,this._c=S+this._c|0,this._d=A+this._d|0,this._e=E+this._e|0},s.prototype._hash=function(){var d=r.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},k_=s,k_}var q_,A5;function B9(){if(A5)return q_;A5=1;var e=Cr(),t=cl(),r=rn().Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function s(){this.init(),this._w=a,t.call(this,64,56)}e(s,t),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function u(_,w,S){return S^_&(w^S)}function c(_,w,S){return _&w|S&(_|w)}function f(_){return(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10)}function h(_){return(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7)}function d(_){return(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3}function y(_){return(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10}return s.prototype._update=function(_){for(var w=this._w,S=this._a|0,A=this._b|0,E=this._c|0,x=this._d|0,L=this._e|0,U=this._f|0,O=this._g|0,H=this._h|0,P=0;P<16;++P)w[P]=_.readInt32BE(P*4);for(;P<64;++P)w[P]=y(w[P-2])+w[P-7]+d(w[P-15])+w[P-16]|0;for(var q=0;q<64;++q){var j=H+h(L)+u(L,U,O)+n[q]+w[q]|0,F=f(S)+c(S,A,E)|0;H=O,O=U,U=L,L=x+j|0,x=E,E=A,A=S,S=j+F|0}this._a=S+this._a|0,this._b=A+this._b|0,this._c=E+this._c|0,this._d=x+this._d|0,this._e=L+this._e|0,this._f=U+this._f|0,this._g=O+this._g|0,this._h=H+this._h|0},s.prototype._hash=function(){var _=r.allocUnsafe(32);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_.writeInt32BE(this._h,28),_},q_=s,q_}var z_,E5;function rN(){if(E5)return z_;E5=1;var e=Cr(),t=B9(),r=cl(),n=rn().Buffer,a=new Array(64);function s(){this.init(),this._w=a,r.call(this,64,56)}return e(s,t),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var u=n.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},z_=s,z_}var j_,x5;function O9(){if(x5)return j_;x5=1;var e=Cr(),t=cl(),r=rn().Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function s(){this.init(),this._w=a,t.call(this,128,112)}e(s,t),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function u(A,E,x){return x^A&(E^x)}function c(A,E,x){return A&E|x&(A|E)}function f(A,E){return(A>>>28|E<<4)^(E>>>2|A<<30)^(E>>>7|A<<25)}function h(A,E){return(A>>>14|E<<18)^(A>>>18|E<<14)^(E>>>9|A<<23)}function d(A,E){return(A>>>1|E<<31)^(A>>>8|E<<24)^A>>>7}function y(A,E){return(A>>>1|E<<31)^(A>>>8|E<<24)^(A>>>7|E<<25)}function _(A,E){return(A>>>19|E<<13)^(E>>>29|A<<3)^A>>>6}function w(A,E){return(A>>>19|E<<13)^(E>>>29|A<<3)^(A>>>6|E<<26)}function S(A,E){return A>>>0<E>>>0?1:0}return s.prototype._update=function(A){for(var E=this._w,x=this._ah|0,L=this._bh|0,U=this._ch|0,O=this._dh|0,H=this._eh|0,P=this._fh|0,q=this._gh|0,j=this._hh|0,F=this._al|0,X=this._bl|0,z=this._cl|0,I=this._dl|0,M=this._el|0,m=this._fl|0,C=this._gl|0,p=this._hl|0,v=0;v<32;v+=2)E[v]=A.readInt32BE(v*4),E[v+1]=A.readInt32BE(v*4+4);for(;v<160;v+=2){var D=E[v-30],B=E[v-15*2+1],b=d(D,B),R=y(B,D);D=E[v-2*2],B=E[v-2*2+1];var Y=_(D,B),Q=w(B,D),W=E[v-7*2],J=E[v-7*2+1],G=E[v-16*2],et=E[v-16*2+1],it=R+J|0,ut=b+W+S(it,R)|0;it=it+Q|0,ut=ut+Y+S(it,Q)|0,it=it+et|0,ut=ut+G+S(it,et)|0,E[v]=ut,E[v+1]=it}for(var ct=0;ct<160;ct+=2){ut=E[ct],it=E[ct+1];var tt=c(x,L,U),V=c(F,X,z),ot=f(x,F),mt=f(F,x),Tt=h(H,M),st=h(M,H),ft=n[ct],dt=n[ct+1],At=u(H,P,q),Nt=u(M,m,C),Ot=p+st|0,Pt=j+Tt+S(Ot,p)|0;Ot=Ot+Nt|0,Pt=Pt+At+S(Ot,Nt)|0,Ot=Ot+dt|0,Pt=Pt+ft+S(Ot,dt)|0,Ot=Ot+it|0,Pt=Pt+ut+S(Ot,it)|0;var pe=mt+V|0,Xt=ot+tt+S(pe,mt)|0;j=q,p=C,q=P,C=m,P=H,m=M,M=I+Ot|0,H=O+Pt+S(M,I)|0,O=U,I=z,U=L,z=X,L=x,X=F,F=Ot+pe|0,x=Pt+Xt+S(F,Ot)|0}this._al=this._al+F|0,this._bl=this._bl+X|0,this._cl=this._cl+z|0,this._dl=this._dl+I|0,this._el=this._el+M|0,this._fl=this._fl+m|0,this._gl=this._gl+C|0,this._hl=this._hl+p|0,this._ah=this._ah+x+S(this._al,F)|0,this._bh=this._bh+L+S(this._bl,X)|0,this._ch=this._ch+U+S(this._cl,z)|0,this._dh=this._dh+O+S(this._dl,I)|0,this._eh=this._eh+H+S(this._el,M)|0,this._fh=this._fh+P+S(this._fl,m)|0,this._gh=this._gh+q+S(this._gl,C)|0,this._hh=this._hh+j+S(this._hl,p)|0},s.prototype._hash=function(){var A=r.allocUnsafe(64);function E(x,L,U){A.writeInt32BE(x,U),A.writeInt32BE(L,U+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),A},j_=s,j_}var F_,S5;function nN(){if(S5)return F_;S5=1;var e=Cr(),t=O9(),r=cl(),n=rn().Buffer,a=new Array(160);function s(){this.init(),this._w=a,r.call(this,128,112)}return e(s,t),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var u=n.allocUnsafe(48);function c(f,h,d){u.writeInt32BE(f,d),u.writeInt32BE(h,d+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),u},F_=s,F_}var C5;function iN(){if(C5)return N_.exports;C5=1;var e=N_.exports=function(r){r=r.toLowerCase();var n=e[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n};return e.sha=tN(),e.sha1=eN(),e.sha224=rN(),e.sha256=B9(),e.sha384=nN(),e.sha512=O9(),N_.exports}var K_,I5;function aN(){if(I5)return K_;I5=1;var e=rn().Buffer,t=zd.Transform,r=Zm().StringDecoder,n=Cr();function a(f){t.call(this),this.hashMode=typeof f=="string",this.hashMode?this[f]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(a,t);var s=typeof Uint8Array<"u",u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);function c(f,h){if(f instanceof e)return f;if(typeof f=="string")return e.from(f,h);if(u&&ArrayBuffer.isView(f)){if(f.byteLength===0)return e.alloc(0);var d=e.from(f.buffer,f.byteOffset,f.byteLength);if(d.byteLength===f.byteLength)return d}if(s&&f instanceof Uint8Array||e.isBuffer(f)&&f.constructor&&typeof f.constructor.isBuffer=="function"&&f.constructor.isBuffer(f))return e.from(f);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return a.prototype.update=function(f,h,d){var y=c(f,h),_=this._update(y);return this.hashMode?this:(d&&(_=this._toString(_,d)),_)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(f,h,d){var y;try{this.hashMode?this._update(f):this.push(this._update(f))}catch(_){y=_}finally{d(y)}},a.prototype._flush=function(f){var h;try{this.push(this.__final())}catch(d){h=d}f(h)},a.prototype._finalOrDigest=function(f){var h=this.__final()||e.alloc(0);return f&&(h=this._toString(h,f,!0)),h},a.prototype._toString=function(f,h,d){if(this._decoder||(this._decoder=new r(h),this._encoding=h),this._encoding!==h)throw new Error("cant switch encodings");var y=this._decoder.write(f);return d&&(y+=this._decoder.end()),y},K_=a,K_}var Q_,T5;function S2(){if(T5)return Q_;T5=1;var e=Cr(),t=ZL(),r=JL(),n=iN(),a=aN();function s(u){a.call(this,"digest"),this._hash=u}return e(s,a),s.prototype._update=function(u){this._hash.update(u)},s.prototype._final=function(){return this._hash.digest()},Q_=function(c){return c=c.toLowerCase(),c==="md5"?new t:c==="rmd160"||c==="ripemd160"?new r:new s(n(c))},Q_}var Y_,B5;function sN(){if(B5)return Y_;B5=1;var e=rn().Buffer;function t(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),a=0;a<n.length;a++)n[a]=255;for(var s=0;s<r.length;s++){var u=r.charAt(s),c=u.charCodeAt(0);if(n[c]!==255)throw new TypeError(u+" is ambiguous");n[c]=s}var f=r.length,h=r.charAt(0),d=Math.log(f)/Math.log(256),y=Math.log(256)/Math.log(f);function _(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=e.from(A)),!e.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var E=0,x=0,L=0,U=A.length;L!==U&&A[L]===0;)L++,E++;for(var O=(U-L)*y+1>>>0,H=new Uint8Array(O);L!==U;){for(var P=A[L],q=0,j=O-1;(P!==0||q<x)&&j!==-1;j--,q++)P+=256*H[j]>>>0,H[j]=P%f>>>0,P=P/f>>>0;if(P!==0)throw new Error("Non-zero carry");x=q,L++}for(var F=O-x;F!==O&&H[F]===0;)F++;for(var X=h.repeat(E);F<O;++F)X+=r.charAt(H[F]);return X}function w(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return e.alloc(0);for(var E=0,x=0,L=0;A[E]===h;)x++,E++;for(var U=(A.length-E)*d+1>>>0,O=new Uint8Array(U);E<A.length;){var H=n[A.charCodeAt(E)];if(H===255)return;for(var P=0,q=U-1;(H!==0||P<L)&&q!==-1;q--,P++)H+=f*O[q]>>>0,O[q]=H%256>>>0,H=H/256>>>0;if(H!==0)throw new Error("Non-zero carry");L=P,E++}for(var j=U-L;j!==U&&O[j]===0;)j++;var F=e.allocUnsafe(x+(U-j));F.fill(0,0,x);for(var X=x;j!==U;)F[X++]=O[j++];return F}function S(A){var E=w(A);if(E)return E;throw new Error("Non-base"+f+" character")}return{encode:_,decodeUnsafe:w,decode:S}}return Y_=t,Y_}var V_,O5;function oN(){if(O5)return V_;O5=1;var e=sN(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return V_=e(t),V_}var $_,D5;function uN(){if(D5)return $_;D5=1;var e=oN(),t=rn().Buffer;return $_=function(r){function n(c){var f=r(c);return e.encode(t.concat([c,f],c.length+4))}function a(c){var f=c.slice(0,-4),h=c.slice(-4),d=r(f);if(!(h[0]^d[0]|h[1]^d[1]|h[2]^d[2]|h[3]^d[3]))return f}function s(c){var f=e.decodeUnsafe(c);if(f)return a(f)}function u(c){var f=e.decode(c),h=a(f);if(!h)throw new Error("Invalid checksum");return h}return{encode:n,decode:u,decodeUnsafe:s}},$_}var G_,M5;function cN(){if(M5)return G_;M5=1;var e=S2(),t=uN();function r(n){var a=e("sha256").update(n).digest();return e("sha256").update(a).digest()}return G_=t(r),G_}var X_,R5;function fN(){if(R5)return X_;R5=1;for(var e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",t={},r=0;r<e.length;r++){var n=e.charAt(r);if(t[n]!==void 0)throw new TypeError(n+" is ambiguous");t[n]=r}function a(A){var E=A>>25;return(A&33554431)<<5^-(E>>0&1)&996825010^-(E>>1&1)&642813549^-(E>>2&1)&513874426^-(E>>3&1)&1027748829^-(E>>4&1)&705979059}function s(A){for(var E=1,x=0;x<A.length;++x){var L=A.charCodeAt(x);if(L<33||L>126)return"Invalid prefix ("+A+")";E=a(E)^L>>5}for(E=a(E),x=0;x<A.length;++x){var U=A.charCodeAt(x);E=a(E)^U&31}return E}function u(A,E,x){if(x=x||90,A.length+7+E.length>x)throw new TypeError("Exceeds length limit");A=A.toLowerCase();var L=s(A);if(typeof L=="string")throw new Error(L);for(var U=A+"1",O=0;O<E.length;++O){var H=E[O];if(H>>5!==0)throw new Error("Non 5-bit word");L=a(L)^H,U+=e.charAt(H)}for(O=0;O<6;++O)L=a(L);for(L^=1,O=0;O<6;++O){var P=L>>(5-O)*5&31;U+=e.charAt(P)}return U}function c(A,E){if(E=E||90,A.length<8)return A+" too short";if(A.length>E)return"Exceeds length limit";var x=A.toLowerCase(),L=A.toUpperCase();if(A!==x&&A!==L)return"Mixed-case string "+A;A=x;var U=A.lastIndexOf("1");if(U===-1)return"No separator character for "+A;if(U===0)return"Missing prefix for "+A;var O=A.slice(0,U),H=A.slice(U+1);if(H.length<6)return"Data too short";var P=s(O);if(typeof P=="string")return P;for(var q=[],j=0;j<H.length;++j){var F=H.charAt(j),X=t[F];if(X===void 0)return"Unknown character "+F;P=a(P)^X,!(j+6>=H.length)&&q.push(X)}return P!==1?"Invalid checksum for "+A:{prefix:O,words:q}}function f(){var A=c.apply(null,arguments);if(typeof A=="object")return A}function h(A){var E=c.apply(null,arguments);if(typeof E=="object")return E;throw new Error(E)}function d(A,E,x,L){for(var U=0,O=0,H=(1<<x)-1,P=[],q=0;q<A.length;++q)for(U=U<<E|A[q],O+=E;O>=x;)O-=x,P.push(U>>O&H);if(L)O>0&&P.push(U<<x-O&H);else{if(O>=E)return"Excess padding";if(U<<x-O&H)return"Non-zero padding"}return P}function y(A){var E=d(A,8,5,!0);if(Array.isArray(E))return E}function _(A){var E=d(A,8,5,!0);if(Array.isArray(E))return E;throw new Error(E)}function w(A){var E=d(A,5,8,!1);if(Array.isArray(E))return E}function S(A){var E=d(A,5,8,!1);if(Array.isArray(E))return E;throw new Error(E)}return X_={decodeUnsafe:f,decode:h,encode:u,toWordsUnsafe:y,toWords:_,fromWordsUnsafe:w,fromWords:S},X_}var W_,H5;function lN(){return H5||(H5=1,W_=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return!0;if(typeof e.equals=="function")return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}),W_}var Bi={},L5;function hN(){if(L5)return Bi;L5=1;var e=Object.prototype.toString;return Bi.isArray=function(t,r){if(!Array.isArray(t))throw TypeError(r)},Bi.isBoolean=function(t,r){if(e.call(t)!=="[object Boolean]")throw TypeError(r)},Bi.isBuffer=function(t,r){if(!Buffer.isBuffer(t))throw TypeError(r)},Bi.isFunction=function(t,r){if(e.call(t)!=="[object Function]")throw TypeError(r)},Bi.isNumber=function(t,r){if(e.call(t)!=="[object Number]")throw TypeError(r)},Bi.isObject=function(t,r){if(e.call(t)!=="[object Object]")throw TypeError(r)},Bi.isBufferLength=function(t,r,n){if(t.length!==r)throw RangeError(n)},Bi.isBufferLength2=function(t,r,n,a){if(t.length!==r&&t.length!==n)throw RangeError(a)},Bi.isLengthGTZero=function(t,r){if(t.length===0)throw RangeError(r)},Bi.isNumberInInterval=function(t,r,n,a){if(t<=r||t>=n)throw RangeError(a)},Bi}var Ou={},Z_,N5;function dN(){if(N5)return Z_;N5=1;var e=rn().Buffer;function t(a){if(a.length<8||a.length>72||a[0]!==48||a[1]!==a.length-2||a[2]!==2)return!1;var s=a[3];if(s===0||5+s>=a.length||a[4+s]!==2)return!1;var u=a[5+s];return!(u===0||6+s+u!==a.length||a[4]&128||s>1&&a[4]===0&&!(a[5]&128)||a[s+6]&128||u>1&&a[s+6]===0&&!(a[s+7]&128))}function r(a){if(a.length<8)throw new Error("DER sequence length is too short");if(a.length>72)throw new Error("DER sequence length is too long");if(a[0]!==48)throw new Error("Expected DER sequence");if(a[1]!==a.length-2)throw new Error("DER sequence length is invalid");if(a[2]!==2)throw new Error("Expected DER integer");var s=a[3];if(s===0)throw new Error("R length is zero");if(5+s>=a.length)throw new Error("R length is too long");if(a[4+s]!==2)throw new Error("Expected DER integer (2)");var u=a[5+s];if(u===0)throw new Error("S length is zero");if(6+s+u!==a.length)throw new Error("S length is invalid");if(a[4]&128)throw new Error("R value is negative");if(s>1&&a[4]===0&&!(a[5]&128))throw new Error("R value excessively padded");if(a[s+6]&128)throw new Error("S value is negative");if(u>1&&a[s+6]===0&&!(a[s+7]&128))throw new Error("S value excessively padded");return{r:a.slice(4,4+s),s:a.slice(6+s)}}function n(a,s){var u=a.length,c=s.length;if(u===0)throw new Error("R length is zero");if(c===0)throw new Error("S length is zero");if(u>33)throw new Error("R length is too long");if(c>33)throw new Error("S length is too long");if(a[0]&128)throw new Error("R value is negative");if(s[0]&128)throw new Error("S value is negative");if(u>1&&a[0]===0&&!(a[1]&128))throw new Error("R value excessively padded");if(c>1&&s[0]===0&&!(s[1]&128))throw new Error("S value excessively padded");var f=e.allocUnsafe(6+u+c);return f[0]=48,f[1]=f.length-2,f[2]=2,f[3]=a.length,a.copy(f,4),f[4+u]=2,f[5+u]=s.length,s.copy(f,6+u),f}return Z_={check:t,decode:r,encode:n},Z_}var U5;function pN(){if(U5)return Ou;U5=1;var e=rn().Buffer,t=dN(),r=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);return Ou.privateKeyExport=function(a,s,u){var c=e.from(u?r:n);return a.copy(c,u?8:9),s.copy(c,u?181:214),c},Ou.privateKeyImport=function(a){var s=a.length,u=0;if(!(s<u+1||a[u]!==48)&&(u+=1,!(s<u+1||!(a[u]&128)))){var c=a[u]&127;if(u+=1,!(c<1||c>2)&&!(s<u+c)){var f=a[u+c-1]|(c>1?a[u+c-2]<<8:0);if(u+=c,!(s<u+f)&&!(s<u+3||a[u]!==2||a[u+1]!==1||a[u+2]!==1)&&(u+=3,!(s<u+2||a[u]!==4||a[u+1]>32||s<u+2+a[u+1])))return a.slice(u+2,u+2+a[u+1])}}},Ou.signatureExport=function(a){for(var s=e.concat([e.from([0]),a.r]),u=33,c=0;u>1&&s[c]===0&&!(s[c+1]&128);--u,++c);for(var f=e.concat([e.from([0]),a.s]),h=33,d=0;h>1&&f[d]===0&&!(f[d+1]&128);--h,++d);return t.encode(s.slice(c),f.slice(d))},Ou.signatureImport=function(a){var s=e.alloc(32,0),u=e.alloc(32,0);try{var c=t.decode(a);if(c.r.length===33&&c.r[0]===0&&(c.r=c.r.slice(1)),c.r.length>32)throw new Error("R length is too long");if(c.s.length===33&&c.s[0]===0&&(c.s=c.s.slice(1)),c.s.length>32)throw new Error("S length is too long")}catch{return}return c.r.copy(s,32-c.r.length),c.s.copy(u,32-c.s.length),{r:s,s:u}},Ou.signatureImportLax=function(a){var s=e.alloc(32,0),u=e.alloc(32,0),c=a.length,f=0;if(a[f++]===48){var h=a[f++];if(!(h&128&&(f+=h-128,f>c))&&a[f++]===2){var d=a[f++];if(d&128){if(h=d-128,f+h>c)return;for(;h>0&&a[f]===0;f+=1,h-=1);for(d=0;h>0;f+=1,h-=1)d=(d<<8)+a[f]}if(!(d>c-f)){var y=f;if(f+=d,a[f++]===2){var _=a[f++];if(_&128){if(h=_-128,f+h>c)return;for(;h>0&&a[f]===0;f+=1,h-=1);for(_=0;h>0;f+=1,h-=1)_=(_<<8)+a[f]}if(!(_>c-f)){var w=f;for(f+=_;d>0&&a[y]===0;d-=1,y+=1);if(!(d>32)){var S=a.slice(y,y+d);for(S.copy(s,32-S.length);_>0&&a[w]===0;_-=1,w+=1);if(!(_>32)){var A=a.slice(w,w+_);return A.copy(u,32-A.length),{r:s,s:u}}}}}}}}},Ou}const gN="compressed should be a boolean",yN="private key should be a Buffer",bN="private key length is invalid",_N="private key range is invalid",mN="tweak out of range or resulting private key is invalid",vN="tweak out of range",wN="couldn't export to DER format",AN="couldn't import from DER format",EN="public keys should be an Array",xN="public keys Array should have at least 1 element",SN="public key should be a Buffer",CN="public key length is invalid",IN="the public key could not be parsed or is invalid",TN="private was invalid, try again",BN="tweak out of range or resulting public key is invalid",ON="tweak out of range",DN="the sum of the public keys is not valid",MN="scalar was invalid (zero or overflow)",RN="signature should be a Buffer",HN="signature length is invalid",LN="couldn't parse signature",NN="couldn't parse DER signature",UN="nonce generation function failed or private key is invalid",PN="couldn't recover public key from signature",kN="message should be a Buffer",qN="message length is invalid",zN="options should be an Object",jN="options.data should be a Buffer",FN="options.data length is invalid",KN="options.noncefn should be a Function",QN="recovery should be a Number",YN="recovery should have value between -1 and 4",VN="tweak should be a Buffer",$N="tweak length is invalid",D9={COMPRESSED_TYPE_INVALID:gN,EC_PRIVATE_KEY_TYPE_INVALID:yN,EC_PRIVATE_KEY_LENGTH_INVALID:bN,EC_PRIVATE_KEY_RANGE_INVALID:_N,EC_PRIVATE_KEY_TWEAK_ADD_FAIL:mN,EC_PRIVATE_KEY_TWEAK_MUL_FAIL:vN,EC_PRIVATE_KEY_EXPORT_DER_FAIL:wN,EC_PRIVATE_KEY_IMPORT_DER_FAIL:AN,EC_PUBLIC_KEYS_TYPE_INVALID:EN,EC_PUBLIC_KEYS_LENGTH_INVALID:xN,EC_PUBLIC_KEY_TYPE_INVALID:SN,EC_PUBLIC_KEY_LENGTH_INVALID:CN,EC_PUBLIC_KEY_PARSE_FAIL:IN,EC_PUBLIC_KEY_CREATE_FAIL:TN,EC_PUBLIC_KEY_TWEAK_ADD_FAIL:BN,EC_PUBLIC_KEY_TWEAK_MUL_FAIL:ON,EC_PUBLIC_KEY_COMBINE_FAIL:DN,ECDH_FAIL:MN,ECDSA_SIGNATURE_TYPE_INVALID:RN,ECDSA_SIGNATURE_LENGTH_INVALID:HN,ECDSA_SIGNATURE_PARSE_FAIL:LN,ECDSA_SIGNATURE_PARSE_DER_FAIL:NN,ECDSA_SIGN_FAIL:UN,ECDSA_RECOVER_FAIL:PN,MSG32_TYPE_INVALID:kN,MSG32_LENGTH_INVALID:qN,OPTIONS_TYPE_INVALID:zN,OPTIONS_DATA_TYPE_INVALID:jN,OPTIONS_DATA_LENGTH_INVALID:FN,OPTIONS_NONCEFN_TYPE_INVALID:KN,RECOVERY_ID_TYPE_INVALID:QN,RECOVERY_ID_VALUE_INVALID:YN,TWEAK_TYPE_INVALID:VN,TWEAK_LENGTH_INVALID:$N};var J_,P5;function GN(){if(P5)return J_;P5=1;var e=hN(),t=pN(),r=D9;function n(a,s){return a===void 0?s:(e.isBoolean(a,r.COMPRESSED_TYPE_INVALID),a)}return J_=function(a){return{privateKeyVerify:function(s){return e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),s.length===32&&a.privateKeyVerify(s)},privateKeyExport:function(s,u){e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(s,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),u=n(u,!0);var c=a.privateKeyExport(s,u);return t.privateKeyExport(s,c,u)},privateKeyImport:function(s){if(e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),s=t.privateKeyImport(s),s&&s.length===32&&a.privateKeyVerify(s))return s;throw new Error(r.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(s){return e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(s,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),a.privateKeyNegate(s)},privateKeyModInverse:function(s){return e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(s,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),a.privateKeyModInverse(s)},privateKeyTweakAdd:function(s,u){return e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(s,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),e.isBuffer(u,r.TWEAK_TYPE_INVALID),e.isBufferLength(u,32,r.TWEAK_LENGTH_INVALID),a.privateKeyTweakAdd(s,u)},privateKeyTweakMul:function(s,u){return e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(s,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),e.isBuffer(u,r.TWEAK_TYPE_INVALID),e.isBufferLength(u,32,r.TWEAK_LENGTH_INVALID),a.privateKeyTweakMul(s,u)},publicKeyCreate:function(s,u){return e.isBuffer(s,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(s,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),u=n(u,!0),a.publicKeyCreate(s,u)},publicKeyConvert:function(s,u){return e.isBuffer(s,r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(s,33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID),u=n(u,!0),a.publicKeyConvert(s,u)},publicKeyVerify:function(s){return e.isBuffer(s,r.EC_PUBLIC_KEY_TYPE_INVALID),a.publicKeyVerify(s)},publicKeyTweakAdd:function(s,u,c){return e.isBuffer(s,r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(s,33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID),e.isBuffer(u,r.TWEAK_TYPE_INVALID),e.isBufferLength(u,32,r.TWEAK_LENGTH_INVALID),c=n(c,!0),a.publicKeyTweakAdd(s,u,c)},publicKeyTweakMul:function(s,u,c){return e.isBuffer(s,r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(s,33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID),e.isBuffer(u,r.TWEAK_TYPE_INVALID),e.isBufferLength(u,32,r.TWEAK_LENGTH_INVALID),c=n(c,!0),a.publicKeyTweakMul(s,u,c)},publicKeyCombine:function(s,u){e.isArray(s,r.EC_PUBLIC_KEYS_TYPE_INVALID),e.isLengthGTZero(s,r.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var c=0;c<s.length;++c)e.isBuffer(s[c],r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(s[c],33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID);return u=n(u,!0),a.publicKeyCombine(s,u)},signatureNormalize:function(s){return e.isBuffer(s,r.ECDSA_SIGNATURE_TYPE_INVALID),e.isBufferLength(s,64,r.ECDSA_SIGNATURE_LENGTH_INVALID),a.signatureNormalize(s)},signatureExport:function(s){e.isBuffer(s,r.ECDSA_SIGNATURE_TYPE_INVALID),e.isBufferLength(s,64,r.ECDSA_SIGNATURE_LENGTH_INVALID);var u=a.signatureExport(s);return t.signatureExport(u)},signatureImport:function(s){e.isBuffer(s,r.ECDSA_SIGNATURE_TYPE_INVALID),e.isLengthGTZero(s,r.ECDSA_SIGNATURE_LENGTH_INVALID);var u=t.signatureImport(s);if(u)return a.signatureImport(u);throw new Error(r.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(s){e.isBuffer(s,r.ECDSA_SIGNATURE_TYPE_INVALID),e.isLengthGTZero(s,r.ECDSA_SIGNATURE_LENGTH_INVALID);var u=t.signatureImportLax(s);if(u)return a.signatureImport(u);throw new Error(r.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(s,u,c){e.isBuffer(s,r.MSG32_TYPE_INVALID),e.isBufferLength(s,32,r.MSG32_LENGTH_INVALID),e.isBuffer(u,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(u,32,r.EC_PRIVATE_KEY_LENGTH_INVALID);var f=null,h=null;return c!==void 0&&(e.isObject(c,r.OPTIONS_TYPE_INVALID),c.data!==void 0&&(e.isBuffer(c.data,r.OPTIONS_DATA_TYPE_INVALID),e.isBufferLength(c.data,32,r.OPTIONS_DATA_LENGTH_INVALID),f=c.data),c.noncefn!==void 0&&(e.isFunction(c.noncefn,r.OPTIONS_NONCEFN_TYPE_INVALID),h=c.noncefn)),a.sign(s,u,h,f)},verify:function(s,u,c){return e.isBuffer(s,r.MSG32_TYPE_INVALID),e.isBufferLength(s,32,r.MSG32_LENGTH_INVALID),e.isBuffer(u,r.ECDSA_SIGNATURE_TYPE_INVALID),e.isBufferLength(u,64,r.ECDSA_SIGNATURE_LENGTH_INVALID),e.isBuffer(c,r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(c,33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID),a.verify(s,u,c)},recover:function(s,u,c,f){return e.isBuffer(s,r.MSG32_TYPE_INVALID),e.isBufferLength(s,32,r.MSG32_LENGTH_INVALID),e.isBuffer(u,r.ECDSA_SIGNATURE_TYPE_INVALID),e.isBufferLength(u,64,r.ECDSA_SIGNATURE_LENGTH_INVALID),e.isNumber(c,r.RECOVERY_ID_TYPE_INVALID),e.isNumberInInterval(c,-1,4,r.RECOVERY_ID_VALUE_INVALID),f=n(f,!0),a.recover(s,u,c,f)},ecdh:function(s,u){return e.isBuffer(s,r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(s,33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID),e.isBuffer(u,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(u,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),a.ecdh(s,u)},ecdhUnsafe:function(s,u,c){return e.isBuffer(s,r.EC_PUBLIC_KEY_TYPE_INVALID),e.isBufferLength2(s,33,65,r.EC_PUBLIC_KEY_LENGTH_INVALID),e.isBuffer(u,r.EC_PRIVATE_KEY_TYPE_INVALID),e.isBufferLength(u,32,r.EC_PRIVATE_KEY_LENGTH_INVALID),c=n(c,!0),a.ecdhUnsafe(s,u,c)}}},J_}var tm={},k5;function XN(){return k5||(k5=1,function(e){var t=rn().Buffer,r=S2(),n=Ya(),a=v9().ec,s=D9,u=new a("secp256k1"),c=u.curve;function f(y,_){var w=new n(_);if(w.cmp(c.p)>=0)return null;w=w.toRed(c.red);var S=w.redSqr().redIMul(w).redIAdd(c.b).redSqrt();y===3!==S.isOdd()&&(S=S.redNeg());const A=w.redSqr().redIMul(w);return S.redSqr().redISub(A.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:w,y:S}}):null}function h(y,_,w){var S=new n(_),A=new n(w);if(S.cmp(c.p)>=0||A.cmp(c.p)>=0||(S=S.toRed(c.red),A=A.toRed(c.red),(y===6||y===7)&&A.isOdd()!==(y===7)))return null;var E=S.redSqr().redIMul(S);return A.redSqr().redISub(E.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:S,y:A}}):null}function d(y){var _=y[0];switch(_){case 2:case 3:return y.length!==33?null:f(_,y.slice(1,33));case 4:case 6:case 7:return y.length!==65?null:h(_,y.slice(1,33),y.slice(33,65));default:return null}}e.privateKeyVerify=function(y){var _=new n(y);return _.cmp(c.n)<0&&!_.isZero()},e.privateKeyExport=function(y,_){var w=new n(y);if(w.cmp(c.n)>=0||w.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return t.from(u.keyFromPrivate(y).getPublic(_,!0))},e.privateKeyNegate=function(y){var _=new n(y);return _.isZero()?t.alloc(32):c.n.sub(_).umod(c.n).toArrayLike(t,"be",32)},e.privateKeyModInverse=function(y){var _=new n(y);if(_.cmp(c.n)>=0||_.isZero())throw new Error(s.EC_PRIVATE_KEY_RANGE_INVALID);return _.invm(c.n).toArrayLike(t,"be",32)},e.privateKeyTweakAdd=function(y,_){var w=new n(_);if(w.cmp(c.n)>=0)throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(w.iadd(new n(y)),w.cmp(c.n)>=0&&w.isub(c.n),w.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return w.toArrayLike(t,"be",32)},e.privateKeyTweakMul=function(y,_){var w=new n(_);if(w.cmp(c.n)>=0||w.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return w.imul(new n(y)),w.cmp(c.n)&&(w=w.umod(c.n)),w.toArrayLike(t,"be",32)},e.publicKeyCreate=function(y,_){var w=new n(y);if(w.cmp(c.n)>=0||w.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return t.from(u.keyFromPrivate(y).getPublic(_,!0))},e.publicKeyConvert=function(y,_){var w=d(y);if(w===null)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return t.from(w.getPublic(_,!0))},e.publicKeyVerify=function(y){return d(y)!==null},e.publicKeyTweakAdd=function(y,_,w){var S=d(y);if(S===null)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if(_=new n(_),_.cmp(c.n)>=0)throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var A=c.g.mul(_).add(S.pub);if(A.isInfinity())throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return t.from(A.encode(!0,w))},e.publicKeyTweakMul=function(y,_,w){var S=d(y);if(S===null)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if(_=new n(_),_.cmp(c.n)>=0||_.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return t.from(S.pub.mul(_).encode(!0,w))},e.publicKeyCombine=function(y,_){for(var w=new Array(y.length),S=0;S<y.length;++S)if(w[S]=d(y[S]),w[S]===null)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var A=w[0].pub,E=1;E<w.length;++E)A=A.add(w[E].pub);if(A.isInfinity())throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return t.from(A.encode(!0,_))},e.signatureNormalize=function(y){var _=new n(y.slice(0,32)),w=new n(y.slice(32,64));if(_.cmp(c.n)>=0||w.cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var S=t.from(y);return w.cmp(u.nh)===1&&c.n.sub(w).toArrayLike(t,"be",32).copy(S,32),S},e.signatureExport=function(y){var _=y.slice(0,32),w=y.slice(32,64);if(new n(_).cmp(c.n)>=0||new n(w).cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:_,s:w}},e.signatureImport=function(y){var _=new n(y.r);_.cmp(c.n)>=0&&(_=new n(0));var w=new n(y.s);return w.cmp(c.n)>=0&&(w=new n(0)),t.concat([_.toArrayLike(t,"be",32),w.toArrayLike(t,"be",32)])},e.sign=function(y,_,w,S){if(typeof w=="function"){var A=w;w=function(L){var U=A(y,_,null,S,L);if(!t.isBuffer(U)||U.length!==32)throw new Error(s.ECDSA_SIGN_FAIL);return new n(U)}}var E=new n(_);if(E.cmp(c.n)>=0||E.isZero())throw new Error(s.ECDSA_SIGN_FAIL);var x=u.sign(y,_,{canonical:!0,k:w,pers:S});return{signature:t.concat([x.r.toArrayLike(t,"be",32),x.s.toArrayLike(t,"be",32)]),recovery:x.recoveryParam}},e.verify=function(y,_,w){var S={r:_.slice(0,32),s:_.slice(32,64)},A=new n(S.r),E=new n(S.s);if(A.cmp(c.n)>=0||E.cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(E.cmp(u.nh)===1||A.isZero()||E.isZero())return!1;var x=d(w);if(x===null)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(y,S,{x:x.pub.x,y:x.pub.y})},e.recover=function(y,_,w,S){var A={r:_.slice(0,32),s:_.slice(32,64)},E=new n(A.r),x=new n(A.s);if(E.cmp(c.n)>=0||x.cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);try{if(E.isZero()||x.isZero())throw new Error;var L=u.recoverPubKey(y,A,w);return t.from(L.encode(!0,S))}catch{throw new Error(s.ECDSA_RECOVER_FAIL)}},e.ecdh=function(y,_){var w=e.ecdhUnsafe(y,_,!0);return r("sha256").update(w).digest()},e.ecdhUnsafe=function(y,_,w){var S=d(y);if(S===null)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var A=new n(_);if(A.cmp(c.n)>=0||A.isZero())throw new Error(s.ECDH_FAIL);return t.from(S.pub.mul(A).encode(!0,w))}}(tm)),tm}var em,q5;function WN(){return q5||(q5=1,em=GN()(XN())),em}var rm,z5;function ZN(){if(z5)return rm;z5=1;var e=rn().Buffer,t=9007199254740991;function r(u){if(u<0||u>t||u%1!==0)throw new RangeError("value out of range")}function n(u,c,f){if(r(u),c||(c=e.allocUnsafe(s(u))),!e.isBuffer(c))throw new TypeError("buffer must be a Buffer instance");return f||(f=0),u<253?(c.writeUInt8(u,f),n.bytes=1):u<=65535?(c.writeUInt8(253,f),c.writeUInt16LE(u,f+1),n.bytes=3):u<=4294967295?(c.writeUInt8(254,f),c.writeUInt32LE(u,f+1),n.bytes=5):(c.writeUInt8(255,f),c.writeUInt32LE(u>>>0,f+1),c.writeUInt32LE(u/4294967296|0,f+5),n.bytes=9),c}function a(u,c){if(!e.isBuffer(u))throw new TypeError("buffer must be a Buffer instance");c||(c=0);var f=u.readUInt8(c);if(f<253)return a.bytes=1,f;if(f===253)return a.bytes=3,u.readUInt16LE(c+1);if(f===254)return a.bytes=5,u.readUInt32LE(c+1);a.bytes=9;var h=u.readUInt32LE(c+1),d=u.readUInt32LE(c+5),y=d*4294967296+h;return r(y),y}function s(u){return r(u),u<253?1:u<=65535?3:u<=4294967295?5:9}return rm={encode:n,decode:a,encodingLength:s},rm}var nm,j5;function JN(){if(j5)return nm;j5=1;const e=cN(),t=fN(),r=lN(),n=S2(),a=WN(),s=ZN(),u={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function c(O){return n("sha256").update(O).digest()}function f(O){return c(c(O))}function h(O){return n("ripemd160").update(c(O)).digest()}function d(O,H,P,q){return q!==void 0?(H+=8,q===u.P2WPKH&&(H+=4)):P&&(H+=4),Buffer.concat([Buffer.alloc(1,H+27),O])}function y(O){if(O.length!==65)throw new Error("Invalid signature length");const H=O.readUInt8(0)-27;if(H>15||H<0)throw new Error("Invalid signature parameter");return{compressed:!!(H&12),segwitType:H&8?H&4?u.P2WPKH:u.P2SH_P2WPKH:null,recovery:H&3,signature:O.slice(1)}}function _(O,H){H=H||`Bitcoin Signed Message:
`,Buffer.isBuffer(H)||(H=Buffer.from(H,"utf8")),Buffer.isBuffer(O)||(O=Buffer.from(O,"utf8"));const P=s.encodingLength(O.length),q=Buffer.allocUnsafe(H.length+P+O.length);return H.copy(q,0),s.encode(O.length,q,H.length),O.copy(q,H.length+P),f(q)}function w(O,H){typeof O=="object"&&H===void 0&&(H=O,O=void 0);let{segwitType:P,extraEntropy:q}=H||{};if(P&&(typeof P=="string"||P instanceof String)&&(P=P.toLowerCase()),P&&P!==u.P2SH_P2WPKH&&P!==u.P2WPKH)throw new Error('Unrecognized segwitType: use "'+u.P2SH_P2WPKH+'" or "'+u.P2WPKH+'"');return{messagePrefixArg:O,segwitType:P,extraEntropy:q}}function S(O){return O&&typeof O.sign=="function"}function A(O,H,P,q,j){const{messagePrefixArg:F,segwitType:X,extraEntropy:z}=w(q,j),I=_(O,F),M=S(H)?H.sign(I,z):a.sign(I,H,{data:z});return d(M.signature,M.recovery,P,X)}function E(O,H,P,q,j){let F,X,z;return Promise.resolve().then(()=>{({messagePrefixArg:F,segwitType:X,extraEntropy:z}=w(q,j));const I=_(O,F);return S(H)?H.sign(I,z):a.sign(I,H,{data:z})}).then(I=>d(I.signature,I.recovery,P,X))}function x(O){const H=Buffer.concat([Buffer.from("0014","hex"),O]);return h(H)}function L(O){const H=t.decode(O),P=t.fromWords(H.words.slice(1));return Buffer.from(P)}function U(O,H,P,q,j){Buffer.isBuffer(P)||(P=Buffer.from(P,"base64"));const F=y(P);if(j&&!F.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const X=_(O,q),z=a.recover(X,F.signature,F.recovery,F.compressed),I=h(z);let M,m;if(F.segwitType)F.segwitType===u.P2SH_P2WPKH?(M=x(I),m=e.decode(H).slice(1)):(M=I,m=L(H));else if(j)try{return m=L(H),r(I,m)}catch{const p=x(I);return m=e.decode(H).slice(1),r(I,m)||r(p,m)}else M=I,m=e.decode(H).slice(1);return r(M,m)}return nm={magicHash:_,sign:A,signAsync:E,verify:U},nm}var M9=JN();const tU=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),R9=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),eU=R9.map(e=>(9*e+5)%16);let C2=[R9],I2=[eU];for(let e=0;e<4;e++)for(let t of[C2,I2])t.push(t[e].map(r=>tU[r]));const H9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),rU=C2.map((e,t)=>e.map(r=>H9[t][r])),nU=I2.map((e,t)=>e.map(r=>H9[t][r])),iU=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),aU=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function F5(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const Cp=new Uint32Array(16);class sU extends $S{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:r,h2:n,h3:a,h4:s}=this;return[t,r,n,a,s]}set(t,r,n,a,s){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=a|0,this.h4=s|0}process(t,r){for(let w=0;w<16;w++,r+=4)Cp[w]=t.getUint32(r,!0);let n=this.h0|0,a=n,s=this.h1|0,u=s,c=this.h2|0,f=c,h=this.h3|0,d=h,y=this.h4|0,_=y;for(let w=0;w<5;w++){const S=4-w,A=iU[w],E=aU[w],x=C2[w],L=I2[w],U=rU[w],O=nU[w];for(let H=0;H<16;H++){const P=gp(n+F5(w,s,c,h)+Cp[x[H]]+A,U[H])+y|0;n=y,y=h,h=gp(c,10)|0,c=s,s=P}for(let H=0;H<16;H++){const P=gp(a+F5(S,u,f,d)+Cp[L[H]]+E,O[H])+_|0;a=_,_=d,d=gp(f,10)|0,f=u,u=P}}this.set(this.h1+c+d|0,this.h2+h+_|0,this.h3+y+a|0,this.h4+n+u|0,this.h0+s+f|0)}roundClean(){Cp.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const oU=c2(()=>new sU);function uU(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let h=0;h<t.length;h++)t[h]=255;for(let h=0;h<e.length;h++){const d=e.charAt(h),y=d.charCodeAt(0);if(t[y]!==255)throw new TypeError(d+" is ambiguous");t[y]=h}const r=e.length,n=e.charAt(0),a=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let d=0,y=0,_=0;const w=h.length;for(;_!==w&&h[_]===0;)_++,d++;const S=(w-_)*s+1>>>0,A=new Uint8Array(S);for(;_!==w;){let L=h[_],U=0;for(let O=S-1;(L!==0||U<y)&&O!==-1;O--,U++)L+=256*A[O]>>>0,A[O]=L%r>>>0,L=L/r>>>0;if(L!==0)throw new Error("Non-zero carry");y=U,_++}let E=S-y;for(;E!==S&&A[E]===0;)E++;let x=n.repeat(d);for(;E<S;++E)x+=e.charAt(A[E]);return x}function c(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let d=0,y=0,_=0;for(;h[d]===n;)y++,d++;const w=(h.length-d)*a+1>>>0,S=new Uint8Array(w);for(;h[d];){let L=t[h.charCodeAt(d)];if(L===255)return;let U=0;for(let O=w-1;(L!==0||U<_)&&O!==-1;O--,U++)L+=r*S[O]>>>0,S[O]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");_=U,d++}let A=w-_;for(;A!==w&&S[A]===0;)A++;const E=new Uint8Array(y+(w-A));let x=y;for(;A!==w;)E[x++]=S[A++];return E}function f(h){const d=c(h);if(d)return d;throw new Error("Non-base"+r+" character")}return{encode:u,decodeUnsafe:c,decode:f}}var cU="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const im=uU(cU);function fU(e){function t(s){var u=Uint8Array.from(s),c=e(u),f=u.length+4,h=new Uint8Array(f);return h.set(u,0),h.set(c.subarray(0,4),u.length),im.encode(h)}function r(s){var u=s.slice(0,-4),c=s.slice(-4),f=e(u);if(!(c[0]^f[0]|c[1]^f[1]|c[2]^f[2]|c[3]^f[3]))return u}function n(s){var u=im.decodeUnsafe(s);if(u!=null)return r(u)}function a(s){var u=im.decode(s),c=r(u);if(c==null)throw new Error("Invalid checksum");return c}return{encode:t,decode:a,decodeUnsafe:n}}function lU(e){return Vp(Vp(e))}const hU=fU(lU);function L9(e){return oU(Vp(Yt(e)))}function dU(e){return Ut(hU.decode(e).slice(1))}function pU(e,t,r){const n=typeof e=="string"?e:Ut(e).slice(2),a=Yt(t,"base64").slice(1);return ic.verify(Yt(a),M9.magicHash(n),r)}function gU(e,t,r){const n=typeof e=="string"?e:Ut(e).slice(2),a=Yt(t,"base64"),s=a[0],u=a.slice(1),c=ic.Signature.fromCompact(Ut(u).slice(2)).addRecoveryBit(s-31);return dU(r)===Ut(L9(c.recoverPublicKey(M9.magicHash(n,`Dogecoin Signed Message:
`)).toHex()))}const yU="6.13.4";function K5(e,t,r){for(let n in t){let a=t[n];Object.defineProperty(e,n,{enumerable:!0,value:a,writable:!1})}}function nf(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(nf).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[e[n]&15];return r}if(typeof e=="object"&&typeof e.toJSON=="function")return nf(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map(r=>`${nf(r)}: ${nf(e[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function bU(e,t,r){let n=e;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${nf(r)}`);for(const u in r){if(u==="shortMessage")continue;const c=r[u];s.push(u+"="+nf(c))}}s.push(`code=${t}`),s.push(`version=${yU}`),s.length&&(e+=" ("+s.join(", ")+")")}let a;switch(t){case"INVALID_ARGUMENT":a=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(e);break;default:a=new Error(e)}return K5(a,{code:t}),r&&Object.assign(a,r),a.shortMessage==null&&K5(a,{shortMessage:n}),a}function Fd(e,t,r,n){if(!e)throw bU(t,r,n)}function Fe(e,t,r,n){Fd(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");e.push(t)}catch{}return e},[]);function _U(e,t,r){if(e!==t){let n=r,a="new";n+=".",a+=" "+r,Fd(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function N9(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((e.length-2)/2);let a=2;for(let s=0;s<n.length;s++)n[s]=parseInt(e.substring(a,a+2),16),a+=2;return n}Fe(!1,"invalid BytesLike value",t||"value",e)}function Li(e,t){return N9(e,t,!1)}function Ih(e,t){return N9(e,t,!0)}function Jm(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}const Q5="0123456789abcdef";function In(e){const t=Li(e);let r="0x";for(let n=0;n<t.length;n++){const a=t[n];r+=Q5[(a&240)>>4]+Q5[a&15]}return r}function Jp(e){return"0x"+e.map(t=>In(t).substring(2)).join("")}function Qh(e){return Jm(e,!0)?(e.length-2)/2:Li(e).length}function mU(e,t,r){const n=Li(e);Fd(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const a=new Uint8Array(t);return a.fill(0),a.set(n,t-n.length),In(a)}function vU(e,t){return mU(e,t)}const U9=BigInt(0);BigInt(1);const tv=9007199254740991;function kh(e,t){switch(typeof e){case"bigint":return e;case"number":return Fe(Number.isInteger(e),"underflow",t||"value",e),Fe(e>=-9007199254740991&&e<=tv,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(r){Fe(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}Fe(!1,"invalid BigNumberish value",t||"value",e)}function P9(e,t){const r=kh(e,t);return Fd(r>=U9,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}function Yh(e,t){switch(typeof e){case"bigint":return Fe(e>=-9007199254740991&&e<=tv,"overflow",t||"value",e),Number(e);case"number":return Fe(Number.isInteger(e),"underflow",t||"value",e),Fe(e>=-9007199254740991&&e<=tv,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return Yh(BigInt(e),t)}catch(r){Fe(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}Fe(!1,"invalid numeric value",t||"value",e)}function Y5(e,t){let n=P9(e,"value").toString(16);{const a=Yh(t,"width");for(Fd(a*2>=n.length,`value exceeds width (${a} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<a*2;)n="0"+n}return"0x"+n}function wU(e){const t=P9(e,"value");if(t===U9)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let a=0;a<n.length;a++){const s=a*2;n[a]=parseInt(r.substring(s,s+2),16)}return n}function am(e,t){Fe(typeof e=="string","invalid string value","str",e);let r=[];for(let n=0;n<e.length;n++){const a=e.charCodeAt(n);if(a<128)r.push(a);else if(a<2048)r.push(a>>6|192),r.push(a&63|128);else if((a&64512)==55296){n++;const s=e.charCodeAt(n);Fe(n<e.length&&(s&64512)===56320,"invalid surrogate pair","str",e);const u=65536+((a&1023)<<10)+(s&1023);r.push(u>>18|240),r.push(u>>12&63|128),r.push(u>>6&63|128),r.push(u&63|128)}else r.push(a>>12|224),r.push(a>>6&63|128),r.push(a&63|128)}return new Uint8Array(r)}function t1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function T2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function AU(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t1(e.outputLen),t1(e.blockLen)}function Kf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function k9(e,t){T2(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const sm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q9=e=>e instanceof Uint8Array,EU=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),om=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ra=(e,t)=>e<<32-t|e>>>t,xU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xU)throw new Error("Non little-endian hardware is not supported");function SU(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function P1(e){if(typeof e=="string"&&(e=SU(e)),!q9(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function CU(...e){const t=new Uint8Array(e.reduce((n,a)=>n+a.length,0));let r=0;return e.forEach(n=>{if(!q9(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}class B2{clone(){return this._cloneInto()}}function z9(e){const t=n=>e().update(P1(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function IU(e=32){if(sm&&typeof sm.getRandomValues=="function")return sm.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class j9 extends B2{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,AU(t);const n=P1(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(n.length>a?t.create().update(n).digest():n);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=t.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(t){return Kf(this),this.iHash.update(t),this}digestInto(t){Kf(this),T2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:a,destroyed:s,blockLen:u,outputLen:c}=this;return t=t,t.finished=a,t.destroyed=s,t.blockLen=u,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const F9=(e,t,r)=>new j9(e,t).update(r).digest();F9.create=(e,t)=>new j9(e,t);function TU(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),s=BigInt(4294967295),u=Number(r>>a&s),c=Number(r&s),f=n?4:0,h=n?0:4;e.setUint32(t+f,u,n),e.setUint32(t+h,c,n)}class BU extends B2{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=om(this.buffer)}update(t){Kf(this);const{view:r,buffer:n,blockLen:a}=this;t=P1(t);const s=t.length;for(let u=0;u<s;){const c=Math.min(a-this.pos,s-u);if(c===a){const f=om(t);for(;a<=s-u;u+=a)this.process(f,u);continue}n.set(t.subarray(u,u+c),this.pos),this.pos+=c,u+=c,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Kf(this),k9(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:s}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>a-u&&(this.process(n,0),u=0);for(let y=u;y<a;y++)r[y]=0;TU(n,a-8,BigInt(this.length*8),s),this.process(n,0);const c=om(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)c.setUint32(4*y,d[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:s,destroyed:u,pos:c}=this;return t.length=a,t.pos=c,t.finished=s,t.destroyed=u,a%r&&t.buffer.set(n),t}}const OU=(e,t,r)=>e&t^~e&r,DU=(e,t,r)=>e&t^e&r^t&r,MU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ao=new Uint32Array(64);class RU extends BU{constructor(){super(64,32,8,!1),this.A=wo[0]|0,this.B=wo[1]|0,this.C=wo[2]|0,this.D=wo[3]|0,this.E=wo[4]|0,this.F=wo[5]|0,this.G=wo[6]|0,this.H=wo[7]|0}get(){const{A:t,B:r,C:n,D:a,E:s,F:u,G:c,H:f}=this;return[t,r,n,a,s,u,c,f]}set(t,r,n,a,s,u,c,f){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=s|0,this.F=u|0,this.G=c|0,this.H=f|0}process(t,r){for(let y=0;y<16;y++,r+=4)Ao[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const _=Ao[y-15],w=Ao[y-2],S=Ra(_,7)^Ra(_,18)^_>>>3,A=Ra(w,17)^Ra(w,19)^w>>>10;Ao[y]=A+Ao[y-7]+S+Ao[y-16]|0}let{A:n,B:a,C:s,D:u,E:c,F:f,G:h,H:d}=this;for(let y=0;y<64;y++){const _=Ra(c,6)^Ra(c,11)^Ra(c,25),w=d+_+OU(c,f,h)+MU[y]+Ao[y]|0,A=(Ra(n,2)^Ra(n,13)^Ra(n,22))+DU(n,a,s)|0;d=h,h=f,f=c,c=u+w|0,u=s,s=a,a=n,n=w+A|0}n=n+this.A|0,a=a+this.B|0,s=s+this.C|0,u=u+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(n,a,s,u,c,f,h,d)}roundClean(){Ao.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const HU=z9(()=>new RU),Ip=BigInt(2**32-1),V5=BigInt(32);function LU(e,t=!1){return t?{h:Number(e&Ip),l:Number(e>>V5&Ip)}:{h:Number(e>>V5&Ip)|0,l:Number(e&Ip)|0}}function NU(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:s,l:u}=LU(e[a],t);[r[a],n[a]]=[s,u]}return[r,n]}const UU=(e,t,r)=>e<<r|t>>>32-r,PU=(e,t,r)=>t<<r|e>>>32-r,kU=(e,t,r)=>t<<r-32|e>>>64-r,qU=(e,t,r)=>e<<r-32|t>>>64-r,[K9,Q9,Y9]=[[],[],[]],zU=BigInt(0),Th=BigInt(1),jU=BigInt(2),FU=BigInt(7),KU=BigInt(256),QU=BigInt(113);for(let e=0,t=Th,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],K9.push(2*(5*n+r)),Q9.push((e+1)*(e+2)/2%64);let a=zU;for(let s=0;s<7;s++)t=(t<<Th^(t>>FU)*QU)%KU,t&jU&&(a^=Th<<(Th<<BigInt(s))-Th);Y9.push(a)}const[YU,VU]=NU(Y9,!0),$5=(e,t,r)=>r>32?kU(e,t,r):UU(e,t,r),G5=(e,t,r)=>r>32?qU(e,t,r):PU(e,t,r);function $U(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let u=0;u<10;u++)r[u]=e[u]^e[u+10]^e[u+20]^e[u+30]^e[u+40];for(let u=0;u<10;u+=2){const c=(u+8)%10,f=(u+2)%10,h=r[f],d=r[f+1],y=$5(h,d,1)^r[c],_=G5(h,d,1)^r[c+1];for(let w=0;w<50;w+=10)e[u+w]^=y,e[u+w+1]^=_}let a=e[2],s=e[3];for(let u=0;u<24;u++){const c=Q9[u],f=$5(a,s,c),h=G5(a,s,c),d=K9[u];a=e[d],s=e[d+1],e[d]=f,e[d+1]=h}for(let u=0;u<50;u+=10){for(let c=0;c<10;c++)r[c]=e[u+c];for(let c=0;c<10;c++)e[u+c]^=~r[(c+2)%10]&r[(c+4)%10]}e[0]^=YU[n],e[1]^=VU[n]}r.fill(0)}class O2 extends B2{constructor(t,r,n,a=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=a,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,t1(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=EU(this.state)}keccak(){$U(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Kf(this);const{blockLen:r,state:n}=this;t=P1(t);const a=t.length;for(let s=0;s<a;){const u=Math.min(r-this.pos,a-s);for(let c=0;c<u;c++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:a}=this;t[n]^=r,(r&128)!==0&&n===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){Kf(this,!1),T2(t),this.finish();const r=this.state,{blockLen:n}=this;for(let a=0,s=t.length;a<s;){this.posOut>=n&&this.keccak();const u=Math.min(n-this.posOut,s-a);t.set(r.subarray(this.posOut,this.posOut+u),a),this.posOut+=u,a+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return t1(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(k9(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:a,rounds:s,enableXOF:u}=this;return t||(t=new O2(r,n,a,u,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=a,t.enableXOF=u,t.destroyed=this.destroyed,t}}const GU=(e,t,r)=>z9(()=>new O2(t,e,r)),XU=GU(1,136,256/8);let V9=!1;const $9=function(e){return XU(e)};let G9=$9;function dc(e){const t=Li(e,"data");return In(G9(t))}dc._=$9;dc.lock=function(){V9=!0};dc.register=function(e){if(V9)throw new TypeError("keccak256 is locked");G9=e};Object.freeze(dc);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X9=BigInt(0),k1=BigInt(1),WU=BigInt(2),q1=e=>e instanceof Uint8Array,ZU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qf(e){if(!q1(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ZU[e[r]];return t}function W9(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function D2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Yf(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const a=n*2,s=e.slice(a,a+2),u=Number.parseInt(s,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");r[n]=u}return r}function Wu(e){return D2(Qf(e))}function M2(e){if(!q1(e))throw new Error("Uint8Array expected");return D2(Qf(Uint8Array.from(e).reverse()))}function Vf(e,t){return Yf(e.toString(16).padStart(t*2,"0"))}function R2(e,t){return Vf(e,t).reverse()}function JU(e){return Yf(W9(e))}function oa(e,t,r){let n;if(typeof t=="string")try{n=Yf(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(q1(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(`${e} expected ${r} bytes, got ${a}`);return n}function fd(...e){const t=new Uint8Array(e.reduce((n,a)=>n+a.length,0));let r=0;return e.forEach(n=>{if(!q1(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function tP(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function eP(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function rP(e){let t;for(t=0;e>X9;e>>=k1,t+=1);return t}function nP(e,t){return e>>BigInt(t)&k1}const iP=(e,t,r)=>e|(r?k1:X9)<<BigInt(t),H2=e=>(WU<<BigInt(e-1))-k1,um=e=>new Uint8Array(e),X5=e=>Uint8Array.from(e);function Z9(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=um(e),a=um(e),s=0;const u=()=>{n.fill(1),a.fill(0),s=0},c=(...y)=>r(a,n,...y),f=(y=um())=>{a=c(X5([0]),y),n=c(),y.length!==0&&(a=c(X5([1]),y),n=c())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const _=[];for(;y<t;){n=c();const w=n.slice();_.push(w),y+=n.length}return fd(..._)};return(y,_)=>{u(),f(y);let w;for(;!(w=_(h()));)f();return u(),w}}const aP={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Kd(e,t,r={}){const n=(a,s,u)=>{const c=aP[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);const f=e[a];if(!(u&&f===void 0)&&!c(f,e))throw new Error(`Invalid param ${String(a)}=${f} (${typeof f}), expected ${s}`)};for(const[a,s]of Object.entries(t))n(a,s,!1);for(const[a,s]of Object.entries(r))n(a,s,!0);return e}const sP=Object.freeze(Object.defineProperty({__proto__:null,bitGet:nP,bitLen:rP,bitMask:H2,bitSet:iP,bytesToHex:Qf,bytesToNumberBE:Wu,bytesToNumberLE:M2,concatBytes:fd,createHmacDrbg:Z9,ensureBytes:oa,equalBytes:tP,hexToBytes:Yf,hexToNumber:D2,numberToBytesBE:Vf,numberToBytesLE:R2,numberToHexUnpadded:W9,numberToVarBytesBE:JU,utf8ToBytes:eP,validateObject:Kd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qr=BigInt(0),mr=BigInt(1),Hu=BigInt(2),oP=BigInt(3),ev=BigInt(4),W5=BigInt(5),Z5=BigInt(8);BigInt(9);BigInt(16);function Fn(e,t){const r=e%t;return r>=qr?r:t+r}function uP(e,t,r){if(r<=qr||t<qr)throw new Error("Expected power/modulo > 0");if(r===mr)return qr;let n=mr;for(;t>qr;)t&mr&&(n=n*e%r),e=e*e%r,t>>=mr;return n}function Oi(e,t,r){let n=e;for(;t-- >qr;)n*=n,n%=r;return n}function rv(e,t){if(e===qr||t<=qr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Fn(e,t),n=t,a=qr,s=mr;for(;r!==qr;){const c=n/r,f=n%r,h=a-s*c;n=r,r=f,a=s,s=h}if(n!==mr)throw new Error("invert: does not exist");return Fn(a,t)}function cP(e){const t=(e-mr)/Hu;let r,n,a;for(r=e-mr,n=0;r%Hu===qr;r/=Hu,n++);for(a=Hu;a<e&&uP(a,t,e)!==e-mr;a++);if(n===1){const u=(e+mr)/ev;return function(f,h){const d=f.pow(h,u);if(!f.eql(f.sqr(d),h))throw new Error("Cannot find square root");return d}}const s=(r+mr)/Hu;return function(c,f){if(c.pow(f,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,d=c.pow(c.mul(c.ONE,a),r),y=c.pow(f,s),_=c.pow(f,r);for(;!c.eql(_,c.ONE);){if(c.eql(_,c.ZERO))return c.ZERO;let w=1;for(let A=c.sqr(_);w<h&&!c.eql(A,c.ONE);w++)A=c.sqr(A);const S=c.pow(d,mr<<BigInt(h-w-1));d=c.sqr(S),y=c.mul(y,S),_=c.mul(_,d),h=w}return y}}function fP(e){if(e%ev===oP){const t=(e+mr)/ev;return function(n,a){const s=n.pow(a,t);if(!n.eql(n.sqr(s),a))throw new Error("Cannot find square root");return s}}if(e%Z5===W5){const t=(e-W5)/Z5;return function(n,a){const s=n.mul(a,Hu),u=n.pow(s,t),c=n.mul(a,u),f=n.mul(n.mul(c,Hu),u),h=n.mul(c,n.sub(f,n.ONE));if(!n.eql(n.sqr(h),a))throw new Error("Cannot find square root");return h}}return cP(e)}const lP=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hP(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=lP.reduce((n,a)=>(n[a]="function",n),t);return Kd(e,r)}function dP(e,t,r){if(r<qr)throw new Error("Expected power > 0");if(r===qr)return e.ONE;if(r===mr)return t;let n=e.ONE,a=t;for(;r>qr;)r&mr&&(n=e.mul(n,a)),a=e.sqr(a),r>>=mr;return n}function pP(e,t){const r=new Array(t.length),n=t.reduce((s,u,c)=>e.is0(u)?s:(r[c]=s,e.mul(s,u)),e.ONE),a=e.inv(n);return t.reduceRight((s,u,c)=>e.is0(u)?s:(r[c]=e.mul(s,r[c]),e.mul(s,u)),a),r}function J9(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function gP(e,t,r=!1,n={}){if(e<=qr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:s}=J9(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=fP(e),c=Object.freeze({ORDER:e,BITS:a,BYTES:s,MASK:H2(a),ZERO:qr,ONE:mr,create:f=>Fn(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return qr<=f&&f<e},is0:f=>f===qr,isOdd:f=>(f&mr)===mr,neg:f=>Fn(-f,e),eql:(f,h)=>f===h,sqr:f=>Fn(f*f,e),add:(f,h)=>Fn(f+h,e),sub:(f,h)=>Fn(f-h,e),mul:(f,h)=>Fn(f*h,e),pow:(f,h)=>dP(c,f,h),div:(f,h)=>Fn(f*rv(h,e),e),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>rv(f,e),sqrt:n.sqrt||(f=>u(c,f)),invertBatch:f=>pP(c,f),cmov:(f,h,d)=>d?h:f,toBytes:f=>r?R2(f,s):Vf(f,s),fromBytes:f=>{if(f.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${f.length}`);return r?M2(f):Wu(f)}});return Object.freeze(c)}function tC(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function eC(e){const t=tC(e);return t+Math.ceil(t/2)}function yP(e,t,r=!1){const n=e.length,a=tC(t),s=eC(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const u=r?Wu(e):M2(e),c=Fn(u,t-mr)+mr;return r?R2(c,a):Vf(c,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bP=BigInt(0),cm=BigInt(1);function _P(e,t){const r=(a,s)=>{const u=s.negate();return a?u:s},n=a=>{const s=Math.ceil(t/a)+1,u=2**(a-1);return{windows:s,windowSize:u}};return{constTimeNegate:r,unsafeLadder(a,s){let u=e.ZERO,c=a;for(;s>bP;)s&cm&&(u=u.add(c)),c=c.double(),s>>=cm;return u},precomputeWindow(a,s){const{windows:u,windowSize:c}=n(s),f=[];let h=a,d=h;for(let y=0;y<u;y++){d=h,f.push(d);for(let _=1;_<c;_++)d=d.add(h),f.push(d);h=d.double()}return f},wNAF(a,s,u){const{windows:c,windowSize:f}=n(a);let h=e.ZERO,d=e.BASE;const y=BigInt(2**a-1),_=2**a,w=BigInt(a);for(let S=0;S<c;S++){const A=S*f;let E=Number(u&y);u>>=w,E>f&&(E-=_,u+=cm);const x=A,L=A+Math.abs(E)-1,U=S%2!==0,O=E<0;E===0?d=d.add(r(U,s[x])):h=h.add(r(O,s[L]))}return{p:h,f:d}},wNAFCached(a,s,u,c){const f=a._WINDOW_SIZE||1;let h=s.get(a);return h||(h=this.precomputeWindow(a,f),f!==1&&s.set(a,c(h))),this.wNAF(f,h,u)}}}function rC(e){return hP(e.Fp),Kd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J9(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mP(e){const t=rC(e);Kd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a}=t;if(r){if(!n.eql(a,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:vP,hexToBytes:wP}=sP,Uu={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Uu;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:vP(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Uu,r=typeof e=="string"?wP(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:a,l:s}=Uu._parseInt(r.subarray(2)),{d:u,l:c}=Uu._parseInt(s);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:u}},hexFromSig(e){const t=h=>Number.parseInt(h[0],16)&8?"00"+h:h,r=h=>{const d=h.toString(16);return d.length&1?`0${d}`:d},n=t(r(e.s)),a=t(r(e.r)),s=n.length/2,u=a.length/2,c=r(s),f=r(u);return`30${r(u+s+4)}02${f}${a}02${c}${n}`}},Ss=BigInt(0),Ri=BigInt(1);BigInt(2);const J5=BigInt(3);BigInt(4);function AP(e){const t=mP(e),{Fp:r}=t,n=t.toBytes||((S,A,E)=>{const x=A.toAffine();return fd(Uint8Array.from([4]),r.toBytes(x.x),r.toBytes(x.y))}),a=t.fromBytes||(S=>{const A=S.subarray(1),E=r.fromBytes(A.subarray(0,r.BYTES)),x=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:E,y:x}});function s(S){const{a:A,b:E}=t,x=r.sqr(S),L=r.mul(x,S);return r.add(r.add(L,r.mul(S,A)),E)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function u(S){return typeof S=="bigint"&&Ss<S&&S<t.n}function c(S){if(!u(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(S){const{allowedPrivateKeyLengths:A,nByteLength:E,wrapPrivateKey:x,n:L}=t;if(A&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Qf(S)),typeof S!="string"||!A.includes(S.length))throw new Error("Invalid key");S=S.padStart(E*2,"0")}let U;try{U=typeof S=="bigint"?S:Wu(oa("private key",S,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof S}`)}return x&&(U=Fn(U,L)),c(U),U}const h=new Map;function d(S){if(!(S instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(A,E,x){if(this.px=A,this.py=E,this.pz=x,A==null||!r.isValid(A))throw new Error("x required");if(E==null||!r.isValid(E))throw new Error("y required");if(x==null||!r.isValid(x))throw new Error("z required")}static fromAffine(A){const{x:E,y:x}=A||{};if(!A||!r.isValid(E)||!r.isValid(x))throw new Error("invalid affine point");if(A instanceof y)throw new Error("projective point not allowed");const L=U=>r.eql(U,r.ZERO);return L(E)&&L(x)?y.ZERO:new y(E,x,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const E=r.invertBatch(A.map(x=>x.pz));return A.map((x,L)=>x.toAffine(E[L])).map(y.fromAffine)}static fromHex(A){const E=y.fromAffine(a(oa("pointHex",A)));return E.assertValidity(),E}static fromPrivateKey(A){return y.BASE.multiply(f(A))}_setWindowSize(A){this._WINDOW_SIZE=A,h.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:E}=this.toAffine();if(!r.isValid(A)||!r.isValid(E))throw new Error("bad point: x or y not FE");const x=r.sqr(E),L=s(A);if(!r.eql(x,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){d(A);const{px:E,py:x,pz:L}=this,{px:U,py:O,pz:H}=A,P=r.eql(r.mul(E,H),r.mul(U,L)),q=r.eql(r.mul(x,H),r.mul(O,L));return P&&q}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:E}=t,x=r.mul(E,J5),{px:L,py:U,pz:O}=this;let H=r.ZERO,P=r.ZERO,q=r.ZERO,j=r.mul(L,L),F=r.mul(U,U),X=r.mul(O,O),z=r.mul(L,U);return z=r.add(z,z),q=r.mul(L,O),q=r.add(q,q),H=r.mul(A,q),P=r.mul(x,X),P=r.add(H,P),H=r.sub(F,P),P=r.add(F,P),P=r.mul(H,P),H=r.mul(z,H),q=r.mul(x,q),X=r.mul(A,X),z=r.sub(j,X),z=r.mul(A,z),z=r.add(z,q),q=r.add(j,j),j=r.add(q,j),j=r.add(j,X),j=r.mul(j,z),P=r.add(P,j),X=r.mul(U,O),X=r.add(X,X),j=r.mul(X,z),H=r.sub(H,j),q=r.mul(X,F),q=r.add(q,q),q=r.add(q,q),new y(H,P,q)}add(A){d(A);const{px:E,py:x,pz:L}=this,{px:U,py:O,pz:H}=A;let P=r.ZERO,q=r.ZERO,j=r.ZERO;const F=t.a,X=r.mul(t.b,J5);let z=r.mul(E,U),I=r.mul(x,O),M=r.mul(L,H),m=r.add(E,x),C=r.add(U,O);m=r.mul(m,C),C=r.add(z,I),m=r.sub(m,C),C=r.add(E,L);let p=r.add(U,H);return C=r.mul(C,p),p=r.add(z,M),C=r.sub(C,p),p=r.add(x,L),P=r.add(O,H),p=r.mul(p,P),P=r.add(I,M),p=r.sub(p,P),j=r.mul(F,C),P=r.mul(X,M),j=r.add(P,j),P=r.sub(I,j),j=r.add(I,j),q=r.mul(P,j),I=r.add(z,z),I=r.add(I,z),M=r.mul(F,M),C=r.mul(X,C),I=r.add(I,M),M=r.sub(z,M),M=r.mul(F,M),C=r.add(C,M),z=r.mul(I,C),q=r.add(q,z),z=r.mul(p,C),P=r.mul(m,P),P=r.sub(P,z),z=r.mul(m,I),j=r.mul(p,j),j=r.add(j,z),new y(P,q,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(y.ZERO)}wNAF(A){return w.wNAFCached(this,h,A,E=>{const x=r.invertBatch(E.map(L=>L.pz));return E.map((L,U)=>L.toAffine(x[U])).map(y.fromAffine)})}multiplyUnsafe(A){const E=y.ZERO;if(A===Ss)return E;if(c(A),A===Ri)return this;const{endo:x}=t;if(!x)return w.unsafeLadder(this,A);let{k1neg:L,k1:U,k2neg:O,k2:H}=x.splitScalar(A),P=E,q=E,j=this;for(;U>Ss||H>Ss;)U&Ri&&(P=P.add(j)),H&Ri&&(q=q.add(j)),j=j.double(),U>>=Ri,H>>=Ri;return L&&(P=P.negate()),O&&(q=q.negate()),q=new y(r.mul(q.px,x.beta),q.py,q.pz),P.add(q)}multiply(A){c(A);let E=A,x,L;const{endo:U}=t;if(U){const{k1neg:O,k1:H,k2neg:P,k2:q}=U.splitScalar(E);let{p:j,f:F}=this.wNAF(H),{p:X,f:z}=this.wNAF(q);j=w.constTimeNegate(O,j),X=w.constTimeNegate(P,X),X=new y(r.mul(X.px,U.beta),X.py,X.pz),x=j.add(X),L=F.add(z)}else{const{p:O,f:H}=this.wNAF(E);x=O,L=H}return y.normalizeZ([x,L])[0]}multiplyAndAddUnsafe(A,E,x){const L=y.BASE,U=(H,P)=>P===Ss||P===Ri||!H.equals(L)?H.multiplyUnsafe(P):H.multiply(P),O=U(this,E).add(U(A,x));return O.is0()?void 0:O}toAffine(A){const{px:E,py:x,pz:L}=this,U=this.is0();A==null&&(A=U?r.ONE:r.inv(L));const O=r.mul(E,A),H=r.mul(x,A),P=r.mul(L,A);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:O,y:H}}isTorsionFree(){const{h:A,isTorsionFree:E}=t;if(A===Ri)return!0;if(E)return E(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:E}=t;return A===Ri?this:E?E(y,this):this.multiplyUnsafe(t.h)}toRawBytes(A=!0){return this.assertValidity(),n(y,this,A)}toHex(A=!0){return Qf(this.toRawBytes(A))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const _=t.nBitLength,w=_P(y,t.endo?Math.ceil(_/2):_);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:u}}function EP(e){const t=rC(e);return Kd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function xP(e){const t=EP(e),{Fp:r,n}=t,a=r.BYTES+1,s=2*r.BYTES+1;function u(C){return Ss<C&&C<r.ORDER}function c(C){return Fn(C,n)}function f(C){return rv(C,n)}const{ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:y,isWithinCurveOrder:_}=AP({...t,toBytes(C,p,v){const D=p.toAffine(),B=r.toBytes(D.x),b=fd;return v?b(Uint8Array.from([p.hasEvenY()?2:3]),B):b(Uint8Array.from([4]),B,r.toBytes(D.y))},fromBytes(C){const p=C.length,v=C[0],D=C.subarray(1);if(p===a&&(v===2||v===3)){const B=Wu(D);if(!u(B))throw new Error("Point is not on curve");const b=y(B);let R=r.sqrt(b);const Y=(R&Ri)===Ri;return(v&1)===1!==Y&&(R=r.neg(R)),{x:B,y:R}}else if(p===s&&v===4){const B=r.fromBytes(D.subarray(0,r.BYTES)),b=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:B,y:b}}else throw new Error(`Point of length ${p} was invalid. Expected ${a} compressed bytes or ${s} uncompressed bytes`)}}),w=C=>Qf(Vf(C,t.nByteLength));function S(C){const p=n>>Ri;return C>p}function A(C){return S(C)?c(-C):C}const E=(C,p,v)=>Wu(C.slice(p,v));class x{constructor(p,v,D){this.r=p,this.s=v,this.recovery=D,this.assertValidity()}static fromCompact(p){const v=t.nByteLength;return p=oa("compactSignature",p,v*2),new x(E(p,0,v),E(p,v,2*v))}static fromDER(p){const{r:v,s:D}=Uu.toSig(oa("DER",p));return new x(v,D)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(p){return new x(this.r,this.s,p)}recoverPublicKey(p){const{r:v,s:D,recovery:B}=this,b=q(oa("msgHash",p));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const R=B===2||B===3?v+t.n:v;if(R>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=(B&1)===0?"02":"03",Q=h.fromHex(Y+w(R)),W=f(R),J=c(-b*W),G=c(D*W),et=h.BASE.multiplyAndAddUnsafe(Q,J,G);if(!et)throw new Error("point at infinify");return et.assertValidity(),et}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Yf(this.toDERHex())}toDERHex(){return Uu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yf(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const L={isValidPrivateKey(C){try{return d(C),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const C=eC(t.n);return yP(t.randomBytes(C),t.n)},precompute(C=8,p=h.BASE){return p._setWindowSize(C),p.multiply(BigInt(3)),p}};function U(C,p=!0){return h.fromPrivateKey(C).toRawBytes(p)}function O(C){const p=C instanceof Uint8Array,v=typeof C=="string",D=(p||v)&&C.length;return p?D===a||D===s:v?D===2*a||D===2*s:C instanceof h}function H(C,p,v=!0){if(O(C))throw new Error("first arg must be private key");if(!O(p))throw new Error("second arg must be public key");return h.fromHex(p).multiply(d(C)).toRawBytes(v)}const P=t.bits2int||function(C){const p=Wu(C),v=C.length*8-t.nBitLength;return v>0?p>>BigInt(v):p},q=t.bits2int_modN||function(C){return c(P(C))},j=H2(t.nBitLength);function F(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ss<=C&&C<j))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Vf(C,t.nByteLength)}function X(C,p,v=z){if(["recovered","canonical"].some(ut=>ut in v))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:B}=t;let{lowS:b,prehash:R,extraEntropy:Y}=v;b==null&&(b=!0),C=oa("msgHash",C),R&&(C=oa("prehashed msgHash",D(C)));const Q=q(C),W=d(p),J=[F(W),F(Q)];if(Y!=null){const ut=Y===!0?B(r.BYTES):Y;J.push(oa("extraEntropy",ut))}const G=fd(...J),et=Q;function it(ut){const ct=P(ut);if(!_(ct))return;const tt=f(ct),V=h.BASE.multiply(ct).toAffine(),ot=c(V.x);if(ot===Ss)return;const mt=c(tt*c(et+ot*W));if(mt===Ss)return;let Tt=(V.x===ot?0:2)|Number(V.y&Ri),st=mt;return b&&S(mt)&&(st=A(mt),Tt^=1),new x(ot,st,Tt)}return{seed:G,k2sig:it}}const z={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function M(C,p,v=z){const{seed:D,k2sig:B}=X(C,p,v),b=t;return Z9(b.hash.outputLen,b.nByteLength,b.hmac)(D,B)}h.BASE._setWindowSize(8);function m(C,p,v,D=I){var V;const B=C;if(p=oa("msgHash",p),v=oa("publicKey",v),"strict"in D)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:R}=D;let Y,Q;try{if(typeof B=="string"||B instanceof Uint8Array)try{Y=x.fromDER(B)}catch(ot){if(!(ot instanceof Uu.Err))throw ot;Y=x.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ot,s:mt}=B;Y=new x(ot,mt)}else throw new Error("PARSE");Q=h.fromHex(v)}catch(ot){if(ot.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&Y.hasHighS())return!1;R&&(p=t.hash(p));const{r:W,s:J}=Y,G=q(p),et=f(J),it=c(G*et),ut=c(W*et),ct=(V=h.BASE.multiplyAndAddUnsafe(Q,it,ut))==null?void 0:V.toAffine();return ct?c(ct.x)===W:!1}return{CURVE:t,getPublicKey:U,getSharedSecret:H,sign:M,verify:m,ProjectivePoint:h,Signature:x,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SP(e){return{hash:e,hmac:(t,...r)=>F9(e,t,CU(...r)),randomBytes:IU}}function CP(e,t){const r=n=>xP({...e,...SP(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),IP=BigInt(1),nv=BigInt(2),ex=(e,t)=>(e+t/nv)/t;function TP(e){const t=nC,r=BigInt(3),n=BigInt(6),a=BigInt(11),s=BigInt(22),u=BigInt(23),c=BigInt(44),f=BigInt(88),h=e*e*e%t,d=h*h*e%t,y=Oi(d,r,t)*d%t,_=Oi(y,r,t)*d%t,w=Oi(_,nv,t)*h%t,S=Oi(w,a,t)*w%t,A=Oi(S,s,t)*S%t,E=Oi(A,c,t)*A%t,x=Oi(E,f,t)*E%t,L=Oi(x,c,t)*A%t,U=Oi(L,r,t)*d%t,O=Oi(U,u,t)*S%t,H=Oi(O,n,t)*h%t,P=Oi(H,nv,t);if(!iv.eql(iv.sqr(P),e))throw new Error("Cannot find square root");return P}const iv=gP(nC,void 0,void 0,{sqrt:TP}),So=CP({a:BigInt(0),b:BigInt(7),Fp:iv,n:tx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=tx,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-IP*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,u=BigInt("0x100000000000000000000000000000000"),c=ex(s*e,t),f=ex(-n*e,t);let h=Fn(e-c*r-f*a,t),d=Fn(-c*n-f*s,t);const y=h>u,_=d>u;if(y&&(h=t-h),_&&(d=t-d),h>u||d>u)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:h,k2neg:_,k2:d}}}},HU);BigInt(0);So.ProjectivePoint;const rx="0x0000000000000000000000000000000000000000000000000000000000000000",BP=`Ethereum Signed Message:
`,nx=BigInt(0),ix=BigInt(1),ax=BigInt(2),sx=BigInt(27),ox=BigInt(28),Tp=BigInt(35),tf={};function ux(e){return vU(wU(e),32)}var Ef,xf,Sf,Yu;const sa=class sa{constructor(t,r,n,a){Vt(this,Ef);Vt(this,xf);Vt(this,Sf);Vt(this,Yu);_U(t,tf,"Signature"),kt(this,Ef,r),kt(this,xf,n),kt(this,Sf,a),kt(this,Yu,null)}get r(){return yt(this,Ef)}set r(t){Fe(Qh(t)===32,"invalid r","value",t),kt(this,Ef,In(t))}get s(){return yt(this,xf)}set s(t){Fe(Qh(t)===32,"invalid s","value",t);const r=In(t);Fe(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),kt(this,xf,r)}get v(){return yt(this,Sf)}set v(t){const r=Yh(t,"value");Fe(r===27||r===28,"invalid v","v",t),kt(this,Sf,r)}get networkV(){return yt(this,Yu)}get legacyChainId(){const t=this.networkV;return t==null?null:sa.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=Li(this.s);return this.yParity&&(t[0]|=128),In(t)}get compactSerialized(){return Jp([this.r,this.yParityAndS])}get serialized(){return Jp([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new sa(tf,this.r,this.s,this.v);return this.networkV&&kt(t,Yu,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const r=kh(t,"v");return r==sx||r==ox?nx:(Fe(r>=Tp,"invalid EIP-155 v","v",t),(r-Tp)/ax)}static getChainIdV(t,r){return kh(t)*ax+BigInt(35+r-27)}static getNormalizedV(t){const r=kh(t);return r===nx||r===sx?27:r===ix||r===ox?28:(Fe(r>=Tp,"invalid v","v",t),r&ix?27:28)}static from(t){function r(h,d){Fe(h,d,"signature",t)}if(t==null)return new sa(tf,rx,rx,27);if(typeof t=="string"){const h=Li(t,"signature");if(h.length===64){const d=In(h.slice(0,32)),y=h.slice(32,64),_=y[0]&128?28:27;return y[0]&=127,new sa(tf,d,In(y),_)}if(h.length===65){const d=In(h.slice(0,32)),y=h.slice(32,64);r((y[0]&128)===0,"non-canonical s");const _=sa.getNormalizedV(h[64]);return new sa(tf,d,In(y),_)}r(!1,"invalid raw signature length")}if(t instanceof sa)return t.clone();const n=t.r;r(n!=null,"missing r");const a=ux(n),s=function(h,d){if(h!=null)return ux(h);if(d!=null){r(Jm(d,32),"invalid yParityAndS");const y=Li(d);return y[0]&=127,In(y)}r(!1,"missing s")}(t.s,t.yParityAndS);r((Li(s)[0]&128)==0,"non-canonical s");const{networkV:u,v:c}=function(h,d,y){if(h!=null){const _=kh(h);return{networkV:_>=Tp?_:void 0,v:sa.getNormalizedV(_)}}if(d!=null)return r(Jm(d,32),"invalid yParityAndS"),{v:Li(d)[0]&128?28:27};if(y!=null){switch(Yh(y,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),f=new sa(tf,a,s,c);return u&&kt(f,Yu,u),r(t.yParity==null||Yh(t.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),r(t.yParityAndS==null||t.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};Ef=new WeakMap,xf=new WeakMap,Sf=new WeakMap,Yu=new WeakMap;let e1=sa;var Es;const Lu=class Lu{constructor(t){Vt(this,Es);Fe(Qh(t)===32,"invalid private key","privateKey","[REDACTED]"),kt(this,Es,In(t))}get privateKey(){return yt(this,Es)}get publicKey(){return Lu.computePublicKey(yt(this,Es))}get compressedPublicKey(){return Lu.computePublicKey(yt(this,Es),!0)}sign(t){Fe(Qh(t)===32,"invalid digest length","digest",t);const r=So.sign(Ih(t),Ih(yt(this,Es)),{lowS:!0});return e1.from({r:Y5(r.r,32),s:Y5(r.s,32),v:r.recovery?28:27})}computeSharedSecret(t){const r=Lu.computePublicKey(t);return In(So.getSharedSecret(Ih(yt(this,Es)),Li(r),!1))}static computePublicKey(t,r){let n=Li(t,"key");if(n.length===32){const s=So.getPublicKey(n,!!r);return In(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const a=So.ProjectivePoint.fromHex(n);return In(a.toRawBytes(r))}static recoverPublicKey(t,r){Fe(Qh(t)===32,"invalid digest length","digest",t);const n=e1.from(r);let a=So.Signature.fromCompact(Ih(Jp([n.r,n.s])));a=a.addRecoveryBit(n.yParity);const s=a.recoverPublicKey(Ih(t));return Fe(s!=null,"invalid signautre for digest","signature",r),"0x"+s.toHex(!1)}static addPoints(t,r,n){const a=So.ProjectivePoint.fromHex(Lu.computePublicKey(t).substring(2)),s=So.ProjectivePoint.fromHex(Lu.computePublicKey(r).substring(2));return"0x"+a.add(s).toHex(!!n)}};Es=new WeakMap;let r1=Lu;const OP=BigInt(0),DP=BigInt(36);function cx(e){e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let a=0;a<40;a++)r[a]=t[a].charCodeAt(0);const n=Li(dc(r));for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(n[a>>1]&15)>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}const L2={};for(let e=0;e<10;e++)L2[String(e)]=String(e);for(let e=0;e<26;e++)L2[String.fromCharCode(65+e)]=String(10+e);const fx=15;function MP(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>L2[n]).join("");for(;t.length>=fx;){let n=t.substring(0,fx);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const RP=function(){const e={};for(let t=0;t<36;t++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[r]=BigInt(t)}return e}();function HP(e){e=e.toLowerCase();let t=OP;for(let r=0;r<e.length;r++)t=t*DP+RP[e[r]];return t}function LP(e){if(Fe(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=cx(e);return Fe(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Fe(e.substring(2,4)===MP(e),"bad icap checksum","address",e);let t=HP(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return cx("0x"+t)}Fe(!1,"invalid address","address",e)}function NP(e){let t;return typeof e=="string"?t=r1.computePublicKey(e,!1):t=e.publicKey,LP(dc("0x"+t.substring(4)).substring(26))}function UP(e,t){return NP(r1.recoverPublicKey(e,t))}function PP(e){return typeof e=="string"&&(e=am(e)),dc(Jp([am(BP),am(String(e.length)),e]))}function kP(e,t){const r=PP(e);return UP(r,t)}function qP(e,t,r){return r.toLowerCase()===kP(typeof e=="string"?e:Yt(e),t).toLowerCase()}function iC(e){if(typeof e=="string")try{const t=JSON.parse(e);if(typeof t=="object"&&typeof t.created_at=="number"&&typeof t.kind=="number"&&typeof t.content=="string"&&Array.isArray(t.tags)&&t.tags.every(r=>Array.isArray(r)&&r.every(n=>typeof n=="string")))return t}catch{}return{kind:23335,created_at:0,content:typeof e=="string"?e:Ut(e),tags:[]}}function zP(e){const t=JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]);return Vp(Yt(t,"utf8"))}function jP(e,t,r){const{words:n}=ka.bech32.decode(r),a=Ut(ka.bech32.fromWords(n)).slice(2),s=iC(e),u=zP(s);try{return rL.verify(Ut(t).slice(2),u,a)}catch{return!1}}var Tn;(function(e){e.Unknown="Unknown",e.BtcEcdsa="BtcEcdsa",e.EvmPersonal="EvmPersonal",e.JoyId="JoyId",e.NostrEvent="NostrEvent",e.CkbSecp256k1="CkbSecp256k1",e.DogeEcdsa="DogeEcdsa"})(Tn||(Tn={}));var pa;(function(e){e.EVM="EVM",e.BTC="BTC",e.CKB="CKB",e.Nostr="Nostr",e.Doge="Doge"})(pa||(pa={}));class Yo{constructor(t){this.client_=t}get client(){return this.client_}matchNetworkPreference(t,r){if(!(r!==void 0&&t.some(({signerType:n,addressPrefix:a,network:s})=>{n===this.type&&this.client.addressPrefix})))return t.find(({signerType:n,addressPrefix:a})=>n===this.type&&a===this.client.addressPrefix)}static async verifyMessage(t,r){switch(r.signType){case Tn.EvmPersonal:return qP(t,r.signature,r.identity);case Tn.BtcEcdsa:return pU(t,r.signature,r.identity);case Tn.JoyId:return KL(t,r.signature,r.identity);case Tn.NostrEvent:return jP(t,r.signature,r.identity);case Tn.CkbSecp256k1:return iL(t,r.signature,r.identity);case Tn.DogeEcdsa:return gU(t,r.signature,r.identity);case Tn.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(t){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(t){return(await this.getAddressObjs())[0]}async getRecommendedAddress(t){return(await this.getRecommendedAddressObj(t)).toString()}async getAddresses(){return this.getAddressObjs().then(t=>t.map(r=>r.toString()))}async*findCells(t,r,n,a){const s=await this.getAddressObjs();for(const{script:u}of s)for await(const c of this.client.findCells({script:u,scriptType:"lock",filter:t,scriptSearchMode:"exact",withData:r},n,a))yield c}async*findTransactions(t,r,n,a){const s=await this.getAddressObjs();for(const{script:u}of s)for await(const c of this.client.findTransactions({script:u,scriptType:"lock",filter:t,scriptSearchMode:"exact",groupByTransaction:r},n,a))yield c}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map(({script:t})=>t))}async signMessage(t){return{signature:await this.signMessageRaw(t),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(t){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(t,r){return typeof r=="string"?Yo.verifyMessage(t,{signType:this.signType,signature:r,identity:await this.getIdentity()}):r.identity!==await this.getIdentity()||![Tn.Unknown,this.signType].includes(r.signType)?!1:Yo.verifyMessage(t,r)}async sendTransaction(t){return this.client.sendTransaction(await this.signTransaction(t))}async signTransaction(t){const r=await this.prepareTransaction(t);return this.signOnlyTransaction(r)}prepareTransaction(t){throw Error("Signer.prepareTransaction not implemented")}signOnlyTransaction(t){throw Error("Signer.signOnlyTransaction not implemented")}}class FP extends Yo{get type(){return pa.BTC}get signType(){return Tn.BtcEcdsa}async getInternalAddress(){return this.getBtcAccount()}async getIdentity(){return Ut(await this.getBtcPublicKey()).slice(2)}async getAddressObjs(){const t=await this.getBtcPublicKey(),r=L9(t);return[await Hi.fromKnownScript(this.client,$t.OmniLock,Ut([4,...r,0]))]}async prepareTransaction(t){const r=vr.from(t),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,$t.OmniLock),await r.prepareSighashAllWitness(n,85,this.client),r}async signOnlyTransaction(t){const r=vr.from(t),{script:n}=await this.getRecommendedAddressObj(),a=await r.getSignHashInfo(n,this.client);if(!a)return r;const s=Yt(await this.signMessageRaw(`CKB (Bitcoin Layer) transaction: ${a.message}`),"base64");s[0]=31+(s[0]-27)%4;const u=Rs.fromBytes(r.witnesses[a.position]);return u.lock=Ut(Jo(li(5*4+s.length,4),li(4*4,4),li(5*4+s.length,4),li(5*4+s.length,4),li(s.length,4),s)),r.setWitnessArgsAt(a.position,u),r}}class KP extends Yo{get signType(){return Tn.Unknown}constructor(t,r){super(t),this.type=r}async isConnected(){return!1}async getInternalAddress(){throw new Error("Can't get address from SignerDummy")}async getAddressObjs(){throw new Error("Can't get addresses from SignerDummy")}}class QP extends KP{constructor(t,r,n){super(t,r),this.message=n}async connect(){throw new Error(this.message)}}class YP extends Yo{get type(){return pa.EVM}get signType(){return Tn.EvmPersonal}async getInternalAddress(){return this.getEvmAccount()}async getAddressObjs(){const t=await this.getEvmAccount();return(await Promise.all([this._getOmniLockAddresses(t),this._getPWLockAddresses(t)])).flat()}_getOmniLockAddresses(t){return Promise.all([this._getOmniLockEvmAddressObj(t),this._getOmniLockOldEvmAddressObj(t)])}async _getPWLockAddresses(t){const r=await this._getPWLockEvmAddressObj(t);return r?[r]:[]}async _getOmniLockEvmAddressObj(t){return Hi.fromKnownScript(this.client,$t.OmniLock,Ut([18,...Yt(t),0]))}async _getOmniLockOldEvmAddressObj(t){return Hi.fromKnownScript(this.client,$t.OmniLock,Ut([1,...Yt(t),0]))}async _getPWLockEvmAddressObj(t){try{return Hi.fromKnownScript(this.client,$t.PWLock,Ut(Yt(t)))}catch{}}async prepareTransaction(t){const r=vr.from(t);await r.findInputIndexByLockId(await this.client.getKnownScript($t.OmniLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,$t.OmniLock),await r.findInputIndexByLockId(await this.client.getKnownScript($t.PWLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,$t.PWLock);const n=await this.getEvmAccount(),a=await this._getOmniLockAddresses(n),s=await this._getPWLockAddresses(n),u=Xu(a,(c,{script:f})=>c.prepareSighashAllWitness(f,85,this.client),r);return Xu(s,(c,{script:f})=>c.prepareSighashAllWitness(f,65,this.client),u)}async signOnlyTransaction(t){let r=vr.from(t);const n=await this.getEvmAccount(),{script:a}=await this._getOmniLockEvmAddressObj(n),{script:s}=await this._getOmniLockOldEvmAddressObj(n);r=await this._signOmniLockScriptForTransaction(r,a,c=>`CKB transaction: ${c}`),r=await this._signOmniLockScriptForTransaction(r,s,c=>Yt(c));const u=await this._getPWLockEvmAddressObj(n);return u&&(r=await this._signPWLockScriptForTransaction(r,u.script,c=>Yt(c))),r}async _signOmniLockScriptForTransaction(t,r,n){const a=await this._signPersonalEvmForTransaction(t,r,n);if(!a)return t;const s=Rs.fromBytes(t.witnesses[a.position]);return s.lock=Ut(Jo(li(5*4+a.signature.length,4),li(4*4,4),li(5*4+a.signature.length,4),li(5*4+a.signature.length,4),li(a.signature.length,4),a.signature)),t.setWitnessArgsAt(a.position,s),t}async _signPWLockScriptForTransaction(t,r,n){const a=await this._signPersonalEvmForTransaction(t,r,n,new tR);if(!a)return t;const s=Rs.fromBytes(t.witnesses[a.position]);return s.lock=Ut(a.signature),t.setWitnessArgsAt(a.position,s),t}async _signPersonalEvmForTransaction(t,r,n,a){const s=await t.getSignHashInfo(r,this.client,a);if(!s)return;const u=Yt(await this.signMessageRaw(n(s.message)));return u[u.length-1]>=27&&(u[u.length-1]-=27),{signature:u,position:s.position}}}class qo extends Yo{get type(){return pa.Nostr}get signType(){return Tn.NostrEvent}async signNostrEvent(t){throw Error("SignerNostr.signNostrEvent not implemented")}async signMessageRaw(t){return Ut((await this.signNostrEvent(iC(t))).sig)}async getInternalAddress(){return ka.bech32.encode("npub",ka.bech32.toWords(Yt(await this.getNostrPublicKey())))}async getAddressObjs(){const t=await this.getNostrPublicKey();return[await Hi.fromKnownScript(this.client,$t.NostrLock,Ut(Jo([0],Uf(t).slice(0,42))))]}async prepareTransaction(t){const r=vr.from(t),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,$t.NostrLock),await r.prepareSighashAllWitness(n,572,this.client),r}async signOnlyTransaction(t){const r=vr.from(t),{script:n}=await this.getRecommendedAddressObj(),a=await r.getSignHashInfo(n,this.client);if(!a)return r;const s=Yt(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[qo.CKB_SIG_HASH_ALL_TAG,a.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:qo.CKB_UNLOCK_EVENT_KIND,content:qo.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),u=Rs.fromBytes(r.witnesses[a.position]);return u.lock=Ut(s),r.setWitnessArgsAt(a.position,u),r}}qo.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all";qo.CKB_UNLOCK_EVENT_KIND=23334;qo.CKB_UNLOCK_EVENT_CONTENT=`Signing a CKB transaction

IMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message
`;function VP(e,t){let r,n,a,s="";for(r in e)if((a=e[r])!==void 0)if(Array.isArray(a))for(n=0;n<a.length;n++)s&&(s+="&"),s+=`${encodeURIComponent(r)}=${encodeURIComponent(a[n])}`;else s&&(s+="&"),s+=`${encodeURIComponent(r)}=${encodeURIComponent(a)}`;return""+s}function $P(e,t){function r(n){if(typeof n=="object"&&n!==null)try{return e(n)}catch{}else if(typeof n=="string"&&typeof t=="function")try{return t(n),e(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(s=>{const u=n[s];typeof u>"u"||u===void 0?delete n[s]:n[s]=r(u)});const a=VP(n).toString();return a?`?${a}`:""}}var GP=$P(JSON.stringify,JSON.parse);function aC(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone}var ja=(e=>(e.Auth="Auth",e.SignMessage="SignMessage",e.SignEvm="SignEvm",e.SignPsbt="SignPsbt",e.BatchSignPsbt="BatchSignPsbt",e.SignCkbTx="SignCkbTx",e.SignCotaNFT="SignCotaNFT",e.SignCkbRawTx="SignCkbRawTx",e.SignNostrEvent="SignNostrEvent",e.EncryptNostrMessage="EncryptNostrMessage",e.EvmWeb2Login="EvmWeb2Login",e.DecryptNostrMessage="DecryptNostrMessage",e.AuthMiniApp="AuthMiniApp",e.SignMiniAppMessage="SignMiniAppMessage",e.SignMiniAppEvm="SignMiniAppEvm",e))(ja||{}),XP={joyidAppURL:"https://testnet.joyid.dev"},WP=()=>XP,N2=class sC extends Error{constructor(t,r){super(r),this.error=t,this.error_description=r,Object.setPrototypeOf(this,sC.prototype)}},ZP=class oC extends N2{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,oC.prototype)}},JP=class uC extends ZP{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,uC.prototype)}},cC=class fC extends N2{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,fC.prototype)}},tk=class extends N2{constructor(e){super("NotSupported","Popup window is blocked by browser. see: https://docs.joy.id/guide/best-practice#popup-window-blocked"),this.popup=e,Object.setPrototypeOf(this,cC.prototype)}},Os=(e,t,r)=>{const n=e.joyidAppURL??WP().joyidAppURL,a=new URL(`${n}`);a.pathname=r;let s=e.redirectURL;a.searchParams.set("type",t);const u=GP({...e,redirectURL:s});return a.searchParams.set("_data_",u),a.href},ek=(e="")=>{const n=window.screenX+(window.innerWidth-400)/2,a=window.screenY+(window.innerHeight-600)/2;return window.open(e,"joyid:authorize:popup",`left=${n},top=${a},width=400,height=600,resizable,scrollbars=yes,status=1`)},rk="joyid-block-dialog-style",U2="joyid-block-dialog-approve",P2="joyid-block-dialog-reject",nk=`
.joyid-block-dialog {
  position: fixed;
  top: 32px;
  left: 50%;
  width: 340px;
  margin-left: -170px;
  background: white;
  color: #333;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  height: 110px;
  z-index: 100002;
  box-sizing: border-box;
  border: 1px solid #ffffff;
  border-radius: 8px;
  padding: 16px 20px;
}
.joyid-block-dialog-bg {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  position: fixed;
  top: 0;
  left: 0;
  display: none;
  z-index: 100001;
  display: block;
}
.joyid-block-dialog-title {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 8px;
}
.joyid-block-dialog-tip {
  font-size: 12px;
  color: #777;
}
.joyid-block-dialog-btn {
  width: 90px;
  height: 35px;
  font-size: 12px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
}
.joyid-block-dialog-action {
  text-align: right;
}
#${U2} {
  border: 1px solid #333;
  color: #333;
  background: #D2FF00;
  margin-bottom: 8px;
}

#${P2} {
  background: transparent;
}
`,ik=`
<div class="joyid-block-dialog">
  <div class="joyid-block-dialog-content">
    <div class="joyid-block-dialog-title">
      Request Pop-up
    </div>
    <div class="joyid-block-dialog-tip">
      Click Approve to complete creating or using wallet
    </div>
  </div>
  <div class="joyid-block-dialog-action">
    <button class="joyid-block-dialog-btn" id="${U2}">Approve</button>
    <button class="joyid-block-dialog-btn" id="${P2}">Reject</button>
  </div>
</div>
`,ak=()=>{if(document.getElementById(rk)!=null)return;const t=document.createElement("style");t.appendChild(document.createTextNode(nk)),(document.head??document.getElementsByTagName("head")[0]).appendChild(t)},sk=async e=>{ak();const t=document.createElement("div");t.innerHTML=ik,document.body.appendChild(t);const r=document.createElement("div");r.className="joyid-block-dialog-bg",document.body.appendChild(r);const n=document.getElementById(U2),a=document.getElementById(P2),s=()=>{document.body.removeChild(t),document.body.removeChild(r)};return new Promise((u,c)=>{n==null||n.addEventListener("click",async()=>{try{const f=await e();s(),u(f)}catch(f){s(),c(f)}}),a==null||a.addEventListener("click",()=>{s(),c(new Error("User Rejected"))})})};async function Fa(e,t){return t.popup==null&&(t.popup=ek(""),t.popup==null)?sk(async()=>Fa(e,t)):(t.popup.location.href=e,new Promise((r,n)=>{aC()&&n(new tk(t.popup));let a,s;const u=setInterval(()=>{var c;(c=t.popup)!=null&&c.closed&&(clearInterval(u),clearTimeout(s),window.removeEventListener("message",a,!1),n(new cC(t.popup)))},1e3);s=setTimeout(()=>{clearInterval(u),n(new JP(t.popup)),window.removeEventListener("message",a,!1)},(t.timeoutInSeconds??3e3)*1e3),a=c=>{var d;const{joyidAppURL:f}=t,h=new URL(f);c.origin===h.origin&&(!c.data||((d=c.data)==null?void 0:d.type)!==t.type||(clearTimeout(s),clearInterval(u),window.removeEventListener("message",a,!1),t.popup.close(),c.data.error&&n(new Error(c.data.error)),r(c.data.data)))},window.addEventListener("message",a)}))}function fm(e,t){return e.uri===t.uri&&e.addressType.startsWith(t.addressType)}class z1{constructor(t="ccc-joy-id-signer"){this.storageKey=t}async readConnections(){return JSON.parse(window.localStorage.getItem(this.storageKey)??"[]")}async get(t){var r;return(r=(await this.readConnections()).find(([n])=>fm(t,n)))==null?void 0:r[1]}async set(t,r){const n=await this.readConnections();if(r){const a=n.find(([s])=>fm(s,t));a?a[1]=r:n.push([t,r]),window.localStorage.setItem(this.storageKey,JSON.stringify(n))}else window.localStorage.setItem(this.storageKey,JSON.stringify(n.filter(([a])=>!fm(a,t))))}}class lm extends FP{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,a=[{addressPrefix:"ckb",signerType:pa.BTC,network:"btc"},{addressPrefix:"ckt",signerType:pa.BTC,network:"btcTestnet"}],s="auto",u,c=new z1){super(t),this.name=r,this.icon=n,this.preferredNetworks=a,this.addressType=s,this._appUri=u,this.connectionsRepo=c,this.network="btcTestnet"}getConfig(){const{network:t}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network!==t&&(this.connection=void 0),this.network=t;const r={btc:"https://app.joy.id",btcTestnet:"https://testnet.joyid.dev"}[t];if(!r)throw new Error(`JoyID wallet doesn't support the requested chain ${this.network}`);return{redirectURL:location.href,joyidAppURL:this._appUri??r,requestNetwork:`btc-${this.addressType}`,name:this.name,logo:this.icon}}async disconnect(){await super.disconnect(),await this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"btc"},void 0)}async getBtcAccount(){const{address:t}=await this.assertConnection();return t}async getBtcPublicKey(){const{publicKey:t}=await this.assertConnection();return t}async connect(){const t=this.getConfig(),r=await Fa(Os(t,"popup","/auth"),{...t,type:ja.Auth}),{address:n,pubkey:a}=this.addressType==="auto"?r.btcAddressType==="p2wpkh"?r.nativeSegwit:r.taproot:this.addressType==="p2wpkh"?r.nativeSegwit:r.taproot;this.connection={address:n,publicKey:Ut(a),keyType:r.keyType},await Promise.all([this.connectionsRepo.set({uri:t.joyidAppURL,addressType:`btc-${r.btcAddressType}`},this.connection),this.connectionsRepo.set({uri:t.joyidAppURL,addressType:"btc-auto"},this.connection)])}async isConnected(){return this.connection?!0:(this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:`btc-${this.addressType}`}),this.connection!==void 0)}async signMessageRaw(t){const{address:r}=await this.assertConnection(),n=typeof t=="string"?t:Ut(t).slice(2),a=this.getConfig(),{signature:s}=await Fa(Os({...a,challenge:n,address:r,signMessageType:"ecdsa"},"popup","/sign-message"),{...a,type:ja.SignMessage});return s}}class ok extends Yo{get type(){return pa.CKB}get signType(){return Tn.JoyId}async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,a,s,u=new z1){super(t),this.name=r,this.icon=n,this._appUri=a,this._aggregatorUri=s,this.connectionsRepo=u}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),name:this.name,logo:this.icon}}getAggregatorUri(){return this._aggregatorUri??(this.client.addressPrefix==="ckb"?"https://cota.nervina.dev/mainnet-aggregator":"https://cota.nervina.dev/aggregator")}async connect(){const t=this.getConfig(),r=await Fa(Os(t,"popup","/auth"),{...t,type:ja.Auth});this.connection={address:r.address,publicKey:Ut(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getInternalAddress(){return(await this.assertConnection()).address}async getIdentity(){const t=await this.assertConnection();return JSON.stringify({keyType:t.keyType,publicKey:t.publicKey.slice(2)})}async getAddressObj(){return await Hi.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async prepareTransaction(t){const r=vr.from(t);await r.addCellDepsOfKnownScripts(this.client,$t.JoyId);const n=await r.findInputIndexByLock((await this.getAddressObj()).script,this.client);if(n===void 0)return r;const a=r.getWitnessArgsAt(n)??Rs.from({});return a.lock=Ut("00".repeat(1e3)),await this.prepareTransactionForSubKey(r,a),r.setWitnessArgsAt(n,a),r}async prepareTransactionForSubKey(t,r){var f;if(((f=this.connection)==null?void 0:f.keyType)!=="sub_key"||(r.outputType??"0x")!=="0x")return;const n=Uf(this.connection.publicKey).substring(0,42),a=(await this.getAddressObj()).script,s=new PL(this.getAggregatorUri()),{unlock_entry:u}=await s.generateSubkeyUnlockSmt({alg_index:1,pubkey_hash:n,lock_script:Ut(a.toBytes())});r.outputType=Ut(u);const c=[];for await(const h of this.client.findCellsByLock(a,await Je.fromKnownScript(this.client,$t.COTA,"0x")))c.push(za.from({depType:"code",outPoint:h.outPoint}));if(c.length===0)throw new Error("No COTA cells for sub key wallet");t.addCellDepsAtStart(c)}async signOnlyTransaction(t){const r=vr.from(t),{script:n}=await this.getAddressObj(),a=await Xu(r.inputs,async(c,f,h)=>{const{cellOutput:d}=await f.getCell(this.client);d.lock.eq(n)&&c.push(h)},[]);await r.prepareSighashAllWitness(n,0,this.client),r.inputs.forEach(c=>{c.cellOutput=void 0,c.outputData=void 0});const s=this.getConfig(),u=await Fa(Os({...s,tx:JSON.parse(r.stringify()),signerAddress:(await this.assertConnection()).address,witnessIndexes:a},"popup","/sign-ckb-raw-tx"),{...s,type:ja.SignCkbRawTx});return vr.from(u.tx)}async signMessageRaw(t){const{address:r}=await this.assertConnection(),n=typeof t=="string"?t:Ut(t).slice(2),a=this.getConfig(),s=await Fa(Os({...a,challenge:n,isData:typeof t!="string",address:r},"popup","/sign-message"),{...a,type:ja.SignMessage});return JSON.stringify({signature:s.signature,alg:s.alg,message:s.message})}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ckb"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ckb"})}}class uk extends YP{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,a,s=new z1){super(t),this.name=r,this.icon=n,this._appUri=a,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"ethereum",name:this.name,logo:this.icon}}async getEvmAccount(){return(await this.assertConnection()).address}async connect(){const t=this.getConfig(),r=await Fa(Os(t,"popup","/auth"),{...t,type:ja.Auth});this.connection={address:r.ethAddress,publicKey:Ut(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async signMessageRaw(t){const{address:r}=await this.assertConnection(),n=typeof t=="string"?t:Ut(t).slice(2),a=this.getConfig(),{signature:s}=await Fa(Os({...a,challenge:n,isData:typeof t!="string",address:r},"popup","/sign-message"),{...a,type:ja.SignMessage});return Ut(s)}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ethereum"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ethereum"})}}class ck extends qo{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,a,s=new z1){super(t),this.name=r,this.icon=n,this._appUri=a,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"nostr",name:this.name,logo:this.icon}}async connect(){const t=this.getConfig(),r=await Fa(Os(t,"popup","/auth"),{...t,type:ja.Auth});this.connection={address:"",publicKey:Ut(r.nostrPubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getNostrPublicKey(){return(await this.assertConnection()).publicKey}async signNostrEvent(t){const r=this.getConfig();return(await Fa(Os({...r,event:t},"popup","/sign-nostr-event"),{...r,type:ja.SignNostrEvent})).event}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"nostr"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"nostr"})}}function fk(e,t,r,n){return aC()||xR(window.navigator.userAgent)?[pa.CKB,pa.EVM,pa.BTC].map(a=>({name:a,signer:new QP(e,a,"JoyID can only be used with standard browsers")})):[{name:"CKB",signer:new ok(e,t,r)},{name:"BTC",signer:new lm(e,t,r,n)},{name:"Nostr",signer:new ck(e,t,r)},{name:"EVM",signer:new uk(e,t,r)},{name:"BTC (P2WPKH)",signer:new lm(e,t,r,n,"p2wpkh")},{name:"BTC (P2TR)",signer:new lm(e,t,r,n,"p2tr")}]}function lk(e){const t=i1.c(11),{rootConfig:r,signer:n,walletName:a}=e;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=["walletConfig"],t[0]=s):s=t[0];let u;t[1]!==r||t[2]!==n?(u={queryKey:s,queryFn:async()=>{await n.isConnected()||await n.connect();const[y,_,w]=await Promise.all([n.getRecommendedAddress(),n.getRecommendedAddressObj(),n.getAddressObjs()]);let S;return S=[_,...w].map(dk),S=[...new Map(S.map(hk)).values()],{...r,address:y,accountLocks:S,expander:L=>{const U=L.cellOutput.lock;for(const O of S)if(pn(U,O))return O},getTxSizeOverhead:async L=>{const U=vr.fromLumosSkeleton(L),O=U.toBytes().length;return(await n.prepareTransaction(U)).toBytes().length-O},sendSigned:async L=>n.sendTransaction(vr.fromLumosSkeleton(L))}}},t[1]=r,t[2]=n,t[3]=u):u=t[3];const{isPending:c,error:f,data:h}=cv(u);if(c){let y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=qt.jsx(_D,{}),t[4]=y):y=t[4];let _;return t[5]!==a?(_=qt.jsxs(qt.Fragment,{children:[y,qt.jsxs(i2,{children:["Waiting for ",a," authorization..."]})]}),t[5]=a,t[6]=_):_=t[6],_}if(f){setTimeout(function(){console.log(f),location.reload()},1e4);let y;return t[7]!==a?(y=qt.jsxs("p",{children:["Unable to connect to ",a," "]}),t[7]=a,t[8]=y):y=t[8],y}let d;return t[9]!==h?(d=qt.jsx(fM,{walletConfig:h}),t[9]=h,t[10]=d):d=t[10],d}function hk(e){return[`${e.args}-${e.hashType}-${e.codeHash}`,e]}function dk(e){return gn.from({...ki,...e.script})}const pk="/favicon.png",gk="iCKB DApp",yk=W7("testnet",void 0,!0,fS).then(e=>{const t={...e,queryClient:new Ox,cccClient:new YR};return ES(t),t}),bk=W7("mainnet","https://mainnet.ckbapp.dev/",!0,fS).then(e=>{const t={...e,queryClient:new Ox,cccClient:new KR};return ES(t),t});async function Fk(e){const[t,r]=e.split("_"),n=await(r==="mainnet"?bk:yk),a=fk(n.cccClient,gk,["https://ickb.org",pk].join("")).find(c=>c.name==="CKB").signer,s=document.getElementById("app"),u=dT.createRoot(s);s.textContent="",u.render(qt.jsx(Pr.StrictMode,{children:qt.jsx(HT,{client:n.queryClient,children:qt.jsx(lk,{rootConfig:n,signer:a,walletName:t})})}))}export{Fk as startApp};
